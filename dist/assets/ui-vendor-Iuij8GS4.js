var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),l=Math.pow,s=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,c=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(r)for(var n of r(t))i.call(t,n)&&s(e,n,t[n]);return e},u=(e,r)=>t(e,n(r)),d=function(e,t){this[0]=e,this[1]=t},f=e=>{var t,n=e[a("asyncIterator")],r=!1,o={};return null==n?(n=e[a("iterator")](),t=e=>o[e]=t=>n[e](t)):(n=n.call(e),t=e=>o[e]=t=>{if(r){if(r=!1,"throw"===e)throw t;return t}return r=!0,{done:!1,value:new d(new Promise(r=>{var o=n[e](t);o instanceof Object||(e=>{throw TypeError(e)})("Object expected"),r(o)}),1)}}),o[a("iterator")]=()=>o,t("next"),"throw"in n?t("throw"):o.throw=e=>{throw e},"return"in n&&t("return"),o};import{g as h,R as p,a as g,r as m,b as v,c as y,d as b,e as x}from"./react-vendor-C_X1RIjH.js";var w,C={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/w=C,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=r(e,n(o)))}return e}function n(n){if("string"==typeof n||"number"==typeof n)return n;if("object"!=typeof n)return"";if(Array.isArray(n))return t.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var o="";for(var i in n)e.call(n,i)&&n[i]&&(o=r(o,i));return o}function r(e,t){return t?e?e+" "+t:e+t:e}w.exports?(t.default=t,w.exports=t):window.classNames=t}();const S=h(C.exports);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(null,arguments)}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),$=Symbol.for("react.fragment");function I(e){return e&&"object"===O(e)&&(e.$$typeof===k||e.$$typeof===M)&&e.type===$}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return p.Children.forEach(e,function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(N(e)):I(e)&&e.props?n=n.concat(N(e.props.children,t)):n.push(e))}),n}var T={};function L(e,t){}function R(e,t){}function _(e,t,n){t||T[n]||(e(!1,n),T[n]=!0)}function A(e,t){_(L,e,t)}function P(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}function j(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(e){return e instanceof HTMLElement||e instanceof SVGElement}function H(e){return e&&"object"===O(e)&&z(e.nativeElement)?e.nativeElement:z(e)?e:null}function F(e){var t,n=H(e);return n||(e instanceof p.Component?null===(t=g.findDOMNode)||void 0===t?void 0:t.call(g,e):null)}A.preMessage=function(e){},A.resetWarned=function(){T={}},A.noteOnce=function(e,t){_(R,e,t)};var W,G={exports:{}},V={},q=Symbol.for("react.element"),X=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),Q=Symbol.for("react.context"),J=Symbol.for("react.server_context"),ee=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen");function ae(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case q:switch(e=e.type){case U:case K:case Y:case te:case ne:return e;default:switch(e=e&&e.$$typeof){case J:case Q:case ee:case oe:case re:case Z:return e;default:return t}}case X:return t}}}W=Symbol.for("react.module.reference"),V.ContextConsumer=Q,V.ContextProvider=Z,V.Element=q,V.ForwardRef=ee,V.Fragment=U,V.Lazy=oe,V.Memo=re,V.Portal=X,V.Profiler=K,V.StrictMode=Y,V.Suspense=te,V.SuspenseList=ne,V.isAsyncMode=function(){return!1},V.isConcurrentMode=function(){return!1},V.isContextConsumer=function(e){return ae(e)===Q},V.isContextProvider=function(e){return ae(e)===Z},V.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===q},V.isForwardRef=function(e){return ae(e)===ee},V.isFragment=function(e){return ae(e)===U},V.isLazy=function(e){return ae(e)===oe},V.isMemo=function(e){return ae(e)===re},V.isPortal=function(e){return ae(e)===X},V.isProfiler=function(e){return ae(e)===K},V.isStrictMode=function(e){return ae(e)===Y},V.isSuspense=function(e){return ae(e)===te},V.isSuspenseList=function(e){return ae(e)===ne},V.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===U||e===K||e===Y||e===te||e===ne||e===ie||"object"==typeof e&&null!==e&&(e.$$typeof===oe||e.$$typeof===re||e.$$typeof===Z||e.$$typeof===Q||e.$$typeof===ee||e.$$typeof===W||void 0!==e.getModuleId)},V.typeOf=ae,G.exports=V;var le=G.exports;function se(e,t,n){var r=m.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}var ce=Number(m.version.split(".")[0]),ue=function(e,t){"function"==typeof e?e(t):"object"===O(e)&&e&&"current"in e&&(e.current=t)},de=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach(function(t){ue(t,e)})}},fe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return se(function(){return de.apply(void 0,t)},t,function(e,t){return e.length!==t.length||e.every(function(e,n){return e!==t[n]})})},he=function(e){var t,n;if(!e)return!1;if(pe(e)&&ce>=19)return!0;var r=le.isMemo(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===le.ForwardRef)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===le.ForwardRef)};function pe(e){return m.isValidElement(e)&&!I(e)}var ge=function(e){if(e&&pe(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null},me=m.createContext(null);var ve=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),ye="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,be="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),xe="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(be):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)};var we=["top","right","bottom","left","width","height","size","weight"],Ce="undefined"!=typeof MutationObserver,Se=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&l()}function a(){xe(i)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){ye&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ce?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){ye&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;we.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Ee=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Oe=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||be},ke=Le(0,0,0,0);function Me(e){return parseFloat(e)||0}function $e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+Me(e["border-"+n+"-width"])},0)}function Ie(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return ke;var r=Oe(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=Me(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,l=Me(r.width),s=Me(r.height);if("border-box"===r.boxSizing&&(Math.round(l+i)!==t&&(l-=$e(r,"left","right")+i),Math.round(s+a)!==n&&(s-=$e(r,"top","bottom")+a)),!function(e){return e===Oe(e).document.documentElement}(e)){var c=Math.round(l+i)-t,u=Math.round(s+a)-n;1!==Math.abs(c)&&(l-=c),1!==Math.abs(u)&&(s-=u)}return Le(o.left,o.top,l,s)}var Ne="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Oe(e).SVGGraphicsElement}:function(e){return e instanceof Oe(e).SVGElement&&"function"==typeof e.getBBox};function Te(e){return ye?Ne(e)?function(e){var t=e.getBBox();return Le(0,0,t.width,t.height)}(e):Ie(e):ke}function Le(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Re=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Le(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Te(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),_e=function(){return function(e,t){var n,r,o,i,a,l,s,c=(r=(n=t).x,o=n.y,i=n.width,a=n.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(l.prototype),Ee(s,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),s);Ee(this,{target:e,contentRect:c})}}(),Ae=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new ve,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Oe(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Re(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Oe(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new _e(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Pe="undefined"!=typeof WeakMap?new WeakMap:new ve,je=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Se.getInstance(),r=new Ae(t,n,this);Pe.set(this,r)}}();["observe","unobserve","disconnect"].forEach(function(e){je.prototype[e]=function(){var t;return(t=Pe.get(this))[e].apply(t,arguments)}});var Be=void 0!==be.ResizeObserver?be.ResizeObserver:je,De=new Map;var ze=new Be(function(e){e.forEach(function(e){var t,n=e.target;null===(t=De.get(n))||void 0===t||t.forEach(function(e){return e(n)})})});function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function We(e,t,n){return t&&Fe(e.prototype,t),n&&Fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ge(e,t){return(Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ge(e,t)}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Xe=function(){return!!e})()}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ue(e)}function Ke(e){var t=Xe();return function(){var n,r=qe(e);if(t){var o=qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ye(this,n)}}var Ze=function(){Ve(t,m.Component);var e=Ke(t);function t(){return He(this,t),e.apply(this,arguments)}return We(t,[{key:"render",value:function(){return this.props.children}}]),t}();function Qe(e,t){var n=e.children,r=e.disabled,o=m.useRef(null),i=m.useRef(null),a=m.useContext(me),l="function"==typeof n,s=l?n(o):n,c=m.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!l&&m.isValidElement(s)&&he(s),d=u?ge(s):null,f=fe(d,o),h=function(){var e;return F(o.current)||(o.current&&"object"===O(o.current)?F(null===(e=o.current)||void 0===e?void 0:e.nativeElement):null)||F(i.current)};m.useImperativeHandle(t,function(){return h()});var p=m.useRef(e);p.current=e;var g=m.useCallback(function(e){var t=p.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),i=o.width,l=o.height,s=e.offsetWidth,u=e.offsetHeight,d=Math.floor(i),f=Math.floor(l);if(c.current.width!==d||c.current.height!==f||c.current.offsetWidth!==s||c.current.offsetHeight!==u){var h={width:d,height:f,offsetWidth:s,offsetHeight:u};c.current=h;var g=s===Math.round(i)?i:s,m=u===Math.round(l)?l:u,v=D(D({},h),{},{offsetWidth:g,offsetHeight:m});null==a||a(v,e,r),n&&Promise.resolve().then(function(){n(v,e)})}},[]);return m.useEffect(function(){var e,t,n=h();return n&&!r&&(e=n,t=g,De.has(e)||(De.set(e,new Set),ze.observe(e)),De.get(e).add(t)),function(){return function(e,t){De.has(e)&&(De.get(e).delete(t),De.get(e).size||(ze.unobserve(e),De.delete(e)))}(n,g)}},[o.current,r]),m.createElement(Ze,{ref:i},u?m.cloneElement(s,{ref:f}):s)}var Je=m.forwardRef(Qe);function et(e,t){var n=e.children;return("function"==typeof n?[n]:N(n)).map(function(n,r){var o=(null==n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return m.createElement(Je,E({},e,{key:o,ref:0===r?t:void 0}),n)})}var tt=m.forwardRef(et);function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function rt(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ot(e,t){if(e){if("string"==typeof e)return nt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(e,t):void 0}}function it(e){return function(e){if(Array.isArray(e))return nt(e)}(e)||rt(e)||ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}tt.Collection=function(e){var t=e.children,n=e.onBatchResize,r=m.useRef(0),o=m.useRef([]),i=m.useContext(me),a=m.useCallback(function(e,t,a){r.current+=1;var l=r.current;o.current.push({size:e,element:t,data:a}),Promise.resolve().then(function(){l===r.current&&(null==n||n(o.current),o.current=[])}),null==i||i(e,t,a)},[n,i]);return m.createElement(me.Provider,{value:a},t)};var at=function(e){return+setTimeout(e,16)},lt=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(at=function(e){return window.requestAnimationFrame(e)},lt=function(e){return window.cancelAnimationFrame(e)});var st=0,ct=new Map;function ut(e){ct.delete(e)}var dt=function(e){var t=st+=1;return function n(r){if(0===r)ut(t),e();else{var o=at(function(){n(r-1)});ct.set(t,o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};function ft(e){if(Array.isArray(e))return e}function ht(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pt(e,t){return ft(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||ot(e,t)||ht()}function gt(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}function mt(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}function vt(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}dt.cancel=function(e){var t=ct.get(e);return ut(e),lt(t)};var yt="data-rc-order",bt="data-rc-priority",xt=new Map;function wt(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function Ct(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function St(e){return Array.from((xt.get(e)||e).children).filter(function(e){return"STYLE"===e.tagName})}function Et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!mt())return null;var n=t.csp,r=t.prepend,o=t.priority,i=void 0===o?0:o,a=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),l="prependQueue"===a,s=document.createElement("style");s.setAttribute(yt,a),l&&i&&s.setAttribute(bt,"".concat(i)),null!=n&&n.nonce&&(s.nonce=null==n?void 0:n.nonce),s.innerHTML=e;var c=Ct(t),u=c.firstChild;if(r){if(l){var d=(t.styles||St(c)).filter(function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(yt)))return!1;var t=Number(e.getAttribute(bt)||0);return i>=t});if(d.length)return c.insertBefore(s,d[d.length-1].nextSibling),s}c.insertBefore(s,u)}else c.appendChild(s);return s}function Ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ct(t);return(t.styles||St(n)).find(function(n){return n.getAttribute(wt(t))===e})}function kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ot(e,t);n&&Ct(t).removeChild(n)}function Mt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ct(n),o=St(r),i=D(D({},n),{},{styles:o});!function(e,t){var n=xt.get(e);if(!n||!vt(document,n)){var r=Et("",t),o=r.parentNode;xt.set(e,o),e.removeChild(r)}}(r,i);var a=Ot(t,i);if(a){var l,s,c;if(null!==(l=i.csp)&&void 0!==l&&l.nonce&&a.nonce!==(null===(s=i.csp)||void 0===s?void 0:s.nonce))a.nonce=null===(c=i.csp)||void 0===c?void 0:c.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var u=Et(e,i);return u.setAttribute(wt(i),t),u}function $t(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function It(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=r.has(t);if(A(!a,"Warning: There may be circular references"),a)return!1;if(t===o)return!0;if(n&&i>1)return!1;r.add(t);var l=i+1;if(Array.isArray(t)){if(!Array.isArray(o)||t.length!==o.length)return!1;for(var s=0;s<t.length;s++)if(!e(t[s],o[s],l))return!1;return!0}if(t&&o&&"object"===O(t)&&"object"===O(o)){var c=Object.keys(t);return c.length===Object.keys(o).length&&c.every(function(n){return e(t[n],o[n],l)})}return!1}(e,t)}function Nt(e){return e.join("%")}var Tt=function(){function e(t){He(this,e),j(this,"instanceId",void 0),j(this,"cache",new Map),j(this,"extracted",new Set),this.instanceId=t}return We(e,[{key:"get",value:function(e){return this.opGet(Nt(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(Nt(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}(),Lt="data-token-hash",Rt="data-css-hash",_t="__cssinjs_instance__";var At=m.createContext({hashPriority:"low",cache:function(){var e=Math.random().toString(12).slice(2);if("undefined"!=typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(Rt,"]"))||[],n=document.head.firstChild;Array.from(t).forEach(function(t){t[_t]=t[_t]||e,t[_t]===e&&document.head.insertBefore(t,n)});var r={};Array.from(document.querySelectorAll("style[".concat(Rt,"]"))).forEach(function(t){var n,o=t.getAttribute(Rt);r[o]?t[_t]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):r[o]=!0})}return new Tt(e)}(),defaultCache:!0});var Pt=function(){function e(){He(this,e),j(this,"cache",void 0),j(this,"keys",void 0),j(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return We(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={map:this.cache};return e.forEach(function(e){var t;o?o=null===(t=o)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):o=void 0}),null!==(t=o)&&void 0!==t&&t.value&&r&&(o.value[1]=this.cacheCallTimes++),null===(n=o)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(e,t){var n=pt(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e},[this.keys[0],this.cacheCallTimes]),i=pt(o,1)[0];this.delete(i)}this.keys.push(t)}var a=this.cache;t.forEach(function(e,o){if(o===t.length-1)a.set(e,{value:[n,r.cacheCallTimes++]});else{var i=a.get(e);i?i.map||(i.map=new Map):a.set(e,{map:new Map}),a=a.get(e).map}})}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var o=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),o}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter(function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)}),this.deleteByPath(this.cache,e)}}]),e}();j(Pt,"MAX_CACHE_SIZE",20),j(Pt,"MAX_CACHE_OFFSET",5);var jt=0,Bt=function(){function e(t){He(this,e),j(this,"derivatives",void 0),j(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=jt,0===t.length&&t.length,jt+=1}return We(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce(function(t,n){return n(e,t)},void 0)}}]),e}(),Dt=new Pt;function zt(e){var t=Array.isArray(e)?e:[e];return Dt.has(t)||Dt.set(t,new Bt(t)),Dt.get(t)}var Ht=new WeakMap,Ft={};var Wt=new WeakMap;function Gt(e){var t=Wt.get(e)||"";return t||(Object.keys(e).forEach(function(n){var r=e[n];t+=n,r instanceof Bt?t+=r.id:r&&"object"===O(r)?t+=Gt(r):t+=r}),t=gt(t),Wt.set(e,t)),t}function Vt(e,t){return gt("".concat(t,"_").concat(Gt(e)))}var qt=mt();function Xt(e){return"number"==typeof e?"".concat(e,"px"):e}function Ut(e,t,n){if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var r=D(D({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},j(j({},Lt,t),Rt,n)),o=Object.keys(r).map(function(e){var t=r[e];return t?"".concat(e,'="').concat(t,'"'):null}).filter(function(e){return e}).join(" ");return"<style ".concat(o,">").concat(e,"</style>")}var Yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Kt=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!=n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map(function(e){var t=pt(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r,";")}).join(""),"}"):""},Zt=function(e,t,n){var r={},o={};return Object.entries(e).forEach(function(e){var t,i,a=pt(e,2),l=a[0],s=a[1];if(null!=n&&null!==(t=n.preserve)&&void 0!==t&&t[l])o[l]=s;else if(!("string"!=typeof s&&"number"!=typeof s||null!=n&&null!==(i=n.ignore)&&void 0!==i&&i[l])){var c,u=Yt(l,null==n?void 0:n.prefix);r[u]="number"!=typeof s||null!=n&&null!==(c=n.unitless)&&void 0!==c&&c[l]?String(s):"".concat(s,"px"),o[l]="var(".concat(u,")")}}),[o,Kt(r,t,{scope:null==n?void 0:n.scope})]},Qt=mt()?m.useLayoutEffect:m.useEffect,Jt=function(e,t){var n=m.useRef(!0);Qt(function(){return e(n.current)},t),Qt(function(){return n.current=!1,function(){n.current=!0}},[])},en=function(e,t){Jt(function(t){if(!t)return e()},t)},tn=D({},v).useInsertionEffect,nn=tn?function(e,t,n){return tn(function(){return e(),t()},n)}:function(e,t,n){m.useMemo(e,n),Jt(function(){return t(!0)},n)},rn=void 0!==D({},v).useInsertionEffect?function(e){var t=[],n=!1;return m.useEffect(function(){return n=!1,function(){n=!0,t.length&&t.forEach(function(e){return e()})}},e),function(e){n||t.push(e)}}:function(){return function(e){e()}};function on(e,t,n,r,o){var i=m.useContext(At).cache,a=Nt([e].concat(it(t))),l=rn([a]),s=function(e){i.opUpdate(a,function(t){var r=pt(t||[void 0,void 0],2),o=r[0],i=[void 0===o?0:o,r[1]||n()];return e?e(i):i})};m.useMemo(function(){s()},[a]);var c=i.opGet(a)[1];return nn(function(){null==o||o(c)},function(e){return s(function(t){var n=pt(t,2),r=n[0],i=n[1];return e&&0===r&&(null==o||o(c)),[r+1,i]}),function(){i.opUpdate(a,function(t){var n=pt(t||[],2),o=n[0],s=void 0===o?0:o,c=n[1];return 0===s-1?(l(function(){!e&&i.opGet(a)||null==r||r(c,!1)}),null):[s-1,c]})}},[a]),c}var an={},ln=new Map;function sn(e,t){ln.set(e,(ln.get(e)||0)-1);var n=new Set;ln.forEach(function(e,t){e<=0&&n.add(t)}),ln.size-n.size>0&&n.forEach(function(e){!function(e,t){"undefined"!=typeof document&&document.querySelectorAll("style[".concat(Lt,'="').concat(e,'"]')).forEach(function(e){var n;e[_t]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))})}(e,t),ln.delete(e)})}var cn="token";function un(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=m.useContext(At),o=r.cache.instanceId,i=r.container,a=n.salt,l=void 0===a?"":a,s=n.override,c=void 0===s?an:s,u=n.formatToken,d=n.getComputedToken,f=n.cssVar,h=function(e,t){for(var n=Ht,r=0;r<t.length;r+=1){var o=t[r];n.has(o)||n.set(o,new WeakMap),n=n.get(o)}return n.has(Ft)||n.set(Ft,e()),n.get(Ft)}(function(){return Object.assign.apply(Object,[{}].concat(it(t)))},t),p=Gt(h),g=Gt(c),v=f?Gt(f):"",y=on(cn,[l,e.id,p,g,v],function(){var t,n=d?d(h,c,e):function(e,t,n,r){var o=D(D({},n.getDerivativeToken(e)),t);return r&&(o=r(o)),o}(h,c,e,u),r=D({},n),o="";if(f){var i=pt(Zt(n,f.key,{prefix:f.prefix,ignore:f.ignore,unitless:f.unitless,preserve:f.preserve}),2);n=i[0],o=i[1]}var a=Vt(n,l);n._tokenKey=a,r._tokenKey=Vt(r,l);var s=null!==(t=null==f?void 0:f.key)&&void 0!==t?t:a;n._themeKey=s,function(e){ln.set(e,(ln.get(e)||0)+1)}(s);var p="".concat("css","-").concat(gt(a));return n._hashId=p,[n,p,r,o,(null==f?void 0:f.key)||""]},function(e){sn(e[0]._themeKey,o)},function(e){var t=pt(e,4),n=t[0],r=t[3];if(f&&r){var a=Mt(r,gt("css-variables-".concat(n._themeKey)),{mark:Rt,prepend:"queue",attachTo:i,priority:-999});a[_t]=o,a.setAttribute(Lt,n._themeKey)}});return y}var dn={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fn="comm",hn="rule",pn="decl",gn=Math.abs,mn=String.fromCharCode;function vn(e){return e.trim()}function yn(e,t,n){return e.replace(t,n)}function bn(e,t,n){return e.indexOf(t,n)}function xn(e,t){return 0|e.charCodeAt(t)}function wn(e,t,n){return e.slice(t,n)}function Cn(e){return e.length}function Sn(e,t){return t.push(e),e}var En=1,On=1,kn=0,Mn=0,$n=0,In="";function Nn(e,t,n,r,o,i,a,l){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:En,column:On,length:a,return:"",siblings:l}}function Tn(){return $n=Mn>0?xn(In,--Mn):0,On--,10===$n&&(On=1,En--),$n}function Ln(){return $n=Mn<kn?xn(In,Mn++):0,On++,10===$n&&(On=1,En++),$n}function Rn(){return xn(In,Mn)}function _n(){return Mn}function An(e,t){return wn(In,e,t)}function Pn(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function jn(e){return vn(An(Mn-1,zn(91===e?e+2:40===e?e+1:e)))}function Bn(e){for(;($n=Rn())&&$n<33;)Ln();return Pn(e)>2||Pn($n)>3?"":" "}function Dn(e,t){for(;--t&&Ln()&&!($n<48||$n>102||$n>57&&$n<65||$n>70&&$n<97););return An(e,_n()+(t<6&&32==Rn()&&32==Ln()))}function zn(e){for(;Ln();)switch($n){case e:return Mn;case 34:case 39:34!==e&&39!==e&&zn($n);break;case 40:41===e&&zn(e);break;case 92:Ln()}return Mn}function Hn(e,t){for(;Ln()&&e+$n!==57&&(e+$n!==84||47!==Rn()););return"/*"+An(t,Mn-1)+"*"+mn(47===e?e:Ln())}function Fn(e){for(;!Pn(Rn());)Ln();return An(e,Mn)}function Wn(e){return function(e){return In="",e}(Gn("",null,null,null,[""],e=function(e){return En=On=1,kn=Cn(In=e),Mn=0,[]}(e),0,[0],e))}function Gn(e,t,n,r,o,i,a,l,s){for(var c=0,u=0,d=a,f=0,h=0,p=0,g=1,m=1,v=1,y=0,b="",x=o,w=i,C=r,S=b;m;)switch(p=y,y=Ln()){case 40:if(108!=p&&58==xn(S,d-1)){-1!=bn(S+=yn(jn(y),"&","&\f"),"&\f",gn(c?l[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=jn(y);break;case 9:case 10:case 13:case 32:S+=Bn(p);break;case 92:S+=Dn(_n()-1,7);continue;case 47:switch(Rn()){case 42:case 47:Sn(qn(Hn(Ln(),_n()),t,n,s),s),5!=Pn(p||1)&&5!=Pn(Rn()||1)||!Cn(S)||" "===wn(S,-1,void 0)||(S+=" ");break;default:S+="/"}break;case 123*g:l[c++]=Cn(S)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+u:-1==v&&(S=yn(S,/\f/g,"")),h>0&&(Cn(S)-d||0===g&&47===p)&&Sn(h>32?Xn(S+";",r,n,d-1,s):Xn(yn(S," ","")+";",r,n,d-2,s),s);break;case 59:S+=";";default:if(Sn(C=Vn(S,t,n,c,u,o,l,b,x=[],w=[],d,i),i),123===y)if(0===u)Gn(S,t,C,C,x,i,d,l,w);else{switch(f){case 99:if(110===xn(S,3))break;case 108:if(97===xn(S,2))break;default:u=0;case 100:case 109:case 115:}u?Gn(e,C,C,r&&Sn(Vn(e,C,C,0,0,o,l,b,o,x=[],d,w),w),o,w,d,l,r?x:w):Gn(S,C,C,C,[""],w,0,l,w)}}c=u=h=0,g=v=1,b=S="",d=a;break;case 58:d=1+Cn(S),h=p;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==Tn())continue;switch(S+=mn(y),y*g){case 38:v=u>0?1:(S+="\f",-1);break;case 44:l[c++]=(Cn(S)-1)*v,v=1;break;case 64:45===Rn()&&(S+=jn(Ln())),f=Rn(),u=d=Cn(b=S+=Fn(_n())),y++;break;case 45:45===p&&2==Cn(S)&&(g=0)}}return i}function Vn(e,t,n,r,o,i,a,l,s,c,u,d){for(var f=o-1,h=0===o?i:[""],p=function(e){return e.length}(h),g=0,m=0,v=0;g<r;++g)for(var y=0,b=wn(e,f+1,f=gn(m=a[g])),x=e;y<p;++y)(x=vn(m>0?h[y]+" "+b:yn(b,/&\f/g,h[y])))&&(s[v++]=x);return Nn(e,t,n,0===o?hn:l,s,c,u,d)}function qn(e,t,n,r){return Nn(e,t,n,fn,mn($n),wn(e,2,-2),0,r)}function Xn(e,t,n,r,o){return Nn(e,t,n,pn,wn(e,0,r),wn(e,r+1,-1),r,o)}function Un(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Yn(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case pn:return e.return=e.return||e.value;case fn:return"";case"@keyframes":return e.return=e.value+"{"+Un(e.children,r)+"}";case hn:if(!Cn(e.value=e.props.join(",")))return""}return Cn(n=Un(e.children,r))?e.return=e.value+"{"+n+"}":""}var Kn,Zn="data-ant-cssinjs-cache-path",Qn="_FILE_STYLE__",Jn=!0;function er(e){return function(){if(!Kn&&(Kn={},mt())){var e=document.createElement("div");e.className=Zn,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach(function(e){var t=pt(e.split(":"),2),n=t[0],r=t[1];Kn[n]=r});var n,r=document.querySelector("style[".concat(Zn,"]"));r&&(Jn=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(e)}}(),!!Kn[e]}var tr="_multi_value_";function nr(e){return Un(Wn(e),Yn).replace(/\{%%%\:[^;];}/g,";")}function rr(e,t,n){if(!t)return e;var r=".".concat(t),o="low"===n?":where(".concat(r,")"):r;return e.split(",").map(function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",i=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(i).concat(o).concat(r.slice(i.length))].concat(it(n.slice(1))).join(" ")}).join(",")}var or=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},o=r.root,i=r.injectHash,a=r.parentSelectors,l=n.hashId,s=n.layer;n.path;var c=n.hashPriority,u=n.transformers,d=void 0===u?[]:u;n.linters;var f="",h={};function p(t){var r=t.getName(l);if(!h[r]){var o=pt(e(t.style,n,{root:!1,parentSelectors:a}),1)[0];h[r]="@keyframes ".concat(t.getName(l)).concat(o)}}var g=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach(function(t){Array.isArray(t)?e(t,n):t&&n.push(t)}),n}(Array.isArray(t)?t:[t]);return g.forEach(function(t){var r="string"!=typeof t||o?t:{};if("string"==typeof r)f+="".concat(r,"\n");else if(r._keyframe)p(r);else{var s=d.reduce(function(e,t){var n;return(null==t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e},r);Object.keys(s).forEach(function(t){var r=s[t];if("object"!==O(r)||!r||"animationName"===t&&r._keyframe||function(e){return"object"===O(e)&&e&&("_skip_check_"in e||tr in e)}(r)){let e=function(e,t){var n=e.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())}),r=t;dn[e]||"number"!=typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!=t&&t._keyframe&&(p(t),r=t.getName(l)),f+="".concat(n,":").concat(r,";")};var u,d=null!==(u=null==r?void 0:r.value)&&void 0!==u?u:r;"object"===O(r)&&null!=r&&r[tr]&&Array.isArray(d)?d.forEach(function(n){e(t,n)}):e(t,d)}else{var g=!1,m=t.trim(),v=!1;(o||i)&&l?m.startsWith("@")?g=!0:m=rr("&"===m?"":t,l,c):!o||l||"&"!==m&&""!==m||(m="",v=!0);var y=pt(e(r,n,{root:v,injectHash:g,parentSelectors:[].concat(it(a),[m])}),2),b=y[0],x=y[1];h=D(D({},h),x),f+="".concat(m).concat(b)}})}}),o?s&&(f&&(f="@layer ".concat(s.name," {").concat(f,"}")),s.dependencies&&(h["@layer ".concat(s.name)]=s.dependencies.map(function(e){return"@layer ".concat(e,", ").concat(s.name,";")}).join("\n"))):f="{".concat(f,"}"),[f,h]};function ir(e,t){return gt("".concat(e.join("%")).concat(t))}function ar(){return null}var lr="style";function sr(e,t){var n=e.token,r=e.path,o=e.hashId,i=e.layer,a=e.nonce,l=e.clientOnly,s=e.order,c=void 0===s?0:s,u=m.useContext(At),d=u.autoClear;u.mock;var f=u.defaultCache,h=u.hashPriority,p=u.container,g=u.ssrInline,v=u.transformers,y=u.linters,b=u.cache,x=u.layer,w=n._tokenKey,C=[w];x&&C.push("layer"),C.push.apply(C,it(r));var S=qt,O=on(lr,C,function(){var e=C.join("|");if(er(e)){var n=function(e){var t=Kn[e],n=null;if(t&&mt())if(Jn)n=Qn;else{var r=document.querySelector("style[".concat(Rt,'="').concat(Kn[e],'"]'));r?n=r.innerHTML:delete Kn[e]}return[n,t]}(e),a=pt(n,2),s=a[0],u=a[1];if(s)return[s,w,u,{},l,c]}var d=t(),f=pt(or(d,{hashId:o,hashPriority:h,layer:x?i:void 0,path:r.join("-"),transformers:v,linters:y}),2),p=f[0],g=f[1],m=nr(p),b=ir(C,m);return[m,w,b,g,l,c]},function(e,t){var n=pt(e,3)[2];(t||d)&&qt&&kt(n,{mark:Rt,attachTo:p})},function(e){var t=pt(e,4),n=t[0];t[1];var r=t[2],o=t[3];if(S&&n!==Qn){var i={mark:Rt,prepend:!x&&"queue",attachTo:p,priority:c},l="function"==typeof a?a():a;l&&(i.csp={nonce:l});var s=[],u=[];Object.keys(o).forEach(function(e){e.startsWith("@layer")?s.push(e):u.push(e)}),s.forEach(function(e){Mt(nr(o[e]),"_layer-".concat(e),D(D({},i),{},{prepend:!0}))});var d=Mt(n,r,i);d[_t]=b.instanceId,d.setAttribute(Lt,w),u.forEach(function(e){Mt(nr(o[e]),"_effect-".concat(e),i)})}}),k=pt(O,3),M=k[0],$=k[1],I=k[2];return function(e){var t;return t=g&&!S&&f?m.createElement("style",E({},j(j({},Lt,$),Rt,I),{dangerouslySetInnerHTML:{__html:M}})):m.createElement(ar,null),m.createElement(m.Fragment,null,t,e)}}var cr="cssVar";j(j(j({},lr,function(e,t,n){var r=pt(e,6),o=r[0],i=r[1],a=r[2],l=r[3],s=r[4],c=r[5],u=(n||{}).plain;if(s)return null;var d=o,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)};return d=Ut(o,i,a,f,u),l&&Object.keys(l).forEach(function(e){if(!t[e]){t[e]=!0;var n=Ut(nr(l[e]),i,"_effect-".concat(e),f,u);e.startsWith("@layer")?d=n+d:d+=n}}),[c,a,d]}),cn,function(e,t,n){var r=pt(e,5),o=r[2],i=r[3],a=r[4],l=(n||{}).plain;if(!i)return null;var s=o._tokenKey;return[-999,s,Ut(i,a,s,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},l)]}),cr,function(e,t,n){var r=pt(e,4),o=r[1],i=r[2],a=r[3],l=(n||{}).plain;if(!o)return null;return[-999,i,Ut(o,a,i,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},l)]});var ur=function(){function e(t,n){He(this,e),j(this,"name",void 0),j(this,"style",void 0),j(this,"_keyframe",!0),this.name=t,this.style=n}return We(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();function dr(e){return e.notSplit=!0,e}dr(["borderTop","borderBottom"]),dr(["borderTop"]),dr(["borderBottom"]),dr(["borderLeft","borderRight"]),dr(["borderLeft"]),dr(["borderRight"]);var fr=m.createContext({});function hr(e){return ft(e)||rt(e)||ot(e)||ht()}function pr(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null==n)return;n=n[t[r]]}return n}function gr(e,t,n,r){if(!t.length)return n;var o,i=hr(t),a=i[0],l=i.slice(1);return o=e||"number"!=typeof a?Array.isArray(e)?it(e):D({},e):[],r&&void 0===n&&1===l.length?delete o[a][l[0]]:o[a]=gr(o[a],l,n,r),o}function mr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!pr(e,t.slice(0,-1))?e:gr(e,t,n,r)}function vr(e){return Array.isArray(e)?[]:{}}var yr="undefined"==typeof Reflect?Object.keys:Reflect.ownKeys;function br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=vr(t[0]);return t.forEach(function(e){!function t(n,o){var i,a=new Set(o),l=pr(e,n),s=Array.isArray(l);if(s||"object"===O(i=l)&&null!==i&&Object.getPrototypeOf(i)===Object.prototype){if(!a.has(l)){a.add(l);var c=pr(r,n);s?r=mr(r,n,[]):c&&"object"===O(c)||(r=mr(r,n,vr(l))),yr(l).forEach(function(e){t([].concat(it(n),[e]),a)})}}else r=mr(r,n,l)}([])}),r}function xr(){}const wr=m.createContext({}),Cr=()=>{const e=()=>{};return e.deprecated=xr,e},Sr=m.createContext(void 0);var Er={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Or=D(D({},{yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const kr={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Mr={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Or),timePickerLocale:Object.assign({},kr)},$r="${label} is not a valid ${type}",Ir={locale:"en",Pagination:Er,DatePicker:Mr,TimePicker:kr,Calendar:Mr,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:$r,method:$r,array:$r,object:$r,number:$r,date:$r,boolean:$r,integer:$r,float:$r,regexp:$r,email:$r,url:$r,hex:$r},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let Nr=Object.assign({},Ir.Modal),Tr=[];const Lr=()=>Tr.reduce((e,t)=>Object.assign(Object.assign({},e),t),Ir.Modal);function Rr(){return Nr}const _r=m.createContext(void 0),Ar=(e,t)=>{const n=m.useContext(_r);return[m.useMemo(()=>{var r;const o=t||Ir[e],i=null!==(r=null==n?void 0:n[e])&&void 0!==r?r:{};return Object.assign(Object.assign({},"function"==typeof o?o():o),i||{})},[e,t,n]),m.useMemo(()=>{const e=null==n?void 0:n.locale;return(null==n?void 0:n.exist)&&!e?Ir.locale:e},[n])]},Pr=e=>{const{locale:t={},children:n,_ANT_MARK__:r}=e;m.useEffect(()=>{const e=function(e){if(e){const t=Object.assign({},e);return Tr.push(t),Nr=Lr(),()=>{Tr=Tr.filter(e=>e!==t),Nr=Lr()}}Nr=Object.assign({},Ir.Modal)}(null==t?void 0:t.Modal);return e},[t]);const o=m.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return m.createElement(_r.Provider,{value:o},n)},jr={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Br=Object.assign(Object.assign({},jr),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Dr=Math.round;function zr(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(e=>parseFloat(e));for(let o=0;o<3;o+=1)r[o]=t(r[o]||0,n[o]||"",o);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Hr=(e,t,n)=>0===n?e:e/100;function Fr(e,t){const n=t||255;return e>n?n:e<0?0:e}class Wr{constructor(e){function t(t){return t[0]in e&&t[1]in e&&t[2]in e}if(j(this,"isValid",!0),j(this,"r",0),j(this,"g",0),j(this,"b",0),j(this,"a",1),j(this,"_h",void 0),j(this,"_s",void 0),j(this,"_l",void 0),j(this,"_v",void 0),j(this,"_max",void 0),j(this,"_min",void 0),j(this,"_brightness",void 0),e)if("string"==typeof e){let t=function(e){return n.startsWith(e)};const n=e.trim();/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):t("rgb")?this.fromRgbString(n):t("hsl")?this.fromHslString(n):(t("hsv")||t("hsb"))&&this.fromHsvString(n)}else if(e instanceof Wr)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Fr(e.r),this.g=Fr(e.g),this.b=Fr(e.b),this.a="number"==typeof e.a?Fr(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else{if(!t("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e));this.fromHsv(e)}else;}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if(void 0===this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:Dr(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(void 0===this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return void 0===this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return void 0===this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return void 0===this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(e=10){const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()-e/100;return r<0&&(r=0),this._c({h:t,s:n,l:r,a:this.a})}lighten(e=10){const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()+e/100;return r>1&&(r=1),this._c({h:t,s:n,l:r,a:this.a})}mix(e,t=50){const n=this._c(e),r=t/100,o=e=>(n[e]-this[e])*r+this[e],i={r:Dr(o("r")),g:Dr(o("g")),b:Dr(o("b")),a:Dr(100*o("a"))/100};return this._c(i)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),n=this.a+t.a*(1-this.a),r=e=>Dr((this[e]*this.a+t[e]*t.a*(1-this.a))/n);return this._c({r:r("r"),g:r("g"),b:r("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const n=(this.g||0).toString(16);e+=2===n.length?n:"0"+n;const r=(this.b||0).toString(16);if(e+=2===r.length?r:"0"+r,"number"==typeof this.a&&this.a>=0&&this.a<1){const t=Dr(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Dr(100*this.getSaturation()),n=Dr(100*this.getLightness());return 1!==this.a?`hsla(${e},${t}%,${n}%,${this.a})`:`hsl(${e},${t}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,n){const r=this.clone();return r[e]=Fr(t,n),r}_c(e){return new this.constructor(e)}getMax(){return void 0===this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return void 0===this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function n(e,n){return parseInt(t[e]+t[n||e],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}fromHsl({h:e,s:t,l:n,a:r}){if(this._h=e%360,this._s=t,this._l=n,this.a="number"==typeof r?r:1,t<=0){const e=Dr(255*n);this.r=e,this.g=e,this.b=e}let o=0,i=0,a=0;const l=e/60,s=(1-Math.abs(2*n-1))*t,c=s*(1-Math.abs(l%2-1));l>=0&&l<1?(o=s,i=c):l>=1&&l<2?(o=c,i=s):l>=2&&l<3?(i=s,a=c):l>=3&&l<4?(i=c,a=s):l>=4&&l<5?(o=c,a=s):l>=5&&l<6&&(o=s,a=c);const u=n-s/2;this.r=Dr(255*(o+u)),this.g=Dr(255*(i+u)),this.b=Dr(255*(a+u))}fromHsv({h:e,s:t,v:n,a:r}){this._h=e%360,this._s=t,this._v=n,this.a="number"==typeof r?r:1;const o=Dr(255*n);if(this.r=o,this.g=o,this.b=o,t<=0)return;const i=e/60,a=Math.floor(i),l=i-a,s=Dr(n*(1-t)*255),c=Dr(n*(1-t*l)*255),u=Dr(n*(1-t*(1-l))*255);switch(a){case 0:this.g=u,this.b=s;break;case 1:this.r=c,this.b=s;break;case 2:this.r=s,this.b=u;break;case 3:this.r=s,this.g=c;break;case 4:this.r=u,this.g=s;break;default:this.g=s,this.b=c}}fromHsvString(e){const t=zr(e,Hr);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=zr(e,Hr);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=zr(e,(e,t)=>t.includes("%")?Dr(e/100*255):e);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var Gr=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Vr(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function qr(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(100*r)/100);var r}function Xr(e,t,n){var r;return r=n?e.v+.05*t:e.v-.15*t,r=Math.max(0,Math.min(1,r)),Math.round(100*r)/100}function Ur(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=new Wr(e),o=r.toHsv(),i=5;i>0;i-=1){var a=new Wr({h:Vr(o,i,!0),s:qr(o,i,!0),v:Xr(o,i,!0)});n.push(a)}n.push(r);for(var l=1;l<=4;l+=1){var s=new Wr({h:Vr(o,l),s:qr(o,l),v:Xr(o,l)});n.push(s)}return"dark"===t.theme?Gr.map(function(e){var r=e.index,o=e.amount;return new Wr(t.backgroundColor||"#141414").mix(n[r],o).toHexString()}):n.map(function(e){return e.toHexString()})}var Yr={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Kr=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Kr.primary=Kr[5];var Zr=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Zr.primary=Zr[5];var Qr=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Qr.primary=Qr[5];var Jr=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Jr.primary=Jr[5];var eo=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];eo.primary=eo[5];var to=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];to.primary=to[5];var no=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];no.primary=no[5];var ro=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];ro.primary=ro[5];var oo=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];oo.primary=oo[5];var io=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];io.primary=io[5];var ao=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];ao.primary=ao[5];var lo=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];lo.primary=lo[5];var so=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];so.primary=so[5];var co={red:Kr,volcano:Zr,orange:Qr,gold:Jr,yellow:eo,lime:to,green:no,cyan:ro,blue:oo,geekblue:io,purple:ao,magenta:lo,grey:so};function uo(e){return(e+8)/e}const fo=e=>{const t=function(e){const t=Array.from({length:10}).map((t,n)=>{const r=n-1,o=e*Math.pow(Math.E,r/5),i=n>1?Math.floor(o):Math.ceil(o);return 2*Math.floor(i/2)});return t[1]=e,t.map(e=>({size:e,lineHeight:uo(e)}))}(e),n=t.map(e=>e.size),r=t.map(e=>e.lineHeight),o=n[1],i=n[0],a=n[2],l=r[1],s=r[0],c=r[2];return{fontSizeSM:i,fontSize:o,fontSizeLG:a,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:l,lineHeightLG:c,lineHeightSM:s,fontHeight:Math.round(l*o),fontHeightLG:Math.round(c*a),fontHeightSM:Math.round(s*i),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};const ho=(e,t)=>new Wr(e).setA(t).toRgbString(),po=(e,t)=>new Wr(e).darken(t).toHexString(),go=e=>{const t=Ur(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},mo=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:ho(r,.88),colorTextSecondary:ho(r,.65),colorTextTertiary:ho(r,.45),colorTextQuaternary:ho(r,.25),colorFill:ho(r,.15),colorFillSecondary:ho(r,.06),colorFillTertiary:ho(r,.04),colorFillQuaternary:ho(r,.02),colorBgSolid:ho(r,1),colorBgSolidHover:ho(r,.75),colorBgSolidActive:ho(r,.95),colorBgLayout:po(n,4),colorBgContainer:po(n,0),colorBgElevated:po(n,0),colorBgSpotlight:ho(r,.85),colorBgBlur:"transparent",colorBorder:po(n,15),colorBorderSecondary:po(n,6)}};const vo=zt(function(e){Yr.pink=Yr.magenta,co.pink=co.magenta;const t=Object.keys(jr).map(t=>{const n=e[t]===Yr[t]?co[t]:Ur(e[t]);return Array.from({length:10},()=>1).reduce((e,r,o)=>(e[`${t}-${o+1}`]=n[o],e[`${t}${o+1}`]=n[o],e),{})}).reduce((e,t)=>e=Object.assign(Object.assign({},e),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,{generateColorPalettes:t,generateNeutralColorPalettes:n}){const{colorSuccess:r,colorWarning:o,colorError:i,colorInfo:a,colorPrimary:l,colorBgBase:s,colorTextBase:c}=e,u=t(l),d=t(r),f=t(o),h=t(i),p=t(a),g=n(s,c),m=t(e.colorLink||e.colorInfo),v=new Wr(h[1]).mix(new Wr(h[3]),50).toHexString();return Object.assign(Object.assign({},g),{colorPrimaryBg:u[1],colorPrimaryBgHover:u[2],colorPrimaryBorder:u[3],colorPrimaryBorderHover:u[4],colorPrimaryHover:u[5],colorPrimary:u[6],colorPrimaryActive:u[7],colorPrimaryTextHover:u[8],colorPrimaryText:u[9],colorPrimaryTextActive:u[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:h[1],colorErrorBgHover:h[2],colorErrorBgFilledHover:v,colorErrorBgActive:h[3],colorErrorBorder:h[3],colorErrorBorderHover:h[4],colorErrorHover:h[5],colorError:h[6],colorErrorActive:h[7],colorErrorTextHover:h[8],colorErrorText:h[9],colorErrorTextActive:h[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:p[1],colorInfoBgHover:p[2],colorInfoBorder:p[3],colorInfoBorderHover:p[4],colorInfoHover:p[4],colorInfo:p[6],colorInfoActive:p[7],colorInfoTextHover:p[8],colorInfoText:p[9],colorInfoTextActive:p[10],colorLinkHover:m[4],colorLink:m[6],colorLinkActive:m[7],colorBgMask:new Wr("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:go,generateNeutralColorPalettes:mo})),fo(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),(e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}})(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:o}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+2*t).toFixed(1)}s`,motionDurationSlow:`${(n+3*t).toFixed(1)}s`,lineWidthBold:o+1},(e=>{let t=e,n=e,r=e,o=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?o=4:e>=8&&(o=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:o}})(r))}(e))}),yo={token:Br,override:{override:Br},hashed:!0},bo=p.createContext(yo),xo="ant",wo="anticon",Co=["outlined","borderless","filled","underlined"],So=m.createContext({getPrefixCls:(e,t)=>t||(e?`${xo}-${e}`:xo),iconPrefixCls:wo}),{Consumer:Eo}=So,Oo={};function ko(e){const t=m.useContext(So),{getPrefixCls:n,direction:r,getPopupContainer:o}=t,i=t[e];return Object.assign(Object.assign({classNames:Oo,styles:Oo},i),{getPrefixCls:n,direction:r,getPopupContainer:o})}const Mo=`-ant-${Date.now()}-${Math.random()}`;function $o(e,t){const n=function(e,t){const n={},r=(e,t)=>{let n=e.clone();return n=(null==t?void 0:t(n))||n,n.toRgbString()},o=(e,t)=>{const o=new Wr(e),i=Ur(o.toRgbString());n[`${t}-color`]=r(o),n[`${t}-color-disabled`]=i[1],n[`${t}-color-hover`]=i[4],n[`${t}-color-active`]=i[6],n[`${t}-color-outline`]=o.clone().setA(.2).toRgbString(),n[`${t}-color-deprecated-bg`]=i[0],n[`${t}-color-deprecated-border`]=i[2]};if(t.primaryColor){o(t.primaryColor,"primary");const e=new Wr(t.primaryColor),i=Ur(e.toRgbString());i.forEach((e,t)=>{n[`primary-${t+1}`]=e}),n["primary-color-deprecated-l-35"]=r(e,e=>e.lighten(35)),n["primary-color-deprecated-l-20"]=r(e,e=>e.lighten(20)),n["primary-color-deprecated-t-20"]=r(e,e=>e.tint(20)),n["primary-color-deprecated-t-50"]=r(e,e=>e.tint(50)),n["primary-color-deprecated-f-12"]=r(e,e=>e.setA(.12*e.a));const a=new Wr(i[0]);n["primary-color-active-deprecated-f-30"]=r(a,e=>e.setA(.3*e.a)),n["primary-color-active-deprecated-d-02"]=r(a,e=>e.darken(2))}return t.successColor&&o(t.successColor,"success"),t.warningColor&&o(t.warningColor,"warning"),t.errorColor&&o(t.errorColor,"error"),t.infoColor&&o(t.infoColor,"info"),`\n  :root {\n    ${Object.keys(n).map(t=>`--${e}-${t}: ${n[t]};`).join("\n")}\n  }\n  `.trim()}(e,t);mt()&&Mt(n,`${Mo}-dynamic-theme`)}const Io=m.createContext(!1),No=({children:e,disabled:t})=>{const n=m.useContext(Io);return m.createElement(Io.Provider,{value:null!=t?t:n},e)},To=m.createContext(void 0),Lo=({children:e,size:t})=>{const n=m.useContext(To);return m.createElement(To.Provider,{value:t||n},e)};var Ro=We(function e(){He(this,e)}),_o="CALC_UNIT",Ao=new RegExp(_o,"g");function Po(e){return"number"==typeof e?"".concat(e).concat(_o):e}var jo=function(){Ve(t,Ro);var e=Ke(t);function t(n,r){var o;He(this,t),j(Ue(o=e.call(this)),"result",""),j(Ue(o),"unitlessCssVar",void 0),j(Ue(o),"lowPriority",void 0);var i=O(n);return o.unitlessCssVar=r,n instanceof t?o.result="(".concat(n.result,")"):"number"===i?o.result=Po(n):"string"===i&&(o.result=n),o}return We(t,[{key:"add",value:function(e){return e instanceof t?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," + ").concat(Po(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof t?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," - ").concat(Po(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){var t=this,n=(e||{}).unit,r=!0;return"boolean"==typeof n?r=n:Array.from(this.unitlessCssVar).some(function(e){return t.result.includes(e)})&&(r=!1),this.result=this.result.replace(Ao,r?"px":""),void 0!==this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),t}(),Bo=function(){Ve(t,Ro);var e=Ke(t);function t(n){var r;return He(this,t),j(Ue(r=e.call(this)),"result",0),n instanceof t?r.result=n.result:"number"==typeof n&&(r.result=n),r}return We(t,[{key:"add",value:function(e){return e instanceof t?this.result+=e.result:"number"==typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof t?this.result-=e.result:"number"==typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof t?this.result*=e.result:"number"==typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof t?this.result/=e.result:"number"==typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),t}(),Do=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function zo(e){var t=m.useRef();t.current=e;var n=m.useCallback(function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))},[]);return n}function Ho(e){var t=m.useRef(!1),n=pt(m.useState(e),2),r=n[0],o=n[1];return m.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]),[r,function(e,n){n&&t.current||o(e)}]}function Fo(e){return void 0!==e}function Wo(e,t){var n=t||{},r=n.defaultValue,o=n.value,i=n.onChange,a=n.postState,l=pt(Ho(function(){return Fo(o)?o:Fo(r)?"function"==typeof r?r():r:"function"==typeof e?e():e}),2),s=l[0],c=l[1],u=void 0!==o?o:s,d=a?a(u):u,f=zo(i),h=pt(Ho([u]),2),p=h[0],g=h[1];return en(function(){var e=p[0];s!==e&&f(s,e)},[p]),en(function(){Fo(o)||c(o)},[o]),[d,zo(function(e,t){c(e,t),g([u],t)})]}function Go(e,t,n,r){var o=D({},t[e]);null!=r&&r.deprecatedTokens&&r.deprecatedTokens.forEach(function(e){var t,n=pt(e,2),r=n[0],i=n[1];(null!=o&&o[r]||null!=o&&o[i])&&(null!==(t=o[i])&&void 0!==t||(o[i]=null==o?void 0:o[r]))});var i=D(D({},n),o);return Object.keys(i).forEach(function(e){i[e]===t[e]&&delete i[e]}),i}var Vo="undefined"!=typeof CSSINJS_STATISTIC,qo=!0;function Xo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Vo)return Object.assign.apply(Object,[{}].concat(t));qo=!1;var r={};return t.forEach(function(e){"object"===O(e)&&Object.keys(e).forEach(function(t){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})})}),qo=!0,r}var Uo={};function Yo(){}function Ko(e,t,n){var r;return"function"==typeof n?n(Xo(t,null!==(r=t[e])&&void 0!==r?r:{})):null!=n?n:{}}var Zo=new(function(){function e(){He(this,e),j(this,"map",new Map),j(this,"objectIDMap",new WeakMap),j(this,"nextID",0),j(this,"lastAccessBeat",new Map),j(this,"accessBeat",0)}return We(e,[{key:"set",value:function(e,t){this.clear();var n=this.getCompositeKey(e);this.map.set(n,t),this.lastAccessBeat.set(n,Date.now())}},{key:"get",value:function(e){var t=this.getCompositeKey(e),n=this.map.get(t);return this.lastAccessBeat.set(t,Date.now()),this.accessBeat+=1,n}},{key:"getCompositeKey",value:function(e){var t=this;return e.map(function(e){return e&&"object"===O(e)?"obj_".concat(t.getObjectID(e)):"".concat(O(e),"_").concat(e)}).join("|")}},{key:"getObjectID",value:function(e){if(this.objectIDMap.has(e))return this.objectIDMap.get(e);var t=this.nextID;return this.objectIDMap.set(e,t),this.nextID+=1,t}},{key:"clear",value:function(){var e=this;if(this.accessBeat>1e4){var t=Date.now();this.lastAccessBeat.forEach(function(n,r){t-n>6e5&&(e.map.delete(r),e.lastAccessBeat.delete(r))}),this.accessBeat=0}}}]),e}());var Qo=function(){return{}};const Jo=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function ei(e){return e>=0&&e<=255}function ti(e,t){const{r:n,g:r,b:o,a:i}=new Wr(e).toRgb();if(i<1)return e;const{r:a,g:l,b:s}=new Wr(t).toRgb();for(let c=.01;c<=1;c+=.01){const e=Math.round((n-a*(1-c))/c),t=Math.round((r-l*(1-c))/c),i=Math.round((o-s*(1-c))/c);if(ei(e)&&ei(t)&&ei(i))return new Wr({r:e,g:t,b:i,a:Math.round(100*c)/100}).toRgbString()}return new Wr({r:n,g:r,b:o,a:1}).toRgbString()}function ni(e){const{override:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["override"]),r=Object.assign({},t);Object.keys(Br).forEach(e=>{delete r[e]});const o=Object.assign(Object.assign({},n),r),i=1200,a=1600;if(!1===o.motion){const e="0s";o.motionDurationFast=e,o.motionDurationMid=e,o.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:ti(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:ti(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:ti(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:3*o.lineWidth,lineWidth:o.lineWidth,controlOutlineWidth:2*o.lineWidth,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:ti(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:i,screenXLMin:i,screenXLMax:1599,screenXXL:a,screenXXLMin:a,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new Wr("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new Wr("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new Wr("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var ri=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const oi={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},ii={motionBase:!0,motionUnit:!0},ai={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},li=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:o}=t,i=ri(t,["override"]);let a=Object.assign(Object.assign({},r),{override:o});return a=ni(a),i&&Object.entries(i).forEach(([e,t])=>{const{theme:n}=t,r=ri(t,["theme"]);let o=r;n&&(o=li(Object.assign(Object.assign({},a),r),{override:r},n)),a[e]=o}),a};function si(){const{token:e,hashed:t,theme:n,override:r,cssVar:o}=p.useContext(bo),i=`5.27.6-${t||""}`,a=n||vo,[l,s,c]=un(a,[Br,e],{salt:i,override:r,getComputedToken:li,formatToken:ni,cssVar:o&&{prefix:o.prefix,key:o.key,unitless:oi,ignore:ii,preserve:ai}});return[a,c,t?s:"",l,o]}const ci={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ui=(e,t=!1)=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}),di=(e,t)=>({outline:`${Xt(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:null!=t?t:1,transition:"outline-offset 0s, outline 0s"}),fi=(e,t)=>({"&:focus-visible":di(e,t)}),hi=e=>({[`.${e}`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[`.${e} .${e}-icon`]:{display:"block"}})}),pi=e=>Object.assign(Object.assign({color:e.colorLink,textDecoration:e.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},fi(e)),{"&:hover":{color:e.colorLinkHover,textDecoration:e.linkHoverDecoration},"&:focus":{color:e.colorLinkHover,textDecoration:e.linkFocusDecoration},"&:active":{color:e.colorLinkActive,textDecoration:e.linkHoverDecoration}}),{genStyleHooks:gi,genComponentStyleHook:mi,genSubStyleComponent:vi}=function(e){var t=e.useCSP,n=void 0===t?Qo:t,r=e.useToken,o=e.usePrefix,i=e.getResetStyles,a=e.getCommonStyle,l=e.getCompUnitless;function s(t,l,s){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Array.isArray(t)?t:[t,t],d=pt(u,1)[0],f=u.join("-"),h=e.layer||{name:"antd"};return function(e){var t,u,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,m=r(),v=m.theme,y=m.realToken,b=m.hashId,x=m.token,w=m.cssVar,C=o(),S=C.rootPrefixCls,E=C.iconPrefixCls,k=n(),M=w?"css":"js",$=(t=function(){var e=new Set;return w&&Object.keys(c.unitless||{}).forEach(function(t){e.add(Yt(t,w.prefix)),e.add(Yt(t,Do(d,w.prefix)))}),function(e,t){var n="css"===e?jo:Bo;return function(e){return new n(e,t)}}(M,e)},u=[M,d,null==w?void 0:w.prefix],p.useMemo(function(){var e=Zo.get(u);if(e)return e;var n=t();return Zo.set(u,n),n},u)),I=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map(function(e){return Xt(e)}).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map(function(e){return Xt(e)}).join(","),")")}}}(M),N=I.max,T=I.min,L={theme:v,token:x,hashId:b,nonce:function(){return k.nonce},clientOnly:c.clientOnly,layer:h,order:c.order||-999};"function"==typeof i&&sr(D(D({},L),{},{clientOnly:!1,path:["Shared",S]}),function(){return i(x,{prefix:{rootPrefixCls:S,iconPrefixCls:E},csp:k})});var R=sr(D(D({},L),{},{path:[f,e,E]}),function(){if(!1===c.injectStyle)return[];var t=function(e){var t,n=e,r=Yo;return Vo&&"undefined"!=typeof Proxy&&(t=new Set,n=new Proxy(e,{get:function(e,n){var r;return qo&&(null===(r=t)||void 0===r||r.add(n)),e[n]}}),r=function(e,n){var r;Uo[e]={global:Array.from(t),component:D(D({},null===(r=Uo[e])||void 0===r?void 0:r.component),n)}}),{token:n,keys:t,flush:r}}(x),n=t.token,r=t.flush,o=Ko(d,y,s),i=".".concat(e),u=Go(d,y,o,{deprecatedTokens:c.deprecatedTokens});w&&o&&"object"===O(o)&&Object.keys(o).forEach(function(e){o[e]="var(".concat(Yt(e,Do(d,w.prefix)),")")});var f=Xo(n,{componentCls:i,prefixCls:e,iconCls:".".concat(E),antCls:".".concat(S),calc:$,max:N,min:T},w?o:u),h=l(f,{hashId:b,prefixCls:e,rootPrefixCls:S,iconPrefixCls:E});r(d,u);var p="function"==typeof a?a(f,e,g,c.resetFont):null;return[!1===c.resetStyle?null:p,h]});return[R,b]}}return{genStyleHooks:function(e,t,n,o){var i=Array.isArray(e)?e[0]:e;function a(e){return"".concat(String(i)).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}var c=(null==o?void 0:o.unitless)||{},u=D(D({},"function"==typeof l?l(e):{}),{},j({},a("zIndexPopup"),!0));Object.keys(c).forEach(function(e){u[a(e)]=c[e]});var d=D(D({},o),{},{unitless:u,prefixToken:a}),f=s(e,t,n,d),h=function(e,t,n){var o=n.unitless,i=n.injectStyle,a=void 0===i||i,l=n.prefixToken,s=n.ignore,c=function(i){var a=i.rootCls,c=i.cssVar,u=void 0===c?{}:c,d=r().realToken;return function(e,t){var n=e.key,r=e.prefix,o=e.unitless,i=e.ignore,a=e.token,l=e.scope,s=void 0===l?"":l,c=m.useContext(At),u=c.cache.instanceId,d=c.container,f=a._tokenKey,h=[].concat(it(e.path),[n,s,f]);on(cr,h,function(){var e=t(),a=pt(Zt(e,n,{prefix:r,unitless:o,ignore:i,scope:s}),2),l=a[0],c=a[1];return[l,c,ir(h,c),n]},function(e){var t=pt(e,3)[2];qt&&kt(t,{mark:Rt,attachTo:d})},function(e){var t=pt(e,3),r=t[1],o=t[2];if(r){var i=Mt(r,o,{mark:Rt,prepend:"queue",attachTo:d,priority:-999});i[_t]=u,i.setAttribute(Lt,n)}})}({path:[e],prefix:u.prefix,key:u.key,unitless:o,ignore:s,token:d,scope:a},function(){var r=Ko(e,d,t),o=Go(e,d,r,{deprecatedTokens:null==n?void 0:n.deprecatedTokens});return Object.keys(r).forEach(function(e){o[l(e)]=o[e],delete o[e]}),o}),null},u=function(t){var n=r().cssVar;return[function(r){return a&&n?p.createElement(p.Fragment,null,p.createElement(c,{rootCls:t,cssVar:n,component:e}),r):r},null==n?void 0:n.key]};return u}(i,n,d);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=pt(f(e,t),2)[1],r=pt(h(t),2);return[r[0],n,r[1]]}},genSubStyleComponent:function(e,t,n){var r=s(e,t,n,D({resetStyle:!1,order:-998},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}));return function(e){var t=e.prefixCls,n=e.rootCls;return r(t,void 0===n?t:n),null}},genComponentStyleHook:s}}({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=m.useContext(So);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,n,r,o]=si();return{theme:e,realToken:t,hashId:n,token:r,cssVar:o}},useCSP:()=>{const{csp:e}=m.useContext(So);return null!=e?e:{}},getResetStyles:(e,t)=>{var n;const r=(e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}))(e);return[r,{"&":r},hi(null!==(n=null==t?void 0:t.prefix.iconPrefixCls)&&void 0!==n?n:wo)]},getCommonStyle:(e,t,n,r)=>{const o=`[class^="${t}"], [class*=" ${t}"]`,i=n?`.${n}`:o,a={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let l={};return!1!==r&&(l={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[i]:Object.assign(Object.assign(Object.assign({},l),a),{[o]:a})}},getCompUnitless:()=>oi});function yi(e,t){return Jo.reduce((n,r)=>{const o=e[`${r}1`],i=e[`${r}3`],a=e[`${r}6`],l=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:o,lightBorderColor:i,darkColor:a,textColor:l}))},{})}const bi=Object.assign({},v),{useId:xi}=bi,wi=void 0===xi?()=>"":xi;var Ci=["children"],Si=m.createContext({});function Ei(e){var t=e.children,n=$t(e,Ci);return m.createElement(Si.Provider,{value:n},t)}var Oi=function(){Ve(t,m.Component);var e=Ke(t);function t(){return He(this,t),e.apply(this,arguments)}return We(t,[{key:"render",value:function(){return this.props.children}}]),t}();var ki="none",Mi="appear",$i="enter",Ii="leave",Ni="none",Ti="prepare",Li="start",Ri="active",_i="end",Ai="prepared";function Pi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var ji,Bi,Di,zi=(ji=mt(),Bi="undefined"!=typeof window?window:{},Di={animationend:Pi("Animation","AnimationEnd"),transitionend:Pi("Transition","TransitionEnd")},ji&&("AnimationEvent"in Bi||delete Di.animationend.animation,"TransitionEvent"in Bi||delete Di.transitionend.transition),Di),Hi={};if(mt()){var Fi=document.createElement("div");Hi=Fi.style}var Wi={};function Gi(e){if(Wi[e])return Wi[e];var t=zi[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in Hi)return Wi[e]=t[i],Wi[e]}return""}var Vi=Gi("animationend"),qi=Gi("transitionend"),Xi=!(!Vi||!qi),Ui=Vi||"animationend",Yi=qi||"transitionend";function Ki(e,t){return e?"object"===O(e)?e[t.replace(/-\w/g,function(e){return e[1].toUpperCase()})]:"".concat(e,"-").concat(t):null}var Zi=mt()?m.useLayoutEffect:m.useEffect;var Qi=[Ti,Li,Ri,_i],Ji=[Ti,Ai],ea=!1;function ta(e){return e===Ri||e===_i}const na=function(e,t,n){var r=pt(Ho(Ni),2),o=r[0],i=r[1],a=function(){var e=m.useRef(null);function t(){dt.cancel(e.current)}return m.useEffect(function(){return function(){t()}},[]),[function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=dt(function(){o<=1?r({isCanceled:function(){return i!==e.current}}):n(r,o-1)});e.current=i},t]}(),l=pt(a,2),s=l[0],c=l[1];var u=t?Ji:Qi;return Zi(function(){if(o!==Ni&&o!==_i){var e=u.indexOf(o),t=u[e+1],r=n(o);r===ea?i(t,!0):t&&s(function(e){function n(){e.isCanceled()||i(t,!0)}!0===r?n():Promise.resolve(r).then(n)})}},[e,o]),m.useEffect(function(){return function(){c()}},[]),[function(){i(Ti,!0)},o]};function ra(e,t,n,r){var o,i,a,l=r.motionEnter,s=void 0===l||l,c=r.motionAppear,u=void 0===c||c,d=r.motionLeave,f=void 0===d||d,h=r.motionDeadline,p=r.motionLeaveImmediately,g=r.onAppearPrepare,v=r.onEnterPrepare,y=r.onLeavePrepare,b=r.onAppearStart,x=r.onEnterStart,w=r.onLeaveStart,C=r.onAppearActive,S=r.onEnterActive,E=r.onLeaveActive,O=r.onAppearEnd,k=r.onEnterEnd,M=r.onLeaveEnd,$=r.onVisibleChanged,I=pt(Ho(),2),N=I[0],T=I[1],L=(o=ki,i=pt(m.useReducer(function(e){return e+1},0),2)[1],a=m.useRef(o),[zo(function(){return a.current}),zo(function(e){a.current="function"==typeof e?e(a.current):e,i()})]),R=pt(L,2),_=R[0],A=R[1],P=pt(Ho(null),2),B=P[0],z=P[1],H=_(),F=m.useRef(!1),W=m.useRef(null);function G(){return n()}var V=m.useRef(!1);function q(){A(ki),z(null,!0)}var X=zo(function(e){var t=_();if(t!==ki){var n=G();if(!e||e.deadline||e.target===n){var r,o=V.current;t===Mi&&o?r=null==O?void 0:O(n,e):t===$i&&o?r=null==k?void 0:k(n,e):t===Ii&&o&&(r=null==M?void 0:M(n,e)),o&&!1!==r&&q()}}}),U=function(e){var t=m.useRef();function n(t){t&&(t.removeEventListener(Yi,e),t.removeEventListener(Ui,e))}return m.useEffect(function(){return function(){n(t.current)}},[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(Yi,e),r.addEventListener(Ui,e),t.current=r)},n]}(X),Y=pt(U,1)[0],K=function(e){switch(e){case Mi:return j(j(j({},Ti,g),Li,b),Ri,C);case $i:return j(j(j({},Ti,v),Li,x),Ri,S);case Ii:return j(j(j({},Ti,y),Li,w),Ri,E);default:return{}}},Z=m.useMemo(function(){return K(H)},[H]),Q=pt(na(H,!e,function(e){if(e===Ti){var t=Z[Ti];return t?t(G()):ea}var n;ee in Z&&z((null===(n=Z[ee])||void 0===n?void 0:n.call(Z,G(),null))||null);return ee===Ri&&H!==ki&&(Y(G()),h>0&&(clearTimeout(W.current),W.current=setTimeout(function(){X({deadline:!0})},h))),ee===Ai&&q(),true}),2),J=Q[0],ee=Q[1],te=ta(ee);V.current=te;var ne=m.useRef(null);Zi(function(){if(!F.current||ne.current!==t){T(t);var n,r=F.current;F.current=!0,!r&&t&&u&&(n=Mi),r&&t&&s&&(n=$i),(r&&!t&&f||!r&&p&&!t&&f)&&(n=Ii);var o=K(n);n&&(e||o[Ti])?(A(n),J()):A(ki),ne.current=t}},[t]),m.useEffect(function(){(H===Mi&&!u||H===$i&&!s||H===Ii&&!f)&&A(ki)},[u,s,f]),m.useEffect(function(){return function(){F.current=!1,clearTimeout(W.current)}},[]);var re=m.useRef(!1);m.useEffect(function(){N&&(re.current=!0),void 0!==N&&H===ki&&((re.current||N)&&(null==$||$(N)),re.current=!0)},[N,H]);var oe=B;return Z[Ti]&&ee===Li&&(oe=D({transition:"none"},oe)),[H,ee,oe,null!=N?N:t]}const oa=function(e){var t=e;"object"===O(e)&&(t=e.transitionSupport);var n=m.forwardRef(function(e,n){var r=e.visible,o=void 0===r||r,i=e.removeOnLeave,a=void 0===i||i,l=e.forceRender,s=e.children,c=e.motionName,u=e.leavedClassName,d=e.eventProps,f=function(e,n){return!(!e.motionName||!t||!1===n)}(e,m.useContext(Si).motion),h=m.useRef(),p=m.useRef();var g=pt(ra(f,o,function(){try{return h.current instanceof HTMLElement?h.current:F(p.current)}catch(rw){return null}},e),4),v=g[0],y=g[1],b=g[2],x=g[3],w=m.useRef(x);x&&(w.current=!0);var C,E=m.useCallback(function(e){h.current=e,ue(n,e)},[n]),O=D(D({},d),{},{visible:o});if(s)if(v===ki)C=x?s(D({},O),E):!a&&w.current&&u?s(D(D({},O),{},{className:u}),E):l||!a&&!u?s(D(D({},O),{},{style:{display:"none"}}),E):null;else{var k;y===Ti?k="prepare":ta(y)?k="active":y===Li&&(k="start");var M=Ki(c,"".concat(v,"-").concat(k));C=s(D(D({},O),{},{className:S(Ki(c,v),j(j({},M,M&&k),c,"string"==typeof c)),style:b}),E)}else C=null;m.isValidElement(C)&&he(C)&&(ge(C)||(C=m.cloneElement(C,{ref:E})));return m.createElement(Oi,{ref:p},C)});return n.displayName="CSSMotion",n}(Xi);var ia="add",aa="keep",la="remove",sa="removed";function ca(e){var t;return D(D({},t=e&&"object"===O(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function ua(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(ca)}var da=["component","children","onVisibleChanged","onAllRemoved"],fa=["status"],ha=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const pa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oa,n=function(){Ve(n,m.Component);var e=Ke(n);function n(){var t;He(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return j(Ue(t=e.call.apply(e,[this].concat(o))),"state",{keyEntities:[]}),j(Ue(t),"removeKey",function(e){t.setState(function(t){return{keyEntities:t.keyEntities.map(function(t){return t.key!==e?t:D(D({},t),{},{status:sa})})}},function(){0===t.state.keyEntities.filter(function(e){return e.status!==sa}).length&&t.props.onAllRemoved&&t.props.onAllRemoved()})}),t}return We(n,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,o=r.component,i=r.children,a=r.onVisibleChanged;r.onAllRemoved;var l=$t(r,da),s=o||m.Fragment,c={};return ha.forEach(function(e){c[e]=l[e],delete l[e]}),delete l.keys,m.createElement(s,l,n.map(function(n,r){var o=n.status,l=$t(n,fa),s=o===ia||o===aa;return m.createElement(t,E({},c,{key:l.key,visible:s,eventProps:l,onVisibleChanged:function(t){null==a||a(t,{key:l.key}),t||e.removeKey(l.key)}}),function(e,t){return i(D(D({},e),{},{index:r}),t)})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,o=ua(n),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,o=t.length,i=ua(e),a=ua(t);i.forEach(function(e){for(var t=!1,i=r;i<o;i+=1){var l=a[i];if(l.key===e.key){r<i&&(n=n.concat(a.slice(r,i).map(function(e){return D(D({},e),{},{status:ia})})),r=i),n.push(D(D({},l),{},{status:aa})),r+=1,t=!0;break}}t||n.push(D(D({},e),{},{status:la}))}),r<o&&(n=n.concat(a.slice(r).map(function(e){return D(D({},e),{},{status:ia})})));var l={};return n.forEach(function(e){var t=e.key;l[t]=(l[t]||0)+1}),Object.keys(l).filter(function(e){return l[e]>1}).forEach(function(e){(n=n.filter(function(t){var n=t.key,r=t.status;return n!==e||r!==la})).forEach(function(t){t.key===e&&(t.status=aa)})}),n}(r,o);return{keyEntities:i.filter(function(e){var t=r.find(function(t){var n=t.key;return e.key===n});return!t||t.status!==sa||e.status!==la})}}}]),n}();return j(n,"defaultProps",{component:"div"}),n}(Xi),ga=m.createContext(!0);function ma(e){const t=m.useContext(ga),{children:n}=e,[,r]=si(),{motion:o}=r,i=m.useRef(!1);return i.current||(i.current=t!==o),i.current?m.createElement(ga.Provider,{value:o},m.createElement(Ei,{motion:o},n)):n}const va=()=>null;const ya=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let ba,xa,wa,Ca;function Sa(){return ba||xo}function Ea(){return xa||wo}const Oa=()=>({getPrefixCls:(e,t)=>t||(e?`${Sa()}-${e}`:Sa()),getIconPrefixCls:Ea,getRootPrefixCls:()=>ba||Sa(),getTheme:()=>wa,holderRender:Ca}),ka=e=>{const{children:t,csp:n,autoInsertSpaceInButton:r,alert:o,anchor:i,form:a,locale:l,componentSize:s,direction:c,space:u,splitter:d,virtual:f,dropdownMatchSelectWidth:h,popupMatchSelectWidth:p,popupOverflow:g,legacyLocale:v,parentContext:y,iconPrefixCls:b,theme:x,componentDisabled:w,segmented:C,statistic:S,spin:E,calendar:O,carousel:k,cascader:M,collapse:$,typography:I,checkbox:N,descriptions:T,divider:L,drawer:R,skeleton:_,steps:A,image:P,layout:j,list:B,mentions:D,modal:z,progress:H,result:F,slider:W,breadcrumb:G,menu:V,pagination:q,input:X,textArea:U,empty:Y,badge:K,radio:Z,rate:Q,switch:J,transfer:ee,avatar:te,message:ne,tag:re,table:oe,card:ie,tabs:ae,timeline:le,timePicker:ce,upload:ue,notification:de,tree:fe,colorPicker:he,datePicker:pe,rangePicker:ge,flex:me,wave:ve,dropdown:ye,warning:be,tour:xe,tooltip:we,popover:Ce,popconfirm:Se,floatButton:Ee,floatButtonGroup:Oe,variant:ke,inputNumber:Me,treeSelect:$e}=e,Ie=m.useCallback((t,n)=>{const{prefixCls:r}=e;if(n)return n;const o=r||y.getPrefixCls("");return t?`${o}-${t}`:o},[y.getPrefixCls,e.prefixCls]),Ne=b||y.iconPrefixCls||wo,Te=n||y.csp;((e,t)=>{const[n,r]=si();sr({token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>null==t?void 0:t.nonce,layer:{name:"antd"}},()=>hi(e))})(Ne,Te);const Le=function(e,t,n){var r;Cr();const o=e||{},i=!1!==o.inherit&&t?t:Object.assign(Object.assign({},yo),{hashed:null!==(r=null==t?void 0:t.hashed)&&void 0!==r?r:yo.hashed,cssVar:null==t?void 0:t.cssVar}),a=wi();return se(()=>{var r,l;if(!e)return t;const s=Object.assign({},i.components);Object.keys(e.components||{}).forEach(t=>{s[t]=Object.assign(Object.assign({},s[t]),e.components[t])});const c=`css-var-${a.replace(/:/g,"")}`,u=(null!==(r=o.cssVar)&&void 0!==r?r:i.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:null==n?void 0:n.prefixCls},"object"==typeof i.cssVar?i.cssVar:{}),"object"==typeof o.cssVar?o.cssVar:{}),{key:"object"==typeof o.cssVar&&(null===(l=o.cssVar)||void 0===l?void 0:l.key)||c});return Object.assign(Object.assign(Object.assign({},i),o),{token:Object.assign(Object.assign({},i.token),o.token),components:s,cssVar:u})},[o,i],(e,t)=>e.some((e,n)=>!It(e,t[n],!0)))}(x,y.theme,{prefixCls:Ie("")}),Re={csp:Te,autoInsertSpaceInButton:r,alert:o,anchor:i,locale:l||v,direction:c,space:u,splitter:d,virtual:f,popupMatchSelectWidth:null!=p?p:h,popupOverflow:g,getPrefixCls:Ie,iconPrefixCls:Ne,theme:Le,segmented:C,statistic:S,spin:E,calendar:O,carousel:k,cascader:M,collapse:$,typography:I,checkbox:N,descriptions:T,divider:L,drawer:R,skeleton:_,steps:A,image:P,input:X,textArea:U,layout:j,list:B,mentions:D,modal:z,progress:H,result:F,slider:W,breadcrumb:G,menu:V,pagination:q,empty:Y,badge:K,radio:Z,rate:Q,switch:J,transfer:ee,avatar:te,message:ne,tag:re,table:oe,card:ie,tabs:ae,timeline:le,timePicker:ce,upload:ue,notification:de,tree:fe,colorPicker:he,datePicker:pe,rangePicker:ge,flex:me,wave:ve,dropdown:ye,warning:be,tour:xe,tooltip:we,popover:Ce,popconfirm:Se,floatButton:Ee,floatButtonGroup:Oe,variant:ke,inputNumber:Me,treeSelect:$e},_e=Object.assign({},y);Object.keys(Re).forEach(e=>{void 0!==Re[e]&&(_e[e]=Re[e])}),ya.forEach(t=>{const n=e[t];n&&(_e[t]=n)}),void 0!==r&&(_e.button=Object.assign({autoInsertSpace:r},_e.button));const Ae=se(()=>_e,_e,(e,t)=>{const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some(n=>e[n]!==t[n])}),{layer:Pe}=m.useContext(At),je=m.useMemo(()=>({prefixCls:Ne,csp:Te,layer:Pe?"antd":void 0}),[Ne,Te,Pe]);let Be=m.createElement(m.Fragment,null,m.createElement(va,{dropdownMatchSelectWidth:h}),t);const De=m.useMemo(()=>{var e,t,n,r;return br((null===(e=Ir.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(n=null===(t=Ae.locale)||void 0===t?void 0:t.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(r=Ae.form)||void 0===r?void 0:r.validateMessages)||{},(null==a?void 0:a.validateMessages)||{})},[Ae,null==a?void 0:a.validateMessages]);Object.keys(De).length>0&&(Be=m.createElement(Sr.Provider,{value:De},Be)),l&&(Be=m.createElement(Pr,{locale:l,_ANT_MARK__:"internalMark"},Be)),Be=m.createElement(fr.Provider,{value:je},Be),s&&(Be=m.createElement(Lo,{size:s},Be)),Be=m.createElement(ma,null,Be);const ze=m.useMemo(()=>{const e=Le||{},{algorithm:t,token:n,components:r,cssVar:o}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["algorithm","token","components","cssVar"]),a=t&&(!Array.isArray(t)||t.length>0)?zt(t):vo,l={};Object.entries(r||{}).forEach(([e,t])=>{const n=Object.assign({},t);"algorithm"in n&&(!0===n.algorithm?n.theme=a:(Array.isArray(n.algorithm)||"function"==typeof n.algorithm)&&(n.theme=zt(n.algorithm)),delete n.algorithm),l[e]=n});const s=Object.assign(Object.assign({},Br),n);return Object.assign(Object.assign({},i),{theme:a,token:s,components:l,override:Object.assign({override:s},l),cssVar:o})},[Le]);return x&&(Be=m.createElement(bo.Provider,{value:ze},Be)),Ae.warning&&(Be=m.createElement(wr.Provider,{value:Ae.warning},Be)),void 0!==w&&(Be=m.createElement(No,{disabled:w},Be)),m.createElement(So.Provider,{value:Ae},Be)},Ma=e=>{const t=m.useContext(So),n=m.useContext(_r);return m.createElement(ka,Object.assign({parentContext:t,legacyLocale:n},e))};Ma.ConfigContext=So,Ma.SizeContext=To,Ma.config=e=>{const{prefixCls:t,iconPrefixCls:n,theme:r,holderRender:o}=e;void 0!==t&&(ba=t),void 0!==n&&(xa=n),"holderRender"in e&&(Ca=o),r&&(!function(e){return Object.keys(e).some(e=>e.endsWith("Color"))}(r)?wa=r:$o(Sa(),r))},Ma.useConfig=function(){return{componentDisabled:m.useContext(Io),componentSize:m.useContext(To)}},Object.defineProperty(Ma,"SizeContext",{get:()=>To});var $a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function Ia(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function Na(e){return function(e){return Ia(e)instanceof ShadowRoot}(e)?Ia(e):null}function Ta(e){return"object"===O(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===O(e.icon)||"function"==typeof e.icon)}function La(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r,o=e[n];if("class"===n)t.className=o,delete t.class;else delete t[n],t[(r=n,r.replace(/-(.)/g,function(e,t){return t.toUpperCase()}))]=o;return t},{})}function Ra(e,t,n){return n?p.createElement(e.tag,D(D({key:t},La(e.attrs)),n),(e.children||[]).map(function(n,r){return Ra(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})):p.createElement(e.tag,D({key:t},La(e.attrs)),(e.children||[]).map(function(n,r){return Ra(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))}function _a(e){return Ur(e)[0]}function Aa(e){return e?Array.isArray(e)?e:[e]:[]}var Pa=["icon","className","onClick","style","primaryColor","secondaryColor"],ja={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Ba=function(e){var t,n,r,o,i,a,l,s,c=e.icon,u=e.className,d=e.onClick,f=e.style,h=e.primaryColor,p=e.secondaryColor,g=$t(e,Pa),v=m.useRef(),y=ja;if(h&&(y={primaryColor:h,secondaryColor:p||_a(h)}),t=v,n=m.useContext(fr),r=n.csp,o=n.prefixCls,i=n.layer,a="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",o&&(a=a.replace(/anticon/g,o)),i&&(a="@layer ".concat(i," {\n").concat(a,"\n}")),m.useEffect(function(){var e=Na(t.current);Mt(a,"@ant-design-icons",{prepend:!i,csp:r,attachTo:e})},[]),l=Ta(c),s="icon should be icon definiton, but got ".concat(c),A(l,"[@ant-design/icons] ".concat(s)),!Ta(c))return null;var b=c;return b&&"function"==typeof b.icon&&(b=D(D({},b),{},{icon:b.icon(y.primaryColor,y.secondaryColor)})),Ra(b.icon,"svg-".concat(b.name),D(D({className:u,onClick:d,style:f,"data-icon":b.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},g),{},{ref:v}))};function Da(e){var t=pt(Aa(e),2),n=t[0],r=t[1];return Ba.setTwoToneColors({primaryColor:n,secondaryColor:r})}Ba.displayName="IconReact",Ba.getTwoToneColors=function(){return D({},ja)},Ba.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;ja.primaryColor=t,ja.secondaryColor=n||_a(t),ja.calculated=!!n};var za=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Da(oo.primary);var Ha=m.forwardRef(function(e,t){var n=e.className,r=e.icon,o=e.spin,i=e.rotate,a=e.tabIndex,l=e.onClick,s=e.twoToneColor,c=$t(e,za),u=m.useContext(fr),d=u.prefixCls,f=void 0===d?"anticon":d,h=u.rootClassName,p=S(h,f,j(j({},"".concat(f,"-").concat(r.name),!!r.name),"".concat(f,"-spin"),!!o||"loading"===r.name),n),g=a;void 0===g&&l&&(g=-1);var v=i?{msTransform:"rotate(".concat(i,"deg)"),transform:"rotate(".concat(i,"deg)")}:void 0,y=pt(Aa(s),2),b=y[0],x=y[1];return m.createElement("span",E({role:"img","aria-label":r.name},c,{ref:t,tabIndex:g,onClick:l,className:p}),m.createElement(Ba,{icon:r,primaryColor:b,secondaryColor:x,style:v}))});Ha.displayName="AntdIcon",Ha.getTwoToneColor=function(){var e=Ba.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Ha.setTwoToneColor=Da;var Fa=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:$a}))},Wa=m.forwardRef(Fa),Ga={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},Va=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:Ga}))},qa=m.forwardRef(Va),Xa={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},Ua=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:Xa}))},Ya=m.forwardRef(Ua),Ka={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Za=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:Ka}))},Qa=m.forwardRef(Za),Ja={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},el=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:Ja}))},tl=m.forwardRef(el),nl="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function rl(e,t){return 0===e.indexOf(t)}function ol(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:D({},n);var r={};return Object.keys(e).forEach(function(n){(t.aria&&("role"===n||rl(n,"aria-"))||t.data&&rl(n,"data-")||t.attr&&nl.includes(n))&&(r[n]=e[n])}),r}function il(e){return e&&p.isValidElement(e)&&e.type===p.Fragment}const al=(e,t,n)=>p.isValidElement(e)?p.cloneElement(e,"function"==typeof n?n(e.props||{}):n):t;function ll(e,t){return al(e,e,t)}const sl=(e,t,n,r,o)=>({background:e,border:`${Xt(r.lineWidth)} ${r.lineType} ${t}`,[`${o}-icon`]:{color:n}}),cl=e=>{const{componentCls:t,motionDurationSlow:n,marginXS:r,marginSM:o,fontSize:i,fontSizeLG:a,lineHeight:l,borderRadiusLG:s,motionEaseInOutCirc:c,withDescriptionIconSize:u,colorText:d,colorTextHeading:f,withDescriptionPadding:h,defaultPadding:p}=e;return{[t]:Object.assign(Object.assign({},ui(e)),{position:"relative",display:"flex",alignItems:"center",padding:p,wordWrap:"break-word",borderRadius:s,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:i,lineHeight:l},"&-message":{color:f},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${c}, opacity ${n} ${c},\n        padding-top ${n} ${c}, padding-bottom ${n} ${c},\n        margin-bottom ${n} ${c}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:h,[`${t}-icon`]:{marginInlineEnd:o,fontSize:u,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:r,color:f,fontSize:a},[`${t}-description`]:{display:"block",color:d}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},ul=e=>{const{componentCls:t,colorSuccess:n,colorSuccessBorder:r,colorSuccessBg:o,colorWarning:i,colorWarningBorder:a,colorWarningBg:l,colorError:s,colorErrorBorder:c,colorErrorBg:u,colorInfo:d,colorInfoBorder:f,colorInfoBg:h}=e;return{[t]:{"&-success":sl(o,r,n,e,t),"&-info":sl(h,f,d,e,t),"&-warning":sl(l,a,i,e,t),"&-error":Object.assign(Object.assign({},sl(u,c,s,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},dl=e=>{const{componentCls:t,iconCls:n,motionDurationMid:r,marginXS:o,fontSizeIcon:i,colorIcon:a,colorIconHover:l}=e;return{[t]:{"&-action":{marginInlineStart:o},[`${t}-close-icon`]:{marginInlineStart:o,padding:0,overflow:"hidden",fontSize:i,lineHeight:Xt(i),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:a,transition:`color ${r}`,"&:hover":{color:l}}},"&-close-text":{color:a,transition:`color ${r}`,"&:hover":{color:l}}}}},fl=gi("Alert",e=>[cl(e),ul(e),dl(e)],e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}));var hl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const pl={success:Wa,info:tl,error:qa,warning:Qa},gl=e=>{const{icon:t,prefixCls:n,type:r}=e,o=pl[r]||null;return t?al(t,m.createElement("span",{className:`${n}-icon`},t),()=>({className:S(`${n}-icon`,t.props.className)})):m.createElement(o,{className:`${n}-icon`})},ml=e=>{const{isClosable:t,prefixCls:n,closeIcon:r,handleClose:o,ariaProps:i}=e,a=!0===r||void 0===r?m.createElement(Ya,null):r;return t?m.createElement("button",Object.assign({type:"button",onClick:o,className:`${n}-close-icon`,tabIndex:0},i),a):null},vl=m.forwardRef((e,t)=>{const{description:n,prefixCls:r,message:o,banner:i,className:a,rootClassName:l,style:s,onMouseEnter:c,onMouseLeave:u,onClick:d,afterClose:f,showIcon:h,closable:p,closeText:g,closeIcon:v,action:y,id:b}=e,x=hl(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[w,C]=m.useState(!1),E=m.useRef(null);m.useImperativeHandle(t,()=>({nativeElement:E.current}));const{getPrefixCls:O,direction:k,closable:M,closeIcon:$,className:I,style:N}=ko("alert"),T=O("alert",r),[L,R,_]=fl(T),A=t=>{var n;C(!0),null===(n=e.onClose)||void 0===n||n.call(e,t)},P=m.useMemo(()=>void 0!==e.type?e.type:i?"warning":"info",[e.type,i]),j=m.useMemo(()=>!("object"!=typeof p||!p.closeIcon)||(!!g||("boolean"==typeof p?p:!1!==v&&null!=v||!!M)),[g,v,p,M]),B=!(!i||void 0!==h)||h,D=S(T,`${T}-${P}`,{[`${T}-with-description`]:!!n,[`${T}-no-icon`]:!B,[`${T}-banner`]:!!i,[`${T}-rtl`]:"rtl"===k},I,a,l,_,R),z=ol(x,{aria:!0,data:!0}),H=m.useMemo(()=>"object"==typeof p&&p.closeIcon?p.closeIcon:g||(void 0!==v?v:"object"==typeof M&&M.closeIcon?M.closeIcon:$),[v,p,g,$]),F=m.useMemo(()=>{const e=null!=p?p:M;if("object"==typeof e){const{closeIcon:t}=e;return hl(e,["closeIcon"])}return{}},[p,M]);return L(m.createElement(oa,{visible:!w,motionName:`${T}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:e=>({maxHeight:e.offsetHeight}),onLeaveEnd:f},({className:t,style:r},i)=>m.createElement("div",Object.assign({id:b,ref:de(E,i),"data-show":!w,className:S(D,t),style:Object.assign(Object.assign(Object.assign({},N),s),r),onMouseEnter:c,onMouseLeave:u,onClick:d,role:"alert"},z),B?m.createElement(gl,{description:n,icon:e.icon,prefixCls:T,type:P}):null,m.createElement("div",{className:`${T}-content`},o?m.createElement("div",{className:`${T}-message`},o):null,n?m.createElement("div",{className:`${T}-description`},n):null),y?m.createElement("div",{className:`${T}-action`},y):null,m.createElement(ml,{isClosable:j,prefixCls:T,closeIcon:H,handleClose:A,ariaProps:F}))))});function yl(e,t,n){return t=qe(t),Ye(e,Xe()?Reflect.construct(t,n||[],qe(e).constructor):t.apply(e,n))}let bl=function(){function e(){var t;return He(this,e),(t=yl(this,e,arguments)).state={error:void 0,info:{componentStack:""}},t}return Ve(e,m.Component),We(e,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){const{message:e,description:t,id:n,children:r}=this.props,{error:o,info:i}=this.state,a=(null==i?void 0:i.componentStack)||null,l=void 0===e?(o||"").toString():e,s=void 0===t?a:t;return o?m.createElement(vl,{id:n,type:"error",message:l,description:m.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},s)}):r}}])}();const xl=vl;xl.ErrorBoundary=bl;const wl=e=>"object"==typeof e&&null!=e&&1===e.nodeType,Cl=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,Sl=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return Cl(n.overflowY,t)||Cl(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(t){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},El=(e,t,n,r,o,i,a,l)=>i<e&&a>t||i>e&&a<t?0:i<=e&&l<=n||a>=t&&l>=n?i-e-r:a>t&&l<n||i<e&&l>n?a-t+o:0,Ol=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},kl=(e,t)=>{var n,r,o,i;if("undefined"==typeof document)return[];const{scrollMode:a,block:l,inline:s,boundary:c,skipOverflowHiddenElements:u}=t,d="function"==typeof c?c:e=>e!==c;if(!wl(e))throw new TypeError("Invalid target");const f=document.scrollingElement||document.documentElement,h=[];let p=e;for(;wl(p)&&d(p);){if(p=Ol(p),p===f){h.push(p);break}null!=p&&p===document.body&&Sl(p)&&!Sl(document.documentElement)||null!=p&&Sl(p,u)&&h.push(p)}const g=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,m=null!=(i=null==(o=window.visualViewport)?void 0:o.height)?i:innerHeight,{scrollX:v,scrollY:y}=window,{height:b,width:x,top:w,right:C,bottom:S,left:E}=e.getBoundingClientRect(),{top:O,right:k,bottom:M,left:$}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let I="start"===l||"nearest"===l?w-O:"end"===l?S+M:w+b/2-O+M,N="center"===s?E+x/2-$+k:"end"===s?C+k:E-$;const T=[];for(let L=0;L<h.length;L++){const e=h[L],{height:t,width:n,top:r,right:o,bottom:i,left:c}=e.getBoundingClientRect();if("if-needed"===a&&w>=0&&E>=0&&S<=m&&C<=g&&(e===f&&!Sl(e)||w>=r&&S<=i&&E>=c&&C<=o))return T;const u=getComputedStyle(e),d=parseInt(u.borderLeftWidth,10),p=parseInt(u.borderTopWidth,10),O=parseInt(u.borderRightWidth,10),k=parseInt(u.borderBottomWidth,10);let M=0,$=0;const R="offsetWidth"in e?e.offsetWidth-e.clientWidth-d-O:0,_="offsetHeight"in e?e.offsetHeight-e.clientHeight-p-k:0,A="offsetWidth"in e?0===e.offsetWidth?0:n/e.offsetWidth:0,P="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(f===e)M="start"===l?I:"end"===l?I-m:"nearest"===l?El(y,y+m,m,p,k,y+I,y+I+b,b):I-m/2,$="start"===s?N:"center"===s?N-g/2:"end"===s?N-g:El(v,v+g,g,d,O,v+N,v+N+x,x),M=Math.max(0,M+y),$=Math.max(0,$+v);else{M="start"===l?I-r-p:"end"===l?I-i+k+_:"nearest"===l?El(r,i,t,p,k+_,I,I+b,b):I-(r+t/2)+_/2,$="start"===s?N-c-d:"center"===s?N-(c+n/2)+R/2:"end"===s?N-o+O+R:El(c,o,n,d,O+R,N,N+x,x);const{scrollLeft:a,scrollTop:u}=e;M=0===P?0:Math.max(0,Math.min(u+M/P,e.scrollHeight-t/P+_)),$=0===A?0:Math.max(0,Math.min(a+$/A,e.scrollWidth-n/A+R)),I+=u-M,N+=a-$}T.push({el:e,top:M,left:$})}return T};function Ml(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if("object"==typeof(r=t)&&"function"==typeof r.behavior)return t.behavior(kl(e,t));var r;const o="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:i,top:a,left:l}of kl(e,(e=>{return!1===e?{block:"end",inline:"nearest"}:(t=e)===Object(t)&&0!==Object.keys(t).length?e:{block:"start",inline:"nearest"};var t})(t))){const e=a-n.top+n.bottom,t=l-n.left+n.right;i.scroll({top:e,left:t,behavior:o})}}function $l(e){return null!=e&&e===e.window}function Il(e,t={}){const{getContainer:n=()=>window,callback:r,duration:o=450}=t,i=n(),a=(e=>{var t,n;if("undefined"==typeof window)return 0;let r=0;return $l(e)?r=e.pageYOffset:e instanceof Document?r=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(r=e.scrollTop),e&&!$l(e)&&"number"!=typeof r&&(r=null===(n=(null!==(t=e.ownerDocument)&&void 0!==t?t:e).documentElement)||void 0===n?void 0:n.scrollTop),r})(i),l=Date.now(),s=()=>{const t=Date.now()-l,n=function(e,t,n,r){const o=n-t;return(e/=r/2)<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t}(t>o?o:t,a,e,o);$l(i)?i.scrollTo(window.pageXOffset,n):i instanceof Document||"HTMLDocument"===i.constructor.name?i.documentElement.scrollTop=n:i.scrollTop=n,t<o?dt(s):"function"==typeof r&&r()};dt(s)}const Nl=e=>{const[,,,,t]=si();return t?`${e}-css-var`:""};var Tl={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},Ll=m.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,o=e.className,i=e.duration,a=void 0===i?4.5:i,l=e.showProgress,s=e.pauseOnHover,c=void 0===s||s,u=e.eventKey,d=e.content,f=e.closable,h=e.closeIcon,p=void 0===h?"x":h,g=e.props,v=e.onClick,y=e.onNoticeClose,b=e.times,x=e.hovering,w=pt(m.useState(!1),2),C=w[0],k=w[1],M=pt(m.useState(0),2),$=M[0],I=M[1],N=pt(m.useState(0),2),T=N[0],L=N[1],R=x||C,_=a>0&&l,A=function(){y(u)};m.useEffect(function(){if(!R&&a>0){var e=Date.now()-T,t=setTimeout(function(){A()},1e3*a-T);return function(){c&&clearTimeout(t),L(Date.now()-e)}}},[a,R,b]),m.useEffect(function(){if(!R&&_&&(c||0===T)){var e,t=performance.now();return function n(){cancelAnimationFrame(e),e=requestAnimationFrame(function(e){var r=e+T-t,o=Math.min(r/(1e3*a),1);I(100*o),o<1&&n()})}(),function(){c&&cancelAnimationFrame(e)}}},[a,T,R,_,b]);var P=m.useMemo(function(){return"object"===O(f)&&null!==f?f:f?{closeIcon:p}:{}},[f,p]),B=ol(P,!0),D=100-(!$||$<0?0:$>100?100:$),z="".concat(n,"-notice");return m.createElement("div",E({},g,{ref:t,className:S(z,o,j({},"".concat(z,"-closable"),f)),style:r,onMouseEnter:function(e){var t;k(!0),null==g||null===(t=g.onMouseEnter)||void 0===t||t.call(g,e)},onMouseLeave:function(e){var t;k(!1),null==g||null===(t=g.onMouseLeave)||void 0===t||t.call(g,e)},onClick:v}),m.createElement("div",{className:"".concat(z,"-content")},d),f&&m.createElement("a",E({tabIndex:0,className:"".concat(z,"-close"),onKeyDown:function(e){"Enter"!==e.key&&"Enter"!==e.code&&e.keyCode!==Tl.ENTER||A()},"aria-label":"Close"},B,{onClick:function(e){e.preventDefault(),e.stopPropagation(),A()}}),P.closeIcon),_&&m.createElement("progress",{className:"".concat(z,"-progress"),max:"100",value:D},D+"%"))}),Rl=p.createContext({}),_l=function(e){var t=e.children,n=e.classNames;return p.createElement(Rl.Provider,{value:{classNames:n}},t)},Al=["className","style","classNames","styles"],Pl=function(e){var t,n,r,o,i,a=e.configList,l=e.placement,s=e.prefixCls,c=e.className,u=e.style,d=e.motion,f=e.onAllNoticeRemoved,h=e.onNoticeClose,g=e.stack,v=m.useContext(Rl).classNames,y=m.useRef({}),b=pt(m.useState(null),2),x=b[0],w=b[1],C=pt(m.useState([]),2),k=C[0],M=C[1],$=a.map(function(e){return{config:e,key:String(e.key)}}),I=pt((i={offset:8,threshold:3,gap:16},(t=g)&&"object"===O(t)&&(i.offset=null!==(n=t.offset)&&void 0!==n?n:8,i.threshold=null!==(r=t.threshold)&&void 0!==r?r:3,i.gap=null!==(o=t.gap)&&void 0!==o?o:16),[!!t,i]),2),N=I[0],T=I[1],L=T.offset,R=T.threshold,_=T.gap,A=N&&(k.length>0||$.length<=R),P="function"==typeof d?d(l):d;return m.useEffect(function(){N&&k.length>1&&M(function(e){return e.filter(function(e){return $.some(function(t){var n=t.key;return e===n})})})},[k,$,N]),m.useEffect(function(){var e,t;N&&y.current[null===(e=$[$.length-1])||void 0===e?void 0:e.key]&&w(y.current[null===(t=$[$.length-1])||void 0===t?void 0:t.key])},[$,N]),p.createElement(pa,E({key:l,className:S(s,"".concat(s,"-").concat(l),null==v?void 0:v.list,c,j(j({},"".concat(s,"-stack"),!!N),"".concat(s,"-stack-expanded"),A)),style:u,keys:$,motionAppear:!0},P,{onAllRemoved:function(){f(l)}}),function(e,t){var n=e.config,r=e.className,o=e.style,i=e.index,a=n,c=a.key,u=a.times,d=String(c),f=n,g=f.className,m=f.style,b=f.classNames,w=f.styles,C=$t(f,Al),O=$.findIndex(function(e){return e.key===d}),I={};if(N){var T=$.length-1-(O>-1?O:i-1),R="top"===l||"bottom"===l?"-50%":"0";if(T>0){var P,j,B;I.height=A?null===(P=y.current[d])||void 0===P?void 0:P.offsetHeight:null==x?void 0:x.offsetHeight;for(var z=0,H=0;H<T;H++){var F;z+=(null===(F=y.current[$[$.length-1-H].key])||void 0===F?void 0:F.offsetHeight)+_}var W=(A?z:T*L)*(l.startsWith("top")?1:-1),G=!A&&null!=x&&x.offsetWidth&&null!==(j=y.current[d])&&void 0!==j&&j.offsetWidth?((null==x?void 0:x.offsetWidth)-2*L*(T<3?T:3))/(null===(B=y.current[d])||void 0===B?void 0:B.offsetWidth):1;I.transform="translate3d(".concat(R,", ").concat(W,"px, 0) scaleX(").concat(G,")")}else I.transform="translate3d(".concat(R,", 0, 0)")}return p.createElement("div",{ref:t,className:S("".concat(s,"-notice-wrapper"),r,null==b?void 0:b.wrapper),style:D(D(D({},o),I),null==w?void 0:w.wrapper),onMouseEnter:function(){return M(function(e){return e.includes(d)?e:[].concat(it(e),[d])})},onMouseLeave:function(){return M(function(e){return e.filter(function(e){return e!==d})})}},p.createElement(Ll,E({},C,{ref:function(e){O>-1?y.current[d]=e:delete y.current[d]},prefixCls:s,classNames:b,styles:w,className:S(g,null==v?void 0:v.notice),style:m,times:u,key:c,eventKey:c,onNoticeClose:h,hovering:N&&k.length>0})))})},jl=m.forwardRef(function(e,t){var n=e.prefixCls,r=void 0===n?"rc-notification":n,o=e.container,i=e.motion,a=e.maxCount,l=e.className,s=e.style,c=e.onAllRemoved,u=e.stack,d=e.renderNotifications,f=pt(m.useState([]),2),h=f[0],p=f[1],g=function(e){var t,n=h.find(function(t){return t.key===e});null==n||null===(t=n.onClose)||void 0===t||t.call(n),p(function(t){return t.filter(function(t){return t.key!==e})})};m.useImperativeHandle(t,function(){return{open:function(e){p(function(t){var n,r=it(t),o=r.findIndex(function(t){return t.key===e.key}),i=D({},e);o>=0?(i.times=((null===(n=t[o])||void 0===n?void 0:n.times)||0)+1,r[o]=i):(i.times=0,r.push(i));return a>0&&r.length>a&&(r=r.slice(-a)),r})},close:function(e){g(e)},destroy:function(){p([])}}});var v=pt(m.useState({}),2),b=v[0],x=v[1];m.useEffect(function(){var e={};h.forEach(function(t){var n=t.placement,r=void 0===n?"topRight":n;r&&(e[r]=e[r]||[],e[r].push(t))}),Object.keys(b).forEach(function(t){e[t]=e[t]||[]}),x(e)},[h]);var w=function(e){x(function(t){var n=D({},t);return(n[e]||[]).length||delete n[e],n})},C=m.useRef(!1);if(m.useEffect(function(){Object.keys(b).length>0?C.current=!0:C.current&&(null==c||c(),C.current=!1)},[b]),!o)return null;var S=Object.keys(b);return y.createPortal(m.createElement(m.Fragment,null,S.map(function(e){var t=b[e],n=m.createElement(Pl,{key:e,configList:t,placement:e,prefixCls:r,className:null==l?void 0:l(e),style:null==s?void 0:s(e),motion:i,onNoticeClose:g,onAllNoticeRemoved:w,stack:u});return d?d(n,{prefixCls:r,key:e}):n})),o)}),Bl=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Dl=function(){return document.body},zl=0;function Hl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getContainer,n=void 0===t?Dl:t,r=e.motion,o=e.prefixCls,i=e.maxCount,a=e.className,l=e.style,s=e.onAllRemoved,c=e.stack,u=e.renderNotifications,d=$t(e,Bl),f=pt(m.useState(),2),h=f[0],p=f[1],g=m.useRef(),v=m.createElement(jl,{container:h,ref:g,prefixCls:o,motion:r,maxCount:i,className:a,style:l,onAllRemoved:s,stack:c,renderNotifications:u}),y=pt(m.useState([]),2),b=y[0],x=y[1],w=zo(function(e){var t=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){t&&Object.keys(t).forEach(function(n){var r=t[n];void 0!==r&&(e[n]=r)})}),e}(d,e);null!==t.key&&void 0!==t.key||(t.key="rc-notification-".concat(zl),zl+=1),x(function(e){return[].concat(it(e),[{type:"open",config:t}])})}),C=m.useMemo(function(){return{open:w,close:function(e){x(function(t){return[].concat(it(t),[{type:"close",key:e}])})},destroy:function(){x(function(e){return[].concat(it(e),[{type:"destroy"}])})}}},[]);return m.useEffect(function(){p(n())}),m.useEffect(function(){var e,t;g.current&&b.length&&(b.forEach(function(e){switch(e.type){case"open":g.current.open(e.config);break;case"close":g.current.close(e.key);break;case"destroy":g.current.destroy()}}),x(function(n){return e===n&&t||(e=n,t=n.filter(function(e){return!b.includes(e)})),t}))},[b]),[C,v]}var Fl={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Wl=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:Fl}))},Gl=m.forwardRef(Wl);const Vl=p.createContext(void 0),ql=100,Xl={Modal:ql,Drawer:ql,Popover:ql,Popconfirm:ql,Tooltip:ql,Tour:ql,FloatButton:ql},Ul={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};const Yl=(e,t)=>{const[,n]=si(),r=p.useContext(Vl),o=e in Xl;let i;if(void 0!==t)i=[t,t];else{let a=null!=r?r:0;a+=o?(r?0:n.zIndexPopupBase)+Xl[e]:Ul[e],i=[void 0===r?t:a,a]}return i},Kl=gi("Message",e=>(e=>{const{componentCls:t,iconCls:n,boxShadow:r,colorText:o,colorSuccess:i,colorError:a,colorWarning:l,colorInfo:s,fontSizeLG:c,motionEaseInOutCirc:u,motionDurationSlow:d,marginXS:f,paddingXS:h,borderRadiusLG:p,zIndexPopup:g,contentPadding:m,contentBg:v}=e,y=`${t}-notice`,b=new ur("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:h,transform:"translateY(0)",opacity:1}}),x=new ur("MessageMoveOut",{"0%":{maxHeight:e.height,padding:h,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),w={padding:h,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${n}`]:{marginInlineEnd:f,fontSize:c},[`${y}-content`]:{display:"inline-block",padding:m,background:v,borderRadius:p,boxShadow:r,pointerEvents:"all"},[`${t}-success > ${n}`]:{color:i},[`${t}-error > ${n}`]:{color:a},[`${t}-warning > ${n}`]:{color:l},[`${t}-info > ${n},\n      ${t}-loading > ${n}`]:{color:s}};return[{[t]:Object.assign(Object.assign({},ui(e)),{color:o,position:"fixed",top:f,width:"100%",pointerEvents:"none",zIndex:g,[`${t}-move-up`]:{animationFillMode:"forwards"},[`\n        ${t}-move-up-appear,\n        ${t}-move-up-enter\n      `]:{animationName:b,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`\n        ${t}-move-up-appear${t}-move-up-appear-active,\n        ${t}-move-up-enter${t}-move-up-enter-active\n      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:x,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${y}-wrapper`]:Object.assign({},w)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},w),{padding:0,textAlign:"start"})}]})(Xo(e,{height:150})),e=>({zIndexPopup:e.zIndexPopupBase+1e3+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}));const Zl={info:m.createElement(tl,null),success:m.createElement(Wa,null),error:m.createElement(qa,null),warning:m.createElement(Qa,null),loading:m.createElement(Gl,null)},Ql=({prefixCls:e,type:t,icon:n,children:r})=>m.createElement("div",{className:S(`${e}-custom-content`,`${e}-${t}`)},n||Zl[t],m.createElement("span",null,r));function Jl(e){let t;const n=new Promise(n=>{t=e(()=>{n(!0)})}),r=()=>{null==t||t()};return r.then=(e,t)=>n.then(e,t),r.promise=n,r}const es=3,ts=({children:e,prefixCls:t})=>{const n=Nl(t),[r,o,i]=Kl(t,n);return r(m.createElement(_l,{classNames:{list:S(o,i,n)}},e))},ns=(e,{prefixCls:t,key:n})=>m.createElement(ts,{prefixCls:t,key:n},e),rs=m.forwardRef((e,t)=>{const{top:n,prefixCls:r,getContainer:o,maxCount:i,duration:a=es,rtl:l,transitionName:s,onAllRemoved:c}=e,{getPrefixCls:u,getPopupContainer:d,message:f,direction:h}=m.useContext(So),p=r||u("message"),g=m.createElement("span",{className:`${p}-close-x`},m.createElement(Ya,{className:`${p}-close-icon`})),[v,y]=Hl({prefixCls:p,style:()=>({left:"50%",transform:"translateX(-50%)",top:null!=n?n:8}),className:()=>S({[`${p}-rtl`]:null!=l?l:"rtl"===h}),motion:()=>function(e,t){return{motionName:null!=t?t:`${e}-move-up`}}(p,s),closable:!1,closeIcon:g,duration:a,getContainer:()=>(null==o?void 0:o())||(null==d?void 0:d())||document.body,maxCount:i,onAllRemoved:c,renderNotifications:ns});return m.useImperativeHandle(t,()=>Object.assign(Object.assign({},v),{prefixCls:p,message:f})),y});let os=0;function is(e){const t=m.useRef(null);Cr();return[m.useMemo(()=>{const e=e=>{var n;null===(n=t.current)||void 0===n||n.close(e)},n=n=>{if(!t.current){const e=()=>{};return e.then=()=>{},e}const{open:r,prefixCls:o,message:i}=t.current,a=`${o}-notice`,{content:l,icon:s,type:c,key:u,className:d,style:f,onClose:h}=n,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["content","icon","type","key","className","style","onClose"]);let g=u;return null==g&&(os+=1,g=`antd-message-${os}`),Jl(t=>(r(Object.assign(Object.assign({},p),{key:g,content:m.createElement(Ql,{prefixCls:o,type:c,icon:s},l),placement:"top",className:S(c&&`${a}-${c}`,d,null==i?void 0:i.className),style:Object.assign(Object.assign({},null==i?void 0:i.style),f),onClose:()=>{null==h||h(),t()}})),()=>{e(g)}))},r={open:n,destroy:n=>{var r;void 0!==n?e(n):null===(r=t.current)||void 0===r||r.destroy()}};return["info","success","warning","error","loading"].forEach(e=>{r[e]=(t,r,o)=>{let i,a,l;i=t&&"object"==typeof t&&"content"in t?t:{content:t},"function"==typeof r?l=r:(a=r,l=o);const s=Object.assign(Object.assign({onClose:l,duration:a},i),{type:e});return n(s)}}),r},[]),m.createElement(rs,Object.assign({key:"message-holder"},e,{ref:t}))]}function as(e,t){this.v=e,this.k=t}function ls(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(i){o=0}(ls=function(e,t,n,r){function i(t,n){ls(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function ss(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof l?r:l,c=Object.create(s.prototype);return ls(c,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,l=0,s=e,f.n=n,a}};function h(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],h=f.p,p=i[2];n>3?(o=p===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=n<2&&h<i[1])?(l=0,f.v=r,f.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,f.n=p,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),l=u,s=p;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(f.n=-1),h(l,s)):f.n=s:f.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(g){i=e,l=1,s=g}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(ls(t={},r,function(){return this}),t),d=c.prototype=l.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ls(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=c,ls(d,"constructor",c),ls(c,"constructor",s),s.displayName="GeneratorFunction",ls(c,o,"GeneratorFunction"),ls(d),ls(d,o,"Generator"),ls(d,r,function(){return this}),ls(d,"toString",function(){return"[object Generator]"}),(ss=function(){return{w:i,m:f}})()}function cs(e,t){function n(r,o,i,a){try{var l=e[r](o),s=l.value;return s instanceof as?t.resolve(s.v).then(function(e){n("next",e,i,a)},function(e){n("throw",e,i,a)}):t.resolve(s).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,a)})}catch(c){a(c)}}var r;this.next||(ls(cs.prototype),ls(cs.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),ls(this,"_invoke",function(e,o,i){function a(){return new t(function(t,r){n(e,i,t,r)})}return r=r?r.then(a,a):a()},!0)}function us(e,t,n,r,o){return new cs(ss().w(e,t,n,r),o||Promise)}function ds(e,t,n,r,o){var i=us(e,t,n,r,o);return i.next().then(function(e){return e.done?e.value:i.next()})}function fs(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function hs(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(O(e)+" is not iterable")}function ps(){var e=ss(),t=e.m(ps),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var o={throw:1,return:2,break:3,continue:3};function i(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,o[e],t)},delegateYield:function(e,o,i){return t.resultName=o,n(r.d,hs(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(ps=function(){return{wrap:function(t,n,r,o){return e.w(i(t),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new as(e,t)},AsyncIterator:cs,async:function(e,t,n,o,a){return(r(t)?us:ds)(i(e),t,n,o,a)},keys:fs,values:hs}})()}function gs(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,o)}function ms(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){gs(i,r,o,a,l,"next",e)}function l(e){gs(i,r,o,a,l,"throw",e)}a(void 0)})}}var vs,ys=D({},b),bs=ys.version,xs=ys.render,ws=ys.unmountComponentAtNode;try{Number((bs||"").split(".")[0])>=18&&(vs=ys.createRoot)}catch(rw){}function Cs(e){var t=ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===O(t)&&(t.usingClientEntryPoint=e)}var Ss="__rc_react_root__";function Es(e,t){vs?function(e,t){Cs(!0);var n=t[Ss]||vs(t);Cs(!1),n.render(e),t[Ss]=n}(e,t):function(e,t){null==xs||xs(e,t)}(e,t)}function Os(e){return ks.apply(this,arguments)}function ks(){return(ks=ms(ps().mark(function e(t){return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(function(){var e;null===(e=t[Ss])||void 0===e||e.unmount(),delete t[Ss]}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ms(e){ws(e)}function $s(){return($s=ms(ps().mark(function e(t){return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===vs){e.next=2;break}return e.abrupt("return",Os(t));case 2:Ms(t);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}let Is=(e,t)=>(Es(e,t),()=>function(e){return $s.apply(this,arguments)}(t));function Ns(e){return Is}const Ts=()=>({height:0,opacity:0}),Ls=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},Rs=e=>({height:e?e.offsetHeight:0}),_s=(e,t)=>!0===(null==t?void 0:t.deadline)||"height"===t.propertyName,As=(e=xo)=>({motionName:`${e}-motion-collapse`,onAppearStart:Ts,onEnterStart:Ts,onAppearActive:Ls,onEnterActive:Ls,onLeaveStart:Rs,onLeaveActive:Ts,onAppearEnd:_s,onEnterEnd:_s,onLeaveEnd:_s,motionDeadline:500}),Ps=(e,t,n)=>void 0!==n?n:`${e}-${t}`;function js(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(e){delete n[e]}),n}const Bs=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),i=o.width,a=o.height;if(i||a)return!0}}return!1},Ds=mi("Wave",e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}}),zs=`${xo}-wave-target`;function Hs(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e&&"canvastext"!==e}function Fs(e){return Number.isNaN(e)?0:e}const Ws=e=>{const{className:t,target:n,component:r,registerUnmount:o}=e,i=m.useRef(null),a=m.useRef(null);m.useEffect(()=>{a.current=o()},[]);const[l,s]=m.useState(null),[c,u]=m.useState([]),[d,f]=m.useState(0),[h,p]=m.useState(0),[g,v]=m.useState(0),[y,b]=m.useState(0),[x,w]=m.useState(!1),C={left:d,top:h,width:g,height:y,borderRadius:c.map(e=>`${e}px`).join(" ")};function E(){const e=getComputedStyle(n);s(function(e){var t;const{borderTopColor:n,borderColor:r,backgroundColor:o}=getComputedStyle(e);return null!==(t=[n,r,o].find(Hs))&&void 0!==t?t:null}(n));const t="static"===e.position,{borderLeftWidth:r,borderTopWidth:o}=e;f(t?n.offsetLeft:Fs(-Number.parseFloat(r))),p(t?n.offsetTop:Fs(-Number.parseFloat(o))),v(n.offsetWidth),b(n.offsetHeight);const{borderTopLeftRadius:i,borderTopRightRadius:a,borderBottomLeftRadius:l,borderBottomRightRadius:c}=e;u([i,a,c,l].map(e=>Fs(Number.parseFloat(e))))}if(l&&(C["--wave-color"]=l),m.useEffect(()=>{if(n){const e=dt(()=>{E(),w(!0)});let t;return"undefined"!=typeof ResizeObserver&&(t=new ResizeObserver(E),t.observe(n)),()=>{dt.cancel(e),null==t||t.disconnect()}}},[n]),!x)return null;const O=("Checkbox"===r||"Radio"===r)&&(null==n?void 0:n.classList.contains(zs));return m.createElement(oa,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n,r;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=i.current)||void 0===n?void 0:n.parentElement;null===(r=a.current)||void 0===r||r.call(a).then(()=>{null==e||e.remove()})}return!1}},({className:e},n)=>m.createElement("div",{ref:de(i,n),className:S(t,e,{"wave-quick":O}),style:C}))},Gs=(e,t)=>{var n;const{component:r}=t;if("Checkbox"===r&&!(null===(n=e.querySelector("input"))||void 0===n?void 0:n.checked))return;const o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",null==e||e.insertBefore(o,null==e?void 0:e.firstChild);const i=Ns();let a=null;a=i(m.createElement(Ws,Object.assign({},t,{target:e,registerUnmount:function(){return a}})),o)},Vs=(e,t,n)=>{const{wave:r}=m.useContext(So),[,o,i]=si(),a=zo(a=>{const l=e.current;if((null==r?void 0:r.disabled)||!l)return;const s=l.querySelector(`.${zs}`)||l,{showEffect:c}=r||{};(c||Gs)(s,{className:t,token:o,component:n,event:a,hashId:i})}),l=m.useRef(null);return e=>{dt.cancel(l.current),l.current=dt(()=>{a(e)})}},qs=e=>{const{children:t,disabled:n,component:r}=e,{getPrefixCls:o}=m.useContext(So),i=m.useRef(null),a=o("wave"),[,l]=Ds(a),s=Vs(i,S(a,l),r);if(p.useEffect(()=>{const e=i.current;if(!e||e.nodeType!==window.Node.ELEMENT_NODE||n)return;const t=t=>{!Bs(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")&&!e.className.includes("disabled:")||"true"===e.getAttribute("aria-disabled")||e.className.includes("-leave")||s(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}},[n]),!p.isValidElement(t))return null!=t?t:null;return ll(t,{ref:he(t)?de(ge(t),i):i})},Xs=e=>{const t=p.useContext(To);return p.useMemo(()=>e?"string"==typeof e?null!=e?e:t:"function"==typeof e?e(t):t:t,[e,t])},Us=e=>{const{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},Ys=e=>{const{componentCls:t,antCls:n}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-item:empty`]:{display:"none"},[`${t}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},Ks=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}},Zs=gi("Space",e=>{const t=Xo(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[Ys(t),Ks(t),Us(t)]},()=>({}),{resetStyle:!1});var Qs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Js=m.createContext(null),ec=(e,t)=>{const n=m.useContext(Js),r=m.useMemo(()=>{if(!n)return"";const{compactDirection:r,isFirstItem:o,isLastItem:i}=n,a="vertical"===r?"-vertical-":"-";return S(`${e}-compact${a}item`,{[`${e}-compact${a}first-item`]:o,[`${e}-compact${a}last-item`]:i,[`${e}-compact${a}item-rtl`]:"rtl"===t})},[e,t,n]);return{compactSize:null==n?void 0:n.compactSize,compactDirection:null==n?void 0:n.compactDirection,compactItemClassnames:r}},tc=e=>{const{children:t}=e;return m.createElement(Js.Provider,{value:null},t)},nc=e=>{const{children:t}=e,n=Qs(e,["children"]);return m.createElement(Js.Provider,{value:m.useMemo(()=>n,[n])},t)};const rc=m.createContext(void 0),oc=/^[\u4E00-\u9FA5]{2}$/,ic=oc.test.bind(oc);function ac(e){return"danger"===e?{danger:!0}:{type:e}}function lc(e){return"string"==typeof e}function sc(e){return"text"===e||"link"===e}function cc(e,t){let n=!1;const r=[];return p.Children.forEach(e,e=>{const t=typeof e,o="string"===t||"number"===t;if(n&&o){const t=r.length-1,n=r[t];r[t]=`${n}${e}`}else r.push(e);n=o}),p.Children.map(r,e=>function(e,t){if(null==e)return;const n=t?" ":"";return"string"!=typeof e&&"number"!=typeof e&&lc(e.type)&&ic(e.props.children)?ll(e,{children:e.props.children.split("").join(n)}):lc(e)?ic(e)?p.createElement("span",null,e.split("").join(n)):p.createElement("span",null,e):il(e)?p.createElement("span",null,e):e}(e,t))}["default","primary","danger"].concat(it(Jo));const uc=m.forwardRef((e,t)=>{const{className:n,style:r,children:o,prefixCls:i}=e,a=S(`${i}-icon`,n);return p.createElement("span",{ref:t,className:a,style:r},o)}),dc=m.forwardRef((e,t)=>{const{prefixCls:n,className:r,style:o,iconClassName:i}=e,a=S(`${n}-loading-icon`,r);return p.createElement(uc,{prefixCls:n,className:a,style:o,ref:t},p.createElement(Gl,{className:i}))}),fc=()=>({width:0,opacity:0,transform:"scale(0)"}),hc=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),pc=e=>{const{prefixCls:t,loading:n,existIcon:r,className:o,style:i,mount:a}=e,l=!!n;return r?p.createElement(dc,{prefixCls:t,className:o,style:i}):p.createElement(oa,{visible:l,motionName:`${t}-loading-icon-motion`,motionAppear:!a,motionEnter:!a,motionLeave:!a,removeOnLeave:!0,onAppearStart:fc,onAppearActive:hc,onEnterStart:fc,onEnterActive:hc,onLeaveStart:hc,onLeaveActive:fc},({className:e,style:n},r)=>{const a=Object.assign(Object.assign({},i),n);return p.createElement(dc,{prefixCls:t,className:S(o,e),style:a,ref:r})})},gc=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),mc=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:o,colorErrorHover:i}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(r).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},gc(`${t}-primary`,o),gc(`${t}-danger`,i)]}};var vc,yc=["b"],bc=["v"],xc=function(e){return Math.round(Number(e||0))},wc=function(){Ve(t,Wr);var e=Ke(t);function t(n){return He(this,t),e.call(this,function(e){if(e instanceof Wr)return e;if(e&&"object"===O(e)&&"h"in e&&"b"in e){var t=e,n=t.b;return D(D({},$t(t,yc)),{},{v:n})}return"string"==typeof e&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e}(n))}return We(t,[{key:"toHsbString",value:function(){var e=this.toHsb(),t=xc(100*e.s),n=xc(100*e.b),r=xc(e.h),o=e.a,i="hsb(".concat(r,", ").concat(t,"%, ").concat(n,"%)"),a="hsba(".concat(r,", ").concat(t,"%, ").concat(n,"%, ").concat(o.toFixed(0===o?0:2),")");return 1===o?i:a}},{key:"toHsb",value:function(){var e=this.toHsv(),t=e.v;return D(D({},$t(e,bc)),{},{b:t,a:this.a})}}]),t}();(vc="#1677ff")instanceof wc||new wc(vc);let Cc=function(){return We(function e(t){var n;if(He(this,e),this.cleared=!1,t instanceof e)return this.metaColor=t.metaColor.clone(),this.colors=null===(n=t.colors)||void 0===n?void 0:n.map(t=>({color:new e(t.color),percent:t.percent})),void(this.cleared=t.cleared);const r=Array.isArray(t);r&&t.length?(this.colors=t.map(({color:t,percent:n})=>({color:new e(t),percent:n})),this.metaColor=new wc(this.colors[0].color.metaColor)):this.metaColor=new wc(r?"":t),(!t||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)},[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return e=this.toHexString(),t=this.metaColor.a<1,e?((e,t)=>(null==e?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"")(e,t):"";var e,t}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:e}=this;if(e){return`linear-gradient(90deg, ${e.map(e=>`${e.color.toRgbString()} ${e.percent}%`).join(", ")})`}return this.metaColor.toRgbString()}},{key:"equals",value:function(e){return!(!e||this.isGradient()!==e.isGradient())&&(this.isGradient()?this.colors.length===e.colors.length&&this.colors.every((t,n)=>{const r=e.colors[n];return t.percent===r.percent&&t.color.equals(r.color)}):this.toHexString()===e.toHexString())}}])}();var Sc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},Ec=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:Sc}))},Oc=m.forwardRef(Ec),kc=p.forwardRef(function(e,t){var n=e.prefixCls,r=e.forceRender,o=e.className,i=e.style,a=e.children,l=e.isActive,s=e.role,c=e.classNames,u=e.styles,d=pt(p.useState(l||r),2),f=d[0],h=d[1];return p.useEffect(function(){(r||l)&&h(!0)},[r,l]),f?p.createElement("div",{ref:t,className:S("".concat(n,"-content"),j(j({},"".concat(n,"-content-active"),l),"".concat(n,"-content-inactive"),!l),o),style:i,role:s},p.createElement("div",{className:S("".concat(n,"-content-box"),null==c?void 0:c.body),style:null==u?void 0:u.body},a)):null});kc.displayName="PanelContent";var Mc=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],$c=p.forwardRef(function(e,t){var n=e.showArrow,r=void 0===n||n,o=e.headerClass,i=e.isActive,a=e.onItemClick,l=e.forceRender,s=e.className,c=e.classNames,u=void 0===c?{}:c,d=e.styles,f=void 0===d?{}:d,h=e.prefixCls,g=e.collapsible,m=e.accordion,v=e.panelKey,y=e.extra,b=e.header,x=e.expandIcon,w=e.openMotion,C=e.destroyInactivePanel,O=e.children,k=$t(e,Mc),M="disabled"===g,$=null!=y&&"boolean"!=typeof y,I=j(j(j({onClick:function(){null==a||a(v)},onKeyDown:function(e){"Enter"!==e.key&&e.keyCode!==Tl.ENTER&&e.which!==Tl.ENTER||null==a||a(v)},role:m?"tab":"button"},"aria-expanded",i),"aria-disabled",M),"tabIndex",M?-1:0),N="function"==typeof x?x(e):p.createElement("i",{className:"arrow"}),T=N&&p.createElement("div",E({className:"".concat(h,"-expand-icon")},["header","icon"].includes(g)?I:{}),N),L=S("".concat(h,"-item"),j(j({},"".concat(h,"-item-active"),i),"".concat(h,"-item-disabled"),M),s),R=D({className:S(o,"".concat(h,"-header"),j({},"".concat(h,"-collapsible-").concat(g),!!g),u.header),style:f.header},["header","icon"].includes(g)?{}:I);return p.createElement("div",E({},k,{ref:t,className:L}),p.createElement("div",R,r&&T,p.createElement("span",E({className:"".concat(h,"-header-text")},"header"===g?I:{}),b),$&&p.createElement("div",{className:"".concat(h,"-extra")},y)),p.createElement(oa,E({visible:i,leavedClassName:"".concat(h,"-content-hidden")},w,{forceRender:l,removeOnLeave:C}),function(e,t){var n=e.className,r=e.style;return p.createElement(kc,{ref:t,prefixCls:h,className:n,classNames:u,style:r,styles:f,isActive:i,forceRender:l,role:m?"tabpanel":void 0},O)}))}),Ic=["children","label","key","collapsible","onItemClick","destroyInactivePanel"];function Nc(e,t,n){return Array.isArray(e)?function(e,t){var n=t.prefixCls,r=t.accordion,o=t.collapsible,i=t.destroyInactivePanel,a=t.onItemClick,l=t.activeKey,s=t.openMotion,c=t.expandIcon;return e.map(function(e,t){var u=e.children,d=e.label,f=e.key,h=e.collapsible,g=e.onItemClick,m=e.destroyInactivePanel,v=$t(e,Ic),y=String(null!=f?f:t),b=null!=h?h:o,x=null!=m?m:i,w=!1;return w=r?l[0]===y:l.indexOf(y)>-1,p.createElement($c,E({},v,{prefixCls:n,key:y,panelKey:y,isActive:w,accordion:r,openMotion:s,expandIcon:c,header:d,collapsible:b,onItemClick:function(e){"disabled"!==b&&(a(e),null==g||g(e))},destroyInactivePanel:x}),u)})}(e,n):N(t).map(function(e,t){return function(e,t,n){if(!e)return null;var r=n.prefixCls,o=n.accordion,i=n.collapsible,a=n.destroyInactivePanel,l=n.onItemClick,s=n.activeKey,c=n.openMotion,u=n.expandIcon,d=e.key||String(t),f=e.props,h=f.header,g=f.headerClass,m=f.destroyInactivePanel,v=f.collapsible,y=f.onItemClick,b=!1;b=o?s[0]===d:s.indexOf(d)>-1;var x=null!=v?v:i,w={key:d,panelKey:d,header:h,headerClass:g,isActive:b,prefixCls:r,destroyInactivePanel:null!=m?m:a,openMotion:c,accordion:o,children:e.props.children,onItemClick:function(e){"disabled"!==x&&(l(e),null==y||y(e))},expandIcon:u,collapsible:x};return"string"==typeof e.type?e:(Object.keys(w).forEach(function(e){void 0===w[e]&&delete w[e]}),p.cloneElement(e,w))}(e,t,n)})}function Tc(e){var t=e;if(!Array.isArray(t)){var n=O(t);t="number"===n||"string"===n?[t]:[]}return t.map(function(e){return String(e)})}var Lc=p.forwardRef(function(e,t){var n=e.prefixCls,r=void 0===n?"rc-collapse":n,o=e.destroyInactivePanel,i=void 0!==o&&o,a=e.style,l=e.accordion,s=e.className,c=e.children,u=e.collapsible,d=e.openMotion,f=e.expandIcon,h=e.activeKey,g=e.defaultActiveKey,m=e.onChange,v=e.items,y=S(r,s),b=pt(Wo([],{value:h,onChange:function(e){return null==m?void 0:m(e)},defaultValue:g,postState:Tc}),2),x=b[0],w=b[1];A(!c,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var C=Nc(v,c,{prefixCls:r,accordion:l,openMotion:d,expandIcon:f,collapsible:u,destroyInactivePanel:i,onItemClick:function(e){return w(function(){return l?x[0]===e?[]:[e]:x.indexOf(e)>-1?x.filter(function(t){return t!==e}):[].concat(it(x),[e])})},activeKey:x});return p.createElement("div",E({ref:t,className:y,style:a,role:l?"tablist":void 0},ol(e,{aria:!0,data:!0})),C)});const Rc=Object.assign(Lc,{Panel:$c});Rc.Panel;const _c=m.forwardRef((e,t)=>{const{getPrefixCls:n}=m.useContext(So),{prefixCls:r,className:o,showArrow:i=!0}=e,a=n("collapse",r),l=S({[`${a}-no-arrow`]:!i},o);return m.createElement(Rc.Panel,Object.assign({ref:t},e,{prefixCls:a,className:l}))}),Ac=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},\n        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},\n        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),Pc=e=>({animationDuration:e,animationFillMode:"both"}),jc=e=>({animationDuration:e,animationFillMode:"both"}),Bc=(e,t,n,r,o=!1)=>{const i=o?"&":"";return{[`\n      ${i}${e}-enter,\n      ${i}${e}-appear\n    `]:Object.assign(Object.assign({},Pc(r)),{animationPlayState:"paused"}),[`${i}${e}-leave`]:Object.assign(Object.assign({},jc(r)),{animationPlayState:"paused"}),[`\n      ${i}${e}-enter${e}-enter-active,\n      ${i}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${i}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},Dc=new ur("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),zc=new ur("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Hc=(e,t=!1)=>{const{antCls:n}=e,r=`${n}-fade`,o=t?"&":"";return[Bc(r,Dc,zc,e.motionDurationMid,t),{[`\n        ${o}${r}-enter,\n        ${o}${r}-appear\n      `]:{opacity:0,animationTimingFunction:"linear"},[`${o}${r}-leave`]:{animationTimingFunction:"linear"}}]},Fc=new ur("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Wc=new ur("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Gc=new ur("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Vc=new ur("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),qc=new ur("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Xc=new ur("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Uc={"move-up":{inKeyframes:new ur("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new ur("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:Fc,outKeyframes:Wc},"move-left":{inKeyframes:Gc,outKeyframes:Vc},"move-right":{inKeyframes:qc,outKeyframes:Xc}},Yc=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:o,outKeyframes:i}=Uc[t];return[Bc(r,o,i,e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},Kc=new ur("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),Zc=new ur("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),Qc=new ur("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),Jc=new ur("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),eu=new ur("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),tu=new ur("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),nu=new ur("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),ru=new ur("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),ou={"slide-up":{inKeyframes:Kc,outKeyframes:Zc},"slide-down":{inKeyframes:Qc,outKeyframes:Jc},"slide-left":{inKeyframes:eu,outKeyframes:tu},"slide-right":{inKeyframes:nu,outKeyframes:ru}},iu=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:o,outKeyframes:i}=ou[t];return[Bc(r,o,i,e.motionDurationMid),{[`\n      ${r}-enter,\n      ${r}-appear\n    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},au=new ur("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),lu=new ur("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),su=new ur("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),cu=new ur("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),uu=new ur("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),du=new ur("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),fu=new ur("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),hu=new ur("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),pu=new ur("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),gu=new ur("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),mu=new ur("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),vu=new ur("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),yu={zoom:{inKeyframes:au,outKeyframes:lu},"zoom-big":{inKeyframes:su,outKeyframes:cu},"zoom-big-fast":{inKeyframes:su,outKeyframes:cu},"zoom-left":{inKeyframes:fu,outKeyframes:hu},"zoom-right":{inKeyframes:pu,outKeyframes:gu},"zoom-up":{inKeyframes:uu,outKeyframes:du},"zoom-down":{inKeyframes:mu,outKeyframes:vu}},bu=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:o,outKeyframes:i}=yu[t];return[Bc(r,o,i,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},xu=e=>{const{componentCls:t,contentBg:n,padding:r,headerBg:o,headerPadding:i,collapseHeaderPaddingSM:a,collapseHeaderPaddingLG:l,collapsePanelBorderRadius:s,lineWidth:c,lineType:u,colorBorder:d,colorText:f,colorTextHeading:h,colorTextDisabled:p,fontSizeLG:g,lineHeight:m,lineHeightLG:v,marginSM:y,paddingSM:b,paddingLG:x,paddingXS:w,motionDurationSlow:C,fontSizeIcon:S,contentPadding:E,fontHeight:O,fontHeightLG:k}=e,M=`${Xt(c)} ${u} ${d}`;return{[t]:Object.assign(Object.assign({},ui(e)),{backgroundColor:o,border:M,borderRadius:s,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:M,"&:first-child":{[`\n            &,\n            & > ${t}-header`]:{borderRadius:`${Xt(s)} ${Xt(s)} 0 0`}},"&:last-child":{[`\n            &,\n            & > ${t}-header`]:{borderRadius:`0 0 ${Xt(s)} ${Xt(s)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:i,color:h,lineHeight:m,cursor:"pointer",transition:`all ${C}, visibility 0s`},fi(e)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:O,display:"flex",alignItems:"center",paddingInlineEnd:y},[`${t}-arrow`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{fontSize:S,transition:`transform ${C}`,svg:{transition:`transform ${C}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"},[`${t}-expand-icon`]:{cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:f,backgroundColor:n,borderTop:M,[`& > ${t}-content-box`]:{padding:E},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:a,paddingInlineStart:w,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(b).sub(w).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:b}}},"&-large":{[`> ${t}-item`]:{fontSize:g,lineHeight:v,[`> ${t}-header`]:{padding:l,paddingInlineStart:r,[`> ${t}-expand-icon`]:{height:k,marginInlineStart:e.calc(x).sub(r).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:x}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${Xt(s)} ${Xt(s)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:p,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:y}}}}})}},wu=e=>{const{componentCls:t}=e,n=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},Cu=e=>{const{componentCls:t,headerBg:n,borderlessContentPadding:r,borderlessContentBg:o,colorBorder:i}=e;return{[`${t}-borderless`]:{backgroundColor:n,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${i}`},[`\n        > ${t}-item:last-child,\n        > ${t}-item:last-child ${t}-header\n      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:o,borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{padding:r}}}},Su=e=>{const{componentCls:t,paddingSM:n}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:n}}}}}},Eu=gi("Collapse",e=>{const t=Xo(e,{collapseHeaderPaddingSM:`${Xt(e.paddingXS)} ${Xt(e.paddingSM)}`,collapseHeaderPaddingLG:`${Xt(e.padding)} ${Xt(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[xu(t),Cu(t),Su(t),wu(t),Ac(t)]},e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer,borderlessContentPadding:`${e.paddingXXS}px 16px ${e.padding}px`,borderlessContentBg:"transparent"})),Ou=m.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r,expandIcon:o,className:i,style:a}=ko("collapse"),{prefixCls:l,className:s,rootClassName:c,style:u,bordered:d=!0,ghost:f,size:h,expandIconPosition:p="start",children:g,destroyInactivePanel:v,destroyOnHidden:y,expandIcon:b}=e,x=Xs(e=>{var t;return null!==(t=null!=h?h:e)&&void 0!==t?t:"middle"}),w=n("collapse",l),C=n(),[E,O,k]=Eu(w),M=m.useMemo(()=>"left"===p?"start":"right"===p?"end":p,[p]),$=null!=b?b:o,I=m.useCallback((e={})=>{const t="function"==typeof $?$(e):m.createElement(Oc,{rotate:e.isActive?"rtl"===r?-90:90:void 0,"aria-label":e.isActive?"expanded":"collapsed"});return ll(t,()=>{var e;return{className:S(null===(e=t.props)||void 0===e?void 0:e.className,`${w}-arrow`)}})},[$,w,r]),T=S(`${w}-icon-position-${M}`,{[`${w}-borderless`]:!d,[`${w}-rtl`]:"rtl"===r,[`${w}-ghost`]:!!f,[`${w}-${x}`]:"middle"!==x},i,s,c,O,k),L=m.useMemo(()=>Object.assign(Object.assign({},As(C)),{motionAppear:!1,leavedClassName:`${w}-content-hidden`}),[C,w]),R=m.useMemo(()=>g?N(g).map((e,t)=>{var n,r;const o=e.props;if(null==o?void 0:o.disabled){const i=null!==(n=e.key)&&void 0!==n?n:String(t);return ll(e,Object.assign(Object.assign({},js(e.props,["disabled"])),{key:i,collapsible:null!==(r=o.collapsible)&&void 0!==r?r:"disabled"}))}return e}):null,[g]);return E(m.createElement(Rc,Object.assign({ref:t,openMotion:L},js(e,["rootClassName"]),{expandIcon:I,prefixCls:w,className:T,style:Object.assign(Object.assign({},a),u),destroyInactivePanel:null!=y?y:v}),R))}),ku=Object.assign(Ou,{Panel:_c}),Mu=e=>{const{paddingInline:t,onlyIconSize:n}=e;return Xo(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},$u=e=>{var t,n,r,o,i,a;const l=null!==(t=e.contentFontSize)&&void 0!==t?t:e.fontSize,s=null!==(n=e.contentFontSizeSM)&&void 0!==n?n:e.fontSize,c=null!==(r=e.contentFontSizeLG)&&void 0!==r?r:e.fontSizeLG,u=null!==(o=e.contentLineHeight)&&void 0!==o?o:uo(l),d=null!==(i=e.contentLineHeightSM)&&void 0!==i?i:uo(s),f=null!==(a=e.contentLineHeightLG)&&void 0!==a?a:uo(c),h=((e,t)=>{const{r:n,g:r,b:o,a:i}=e.toRgb(),a=new wc(e.toRgbString()).onBackground(t).toHsv();return i<=.5?a.v>.5:.299*n+.587*r+.114*o>192})(new Cc(e.colorBgSolid),"#fff")?"#000":"#fff",p=Jo.reduce((t,n)=>Object.assign(Object.assign({},t),{[`${n}ShadowColor`]:`0 ${Xt(e.controlOutlineWidth)} 0 ${ti(e[`${n}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},p),{fontWeight:400,iconGap:e.marginXS,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:h,contentFontSize:l,contentFontSizeSM:s,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:f,paddingBlock:Math.max((e.controlHeight-l*u)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-s*d)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-c*f)/2-e.lineWidth,0)})},Iu=e=>{const{componentCls:t,iconCls:n,fontWeight:r,opacityLoading:o,motionDurationSlow:i,motionEaseInOut:a,iconGap:l,calc:s}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:l,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Xt(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}},"> a":{color:"currentColor"},"&:not(:disabled)":fi(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"}},[`&${t}-loading`]:{opacity:o,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(e=>`${e} ${i} ${a}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:s(l).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:s(l).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:s(l).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:s(l).mul(-1).equal()}}}}}},Nu=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),Tu=e=>({minWidth:e.controlHeight,paddingInline:0,borderRadius:"50%"}),Lu=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),Ru=(e,t,n,r,o,i,a,l)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:r||void 0,boxShadow:"none"},Nu(e,Object.assign({background:t},a),Object.assign({background:t},l))),{"&:disabled":{cursor:"not-allowed",color:o||void 0,borderColor:i||void 0}})}),_u=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},Lu(e))}),Au=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Pu=(e,t,n,r)=>{const o=r&&["link","text"].includes(r)?Au:_u;return Object.assign(Object.assign({},o(e)),Nu(e.componentCls,t,n))},ju=(e,t,n,r,o)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:n},Pu(e,r,o))}),Bu=(e,t,n,r,o)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:n},Pu(e,r,o))}),Du=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),zu=(e,t,n,r)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},Pu(e,n,r))}),Hu=(e,t,n,r,o)=>({[`&${e.componentCls}-variant-${n}`]:Object.assign({color:t,boxShadow:"none"},Pu(e,r,o,n))}),Fu=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},ju(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),Du(e)),zu(e,e.colorFillTertiary,{color:e.defaultColor,background:e.colorFillSecondary},{color:e.defaultColor,background:e.colorFill})),Ru(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),Hu(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),Wu=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},Bu(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),Du(e)),zu(e,e.colorPrimaryBg,{color:e.colorPrimary,background:e.colorPrimaryBgHover},{color:e.colorPrimary,background:e.colorPrimaryBorder})),Hu(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),Hu(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),Ru(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Gu=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},ju(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),Bu(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Du(e)),zu(e,e.colorErrorBg,{color:e.colorError,background:e.colorErrorBgFilledHover},{color:e.colorError,background:e.colorErrorBgActive})),Hu(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),Hu(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),Ru(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Vu=e=>Object.assign(Object.assign({},Hu(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),Ru(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),qu=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:Fu(e),[`${t}-color-primary`]:Wu(e),[`${t}-color-dangerous`]:Gu(e),[`${t}-color-link`]:Vu(e)},(e=>{const{componentCls:t}=e;return Jo.reduce((n,r)=>{const o=e[`${r}6`],i=e[`${r}1`],a=e[`${r}5`],l=e[`${r}2`],s=e[`${r}3`],c=e[`${r}7`];return Object.assign(Object.assign({},n),{[`&${t}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:o,boxShadow:e[`${r}ShadowColor`]},ju(e,e.colorTextLightSolid,o,{background:a},{background:c})),Bu(e,o,e.colorBgContainer,{color:a,borderColor:a,background:e.colorBgContainer},{color:c,borderColor:c,background:e.colorBgContainer})),Du(e)),zu(e,i,{color:o,background:l},{color:o,background:s})),Hu(e,o,"link",{color:a},{color:c})),Hu(e,o,"text",{color:a,background:i},{color:c,background:s}))})},{})})(e))},Xu=e=>Object.assign(Object.assign(Object.assign(Object.assign({},Bu(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),Hu(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),ju(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),Hu(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),Uu=(e,t="")=>{const{componentCls:n,controlHeight:r,fontSize:o,borderRadius:i,buttonPaddingHorizontal:a,iconCls:l,buttonPaddingVertical:s,buttonIconOnlyFontSize:c}=e;return[{[t]:{fontSize:o,height:r,padding:`${Xt(s)} ${Xt(a)}`,borderRadius:i,[`&${n}-icon-only`]:{width:r,[l]:{fontSize:c}}}},{[`${n}${n}-circle${t}`]:Tu(e)},{[`${n}${n}-round${t}`]:{borderRadius:e.controlHeight,[`&:not(${n}-icon-only)`]:{paddingInline:e.buttonPaddingHorizontal}}}]},Yu=e=>{const t=Xo(e,{fontSize:e.contentFontSize});return Uu(t,e.componentCls)},Ku=e=>{const t=Xo(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return Uu(t,`${e.componentCls}-sm`)},Zu=e=>{const t=Xo(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return Uu(t,`${e.componentCls}-lg`)},Qu=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},Ju=gi("Button",e=>{const t=Mu(e);return[Iu(t),Yu(t),Ku(t),Zu(t),Qu(t),qu(t),Xu(t),mc(t)]},$u,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function ed(e,t,n,r){const{focusElCls:o,focus:i,borderElCls:a}=n,l=a?"> *":"",s=["hover",i?"focus":null,"active"].filter(Boolean).map(e=>`&:${e} ${l}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},[`&-item:not(${r}-status-success)`]:{zIndex:2},"&-item":Object.assign(Object.assign({[s]:{zIndex:3}},o?{[`&${o}`]:{zIndex:3}}:{}),{[`&[disabled] ${l}`]:{zIndex:0}})}}function td(e,t,n){const{borderElCls:r}=n,o=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${o}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${o}, &${e}-sm ${o}, &${e}-lg ${o}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${o}, &${e}-sm ${o}, &${e}-lg ${o}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function nd(e,t={focus:!0}){const{componentCls:n}=e,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},ed(e,r,t,n)),td(n,r,t))}}function rd(e,t,n){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},[`&-item:not(${n}-status-success)`]:{zIndex:2},"&-item":{"&:hover,&:focus,&:active":{zIndex:3},"&[disabled]":{zIndex:0}}}}function od(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},rd(e,t,e.componentCls)),(n=e.componentCls,r=t,{[`&-item:not(${r}-first-item):not(${r}-last-item)`]:{borderRadius:0},[`&-item${r}-first-item:not(${r}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${r}-last-item:not(${r}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var n,r}const id=e=>{const{componentCls:t,colorPrimaryHover:n,lineWidth:r,calc:o}=e,i=o(r).mul(-1).equal(),a=e=>{const o=`${t}-compact${e?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${o} + ${o}::before`]:{position:"absolute",top:e?i:0,insetInlineStart:e?0:i,backgroundColor:n,content:'""',width:e?"100%":r,height:e?r:"100%"}}};return Object.assign(Object.assign({},a()),a(!0))},ad=vi(["Button","compact"],e=>{const t=Mu(e);return[nd(t),od(t),id(t)]},$u);const ld={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},sd=p.forwardRef((e,t)=>{var n,r;const{loading:o=!1,prefixCls:i,color:a,variant:l,type:s,danger:c=!1,shape:u,size:d,styles:f,disabled:h,className:g,rootClassName:v,children:y,icon:b,iconPosition:x="start",ghost:w=!1,block:C=!1,htmlType:E="button",classNames:O,style:k={},autoInsertSpace:M,autoFocus:$}=e,I=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),N=s||"default",{button:T}=p.useContext(So),L=u||(null==T?void 0:T.shape)||"default",[R,_]=m.useMemo(()=>{if(a&&l)return[a,l];if(s||c){const e=ld[N]||[];return c?["danger",e[1]]:e}return(null==T?void 0:T.color)&&(null==T?void 0:T.variant)?[T.color,T.variant]:["default","outlined"]},[s,a,l,c,null==T?void 0:T.variant,null==T?void 0:T.color]),A="danger"===R?"dangerous":R,{getPrefixCls:P,direction:j,autoInsertSpace:B,className:D,style:z,classNames:H,styles:F}=ko("button"),W=null===(n=null!=M?M:B)||void 0===n||n,G=P("btn",i),[V,q,X]=Ju(G),U=m.useContext(Io),Y=null!=h?h:U,K=m.useContext(rc),Z=m.useMemo(()=>function(e){if("object"==typeof e&&e){let t=null==e?void 0:e.delay;return t=Number.isNaN(t)||"number"!=typeof t?0:t,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}(o),[o]),[Q,J]=m.useState(Z.loading),[ee,te]=m.useState(!1),ne=m.useRef(null),re=fe(t,ne),oe=1===m.Children.count(y)&&!b&&!sc(_),ie=m.useRef(!0);p.useEffect(()=>(ie.current=!1,()=>{ie.current=!0}),[]),Jt(()=>{let e=null;return Z.delay>0?e=setTimeout(()=>{e=null,J(!0)},Z.delay):J(Z.loading),function(){e&&(clearTimeout(e),e=null)}},[Z.delay,Z.loading]),m.useEffect(()=>{if(!ne.current||!W)return;const e=ne.current.textContent||"";oe&&ic(e)?ee||te(!0):ee&&te(!1)}),m.useEffect(()=>{$&&ne.current&&ne.current.focus()},[]);const ae=p.useCallback(t=>{var n;Q||Y?t.preventDefault():null===(n=e.onClick)||void 0===n||n.call(e,t)},[e.onClick,Q,Y]),{compactSize:le,compactItemClassnames:se}=ec(G,j),ce=Xs(e=>{var t,n;return null!==(n=null!==(t=null!=d?d:le)&&void 0!==t?t:K)&&void 0!==n?n:e}),ue=ce&&null!==(r={large:"lg",small:"sm",middle:void 0}[ce])&&void 0!==r?r:"",de=Q?"loading":b,he=js(I,["navigate"]),pe=S(G,q,X,{[`${G}-${L}`]:"default"!==L&&L,[`${G}-${N}`]:N,[`${G}-dangerous`]:c,[`${G}-color-${A}`]:A,[`${G}-variant-${_}`]:_,[`${G}-${ue}`]:ue,[`${G}-icon-only`]:!y&&0!==y&&!!de,[`${G}-background-ghost`]:w&&!sc(_),[`${G}-loading`]:Q,[`${G}-two-chinese-chars`]:ee&&W&&!Q,[`${G}-block`]:C,[`${G}-rtl`]:"rtl"===j,[`${G}-icon-end`]:"end"===x},se,g,v,D),ge=Object.assign(Object.assign({},z),k),me=S(null==O?void 0:O.icon,H.icon),ve=Object.assign(Object.assign({},(null==f?void 0:f.icon)||{}),F.icon||{}),ye=b&&!Q?p.createElement(uc,{prefixCls:G,className:me,style:ve},b):o&&"object"==typeof o&&o.icon?p.createElement(uc,{prefixCls:G,className:me,style:ve},o.icon):p.createElement(pc,{existIcon:!!b,prefixCls:G,loading:Q,mount:ie.current}),be=y||0===y?cc(y,oe&&W):null;if(void 0!==he.href)return V(p.createElement("a",Object.assign({},he,{className:S(pe,{[`${G}-disabled`]:Y}),href:Y?void 0:he.href,style:ge,onClick:ae,ref:re,tabIndex:Y?-1:0,"aria-disabled":Y}),ye,be));let xe=p.createElement("button",Object.assign({},I,{type:E,className:pe,style:ge,onClick:ae,disabled:Y,ref:re}),ye,be,se&&p.createElement(ad,{prefixCls:G}));return sc(_)||(xe=p.createElement(qs,{component:"Button",disabled:Q},xe)),V(xe)}),cd=sd;cd.Group=e=>{const{getPrefixCls:t,direction:n}=m.useContext(So),{prefixCls:r,size:o,className:i}=e,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","size","className"]),l=t("btn-group",r),[,,s]=si(),c=m.useMemo(()=>{switch(o){case"large":return"lg";case"small":return"sm";default:return""}},[o]),u=S(l,{[`${l}-${c}`]:c,[`${l}-rtl`]:"rtl"===n},i,s);return m.createElement(rc.Provider,{value:o},m.createElement("div",Object.assign({},a,{className:u})))},cd.__ANT_BUTTON=!0;const ud=e=>"function"==typeof(null==e?void 0:e.then),dd=e=>{const{type:t,children:n,prefixCls:r,buttonProps:o,close:i,autoFocus:a,emitEvent:l,isSilent:s,quitOnNullishReturnValue:c,actionFn:u}=e,d=m.useRef(!1),f=m.useRef(null),[h,p]=Ho(!1),g=(...e)=>{null==i||i.apply(void 0,e)};m.useEffect(()=>{let e=null;return a&&(e=setTimeout(()=>{var e;null===(e=f.current)||void 0===e||e.focus({preventScroll:!0})})),()=>{e&&clearTimeout(e)}},[a]);return m.createElement(cd,Object.assign({},ac(t),{onClick:e=>{if(d.current)return;if(d.current=!0,!u)return void g();let t;if(l){if(t=u(e),c&&!ud(t))return d.current=!1,void g(e)}else if(u.length)t=u(i),d.current=!1;else if(t=u(),!ud(t))return void g();(e=>{ud(e)&&(p(!0),e.then((...e)=>{p(!1,!0),g.apply(void 0,e),d.current=!1},e=>{if(p(!1,!0),d.current=!1,!(null==s?void 0:s()))return Promise.reject(e)}))})(t)},loading:h,prefixCls:r},o,{ref:f}),n)},fd=p.createContext({}),{Provider:hd}=fd,pd=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:r,mergedOkCancel:o,rootPrefixCls:i,close:a,onCancel:l,onConfirm:s}=m.useContext(fd);return o?p.createElement(dd,{isSilent:r,actionFn:l,close:(...e)=>{null==a||a.apply(void 0,e),null==s||s(!1)},autoFocus:"cancel"===e,buttonProps:t,prefixCls:`${i}-btn`},n):null},gd=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:r,rootPrefixCls:o,okTextLocale:i,okType:a,onConfirm:l,onOk:s}=m.useContext(fd);return p.createElement(dd,{isSilent:n,type:a||"primary",actionFn:s,close:(...e)=>{null==t||t.apply(void 0,e),null==l||l(!0)},autoFocus:"ok"===e,buttonProps:r,prefixCls:`${o}-btn`},i)};var md,vd=m.createContext(null),yd=[];function bd(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,o,i=n.style;if(i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll",e){var a=getComputedStyle(e);i.scrollbarColor=a.scrollbarColor,i.scrollbarWidth=a.scrollbarWidth;var l=getComputedStyle(e,"::-webkit-scrollbar"),s=parseInt(l.width,10),c=parseInt(l.height,10);try{var u=s?"width: ".concat(l.width,";"):"",d=c?"height: ".concat(l.height,";"):"";Mt("\n#".concat(t,"::-webkit-scrollbar {\n").concat(u,"\n").concat(d,"\n}"),t)}catch(rw){r=s,o=c}}document.body.appendChild(n);var f=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,h=e&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),kt(t),{width:f,height:h}}function xd(e){return"undefined"==typeof document?0:(void 0===md&&(md=bd()),md.width)}function wd(e){return"undefined"!=typeof document&&e&&e instanceof Element?bd(e):{width:0,height:0}}var Cd="rc-util-locker-".concat(Date.now()),Sd=0;function Ed(e){var t=!!e,n=pt(m.useState(function(){return Sd+=1,"".concat(Cd,"_").concat(Sd)}),1)[0];Jt(function(){if(t){var e=wd(document.body).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;Mt("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else kt(n);return function(){kt(n)}},[t,n])}var Od=function(e){return!1!==e&&(mt()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},kd=m.forwardRef(function(e,t){var n=e.open,r=e.autoLock,o=e.getContainer;e.debug;var i=e.autoDestroy,a=void 0===i||i,l=e.children,s=pt(m.useState(n),2),c=s[0],u=s[1],d=c||n;m.useEffect(function(){(a||n)&&u(n)},[n,a]);var f=pt(m.useState(function(){return Od(o)}),2),h=f[0],p=f[1];m.useEffect(function(){var e=Od(o);p(null!=e?e:null)});var g=function(e){var t=pt(m.useState(function(){return mt()?document.createElement("div"):null}),1)[0],n=m.useRef(!1),r=m.useContext(vd),o=pt(m.useState(yd),2),i=o[0],a=o[1],l=r||(n.current?void 0:function(e){a(function(t){return[e].concat(it(t))})});function s(){t.parentElement||document.body.appendChild(t),n.current=!0}function c(){var e;null===(e=t.parentElement)||void 0===e||e.removeChild(t),n.current=!1}return Jt(function(){return e?r?r(s):s():c(),c},[e]),Jt(function(){i.length&&(i.forEach(function(e){return e()}),a(yd))},[i]),[t,l]}(d&&!h),v=pt(g,2),b=v[0],x=v[1],w=null!=h?h:b;Ed(r&&n&&mt()&&(w===b||w===document.body));var C=null;l&&he(l)&&t&&(C=l.ref);var S=fe(C,t);if(!d||!mt()||void 0===h)return null;var E=!1===w||!1,O=l;return t&&(O=m.cloneElement(l,{ref:S})),m.createElement(vd.Provider,{value:x},E?O:y.createPortal(O,w))}),Md=m.createContext({});var $d=0,Id=D({},v).useId;const Nd=Id?function(e){var t=Id();return e||t}:function(e){var t=pt(m.useState("ssr-id"),2),n=t[0],r=t[1];return m.useEffect(function(){var e=$d;$d+=1,r("rc_unique_".concat(e))},[]),e||n};function Td(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function Ld(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}const Rd=m.memo(function(e){return e.children},function(e,t){return!t.shouldUpdate});var _d={width:0,height:0,overflow:"hidden",outline:"none"},Ad={outline:"none"},Pd=p.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,o=e.style,i=e.title,a=e.ariaId,l=e.footer,s=e.closable,c=e.closeIcon,u=e.onClose,d=e.children,f=e.bodyStyle,h=e.bodyProps,g=e.modalRender,v=e.onMouseDown,y=e.onMouseUp,b=e.holderRef,x=e.visible,w=e.forceRender,C=e.width,k=e.height,M=e.classNames,$=e.styles,I=p.useContext(Md).panel,N=fe(b,I),T=m.useRef(),L=m.useRef();p.useImperativeHandle(t,function(){return{focus:function(){var e;null===(e=T.current)||void 0===e||e.focus({preventScroll:!0})},changeActive:function(e){var t=document.activeElement;e&&t===L.current?T.current.focus({preventScroll:!0}):e||t!==T.current||L.current.focus({preventScroll:!0})}}});var R={};void 0!==C&&(R.width=C),void 0!==k&&(R.height=k);var _=l?p.createElement("div",{className:S("".concat(n,"-footer"),null==M?void 0:M.footer),style:D({},null==$?void 0:$.footer)},l):null,A=i?p.createElement("div",{className:S("".concat(n,"-header"),null==M?void 0:M.header),style:D({},null==$?void 0:$.header)},p.createElement("div",{className:"".concat(n,"-title"),id:a},i)):null,P=m.useMemo(function(){return"object"===O(s)&&null!==s?s:s?{closeIcon:null!=c?c:p.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[s,c,n]),j=ol(P,!0),B="object"===O(s)&&s.disabled,z=s?p.createElement("button",E({type:"button",onClick:u,"aria-label":"Close"},j,{className:"".concat(n,"-close"),disabled:B}),P.closeIcon):null,H=p.createElement("div",{className:S("".concat(n,"-content"),null==M?void 0:M.content),style:null==$?void 0:$.content},z,A,p.createElement("div",E({className:S("".concat(n,"-body"),null==M?void 0:M.body),style:D(D({},f),null==$?void 0:$.body)},h),d),_);return p.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?a:null,"aria-modal":"true",ref:N,style:D(D({},o),R),className:S(n,r),onMouseDown:v,onMouseUp:y},p.createElement("div",{ref:T,tabIndex:0,style:Ad},p.createElement(Rd,{shouldUpdate:x||w},g?g(H):H)),p.createElement("div",{tabIndex:0,ref:L,style:_d}))}),jd=m.forwardRef(function(e,t){var n=e.prefixCls,r=e.title,o=e.style,i=e.className,a=e.visible,l=e.forceRender,s=e.destroyOnClose,c=e.motionName,u=e.ariaId,d=e.onVisibleChanged,f=e.mousePosition,h=m.useRef(),p=pt(m.useState(),2),g=p[0],v=p[1],y={};function b(){var e,t,n,r,o,i=(e=h.current,t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,o=r.defaultView||r.parentWindow,n.left+=Ld(o),n.top+=Ld(o,!0),n);v(f&&(f.x||f.y)?"".concat(f.x-i.left,"px ").concat(f.y-i.top,"px"):"")}return g&&(y.transformOrigin=g),m.createElement(oa,{visible:a,onVisibleChanged:d,onAppearPrepare:b,onEnterPrepare:b,forceRender:l,motionName:c,removeOnLeave:s,ref:h},function(a,l){var s=a.className,c=a.style;return m.createElement(Pd,E({},e,{ref:t,title:r,ariaId:u,prefixCls:n,holderRef:l,style:D(D(D({},c),o),y),className:S(i,s)}))})});jd.displayName="Content";var Bd=function(e){var t=e.prefixCls,n=e.style,r=e.visible,o=e.maskProps,i=e.motionName,a=e.className;return m.createElement(oa,{key:"mask",visible:r,motionName:i,leavedClassName:"".concat(t,"-mask-hidden")},function(e,r){var i=e.className,l=e.style;return m.createElement("div",E({ref:r,style:D(D({},l),n),className:S("".concat(t,"-mask"),i,a)},o))})},Dd=function(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,r=e.zIndex,o=e.visible,i=void 0!==o&&o,a=e.keyboard,l=void 0===a||a,s=e.focusTriggerAfterClose,c=void 0===s||s,u=e.wrapStyle,d=e.wrapClassName,f=e.wrapProps,h=e.onClose,p=e.afterOpenChange,g=e.afterClose,v=e.transitionName,y=e.animation,b=e.closable,x=void 0===b||b,w=e.mask,C=void 0===w||w,O=e.maskTransitionName,k=e.maskAnimation,M=e.maskClosable,$=void 0===M||M,I=e.maskStyle,N=e.maskProps,T=e.rootClassName,L=e.classNames,R=e.styles,_=m.useRef(),A=m.useRef(),P=m.useRef(),j=pt(m.useState(i),2),B=j[0],z=j[1],H=Nd();function F(e){null==h||h(e)}var W=m.useRef(!1),G=m.useRef(),V=null;$&&(V=function(e){W.current?W.current=!1:A.current===e.target&&F(e)}),m.useEffect(function(){i&&(z(!0),vt(A.current,document.activeElement)||(_.current=document.activeElement))},[i]),m.useEffect(function(){return function(){clearTimeout(G.current)}},[]);var q=D(D(D({zIndex:r},u),null==R?void 0:R.wrapper),{},{display:B?null:"none"});return m.createElement("div",E({className:S("".concat(n,"-root"),T)},ol(e,{data:!0})),m.createElement(Bd,{prefixCls:n,visible:C&&i,motionName:Td(n,O,k),style:D(D({zIndex:r},I),null==R?void 0:R.mask),maskProps:N,className:null==L?void 0:L.mask}),m.createElement("div",E({tabIndex:-1,onKeyDown:function(e){if(l&&e.keyCode===Tl.ESC)return e.stopPropagation(),void F(e);i&&e.keyCode===Tl.TAB&&P.current.changeActive(!e.shiftKey)},className:S("".concat(n,"-wrap"),d,null==L?void 0:L.wrapper),ref:A,onClick:V,style:q},f),m.createElement(jd,E({},e,{onMouseDown:function(){clearTimeout(G.current),W.current=!0},onMouseUp:function(){G.current=setTimeout(function(){W.current=!1})},ref:P,closable:x,ariaId:H,prefixCls:n,visible:i&&B,onClose:F,onVisibleChanged:function(e){if(e)vt(A.current,document.activeElement)||null===(t=P.current)||void 0===t||t.focus();else{if(z(!1),C&&_.current&&c){try{_.current.focus({preventScroll:!0})}catch(rw){}_.current=null}B&&(null==g||g())}var t;null==p||p(e)},motionName:Td(n,v,y)}))))},zd=function(e){var t=e.visible,n=e.getContainer,r=e.forceRender,o=e.destroyOnClose,i=void 0!==o&&o,a=e.afterClose,l=e.panelRef,s=pt(m.useState(t),2),c=s[0],u=s[1],d=m.useMemo(function(){return{panel:l}},[l]);return m.useEffect(function(){t&&u(!0)},[t]),r||!i||c?m.createElement(Md.Provider,{value:d},m.createElement(kd,{open:t||r||c,autoDestroy:!1,getContainer:n,autoLock:t||c},m.createElement(Dd,E({},e,{destroyOnClose:i,afterClose:function(){null==a||a(),u(!1)}})))):null};zd.displayName="Dialog";var Hd="RC_FORM_INTERNAL_HOOKS",Fd=function(){A(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Wd=m.createContext({getFieldValue:Fd,getFieldsValue:Fd,getFieldError:Fd,getFieldWarning:Fd,getFieldsError:Fd,isFieldsTouched:Fd,isFieldTouched:Fd,isFieldValidating:Fd,isFieldsValidating:Fd,resetFields:Fd,setFields:Fd,setFieldValue:Fd,setFieldsValue:Fd,validateFields:Fd,submit:Fd,getInternalHooks:function(){return Fd(),{dispatch:Fd,initEntityValue:Fd,registerField:Fd,useSubscribe:Fd,setInitialValues:Fd,destroyForm:Fd,setCallbacks:Fd,registerWatch:Fd,getFields:Fd,setValidateMessages:Fd,setPreserve:Fd,getInitialValue:Fd}}}),Gd=m.createContext(null);function Vd(e){return null==e?[]:Array.isArray(e)?e:[e]}function qd(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Xd=qd();function Ud(e){var t="function"==typeof Map?new Map:void 0;return Ud=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Xe())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&Ge(o,n.prototype),o}(e,arguments,qe(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ge(n,e)},Ud(e)}var Yd=/%[sdj%]/g;function Kd(e){if(!e||!e.length)return null;var t={};return e.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function Zd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i=n.length;return"function"==typeof e?e.apply(null,n):"string"==typeof e?e.replace(Yd,function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(t){return"[Circular]"}break;default:return e}}):e}function Qd(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function Jd(e,t,n){var r=0,o=e.length;!function i(a){if(a&&a.length)n(a);else{var l=r;r+=1,l<o?t(e[l],i):n([])}}([])}var ef=function(){Ve(t,Ud(Error));var e=Ke(t);function t(n,r){var o;return He(this,t),j(Ue(o=e.call(this,"Async Validation Error")),"errors",void 0),j(Ue(o),"fields",void 0),o.errors=n,o.fields=r,o}return We(t)}();function tf(e,t,n,r,o){if(t.first){var i=new Promise(function(t,i){var a=function(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,it(e[n]||[]))}),t}(e);Jd(a,n,function(e){return r(e),e.length?i(new ef(e,Kd(e))):t(o)})});return i.catch(function(e){return e}),i}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],l=Object.keys(e),s=l.length,c=0,u=[],d=new Promise(function(t,i){var d=function(e){if(u.push.apply(u,e),++c===s)return r(u),u.length?i(new ef(u,Kd(u))):t(o)};l.length||(r(u),t(o)),l.forEach(function(t){var r=e[t];-1!==a.indexOf(t)?Jd(r,n,d):function(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,it(e||[])),++o===i&&n(r)}e.forEach(function(e){t(e,a)})}(r,n,d)})});return d.catch(function(e){return e}),d}function nf(e,t){return function(n){var r,o;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(o=n)&&void 0!==o.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function rf(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===O(r)&&"object"===O(e[n])?e[n]=D(D({},e[n]),r):e[n]=r}return e}var of,af="enum",lf=function(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!Qd(t,i||e.type)||r.push(Zd(o.messages.required,e.fullField))};var sf=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,cf=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,uf={integer:function(e){return uf.number(e)&&parseInt(e,10)===e},float:function(e){return uf.number(e)&&!uf.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(rw){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"===O(e)&&!uf.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(sf)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(of)return of;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],i="(?:".concat(o.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),a=new RegExp("(?:^".concat(n,"$)|(?:^").concat(i,"$)")),l=new RegExp("^".concat(n,"$")),s=new RegExp("^".concat(i,"$")),c=function(e){return e&&e.exact?a:new RegExp("(?:".concat(t(e)).concat(n).concat(t(e),")|(?:").concat(t(e)).concat(i).concat(t(e),")"),"g")};c.v4=function(e){return e&&e.exact?l:new RegExp("".concat(t(e)).concat(n).concat(t(e)),"g")},c.v6=function(e){return e&&e.exact?s:new RegExp("".concat(t(e)).concat(i).concat(t(e)),"g")};var u=c.v4().source,d=c.v6().source,f="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(u,"|").concat(d,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return of=new RegExp("(?:^".concat(f,"$)"),"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(cf)}};const df={required:lf,whitespace:function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(Zd(o.messages.whitespace,e.fullField))},type:function(e,t,n,r,o){if(e.required&&void 0===t)lf(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?uf[i](t)||r.push(Zd(o.messages.types[i],e.fullField,e.type)):i&&O(t)!==e.type&&r.push(Zd(o.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,o){var i="number"==typeof e.len,a="number"==typeof e.min,l="number"==typeof e.max,s=t,c=null,u="number"==typeof t,d="string"==typeof t,f=Array.isArray(t);if(u?c="number":d?c="string":f&&(c="array"),!c)return!1;f&&(s=t.length),d&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?s!==e.len&&r.push(Zd(o.messages[c].len,e.fullField,e.len)):a&&!l&&s<e.min?r.push(Zd(o.messages[c].min,e.fullField,e.min)):l&&!a&&s>e.max?r.push(Zd(o.messages[c].max,e.fullField,e.max)):a&&l&&(s<e.min||s>e.max)&&r.push(Zd(o.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,o){e[af]=Array.isArray(e[af])?e[af]:[],-1===e[af].indexOf(t)&&r.push(Zd(o.messages[af],e.fullField,e[af].join(", ")))},pattern:function(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Zd(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(Zd(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};var ff=function(e,t,n,r,o){var i=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qd(t,i)&&!e.required)return n();df.required(e,t,r,a,o,i),Qd(t,i)||df.type(e,t,r,a,o)}n(a)};const hf={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qd(t,"string")&&!e.required)return n();df.required(e,t,r,i,o,"string"),Qd(t,"string")||(df.type(e,t,r,i,o),df.range(e,t,r,i,o),df.pattern(e,t,r,i,o),!0===e.whitespace&&df.whitespace(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qd(t)&&!e.required)return n();df.required(e,t,r,i,o),void 0!==t&&df.type(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Qd(t)&&!e.required)return n();df.required(e,t,r,i,o),void 0!==t&&(df.type(e,t,r,i,o),df.range(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qd(t)&&!e.required)return n();df.required(e,t,r,i,o),void 0!==t&&df.type(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qd(t)&&!e.required)return n();df.required(e,t,r,i,o),Qd(t)||df.type(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qd(t)&&!e.required)return n();df.required(e,t,r,i,o),void 0!==t&&(df.type(e,t,r,i,o),df.range(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qd(t)&&!e.required)return n();df.required(e,t,r,i,o),void 0!==t&&(df.type(e,t,r,i,o),df.range(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();df.required(e,t,r,i,o,"array"),null!=t&&(df.type(e,t,r,i,o),df.range(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qd(t)&&!e.required)return n();df.required(e,t,r,i,o),void 0!==t&&df.type(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qd(t)&&!e.required)return n();df.required(e,t,r,i,o),void 0!==t&&df.enum(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qd(t,"string")&&!e.required)return n();df.required(e,t,r,i,o),Qd(t,"string")||df.pattern(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qd(t,"date")&&!e.required)return n();var a;if(df.required(e,t,r,i,o),!Qd(t,"date"))a=t instanceof Date?t:new Date(t),df.type(e,a,r,i,o),a&&df.range(e,a.getTime(),r,i,o)}n(i)},url:ff,hex:ff,email:ff,required:function(e,t,n,r,o){var i=[],a=Array.isArray(t)?"array":O(t);df.required(e,t,r,i,o,a),n(i)},any:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qd(t)&&!e.required)return n();df.required(e,t,r,i,o)}n(i)}};var pf=function(){function e(t){He(this,e),j(this,"rules",null),j(this,"_messages",Xd),this.define(t)}return We(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==O(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]})}},{key:"messages",value:function(e){return e&&(this._messages=rf(qd(),e)),this._messages}},{key:"validate",value:function(t){var n=this,r=t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"==typeof o&&(i=o,o={}),!this.rules||0===Object.keys(this.rules).length)return i&&i(null,r),Promise.resolve(r);if(o.messages){var a=this.messages();a===Xd&&(a=qd()),rf(a,o.messages),o.messages=a}else o.messages=this.messages();var l={};(o.keys||Object.keys(this.rules)).forEach(function(e){var o=n.rules[e],i=r[e];o.forEach(function(o){var a=o;"function"==typeof a.transform&&(r===t&&(r=D({},r)),null!=(i=r[e]=a.transform(i))&&(a.type=a.type||(Array.isArray(i)?"array":O(i)))),(a="function"==typeof a?{validator:a}:D({},a)).validator=n.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=n.getType(a),l[e]=l[e]||[],l[e].push({rule:a,value:i,source:r,field:e}))})});var s={};return tf(l,o,function(t,n){var i,a=t.rule,l=!("object"!==a.type&&"array"!==a.type||"object"!==O(a.fields)&&"object"!==O(a.defaultField));function c(e,t){return D(D({},t),{},{fullField:"".concat(a.fullField,".").concat(e),fullFields:a.fullFields?[].concat(it(a.fullFields),[e]):[e]})}function u(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],u=Array.isArray(i)?i:[i];!o.suppressWarning&&u.length&&e.warning("async-validator:",u),u.length&&void 0!==a.message&&(u=[].concat(a.message));var d=u.map(nf(a,r));if(o.first&&d.length)return s[a.field]=1,n(d);if(l){if(a.required&&!t.value)return void 0!==a.message?d=[].concat(a.message).map(nf(a,r)):o.error&&(d=[o.error(a,Zd(o.messages.required,a.field))]),n(d);var f={};a.defaultField&&Object.keys(t.value).map(function(e){f[e]=a.defaultField}),f=D(D({},f),t.rule.fields);var h={};Object.keys(f).forEach(function(e){var t=f[e],n=Array.isArray(t)?t:[t];h[e]=n.map(c.bind(null,e))});var p=new e(h);p.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),p.validate(t.value,t.rule.options||o,function(e){var t=[];d&&d.length&&t.push.apply(t,it(d)),e&&e.length&&t.push.apply(t,it(e)),n(t.length?t:null)})}else n(d)}if(l=l&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator)i=a.asyncValidator(a,t.value,u,t.source,o);else if(a.validator){try{i=a.validator(a,t.value,u,t.source,o)}catch(h){var d,f;null===(d=(f=console).error)||void 0===d||d.call(f,h),o.suppressValidatorError||setTimeout(function(){throw h},0),u(h.message)}!0===i?u():!1===i?u("function"==typeof a.message?a.message(a.fullField||a.field):a.message||"".concat(a.fullField||a.field," fails")):i instanceof Array?u(i):i instanceof Error&&u(i.message)}i&&i.then&&i.then(function(){return u()},function(e){return u(e)})},function(e){!function(e){var t=[],n={};function o(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,it(e)):t.push(e)}for(var a=0;a<e.length;a++)o(e[a]);t.length?(n=Kd(t),i(t,n)):i(null,r)}(e)},r)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!hf.hasOwnProperty(e.type))throw new Error(Zd("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?hf.required:hf[this.getType(e)]||void 0}}]),e}();j(pf,"register",function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");hf[e]=t}),j(pf,"warning",function(){}),j(pf,"messages",Xd),j(pf,"validators",hf);var gf="'${name}' is not a valid ${type}",mf={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:gf,method:gf,array:gf,object:gf,number:gf,date:gf,boolean:gf,integer:gf,float:gf,regexp:gf,email:gf,url:gf,hex:gf},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},vf=pf;function yf(e,t){return e.replace(/\\?\$\{\w+\}/g,function(e){if(e.startsWith("\\"))return e.slice(1);var n=e.slice(2,-1);return t[n]})}var bf="CODE_LOGIC_ERROR";function xf(e,t,n,r,o){return wf.apply(this,arguments)}function wf(){return wf=ms(ps().mark(function e(t,n,r,o,i){var a,l,s,c,u,d,f,h,p;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete(a=D({},r)).ruleIndex,vf.warning=function(){},a.validator&&(l=a.validator,a.validator=function(){try{return l.apply(void 0,arguments)}catch(e){return Promise.reject(bf)}}),s=null,a&&"array"===a.type&&a.defaultField&&(s=a.defaultField,delete a.defaultField),c=new vf(j({},t,[a])),u=br(mf,o.validateMessages),c.messages(u),d=[],e.prev=10,e.next=13,Promise.resolve(c.validate(j({},t,n),D({},o)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(d=e.t0.errors.map(function(e,t){var n=e.message,r=n===bf?u.default:n;return m.isValidElement(r)?m.cloneElement(r,{key:"error_".concat(t)}):r}));case 18:if(d.length||!s){e.next=23;break}return e.next=21,Promise.all(n.map(function(e,n){return xf("".concat(t,".").concat(n),e,s,o,i)}));case 21:return f=e.sent,e.abrupt("return",f.reduce(function(e,t){return[].concat(it(e),it(t))},[]));case 23:return h=D(D({},r),{},{name:t,enum:(r.enum||[]).join(", ")},i),p=d.map(function(e){return"string"==typeof e?yf(e,h):e}),e.abrupt("return",p);case 26:case"end":return e.stop()}},e,null,[[10,15]])})),wf.apply(this,arguments)}function Cf(e,t,n,r,o,i){var a,l=e.join("."),s=n.map(function(e,t){var n=e.validator,r=D(D({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var o=!1,i=n(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then(function(){A(!o,"Your validator function has already return a promise. `callback` will be ignored."),o||r.apply(void 0,t)})});A(o=i&&"function"==typeof i.then&&"function"==typeof i.catch,"`callback` is deprecated. Please return a promise instead."),o&&i.then(function(){r()}).catch(function(e){r(e||" ")})}),r}).sort(function(e,t){var n=e.warningOnly,r=e.ruleIndex,o=t.warningOnly,i=t.ruleIndex;return!!n==!!o?r-i:n?1:-1});if(!0===o)a=new Promise(function(){var e=ms(ps().mark(function e(n,o){var a,c,u;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<s.length)){e.next=12;break}return c=s[a],e.next=5,xf(l,t,c,r,i);case 5:if(!(u=e.sent).length){e.next=9;break}return o([{errors:u,rule:c}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());else{var c=s.map(function(e){return xf(l,t,e,r,i).then(function(t){return{errors:t,rule:e}})});a=(o?function(e){return Ef.apply(this,arguments)}(c):function(e){return Sf.apply(this,arguments)}(c)).then(function(e){return Promise.reject(e)})}return a.catch(function(e){return e}),a}function Sf(){return(Sf=ms(ps().mark(function e(t){return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then(function(e){var t;return(t=[]).concat.apply(t,it(e))}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ef(){return(Ef=ms(ps().mark(function e(t){var n;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise(function(e){t.forEach(function(r){r.then(function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])})})}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Of(e){return Vd(e)}function kf(e,t){var n={};return t.forEach(function(t){var r=pr(e,t);n=mr(n,t,r)}),n}function Mf(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some(function(e){return $f(t,e,n)})}function $f(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every(function(t,n){return e[n]===t}))}function If(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===O(t.target)&&e in t.target?t.target[e]:t}function Nf(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var o=e[t],i=t-n;return i>0?[].concat(it(e.slice(0,n)),[o],it(e.slice(n,t)),it(e.slice(t+1,r))):i<0?[].concat(it(e.slice(0,t)),it(e.slice(t+1,n+1)),[o],it(e.slice(n+1,r))):e}var Tf=["name"],Lf=[];function Rf(e,t,n,r,o,i){return"function"==typeof e?e(t,n,"source"in i?{source:i.source}:{}):r!==o}var _f=function(){Ve(t,m.Component);var e=Ke(t);function t(n){var r;(He(this,t),j(Ue(r=e.call(this,n)),"state",{resetCount:0}),j(Ue(r),"cancelRegisterFunc",null),j(Ue(r),"mounted",!1),j(Ue(r),"touched",!1),j(Ue(r),"dirty",!1),j(Ue(r),"validatePromise",void 0),j(Ue(r),"prevValidating",void 0),j(Ue(r),"errors",Lf),j(Ue(r),"warnings",Lf),j(Ue(r),"cancelRegister",function(){var e=r.props,t=e.preserve,n=e.isListField,o=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,Of(o)),r.cancelRegisterFunc=null}),j(Ue(r),"getNamePath",function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(it(void 0===n?[]:n),it(t)):[]}),j(Ue(r),"getRules",function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,o=e.fieldContext;return n.map(function(e){return"function"==typeof e?e(o):e})}),j(Ue(r),"refresh",function(){r.mounted&&r.setState(function(e){return{resetCount:e.resetCount+1}})}),j(Ue(r),"metaCache",null),j(Ue(r),"triggerMetaEvent",function(e){var t=r.props.onMetaChange;if(t){var n=D(D({},r.getMeta()),{},{destroy:e});It(r.metaCache,n)||t(n),r.metaCache=n}else r.metaCache=null}),j(Ue(r),"onStoreChange",function(e,t,n){var o=r.props,i=o.shouldUpdate,a=o.dependencies,l=void 0===a?[]:a,s=o.onReset,c=n.store,u=r.getNamePath(),d=r.getValue(e),f=r.getValue(c),h=t&&Mf(t,u);switch("valueUpdate"!==n.type||"external"!==n.source||It(d,f)||(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Lf,r.warnings=Lf,r.triggerMetaEvent()),n.type){case"reset":if(!t||h)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=Lf,r.warnings=Lf,r.triggerMetaEvent(),null==s||s(),void r.refresh();break;case"remove":if(i&&Rf(i,e,c,d,f,n))return void r.reRender();break;case"setField":var p=n.data;if(h)return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||Lf),"warnings"in p&&(r.warnings=p.warnings||Lf),r.dirty=!0,r.triggerMetaEvent(),void r.reRender();if("value"in p&&Mf(t,u,!0))return void r.reRender();if(i&&!u.length&&Rf(i,e,c,d,f,n))return void r.reRender();break;case"dependenciesUpdate":if(l.map(Of).some(function(e){return Mf(n.relatedFields,e)}))return void r.reRender();break;default:if(h||(!l.length||u.length||i)&&Rf(i,e,c,d,f,n))return void r.reRender()}!0===i&&r.reRender()}),j(Ue(r),"validateRules",function(e){var t=r.getNamePath(),n=r.getValue(),o=e||{},i=o.triggerName,a=o.validateOnly,l=void 0!==a&&a,s=Promise.resolve().then(ms(ps().mark(function o(){var a,l,c,u,d,f,h;return ps().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(r.mounted){o.next=2;break}return o.abrupt("return",[]);case 2:if(a=r.props,l=a.validateFirst,c=void 0!==l&&l,u=a.messageVariables,d=a.validateDebounce,f=r.getRules(),i&&(f=f.filter(function(e){return e}).filter(function(e){var t=e.validateTrigger;return!t||Vd(t).includes(i)})),!d||!i){o.next=10;break}return o.next=8,new Promise(function(e){setTimeout(e,d)});case 8:if(r.validatePromise===s){o.next=10;break}return o.abrupt("return",[]);case 10:return(h=Cf(t,n,f,e,c,u)).catch(function(e){return e}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lf;if(r.validatePromise===s){var t;r.validatePromise=null;var n=[],o=[];null===(t=e.forEach)||void 0===t||t.call(e,function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?Lf:r;t?o.push.apply(o,it(i)):n.push.apply(n,it(i))}),r.errors=n,r.warnings=o,r.triggerMetaEvent(),r.reRender()}}),o.abrupt("return",h);case 13:case"end":return o.stop()}},o)})));return l||(r.validatePromise=s,r.dirty=!0,r.errors=Lf,r.warnings=Lf,r.triggerMetaEvent(),r.reRender()),s}),j(Ue(r),"isFieldValidating",function(){return!!r.validatePromise}),j(Ue(r),"isFieldTouched",function(){return r.touched}),j(Ue(r),"isFieldDirty",function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(Hd).getInitialValue)(r.getNamePath())}),j(Ue(r),"getErrors",function(){return r.errors}),j(Ue(r),"getWarnings",function(){return r.warnings}),j(Ue(r),"isListField",function(){return r.props.isListField}),j(Ue(r),"isList",function(){return r.props.isList}),j(Ue(r),"isPreserve",function(){return r.props.preserve}),j(Ue(r),"getMeta",function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}}),j(Ue(r),"getOnlyChild",function(e){if("function"==typeof e){var t=r.getMeta();return D(D({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=N(e);return 1===n.length&&m.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}}),j(Ue(r),"getValue",function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return pr(e||t(!0),n)}),j(Ue(r),"getControlled",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.name,o=t.trigger,i=t.validateTrigger,a=t.getValueFromEvent,l=t.normalize,s=t.valuePropName,c=t.getValueProps,u=t.fieldContext,d=void 0!==i?i:u.validateTrigger,f=r.getNamePath(),h=u.getInternalHooks,p=u.getFieldsValue,g=h(Hd).dispatch,m=r.getValue(),v=c||function(e){return j({},s,e)},y=e[o],b=void 0!==n?v(m):{},x=D(D({},e),b);return x[o]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e=a?a.apply(void 0,n):If.apply(void 0,[s].concat(n)),l&&(e=l(e,m,p(!0))),e!==m&&g({type:"updateValue",namePath:f,value:e}),y&&y.apply(void 0,n)},Vd(d||[]).forEach(function(e){var t=x[e];x[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&g({type:"validateField",namePath:f,triggerName:e})}}),x}),n.fieldContext)&&(0,(0,n.fieldContext.getInternalHooks)(Hd).initEntityValue)(Ue(r));return r}return We(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(Hd).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),o=r.child;return r.isFunction?e=o:m.isValidElement(o)?e=m.cloneElement(o,this.getControlled(o.props)):(A(!o,"`children` of Field is not validate ReactElement."),e=o),m.createElement(m.Fragment,{key:t},e)}}]),t}();function Af(e){var t,n=e.name,r=$t(e,Tf),o=m.useContext(Wd),i=m.useContext(Gd),a=void 0!==n?Of(n):void 0,l=null!==(t=r.isListField)&&void 0!==t?t:!!i,s="keep";return l||(s="_".concat((a||[]).join("_"))),m.createElement(_f,E({key:s,name:a,isListField:l},r,{fieldContext:o}))}function Pf(e){var t=e.name,n=e.initialValue,r=e.children,o=e.rules,i=e.validateTrigger,a=e.isListField,l=m.useContext(Wd),s=m.useContext(Gd),c=m.useRef({keys:[],id:0}).current,u=m.useMemo(function(){var e=Of(l.prefixName)||[];return[].concat(it(e),it(Of(t)))},[l.prefixName,t]),d=m.useMemo(function(){return D(D({},l),{},{prefixName:u})},[l,u]),f=m.useMemo(function(){return{getKey:function(e){var t=u.length,n=e[t];return[c.keys[n],e.slice(t+1)]}}},[u]);if("function"!=typeof r)return A(!1,"Form.List only accepts function as children."),null;return m.createElement(Gd.Provider,{value:f},m.createElement(Wd.Provider,{value:d},m.createElement(Af,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:i,initialValue:n,isList:!0,isListField:null!=a?a:!!s},function(e,t){var n=e.value,o=void 0===n?[]:n,i=e.onChange,a=l.getFieldValue,s=function(){return a(u||[])||[]},d={add:function(e,t){var n=s();t>=0&&t<=n.length?(c.keys=[].concat(it(c.keys.slice(0,t)),[c.id],it(c.keys.slice(t))),i([].concat(it(n.slice(0,t)),[e],it(n.slice(t))))):(c.keys=[].concat(it(c.keys),[c.id]),i([].concat(it(n),[e]))),c.id+=1},remove:function(e){var t=s(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(c.keys=c.keys.filter(function(e,t){return!n.has(t)}),i(t.filter(function(e,t){return!n.has(t)})))},move:function(e,t){if(e!==t){var n=s();e<0||e>=n.length||t<0||t>=n.length||(c.keys=Nf(c.keys,e,t),i(Nf(n,e,t)))}}},f=o||[];return Array.isArray(f)||(f=[]),r(f.map(function(e,t){var n=c.keys[t];return void 0===n&&(c.keys[t]=c.id,n=c.keys[t],c.id+=1),{name:t,key:n,isListField:!0}}),d,t)})))}j(_f,"contextType",Wd),j(_f,"defaultProps",{trigger:"onChange",valuePropName:"value"});var jf="__@field_split__";function Bf(e){return e.map(function(e){return"".concat(O(e),":").concat(e)}).join(jf)}var Df=function(){function e(){He(this,e),j(this,"kvs",new Map)}return We(e,[{key:"set",value:function(e,t){this.kvs.set(Bf(e),t)}},{key:"get",value:function(e){return this.kvs.get(Bf(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Bf(e))}},{key:"map",value:function(e){return it(this.kvs.entries()).map(function(t){var n=pt(t,2),r=n[0],o=n[1],i=r.split(jf);return e({key:i.map(function(e){var t=pt(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r}),value:o})})}},{key:"toJSON",value:function(){var e={};return this.map(function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null}),e}}]),e}(),zf=["name"],Hf=We(function e(t){var n=this;He(this,e),j(this,"formHooked",!1),j(this,"forceRootUpdate",void 0),j(this,"subscribable",!0),j(this,"store",{}),j(this,"fieldEntities",[]),j(this,"initialValues",{}),j(this,"callbacks",{}),j(this,"validateMessages",null),j(this,"preserve",null),j(this,"lastValidatePromise",null),j(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),j(this,"getInternalHooks",function(e){return e===Hd?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(A(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),j(this,"useSubscribe",function(e){n.subscribable=e}),j(this,"prevWithoutPreserves",null),j(this,"setInitialValues",function(e,t){if(n.initialValues=e||{},t){var r,o=br(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map(function(t){var n=t.key;o=mr(o,n,pr(e,n))}),n.prevWithoutPreserves=null,n.updateStore(o)}}),j(this,"destroyForm",function(e){if(e)n.updateStore({});else{var t=new Df;n.getFieldEntities(!0).forEach(function(e){n.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)}),n.prevWithoutPreserves=t}}),j(this,"getInitialValue",function(e){var t=pr(n.initialValues,e);return e.length?br(t):t}),j(this,"setCallbacks",function(e){n.callbacks=e}),j(this,"setValidateMessages",function(e){n.validateMessages=e}),j(this,"setPreserve",function(e){n.preserve=e}),j(this,"watchList",[]),j(this,"registerWatch",function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter(function(t){return t!==e})}}),j(this,"notifyWatch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach(function(n){n(t,r,e)})}}),j(this,"timeoutId",null),j(this,"warningUnhooked",function(){}),j(this,"updateStore",function(e){n.store=e}),j(this,"getFieldEntities",function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter(function(e){return e.getNamePath().length}):n.fieldEntities}),j(this,"getFieldsMap",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Df;return n.getFieldEntities(e).forEach(function(e){var n=e.getNamePath();t.set(n,e)}),t}),j(this,"getFieldEntitiesForNamePathList",function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map(function(e){var n=Of(e);return t.get(n)||{INVALIDATE_NAME_PATH:Of(e)}})}),j(this,"getFieldsValue",function(e,t){var r,o,i;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,o=t):e&&"object"===O(e)&&(i=e.strict,o=e.filter),!0===r&&!o)return n.store;var a=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),l=[];return a.forEach(function(e){var t,n,a,s,c="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(i){if(null!==(a=(s=e).isList)&&void 0!==a&&a.call(s))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(o){var u="getMeta"in e?e.getMeta():null;o(u)&&l.push(c)}else l.push(c)}),kf(n.store,l.map(Of))}),j(this,"getFieldValue",function(e){n.warningUnhooked();var t=Of(e);return pr(n.store,t)}),j(this,"getFieldsError",function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map(function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Of(e[n]),errors:[],warnings:[]}})}),j(this,"getFieldError",function(e){n.warningUnhooked();var t=Of(e);return n.getFieldsError([t])[0].errors}),j(this,"getFieldWarning",function(e){n.warningUnhooked();var t=Of(e);return n.getFieldsError([t])[0].warnings}),j(this,"isFieldsTouched",function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o,i=t[0],a=t[1],l=!1;0===t.length?o=null:1===t.length?Array.isArray(i)?(o=i.map(Of),l=!1):(o=null,l=i):(o=i.map(Of),l=a);var s=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!o)return l?s.every(function(e){return c(e)||e.isList()}):s.some(c);var u=new Df;o.forEach(function(e){u.set(e,[])}),s.forEach(function(e){var t=e.getNamePath();o.forEach(function(n){n.every(function(e,n){return t[n]===e})&&u.update(n,function(t){return[].concat(it(t),[e])})})});var d=function(e){return e.some(c)},f=u.map(function(e){return e.value});return l?f.every(d):f.some(d)}),j(this,"isFieldTouched",function(e){return n.warningUnhooked(),n.isFieldsTouched([e])}),j(this,"isFieldsValidating",function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some(function(e){return e.isFieldValidating()});var r=e.map(Of);return t.some(function(e){var t=e.getNamePath();return Mf(r,t)&&e.isFieldValidating()})}),j(this,"isFieldValidating",function(e){return n.warningUnhooked(),n.isFieldsValidating([e])}),j(this,"resetWithFieldInitialValue",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Df,r=n.getFieldEntities(!0);r.forEach(function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var o=t.get(r)||new Set;o.add({entity:e,value:n}),t.set(r,o)}});var o;e.entities?o=e.entities:e.namePathList?(o=[],e.namePathList.forEach(function(e){var n,r=t.get(e);r&&(n=o).push.apply(n,it(it(r).map(function(e){return e.entity})))})):o=r,o.forEach(function(r){if(void 0!==r.props.initialValue){var o=r.getNamePath();if(void 0!==n.getInitialValue(o))A(!1,"Form already set 'initialValues' with path '".concat(o.join("."),"'. Field can not overwrite it."));else{var i=t.get(o);if(i&&i.size>1)A(!1,"Multiple Field with path '".concat(o.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(i){var a=n.getFieldValue(o);r.isListField()||e.skipExist&&void 0!==a||n.updateStore(mr(n.store,o,it(i)[0].value))}}}})}),j(this,"resetFields",function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(br(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(Of);r.forEach(function(e){var t=n.getInitialValue(e);n.updateStore(mr(n.store,e,t))}),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)}),j(this,"setFields",function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach(function(e){var o=e.name,i=$t(e,zf),a=Of(o);r.push(a),"value"in i&&n.updateStore(mr(n.store,a,i.value)),n.notifyObservers(t,[a],{type:"setField",data:e})}),n.notifyWatch(r)}),j(this,"getFields",function(){return n.getFieldEntities(!0).map(function(e){var t=e.getNamePath(),r=D(D({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r})}),j(this,"initEntityValue",function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===pr(n.store,r)&&n.updateStore(mr(n.store,r,t))}}),j(this,"isMergedPreserve",function(e){var t=void 0!==e?e:n.preserve;return null==t||t}),j(this,"registerField",function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(t){return t!==e}),!n.isMergedPreserve(o)&&(!r||i.length>1)){var a=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==a&&n.fieldEntities.every(function(e){return!$f(e.getNamePath(),t)})){var l=n.store;n.updateStore(mr(l,t,a,!0)),n.notifyObservers(l,[t],{type:"remove"}),n.triggerDependenciesUpdate(l,t)}}n.notifyWatch([t])}}),j(this,"dispatch",function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var o=e.namePath,i=e.triggerName;n.validateFields([o],{triggerName:i})}}),j(this,"notifyObservers",function(e,t,r){if(n.subscribable){var o=D(D({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(n){(0,n.onStoreChange)(e,t,o)})}else n.forceRootUpdate()}),j(this,"triggerDependenciesUpdate",function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(it(r))}),r}),j(this,"updateValue",function(e,t){var r=Of(e),o=n.store;n.updateStore(mr(n.store,r,t)),n.notifyObservers(o,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var i=n.triggerDependenciesUpdate(o,r),a=n.callbacks.onValuesChange;a&&a(kf(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(it(i)))}),j(this,"setFieldsValue",function(e){n.warningUnhooked();var t=n.store;if(e){var r=br(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),j(this,"setFieldValue",function(e,t){n.setFields([{name:e,value:t,errors:[],warnings:[]}])}),j(this,"getDependencyChildrenFields",function(e){var t=new Set,r=[],o=new Df;n.getFieldEntities().forEach(function(e){(e.props.dependencies||[]).forEach(function(t){var n=Of(t);o.update(n,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t})})});return function e(n){(o.get(n)||new Set).forEach(function(n){if(!t.has(n)){t.add(n);var o=n.getNamePath();n.isFieldDirty()&&o.length&&(r.push(o),e(o))}})}(e),r}),j(this,"triggerOnFieldsChange",function(e,t){var r=n.callbacks.onFieldsChange;if(r){var o=n.getFields();if(t){var i=new Df;t.forEach(function(e){var t=e.name,n=e.errors;i.set(t,n)}),o.forEach(function(e){e.errors=i.get(e.name)||e.errors})}var a=o.filter(function(t){var n=t.name;return Mf(e,n)});a.length&&r(a,o)}}),j(this,"validateFields",function(e,t){var r,o;n.warningUnhooked(),Array.isArray(e)||"string"==typeof e||"string"==typeof t?(r=e,o=t):o=e;var i=!!r,a=i?r.map(Of):[],l=[],s=String(Date.now()),c=new Set,u=o||{},d=u.recursive,f=u.dirty;n.getFieldEntities(!0).forEach(function(e){if(i||a.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!f||e.isFieldDirty())){var t=e.getNamePath();if(c.add(t.join(s)),!i||Mf(a,t,d)){var r=e.validateRules(D({validateMessages:D(D({},mf),n.validateMessages)},o));l.push(r.then(function(){return{name:t,errors:[],warnings:[]}}).catch(function(e){var n,r=[],o=[];return null===(n=e.forEach)||void 0===n||n.call(e,function(e){var t=e.rule.warningOnly,n=e.errors;t?o.push.apply(o,it(n)):r.push.apply(r,it(n))}),r.length?Promise.reject({name:t,errors:r,warnings:o}):{name:t,errors:r,warnings:o}}))}}});var h=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise(function(o,i){e.forEach(function(e,a){e.catch(function(e){return t=!0,e}).then(function(e){n-=1,r[a]=e,n>0||(t&&i(r),o(r))})})}):Promise.resolve([])}(l);n.lastValidatePromise=h,h.catch(function(e){return e}).then(function(e){var t=e.map(function(e){return e.name});n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)});var p=h.then(function(){return n.lastValidatePromise===h?Promise.resolve(n.getFieldsValue(a)):Promise.reject([])}).catch(function(e){var t=e.filter(function(e){return e&&e.errors.length});return Promise.reject({values:n.getFieldsValue(a),errorFields:t,outOfDate:n.lastValidatePromise!==h})});p.catch(function(e){return e});var g=a.filter(function(e){return c.has(e.join(s))});return n.triggerOnFieldsChange(g),p}),j(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){}}).catch(function(e){var t=n.callbacks.onFinishFailed;t&&t(e)})}),this.forceRootUpdate=t});function Ff(e){var t=m.useRef(),n=pt(m.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var r=new Hf(function(){n({})});t.current=r.getForm()}return[t.current]}var Wf=m.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Gf=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,o=e.children,i=m.useContext(Wf),a=m.useRef({});return m.createElement(Wf.Provider,{value:D(D({},i),{},{validateMessages:D(D({},i.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:a.current}),i.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:a.current}),i.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(a.current=D(D({},a.current),{},j({},e,t))),i.registerForm(e,t)},unregisterForm:function(e){var t=D({},a.current);delete t[e],a.current=t,i.unregisterForm(e)}})},o)},Vf=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],qf=function(e,t){var n=e.name,r=e.initialValues,o=e.fields,i=e.form,a=e.preserve,l=e.children,s=e.component,c=void 0===s?"form":s,u=e.validateMessages,d=e.validateTrigger,f=void 0===d?"onChange":d,h=e.onValuesChange,p=e.onFieldsChange,g=e.onFinish,v=e.onFinishFailed,y=e.clearOnDestroy,b=$t(e,Vf),x=m.useRef(null),w=m.useContext(Wf),C=pt(Ff(i),1)[0],S=C.getInternalHooks(Hd),k=S.useSubscribe,M=S.setInitialValues,$=S.setCallbacks,I=S.setValidateMessages,N=S.setPreserve,T=S.destroyForm;m.useImperativeHandle(t,function(){return D(D({},C),{},{nativeElement:x.current})}),m.useEffect(function(){return w.registerForm(n,C),function(){w.unregisterForm(n)}},[w,C,n]),I(D(D({},w.validateMessages),u)),$({onValuesChange:h,onFieldsChange:function(e){if(w.triggerFormChange(n,e),p){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];p.apply(void 0,[e].concat(r))}},onFinish:function(e){w.triggerFormFinish(n,e),g&&g(e)},onFinishFailed:v}),N(a);var L,R=m.useRef(null);M(r,!R.current),R.current||(R.current=!0),m.useEffect(function(){return function(){return T(y)}},[]);var _="function"==typeof l;_?L=l(C.getFieldsValue(!0),C):L=l;k(!_);var A=m.useRef();m.useEffect(function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==O(e)||"object"!==O(t))return!1;var n=Object.keys(e),r=Object.keys(t);return it(new Set([].concat(n,r))).every(function(n){var r=e[n],o=t[n];return"function"==typeof r&&"function"==typeof o||r===o})})(A.current||[],o||[])||C.setFields(o||[]),A.current=o},[o,C]);var P=m.useMemo(function(){return D(D({},C),{},{validateTrigger:f})},[C,f]),j=m.createElement(Gd.Provider,{value:null},m.createElement(Wd.Provider,{value:P},L));return!1===c?j:m.createElement(c,E({},b,{ref:x,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),C.submit()},onReset:function(e){var t;e.preventDefault(),C.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),j)};function Xf(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}function Uf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],i=void 0===o?{}:o,a=function(e){return e&&!!e._init}(i)?{form:i}:i,l=a.form,s=pt(m.useState(),2),c=s[0],u=s[1],d=m.useMemo(function(){return Xf(c)},[c]),f=m.useRef(d);f.current=d;var h=m.useContext(Wd),p=l||h,g=p&&p._init,v=Of(r),y=m.useRef(v);return y.current=v,m.useEffect(function(){if(g){var e=p.getFieldsValue,t=(0,p.getInternalHooks)(Hd).registerWatch,n=function(e,t){var n=a.preserve?t:e;return"function"==typeof r?r(n):pr(n,y.current)},o=t(function(e,t){var r=n(e,t),o=Xf(r);f.current!==o&&(f.current=o,u(r))}),i=n(e(),e(!0));return c!==i&&u(i),o}},[g]),c}var Yf=m.forwardRef(qf);Yf.FormProvider=Gf,Yf.Field=Af,Yf.List=Pf,Yf.useForm=Ff,Yf.useWatch=Uf;const Kf=m.createContext({labelAlign:"right",layout:"horizontal",itemRef:()=>{}}),Zf=m.createContext(null),Qf=e=>{const t=js(e,["prefixCls"]);return m.createElement(Gf,Object.assign({},t))},Jf=m.createContext({prefixCls:""}),eh=m.createContext({}),th=({children:e,status:t,override:n})=>{const r=m.useContext(eh),o=m.useMemo(()=>{const e=Object.assign({},r);return n&&delete e.isFormItemInput,t&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e},[t,n,r]);return m.createElement(eh.Provider,{value:o},e)},nh=m.createContext(void 0),rh=e=>{const{space:t,form:n,children:r}=e;if(null==r)return null;let o=r;return n&&(o=p.createElement(th,{override:!0,status:!0},o)),t&&(o=p.createElement(tc,null,o)),o};function oh(...e){const t={};return e.forEach(e=>{e&&Object.keys(e).forEach(n=>{void 0!==e[n]&&(t[n]=e[n])})}),t}function ih(e){if(!e)return;const{closable:t,closeIcon:n}=e;return{closable:t,closeIcon:n}}function ah(e){const{closable:t,closeIcon:n}=e||{};return p.useMemo(()=>{if(!t&&(!1===t||!1===n||null===n))return!1;if(void 0===t&&void 0===n)return null;let e={closeIcon:"boolean"!=typeof n&&null!==n?n:void 0};return t&&"object"==typeof t&&(e=Object.assign(Object.assign({},e),t)),e},[t,n])}const lh={};function sh(e,t,n=lh){const r=ah(e),o=ah(t),[i]=Ar("global",Ir.global),a="boolean"!=typeof r&&!!(null==r?void 0:r.disabled),l=p.useMemo(()=>Object.assign({closeIcon:p.createElement(Ya,null)},n),[n]),s=p.useMemo(()=>!1!==r&&(r?oh(l,o,r):!1!==o&&(o?oh(l,o):!!l.closable&&l)),[r,o,l]);return p.useMemo(()=>{var e,t;if(!1===s)return[!1,null,a,{}];const{closeIconRender:n}=l,{closeIcon:r}=s;let o=r;const c=ol(s,!0);return null!=o&&(n&&(o=n(r)),o=p.isValidElement(o)?p.cloneElement(o,Object.assign(Object.assign(Object.assign({},o.props),{"aria-label":null!==(t=null===(e=o.props)||void 0===e?void 0:e["aria-label"])&&void 0!==t?t:i.close}),c)):p.createElement("span",Object.assign({"aria-label":i.close},c),o)),[!0,o,a,c]},[a,i.close,s,l])}var ch=function(e){if(mt()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some(function(e){return e in n.style})}return!1};function uh(e,t){return Array.isArray(e)||void 0===t?ch(e):function(e,t){if(!ch(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t)}const dh=e=>{const{prefixCls:t,className:n,style:r,size:o,shape:i}=e,a=S({[`${t}-lg`]:"large"===o,[`${t}-sm`]:"small"===o}),l=S({[`${t}-circle`]:"circle"===i,[`${t}-square`]:"square"===i,[`${t}-round`]:"round"===i}),s=m.useMemo(()=>"number"==typeof o?{width:o,height:o,lineHeight:`${o}px`}:{},[o]);return m.createElement("span",{className:S(t,a,l,n),style:Object.assign(Object.assign({},s),r)})},fh=new ur("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),hh=e=>({height:e,lineHeight:Xt(e)}),ph=e=>Object.assign({width:e},hh(e)),gh=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:fh,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),mh=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},hh(e)),vh=e=>{const{skeletonAvatarCls:t,gradientFromColor:n,controlHeight:r,controlHeightLG:o,controlHeightSM:i}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},ph(r)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},ph(o)),[`${t}${t}-sm`]:Object.assign({},ph(i))}},yh=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:o,controlHeightSM:i,gradientFromColor:a,calc:l}=e;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:n},mh(t,l)),[`${r}-lg`]:Object.assign({},mh(o,l)),[`${r}-sm`]:Object.assign({},mh(i,l))}},bh=e=>Object.assign({width:e},hh(e)),xh=e=>{const{skeletonImageCls:t,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:o,calc:i}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:o},bh(i(n).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},bh(n)),{maxWidth:i(n).mul(4).equal(),maxHeight:i(n).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},wh=(e,t,n)=>{const{skeletonButtonCls:r}=e;return{[`${n}${r}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:t}}},Ch=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},hh(e)),Sh=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:r,controlHeightLG:o,controlHeightSM:i,gradientFromColor:a,calc:l}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:t,width:l(r).mul(2).equal(),minWidth:l(r).mul(2).equal()},Ch(r,l))},wh(e,r,n)),{[`${n}-lg`]:Object.assign({},Ch(o,l))}),wh(e,o,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},Ch(i,l))}),wh(e,i,`${n}-sm`))},Eh=gi("Skeleton",e=>{const{componentCls:t,calc:n}=e;return(e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:o,skeletonButtonCls:i,skeletonInputCls:a,skeletonImageCls:l,controlHeight:s,controlHeightLG:c,controlHeightSM:u,gradientFromColor:d,padding:f,marginSM:h,borderRadius:p,titleHeight:g,blockRadius:m,paragraphLiHeight:v,controlHeightXS:y,paragraphMarginTop:b}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:f,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},ph(s)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},ph(c)),[`${n}-sm`]:Object.assign({},ph(u))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:g,background:d,borderRadius:m,[`+ ${o}`]:{marginBlockStart:u}},[o]:{padding:0,"> li":{width:"100%",height:v,listStyle:"none",background:d,borderRadius:m,"+ li":{marginBlockStart:y}}},[`${o}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${r}, ${o} > li`]:{borderRadius:p}}},[`${t}-with-avatar ${t}-content`]:{[r]:{marginBlockStart:h,[`+ ${o}`]:{marginBlockStart:b}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Sh(e)),vh(e)),yh(e)),xh(e)),[`${t}${t}-block`]:{width:"100%",[i]:{width:"100%"},[a]:{width:"100%"}},[`${t}${t}-active`]:{[`\n        ${r},\n        ${o} > li,\n        ${n},\n        ${i},\n        ${a},\n        ${l}\n      `]:Object.assign({},gh(e))}}})(Xo(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:n(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"}))},e=>{const{colorFillContent:t,colorFill:n}=e;return{color:t,colorGradientEnd:n,gradientFromColor:t,gradientToColor:n,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Oh=(e,t)=>{const{width:n,rows:r=2}=t;return Array.isArray(n)?n[e]:r-1===e?n:void 0},kh=e=>{const{prefixCls:t,className:n,style:r,rows:o=0}=e,i=Array.from({length:o}).map((t,n)=>m.createElement("li",{key:n,style:{width:Oh(n,e)}}));return m.createElement("ul",{className:S(t,n),style:r},i)},Mh=({prefixCls:e,className:t,width:n,style:r})=>m.createElement("h3",{className:S(e,t),style:Object.assign({width:n},r)});function $h(e){return e&&"object"==typeof e?e:{}}const Ih=e=>{const{prefixCls:t,loading:n,className:r,rootClassName:o,style:i,children:a,avatar:l=!1,title:s=!0,paragraph:c=!0,active:u,round:d}=e,{getPrefixCls:f,direction:h,className:p,style:g}=ko("skeleton"),v=f("skeleton",t),[y,b,x]=Eh(v);if(n||!("loading"in e)){const e=!!l,t=!!s,n=!!c;let a,f;if(e){const e=Object.assign(Object.assign({prefixCls:`${v}-avatar`},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(t,n)),$h(l));a=m.createElement("div",{className:`${v}-header`},m.createElement(dh,Object.assign({},e)))}if(t||n){let r,o;if(t){const t=Object.assign(Object.assign({prefixCls:`${v}-title`},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(e,n)),$h(s));r=m.createElement(Mh,Object.assign({},t))}if(n){const n=Object.assign(Object.assign({prefixCls:`${v}-paragraph`},function(e,t){const n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(e,t)),$h(c));o=m.createElement(kh,Object.assign({},n))}f=m.createElement("div",{className:`${v}-content`},r,o)}const w=S(v,{[`${v}-with-avatar`]:e,[`${v}-active`]:u,[`${v}-rtl`]:"rtl"===h,[`${v}-round`]:d},p,r,o,b,x);return y(m.createElement("div",{className:w,style:Object.assign(Object.assign({},g),i)},a,f))}return null!=a?a:null};function Nh(){}Ih.Button=e=>{const{prefixCls:t,className:n,rootClassName:r,active:o,block:i=!1,size:a="default"}=e,{getPrefixCls:l}=m.useContext(So),s=l("skeleton",t),[c,u,d]=Eh(s),f=js(e,["prefixCls"]),h=S(s,`${s}-element`,{[`${s}-active`]:o,[`${s}-block`]:i},n,r,u,d);return c(m.createElement("div",{className:h},m.createElement(dh,Object.assign({prefixCls:`${s}-button`,size:a},f))))},Ih.Avatar=e=>{const{prefixCls:t,className:n,rootClassName:r,active:o,shape:i="circle",size:a="default"}=e,{getPrefixCls:l}=m.useContext(So),s=l("skeleton",t),[c,u,d]=Eh(s),f=js(e,["prefixCls","className"]),h=S(s,`${s}-element`,{[`${s}-active`]:o},n,r,u,d);return c(m.createElement("div",{className:h},m.createElement(dh,Object.assign({prefixCls:`${s}-avatar`,shape:i,size:a},f))))},Ih.Input=e=>{const{prefixCls:t,className:n,rootClassName:r,active:o,block:i,size:a="default"}=e,{getPrefixCls:l}=m.useContext(So),s=l("skeleton",t),[c,u,d]=Eh(s),f=js(e,["prefixCls"]),h=S(s,`${s}-element`,{[`${s}-active`]:o,[`${s}-block`]:i},n,r,u,d);return c(m.createElement("div",{className:h},m.createElement(dh,Object.assign({prefixCls:`${s}-input`,size:a},f))))},Ih.Image=e=>{const{prefixCls:t,className:n,rootClassName:r,style:o,active:i}=e,{getPrefixCls:a}=m.useContext(So),l=a("skeleton",t),[s,c,u]=Eh(l),d=S(l,`${l}-element`,{[`${l}-active`]:i},n,r,c,u);return s(m.createElement("div",{className:d},m.createElement("div",{className:S(`${l}-image`,n),style:o},m.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${l}-image-svg`},m.createElement("title",null,"Image placeholder"),m.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:`${l}-image-path`})))))},Ih.Node=e=>{const{prefixCls:t,className:n,rootClassName:r,style:o,active:i,children:a}=e,{getPrefixCls:l}=m.useContext(So),s=l("skeleton",t),[c,u,d]=Eh(s),f=S(s,`${s}-element`,{[`${s}-active`]:i},u,n,r,d);return c(m.createElement("div",{className:f},m.createElement("div",{className:S(`${s}-image`,n),style:o},a)))};const Th=m.createContext({add:Nh,remove:Nh});const Lh=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=m.useContext(fd);return p.createElement(cd,Object.assign({onClick:n},e),t)},Rh=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:r,onOk:o}=m.useContext(fd);return p.createElement(cd,Object.assign({},ac(n),{loading:e,onClick:o},t),r)};function _h(e,t){return p.createElement("span",{className:`${e}-close-x`},t||p.createElement(Ya,{className:`${e}-close-icon`}))}const Ah=e=>{const{okText:t,okType:n="primary",cancelText:r,confirmLoading:o,onOk:i,onCancel:a,okButtonProps:l,cancelButtonProps:s,footer:c}=e,[u]=Ar("Modal",Rr()),d=t||(null==u?void 0:u.okText),f=r||(null==u?void 0:u.cancelText),h=p.useMemo(()=>({confirmLoading:o,okButtonProps:l,cancelButtonProps:s,okTextLocale:d,cancelTextLocale:f,okType:n,onOk:i,onCancel:a}),[o,l,s,d,f,n,i,a]);let g;return"function"==typeof c||void 0===c?(g=p.createElement(p.Fragment,null,p.createElement(Lh,null),p.createElement(Rh,null)),"function"==typeof c&&(g=c(g,{OkBtn:Rh,CancelBtn:Lh})),g=p.createElement(hd,{value:h},g)):g=c,p.createElement(No,{disabled:!1},g)},Ph=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},jh=(e,t)=>((e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:o}=e,i={};for(let a=o;a>=0;a--)0===a?(i[`${r}${t}-${a}`]={display:"none"},i[`${r}-push-${a}`]={insetInlineStart:"auto"},i[`${r}-pull-${a}`]={insetInlineEnd:"auto"},i[`${r}${t}-push-${a}`]={insetInlineStart:"auto"},i[`${r}${t}-pull-${a}`]={insetInlineEnd:"auto"},i[`${r}${t}-offset-${a}`]={marginInlineStart:0},i[`${r}${t}-order-${a}`]={order:0}):(i[`${r}${t}-${a}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${a/o*100}%`,maxWidth:a/o*100+"%"}],i[`${r}${t}-push-${a}`]={insetInlineStart:a/o*100+"%"},i[`${r}${t}-pull-${a}`]={insetInlineEnd:a/o*100+"%"},i[`${r}${t}-offset-${a}`]={marginInlineStart:a/o*100+"%"},i[`${r}${t}-order-${a}`]={order:a});return i[`${r}${t}-flex`]={flex:`var(--${n}${t}-flex)`},i})(e,t),Bh=gi("Grid",e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},()=>({})),Dh=e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin}),zh=gi("Grid",e=>{const t=Xo(e,{gridColumns:24}),n=Dh(t);return delete n.xs,[Ph(t),jh(t,""),jh(t,"-xs"),Object.keys(n).map(e=>((e,t,n)=>({[`@media (min-width: ${Xt(t)})`]:Object.assign({},jh(e,n))}))(t,n[e],`-${e}`)).reduce((e,t)=>Object.assign(Object.assign({},e),t),{})]},()=>({}));function Hh(e){return{position:e,inset:0}}const Fh=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Hh("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Hh("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:Hc(e)}]},Wh=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${Xt(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},ui(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${Xt(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:Xt(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},fi(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${Xt(e.borderRadiusLG)} ${Xt(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${Xt(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,\n          ${t}-body,\n          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},Gh=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Vh=e=>{const{componentCls:t}=e,n=Dh(e),r=Object.assign({},n);delete r.xs;const o=`--${t.replace(".","")}-`,i=Object.keys(r).map(e=>({[`@media (min-width: ${Xt(r[e])})`]:{width:`var(${o}${e}-width)`}}));return{[`${t}-root`]:{[t]:[].concat(it(Object.keys(n).map((e,t)=>{const r=Object.keys(n)[t-1];return r?{[`${o}${e}-width`]:`var(${o}${r}-width)`}:null})),[{width:`var(${o}xs-width)`}],it(i))}}},qh=e=>{const t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5;return Xo(e,{modalHeaderHeight:e.calc(e.calc(r).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},Xh=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${Xt(e.paddingMD)} ${Xt(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${Xt(e.padding)} ${Xt(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${Xt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${Xt(e.paddingXS)} ${Xt(e.padding)}`:0,footerBorderTop:e.wireframe?`${Xt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${Xt(e.borderRadiusLG)} ${Xt(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${Xt(2*e.padding)} ${Xt(2*e.padding)} ${Xt(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Uh=gi("Modal",e=>{const t=qh(e);return[Wh(t),Gh(t),Fh(t),bu(t,"zoom"),Vh(t)]},Xh,{unitless:{titleLineHeight:!0}});let Yh;const Kh=e=>{Yh={x:e.pageX,y:e.pageY},setTimeout(()=>{Yh=null},100)};mt()&&window.document.documentElement&&document.documentElement.addEventListener("click",Kh,!0);const Zh=e=>{const{prefixCls:t,className:n,rootClassName:r,open:o,wrapClassName:i,centered:a,getContainer:l,focusTriggerAfterClose:s=!0,style:c,visible:u,width:d=520,footer:f,classNames:h,styles:p,children:g,loading:v,confirmLoading:y,zIndex:b,mousePosition:x,onOk:w,onCancel:C,destroyOnHidden:E,destroyOnClose:O,panelRef:k=null}=e,M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose","panelRef"]),{getPopupContainer:$,getPrefixCls:I,direction:N,modal:T}=m.useContext(So),L=e=>{y||null==C||C(e)},R=I("modal",t),_=I(),A=Nl(R),[P,j,B]=Uh(R,A),D=S(i,{[`${R}-centered`]:null!=a?a:null==T?void 0:T.centered,[`${R}-wrap-rtl`]:"rtl"===N}),z=null===f||v?null:m.createElement(Ah,Object.assign({},e,{onOk:e=>{null==w||w(e)},onCancel:L})),[H,F,W,G]=sh(ih(e),ih(T),{closable:!0,closeIcon:m.createElement(Ya,{className:`${R}-close-icon`}),closeIconRender:e=>_h(R,e)}),V=function(e){const t=m.useContext(Th),n=m.useRef(null);return zo(r=>{if(r){const o=e?r.querySelector(e):r;t.add(o),n.current=o}else t.remove(n.current)})}(`.${R}-content`),q=de(k,V),[X,U]=Yl("Modal",b),[Y,K]=m.useMemo(()=>d&&"object"==typeof d?[void 0,d]:[d,void 0],[d]),Z=m.useMemo(()=>{const e={};return K&&Object.keys(K).forEach(t=>{const n=K[t];void 0!==n&&(e[`--${R}-${t}-width`]="number"==typeof n?`${n}px`:n)}),e},[R,K]);return P(m.createElement(rh,{form:!0,space:!0},m.createElement(Vl.Provider,{value:U},m.createElement(zd,Object.assign({width:Y},M,{zIndex:X,getContainer:void 0===l?$:l,prefixCls:R,rootClassName:S(j,r,B,A),footer:z,visible:null!=o?o:u,mousePosition:null!=x?x:Yh,onClose:L,closable:H?Object.assign({disabled:W,closeIcon:F},G):H,closeIcon:F,focusTriggerAfterClose:s,transitionName:Ps(_,"zoom",e.transitionName),maskTransitionName:Ps(_,"fade",e.maskTransitionName),className:S(j,n,null==T?void 0:T.className),style:Object.assign(Object.assign(Object.assign({},null==T?void 0:T.style),c),Z),classNames:Object.assign(Object.assign(Object.assign({},null==T?void 0:T.classNames),h),{wrapper:S(D,null==h?void 0:h.wrapper)}),styles:Object.assign(Object.assign({},null==T?void 0:T.styles),p),panelRef:q,destroyOnClose:null!=E?E:O}),v?m.createElement(Ih,{active:!0,title:!1,paragraph:{rows:4},className:`${R}-body-skeleton`}):g))))},Qh=vi(["Modal","confirm"],e=>(e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:o,fontSize:i,lineHeight:a,modalTitleHeight:l,fontHeight:s,confirmBodyPadding:c}=e,u=`${t}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),[`&${t} ${t}-body`]:{padding:c},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(s).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(l).sub(o).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Xt(e.marginSM)})`},[`${e.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${Xt(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${u}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:r},[`${u}-content`]:{color:e.colorText,fontSize:i,lineHeight:a},[`${u}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${u}-error ${u}-body > ${e.iconCls}`]:{color:e.colorError},[`${u}-warning ${u}-body > ${e.iconCls},\n        ${u}-confirm ${u}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${u}-info ${u}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${u}-success ${u}-body > ${e.iconCls}`]:{color:e.colorSuccess}}})(qh(e)),Xh,{order:-1e3});const Jh=e=>{const{prefixCls:t,icon:n,okText:r,cancelText:o,confirmPrefixCls:i,type:a,okCancel:l,footer:s,locale:c}=e,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let d=n;if(!n&&null!==n)switch(a){case"info":d=m.createElement(tl,null);break;case"success":d=m.createElement(Wa,null);break;case"error":d=m.createElement(qa,null);break;default:d=m.createElement(Qa,null)}const f=null!=l?l:"confirm"===a,h=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),[p]=Ar("Modal"),g=c||p,v=r||(f?null==g?void 0:g.okText:null==g?void 0:g.justOkText),y=o||(null==g?void 0:g.cancelText),b=m.useMemo(()=>Object.assign({autoFocusButton:h,cancelTextLocale:y,okTextLocale:v,mergedOkCancel:f},u),[h,y,v,f,u]),x=m.createElement(m.Fragment,null,m.createElement(pd,null),m.createElement(gd,null)),w=void 0!==e.title&&null!==e.title,C=`${i}-body`;return m.createElement("div",{className:`${i}-body-wrapper`},m.createElement("div",{className:S(C,{[`${C}-has-title`]:w})},d,m.createElement("div",{className:`${i}-paragraph`},w&&m.createElement("span",{className:`${i}-title`},e.title),m.createElement("div",{className:`${i}-content`},e.content))),void 0===s||"function"==typeof s?m.createElement(hd,{value:b},m.createElement("div",{className:`${i}-btns`},"function"==typeof s?s(x,{OkBtn:gd,CancelBtn:pd}):x)):s,m.createElement(Qh,{prefixCls:t}))},ep=e=>{const{close:t,zIndex:n,maskStyle:r,direction:o,prefixCls:i,wrapClassName:a,rootPrefixCls:l,bodyStyle:s,closable:c=!1,onConfirm:u,styles:d,title:f}=e,h=`${i}-confirm`,p=e.width||416,g=e.style||{},v=void 0===e.mask||e.mask,y=void 0!==e.maskClosable&&e.maskClosable,b=S(h,`${h}-${e.type}`,{[`${h}-rtl`]:"rtl"===o},e.className),[,x]=si(),w=m.useMemo(()=>void 0!==n?n:x.zIndexPopupBase+1e3,[n,x]);return m.createElement(Zh,Object.assign({},e,{className:b,wrapClassName:S({[`${h}-centered`]:!!e.centered},a),onCancel:()=>{null==t||t({triggerCancel:!0}),null==u||u(!1)},title:f,footer:null,transitionName:Ps(l||"","zoom",e.transitionName),maskTransitionName:Ps(l||"","fade",e.maskTransitionName),mask:v,maskClosable:y,style:g,styles:Object.assign({body:s,mask:r},d),width:p,zIndex:w,closable:c}),m.createElement(Jh,Object.assign({},e,{confirmPrefixCls:h})))},tp=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:r,theme:o}=e;return m.createElement(Ma,{prefixCls:t,iconPrefixCls:n,direction:r,theme:o},m.createElement(ep,Object.assign({},e)))},np=[];let rp="";function op(){return rp}const ip=e=>{var t,n;const{prefixCls:r,getContainer:o,direction:i}=e,a=Rr(),l=m.useContext(So),s=op()||l.getPrefixCls(),c=r||`${s}-modal`;let u=o;return!1===u&&(u=void 0),p.createElement(tp,Object.assign({},e,{rootPrefixCls:s,prefixCls:c,iconPrefixCls:l.iconPrefixCls,theme:l.theme,direction:null!=i?i:l.direction,locale:null!==(n=null===(t=l.locale)||void 0===t?void 0:t.Modal)&&void 0!==n?n:a,getContainer:u}))};function ap(e){const t=Oa(),n=document.createDocumentFragment();let r,o,i=Object.assign(Object.assign({},e),{close:s,open:!0});function a(...t){var n;var r;t.some(e=>null==e?void 0:e.triggerCancel)&&(null===(n=e.onCancel)||void 0===n||(r=n).call.apply(r,[e,()=>{}].concat(it(t.slice(1)))));for(let e=0;e<np.length;e++){if(np[e]===s){np.splice(e,1);break}}o()}const l=e=>{clearTimeout(r),r=setTimeout(()=>{const r=t.getPrefixCls(void 0,op()),i=t.getIconPrefixCls(),a=t.getTheme(),l=p.createElement(ip,Object.assign({},e)),s=Ns();o=s(p.createElement(Ma,{prefixCls:r,iconPrefixCls:i,theme:a},"function"==typeof t.holderRender?t.holderRender(l):l),n)})};function s(...t){i=Object.assign(Object.assign({},i),{open:!1,afterClose:()=>{"function"==typeof e.afterClose&&e.afterClose(),a.apply(this,t)}}),i.visible&&delete i.visible,l(i)}return l(i),np.push(s),{destroy:s,update:function(e){i="function"==typeof e?e(i):Object.assign(Object.assign({},i),e),l(i)}}}function lp(e){return Object.assign(Object.assign({},e),{type:"warning"})}function sp(e){return Object.assign(Object.assign({},e),{type:"info"})}function cp(e){return Object.assign(Object.assign({},e),{type:"success"})}function up(e){return Object.assign(Object.assign({},e),{type:"error"})}function dp(e){return Object.assign(Object.assign({},e),{type:"confirm"})}const fp=(e,t)=>{var n,{afterClose:r,config:o}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["afterClose","config"]);const[a,l]=m.useState(!0),[s,c]=m.useState(o),{direction:u,getPrefixCls:d}=m.useContext(So),f=d("modal"),h=d(),p=(...e)=>{var t;l(!1);var n;e.some(e=>null==e?void 0:e.triggerCancel)&&(null===(t=s.onCancel)||void 0===t||(n=t).call.apply(n,[s,()=>{}].concat(it(e.slice(1)))))};m.useImperativeHandle(t,()=>({destroy:p,update:e=>{c(t=>{const n="function"==typeof e?e(t):e;return Object.assign(Object.assign({},t),n)})}}));const g=null!==(n=s.okCancel)&&void 0!==n?n:"confirm"===s.type,[v]=Ar("Modal",Ir.Modal);return m.createElement(tp,Object.assign({prefixCls:f,rootPrefixCls:h},s,{close:p,open:a,afterClose:()=>{var e;r(),null===(e=s.afterClose)||void 0===e||e.call(s)},okText:s.okText||(g?null==v?void 0:v.okText:null==v?void 0:v.justOkText),direction:s.direction||u,cancelText:s.cancelText||(null==v?void 0:v.cancelText)},i))},hp=m.forwardRef(fp);let pp=0;const gp=m.memo(m.forwardRef((e,t)=>{const[n,r]=function(){const[e,t]=m.useState([]);return[e,m.useCallback(e=>(t(t=>[].concat(it(t),[e])),()=>{t(t=>t.filter(t=>t!==e))}),[])]}();return m.useImperativeHandle(t,()=>({patchElement:r}),[r]),m.createElement(m.Fragment,null,n)}));const mp=p.createContext({});function vp(e){return t=>m.createElement(Ma,{theme:{token:{motion:!1,zIndexPopupBase:0}}},m.createElement(e,Object.assign({},t)))}const yp=(e,t,n,r,o)=>vp(i=>{const{prefixCls:a,style:l}=i,s=m.useRef(null),[c,u]=m.useState(0),[d,f]=m.useState(0),[h,p]=Wo(!1,{value:i.open}),{getPrefixCls:g}=m.useContext(So),v=g(r||"select",a);m.useEffect(()=>{if(p(!0),"undefined"!=typeof ResizeObserver){const e=new ResizeObserver(e=>{const t=e[0].target;u(t.offsetHeight+8),f(t.offsetWidth)}),t=setInterval(()=>{var n;const r=o?`.${o(v)}`:`.${v}-dropdown`,i=null===(n=s.current)||void 0===n?void 0:n.querySelector(r);i&&(clearInterval(t),e.observe(i))},10);return()=>{clearInterval(t),e.disconnect()}}},[]);let y=Object.assign(Object.assign({},i),{style:Object.assign(Object.assign({},l),{margin:0}),open:h,visible:h,getPopupContainer:()=>s.current});n&&(y=n(y)),t&&Object.assign(y,{[t]:{overflow:{adjustX:!1,adjustY:!1}}});const b={paddingBottom:c,position:"relative",minWidth:d};return m.createElement("div",{ref:s,style:b},m.createElement(e,Object.assign({},y)))}),bp=function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))};var xp=function(e){var t=e.className,n=e.customizeIcon,r=e.customizeIconProps,o=e.children,i=e.onMouseDown,a=e.onClick,l="function"==typeof n?n(r):n;return m.createElement("span",{className:t,onMouseDown:function(e){e.preventDefault(),null==i||i(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==l?l:m.createElement("span",{className:S(t.split(/\s+/).map(function(e){return"".concat(e,"-icon")}))},o))},wp=m.createContext(null);function Cp(){return m.useContext(wp)}function Sp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=m.useRef(null),n=m.useRef(null);return m.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]),[function(){return t.current},function(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout(function(){t.current=null},e)}]}var Ep=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Op=void 0;function kp(e,t){var n=e.prefixCls,r=e.invalidate,o=e.item,i=e.renderItem,a=e.responsive,l=e.responsiveDisabled,s=e.registerSize,c=e.itemKey,u=e.className,d=e.style,f=e.children,h=e.display,p=e.order,g=e.component,v=void 0===g?"div":g,y=$t(e,Ep),b=a&&!h;function x(e){s(c,e)}m.useEffect(function(){return function(){x(null)}},[]);var w,C=i&&o!==Op?i(o,{index:p}):f;r||(w={opacity:b?0:1,height:b?0:Op,overflowY:b?"hidden":Op,order:a?p:Op,pointerEvents:b?"none":Op,position:b?"absolute":Op});var O={};b&&(O["aria-hidden"]=!0);var k=m.createElement(v,E({className:S(!r&&n,u),style:D(D({},w),d)},O,y,{ref:t}),C);return a&&(k=m.createElement(tt,{onResize:function(e){x(e.offsetWidth)},disabled:l},k)),k}var Mp=m.forwardRef(kp);function $p(){var e=m.useRef(null);return function(t){e.current||(e.current=[],function(e){if("undefined"==typeof MessageChannel)dt(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}(function(){y.unstable_batchedUpdates(function(){e.current.forEach(function(e){e()}),e.current=null})})),e.current.push(t)}}function Ip(e,t){var n=pt(m.useState(t),2),r=n[0],o=n[1];return[r,zo(function(t){e(function(){o(t)})})]}Mp.displayName="Item";var Np=p.createContext(null),Tp=["component"],Lp=["className"],Rp=["className"],_p=function(e,t){var n=m.useContext(Np);if(!n){var r=e.component,o=void 0===r?"div":r,i=$t(e,Tp);return m.createElement(o,E({},i,{ref:t}))}var a=n.className,l=$t(n,Lp),s=e.className,c=$t(e,Rp);return m.createElement(Np.Provider,{value:null},m.createElement(Mp,E({ref:t,className:S(a,s)},l,c)))},Ap=m.forwardRef(_p);Ap.displayName="RawItem";var Pp=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","prefix","suffix","component","itemComponent","onVisibleChange"],jp="responsive",Bp="invalidate";function Dp(e){return"+ ".concat(e.length," ...")}function zp(e,t){var n=e.prefixCls,r=void 0===n?"rc-overflow":n,o=e.data,i=void 0===o?[]:o,a=e.renderItem,l=e.renderRawItem,s=e.itemKey,c=e.itemWidth,u=void 0===c?10:c,d=e.ssr,f=e.style,h=e.className,p=e.maxCount,g=e.renderRest,v=e.renderRawRest,y=e.prefix,b=e.suffix,x=e.component,w=void 0===x?"div":x,C=e.itemComponent,O=e.onVisibleChange,k=$t(e,Pp),M="full"===d,$=$p(),I=pt(Ip($,null),2),N=I[0],T=I[1],L=N||0,R=pt(Ip($,new Map),2),_=R[0],A=R[1],P=pt(Ip($,0),2),j=P[0],B=P[1],z=pt(Ip($,0),2),H=z[0],F=z[1],W=pt(Ip($,0),2),G=W[0],V=W[1],q=pt(Ip($,0),2),X=q[0],U=q[1],Y=pt(m.useState(null),2),K=Y[0],Z=Y[1],Q=pt(m.useState(null),2),J=Q[0],ee=Q[1],te=m.useMemo(function(){return null===J&&M?Number.MAX_SAFE_INTEGER:J||0},[J,N]),ne=pt(m.useState(!1),2),re=ne[0],oe=ne[1],ie="".concat(r,"-item"),ae=Math.max(j,H),le=p===jp,se=i.length&&le,ce=p===Bp,ue=se||"number"==typeof p&&i.length>p,de=m.useMemo(function(){var e=i;return se?e=null===N&&M?i:i.slice(0,Math.min(i.length,L/u)):"number"==typeof p&&(e=i.slice(0,p)),e},[i,u,N,p,se]),fe=m.useMemo(function(){return se?i.slice(te+1):i.slice(de.length)},[i,de,se,te]),he=m.useCallback(function(e,t){var n;return"function"==typeof s?s(e):null!==(n=s&&(null==e?void 0:e[s]))&&void 0!==n?n:t},[s]),pe=m.useCallback(a||function(e){return e},[a]);function ge(e,t,n){(J!==e||void 0!==t&&t!==K)&&(ee(e),n||(oe(e<i.length-1),null==O||O(e)),void 0!==t&&Z(t))}function me(e,t){A(function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r})}function ve(e){return _.get(he(de[e],e))}Jt(function(){if(L&&"number"==typeof ae&&de){var e=G+X,t=de.length,n=t-1;if(!t)return void ge(0,null);for(var r=0;r<t;r+=1){var o=ve(r);if(M&&(o=o||0),void 0===o){ge(r-1,void 0,!0);break}if(e+=o,0===n&&e<=L||r===n-1&&e+ve(n)<=L){ge(n,null);break}if(e+ae>L){ge(r-1,e-o-X+H);break}}b&&ve(0)+X>L&&Z(null)}},[L,_,H,G,X,he,de]);var ye=re&&!!fe.length,be={};null!==K&&se&&(be={position:"absolute",left:K,top:0});var xe={prefixCls:ie,responsive:se,component:C,invalidate:ce},we=l?function(e,t){var n=he(e,t);return m.createElement(Np.Provider,{key:n,value:D(D({},xe),{},{order:t,item:e,itemKey:n,registerSize:me,display:t<=te})},l(e,t))}:function(e,t){var n=he(e,t);return m.createElement(Mp,E({},xe,{order:t,key:n,item:e,renderItem:pe,itemKey:n,registerSize:me,display:t<=te}))},Ce={order:ye?te:Number.MAX_SAFE_INTEGER,className:"".concat(ie,"-rest"),registerSize:function(e,t){F(t),B(H)},display:ye},Se=g||Dp,Ee=v?m.createElement(Np.Provider,{value:D(D({},xe),Ce)},v(fe)):m.createElement(Mp,E({},xe,Ce),"function"==typeof Se?Se(fe):Se),Oe=m.createElement(w,E({className:S(!ce&&r,h),style:f,ref:t},k),y&&m.createElement(Mp,E({},xe,{responsive:le,responsiveDisabled:!se,order:-1,className:"".concat(ie,"-prefix"),registerSize:function(e,t){V(t)},display:!0}),y),de.map(we),ue?Ee:null,b&&m.createElement(Mp,E({},xe,{responsive:le,responsiveDisabled:!se,order:te,className:"".concat(ie,"-suffix"),registerSize:function(e,t){U(t)},display:!0,style:be}),b));return le?m.createElement(tt,{onResize:function(e,t){T(t.clientWidth)},disabled:!se},Oe):Oe}var Hp=m.forwardRef(zp);Hp.displayName="Overflow",Hp.Item=Ap,Hp.RESPONSIVE=jp,Hp.INVALIDATE=Bp;var Fp=["prefixCls","id","inputElement","autoFocus","autoComplete","editable","activeDescendantId","value","open","attrs"],Wp=function(e,t){var n=e.prefixCls,r=e.id,o=e.inputElement,i=e.autoFocus,a=e.autoComplete,l=e.editable,s=e.activeDescendantId,c=e.value,u=e.open,d=e.attrs,f=$t(e,Fp),h=o||m.createElement("input",null),p=h,g=p.ref,v=p.props;return h.props,h=m.cloneElement(h,D(D(D({type:"search"},function(e,t){var n=D(D({},e),t);return Object.keys(t).forEach(function(r){var o=t[r];"function"==typeof o&&(n[r]=function(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return o.apply(void 0,i),null===(t=e[r])||void 0===t?void 0:t.call.apply(t,[e].concat(i))})}),n}(f,v)),{},{id:r,ref:de(t,g),autoComplete:a||"off",autoFocus:i,className:S("".concat(n,"-selection-search-input"),null==v?void 0:v.className),role:"combobox","aria-expanded":u||!1,"aria-haspopup":"listbox","aria-owns":"".concat(r,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(r,"_list"),"aria-activedescendant":u?s:void 0},d),{},{value:l?c:"",readOnly:!l,unselectable:l?null:"on",style:D(D({},v.style),{},{opacity:l?null:0})})),h},Gp=m.forwardRef(Wp);function Vp(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var qp="undefined"!=typeof window&&window.document&&window.document.documentElement;function Xp(e){return["string","number"].includes(O(e))}function Up(e){var t=void 0;return e&&(Xp(e.title)?t=e.title.toString():Xp(e.label)&&(t=e.label.toString())),t}function Yp(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var Kp=function(e){e.preventDefault(),e.stopPropagation()},Zp=function(e){var t,n,r=e.id,o=e.prefixCls,i=e.values,a=e.open,l=e.searchValue,s=e.autoClearSearchValue,c=e.inputRef,u=e.placeholder,d=e.disabled,f=e.mode,h=e.showSearch,p=e.autoFocus,g=e.autoComplete,v=e.activeDescendantId,y=e.tabIndex,b=e.removeIcon,x=e.maxTagCount,w=e.maxTagTextLength,C=e.maxTagPlaceholder,E=void 0===C?function(e){return"+ ".concat(e.length," ...")}:C,O=e.tagRender,k=e.onToggleOpen,M=e.onRemove,$=e.onInputChange,I=e.onInputPaste,N=e.onInputKeyDown,T=e.onInputMouseDown,L=e.onInputCompositionStart,R=e.onInputCompositionEnd,_=e.onInputBlur,A=m.useRef(null),P=pt(m.useState(0),2),B=P[0],D=P[1],z=pt(m.useState(!1),2),H=z[0],F=z[1],W="".concat(o,"-selection"),G=a||"multiple"===f&&!1===s||"tags"===f?l:"",V="tags"===f||"multiple"===f&&!1===s||h&&(a||H);t=function(){D(A.current.scrollWidth)},n=[G],qp?m.useLayoutEffect(t,n):m.useEffect(t,n);var q=function(e,t,n,r,o){return m.createElement("span",{title:Up(e),className:S("".concat(W,"-item"),j({},"".concat(W,"-item-disabled"),n))},m.createElement("span",{className:"".concat(W,"-item-content")},t),r&&m.createElement(xp,{className:"".concat(W,"-item-remove"),onMouseDown:Kp,onClick:o,customizeIcon:b},""))},X=function(e,t,n,r,o,i){return m.createElement("span",{onMouseDown:function(e){Kp(e),k(!a)}},O({label:t,value:e,disabled:n,closable:r,onClose:o,isMaxTag:!!i}))},U=m.createElement("div",{className:"".concat(W,"-search"),style:{width:B},onFocus:function(){F(!0)},onBlur:function(){F(!1)}},m.createElement(Gp,{ref:c,open:a,prefixCls:o,id:r,inputElement:null,disabled:d,autoFocus:p,autoComplete:g,editable:V,activeDescendantId:v,value:G,onKeyDown:N,onMouseDown:T,onChange:$,onPaste:I,onCompositionStart:L,onCompositionEnd:R,onBlur:_,tabIndex:y,attrs:ol(e,!0)}),m.createElement("span",{ref:A,className:"".concat(W,"-search-mirror"),"aria-hidden":!0},G,"")),Y=m.createElement(Hp,{prefixCls:"".concat(W,"-overflow"),data:i,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,o=!d&&!t,i=n;if("number"==typeof w&&("string"==typeof n||"number"==typeof n)){var a=String(i);a.length>w&&(i="".concat(a.slice(0,w),"..."))}var l=function(t){t&&t.stopPropagation(),M(e)};return"function"==typeof O?X(r,i,t,o,l):q(e,i,t,o,l)},renderRest:function(e){if(!i.length)return null;var t="function"==typeof E?E(e):E;return"function"==typeof O?X(void 0,t,!1,!1,void 0,!0):q({title:t},t,!1)},suffix:U,itemKey:Yp,maxCount:x});return m.createElement("span",{className:"".concat(W,"-wrap")},Y,!i.length&&!G&&m.createElement("span",{className:"".concat(W,"-placeholder")},u))},Qp=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,o=e.inputRef,i=e.disabled,a=e.autoFocus,l=e.autoComplete,s=e.activeDescendantId,c=e.mode,u=e.open,d=e.values,f=e.placeholder,h=e.tabIndex,p=e.showSearch,g=e.searchValue,v=e.activeValue,y=e.maxLength,b=e.onInputKeyDown,x=e.onInputMouseDown,w=e.onInputChange,C=e.onInputPaste,S=e.onInputCompositionStart,E=e.onInputCompositionEnd,O=e.onInputBlur,k=e.title,M=pt(m.useState(!1),2),$=M[0],I=M[1],N="combobox"===c,T=N||p,L=d[0],R=g||"";N&&v&&!$&&(R=v),m.useEffect(function(){N&&I(!1)},[N,v]);var _=!("combobox"!==c&&!u&&!p)&&!!R,A=void 0===k?Up(L):k,P=m.useMemo(function(){return L?null:m.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:_?{visibility:"hidden"}:void 0},f)},[L,_,f,n]);return m.createElement("span",{className:"".concat(n,"-selection-wrap")},m.createElement("span",{className:"".concat(n,"-selection-search")},m.createElement(Gp,{ref:o,prefixCls:n,id:r,open:u,inputElement:t,disabled:i,autoFocus:a,autoComplete:l,editable:T,activeDescendantId:s,value:R,onKeyDown:b,onMouseDown:x,onChange:function(e){I(!0),w(e)},onPaste:C,onCompositionStart:S,onCompositionEnd:E,onBlur:O,tabIndex:h,attrs:ol(e,!0),maxLength:N?y:void 0})),!N&&L?m.createElement("span",{className:"".concat(n,"-selection-item"),title:A,style:_?{visibility:"hidden"}:void 0},L.label):null,P)},Jp=function(e,t){var n=m.useRef(null),r=m.useRef(!1),o=e.prefixCls,i=e.open,a=e.mode,l=e.showSearch,s=e.tokenWithEnter,c=e.disabled,u=e.prefix,d=e.autoClearSearchValue,f=e.onSearch,h=e.onSearchSubmit,p=e.onToggleOpen,g=e.onInputKeyDown,v=e.onInputBlur,y=e.domRef;m.useImperativeHandle(t,function(){return{focus:function(e){n.current.focus(e)},blur:function(){n.current.blur()}}});var b=pt(Sp(0),2),x=b[0],w=b[1],C=m.useRef(null),S=function(e){!1!==f(e,!0,r.current)&&p(!0)},O={inputRef:n,onInputKeyDown:function(e){var t,o=e.which,l=n.current instanceof HTMLTextAreaElement;(l||!i||o!==Tl.UP&&o!==Tl.DOWN||e.preventDefault(),g&&g(e),o!==Tl.ENTER||"tags"!==a||r.current||i||null==h||h(e.target.value),l&&!i&&~[Tl.UP,Tl.DOWN,Tl.LEFT,Tl.RIGHT].indexOf(o))||(t=o)&&![Tl.ESC,Tl.SHIFT,Tl.BACKSPACE,Tl.TAB,Tl.WIN_KEY,Tl.ALT,Tl.META,Tl.WIN_KEY_RIGHT,Tl.CTRL,Tl.SEMICOLON,Tl.EQUALS,Tl.CAPS_LOCK,Tl.CONTEXT_MENU,Tl.F1,Tl.F2,Tl.F3,Tl.F4,Tl.F5,Tl.F6,Tl.F7,Tl.F8,Tl.F9,Tl.F10,Tl.F11,Tl.F12].includes(t)&&p(!0)},onInputMouseDown:function(){w(!0)},onInputChange:function(e){var t=e.target.value;if(s&&C.current&&/[\r\n]/.test(C.current)){var n=C.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,C.current)}C.current=null,S(t)},onInputPaste:function(e){var t=e.clipboardData,n=null==t?void 0:t.getData("text");C.current=n||""},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==a&&S(e.target.value)},onInputBlur:v},k="multiple"===a||"tags"===a?m.createElement(Zp,E({},e,O)):m.createElement(Qp,E({},e,O));return m.createElement("div",{ref:y,className:"".concat(o,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout(function(){n.current.focus()}):n.current.focus())},onMouseDown:function(e){var t=x();e.target===n.current||t||"combobox"===a&&c||e.preventDefault(),("combobox"===a||l&&t)&&i||(i&&!1!==d&&f("",!0,!1),p())}},u&&m.createElement("div",{className:"".concat(o,"-prefix")},u),k)},eg=m.forwardRef(Jp);function tg(e){var t=e.prefixCls,n=e.align,r=e.arrow,o=e.arrowPos,i=r||{},a=i.className,l=i.content,s=o.x,c=void 0===s?0:s,u=o.y,d=void 0===u?0:u,f=m.useRef();if(!n||!n.points)return null;var h={position:"absolute"};if(!1!==n.autoArrow){var p=n.points[0],g=n.points[1],v=p[0],y=p[1],b=g[0],x=g[1];v!==b&&["t","b"].includes(v)?"t"===v?h.top=0:h.bottom=0:h.top=d,y!==x&&["l","r"].includes(y)?"l"===y?h.left=0:h.right=0:h.left=c}return m.createElement("div",{ref:f,className:S("".concat(t,"-arrow"),a),style:h},l)}function ng(e){var t=e.prefixCls,n=e.open,r=e.zIndex,o=e.mask,i=e.motion;return o?m.createElement(oa,E({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(e){var n=e.className;return m.createElement("div",{style:{zIndex:r},className:S("".concat(t,"-mask"),n)})}):null}var rg=m.memo(function(e){return e.children},function(e,t){return t.cache}),og=m.forwardRef(function(e,t){var n=e.popup,r=e.className,o=e.prefixCls,i=e.style,a=e.target,l=e.onVisibleChanged,s=e.open,c=e.keepDom,u=e.fresh,d=e.onClick,f=e.mask,h=e.arrow,p=e.arrowPos,g=e.align,v=e.motion,y=e.maskMotion,b=e.forceRender,x=e.getPopupContainer,w=e.autoDestroy,C=e.portal,O=e.zIndex,k=e.onMouseEnter,M=e.onMouseLeave,$=e.onPointerEnter,I=e.onPointerDownCapture,N=e.ready,T=e.offsetX,L=e.offsetY,R=e.offsetR,_=e.offsetB,A=e.onAlign,P=e.onPrepare,j=e.stretch,B=e.targetWidth,z=e.targetHeight,H="function"==typeof n?n():n,F=s||c,W=(null==x?void 0:x.length)>0,G=pt(m.useState(!x||!W),2),V=G[0],q=G[1];if(Jt(function(){!V&&W&&a&&q(!0)},[V,W,a]),!V)return null;var X="auto",U={left:"-1000vw",top:"-1000vh",right:X,bottom:X};if(N||!s){var Y,K=g.points,Z=g.dynamicInset||(null===(Y=g._experimental)||void 0===Y?void 0:Y.dynamicInset),Q=Z&&"r"===K[0][1],J=Z&&"b"===K[0][0];Q?(U.right=R,U.left=X):(U.left=T,U.right=X),J?(U.bottom=_,U.top=X):(U.top=L,U.bottom=X)}var ee={};return j&&(j.includes("height")&&z?ee.height=z:j.includes("minHeight")&&z&&(ee.minHeight=z),j.includes("width")&&B?ee.width=B:j.includes("minWidth")&&B&&(ee.minWidth=B)),s||(ee.pointerEvents="none"),m.createElement(C,{open:b||F,getContainer:x&&function(){return x(a)},autoDestroy:w},m.createElement(ng,{prefixCls:o,open:s,zIndex:O,mask:f,motion:y}),m.createElement(tt,{onResize:A,disabled:!s},function(e){return m.createElement(oa,E({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(o,"-hidden")},v,{onAppearPrepare:P,onEnterPrepare:P,visible:s,onVisibleChanged:function(e){var t;null==v||null===(t=v.onVisibleChanged)||void 0===t||t.call(v,e),l(e)}}),function(n,a){var l=n.className,c=n.style,f=S(o,l,r);return m.createElement("div",{ref:de(e,t,a),className:f,style:D(D(D(D({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},U),ee),c),{},{boxSizing:"border-box",zIndex:O},i),onMouseEnter:k,onMouseLeave:M,onPointerEnter:$,onClick:d,onPointerDownCapture:I},h&&m.createElement(tg,{prefixCls:o,arrow:h,arrowPos:p,align:g}),m.createElement(rg,{cache:!s&&!u},H))})}))}),ig=m.forwardRef(function(e,t){var n=e.children,r=e.getTriggerDOMNode,o=he(n),i=m.useCallback(function(e){ue(t,r?r(e):e)},[r]),a=fe(i,ge(n));return o?m.cloneElement(n,{ref:a}):n}),ag=m.createContext(null);function lg(e){return e?Array.isArray(e)?e:[e]:[]}function sg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function cg(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function ug(e){return e.ownerDocument.defaultView}function dg(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=ug(n).getComputedStyle(n);[o.overflowX,o.overflowY,o.overflow].some(function(e){return r.includes(e)})&&t.push(n),n=n.parentElement}return t}function fg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function hg(e){return fg(parseFloat(e),0)}function pg(e,t){var n=D({},e);return(t||[]).forEach(function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=ug(e).getComputedStyle(e),r=t.overflow,o=t.overflowClipMargin,i=t.borderTopWidth,a=t.borderBottomWidth,l=t.borderLeftWidth,s=t.borderRightWidth,c=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,f=e.offsetWidth,h=e.clientWidth,p=hg(i),g=hg(a),m=hg(l),v=hg(s),y=fg(Math.round(c.width/f*1e3)/1e3),b=fg(Math.round(c.height/u*1e3)/1e3),x=(f-h-m-v)*y,w=(u-d-p-g)*b,C=p*b,S=g*b,E=m*y,O=v*y,k=0,M=0;if("clip"===r){var $=hg(o);k=$*y,M=$*b}var I=c.x+E-k,N=c.y+C-M,T=I+c.width+2*k-E-O-x,L=N+c.height+2*M-C-S-w;n.left=Math.max(n.left,I),n.top=Math.max(n.top,N),n.right=Math.min(n.right,T),n.bottom=Math.min(n.bottom,L)}}),n}function gg(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function mg(e,t){var n=pt(t||[],2),r=n[0],o=n[1];return[gg(e.width,r),gg(e.height,o)]}function vg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function yg(e,t){var n,r=t[0],o=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===o?e.x:"r"===o?e.x+e.width:e.x+e.width/2,y:n}}function bg(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(e,r){return r===t?n[e]||"c":e}).join("")}var xg=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const wg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kd,t=m.forwardRef(function(t,n){var r=t.prefixCls,o=void 0===r?"rc-trigger-popup":r,i=t.children,a=t.action,l=void 0===a?"hover":a,s=t.showAction,c=t.hideAction,u=t.popupVisible,d=t.defaultPopupVisible,f=t.onPopupVisibleChange,h=t.afterPopupVisibleChange,p=t.mouseEnterDelay,g=t.mouseLeaveDelay,v=void 0===g?.1:g,y=t.focusDelay,b=t.blurDelay,x=t.mask,w=t.maskClosable,C=void 0===w||w,E=t.getPopupContainer,O=t.forceRender,k=t.autoDestroy,M=t.destroyPopupOnHide,$=t.popup,I=t.popupClassName,N=t.popupStyle,T=t.popupPlacement,L=t.builtinPlacements,R=void 0===L?{}:L,_=t.popupAlign,A=t.zIndex,P=t.stretch,j=t.getPopupClassNameFromAlign,B=t.fresh,H=t.alignPoint,F=t.onPopupClick,W=t.onPopupAlign,G=t.arrow,V=t.popupMotion,q=t.maskMotion,X=t.popupTransitionName,U=t.popupAnimation,Y=t.maskTransitionName,K=t.maskAnimation,Z=t.className,Q=t.getTriggerDOMNode,J=$t(t,xg),ee=k||M||!1,te=pt(m.useState(!1),2),ne=te[0],re=te[1];Jt(function(){re(bp())},[]);var oe=m.useRef({}),ie=m.useContext(ag),ae=m.useMemo(function(){return{registerSubPopup:function(e,t){oe.current[e]=t,null==ie||ie.registerSubPopup(e,t)}}},[ie]),le=Nd(),se=pt(m.useState(null),2),ce=se[0],ue=se[1],de=m.useRef(null),fe=zo(function(e){de.current=e,z(e)&&ce!==e&&ue(e),null==ie||ie.registerSubPopup(le,e)}),he=pt(m.useState(null),2),pe=he[0],ge=he[1],me=m.useRef(null),ve=zo(function(e){z(e)&&pe!==e&&(ge(e),me.current=e)}),ye=m.Children.only(i),be=(null==ye?void 0:ye.props)||{},xe={},we=zo(function(e){var t,n,r=pe;return(null==r?void 0:r.contains(e))||(null===(t=Na(r))||void 0===t?void 0:t.host)===e||e===r||(null==ce?void 0:ce.contains(e))||(null===(n=Na(ce))||void 0===n?void 0:n.host)===e||e===ce||Object.values(oe.current).some(function(t){return(null==t?void 0:t.contains(e))||e===t})}),Ce=cg(o,V,U,X),Se=cg(o,q,K,Y),Ee=pt(m.useState(d||!1),2),Oe=Ee[0],ke=Ee[1],Me=null!=u?u:Oe,$e=zo(function(e){void 0===u&&ke(e)});Jt(function(){ke(u||!1)},[u]);var Ie=m.useRef(Me);Ie.current=Me;var Ne=m.useRef([]);Ne.current=[];var Te=zo(function(e){var t;$e(e),(null!==(t=Ne.current[Ne.current.length-1])&&void 0!==t?t:Me)!==e&&(Ne.current.push(e),null==f||f(e))}),Le=m.useRef(),Re=function(){clearTimeout(Le.current)},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Re(),0===t?Te(e):Le.current=setTimeout(function(){Te(e)},1e3*t)};m.useEffect(function(){return Re},[]);var Ae=pt(m.useState(!1),2),Pe=Ae[0],je=Ae[1];Jt(function(e){e&&!Me||je(!0)},[Me]);var Be=pt(m.useState(null),2),De=Be[0],ze=Be[1],He=pt(m.useState(null),2),Fe=He[0],We=He[1],Ge=function(e){We([e.clientX,e.clientY])},Ve=function(e,t,n,r,o,i,a){var l=pt(m.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[r]||{}}),2),s=l[0],c=l[1],u=m.useRef(0),d=m.useMemo(function(){return t?dg(t):[]},[t]),f=m.useRef({});e||(f.current={});var h=zo(function(){if(t&&n&&e){let e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee,r=I.x+e,o=I.y+t,i=r+W,a=o+F,l=Math.max(r,n.left),s=Math.max(o,n.top),c=Math.min(i,n.right),u=Math.min(a,n.bottom);return Math.max(0,(c-l)*(u-s))},gt=function(){he=I.y+Oe,pe=he+F,ge=I.x+Ee,me=ge+W};var l,s,u,h,p,g=t,m=g.ownerDocument,v=ug(g),y=v.getComputedStyle(g).position,b=g.style.left,x=g.style.top,w=g.style.right,C=g.style.bottom,S=g.style.overflow,E=D(D({},o[r]),i),O=m.createElement("div");if(null===(l=g.parentElement)||void 0===l||l.appendChild(O),O.style.left="".concat(g.offsetLeft,"px"),O.style.top="".concat(g.offsetTop,"px"),O.style.position=y,O.style.height="".concat(g.offsetHeight,"px"),O.style.width="".concat(g.offsetWidth,"px"),g.style.left="0",g.style.top="0",g.style.right="auto",g.style.bottom="auto",g.style.overflow="hidden",Array.isArray(n))p={x:n[0],y:n[1],width:0,height:0};else{var k,M,$=n.getBoundingClientRect();$.x=null!==(k=$.x)&&void 0!==k?k:$.left,$.y=null!==(M=$.y)&&void 0!==M?M:$.top,p={x:$.x,y:$.y,width:$.width,height:$.height}}var I=g.getBoundingClientRect(),N=v.getComputedStyle(g),T=N.height,L=N.width;I.x=null!==(s=I.x)&&void 0!==s?s:I.left,I.y=null!==(u=I.y)&&void 0!==u?u:I.top;var R=m.documentElement,_=R.clientWidth,A=R.clientHeight,P=R.scrollWidth,j=R.scrollHeight,B=R.scrollTop,H=R.scrollLeft,F=I.height,W=I.width,G=p.height,V=p.width,q={left:0,top:0,right:_,bottom:A},X={left:-H,top:-B,right:P-H,bottom:j-B},U=E.htmlRegion,Y="visible",K="visibleFirst";"scroll"!==U&&U!==K&&(U=Y);var Z=U===K,Q=pg(X,d),J=pg(q,d),ee=U===Y?J:Q,te=Z?J:ee;g.style.left="auto",g.style.top="auto",g.style.right="0",g.style.bottom="0";var ne=g.getBoundingClientRect();g.style.left=b,g.style.top=x,g.style.right=w,g.style.bottom=C,g.style.overflow=S,null===(h=g.parentElement)||void 0===h||h.removeChild(O);var re=fg(Math.round(W/parseFloat(L)*1e3)/1e3),oe=fg(Math.round(F/parseFloat(T)*1e3)/1e3);if(0===re||0===oe||z(n)&&!Bs(n))return;var ie=E.offset,ae=E.targetOffset,le=pt(mg(I,ie),2),se=le[0],ce=le[1],ue=pt(mg(p,ae),2),de=ue[0],fe=ue[1];p.x-=de,p.y-=fe;var he,pe,ge,me,ve=pt(E.points||[],2),ye=ve[0],be=vg(ve[1]),xe=vg(ye),we=yg(p,be),Ce=yg(I,xe),Se=D({},E),Ee=we.x-Ce.x+se,Oe=we.y-Ce.y+ce,ke=e(Ee,Oe),Me=e(Ee,Oe,J),$e=yg(p,["t","l"]),Ie=yg(I,["t","l"]),Ne=yg(p,["b","r"]),Te=yg(I,["b","r"]),Le=E.overflow||{},Re=Le.adjustX,_e=Le.adjustY,Ae=Le.shiftX,Pe=Le.shiftY,je=function(e){return"boolean"==typeof e?e:e>=0};gt();var Be=je(_e),De=xe[0]===be[0];if(Be&&"t"===xe[0]&&(pe>te.bottom||f.current.bt)){var ze=Oe;De?ze-=F-G:ze=$e.y-Te.y-ce;var He=e(Ee,ze),Fe=e(Ee,ze,J);He>ke||He===ke&&(!Z||Fe>=Me)?(f.current.bt=!0,Oe=ze,ce=-ce,Se.points=[bg(xe,0),bg(be,0)]):f.current.bt=!1}if(Be&&"b"===xe[0]&&(he<te.top||f.current.tb)){var We=Oe;De?We+=F-G:We=Ne.y-Ie.y-ce;var Ge=e(Ee,We),Ve=e(Ee,We,J);Ge>ke||Ge===ke&&(!Z||Ve>=Me)?(f.current.tb=!0,Oe=We,ce=-ce,Se.points=[bg(xe,0),bg(be,0)]):f.current.tb=!1}var qe=je(Re),Xe=xe[1]===be[1];if(qe&&"l"===xe[1]&&(me>te.right||f.current.rl)){var Ue=Ee;Xe?Ue-=W-V:Ue=$e.x-Te.x-se;var Ye=e(Ue,Oe),Ke=e(Ue,Oe,J);Ye>ke||Ye===ke&&(!Z||Ke>=Me)?(f.current.rl=!0,Ee=Ue,se=-se,Se.points=[bg(xe,1),bg(be,1)]):f.current.rl=!1}if(qe&&"r"===xe[1]&&(ge<te.left||f.current.lr)){var Ze=Ee;Xe?Ze+=W-V:Ze=Ne.x-Ie.x-se;var Qe=e(Ze,Oe),Je=e(Ze,Oe,J);Qe>ke||Qe===ke&&(!Z||Je>=Me)?(f.current.lr=!0,Ee=Ze,se=-se,Se.points=[bg(xe,1),bg(be,1)]):f.current.lr=!1}gt();var et=!0===Ae?0:Ae;"number"==typeof et&&(ge<J.left&&(Ee-=ge-J.left-se,p.x+V<J.left+et&&(Ee+=p.x-J.left+V-et)),me>J.right&&(Ee-=me-J.right-se,p.x>J.right-et&&(Ee+=p.x-J.right+et)));var tt=!0===Pe?0:Pe;"number"==typeof tt&&(he<J.top&&(Oe-=he-J.top-ce,p.y+G<J.top+tt&&(Oe+=p.y-J.top+G-tt)),pe>J.bottom&&(Oe-=pe-J.bottom-ce,p.y>J.bottom-tt&&(Oe+=p.y-J.bottom+tt)));var nt=I.x+Ee,rt=nt+W,ot=I.y+Oe,it=ot+F,at=p.x,lt=at+V,st=p.y,ct=st+G,ut=(Math.max(nt,at)+Math.min(rt,lt))/2-nt,dt=(Math.max(ot,st)+Math.min(it,ct))/2-ot;null==a||a(t,Se);var ft=ne.right-I.x-(Ee+I.width),ht=ne.bottom-I.y-(Oe+I.height);1===re&&(Ee=Math.round(Ee),ft=Math.round(ft)),1===oe&&(Oe=Math.round(Oe),ht=Math.round(ht)),c({ready:!0,offsetX:Ee/re,offsetY:Oe/oe,offsetR:ft/re,offsetB:ht/oe,arrowX:ut/re,arrowY:dt/oe,scaleX:re,scaleY:oe,align:Se})}}),p=function(){c(function(e){return D(D({},e),{},{ready:!1})})};return Jt(p,[r]),Jt(function(){e||p()},[e]),[s.ready,s.offsetX,s.offsetY,s.offsetR,s.offsetB,s.arrowX,s.arrowY,s.scaleX,s.scaleY,s.align,function(){u.current+=1;var e=u.current;Promise.resolve().then(function(){u.current===e&&h()})}]}(Me,ce,H&&null!==Fe?Fe:pe,T,R,_,W),qe=pt(Ve,11),Xe=qe[0],Ue=qe[1],Ye=qe[2],Ke=qe[3],Ze=qe[4],Qe=qe[5],Je=qe[6],et=qe[7],nt=qe[8],rt=qe[9],ot=qe[10],at=function(e,t,n,r){return m.useMemo(function(){var o=lg(null!=n?n:t),i=lg(null!=r?r:t),a=new Set(o),l=new Set(i);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[a,l]},[e,t,n,r])}(ne,l,s,c),lt=pt(at,2),st=lt[0],ct=lt[1],ut=st.has("click"),dt=ct.has("click")||ct.has("contextMenu"),ft=zo(function(){Pe||ot()});!function(e,t,n,r,o){Jt(function(){if(e&&t&&n){let e=function(){r(),o()};var i=n,a=dg(t),l=dg(i),s=ug(i),c=new Set([s].concat(it(a),it(l)));return c.forEach(function(t){t.addEventListener("scroll",e,{passive:!0})}),s.addEventListener("resize",e,{passive:!0}),r(),function(){c.forEach(function(t){t.removeEventListener("scroll",e),s.removeEventListener("resize",e)})}}},[e,t,n])}(Me,pe,ce,ft,function(){Ie.current&&H&&dt&&_e(!1)}),Jt(function(){ft()},[Fe,T]),Jt(function(){!Me||null!=R&&R[T]||ft()},[JSON.stringify(_)]);var ht=m.useMemo(function(){var e=function(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var l,s=i[a];if(sg(null===(l=e[s])||void 0===l?void 0:l.points,o,r))return"".concat(t,"-placement-").concat(s)}return""}(R,o,rt,H);return S(e,null==j?void 0:j(rt))},[rt,j,R,o,H]);m.useImperativeHandle(n,function(){return{nativeElement:me.current,popupElement:de.current,forceAlign:ft}});var gt=pt(m.useState(0),2),mt=gt[0],vt=gt[1],yt=pt(m.useState(0),2),bt=yt[0],xt=yt[1],wt=function(){if(P&&pe){var e=pe.getBoundingClientRect();vt(e.width),xt(e.height)}};function Ct(e,t,n,r){xe[e]=function(o){var i;null==r||r(o),_e(t,n);for(var a=arguments.length,l=new Array(a>1?a-1:0),s=1;s<a;s++)l[s-1]=arguments[s];null===(i=be[e])||void 0===i||i.call.apply(i,[be,o].concat(l))}}Jt(function(){De&&(ot(),De(),ze(null))},[De]),(ut||dt)&&(xe.onClick=function(e){var t;Ie.current&&dt?_e(!1):!Ie.current&&ut&&(Ge(e),_e(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=be.onClick)||void 0===t||t.call.apply(t,[be,e].concat(r))});var St,Et,Ot=function(e,t,n,r,o,i,a,l){var s=m.useRef(e);s.current=e;var c=m.useRef(!1);return m.useEffect(function(){if(t&&r&&(!o||i)){var e=function(){c.current=!1},u=function(e){var t;!s.current||a((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||c.current||l(!1)},d=ug(r);d.addEventListener("pointerdown",e,!0),d.addEventListener("mousedown",u,!0),d.addEventListener("contextmenu",u,!0);var f=Na(n);return f&&(f.addEventListener("mousedown",u,!0),f.addEventListener("contextmenu",u,!0)),function(){d.removeEventListener("pointerdown",e,!0),d.removeEventListener("mousedown",u,!0),d.removeEventListener("contextmenu",u,!0),f&&(f.removeEventListener("mousedown",u,!0),f.removeEventListener("contextmenu",u,!0))}}},[t,n,r,o,i]),function(){c.current=!0}}(Me,dt,pe,ce,x,C,we,_e),kt=st.has("hover"),Mt=ct.has("hover");kt&&(Ct("onMouseEnter",!0,p,function(e){Ge(e)}),Ct("onPointerEnter",!0,p,function(e){Ge(e)}),St=function(e){(Me||Pe)&&null!=ce&&ce.contains(e.target)&&_e(!0,p)},H&&(xe.onMouseMove=function(e){var t;null===(t=be.onMouseMove)||void 0===t||t.call(be,e)})),Mt&&(Ct("onMouseLeave",!1,v),Ct("onPointerLeave",!1,v),Et=function(){_e(!1,v)}),st.has("focus")&&Ct("onFocus",!0,y),ct.has("focus")&&Ct("onBlur",!1,b),st.has("contextMenu")&&(xe.onContextMenu=function(e){var t;Ie.current&&ct.has("contextMenu")?_e(!1):(Ge(e),_e(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=be.onContextMenu)||void 0===t||t.call.apply(t,[be,e].concat(r))}),Z&&(xe.className=S(be.className,Z));var It=m.useRef(!1);It.current||(It.current=O||Me||Pe);var Nt=D(D({},be),xe),Tt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach(function(e){J[e]&&(Tt[e]=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=Nt[e])||void 0===t||t.call.apply(t,[Nt].concat(r)),J[e].apply(J,r)})});var Lt=m.cloneElement(ye,D(D({},Nt),Tt)),Rt={x:Qe,y:Je},_t=G?D({},!0!==G?G:{}):null;return m.createElement(m.Fragment,null,m.createElement(tt,{disabled:!Me,ref:ve,onResize:function(){wt(),ft()}},m.createElement(ig,{getTriggerDOMNode:Q},Lt)),It.current&&m.createElement(ag.Provider,{value:ae},m.createElement(og,{portal:e,ref:fe,prefixCls:o,popup:$,className:S(I,ht),style:N,target:pe,onMouseEnter:St,onMouseLeave:Et,onPointerEnter:St,zIndex:A,open:Me,keepDom:Pe,fresh:B,onClick:F,onPointerDownCapture:Ot,mask:x,motion:Ce,maskMotion:Se,onVisibleChanged:function(e){je(!1),ot(),null==h||h(e)},onPrepare:function(){return new Promise(function(e){wt(),ze(function(){return e})})},forceRender:O,autoDestroy:ee,getPopupContainer:E,align:rt,arrow:_t,arrowPos:Rt,ready:Xe,offsetX:Ue,offsetY:Ye,offsetR:Ke,offsetB:Ze,onAlign:ft,stretch:P,targetWidth:mt/et,targetHeight:bt/nt})))});return t}(kd);var Cg=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Sg=function(e,t){var n=e.prefixCls;e.disabled;var r=e.visible,o=e.children,i=e.popupElement,a=e.animation,l=e.transitionName,s=e.dropdownStyle,c=e.dropdownClassName,u=e.direction,d=void 0===u?"ltr":u,f=e.placement,h=e.builtinPlacements,p=e.dropdownMatchSelectWidth,g=e.dropdownRender,v=e.dropdownAlign,y=e.getPopupContainer,b=e.empty,x=e.getTriggerDOMNode,w=e.onPopupVisibleChange,C=e.onPopupMouseEnter,O=$t(e,Cg),k="".concat(n,"-dropdown"),M=i;g&&(M=g(i));var $=m.useMemo(function(){return h||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(p)},[h,p]),I=a?"".concat(k,"-").concat(a):l,N="number"==typeof p,T=m.useMemo(function(){return N?null:!1===p?"minWidth":"width"},[p,N]),L=s;N&&(L=D(D({},L),{},{width:p}));var R=m.useRef(null);return m.useImperativeHandle(t,function(){return{getPopupElement:function(){var e;return null===(e=R.current)||void 0===e?void 0:e.popupElement}}}),m.createElement(wg,E({},O,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:f||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:$,prefixCls:k,popupTransitionName:I,popup:m.createElement("div",{onMouseEnter:C},M),ref:R,stretch:T,popupAlign:v,popupVisible:r,getPopupContainer:y,popupClassName:S(c,j({},"".concat(k,"-empty"),b)),popupStyle:L,getTriggerDOMNode:x,onPopupVisibleChange:w}),o)},Eg=m.forwardRef(Sg);function Og(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!=r?r:void 0!==n?n:"rc-index-key-".concat(t)}function kg(e){return void 0!==e&&!Number.isNaN(e)}function Mg(e,t){var n=e||{},r=n.label||(t?"children":"label");return{label:r,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||r}}function $g(e){var t=D({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return A(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var Ig=m.createContext(null);function Ng(e){var t=e.visible,n=e.values;if(!t)return null;return m.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,50).map(function(e){var t=e.label,n=e.value;return["number","string"].includes(O(t))?t:n}).join(", ")),n.length>50?", ...":null)}var Tg=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Lg=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Rg=function(e){return"tags"===e||"multiple"===e},_g=m.forwardRef(function(e,t){var n,r=e.id,o=e.prefixCls,i=e.className,a=e.showSearch,l=e.tagRender,s=e.direction,c=e.omitDomProps,u=e.displayValues,d=e.onDisplayValuesChange,f=e.emptyOptions,h=e.notFoundContent,g=void 0===h?"Not Found":h,v=e.onClear,y=e.mode,b=e.disabled,x=e.loading,w=e.getInputElement,C=e.getRawInputElement,k=e.open,M=e.defaultOpen,$=e.onDropdownVisibleChange,I=e.activeValue,N=e.onActiveValueChange,T=e.activeDescendantId,L=e.searchValue,R=e.autoClearSearchValue,_=e.onSearch,A=e.onSearchSplit,P=e.tokenSeparators,B=e.allowClear,z=e.prefix,H=e.suffixIcon,F=e.clearIcon,W=e.OptionList,G=e.animation,V=e.transitionName,q=e.dropdownStyle,X=e.dropdownClassName,U=e.dropdownMatchSelectWidth,Y=e.dropdownRender,K=e.dropdownAlign,Z=e.placement,Q=e.builtinPlacements,J=e.getPopupContainer,ee=e.showAction,te=void 0===ee?[]:ee,ne=e.onFocus,re=e.onBlur,oe=e.onKeyUp,ie=e.onKeyDown,ae=e.onMouseDown,le=$t(e,Tg),se=Rg(y),ce=(void 0!==a?a:se)||"combobox"===y,ue=D({},le);Lg.forEach(function(e){delete ue[e]}),null==c||c.forEach(function(e){delete ue[e]});var de=pt(m.useState(!1),2),he=de[0],pe=de[1];m.useEffect(function(){pe(bp())},[]);var ge=m.useRef(null),me=m.useRef(null),ve=m.useRef(null),ye=m.useRef(null),be=m.useRef(null),xe=m.useRef(!1),we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=pt(m.useState(!1),2),n=t[0],r=t[1],o=m.useRef(null),i=function(){window.clearTimeout(o.current)};return m.useEffect(function(){return i},[]),[n,function(t,n){i(),o.current=window.setTimeout(function(){r(t),n&&n()},e)},i]}(),Ce=pt(we,3),Se=Ce[0],Ee=Ce[1],Oe=Ce[2];m.useImperativeHandle(t,function(){var e,t;return{focus:null===(e=ye.current)||void 0===e?void 0:e.focus,blur:null===(t=ye.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=be.current)||void 0===t?void 0:t.scrollTo(e)},nativeElement:ge.current||me.current}});var ke=m.useMemo(function(){var e;if("combobox"!==y)return L;var t=null===(e=u[0])||void 0===e?void 0:e.value;return"string"==typeof t||"number"==typeof t?String(t):""},[L,y,u]),Me="combobox"===y&&"function"==typeof w&&w()||null,$e="function"==typeof C&&C(),Ie=fe(me,null==$e||null===(n=$e.props)||void 0===n?void 0:n.ref),Ne=pt(m.useState(!1),2),Te=Ne[0],Le=Ne[1];Jt(function(){Le(!0)},[]);var Re=pt(Wo(!1,{defaultValue:M,value:k}),2),_e=Re[0],Ae=Re[1],Pe=!!Te&&_e,je=!g&&f;(b||je&&Pe&&"combobox"===y)&&(Pe=!1);var Be=!je&&Pe,De=m.useCallback(function(e){var t=void 0!==e?e:!Pe;b||(Ae(t),Pe!==t&&(null==$||$(t)))},[b,Pe,Ae,$]),ze=m.useMemo(function(){return(P||[]).some(function(e){return["\n","\r\n"].includes(e)})},[P]),He=m.useContext(Ig)||{},Fe=He.maxCount,We=He.rawValues,Ge=function(e,t,n){if(!(se&&kg(Fe)&&(null==We?void 0:We.size)>=Fe)){var r=!0,o=e;null==N||N(null);var i=function(e,t,n){if(!t||!t.length)return null;var r=!1,o=function e(t,n){var o=hr(n),i=o[0],a=o.slice(1);if(!i)return[t];var l=t.split(i);return r=r||l.length>1,l.reduce(function(t,n){return[].concat(it(t),it(e(n,a)))},[]).filter(Boolean)}(e,t);return r?void 0!==n?o.slice(0,n):o:null}(e,P,kg(Fe)?Fe-We.size:void 0),a=n?null:i;return"combobox"!==y&&a&&(o="",null==A||A(a),De(!1),r=!1),_&&ke!==o&&_(o,{source:t?"typing":"effect"}),r}};m.useEffect(function(){Pe||se||"combobox"===y||Ge("",!1,!1)},[Pe]),m.useEffect(function(){_e&&b&&Ae(!1),b&&!xe.current&&Ee(!1)},[b]);var Ve=pt(Sp(),2),qe=Ve[0],Xe=Ve[1],Ue=m.useRef(!1),Ye=m.useRef(!1),Ke=[];m.useEffect(function(){return function(){Ke.forEach(function(e){return clearTimeout(e)}),Ke.splice(0,Ke.length)}},[]);var Ze,Qe=pt(m.useState({}),2)[1];$e&&(Ze=function(e){De(e)}),function(e,t,n,r){var o=m.useRef(null);o.current={open:t,triggerOpen:n,customizedTrigger:r},m.useEffect(function(){function t(t){var n;if(null===(n=o.current)||void 0===n||!n.customizedTrigger){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),o.current.open&&e().filter(function(e){return e}).every(function(e){return!e.contains(r)&&e!==r})&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}},[])}(function(){var e;return[ge.current,null===(e=ve.current)||void 0===e?void 0:e.getPopupElement()]},Be,De,!!$e);var Je,et=m.useMemo(function(){return D(D({},e),{},{notFoundContent:g,open:Pe,triggerOpen:Be,id:r,showSearch:ce,multiple:se,toggleOpen:De})},[e,g,Be,Pe,r,ce,se,De]),tt=!!H||x;tt&&(Je=m.createElement(xp,{className:S("".concat(o,"-arrow"),j({},"".concat(o,"-arrow-loading"),x)),customizeIcon:H,customizeIconProps:{loading:x,searchValue:ke,open:Pe,focused:Se,showSearch:ce}}));var nt,rt=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,s=p.useMemo(function(){return"object"===O(r)?r.clearIcon:o||void 0},[r,o]);return{allowClear:p.useMemo(function(){return!(i||!r||!n.length&&!a||"combobox"===l&&""===a)},[r,i,n.length,a,l]),clearIcon:p.createElement(xp,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:s},"")}}(o,function(){var e;null==v||v(),null===(e=ye.current)||void 0===e||e.focus(),d([],{type:"clear",values:u}),Ge("",!1,!1)},u,B,F,b,ke,y),ot=rt.allowClear,at=rt.clearIcon,lt=m.createElement(W,{ref:be}),st=S(o,i,j(j(j(j(j(j(j(j(j(j({},"".concat(o,"-focused"),Se),"".concat(o,"-multiple"),se),"".concat(o,"-single"),!se),"".concat(o,"-allow-clear"),B),"".concat(o,"-show-arrow"),tt),"".concat(o,"-disabled"),b),"".concat(o,"-loading"),x),"".concat(o,"-open"),Pe),"".concat(o,"-customize-input"),Me),"".concat(o,"-show-search"),ce)),ct=m.createElement(Eg,{ref:ve,disabled:b,prefixCls:o,visible:Be,popupElement:lt,animation:G,transitionName:V,dropdownStyle:q,dropdownClassName:X,direction:s,dropdownMatchSelectWidth:U,dropdownRender:Y,dropdownAlign:K,placement:Z,builtinPlacements:Q,getPopupContainer:J,empty:f,getTriggerDOMNode:function(e){return me.current||e},onPopupVisibleChange:Ze,onPopupMouseEnter:function(){Qe({})}},$e?m.cloneElement($e,{ref:Ie}):m.createElement(eg,E({},e,{domRef:me,prefixCls:o,inputElement:Me,ref:ye,id:r,prefix:z,showSearch:ce,autoClearSearchValue:R,mode:y,activeDescendantId:T,tagRender:l,values:u,open:Pe,onToggleOpen:De,activeValue:I,searchValue:ke,onSearch:Ge,onSearchSubmit:function(e){e&&e.trim()&&_(e,{source:"submit"})},onRemove:function(e){var t=u.filter(function(t){return t!==e});d(t,{type:"remove",values:[e]})},tokenWithEnter:ze,onInputBlur:function(){Ue.current=!1}})));return nt=$e?ct:m.createElement("div",E({className:st},ue,{ref:ge,onMouseDown:function(e){var t,n=e.target,r=null===(t=ve.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var o=setTimeout(function(){var e,t=Ke.indexOf(o);-1!==t&&Ke.splice(t,1),Oe(),he||r.contains(document.activeElement)||null===(e=ye.current)||void 0===e||e.focus()});Ke.push(o)}for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];null==ae||ae.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=qe(),r=e.key,o="Enter"===r;if(o&&("combobox"!==y&&e.preventDefault(),Pe||De(!0)),Xe(!!ke),"Backspace"===r&&!n&&se&&!ke&&u.length){for(var i=it(u),a=null,l=i.length-1;l>=0;l-=1){var s=i[l];if(!s.disabled){i.splice(l,1),a=s;break}}a&&d(i,{type:"remove",values:[a]})}for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];!Pe||o&&Ue.current||(o&&(Ue.current=!0),null===(t=be.current)||void 0===t||t.onKeyDown.apply(t,[e].concat(f))),null==ie||ie.apply(void 0,[e].concat(f))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;Pe&&(null===(o=be.current)||void 0===o||o.onKeyUp.apply(o,[e].concat(n))),"Enter"===e.key&&(Ue.current=!1),null==oe||oe.apply(void 0,[e].concat(n))},onFocus:function(){Ee(!0),b||(ne&&!Ye.current&&ne.apply(void 0,arguments),te.includes("focus")&&De(!0)),Ye.current=!0},onBlur:function(){xe.current=!0,Ee(!1,function(){Ye.current=!1,xe.current=!1,De(!1)}),b||(ke&&("tags"===y?_(ke,{source:"submit"}):"multiple"===y&&_("",{source:"blur"})),re&&re.apply(void 0,arguments))}}),m.createElement(Ng,{visible:Se&&!Pe,values:u}),ct,Je,ot&&at),m.createElement(wp.Provider,{value:et},nt)}),Ag=function(){return null};Ag.isSelectOptGroup=!0;var Pg=function(){return null};Pg.isSelectOption=!0;var jg=m.forwardRef(function(e,t){var n=e.height,r=e.offsetY,o=e.offsetX,i=e.children,a=e.prefixCls,l=e.onInnerResize,s=e.innerProps,c=e.rtl,u=e.extra,d={},f={display:"flex",flexDirection:"column"};return void 0!==r&&(d={height:n,position:"relative",overflow:"hidden"},f=D(D({},f),{},j(j(j(j(j({transform:"translateY(".concat(r,"px)")},c?"marginRight":"marginLeft",-o),"position","absolute"),"left",0),"right",0),"top",0))),m.createElement("div",{style:d},m.createElement(tt,{onResize:function(e){e.offsetHeight&&l&&l()}},m.createElement("div",E({style:f,className:S(j({},"".concat(a,"-holder-inner"),a)),ref:t},s),i,u)))});function Bg(e){var t=e.children,n=e.setRef,r=m.useCallback(function(e){n(e)},[]);return m.cloneElement(t,{ref:r})}function Dg(e,t,n){var r=pt(m.useState(e),2),o=r[0],i=r[1],a=pt(m.useState(null),2),l=a[0],s=a[1];return m.useEffect(function(){var n=function(e,t,n){var r,o,i=e.length,a=t.length;if(0===i&&0===a)return null;i<a?(r=e,o=t):(r=t,o=e);var l={__EMPTY_ITEM__:!0};function s(e){return void 0!==e?n(e):l}for(var c=null,u=1!==Math.abs(i-a),d=0;d<o.length;d+=1){var f=s(r[d]);if(f!==s(o[d])){c=d,u=u||f!==s(o[d+1]);break}}return null===c?null:{index:c,multiple:u}}(o||[],e||[],t);void 0!==(null==n?void 0:n.index)&&s(e[n.index]),i(e)},[e]),[l]}jg.displayName="Filler";var zg="object"===("undefined"==typeof navigator?"undefined":O(navigator))&&/Firefox/i.test(navigator.userAgent);const Hg=function(e,t,n,r){var o=m.useRef(!1),i=m.useRef(null);var a=m.useRef({top:e,bottom:t,left:n,right:r});return a.current.top=e,a.current.bottom=t,a.current.left=n,a.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&a.current.left||t>0&&a.current.right:t<0&&a.current.top||t>0&&a.current.bottom;return n&&r?(clearTimeout(i.current),o.current=!1):r&&!o.current||(clearTimeout(i.current),o.current=!0,i.current=setTimeout(function(){o.current=!1},50)),!o.current&&r}};function Fg(e,t,n,r,o,i,a){var l=m.useRef(0),s=m.useRef(null),c=m.useRef(null),u=m.useRef(!1),d=Hg(t,n,r,o);var f=m.useRef(null),h=m.useRef(null);return[function(t){if(e){dt.cancel(h.current),h.current=dt(function(){f.current=null},2);var n=t.deltaX,r=t.deltaY,o=t.shiftKey,p=n,g=r;("sx"===f.current||!f.current&&o&&r&&!n)&&(p=r,g=0,f.current="sx");var m=Math.abs(p),v=Math.abs(g);null===f.current&&(f.current=i&&m>v?"x":"y"),"y"===f.current?function(e,t){if(dt.cancel(s.current),!d(!1,t)){var n=e;n._virtualHandled||(n._virtualHandled=!0,l.current+=t,c.current=t,zg||n.preventDefault(),s.current=dt(function(){var e=u.current?10:1;a(l.current*e,!1),l.current=0}))}}(t,g):function(e,t){a(t,!0),zg||e.preventDefault()}(t,p)}},function(t){e&&(u.current=t.detail===c.current)}]}var Wg=function(){function e(){He(this,e),j(this,"maps",void 0),j(this,"id",0),j(this,"diffRecords",new Map),this.maps=Object.create(null)}return We(e,[{key:"set",value:function(e,t){this.diffRecords.set(e,this.maps[e]),this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),e}();function Gg(e){var t=parseFloat(e);return isNaN(t)?0:t}var Vg=14/15;function qg(e){return Math.floor(Math.pow(e,.5))}function Xg(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}var Ug=m.forwardRef(function(e,t){var n=e.prefixCls,r=e.rtl,o=e.scrollOffset,i=e.scrollRange,a=e.onStartMove,l=e.onStopMove,s=e.onScroll,c=e.horizontal,u=e.spinSize,d=e.containerSize,f=e.style,h=e.thumbStyle,p=e.showScrollBar,g=pt(m.useState(!1),2),v=g[0],y=g[1],b=pt(m.useState(null),2),x=b[0],w=b[1],C=pt(m.useState(null),2),E=C[0],O=C[1],k=!r,M=m.useRef(),$=m.useRef(),I=pt(m.useState(p),2),N=I[0],T=I[1],L=m.useRef(),R=function(){!0!==p&&!1!==p&&(clearTimeout(L.current),T(!0),L.current=setTimeout(function(){T(!1)},3e3))},_=i-d||0,A=d-u||0,P=m.useMemo(function(){return 0===o||0===_?0:o/_*A},[o,_,A]),B=m.useRef({top:P,dragging:v,pageY:x,startTop:E});B.current={top:P,dragging:v,pageY:x,startTop:E};var z=function(e){y(!0),w(Xg(e,c)),O(B.current.top),a(),e.stopPropagation(),e.preventDefault()};m.useEffect(function(){var e=function(e){e.preventDefault()},t=M.current,n=$.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",z,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",z)}},[]);var H=m.useRef();H.current=_;var F=m.useRef();F.current=A,m.useEffect(function(){if(v){var e,t=function(t){var n=B.current,r=n.dragging,o=n.pageY,i=n.startTop;dt.cancel(e);var a=M.current.getBoundingClientRect(),l=d/(c?a.width:a.height);if(r){var u=(Xg(t,c)-o)*l,f=i;!k&&c?f-=u:f+=u;var h=H.current,p=F.current,g=p?f/p:0,m=Math.ceil(g*h);m=Math.max(m,0),m=Math.min(m,h),e=dt(function(){s(m,c)})}},n=function(){y(!1),l()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),dt.cancel(e)}}},[v]),m.useEffect(function(){return R(),function(){clearTimeout(L.current)}},[o]),m.useImperativeHandle(t,function(){return{delayHidden:R}});var W="".concat(n,"-scrollbar"),G={position:"absolute",visibility:N?null:"hidden"},V={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return c?(Object.assign(G,{height:8,left:0,right:0,bottom:0}),Object.assign(V,j({height:"100%",width:u},k?"left":"right",P))):(Object.assign(G,j({width:8,top:0,bottom:0},k?"right":"left",0)),Object.assign(V,{width:"100%",height:u,top:P})),m.createElement("div",{ref:M,className:S(W,j(j(j({},"".concat(W,"-horizontal"),c),"".concat(W,"-vertical"),!c),"".concat(W,"-visible"),N)),style:D(D({},G),f),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:R},m.createElement("div",{ref:$,className:S("".concat(W,"-thumb"),j({},"".concat(W,"-thumb-moving"),v)),style:D(D({},V),h),onMouseDown:z}))});function Yg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,20),Math.floor(t)}var Kg=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],Zg=[],Qg={overflowY:"auto",overflowAnchor:"none"};function Jg(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,o=e.className,i=e.height,a=e.itemHeight,l=e.fullHeight,s=void 0===l||l,c=e.style,u=e.data,d=e.children,f=e.itemKey,h=e.virtual,p=e.direction,g=e.scrollWidth,v=e.component,b=void 0===v?"div":v,x=e.onScroll,w=e.onVirtualScroll,C=e.onVisibleChange,k=e.innerProps,M=e.extraRender,$=e.styles,I=e.showScrollBar,N=void 0===I?"optional":I,T=$t(e,Kg),L=m.useCallback(function(e){return"function"==typeof f?f(e):null==e?void 0:e[f]},[f]),R=function(e){var t=pt(m.useState(0),2),n=t[0],r=t[1],o=m.useRef(new Map),i=m.useRef(new Wg),a=m.useRef(0);function l(){a.current+=1}function s(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l();var t=function(){var e=!1;o.current.forEach(function(t,n){if(t&&t.offsetParent){var r=t.offsetHeight,o=getComputedStyle(t),a=o.marginTop,l=o.marginBottom,s=r+Gg(a)+Gg(l);i.current.get(n)!==s&&(i.current.set(n,s),e=!0)}}),e&&r(function(e){return e+1})};if(e)t();else{a.current+=1;var n=a.current;Promise.resolve().then(function(){n===a.current&&t()})}}return m.useEffect(function(){return l},[]),[function(t,n){var r=e(t);o.current.get(r),n?(o.current.set(r,n),s()):o.current.delete(r)},s,i.current,n]}(L),_=pt(R,4),A=_[0],P=_[1],B=_[2],z=_[3],H=!(!1===h||!i||!a),F=m.useMemo(function(){return Object.values(B.maps).reduce(function(e,t){return e+t},0)},[B.id,B.maps]),W=H&&u&&(Math.max(a*u.length,F)>i||!!g),G="rtl"===p,V=S(r,j({},"".concat(r,"-rtl"),G),o),q=u||Zg,X=m.useRef(),U=m.useRef(),Y=m.useRef(),K=pt(m.useState(0),2),Z=K[0],Q=K[1],J=pt(m.useState(0),2),ee=J[0],te=J[1],ne=pt(m.useState(!1),2),re=ne[0],oe=ne[1],ie=function(){oe(!0)},ae=function(){oe(!1)},le={getKey:L};function se(e){Q(function(t){var n=function(e){var t=e;Number.isNaN(Oe.current)||(t=Math.min(t,Oe.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return X.current.scrollTop=n,n})}var ce=m.useRef({start:0,end:q.length}),ue=m.useRef(),de=pt(Dg(q,L),1)[0];ue.current=de;var fe=m.useMemo(function(){if(!H)return{scrollHeight:void 0,start:0,end:q.length-1,offset:void 0};var e;if(!W)return{scrollHeight:(null===(e=U.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:q.length-1,offset:void 0};for(var t,n,r,o=0,l=q.length,s=0;s<l;s+=1){var c=q[s],u=L(c),d=B.get(u),f=o+(void 0===d?a:d);f>=Z&&void 0===t&&(t=s,n=o),f>Z+i&&void 0===r&&(r=s),o=f}return void 0===t&&(t=0,n=0,r=Math.ceil(i/a)),void 0===r&&(r=q.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,q.length-1),offset:n}},[W,H,Z,q,z,i]),he=fe.scrollHeight,pe=fe.start,ge=fe.end,me=fe.offset;ce.current.start=pe,ce.current.end=ge,m.useLayoutEffect(function(){var e=B.getRecord();if(1===e.size){var t=Array.from(e.keys())[0],n=e.get(t),r=q[pe];if(r&&void 0===n)if(L(r)===t){var o=B.get(t)-a;se(function(e){return e+o})}}B.resetRecord()},[he]);var ve=pt(m.useState({width:0,height:i}),2),ye=ve[0],be=ve[1],xe=m.useRef(),we=m.useRef(),Ce=m.useMemo(function(){return Yg(ye.width,g)},[ye.width,g]),Se=m.useMemo(function(){return Yg(ye.height,he)},[ye.height,he]),Ee=he-i,Oe=m.useRef(Ee);Oe.current=Ee;var ke=Z<=0,Me=Z>=Ee,$e=ee<=0,Ie=ee>=g,Ne=Hg(ke,Me,$e,Ie),Te=function(){return{x:G?-ee:ee,y:Z}},Le=m.useRef(Te()),Re=zo(function(e){if(w){var t=D(D({},Te()),e);Le.current.x===t.x&&Le.current.y===t.y||(w(t),Le.current=t)}});function _e(e,t){var n=e;t?(y.flushSync(function(){te(n)}),Re()):se(n)}var Ae=function(e){var t=e,n=g?g-ye.width:0;return t=Math.max(t,0),t=Math.min(t,n)},Pe=zo(function(e,t){t?(y.flushSync(function(){te(function(t){return Ae(t+(G?-e:e))})}),Re()):se(function(t){return t+e})}),je=pt(Fg(H,ke,Me,$e,Ie,!!g,Pe),2),Be=je[0],De=je[1];!function(e,t,n){var r,o=m.useRef(!1),i=m.useRef(0),a=m.useRef(0),l=m.useRef(null),s=m.useRef(null),c=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageX),r=Math.ceil(e.touches[0].pageY),l=i.current-t,c=a.current-r,u=Math.abs(l)>Math.abs(c);u?i.current=t:a.current=r;var d=n(u,u?l:c,!1,e);d&&e.preventDefault(),clearInterval(s.current),d&&(s.current=setInterval(function(){u?l*=Vg:c*=Vg;var e=Math.floor(u?l:c);(!n(u,e,!0)||Math.abs(e)<=.1)&&clearInterval(s.current)},16))}},u=function(){o.current=!1,r()},d=function(e){r(),1!==e.touches.length||o.current||(o.current=!0,i.current=Math.ceil(e.touches[0].pageX),a.current=Math.ceil(e.touches[0].pageY),l.current=e.target,l.current.addEventListener("touchmove",c,{passive:!1}),l.current.addEventListener("touchend",u,{passive:!0}))};r=function(){l.current&&(l.current.removeEventListener("touchmove",c),l.current.removeEventListener("touchend",u))},Jt(function(){return e&&t.current.addEventListener("touchstart",d,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",d),r(),clearInterval(s.current)}},[e])}(H,X,function(e,t,n,r){var o=r;return!Ne(e,t,n)&&((!o||!o._virtualHandled)&&(o&&(o._virtualHandled=!0),Be({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0))}),function(e,t,n){m.useEffect(function(){var r=t.current;if(e&&r){var o,i,a=!1,l=function(){dt.cancel(o)},s=function e(){l(),o=dt(function(){n(i),e()})},c=function(){a=!1,l()},u=function(e){if(!e.target.draggable&&0===e.button){var t=e;t._virtualHandled||(t._virtualHandled=!0,a=!0)}},d=function(e){if(a){var t=Xg(e,!1),n=r.getBoundingClientRect(),o=n.top,c=n.bottom;t<=o?(i=-qg(o-t),s()):t>=c?(i=qg(t-c),s()):l()}};return r.addEventListener("mousedown",u),r.ownerDocument.addEventListener("mouseup",c),r.ownerDocument.addEventListener("mousemove",d),r.ownerDocument.addEventListener("dragend",c),function(){r.removeEventListener("mousedown",u),r.ownerDocument.removeEventListener("mouseup",c),r.ownerDocument.removeEventListener("mousemove",d),r.ownerDocument.removeEventListener("dragend",c),l()}}},[e])}(W,X,function(e){se(function(t){return t+e})}),Jt(function(){function e(e){var t=ke&&e.detail<0,n=Me&&e.detail>0;!H||t||n||e.preventDefault()}var t=X.current;return t.addEventListener("wheel",Be,{passive:!1}),t.addEventListener("DOMMouseScroll",De,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",Be),t.removeEventListener("DOMMouseScroll",De),t.removeEventListener("MozMousePixelScroll",e)}},[H,ke,Me]),Jt(function(){if(g){var e=Ae(ee);te(e),Re({x:e})}},[ye.width,g]);var ze=function(){var e,t;null===(e=xe.current)||void 0===e||e.delayHidden(),null===(t=we.current)||void 0===t||t.delayHidden()},He=function(e,t,n,r,o,i,a,l){var s=m.useRef(),c=pt(m.useState(null),2),u=c[0],d=c[1];return Jt(function(){if(u&&u.times<10){if(!e.current)return void d(function(e){return D({},e)});i();var l=u.targetAlign,s=u.originAlign,c=u.index,f=u.offset,h=e.current.clientHeight,p=!1,g=l,m=null;if(h){for(var v=l||s,y=0,b=0,x=0,w=Math.min(t.length-1,c),C=0;C<=w;C+=1){var S=o(t[C]);b=y;var E=n.get(S);y=x=b+(void 0===E?r:E)}for(var O="top"===v?f:h-f,k=w;k>=0;k-=1){var M=o(t[k]),$=n.get(M);if(void 0===$){p=!0;break}if((O-=$)<=0)break}switch(v){case"top":m=b-f;break;case"bottom":m=x-h+f;break;default:var I=e.current.scrollTop;b<I?g="top":x>I+h&&(g="bottom")}null!==m&&a(m),m!==u.lastTop&&(p=!0)}p&&d(D(D({},u),{},{times:u.times+1,targetAlign:g,lastTop:m}))}},[u,e.current]),function(e){if(null!=e){if(dt.cancel(s.current),"number"==typeof e)a(e);else if(e&&"object"===O(e)){var n,r=e.align;n="index"in e?e.index:t.findIndex(function(t){return o(t)===e.key});var i=e.offset;d({times:0,index:n,offset:void 0===i?0:i,originAlign:r})}}else l()}}(X,q,B,a,L,function(){return P(!0)},se,ze);m.useImperativeHandle(t,function(){return{nativeElement:Y.current,getScrollInfo:Te,scrollTo:function(e){var t;(t=e)&&"object"===O(t)&&("left"in t||"top"in t)?(void 0!==e.left&&te(Ae(e.left)),He(e.top)):He(e)}}}),Jt(function(){if(C){var e=q.slice(pe,ge+1);C(e,q)}},[pe,ge,q]);var Fe=function(e,t,n,r){var o=pt(m.useMemo(function(){return[new Map,[]]},[e,n.id,r]),2),i=o[0],a=o[1];return function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,s=i.get(o),c=i.get(l);if(void 0===s||void 0===c)for(var u=e.length,d=a.length;d<u;d+=1){var f,h=e[d],p=t(h);i.set(p,d);var g=null!==(f=n.get(p))&&void 0!==f?f:r;if(a[d]=(a[d-1]||0)+g,p===o&&(s=d),p===l&&(c=d),void 0!==s&&void 0!==c)break}return{top:a[s-1]||0,bottom:a[c]}}}(q,L,B,a),We=null==M?void 0:M({start:pe,end:ge,virtual:W,offsetX:ee,offsetY:me,rtl:G,getSize:Fe}),Ge=function(e,t,n,r,o,i,a,l){var s=l.getKey;return e.slice(t,n+1).map(function(e,n){var l=a(e,t+n,{style:{width:r},offsetX:o}),c=s(e);return m.createElement(Bg,{key:c,setRef:function(t){return i(e,t)}},l)})}(q,pe,ge,g,ee,A,d,le),Ve=null;i&&(Ve=D(j({},s?"height":"maxHeight",i),Qg),H&&(Ve.overflowY="hidden",g&&(Ve.overflowX="hidden"),re&&(Ve.pointerEvents="none")));var qe={};return G&&(qe.dir="rtl"),m.createElement("div",E({ref:Y,style:D(D({},c),{},{position:"relative"}),className:V},qe,T),m.createElement(tt,{onResize:function(e){be({width:e.offsetWidth,height:e.offsetHeight})}},m.createElement(b,{className:"".concat(r,"-holder"),style:Ve,ref:X,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==Z&&se(t),null==x||x(e),Re()},onMouseEnter:ze},m.createElement(jg,{prefixCls:r,height:he,offsetX:ee,offsetY:me,scrollWidth:g,onInnerResize:P,ref:U,innerProps:k,rtl:G,extra:We},Ge))),W&&he>i&&m.createElement(Ug,{ref:xe,prefixCls:r,scrollOffset:Z,scrollRange:he,rtl:G,onScroll:_e,onStartMove:ie,onStopMove:ae,spinSize:Se,containerSize:ye.height,style:null==$?void 0:$.verticalScrollBar,thumbStyle:null==$?void 0:$.verticalScrollBarThumb,showScrollBar:N}),W&&g>ye.width&&m.createElement(Ug,{ref:we,prefixCls:r,scrollOffset:ee,scrollRange:g,rtl:G,onScroll:_e,onStartMove:ie,onStopMove:ae,spinSize:Ce,containerSize:ye.width,horizontal:!0,style:null==$?void 0:$.horizontalScrollBar,thumbStyle:null==$?void 0:$.horizontalScrollBarThumb,showScrollBar:N}))}var em=m.forwardRef(Jg);em.displayName="List";var tm=["disabled","title","children","style","className"];function nm(e){return"string"==typeof e||"number"==typeof e}var rm=function(e,t){var n=Cp(),r=n.prefixCls,o=n.id,i=n.open,a=n.multiple,l=n.mode,s=n.searchValue,c=n.toggleOpen,u=n.notFoundContent,d=n.onPopupScroll,f=m.useContext(Ig),h=f.maxCount,p=f.flattenOptions,g=f.onActiveValue,v=f.defaultActiveFirstOption,y=f.onSelect,b=f.menuItemSelectedIcon,x=f.rawValues,w=f.fieldNames,C=f.virtual,O=f.direction,k=f.listHeight,M=f.listItemHeight,$=f.optionRender,I="".concat(r,"-item"),N=se(function(){return p},[i,p],function(e,t){return t[0]&&e[1]!==t[1]}),T=m.useRef(null),L=m.useMemo(function(){return a&&kg(h)&&(null==x?void 0:x.size)>=h},[a,h,null==x?void 0:x.size]),R=function(e){e.preventDefault()},_=function(e){var t;null===(t=T.current)||void 0===t||t.scrollTo("number"==typeof e?{index:e}:e)},A=m.useCallback(function(e){return"combobox"!==l&&x.has(e)},[l,it(x).toString(),x.size]),P=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=N.length,r=0;r<n;r+=1){var o=(e+r*t+n)%n,i=N[o]||{},a=i.group,l=i.data;if(!a&&(null==l||!l.disabled)&&(A(l.value)||!L))return o}return-1},B=pt(m.useState(function(){return P(0)}),2),D=B[0],z=B[1],H=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];z(e);var n={source:t?"keyboard":"mouse"},r=N[e];r?g(r.value,e,n):g(null,-1,n)};m.useEffect(function(){H(!1!==v?P(0):-1)},[N.length,s]);var F=m.useCallback(function(e){return"combobox"===l?String(e).toLowerCase()===s.toLowerCase():x.has(e)},[l,s,it(x).toString(),x.size]);m.useEffect(function(){var e,t=setTimeout(function(){if(!a&&i&&1===x.size){var e=Array.from(x)[0],t=N.findIndex(function(t){var n=t.data;return s?String(n.value).startsWith(s):n.value===e});-1!==t&&(H(t),_(t))}});i&&(null===(e=T.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}},[i,s]);var W=function(e){void 0!==e&&y(e,{selected:!x.has(e)}),a||c(!1)};if(m.useImperativeHandle(t,function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Tl.N:case Tl.P:case Tl.UP:case Tl.DOWN:var r=0;if(t===Tl.UP?r=-1:t===Tl.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Tl.N?r=1:t===Tl.P&&(r=-1)),0!==r){var o=P(D+r,r);_(o),H(o,!0)}break;case Tl.TAB:case Tl.ENTER:var a,l=N[D];!l||null!=l&&null!==(a=l.data)&&void 0!==a&&a.disabled||L?W(void 0):W(l.value),i&&e.preventDefault();break;case Tl.ESC:c(!1),i&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){_(e)}}}),0===N.length)return m.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(I,"-empty"),onMouseDown:R},u);var G=Object.keys(w).map(function(e){return w[e]}),V=function(e){return e.label};function q(e,t){return{role:e.group?"presentation":"option",id:"".concat(o,"_list_").concat(t)}}var X=function(e){var t=N[e];if(!t)return null;var n=t.data||{},r=n.value,o=t.group,i=ol(n,!0),a=V(t);return t?m.createElement("div",E({"aria-label":"string"!=typeof a||o?null:a},i,{key:e},q(t,e),{"aria-selected":F(r)}),r):null},U={role:"listbox",id:"".concat(o,"_list")};return m.createElement(m.Fragment,null,C&&m.createElement("div",E({},U,{style:{height:0,width:0,overflow:"hidden"}}),X(D-1),X(D),X(D+1)),m.createElement(em,{itemKey:"key",ref:T,data:N,height:k,itemHeight:M,fullHeight:!1,onMouseDown:R,onScroll:d,virtual:C,direction:O,innerProps:C?null:U},function(e,t){var n=e.group,r=e.groupOption,o=e.data,i=e.label,a=e.value,l=o.key;if(n){var s,c=null!==(s=o.title)&&void 0!==s?s:nm(i)?i.toString():void 0;return m.createElement("div",{className:S(I,"".concat(I,"-group"),o.className),title:c},void 0!==i?i:l)}var u=o.disabled,d=o.title;o.children;var f=o.style,h=o.className,p=js($t(o,tm),G),g=A(a),v=u||!g&&L,y="".concat(I,"-option"),x=S(I,y,h,j(j(j(j({},"".concat(y,"-grouped"),r),"".concat(y,"-active"),D===t&&!v),"".concat(y,"-disabled"),v),"".concat(y,"-selected"),g)),w=V(e),O=!b||"function"==typeof b||g,k="number"==typeof w?w:w||a,M=nm(k)?k.toString():void 0;return void 0!==d&&(M=d),m.createElement("div",E({},ol(p),C?{}:q(e,t),{"aria-selected":F(a),className:x,title:M,onMouseMove:function(){D===t||v||H(t)},onClick:function(){v||W(a)},style:f}),m.createElement("div",{className:"".concat(y,"-content")},"function"==typeof $?$(e,{index:t}):k),m.isValidElement(b)||g,O&&m.createElement(xp,{className:"".concat(I,"-option-state"),customizeIcon:b,customizeIconProps:{value:a,disabled:v,isSelected:g}},g?"":null))}))},om=m.forwardRef(rm);function im(e,t){return Vp(e).join("").toUpperCase().includes(t)}var am=0,lm=mt();function sm(e){var t=pt(m.useState(),2),n=t[0],r=t[1];return m.useEffect(function(){var e;r("rc_select_".concat((lm?(e=am,am+=1):e="TEST_OR_SSR",e)))},[]),e||n}var cm=["children","value"],um=["children"];function dm(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return N(e).map(function(e,n){if(!m.isValidElement(e)||!e.type)return null;var r=e,o=r.type.isSelectOptGroup,i=r.key,a=r.props,l=a.children,s=$t(a,um);return t||!o?function(e){var t=e,n=t.key,r=t.props,o=r.children,i=r.value;return D({key:n,value:void 0!==i?i:n,children:o},$t(r,cm))}(e):D(D({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},s),{},{options:dm(l)})}).filter(function(e){return e})}function fm(e){var t=m.useRef();t.current=e;var n=m.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}var hm=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],pm=["inputValue"];var gm=m.forwardRef(function(e,t){var n=e.id,r=e.mode,o=e.prefixCls,i=void 0===o?"rc-select":o,a=e.backfill,l=e.fieldNames,s=e.inputValue,c=e.searchValue,u=e.onSearch,d=e.autoClearSearchValue,f=void 0===d||d,h=e.onSelect,p=e.onDeselect,g=e.dropdownMatchSelectWidth,v=void 0===g||g,y=e.filterOption,b=e.filterSort,x=e.optionFilterProp,w=e.optionLabelProp,C=e.options,S=e.optionRender,k=e.children,M=e.defaultActiveFirstOption,$=e.menuItemSelectedIcon,I=e.virtual,N=e.direction,T=e.listHeight,L=void 0===T?200:T,R=e.listItemHeight,_=void 0===R?20:R,A=e.labelRender,P=e.value,B=e.defaultValue,z=e.labelInValue,H=e.onChange,F=e.maxCount,W=$t(e,hm),G=sm(n),V=Rg(r),q=!(C||!k),X=m.useMemo(function(){return(void 0!==y||"combobox"!==r)&&y},[y,r]),U=m.useMemo(function(){return Mg(l,q)},[JSON.stringify(l),q]),Y=pt(Wo("",{value:void 0!==c?c:s,postState:function(e){return e||""}}),2),K=Y[0],Z=Y[1],Q=function(e,t,n,r,o){return m.useMemo(function(){var i=e;!e&&(i=dm(t));var a=new Map,l=new Map,s=function(e,t,n){n&&"string"==typeof n&&e.set(t[n],t)};return function e(t){for(var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var u=t[c];!u[n.options]||i?(a.set(u[n.value],u),s(l,u,n.label),s(l,u,r),s(l,u,o)):e(u[n.options],!0)}}(i),{options:i,valueOptions:a,labelOptions:l}},[e,t,n,r,o])}(C,k,U,x,w),J=Q.valueOptions,ee=Q.labelOptions,te=Q.options,ne=m.useCallback(function(e){return Vp(e).map(function(e){var t,n,r,o,i,a;(function(e){return!e||"object"!==O(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:r);var l,s=J.get(t);s&&(void 0===n&&(n=null==s?void 0:s[w||U.label]),void 0===r&&(r=null!==(l=null==s?void 0:s.key)&&void 0!==l?l:t),o=null==s?void 0:s.disabled,i=null==s?void 0:s.title);return{label:n,value:t,key:r,disabled:o,title:i}})},[U,w,J]),re=pt(Wo(B,{value:P}),2),oe=re[0],ie=re[1],ae=m.useMemo(function(){var e,t=ne(V&&null===oe?[]:oe);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t},[oe,ne,r,V]),le=function(e,t){var n=m.useRef({values:new Map,options:new Map});return[m.useMemo(function(){var r=n.current,o=r.values,i=r.options,a=e.map(function(e){var t;return void 0===e.label?D(D({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e}),l=new Map,s=new Map;return a.forEach(function(e){l.set(e.value,e),s.set(e.value,t.get(e.value)||i.get(e.value))}),n.current.values=l,n.current.options=s,a},[e,t]),m.useCallback(function(e){return t.get(e)||n.current.options.get(e)},[t])]}(ae,J),se=pt(le,2),ce=se[0],ue=se[1],de=m.useMemo(function(){if(!r&&1===ce.length){var e=ce[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ce.map(function(e){var t;return D(D({},e),{},{label:null!==(t="function"==typeof A?A(e):e.label)&&void 0!==t?t:e.value})})},[r,ce,A]),fe=m.useMemo(function(){return new Set(ce.map(function(e){return e.value}))},[ce]);m.useEffect(function(){if("combobox"===r){var e,t=null===(e=ce[0])||void 0===e?void 0:e.value;Z(function(e){return null!=e}(t)?String(t):"")}},[ce]);var he=fm(function(e,t){var n=null!=t?t:e;return j(j({},U.value,e),U.label,n)}),pe=function(e,t,n,r,o){return m.useMemo(function(){if(!n||!1===r)return e;var i=t.options,a=t.label,l=t.value,s=[],c="function"==typeof r,u=n.toUpperCase(),d=c?r:function(e,t){return o?im(t[o],u):t[i]?im(t["children"!==a?a:"label"],u):im(t[l],u)},f=c?function(e){return $g(e)}:function(e){return e};return e.forEach(function(e){if(e[i])if(d(n,f(e)))s.push(e);else{var t=e[i].filter(function(e){return d(n,f(e))});t.length&&s.push(D(D({},e),{},j({},i,t)))}else d(n,f(e))&&s.push(e)}),s},[e,r,o,n,t])}(m.useMemo(function(){if("tags"!==r)return te;var e=it(te);return it(ce).sort(function(e,t){return e.value<t.value?-1:1}).forEach(function(t){var n=t.value;(function(e){return J.has(e)})(n)||e.push(he(n,t.label))}),e},[he,te,J,ce,r]),U,K,X,x),ge=m.useMemo(function(){return"tags"!==r||!K||pe.some(function(e){return e[x||"value"]===K})||pe.some(function(e){return e[U.value]===K})?pe:[he(K)].concat(it(pe))},[he,x,r,pe,K,U]),me=function e(t){return it(t).sort(function(e,t){return b(e,t,{searchValue:K})}).map(function(t){return Array.isArray(t.options)?D(D({},t),{},{options:t.options.length>0?e(t.options):t.options}):t})},ve=m.useMemo(function(){return b?me(ge):ge},[ge,b,K]),ye=m.useMemo(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,o=[],i=Mg(n,!1),a=i.label,l=i.value,s=i.options,c=i.groupLabel;return function e(t,n){Array.isArray(t)&&t.forEach(function(t){if(n||!(s in t)){var i=t[l];o.push({key:Og(t,o.length),groupOption:n,data:t,label:t[a],value:i})}else{var u=t[c];void 0===u&&r&&(u=t.label),o.push({key:Og(t,o.length),group:!0,data:t,label:u}),e(t[s],!0)}})}(e,!1),o}(ve,{fieldNames:U,childrenAsData:q})},[ve,U,q]),be=function(e){var t=ne(e);if(ie(t),H&&(t.length!==ce.length||t.some(function(e,t){var n;return(null===(n=ce[t])||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)}))){var n=z?t:t.map(function(e){return e.value}),r=t.map(function(e){return $g(ue(e.value))});H(V?n:n[0],V?r:r[0])}},xe=pt(m.useState(null),2),we=xe[0],Ce=xe[1],Se=pt(m.useState(0),2),Ee=Se[0],Oe=Se[1],ke=void 0!==M?M:"combobox"!==r,Me=m.useCallback(function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,o=void 0===n?"keyboard":n;Oe(t),a&&"combobox"===r&&null!==e&&"keyboard"===o&&Ce(String(e))},[a,r]),$e=function(e,t,n){var r=function(){var t,n=ue(e);return[z?{label:null==n?void 0:n[U.label],value:e,key:null!==(t=null==n?void 0:n.key)&&void 0!==t?t:e}:e,$g(n)]};if(t&&h){var o=pt(r(),2),i=o[0],a=o[1];h(i,a)}else if(!t&&p&&"clear"!==n){var l=pt(r(),2),s=l[0],c=l[1];p(s,c)}},Ie=fm(function(e,t){var n,o=!V||t.selected;n=o?V?[].concat(it(ce),[e]):[e]:ce.filter(function(t){return t.value!==e}),be(n),$e(e,o),"combobox"===r?Ce(""):Rg&&!f||(Z(""),Ce(""))}),Ne=m.useMemo(function(){var e=!1!==I&&!1!==v;return D(D({},Q),{},{flattenOptions:ye,onActiveValue:Me,defaultActiveFirstOption:ke,onSelect:Ie,menuItemSelectedIcon:$,rawValues:fe,fieldNames:U,virtual:e,direction:N,listHeight:L,listItemHeight:_,childrenAsData:q,maxCount:F,optionRender:S})},[F,Q,ye,Me,ke,Ie,$,fe,U,I,v,N,L,_,q,S]);return m.createElement(Ig.Provider,{value:Ne},m.createElement(_g,E({},W,{id:G,prefixCls:i,ref:t,omitDomProps:pm,mode:r,displayValues:de,onDisplayValuesChange:function(e,t){be(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach(function(e){$e(e.value,!1,n)})},direction:N,searchValue:K,onSearch:function(e,t){if(Z(e),Ce(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&be(e),null==u||u(e));else{var n=(e||"").trim();if(n){var o=Array.from(new Set([].concat(it(fe),[n])));be(o),$e(n,!0),Z("")}}},autoClearSearchValue:f,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map(function(e){var t=ee.get(e);return null==t?void 0:t.value}).filter(function(e){return void 0!==e}));var n=Array.from(new Set([].concat(it(fe),it(t))));be(n),n.forEach(function(e){$e(e,!0)})},dropdownMatchSelectWidth:v,OptionList:om,emptyOptions:!ye.length,activeValue:we,activeDescendantId:"".concat(G,"_list_").concat(Ee)})))}),mm=gm;function vm(e,t,n){return S({[`${e}-status-success`]:"success"===t,[`${e}-status-warning`]:"warning"===t,[`${e}-status-error`]:"error"===t,[`${e}-status-validating`]:"validating"===t,[`${e}-has-feedback`]:n})}mm.Option=Pg,mm.OptGroup=Ag;const ym=(e,t)=>t||e,bm=()=>{const[,e]=si(),[t]=Ar("Empty"),n=new Wr(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return m.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},m.createElement("title",null,(null==t?void 0:t.description)||"Empty"),m.createElement("g",{fill:"none",fillRule:"evenodd"},m.createElement("g",{transform:"translate(24 31.67)"},m.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),m.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),m.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),m.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),m.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),m.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),m.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},m.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),m.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},xm=()=>{const[,e]=si(),[t]=Ar("Empty"),{colorFill:n,colorFillTertiary:r,colorFillQuaternary:o,colorBgContainer:i}=e,{borderColor:a,shadowColor:l,contentColor:s}=m.useMemo(()=>({borderColor:new Wr(n).onBackground(i).toHexString(),shadowColor:new Wr(r).onBackground(i).toHexString(),contentColor:new Wr(o).onBackground(i).toHexString()}),[n,r,o,i]);return m.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},m.createElement("title",null,(null==t?void 0:t.description)||"Empty"),m.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},m.createElement("ellipse",{fill:l,cx:"32",cy:"33",rx:"32",ry:"7"}),m.createElement("g",{fillRule:"nonzero",stroke:a},m.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),m.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:s}))))},wm=gi("Empty",e=>{const{componentCls:t,controlHeightLG:n,calc:r}=e;return(e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:o,fontSize:i,lineHeight:a}=e;return{[t]:{marginInline:r,fontSize:i,lineHeight:a,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorTextDescription},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:o,color:e.colorTextDescription,[`${t}-description`]:{color:e.colorTextDescription},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDescription,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}})(Xo(e,{emptyImgCls:`${t}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()}))});const Cm=m.createElement(bm,null),Sm=m.createElement(xm,null),Em=e=>{var t;const{className:n,rootClassName:r,prefixCls:o,image:i,description:a,children:l,imageStyle:s,style:c,classNames:u,styles:d}=e,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:h,direction:p,className:g,style:v,classNames:y,styles:b,image:x}=ko("empty"),w=h("empty",o),[C,E,O]=wm(w),[k]=Ar("Empty"),M=void 0!==a?a:null==k?void 0:k.description,$="string"==typeof M?M:"empty",I=null!==(t=null!=i?i:x)&&void 0!==t?t:Cm;let N=null;return N="string"==typeof I?m.createElement("img",{draggable:!1,alt:$,src:I}):I,C(m.createElement("div",Object.assign({className:S(E,O,w,g,{[`${w}-normal`]:I===Sm,[`${w}-rtl`]:"rtl"===p},n,r,y.root,null==u?void 0:u.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},b.root),v),null==d?void 0:d.root),c)},f),m.createElement("div",{className:S(`${w}-image`,y.image,null==u?void 0:u.image),style:Object.assign(Object.assign(Object.assign({},s),b.image),null==d?void 0:d.image)},N),M&&m.createElement("div",{className:S(`${w}-description`,y.description,null==u?void 0:u.description),style:Object.assign(Object.assign({},b.description),null==d?void 0:d.description)},M),l&&m.createElement("div",{className:S(`${w}-footer`,y.footer,null==u?void 0:u.footer),style:Object.assign(Object.assign({},b.footer),null==d?void 0:d.footer)},l)))};Em.PRESENTED_IMAGE_DEFAULT=Cm,Em.PRESENTED_IMAGE_SIMPLE=Sm;const Om=e=>{const{componentName:t}=e,{getPrefixCls:n}=m.useContext(So),r=n("empty");switch(t){case"Table":case"List":return p.createElement(Em,{image:Em.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return p.createElement(Em,{image:Em.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});case"Table.filter":return null;default:return p.createElement(Em,null)}},km=(e,t,n=void 0)=>{var r,o;const{variant:i,[e]:a}=m.useContext(So),l=m.useContext(nh),s=null==a?void 0:a.variant;let c;c=void 0!==t?t:!1===n?"borderless":null!==(o=null!==(r=null!=l?l:s)&&void 0!==r?r:i)&&void 0!==o?o:"outlined";return[c,Co.includes(c)]};function Mm(e,t){return e||(e=>{const t={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:"scroll"===e?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},t),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},t),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},t),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},t),{points:["br","tr"],offset:[0,-4]})}})(t)}const $m=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:r,optionPadding:o}=e;return{position:"relative",display:"block",minHeight:t,padding:o,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},Im=e=>{const{antCls:t,componentCls:n}=e,r=`${n}-item`,o=`&${t}-slide-up-enter${t}-slide-up-enter-active`,i=`&${t}-slide-up-appear${t}-slide-up-appear-active`,a=`&${t}-slide-up-leave${t}-slide-up-leave-active`,l=`${n}-dropdown-placement-`,s=`${r}-option-selected`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},ui(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`\n          ${o}${l}bottomLeft,\n          ${i}${l}bottomLeft\n        `]:{animationName:Kc},[`\n          ${o}${l}topLeft,\n          ${i}${l}topLeft,\n          ${o}${l}topRight,\n          ${i}${l}topRight\n        `]:{animationName:Qc},[`${a}${l}bottomLeft`]:{animationName:Zc},[`\n          ${a}${l}topLeft,\n          ${a}${l}topRight\n        `]:{animationName:Jc},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},$m(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},ci),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:e.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,[`${r}-option-state`]:{color:e.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},$m(e)),{color:e.colorTextDisabled})}),[`${s}:has(+ ${s})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${s}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},iu(e,"slide-up"),iu(e,"slide-down"),Yc(e,"move-up"),Yc(e,"move-down")]},Nm=e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:o}=e,i=e.max(e.calc(n).sub(r).equal(),0);return{basePadding:i,containerPadding:e.max(e.calc(i).sub(o).equal(),0),itemHeight:Xt(t),itemLineHeight:Xt(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}},Tm=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:r,motionDurationSlow:o,paddingXS:i,multipleItemColorDisabled:a,multipleItemBorderColorDisabled:l,colorIcon:s,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:u}=e,d=`${t}-selection-overflow`;return{[d]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"calc(100% - 4px)",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:u,borderRadius:r,cursor:"default",transition:`font-size ${o}, line-height ${o}, height ${o}`,marginInlineEnd:e.calc(u).mul(2).equal(),paddingInlineStart:i,paddingInlineEnd:e.calc(i).div(2).equal(),[`${t}-disabled&`]:{color:a,borderColor:l,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(i).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{display:"inline-flex",alignItems:"center",color:s,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},Lm=(e,t)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=e,o=`${n}-selection-overflow`,i=e.multipleSelectItemHeight,a=(e=>{const{multipleSelectItemHeight:t,selectHeight:n,lineWidth:r}=e;return e.calc(n).sub(t).div(2).sub(r).equal()})(e),l=t?`${n}-${t}`:"",s=Nm(e);return{[`${n}-multiple${l}`]:Object.assign(Object.assign({},Tm(e)),{[`${n}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:s.basePadding,paddingBlock:s.containerPadding,borderRadius:e.borderRadius,[`${n}-disabled&`]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Xt(r)} 0`,lineHeight:Xt(i),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:s.itemHeight,lineHeight:Xt(s.itemLineHeight)},[`${n}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:Xt(i),marginBlock:r}},[`${n}-prefix`]:{marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(s.basePadding).equal()},[`${o}-item + ${o}-item,\n        ${n}-prefix + ${n}-selection-wrap\n      `]:{[`${n}-selection-search`]:{marginInlineStart:0},[`${n}-selection-placeholder`]:{insetInlineStart:0}},[`${o}-item-suffix`]:{minHeight:s.itemHeight,marginBlock:r},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(a).equal(),"\n          &-input,\n          &-mirror\n        ":{height:i,fontFamily:e.fontFamily,lineHeight:Xt(i),transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(s.basePadding).equal(),insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}})}};function Rm(e,t){const{componentCls:n}=e,r=t?`${n}-${t}`:"",o={[`${n}-multiple${r}`]:{fontSize:e.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`\n        &${n}-show-arrow ${n}-selector,\n        &${n}-allow-clear ${n}-selector\n      `]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[Lm(e,t),o]}const _m=e=>{const{componentCls:t}=e,n=Xo(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),r=Xo(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[Rm(e),Rm(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},[`${t}-selection-search`]:{marginInlineStart:2}}},Rm(r,"lg")]};function Am(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:o}=e,i=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),a=t?`${n}-${t}`:"";return{[`${n}-single${a}`]:{fontSize:e.fontSize,height:e.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},ui(e,!0)),{display:"flex",borderRadius:o,flex:"1 1 auto",[`${n}-selection-wrap:after`]:{lineHeight:Xt(i)},[`${n}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`\n          ${n}-selection-item,\n          ${n}-selection-placeholder\n        `]:{display:"block",padding:0,lineHeight:Xt(i),transition:`all ${e.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`\n        &${n}-show-arrow ${n}-selection-item,\n        &${n}-show-arrow ${n}-selection-search,\n        &${n}-show-arrow ${n}-selection-placeholder\n      `]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${Xt(r)}`,[`${n}-selection-search-input`]:{height:i,fontSize:e.fontSize},"&:after":{lineHeight:Xt(i)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${Xt(r)}`,"&:after":{display:"none"}}}}}}}function Pm(e){const{componentCls:t}=e,n=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[Am(e),Am(Xo(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{padding:`0 ${Xt(n)}`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:e.calc(n).add(e.calc(e.fontSize).mul(1.5)).equal()},[`\n            &${t}-show-arrow ${t}-selection-item,\n            &${t}-show-arrow ${t}-selection-placeholder\n          `]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},Am(Xo(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const jm=(e,t)=>{const{componentCls:n,antCls:r,controlOutlineWidth:o}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${Xt(e.lineWidth)} ${e.lineType} ${t.borderColor}`,background:e.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,boxShadow:`0 0 0 ${Xt(o)} ${t.activeOutlineColor}`,outline:0},[`${n}-prefix`]:{color:t.color}}}},Bm=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},jm(e,t))}),Dm=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},jm(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),Bm(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),Bm(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),zm=(e,t)=>{const{componentCls:n,antCls:r}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:t.bg,border:`${Xt(e.lineWidth)} ${e.lineType} transparent`,color:t.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:t.hoverBg},[`${n}-focused& ${n}-selector`]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},Hm=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},zm(e,t))}),Fm=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},zm(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor,color:e.colorText})),Hm(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),Hm(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.colorBgContainer,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}})}),Wm=e=>({"&-borderless":{[`${e.componentCls}-selector`]:{background:"transparent",border:`${Xt(e.lineWidth)} ${e.lineType} transparent`},[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`},[`&${e.componentCls}-status-error`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorError}},[`&${e.componentCls}-status-warning`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorWarning}}}}),Gm=(e,t)=>{const{componentCls:n,antCls:r}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{borderWidth:`0 0 ${Xt(e.lineWidth)} 0`,borderStyle:`none none ${e.lineType} none`,borderColor:t.borderColor,background:e.selectorBg,borderRadius:0},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,outline:0},[`${n}-prefix`]:{color:t.color}}}},Vm=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},Gm(e,t))}),qm=e=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},Gm(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),Vm(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),Vm(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),Xm=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},Dm(e)),Fm(e)),Wm(e)),qm(e))}),Um=e=>{const{componentCls:t}=e;return{position:"relative",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${t}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},Ym=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none",appearance:"none"}}}},Km=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:r,iconCls:o}=e,i={[`${n}-clear`]:{opacity:1,background:e.colorBgBase,borderRadius:"50%"}};return{[n]:Object.assign(Object.assign({},ui(e)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},Um(e)),Ym(e)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},ci),{[`> ${t}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},ci),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${e.motionDurationSlow} ease`,[o]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${n}-prefix`]:{flex:"none",marginInlineEnd:e.selectAffixPadding},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto",transform:"translateZ(0)","&:before":{display:"block"},"&:hover":{color:e.colorIcon}},"@media(hover:none)":i,"&:hover":i}),[`${n}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:e.calc(r).add(e.fontSize).add(e.paddingXS).equal()}}}}}},Zm=e=>{const{componentCls:t}=e;return[{[t]:{[`&${t}-in-form-item`]:{width:"100%"}}},Km(e),Pm(e),_m(e),Im(e),{[`${t}-rtl`]:{direction:"rtl"}},nd(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},Qm=gi("Select",(e,{rootPrefixCls:t})=>{const n=Xo(e,{rootPrefixCls:t,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[Zm(n),Xm(n)]},e=>{const{fontSize:t,lineHeight:n,lineWidth:r,controlHeight:o,controlHeightSM:i,controlHeightLG:a,paddingXXS:l,controlPaddingHorizontal:s,zIndexPopupBase:c,colorText:u,fontWeightStrong:d,controlItemBgActive:f,controlItemBgHover:h,colorBgContainer:p,colorFillSecondary:g,colorBgContainerDisabled:m,colorTextDisabled:v,colorPrimaryHover:y,colorPrimary:b,controlOutline:x}=e,w=2*l,C=2*r,S=Math.min(o-w,o-C),E=Math.min(i-w,i-C),O=Math.min(a-w,a-C);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(l/2),zIndexPopup:c+50,optionSelectedColor:u,optionSelectedFontWeight:d,optionSelectedBg:f,optionActiveBg:h,optionPadding:`${(o-t*n)/2}px ${s}px`,optionFontSize:t,optionLineHeight:n,optionHeight:o,selectorBg:p,clearBg:p,singleItemHeightLG:a,multipleItemBg:g,multipleItemBorderColor:"transparent",multipleItemHeight:S,multipleItemHeightSM:E,multipleItemHeightLG:O,multipleSelectorBgDisabled:m,multipleItemColorDisabled:v,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(1.25*e.fontSize),hoverBorderColor:y,activeBorderColor:b,activeOutlineColor:x,selectAffixPadding:l}},{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var Jm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},ev=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:Jm}))},tv=m.forwardRef(ev),nv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},rv=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:nv}))},ov=m.forwardRef(rv),iv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},av=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:iv}))},lv=m.forwardRef(av);function sv({suffixIcon:e,clearIcon:t,menuItemSelectedIcon:n,removeIcon:r,loading:o,multiple:i,hasFeedback:a,prefixCls:l,showSuffixIcon:s,feedbackIcon:c,showArrow:u,componentName:d}){const f=null!=t?t:m.createElement(qa,null),h=t=>null!==e||a||u?m.createElement(m.Fragment,null,!1!==s&&t,a&&c):null;let p=null;if(void 0!==e)p=h(e);else if(o)p=h(m.createElement(Gl,{spin:!0}));else{const e=`${l}-suffix`;p=({open:t,showSearch:n})=>h(t&&n?m.createElement(lv,{className:e}):m.createElement(ov,{className:e}))}let g=null;g=void 0!==n?n:i?m.createElement(tv,null):null;let v=null;return v=void 0!==r?r:m.createElement(Ya,null),{clearIcon:f,suffixIcon:p,itemIcon:g,removeIcon:v}}function cv(e){return p.useMemo(()=>{if(e)return(...t)=>p.createElement(rh,{space:!0},e.apply(void 0,t))},[e])}function uv(e,t){return void 0!==t?t:null!==e}const dv="SECRET_COMBOBOX_MODE_DO_NOT_USE",fv=(e,t)=>{var n,r,o,i,a;const{prefixCls:l,bordered:s,className:c,rootClassName:u,getPopupContainer:d,popupClassName:f,dropdownClassName:h,listHeight:p=256,placement:g,listItemHeight:v,size:y,disabled:b,notFoundContent:x,status:w,builtinPlacements:C,dropdownMatchSelectWidth:E,popupMatchSelectWidth:O,direction:k,style:M,allowClear:$,variant:I,dropdownStyle:N,transitionName:T,tagRender:L,maxCount:R,prefix:_,dropdownRender:A,popupRender:P,onDropdownVisibleChange:j,onOpenChange:B,styles:D,classNames:z}=e,H=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix","dropdownRender","popupRender","onDropdownVisibleChange","onOpenChange","styles","classNames"]),{getPopupContainer:F,getPrefixCls:W,renderEmpty:G,direction:V,virtual:q,popupMatchSelectWidth:X,popupOverflow:U}=m.useContext(So),{showSearch:Y,style:K,styles:Z,className:Q,classNames:J}=ko("select"),[,ee]=si(),te=null!=v?v:null==ee?void 0:ee.controlHeight,ne=W("select",l),re=W(),oe=null!=k?k:V,{compactSize:ie,compactItemClassnames:ae}=ec(ne,oe),[le,se]=km("select",I,s),ce=Nl(ne),[ue,de,fe]=Qm(ne,ce),he=m.useMemo(()=>{const{mode:t}=e;if("combobox"!==t)return t===dv?"combobox":t},[e.mode]),pe="multiple"===he||"tags"===he,ge=uv(e.suffixIcon,e.showArrow),me=null!==(n=null!=O?O:E)&&void 0!==n?n:X,ve=(null===(r=null==D?void 0:D.popup)||void 0===r?void 0:r.root)||(null===(o=Z.popup)||void 0===o?void 0:o.root)||N,ye=cv(P||A),be=B||j,{status:xe,hasFeedback:we,isFormItemInput:Ce,feedbackIcon:Se}=m.useContext(eh),Ee=ym(xe,w);let Oe;Oe=void 0!==x?x:"combobox"===he?null:(null==G?void 0:G("Select"))||m.createElement(Om,{componentName:"Select"});const{suffixIcon:ke,itemIcon:Me,removeIcon:$e,clearIcon:Ie}=sv(Object.assign(Object.assign({},H),{multiple:pe,hasFeedback:we,feedbackIcon:Se,showSuffixIcon:ge,prefixCls:ne,componentName:"Select"})),Ne=!0===$?{clearIcon:Ie}:$,Te=js(H,["suffixIcon","itemIcon"]),Le=S((null===(i=null==z?void 0:z.popup)||void 0===i?void 0:i.root)||(null===(a=null==J?void 0:J.popup)||void 0===a?void 0:a.root)||f||h,{[`${ne}-dropdown-${oe}`]:"rtl"===oe},u,J.root,null==z?void 0:z.root,fe,ce,de),Re=Xs(e=>{var t;return null!==(t=null!=y?y:ie)&&void 0!==t?t:e}),_e=m.useContext(Io),Ae=null!=b?b:_e,Pe=S({[`${ne}-lg`]:"large"===Re,[`${ne}-sm`]:"small"===Re,[`${ne}-rtl`]:"rtl"===oe,[`${ne}-${le}`]:se,[`${ne}-in-form-item`]:Ce},vm(ne,Ee,we),ae,Q,c,J.root,null==z?void 0:z.root,u,fe,ce,de),je=m.useMemo(()=>void 0!==g?g:"rtl"===oe?"bottomRight":"bottomLeft",[g,oe]),[Be]=Yl("SelectLike",null==ve?void 0:ve.zIndex);return ue(m.createElement(mm,Object.assign({ref:t,virtual:q,showSearch:Y},Te,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Z.root),null==D?void 0:D.root),K),M),dropdownMatchSelectWidth:me,transitionName:Ps(re,"slide-up",T),builtinPlacements:Mm(C,U),listHeight:p,listItemHeight:te,mode:he,prefixCls:ne,placement:je,direction:oe,prefix:_,suffixIcon:ke,menuItemSelectedIcon:Me,removeIcon:$e,allowClear:Ne,notFoundContent:Oe,className:Pe,getPopupContainer:d||F,dropdownClassName:Le,disabled:Ae,dropdownStyle:Object.assign(Object.assign({},ve),{zIndex:Be}),maxCount:pe?R:void 0,tagRender:pe?L:void 0,dropdownRender:ye,onDropdownVisibleChange:be})))},hv=m.forwardRef(fv),pv=yp(hv,"dropdownAlign");hv.SECRET_COMBOBOX_MODE_DO_NOT_USE=dv,hv.Option=Pg,hv.OptGroup=Ag,hv._InternalPanelDoNotUseOrYouWillBeFired=pv;const gv=(e,t)=>{void 0!==(null==e?void 0:e.addEventListener)?e.addEventListener("change",t):void 0!==(null==e?void 0:e.addListener)&&e.addListener(t)},mv=(e,t)=>{void 0!==(null==e?void 0:e.removeEventListener)?e.removeEventListener("change",t):void 0!==(null==e?void 0:e.removeListener)&&e.removeListener(t)},vv=["xxl","xl","lg","md","sm","xs"],yv=()=>{const[,e]=si(),t=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const t=e,n=[].concat(vv).reverse();return n.forEach((e,r)=>{const o=e.toUpperCase(),i=`screen${o}Min`,a=`screen${o}`;if(!(t[i]<=t[a]))throw new Error(`${i}<=${a} fails : !(${t[i]}<=${t[a]})`);if(r<n.length-1){const e=`screen${o}Max`;if(!(t[a]<=t[e]))throw new Error(`${a}<=${e} fails : !(${t[a]}<=${t[e]})`);const i=`screen${n[r+1].toUpperCase()}Min`;if(!(t[e]<=t[i]))throw new Error(`${e}<=${i} fails : !(${t[e]}<=${t[i]})`)}}),e})(e));return p.useMemo(()=>{const e=new Map;let n=-1,r={};return{responsiveMap:t,matchHandlers:{},dispatch:t=>(r=t,e.forEach(e=>e(r)),e.size>=1),subscribe(t){return e.size||this.register(),n+=1,e.set(n,t),t(r),n},unsubscribe(t){e.delete(t),e.size||this.unregister()},register(){Object.entries(t).forEach(([e,t])=>{const n=({matches:t})=>{this.dispatch(Object.assign(Object.assign({},r),{[e]:t}))},o=window.matchMedia(t);gv(o,n),this.matchHandlers[t]={mql:o,listener:n},n(o)})},unregister(){Object.values(t).forEach(e=>{const t=this.matchHandlers[e];mv(null==t?void 0:t.mql,null==t?void 0:t.listener)}),e.clear()}}},[e])};function bv(){const[,e]=m.useReducer(e=>e+1,0);return e}function xv(e=!0,t={}){const n=m.useRef(t),r=bv(),o=yv();return Jt(()=>{const t=o.subscribe(t=>{n.current=t,e&&r()});return()=>o.unsubscribe(t)},[]),n.current}const wv=m.createContext({}),Cv=e=>{const{antCls:t,componentCls:n,iconCls:r,avatarBg:o,avatarColor:i,containerSize:a,containerSizeLG:l,containerSizeSM:s,textFontSize:c,textFontSizeLG:u,textFontSizeSM:d,iconFontSize:f,iconFontSizeLG:h,iconFontSizeSM:p,borderRadius:g,borderRadiusLG:m,borderRadiusSM:v,lineWidth:y,lineType:b}=e,x=(e,t,o,i)=>({width:e,height:e,borderRadius:"50%",fontSize:t,[`&${n}-square`]:{borderRadius:i},[`&${n}-icon`]:{fontSize:o,[`> ${r}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},ui(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:o,border:`${Xt(y)} ${b} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),x(a,c,f,g)),{"&-lg":Object.assign({},x(l,u,h,m)),"&-sm":Object.assign({},x(s,d,p,v)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Sv=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:r,groupSpace:o}=e;return{[`${t}-group`]:{display:"inline-flex",[t]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:r}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:o}}}},Ev=gi("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,r=Xo(e,{avatarBg:n,avatarColor:t});return[Cv(r),Sv(r)]},e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:r,fontSize:o,fontSizeLG:i,fontSizeXL:a,fontSizeHeading3:l,marginXS:s,marginXXS:c,colorBorderBg:u}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:r,textFontSize:o,textFontSizeLG:o,textFontSizeSM:o,iconFontSize:Math.round((i+a)/2),iconFontSizeLG:l,iconFontSizeSM:o,groupSpace:c,groupOverlapping:-s,groupBorderColor:u}});const Ov=m.forwardRef((e,t)=>{const{prefixCls:n,shape:r,size:o,src:i,srcSet:a,icon:l,className:s,rootClassName:c,style:u,alt:d,draggable:f,children:h,crossOrigin:p,gap:g=4,onError:v}=e,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","style","alt","draggable","children","crossOrigin","gap","onError"]),[b,x]=m.useState(1),[w,C]=m.useState(!1),[E,O]=m.useState(!0),k=m.useRef(null),M=m.useRef(null),$=de(t,k),{getPrefixCls:I,avatar:N}=m.useContext(So),T=m.useContext(wv),L=()=>{if(!M.current||!k.current)return;const e=M.current.offsetWidth,t=k.current.offsetWidth;0!==e&&0!==t&&2*g<t&&x(t-2*g<e?(t-2*g)/e:1)};m.useEffect(()=>{C(!0)},[]),m.useEffect(()=>{O(!0),x(1)},[i]),m.useEffect(L,[g]);const R=()=>{!1!==(null==v?void 0:v())&&O(!1)},_=Xs(e=>{var t,n;return null!==(n=null!==(t=null!=o?o:null==T?void 0:T.size)&&void 0!==t?t:e)&&void 0!==n?n:"default"}),A=xv(Object.keys("object"==typeof _&&_||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e))),P=m.useMemo(()=>{if("object"!=typeof _)return{};const e=vv.find(e=>A[e]),t=_[e];return t?{width:t,height:t,fontSize:t&&(l||h)?t/2:18}:{}},[A,_]),j=I("avatar",n),B=Nl(j),[D,z,H]=Ev(j,B),F=S({[`${j}-lg`]:"large"===_,[`${j}-sm`]:"small"===_}),W=m.isValidElement(i),G=r||(null==T?void 0:T.shape)||"circle",V=S(j,F,null==N?void 0:N.className,`${j}-${G}`,{[`${j}-image`]:W||i&&E,[`${j}-icon`]:!!l},H,B,s,c,z),q="number"==typeof _?{width:_,height:_,fontSize:l?_/2:18}:{};let X;if("string"==typeof i&&E)X=m.createElement("img",{src:i,draggable:f,srcSet:a,onError:R,alt:d,crossOrigin:p});else if(W)X=i;else if(l)X=l;else if(w||1!==b){const e=`scale(${b})`,t={msTransform:e,WebkitTransform:e,transform:e};X=m.createElement(tt,{onResize:L},m.createElement("span",{className:`${j}-string`,ref:M,style:Object.assign({},t)},h))}else X=m.createElement("span",{className:`${j}-string`,style:{opacity:0},ref:M},h);return D(m.createElement("span",Object.assign({},y,{style:Object.assign(Object.assign(Object.assign(Object.assign({},q),P),null==N?void 0:N.style),u),className:V,ref:$}),X))}),kv=e=>e?"function"==typeof e?e():e:null;function Mv(e){var t=e.children,n=e.prefixCls,r=e.id,o=e.overlayInnerStyle,i=e.bodyClassName,a=e.className,l=e.style;return m.createElement("div",{className:S("".concat(n,"-content"),a),style:l},m.createElement("div",{className:S("".concat(n,"-inner"),i),id:r,role:"tooltip",style:o},"function"==typeof t?t():t))}var $v={shiftX:64,adjustY:1},Iv={adjustX:1,shiftY:!0},Nv=[0,0],Tv={left:{points:["cr","cl"],overflow:Iv,offset:[-4,0],targetOffset:Nv},right:{points:["cl","cr"],overflow:Iv,offset:[4,0],targetOffset:Nv},top:{points:["bc","tc"],overflow:$v,offset:[0,-4],targetOffset:Nv},bottom:{points:["tc","bc"],overflow:$v,offset:[0,4],targetOffset:Nv},topLeft:{points:["bl","tl"],overflow:$v,offset:[0,-4],targetOffset:Nv},leftTop:{points:["tr","tl"],overflow:Iv,offset:[-4,0],targetOffset:Nv},topRight:{points:["br","tr"],overflow:$v,offset:[0,-4],targetOffset:Nv},rightTop:{points:["tl","tr"],overflow:Iv,offset:[4,0],targetOffset:Nv},bottomRight:{points:["tr","br"],overflow:$v,offset:[0,4],targetOffset:Nv},rightBottom:{points:["bl","br"],overflow:Iv,offset:[4,0],targetOffset:Nv},bottomLeft:{points:["tl","bl"],overflow:$v,offset:[0,4],targetOffset:Nv},leftBottom:{points:["br","bl"],overflow:Iv,offset:[-4,0],targetOffset:Nv}},Lv=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],Rv=function(e,t){var n=e.overlayClassName,r=e.trigger,o=void 0===r?["hover"]:r,i=e.mouseEnterDelay,a=void 0===i?0:i,l=e.mouseLeaveDelay,s=void 0===l?.1:l,c=e.overlayStyle,u=e.prefixCls,d=void 0===u?"rc-tooltip":u,f=e.children,h=e.onVisibleChange,p=e.afterVisibleChange,g=e.transitionName,v=e.animation,y=e.motion,b=e.placement,x=void 0===b?"right":b,w=e.align,C=void 0===w?{}:w,O=e.destroyTooltipOnHide,k=void 0!==O&&O,M=e.defaultVisible,$=e.getTooltipContainer,I=e.overlayInnerStyle;e.arrowContent;var N=e.overlay,T=e.id,L=e.showArrow,R=void 0===L||L,_=e.classNames,A=e.styles,P=$t(e,Lv),j=Nd(T),B=m.useRef(null);m.useImperativeHandle(t,function(){return B.current});var z=D({},P);"visible"in e&&(z.popupVisible=e.visible);var H,F;return m.createElement(wg,E({popupClassName:S(n,null==_?void 0:_.root),prefixCls:d,popup:function(){return m.createElement(Mv,{key:"content",prefixCls:d,id:j,bodyClassName:null==_?void 0:_.body,overlayInnerStyle:D(D({},I),null==A?void 0:A.body)},N)},action:o,builtinPlacements:Tv,popupPlacement:x,ref:B,popupAlign:C,getPopupContainer:$,onPopupVisibleChange:h,afterPopupVisibleChange:p,popupTransitionName:g,popupAnimation:v,popupMotion:y,defaultPopupVisible:M,autoDestroy:k,mouseLeaveDelay:s,popupStyle:D(D({},c),null==A?void 0:A.root),mouseEnterDelay:a,arrow:R},z),(H=m.Children.only(f),F=D(D({},(null==H?void 0:H.props)||{}),{},{"aria-describedby":N?j:null}),m.cloneElement(f,F)))};const _v=m.forwardRef(Rv);function Av(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,o=t/2,i=o,a=1*r/Math.sqrt(2),l=o-r*(1-1/Math.sqrt(2)),s=o-n*(1/Math.sqrt(2)),c=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),u=2*o-s,d=c,f=2*o-a,h=l,p=2*o-0,g=i,m=o*Math.sqrt(2)+r*(Math.sqrt(2)-2),v=r*(Math.sqrt(2)-1);return{arrowShadowWidth:m,arrowPath:`path('M 0 ${i} A ${r} ${r} 0 0 0 ${a} ${l} L ${s} ${c} A ${n} ${n} 0 0 1 ${u} ${d} L ${f} ${h} A ${r} ${r} 0 0 0 ${p} ${g} Z')`,arrowPolygon:`polygon(${v}px 100%, 50% ${v}px, ${2*o-v}px 100%, ${v}px 100%)`}}const Pv=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:o,arrowPath:i,arrowShadowWidth:a,borderRadiusXS:l,calc:s}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:s(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[o,i]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Xt(l)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}};function jv(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?8:r}}function Bv(e,t){return e?t:{}}function Dv(e,t,n){const{componentCls:r,boxShadowPopoverArrow:o,arrowOffsetVertical:i,arrowOffsetHorizontal:a}=e,{arrowDistance:l=0,arrowPlacement:s={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Pv(e,t,o)),{"&:before":{background:t}})]},Bv(!!s.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:l,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":a,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Xt(a)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),Bv(!!s.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:l,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":a,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Xt(a)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),Bv(!!s.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:l},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:i},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:i}})),Bv(!!s.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:l},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:i},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:i}}))}}const zv={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Hv={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Fv=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function Wv(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:o,borderRadius:i,visibleFirst:a}=e,l=t/2,s={},c=jv({contentRadius:i,limitVerticalRadius:!0});return Object.keys(zv).forEach(e=>{const i=r&&Hv[e]||zv[e],u=Object.assign(Object.assign({},i),{offset:[0,0],dynamicInset:!0});switch(s[e]=u,Fv.has(e)&&(u.autoArrow=!1),e){case"top":case"topLeft":case"topRight":u.offset[1]=-l-o;break;case"bottom":case"bottomLeft":case"bottomRight":u.offset[1]=l+o;break;case"left":case"leftTop":case"leftBottom":u.offset[0]=-l-o;break;case"right":case"rightTop":case"rightBottom":u.offset[0]=l+o}if(r)switch(e){case"topLeft":case"bottomLeft":u.offset[0]=-c.arrowOffsetHorizontal-l;break;case"topRight":case"bottomRight":u.offset[0]=c.arrowOffsetHorizontal+l;break;case"leftTop":case"rightTop":u.offset[1]=2*-c.arrowOffsetHorizontal+l;break;case"leftBottom":case"rightBottom":u.offset[1]=2*c.arrowOffsetHorizontal-l}u.overflow=function(e,t,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};const o=r&&"object"==typeof r?r:{},i={};switch(e){case"top":case"bottom":i.shiftX=2*t.arrowOffsetHorizontal+n,i.shiftY=!0,i.adjustY=!0;break;case"left":case"right":i.shiftY=2*t.arrowOffsetVertical+n,i.shiftX=!0,i.adjustX=!0}const a=Object.assign(Object.assign({},i),o);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}(e,c,t,n),a&&(u.htmlRegion="visibleFirst")}),s}const Gv=e=>{const{calc:t,componentCls:n,tooltipMaxWidth:r,tooltipColor:o,tooltipBg:i,tooltipBorderRadius:a,zIndexPopup:l,controlHeight:s,boxShadowSecondary:c,paddingSM:u,paddingXS:d,arrowOffsetHorizontal:f,sizePopupArrow:h}=e,p=t(a).add(h).add(f).equal(),g=t(a).mul(2).add(h).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},ui(e)),{position:"absolute",zIndex:l,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${n}-inner`]:{minWidth:g,minHeight:s,padding:`${Xt(e.calc(u).div(2).equal())} ${Xt(d)}`,color:`var(--ant-tooltip-color, ${o})`,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:a,boxShadow:c,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:p},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:e.min(a,8)}},[`${n}-content`]:{position:"relative"}}),yi(e,(e,{darkColor:t})=>({[`&${n}-${e}`]:{[`${n}-inner`]:{backgroundColor:t},[`${n}-arrow`]:{"--antd-arrow-background-color":t}}}))),{"&-rtl":{direction:"rtl"}})},Dv(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},Vv=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},jv({contentRadius:e.borderRadius,limitVerticalRadius:!0})),Av(Xo(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),qv=(e,t=!0)=>gi("Tooltip",e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:r}=e,o=Xo(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:r});return[Gv(o),bu(e,"zoom-big-fast")]},Vv,{resetStyle:!1,injectStyle:t})(e),Xv=Jo.map(e=>`${e}-inverse`),Uv=["success","processing","error","default","warning"];function Yv(e,t=!0){return t?[].concat(it(Xv),it(Jo)).includes(e):Jo.includes(e)}function Kv(e,t){const n=Yv(t),r=S({[`${e}-${t}`]:t&&n}),o={},i={},a=(e=>e instanceof Cc?e:new Cc(e))(t).toRgb(),l=(.299*a.r+.587*a.g+.114*a.b)/255<.5?"#FFF":"#000";return t&&!n&&(o.background=t,o["--ant-tooltip-color"]=l,i["--antd-arrow-background-color"]=t),{className:r,overlayStyle:o,arrowStyle:i}}const Zv=m.forwardRef((e,t)=>{var n,r;const{prefixCls:o,openClassName:i,getTooltipContainer:a,color:l,overlayInnerStyle:s,children:c,afterOpenChange:u,afterVisibleChange:d,destroyTooltipOnHide:f,destroyOnHidden:h,arrow:p=!0,title:g,overlay:v,builtinPlacements:y,arrowPointAtCenter:b=!1,autoAdjustOverflow:x=!0,motion:w,getPopupContainer:C,placement:E="top",mouseEnterDelay:O=.1,mouseLeaveDelay:k=.1,overlayStyle:M,rootClassName:$,overlayClassName:I,styles:N,classNames:T}=e,L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","destroyOnHidden","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),R=!!p,[,_]=si(),{getPopupContainer:A,getPrefixCls:P,direction:j,className:B,style:D,classNames:z,styles:H}=ko("tooltip"),F=Cr(),W=m.useRef(null),G=()=>{var e;null===(e=W.current)||void 0===e||e.forceAlign()};m.useImperativeHandle(t,()=>{var e,t;return{forceAlign:G,forcePopupAlign:()=>{F.deprecated(!1,"forcePopupAlign","forceAlign"),G()},nativeElement:null===(e=W.current)||void 0===e?void 0:e.nativeElement,popupElement:null===(t=W.current)||void 0===t?void 0:t.popupElement}});const[V,q]=Wo(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),X=!g&&!v&&0!==g,U=m.useMemo(()=>{var e,t;let n=b;return"object"==typeof p&&(n=null!==(t=null!==(e=p.pointAtCenter)&&void 0!==e?e:p.arrowPointAtCenter)&&void 0!==t?t:b),y||Wv({arrowPointAtCenter:n,autoAdjustOverflow:x,arrowWidth:R?_.sizePopupArrow:0,borderRadius:_.borderRadius,offset:_.marginXXS,visibleFirst:!0})},[b,p,y,_]),Y=m.useMemo(()=>0===g?g:v||g||"",[v,g]),K=m.createElement(rh,{space:!0},"function"==typeof Y?Y():Y),Z=P("tooltip",o),Q=P(),J=e["data-popover-inject"];let ee=V;"open"in e||"visible"in e||!X||(ee=!1);const te=m.isValidElement(c)&&!il(c)?c:m.createElement("span",null,c),ne=te.props,re=ne.className&&"string"!=typeof ne.className?ne.className:S(ne.className,i||`${Z}-open`),[oe,ie,ae]=qv(Z,!J),le=Kv(Z,l),se=le.arrowStyle,ce=S(I,{[`${Z}-rtl`]:"rtl"===j},le.className,$,ie,ae,B,z.root,null==T?void 0:T.root),ue=S(z.body,null==T?void 0:T.body),[de,fe]=Yl("Tooltip",L.zIndex),he=m.createElement(_v,Object.assign({},L,{zIndex:de,showArrow:R,placement:E,mouseEnterDelay:O,mouseLeaveDelay:k,prefixCls:Z,classNames:{root:ce,body:ue},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},se),H.root),D),M),null==N?void 0:N.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},H.body),s),null==N?void 0:N.body),le.overlayStyle)},getTooltipContainer:C||a||A,ref:W,builtinPlacements:U,overlay:K,visible:ee,onVisibleChange:t=>{var n,r;q(!X&&t),X||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!=u?u:d,arrowContent:m.createElement("span",{className:`${Z}-arrow-content`}),motion:{motionName:Ps(Q,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:null!=h?h:!!f}),ee?ll(te,{className:re}):te);return oe(m.createElement(Vl.Provider,{value:fe},he))}),Qv=Zv;Qv._InternalPanelDoNotUseOrYouWillBeFired=e=>{const{prefixCls:t,className:n,placement:r="top",title:o,color:i,overlayInnerStyle:a}=e,{getPrefixCls:l}=m.useContext(So),s=l("tooltip",t),[c,u,d]=qv(s),f=Kv(s,i),h=f.arrowStyle,p=Object.assign(Object.assign({},a),f.overlayStyle),g=S(u,d,s,`${s}-pure`,`${s}-placement-${r}`,n,f.className);return c(m.createElement("div",{className:g,style:h},m.createElement("div",{className:`${s}-arrow`}),m.createElement(Mv,Object.assign({},e,{className:u,prefixCls:s,overlayInnerStyle:p}),o)))};const Jv=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:o,innerPadding:i,boxShadowSecondary:a,colorTextHeading:l,borderRadiusLG:s,zIndexPopup:c,titleMarginBottom:u,colorBgElevated:d,popoverBg:f,titleBorderBottom:h,innerContentPadding:p,titlePadding:g}=e;return[{[t]:Object.assign(Object.assign({},ui(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":d,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:f,backgroundClip:"padding-box",borderRadius:s,boxShadow:a,padding:i},[`${t}-title`]:{minWidth:r,marginBottom:u,color:l,fontWeight:o,borderBottom:h,padding:g},[`${t}-inner-content`]:{color:n,padding:p}})},Dv(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},ey=e=>{const{componentCls:t}=e;return{[t]:Jo.map(n=>{const r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}})}},ty=gi("Popover",e=>{const{colorBgElevated:t,colorText:n}=e,r=Xo(e,{popoverBg:t,popoverColor:n});return[Jv(r),ey(r),bu(r,"zoom-big")]},e=>{const{lineWidth:t,controlHeight:n,fontHeight:r,padding:o,wireframe:i,zIndexPopupBase:a,borderRadiusLG:l,marginXS:s,lineType:c,colorSplit:u,paddingSM:d}=e,f=n-r,h=f/2,p=f/2-t,g=o;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:a+30},Av(e)),jv({contentRadius:l,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:s,titlePadding:i?`${h}px ${g}px ${p}px`:0,titleBorderBottom:i?`${t}px ${c} ${u}`:"none",innerContentPadding:i?`${d}px ${g}px`:0})},{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});const ny=({title:e,content:t,prefixCls:n})=>e||t?m.createElement(m.Fragment,null,e&&m.createElement("div",{className:`${n}-title`},e),t&&m.createElement("div",{className:`${n}-inner-content`},t)):null,ry=e=>{const{hashId:t,prefixCls:n,className:r,style:o,placement:i="top",title:a,content:l,children:s}=e,c=kv(a),u=kv(l),d=S(t,n,`${n}-pure`,`${n}-placement-${i}`,r);return m.createElement("div",{className:d,style:o},m.createElement("div",{className:`${n}-arrow`}),m.createElement(Mv,Object.assign({},e,{className:t,prefixCls:n}),s||m.createElement(ny,{prefixCls:n,title:c,content:u})))},oy=e=>{const{prefixCls:t,className:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className"]),{getPrefixCls:o}=m.useContext(So),i=o("popover",t),[a,l,s]=ty(i);return a(m.createElement(ry,Object.assign({},r,{prefixCls:i,hashId:l,className:S(n,s)})))};const iy=m.forwardRef((e,t)=>{var n,r;const{prefixCls:o,title:i,content:a,overlayClassName:l,placement:s="top",trigger:c="hover",children:u,mouseEnterDelay:d=.1,mouseLeaveDelay:f=.1,onOpenChange:h,overlayStyle:p={},styles:g,classNames:v}=e,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:b,className:x,style:w,classNames:C,styles:E}=ko("popover"),O=b("popover",o),[k,M,$]=ty(O),I=b(),N=S(l,M,$,x,C.root,null==v?void 0:v.root),T=S(C.body,null==v?void 0:v.body),[L,R]=Wo(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),_=(e,t)=>{R(e,!0),null==h||h(e,t)},A=kv(i),P=kv(a);return k(m.createElement(Qv,Object.assign({placement:s,trigger:c,mouseEnterDelay:d,mouseLeaveDelay:f},y,{prefixCls:O,classNames:{root:N,body:T},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},E.root),w),p),null==g?void 0:g.root),body:Object.assign(Object.assign({},E.body),null==g?void 0:g.body)},ref:t,open:L,onOpenChange:e=>{_(e)},overlay:A||P?m.createElement(ny,{prefixCls:O,title:A,content:P}):null,transitionName:Ps(I,"zoom-big",y.transitionName),"data-popover-inject":!0}),ll(u,{onKeyDown:e=>{var t,n;m.isValidElement(u)&&(null===(n=null==u?void 0:(t=u.props).onKeyDown)||void 0===n||n.call(t,e)),(e=>{e.keyCode===Tl.ESC&&_(!1,e)})(e)}})))}),ay=iy;ay._InternalPanelDoNotUseOrYouWillBeFired=oy;const ly=e=>{const{size:t,shape:n}=m.useContext(wv),r=m.useMemo(()=>({size:e.size||t,shape:e.shape||n}),[e.size,e.shape,t,n]);return m.createElement(wv.Provider,{value:r},e.children)},sy=Ov;sy.Group=e=>{var t,n,r,o;const{getPrefixCls:i,direction:a}=m.useContext(So),{prefixCls:l,className:s,rootClassName:c,style:u,maxCount:d,maxStyle:f,size:h,shape:p,maxPopoverPlacement:g,maxPopoverTrigger:v,children:y,max:b}=e,x=i("avatar",l),w=`${x}-group`,C=Nl(x),[E,O,k]=Ev(x,C),M=S(w,{[`${w}-rtl`]:"rtl"===a},k,C,s,c,O),$=N(y).map((e,t)=>ll(e,{key:`avatar-key-${t}`})),I=(null==b?void 0:b.count)||d,T=$.length;if(I&&I<T){const e=$.slice(0,I),i=$.slice(I,T),a=(null==b?void 0:b.style)||f,l=(null===(t=null==b?void 0:b.popover)||void 0===t?void 0:t.trigger)||v||"hover",s=(null===(n=null==b?void 0:b.popover)||void 0===n?void 0:n.placement)||g||"top",c=Object.assign(Object.assign({content:i},null==b?void 0:b.popover),{classNames:{root:S(`${w}-popover`,null===(o=null===(r=null==b?void 0:b.popover)||void 0===r?void 0:r.classNames)||void 0===o?void 0:o.root)},placement:s,trigger:l});return e.push(m.createElement(ay,Object.assign({key:"avatar-popover-key",destroyOnHidden:!0},c),m.createElement(Ov,{style:a},"+"+(T-I)))),E(m.createElement(ly,{shape:p,size:h},m.createElement("div",{className:M,style:u},e)))}return E(m.createElement(ly,{shape:p,size:h},m.createElement("div",{className:M,style:u},$)))};const cy=new ur("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),uy=new ur("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),dy=new ur("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),fy=new ur("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),hy=new ur("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),py=new ur("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),gy=e=>{const{fontHeight:t,lineWidth:n,marginXS:r,colorBorderBg:o}=e;return Xo(e,{badgeFontHeight:t,badgeShadowSize:n,badgeTextColor:e.colorTextLightSolid,badgeColor:e.colorError,badgeColorHover:e.colorErrorHover,badgeShadowColor:o,badgeProcessingDuration:"1.2s",badgeRibbonOffset:r,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},my=e=>{const{fontSize:t,lineHeight:n,fontSizeSM:r,lineWidth:o}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*n)-2*o,indicatorHeightSM:t,dotSize:r/2,textFontSize:r,textFontSizeSM:r,textFontWeight:"normal",statusSize:r/2}},vy=gi("Badge",e=>(e=>{const{componentCls:t,iconCls:n,antCls:r,badgeShadowSize:o,textFontSize:i,textFontSizeSM:a,statusSize:l,dotSize:s,textFontWeight:c,indicatorHeight:u,indicatorHeightSM:d,marginXS:f,calc:h}=e,p=`${r}-scroll-number`,g=yi(e,(e,{darkColor:n})=>({[`&${t} ${t}-color-${e}`]:{background:n,[`&:not(${t}-count)`]:{color:n},"a:hover &":{background:n}}}));return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},ui(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:u,height:u,color:e.badgeTextColor,fontWeight:c,fontSize:i,lineHeight:Xt(u),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:h(u).div(2).equal(),boxShadow:`0 0 0 ${Xt(o)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:d,height:d,fontSize:a,lineHeight:Xt(d),borderRadius:h(d).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${Xt(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:s,minWidth:s,height:s,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${Xt(o)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${p}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${n}-spin`]:{animationName:py,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:l,height:l,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:o,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:cy,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:f,color:e.colorText,fontSize:e.fontSize}}}),g),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:uy,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:dy,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:fy,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:hy,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${p}-custom-component, ${t}-count`]:{transform:"none"},[`${p}-custom-component, ${p}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[p]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${p}-only`]:{position:"relative",display:"inline-block",height:u,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${p}-only-unit`]:{height:u,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${p}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${p}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}})(gy(e)),my),yy=gi(["Badge","Ribbon"],e=>(e=>{const{antCls:t,badgeFontHeight:n,marginXS:r,badgeRibbonOffset:o,calc:i}=e,a=`${t}-ribbon`,l=`${t}-ribbon-wrapper`,s=yi(e,(e,{darkColor:t})=>({[`&${a}-color-${e}`]:{background:t,color:t}}));return{[l]:{position:"relative"},[a]:Object.assign(Object.assign(Object.assign(Object.assign({},ui(e)),{position:"absolute",top:r,padding:`0 ${Xt(e.paddingXS)}`,color:e.colorPrimary,lineHeight:Xt(n),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${a}-text`]:{color:e.badgeTextColor},[`${a}-corner`]:{position:"absolute",top:"100%",width:o,height:o,color:"currentcolor",border:`${Xt(i(o).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),s),{[`&${a}-placement-end`]:{insetInlineEnd:i(o).mul(-1).equal(),borderEndEndRadius:0,[`${a}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${a}-placement-start`]:{insetInlineStart:i(o).mul(-1).equal(),borderEndStartRadius:0,[`${a}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}})(gy(e)),my),by=e=>{const{prefixCls:t,value:n,current:r,offset:o=0}=e;let i;return o&&(i={position:"absolute",top:`${o}00%`,left:0}),m.createElement("span",{style:i,className:S(`${t}-only-unit`,{current:r})},n)};function xy(e,t,n){let r=e,o=0;for(;(r+10)%10!==t;)r+=n,o+=n;return o}const wy=e=>{const{prefixCls:t,count:n,value:r}=e,o=Number(r),i=Math.abs(n),[a,l]=m.useState(o),[s,c]=m.useState(i),u=()=>{l(o),c(i)};let d,f;if(m.useEffect(()=>{const e=setTimeout(u,1e3);return()=>clearTimeout(e)},[o]),a===o||Number.isNaN(o)||Number.isNaN(a))d=[m.createElement(by,Object.assign({},e,{key:o,current:!0}))],f={transition:"none"};else{d=[];const t=o+10,n=[];for(let e=o;e<=t;e+=1)n.push(e);const r=s<i?1:-1,l=n.findIndex(e=>e%10===a);d=(r<0?n.slice(0,l+1):n.slice(l)).map((t,n)=>{const o=t%10;return m.createElement(by,Object.assign({},e,{key:t,value:o,offset:r<0?n-l:n,current:n===l}))}),f={transform:`translateY(${-xy(a,o,r)}00%)`}}return m.createElement("span",{className:`${t}-only`,style:f,onTransitionEnd:u},d)};const Cy=m.forwardRef((e,t)=>{const{prefixCls:n,count:r,className:o,motionClassName:i,style:a,title:l,show:s,component:c="sup",children:u}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:f}=m.useContext(So),h=f("scroll-number",n),p=Object.assign(Object.assign({},d),{"data-show":s,style:a,className:S(h,o,i),title:l});let g=r;if(r&&Number(r)%1==0){const e=String(r).split("");g=m.createElement("bdi",null,e.map((t,n)=>m.createElement(wy,{prefixCls:h,count:Number(r),value:t,key:e.length-n})))}return(null==a?void 0:a.borderColor)&&(p.style=Object.assign(Object.assign({},a),{boxShadow:`0 0 0 1px ${a.borderColor} inset`})),u?ll(u,e=>({className:S(`${h}-custom-component`,null==e?void 0:e.className,i)})):m.createElement(c,Object.assign({},p,{ref:t}),g)});const Sy=m.forwardRef((e,t)=>{var n,r,o,i,a;const{prefixCls:l,scrollNumberPrefixCls:s,children:c,status:u,text:d,color:f,count:h=null,overflowCount:p=99,dot:g=!1,size:v="default",title:y,offset:b,style:x,className:w,rootClassName:C,classNames:E,styles:O,showZero:k=!1}=e,M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:$,direction:I,badge:N}=m.useContext(So),T=$("badge",l),[L,R,_]=vy(T),A=h>p?`${p}+`:h,P="0"===A||0===A||"0"===d||0===d,j=null===h||P&&!k,B=(null!=u||null!=f)&&j,D=null!=u||!P,z=g&&!P,H=z?"":A,F=m.useMemo(()=>(!(null!=H&&""!==H||null!=d&&""!==d)||P&&!k)&&!z,[H,P,k,z,d]),W=m.useRef(h);F||(W.current=h);const G=W.current,V=m.useRef(H);F||(V.current=H);const q=V.current,X=m.useRef(z);F||(X.current=z);const U=m.useMemo(()=>{if(!b)return Object.assign(Object.assign({},null==N?void 0:N.style),x);const e={marginTop:b[1]};return"rtl"===I?e.left=Number.parseInt(b[0],10):e.right=-Number.parseInt(b[0],10),Object.assign(Object.assign(Object.assign({},e),null==N?void 0:N.style),x)},[I,b,x,null==N?void 0:N.style]),Y=null!=y?y:"string"==typeof G||"number"==typeof G?G:void 0,K=!F&&(0===d?k:!!d&&!0!==d),Z=K?m.createElement("span",{className:`${T}-status-text`},d):null,Q=G&&"object"==typeof G?ll(G,e=>({style:Object.assign(Object.assign({},U),e.style)})):void 0,J=Yv(f,!1),ee=S(null==E?void 0:E.indicator,null===(n=null==N?void 0:N.classNames)||void 0===n?void 0:n.indicator,{[`${T}-status-dot`]:B,[`${T}-status-${u}`]:!!u,[`${T}-color-${f}`]:J}),te={};f&&!J&&(te.color=f,te.background=f);const ne=S(T,{[`${T}-status`]:B,[`${T}-not-a-wrapper`]:!c,[`${T}-rtl`]:"rtl"===I},w,C,null==N?void 0:N.className,null===(r=null==N?void 0:N.classNames)||void 0===r?void 0:r.root,null==E?void 0:E.root,R,_);if(!c&&B&&(d||D||!j)){const e=U.color;return L(m.createElement("span",Object.assign({},M,{className:ne,style:Object.assign(Object.assign(Object.assign({},null==O?void 0:O.root),null===(o=null==N?void 0:N.styles)||void 0===o?void 0:o.root),U)}),m.createElement("span",{className:ee,style:Object.assign(Object.assign(Object.assign({},null==O?void 0:O.indicator),null===(i=null==N?void 0:N.styles)||void 0===i?void 0:i.indicator),te)}),K&&m.createElement("span",{style:{color:e},className:`${T}-status-text`},d)))}return L(m.createElement("span",Object.assign({ref:t},M,{className:ne,style:Object.assign(Object.assign({},null===(a=null==N?void 0:N.styles)||void 0===a?void 0:a.root),null==O?void 0:O.root)}),c,m.createElement(oa,{visible:!F,motionName:`${T}-zoom`,motionAppear:!1,motionDeadline:1e3},({className:e})=>{var t,n;const r=$("scroll-number",s),o=X.current,i=S(null==E?void 0:E.indicator,null===(t=null==N?void 0:N.classNames)||void 0===t?void 0:t.indicator,{[`${T}-dot`]:o,[`${T}-count`]:!o,[`${T}-count-sm`]:"small"===v,[`${T}-multiple-words`]:!o&&q&&q.toString().length>1,[`${T}-status-${u}`]:!!u,[`${T}-color-${f}`]:J});let a=Object.assign(Object.assign(Object.assign({},null==O?void 0:O.indicator),null===(n=null==N?void 0:N.styles)||void 0===n?void 0:n.indicator),U);return f&&!J&&(a=a||{},a.background=f),m.createElement(Cy,{prefixCls:r,show:!F,motionClassName:e,className:i,count:q,title:Y,style:a,key:"scrollNumber"},Q)}),Z))}),Ey=Sy;Ey.Ribbon=e=>{const{className:t,prefixCls:n,style:r,color:o,children:i,text:a,placement:l="end",rootClassName:s}=e,{getPrefixCls:c,direction:u}=m.useContext(So),d=c("ribbon",n),f=`${d}-wrapper`,[h,p,g]=yy(d,f),v=Yv(o,!1),y=S(d,`${d}-placement-${l}`,{[`${d}-rtl`]:"rtl"===u,[`${d}-color-${o}`]:v},t),b={},x={};return o&&!v&&(b.background=o,x.color=o),h(m.createElement("div",{className:S(f,s,p,g)},i,m.createElement("div",{className:S(y,p),style:Object.assign(Object.assign({},b),r)},m.createElement("span",{className:`${d}-text`},a),m.createElement("div",{className:`${d}-corner`,style:x}))))};var Oy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},ky=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:Oy}))},My=m.forwardRef(ky),$y=Tl.ESC,Iy=Tl.TAB;var Ny=m.forwardRef(function(e,t){var n=e.overlay,r=e.arrow,o=e.prefixCls,i=m.useMemo(function(){return"function"==typeof n?n():n},[n]),a=de(t,ge(i));return p.createElement(p.Fragment,null,r&&p.createElement("div",{className:"".concat(o,"-arrow")}),p.cloneElement(i,{ref:he(i)?a:void 0}))}),Ty={adjustX:1,adjustY:1},Ly=[0,0],Ry={topLeft:{points:["bl","tl"],overflow:Ty,offset:[0,-4],targetOffset:Ly},top:{points:["bc","tc"],overflow:Ty,offset:[0,-4],targetOffset:Ly},topRight:{points:["br","tr"],overflow:Ty,offset:[0,-4],targetOffset:Ly},bottomLeft:{points:["tl","bl"],overflow:Ty,offset:[0,4],targetOffset:Ly},bottom:{points:["tc","bc"],overflow:Ty,offset:[0,4],targetOffset:Ly},bottomRight:{points:["tr","br"],overflow:Ty,offset:[0,4],targetOffset:Ly}},_y=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function Ay(e,t){var n,r=e.arrow,o=void 0!==r&&r,i=e.prefixCls,a=void 0===i?"rc-dropdown":i,l=e.transitionName,s=e.animation,c=e.align,u=e.placement,d=void 0===u?"bottomLeft":u,f=e.placements,h=void 0===f?Ry:f,g=e.getPopupContainer,v=e.showAction,y=e.hideAction,b=e.overlayClassName,x=e.overlayStyle,w=e.visible,C=e.trigger,O=void 0===C?["hover"]:C,k=e.autoFocus,M=e.overlay,$=e.children,I=e.onVisibleChange,N=$t(e,_y),T=pt(p.useState(),2),L=T[0],R=T[1],_="visible"in e?w:L,A=p.useRef(null),P=p.useRef(null),B=p.useRef(null);p.useImperativeHandle(t,function(){return A.current});var D=function(e){R(e),null==I||I(e)};!function(e){var t=e.visible,n=e.triggerRef,r=e.onVisibleChange,o=e.autoFocus,i=e.overlayRef,a=m.useRef(!1),l=function(){var e,o;t&&(null===(e=n.current)||void 0===e||null===(o=e.focus)||void 0===o||o.call(e),null==r||r(!1))},s=function(){var e;return!(null===(e=i.current)||void 0===e||!e.focus||(i.current.focus(),a.current=!0,0))},c=function(e){switch(e.keyCode){case $y:l();break;case Iy:var t=!1;a.current||(t=s()),t?e.preventDefault():l()}};m.useEffect(function(){return t?(window.addEventListener("keydown",c),o&&dt(s,3),function(){window.removeEventListener("keydown",c),a.current=!1}):function(){a.current=!1}},[t])}({visible:_,triggerRef:B,onVisibleChange:D,autoFocus:k,overlayRef:P});var z,H,F,W=function(){return p.createElement(Ny,{ref:P,overlay:M,prefixCls:a,arrow:o})},G=p.cloneElement($,{className:S(null===(n=$.props)||void 0===n?void 0:n.className,_&&(z=e.openClassName,void 0!==z?z:"".concat(a,"-open"))),ref:he($)?de(B,ge($)):void 0}),V=y;return V||-1===O.indexOf("contextMenu")||(V=["click"]),p.createElement(wg,E({builtinPlacements:h},N,{prefixCls:a,ref:A,popupClassName:S(b,j({},"".concat(a,"-show-arrow"),o)),popupStyle:x,action:O,showAction:v,hideAction:V,popupPlacement:d,popupAlign:c,popupTransitionName:l,popupAnimation:s,popupVisible:_,stretch:(H=e.minOverlayWidthMatchTrigger,F=e.alignPoint,("minOverlayWidthMatchTrigger"in e?H:!F)?"minWidth":""),popup:"function"==typeof M?W:W(),onPopupVisibleChange:D,onPopupClick:function(t){var n=e.onOverlayClick;R(!1),n&&n(t)},getPopupContainer:g}),G)}const Py=p.forwardRef(Ay);var jy=m.createContext(null);function By(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Dy(e){return By(m.useContext(jy),e)}var zy=["children","locked"],Hy=m.createContext(null);function Fy(e){var t=e.children,n=e.locked,r=$t(e,zy),o=m.useContext(Hy),i=se(function(){return e=r,t=D({},o),Object.keys(e).forEach(function(n){var r=e[n];void 0!==r&&(t[n]=r)}),t;var e,t},[o,r],function(e,t){return!(n||e[0]===t[0]&&It(e[1],t[1],!0))});return m.createElement(Hy.Provider,{value:i},t)}var Wy=[],Gy=m.createContext(null);function Vy(){return m.useContext(Gy)}var qy=m.createContext(Wy);function Xy(e){var t=m.useContext(qy);return m.useMemo(function(){return void 0!==e?[].concat(it(t),[e]):t},[t,e])}var Uy=m.createContext(null),Yy=m.createContext({});function Ky(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Bs(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),o=e.getAttribute("tabindex"),i=Number(o),a=null;return o&&!Number.isNaN(i)?a=i:r&&null===a&&(a=0),r&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}var Zy=Tl.LEFT,Qy=Tl.RIGHT,Jy=Tl.UP,eb=Tl.DOWN,tb=Tl.ENTER,nb=Tl.ESC,rb=Tl.HOME,ob=Tl.END,ib=[Jy,eb,Zy,Qy];function ab(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=it(e.querySelectorAll("*")).filter(function(e){return Ky(e,t)});return Ky(e,t)&&n.unshift(e),n}(e,!0);return n.filter(function(e){return t.has(e)})}function lb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var o=ab(e,t),i=o.length,a=o.findIndex(function(e){return n===e});return r<0?-1===a?a=i-1:a-=1:r>0&&(a+=1),o[a=(a+i)%i]}var sb=function(e,t){var n=new Set,r=new Map,o=new Map;return e.forEach(function(e){var i=document.querySelector("[data-menu-id='".concat(By(t,e),"']"));i&&(n.add(i),o.set(i,e),r.set(e,i))}),{elements:n,key2element:r,element2key:o}};function cb(e,t,n,r,o,i,a,l,s,c){var u=m.useRef(),d=m.useRef();d.current=t;var f=function(){dt.cancel(u.current)};return m.useEffect(function(){return function(){f()}},[]),function(h){var p=h.which;if([].concat(ib,[tb,nb,rb,ob]).includes(p)){var g=i(),m=sb(g,r),v=m,y=v.elements,b=v.key2element,x=v.element2key,w=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(b.get(t),y),C=x.get(w),S=function(e,t,n,r){var o,i="prev",a="next",l="children",s="parent";if("inline"===e&&r===tb)return{inlineTrigger:!0};var c=j(j({},Jy,i),eb,a),u=j(j(j(j({},Zy,n?a:i),Qy,n?i:a),eb,l),tb,l),d=j(j(j(j(j(j({},Jy,i),eb,a),tb,l),nb,s),Zy,n?l:s),Qy,n?s:l);switch(null===(o={inline:c,horizontal:u,vertical:d,inlineSub:c,horizontalSub:d,verticalSub:d}["".concat(e).concat(t?"":"Sub")])||void 0===o?void 0:o[r]){case i:return{offset:-1,sibling:!0};case a:return{offset:1,sibling:!0};case s:return{offset:-1,sibling:!1};case l:return{offset:1,sibling:!1};default:return null}}(e,1===a(C,!0).length,n,p);if(!S&&p!==rb&&p!==ob)return;(ib.includes(p)||[rb,ob].includes(p))&&h.preventDefault();var E=function(e){if(e){var t=e,n=e.querySelector("a");null!=n&&n.getAttribute("href")&&(t=n);var r=x.get(e);l(r),f(),u.current=dt(function(){d.current===r&&t.focus()})}};if([rb,ob].includes(p)||S.sibling||!w){var O,k,M=ab(O=w&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(w):o.current,y);k=p===rb?M[0]:p===ob?M[M.length-1]:lb(O,y,w,S.offset),E(k)}else if(S.inlineTrigger)s(C);else if(S.offset>0)s(C,!0),f(),u.current=dt(function(){m=sb(g,r);var e=w.getAttribute("aria-controls"),t=lb(document.getElementById(e),m.elements);E(t)},5);else if(S.offset<0){var $=a(C,!0),I=$[$.length-2],N=b.get(I);s(I,!1),E(N)}}null==c||c(h)}}var ub="__RC_UTIL_PATH_SPLIT__",db=function(e){return e.join(ub)},fb="rc-menu-more";function hb(){var e=pt(m.useState({}),2)[1],t=m.useRef(new Map),n=m.useRef(new Map),r=pt(m.useState([]),2),o=r[0],i=r[1],a=m.useRef(0),l=m.useRef(!1),s=m.useCallback(function(r,o){var i=db(o);n.current.set(i,r),t.current.set(r,i),a.current+=1;var s,c=a.current;s=function(){c===a.current&&(l.current||e({}))},Promise.resolve().then(s)},[]),c=m.useCallback(function(e,r){var o=db(r);n.current.delete(o),t.current.delete(e)},[]),u=m.useCallback(function(e){i(e)},[]),d=m.useCallback(function(e,n){var r=t.current.get(e)||"",i=r.split(ub);return n&&o.includes(i[0])&&i.unshift(fb),i},[o]),f=m.useCallback(function(e,t){return e.filter(function(e){return void 0!==e}).some(function(e){return d(e,!0).includes(t)})},[d]),h=m.useCallback(function(e){var r="".concat(t.current.get(e)).concat(ub),o=new Set;return it(n.current.keys()).forEach(function(e){e.startsWith(r)&&o.add(n.current.get(e))}),o},[]);return m.useEffect(function(){return function(){l.current=!0}},[]),{registerPath:s,unregisterPath:c,refreshOverflowKeys:u,isSubPathKey:f,getKeyPath:d,getKeys:function(){var e=it(t.current.keys());return o.length&&e.push(fb),e},getSubPathKeys:h}}function pb(e){var t=m.useRef(e);t.current=e;var n=m.useCallback(function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))},[]);return e?n:void 0}var gb=Math.random().toFixed(5).toString().slice(2),mb=0;function vb(e,t,n,r){var o=m.useContext(Hy),i=o.activeKey,a=o.onActive,l=o.onInactive,s={active:i===e};return t||(s.onMouseEnter=function(t){null==n||n({key:e,domEvent:t}),a(e)},s.onMouseLeave=function(t){null==r||r({key:e,domEvent:t}),l(e)}),s}function yb(e){var t=m.useContext(Hy),n=t.mode,r=t.rtl,o=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*o}:{paddingLeft:e*o}}function bb(e){var t,n=e.icon,r=e.props,o=e.children;return null===n||!1===n?null:("function"==typeof n?t=m.createElement(n,D({},r)):"boolean"!=typeof n&&(t=n),t||o||null)}var xb=["item"];function wb(e){var t=e.item,n=$t(e,xb);return Object.defineProperty(n,"item",{get:function(){return A(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}var Cb=["title","attribute","elementRef"],Sb=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Eb=["active"],Ob=function(){Ve(t,m.Component);var e=Ke(t);function t(){return He(this,t),e.apply(this,arguments)}return We(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,r=e.elementRef,o=js($t(e,Cb),["eventKey","popupClassName","popupOffset","onTitleClick"]);return A(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),m.createElement(Hp.Item,E({},n,{title:"string"==typeof t?t:void 0},o,{ref:r}))}}]),t}(),kb=m.forwardRef(function(e,t){var n=e.style,r=e.className,o=e.eventKey;e.warnKey;var i=e.disabled,a=e.itemIcon,l=e.children,s=e.role,c=e.onMouseEnter,u=e.onMouseLeave,d=e.onClick,f=e.onKeyDown,h=e.onFocus,p=$t(e,Sb),g=Dy(o),v=m.useContext(Hy),y=v.prefixCls,b=v.onItemClick,x=v.disabled,w=v.overflowDisabled,C=v.itemIcon,O=v.selectedKeys,k=v.onActive,M=m.useContext(Yy)._internalRenderMenuItem,$="".concat(y,"-item"),I=m.useRef(),N=m.useRef(),T=x||i,L=fe(t,N),R=Xy(o),_=function(e){return{key:o,keyPath:it(R).reverse(),item:I.current,domEvent:e}},A=a||C,P=vb(o,T,c,u),B=P.active,z=$t(P,Eb),H=O.includes(o),F=yb(R.length),W={};"option"===e.role&&(W["aria-selected"]=H);var G=m.createElement(Ob,E({ref:I,elementRef:L,role:null===s?"none":s||"menuitem",tabIndex:i?null:-1,"data-menu-id":w&&g?null:g},js(p,["extra"]),z,W,{component:"li","aria-disabled":i,style:D(D({},F),n),className:S($,j(j(j({},"".concat($,"-active"),B),"".concat($,"-selected"),H),"".concat($,"-disabled"),T),r),onClick:function(e){if(!T){var t=_(e);null==d||d(wb(t)),b(t)}},onKeyDown:function(e){if(null==f||f(e),e.which===Tl.ENTER){var t=_(e);null==d||d(wb(t)),b(t)}},onFocus:function(e){k(o),null==h||h(e)}}),l,m.createElement(bb,{props:D(D({},e),{},{isSelected:H}),icon:A}));return M&&(G=M(G,e,{selected:H})),G});function Mb(e,t){var n=e.eventKey,r=Vy(),o=Xy(n);return m.useEffect(function(){if(r)return r.registerPath(n,o),function(){r.unregisterPath(n,o)}},[o]),r?null:m.createElement(kb,E({},e,{ref:t}))}const $b=m.forwardRef(Mb);var Ib=["className","children"],Nb=function(e,t){var n=e.className,r=e.children,o=$t(e,Ib),i=m.useContext(Hy),a=i.prefixCls,l=i.mode,s=i.rtl;return m.createElement("ul",E({className:S(a,s&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat("inline"===l?"inline":"vertical"),n),role:"menu"},o,{"data-menu-list":!0,ref:t}),r)},Tb=m.forwardRef(Nb);function Lb(e,t){return N(e).map(function(e,n){if(m.isValidElement(e)){var r,o,i=e.key,a=null!==(r=null===(o=e.props)||void 0===o?void 0:o.eventKey)&&void 0!==r?r:i;null==a&&(a="tmp_key-".concat([].concat(it(t),[n]).join("-")));var l={key:a,eventKey:a};return m.cloneElement(e,l)}return e})}Tb.displayName="SubMenuList";var Rb={adjustX:1,adjustY:1},_b={topLeft:{points:["bl","tl"],overflow:Rb},topRight:{points:["br","tr"],overflow:Rb},bottomLeft:{points:["tl","bl"],overflow:Rb},bottomRight:{points:["tr","br"],overflow:Rb},leftTop:{points:["tr","tl"],overflow:Rb},leftBottom:{points:["br","bl"],overflow:Rb},rightTop:{points:["tl","tr"],overflow:Rb},rightBottom:{points:["bl","br"],overflow:Rb}},Ab={topLeft:{points:["bl","tl"],overflow:Rb},topRight:{points:["br","tr"],overflow:Rb},bottomLeft:{points:["tl","bl"],overflow:Rb},bottomRight:{points:["tr","br"],overflow:Rb},rightTop:{points:["tr","tl"],overflow:Rb},rightBottom:{points:["br","bl"],overflow:Rb},leftTop:{points:["tl","tr"],overflow:Rb},leftBottom:{points:["bl","br"],overflow:Rb}};function Pb(e,t,n){return t||(n?n[e]||n.other:void 0)}var jb={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Bb(e){var t=e.prefixCls,n=e.visible,r=e.children,o=e.popup,i=e.popupStyle,a=e.popupClassName,l=e.popupOffset,s=e.disabled,c=e.mode,u=e.onVisibleChange,d=m.useContext(Hy),f=d.getPopupContainer,h=d.rtl,p=d.subMenuOpenDelay,g=d.subMenuCloseDelay,v=d.builtinPlacements,y=d.triggerSubMenuAction,b=d.forceSubMenuRender,x=d.rootClassName,w=d.motion,C=d.defaultMotions,E=pt(m.useState(!1),2),O=E[0],k=E[1],M=D(D({},h?Ab:_b),v),$=jb[c],I=Pb(c,w,C),N=m.useRef(I);"inline"!==c&&(N.current=I);var T=D(D({},N.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),L=m.useRef();return m.useEffect(function(){return L.current=dt(function(){k(n)}),function(){dt.cancel(L.current)}},[n]),m.createElement(wg,{prefixCls:t,popupClassName:S("".concat(t,"-popup"),j({},"".concat(t,"-rtl"),h),a,x),stretch:"horizontal"===c?"minWidth":null,getPopupContainer:f,builtinPlacements:M,popupPlacement:$,popupVisible:O,popup:o,popupStyle:i,popupAlign:l&&{offset:l},action:s?[]:[y],mouseEnterDelay:p,mouseLeaveDelay:g,onPopupVisibleChange:u,forceRender:b,popupMotion:T,fresh:!0},r)}function Db(e){var t=e.id,n=e.open,r=e.keyPath,o=e.children,i="inline",a=m.useContext(Hy),l=a.prefixCls,s=a.forceSubMenuRender,c=a.motion,u=a.defaultMotions,d=a.mode,f=m.useRef(!1);f.current=d===i;var h=pt(m.useState(!f.current),2),p=h[0],g=h[1],v=!!f.current&&n;m.useEffect(function(){f.current&&g(!1)},[d]);var y=D({},Pb(i,c,u));r.length>1&&(y.motionAppear=!1);var b=y.onVisibleChanged;return y.onVisibleChanged=function(e){return f.current||e||g(!0),null==b?void 0:b(e)},p?null:m.createElement(Fy,{mode:i,locked:!f.current},m.createElement(oa,E({visible:v},y,{forceRender:s,removeOnLeave:!1,leavedClassName:"".concat(l,"-hidden")}),function(e){var n=e.className,r=e.style;return m.createElement(Tb,{id:t,className:n,style:r},o)}))}var zb=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Hb=["active"],Fb=m.forwardRef(function(e,t){var n=e.style,r=e.className,o=e.title,i=e.eventKey;e.warnKey;var a=e.disabled,l=e.internalPopupClose,s=e.children,c=e.itemIcon,u=e.expandIcon,d=e.popupClassName,f=e.popupOffset,h=e.popupStyle,p=e.onClick,g=e.onMouseEnter,v=e.onMouseLeave,y=e.onTitleClick,b=e.onTitleMouseEnter,x=e.onTitleMouseLeave,w=$t(e,zb),C=Dy(i),O=m.useContext(Hy),k=O.prefixCls,M=O.mode,$=O.openKeys,I=O.disabled,N=O.overflowDisabled,T=O.activeKey,L=O.selectedKeys,R=O.itemIcon,_=O.expandIcon,A=O.onItemClick,P=O.onOpenChange,B=O.onActive,z=m.useContext(Yy)._internalRenderSubMenuItem,H=m.useContext(Uy).isSubPathKey,F=Xy(),W="".concat(k,"-submenu"),G=I||a,V=m.useRef(),q=m.useRef(),X=null!=c?c:R,U=null!=u?u:_,Y=$.includes(i),K=!N&&Y,Z=H(L,i),Q=vb(i,G,b,x),J=Q.active,ee=$t(Q,Hb),te=pt(m.useState(!1),2),ne=te[0],re=te[1],oe=function(e){G||re(e)},ie=m.useMemo(function(){return J||"inline"!==M&&(ne||H([T],i))},[M,J,T,ne,i,H]),ae=yb(F.length),le=pb(function(e){null==p||p(wb(e)),A(e)}),se=C&&"".concat(C,"-popup"),ce=m.useMemo(function(){return m.createElement(bb,{icon:"horizontal"!==M?U:void 0,props:D(D({},e),{},{isOpen:K,isSubMenu:!0})},m.createElement("i",{className:"".concat(W,"-arrow")}))},[M,U,e,K,W]),ue=m.createElement("div",E({role:"menuitem",style:ae,className:"".concat(W,"-title"),tabIndex:G?null:-1,ref:V,title:"string"==typeof o?o:null,"data-menu-id":N&&C?null:C,"aria-expanded":K,"aria-haspopup":!0,"aria-controls":se,"aria-disabled":G,onClick:function(e){G||(null==y||y({key:i,domEvent:e}),"inline"===M&&P(i,!Y))},onFocus:function(){B(i)}},ee),o,ce),de=m.useRef(M);if("inline"!==M&&F.length>1?de.current="vertical":de.current=M,!N){var fe=de.current;ue=m.createElement(Bb,{mode:fe,prefixCls:W,visible:!l&&K&&"inline"!==M,popupClassName:d,popupOffset:f,popupStyle:h,popup:m.createElement(Fy,{mode:"horizontal"===fe?"vertical":fe},m.createElement(Tb,{id:se,ref:q},s)),disabled:G,onVisibleChange:function(e){"inline"!==M&&P(i,e)}},ue)}var he=m.createElement(Hp.Item,E({ref:t,role:"none"},w,{component:"li",style:n,className:S(W,"".concat(W,"-").concat(M),r,j(j(j(j({},"".concat(W,"-open"),K),"".concat(W,"-active"),ie),"".concat(W,"-selected"),Z),"".concat(W,"-disabled"),G)),onMouseEnter:function(e){oe(!0),null==g||g({key:i,domEvent:e})},onMouseLeave:function(e){oe(!1),null==v||v({key:i,domEvent:e})}}),ue,!N&&m.createElement(Db,{id:se,open:K,keyPath:F},s));return z&&(he=z(he,e,{selected:Z,active:ie,open:K,disabled:G})),m.createElement(Fy,{onItemClick:le,mode:"horizontal"===M?"vertical":M,itemIcon:X,expandIcon:U},he)}),Wb=m.forwardRef(function(e,t){var n,r=e.eventKey,o=e.children,i=Xy(r),a=Lb(o,i),l=Vy();return m.useEffect(function(){if(l)return l.registerPath(r,i),function(){l.unregisterPath(r,i)}},[i]),n=l?a:m.createElement(Fb,E({ref:t},e),a),m.createElement(qy.Provider,{value:i},n)});function Gb(e){var t=e.className,n=e.style,r=m.useContext(Hy).prefixCls;return Vy()?null:m.createElement("li",{role:"separator",className:S("".concat(r,"-item-divider"),t),style:n})}var Vb=["className","title","eventKey","children"],qb=m.forwardRef(function(e,t){var n=e.className,r=e.title;e.eventKey;var o=e.children,i=$t(e,Vb),a=m.useContext(Hy).prefixCls,l="".concat(a,"-item-group");return m.createElement("li",E({ref:t,role:"presentation"},i,{onClick:function(e){return e.stopPropagation()},className:S(l,n)}),m.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:"string"==typeof r?r:void 0},r),m.createElement("ul",{role:"group",className:"".concat(l,"-list")},o))}),Xb=m.forwardRef(function(e,t){var n=e.eventKey,r=Lb(e.children,Xy(n));return Vy()?r:m.createElement(qb,E({ref:t},js(e,["warnKey"])),r)}),Ub=["label","children","key","type","extra"];function Yb(e,t,n){var r=t.item,o=t.group,i=t.submenu,a=t.divider;return(e||[]).map(function(e,l){if(e&&"object"===O(e)){var s=e,c=s.label,u=s.children,d=s.key,f=s.type,h=s.extra,p=$t(s,Ub),g=null!=d?d:"tmp-".concat(l);return u||"group"===f?"group"===f?m.createElement(o,E({key:g},p,{title:c}),Yb(u,t,n)):m.createElement(i,E({key:g},p,{title:c}),Yb(u,t,n)):"divider"===f?m.createElement(a,E({key:g},p)):m.createElement(r,E({key:g},p,{extra:h}),c,(!!h||0===h)&&m.createElement("span",{className:"".concat(n,"-item-extra")},h))}return null}).filter(function(e){return e})}function Kb(e,t,n,r,o){var i=e,a=D({divider:Gb,item:$b,group:Xb,submenu:Wb},r);return t&&(i=Yb(t,a,o)),Lb(i,n)}var Zb=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],Qb=[],Jb=m.forwardRef(function(e,t){var n,r=e,o=r.prefixCls,i=void 0===o?"rc-menu":o,a=r.rootClassName,l=r.style,s=r.className,c=r.tabIndex,u=void 0===c?0:c,d=r.items,f=r.children,h=r.direction,p=r.id,g=r.mode,v=void 0===g?"vertical":g,b=r.inlineCollapsed,x=r.disabled,w=r.disabledOverflow,C=r.subMenuOpenDelay,O=void 0===C?.1:C,k=r.subMenuCloseDelay,M=void 0===k?.1:k,$=r.forceSubMenuRender,I=r.defaultOpenKeys,N=r.openKeys,T=r.activeKey,L=r.defaultActiveFirst,R=r.selectable,_=void 0===R||R,A=r.multiple,P=void 0!==A&&A,B=r.defaultSelectedKeys,z=r.selectedKeys,H=r.onSelect,F=r.onDeselect,W=r.inlineIndent,G=void 0===W?24:W,V=r.motion,q=r.defaultMotions,X=r.triggerSubMenuAction,U=void 0===X?"hover":X,Y=r.builtinPlacements,K=r.itemIcon,Z=r.expandIcon,Q=r.overflowedIndicator,J=void 0===Q?"...":Q,ee=r.overflowedIndicatorPopupClassName,te=r.getPopupContainer,ne=r.onClick,re=r.onOpenChange,oe=r.onKeyDown;r.openAnimation,r.openTransitionName;var ie=r._internalRenderMenuItem,ae=r._internalRenderSubMenuItem,le=r._internalComponents,se=$t(r,Zb),ce=pt(m.useMemo(function(){return[Kb(f,d,Qb,le,i),Kb(f,d,Qb,{},i)]},[f,d,le]),2),ue=ce[0],de=ce[1],fe=pt(m.useState(!1),2),he=fe[0],pe=fe[1],ge=m.useRef(),me=function(e){var t=pt(Wo(e,{value:e}),2),n=t[0],r=t[1];return m.useEffect(function(){mb+=1;var e="".concat(gb,"-").concat(mb);r("rc-menu-uuid-".concat(e))},[]),n}(p),ve="rtl"===h,ye=pt(Wo(I,{value:N,postState:function(e){return e||Qb}}),2),be=ye[0],xe=ye[1],we=function(e){function t(){xe(e),null==re||re(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?y.flushSync(t):t()},Ce=pt(m.useState(be),2),Se=Ce[0],Ee=Ce[1],Oe=m.useRef(!1),ke=pt(m.useMemo(function(){return"inline"!==v&&"vertical"!==v||!b?[v,!1]:["vertical",b]},[v,b]),2),Me=ke[0],$e=ke[1],Ie="inline"===Me,Ne=pt(m.useState(Me),2),Te=Ne[0],Le=Ne[1],Re=pt(m.useState($e),2),_e=Re[0],Ae=Re[1];m.useEffect(function(){Le(Me),Ae($e),Oe.current&&(Ie?xe(Se):we(Qb))},[Me,$e]);var Pe=pt(m.useState(0),2),je=Pe[0],Be=Pe[1],De=je>=ue.length-1||"horizontal"!==Te||w;m.useEffect(function(){Ie&&Ee(be)},[be]),m.useEffect(function(){return Oe.current=!0,function(){Oe.current=!1}},[]);var ze=hb(),He=ze.registerPath,Fe=ze.unregisterPath,We=ze.refreshOverflowKeys,Ge=ze.isSubPathKey,Ve=ze.getKeyPath,qe=ze.getKeys,Xe=ze.getSubPathKeys,Ue=m.useMemo(function(){return{registerPath:He,unregisterPath:Fe}},[He,Fe]),Ye=m.useMemo(function(){return{isSubPathKey:Ge}},[Ge]);m.useEffect(function(){We(De?Qb:ue.slice(je+1).map(function(e){return e.key}))},[je,De]);var Ke=pt(Wo(T||L&&(null===(n=ue[0])||void 0===n?void 0:n.key),{value:T}),2),Ze=Ke[0],Qe=Ke[1],Je=pb(function(e){Qe(e)}),et=pb(function(){Qe(void 0)});m.useImperativeHandle(t,function(){return{list:ge.current,focus:function(e){var t,n,r=qe(),o=sb(r,me),i=o.elements,a=o.key2element,l=o.element2key,s=ab(ge.current,i),c=null!=Ze?Ze:s[0]?l.get(s[0]):null===(t=ue.find(function(e){return!e.props.disabled}))||void 0===t?void 0:t.key,u=a.get(c);c&&u&&(null==u||null===(n=u.focus)||void 0===n||n.call(u,e))}}});var tt=pt(Wo(B||[],{value:z,postState:function(e){return Array.isArray(e)?e:null==e?Qb:[e]}}),2),nt=tt[0],rt=tt[1],ot=pb(function(e){null==ne||ne(wb(e)),function(e){if(_){var t,n=e.key,r=nt.includes(n);t=P?r?nt.filter(function(e){return e!==n}):[].concat(it(nt),[n]):[n],rt(t);var o=D(D({},e),{},{selectedKeys:t});r?null==F||F(o):null==H||H(o)}!P&&be.length&&"inline"!==Te&&we(Qb)}(e)}),at=pb(function(e,t){var n=be.filter(function(t){return t!==e});if(t)n.push(e);else if("inline"!==Te){var r=Xe(e);n=n.filter(function(e){return!r.has(e)})}It(be,n,!0)||we(n,!0)}),lt=cb(Te,Ze,ve,me,ge,qe,Ve,Qe,function(e,t){var n=null!=t?t:!be.includes(e);at(e,n)},oe);m.useEffect(function(){pe(!0)},[]);var st=m.useMemo(function(){return{_internalRenderMenuItem:ie,_internalRenderSubMenuItem:ae}},[ie,ae]),ct="horizontal"!==Te||w?ue:ue.map(function(e,t){return m.createElement(Fy,{key:e.key,overflowDisabled:t>je},e)}),ut=m.createElement(Hp,E({id:p,ref:ge,prefixCls:"".concat(i,"-overflow"),component:"ul",itemComponent:$b,className:S(i,"".concat(i,"-root"),"".concat(i,"-").concat(Te),s,j(j({},"".concat(i,"-inline-collapsed"),_e),"".concat(i,"-rtl"),ve),a),dir:h,style:l,role:"menu",tabIndex:u,data:ct,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ue.slice(-t):null;return m.createElement(Wb,{eventKey:fb,title:J,disabled:De,internalPopupClose:0===t,popupClassName:ee},n)},maxCount:"horizontal"!==Te||w?Hp.INVALIDATE:Hp.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Be(e)},onKeyDown:lt},se));return m.createElement(Yy.Provider,{value:st},m.createElement(jy.Provider,{value:me},m.createElement(Fy,{prefixCls:i,rootClassName:a,mode:Te,openKeys:be,rtl:ve,disabled:x,motion:he?V:null,defaultMotions:he?q:null,activeKey:Ze,onActive:Je,onInactive:et,selectedKeys:nt,inlineIndent:G,subMenuOpenDelay:O,subMenuCloseDelay:M,forceSubMenuRender:$,builtinPlacements:Y,triggerSubMenuAction:U,getPopupContainer:te,itemIcon:K,expandIcon:Z,onItemClick:ot,onOpenChange:at},m.createElement(Uy.Provider,{value:Ye},ut),m.createElement("div",{style:{display:"none"},"aria-hidden":!0},m.createElement(Gy.Provider,{value:Ue},de)))))}),ex=Jb;ex.Item=$b,ex.SubMenu=Wb,ex.ItemGroup=Xb,ex.Divider=Gb;var tx={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},nx=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:tx}))},rx=m.forwardRef(nx);const ox=m.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),ix=e=>{const{colorBgLayout:t,controlHeight:n,controlHeightLG:r,colorText:o,controlHeightSM:i,marginXXS:a,colorTextLightSolid:l,colorBgContainer:s}=e,c=1.25*r;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:2*n,headerPadding:`0 ${c}px`,headerColor:o,footerPadding:`${i}px ${c}px`,footerBg:t,siderBg:"#001529",triggerHeight:r+2*a,triggerBg:"#002140",triggerColor:l,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:s,lightTriggerBg:s,lightTriggerColor:o}},ax=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],lx=gi("Layout",e=>{const{antCls:t,componentCls:n,colorText:r,footerBg:o,headerHeight:i,headerPadding:a,headerColor:l,footerPadding:s,fontSize:c,bodyBg:u,headerBg:d}=e;return{[n]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:u,"&, *":{boxSizing:"border-box"},[`&${n}-has-sider`]:{flexDirection:"row",[`> ${n}, > ${n}-content`]:{width:0}},[`${n}-header, &${n}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${n}-header`]:{height:i,padding:a,color:l,lineHeight:Xt(i),background:d,[`${t}-menu`]:{lineHeight:"inherit"}},[`${n}-footer`]:{padding:s,color:r,fontSize:c,background:o},[`${n}-content`]:{flex:"auto",color:r,minHeight:0}}},ix,{deprecatedTokens:ax}),sx=gi(["Layout","Sider"],e=>{const{componentCls:t,siderBg:n,motionDurationMid:r,motionDurationSlow:o,antCls:i,triggerHeight:a,triggerColor:l,triggerBg:s,headerHeight:c,zeroTriggerWidth:u,zeroTriggerHeight:d,borderRadiusLG:f,lightSiderBg:h,lightTriggerColor:p,lightTriggerBg:g,bodyBg:m}=e;return{[t]:{position:"relative",minWidth:0,background:n,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:a},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${i}-menu${i}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${t}-children`]:{overflow:"hidden"},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:a,color:l,lineHeight:Xt(a),textAlign:"center",background:s,cursor:"pointer",transition:`all ${r}`},[`${t}-zero-width-trigger`]:{position:"absolute",top:c,insetInlineEnd:e.calc(u).mul(-1).equal(),zIndex:1,width:u,height:d,color:l,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:n,borderRadius:`0 ${Xt(f)} ${Xt(f)} 0`,cursor:"pointer",transition:`background ${o} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${o}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(u).mul(-1).equal(),borderRadius:`${Xt(f)} 0 0 ${Xt(f)}`}},"&-light":{background:h,[`${t}-trigger`]:{color:p,background:g},[`${t}-zero-width-trigger`]:{color:p,background:g,border:`1px solid ${m}`,borderInlineStart:0}}}}},ix,{deprecatedTokens:ax});const cx={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},ux=m.createContext({}),dx=(()=>{let e=0;return(t="")=>(e+=1,`${t}${e}`)})(),fx=m.forwardRef((e,t)=>{const{prefixCls:n,className:r,trigger:o,children:i,defaultCollapsed:a=!1,theme:l="dark",style:s={},collapsible:c=!1,reverseArrow:u=!1,width:d=200,collapsedWidth:f=80,zeroWidthTriggerStyle:h,breakpoint:p,onCollapse:g,onBreakpoint:v}=e,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:b}=m.useContext(ox),[x,w]=m.useState("collapsed"in e?e.collapsed:a),[C,E]=m.useState(!1);m.useEffect(()=>{"collapsed"in e&&w(e.collapsed)},[e.collapsed]);const O=(t,n)=>{"collapsed"in e||w(t),null==g||g(t,n)},{getPrefixCls:k,direction:M}=m.useContext(So),$=k("layout-sider",n),[I,N,T]=sx($),L=m.useRef(null);L.current=e=>{E(e.matches),null==v||v(e.matches),x!==e.matches&&O(e.matches,"responsive")},m.useEffect(()=>{function e(e){var t;return null===(t=L.current)||void 0===t?void 0:t.call(L,e)}let t;return void 0!==(null===window||void 0===window?void 0:window.matchMedia)&&p&&p in cx&&(t=window.matchMedia(`screen and (max-width: ${cx[p]})`),gv(t,e),e(t)),()=>{mv(t,e)}},[p]),m.useEffect(()=>{const e=dx("ant-sider-");return b.addSider(e),()=>b.removeSider(e)},[]);const R=()=>{O(!x,"clickTrigger")},_=js(y,["collapsed"]),A=x?f:d,P=(j=A,!Number.isNaN(Number.parseFloat(j))&&Number.isFinite(Number(j))?`${A}px`:String(A));var j;const B=0===Number.parseFloat(String(f||0))?m.createElement("span",{onClick:R,className:S(`${$}-zero-width-trigger`,`${$}-zero-width-trigger-${u?"right":"left"}`),style:h},o||m.createElement(rx,null)):null,D="rtl"===M==!u,z={expanded:D?m.createElement(Oc,null):m.createElement(My,null),collapsed:D?m.createElement(My,null):m.createElement(Oc,null)}[x?"collapsed":"expanded"],H=null!==o?B||m.createElement("div",{className:`${$}-trigger`,onClick:R,style:{width:P}},o||z):null,F=Object.assign(Object.assign({},s),{flex:`0 0 ${P}`,maxWidth:P,minWidth:P,width:P}),W=S($,`${$}-${l}`,{[`${$}-collapsed`]:!!x,[`${$}-has-trigger`]:c&&null!==o&&!B,[`${$}-below`]:!!C,[`${$}-zero-width`]:0===Number.parseFloat(P)},r,N,T),G=m.useMemo(()=>({siderCollapsed:x}),[x]);return I(m.createElement(ux.Provider,{value:G},m.createElement("aside",Object.assign({className:W},_,{style:F,ref:t}),m.createElement("div",{className:`${$}-children`},i),c||C&&B?H:null)))});var hx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},px=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:hx}))},gx=m.forwardRef(px);const mx=m.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});const vx=e=>{const{prefixCls:t,className:n,dashed:r}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","dashed"]),{getPrefixCls:i}=m.useContext(So),a=i("menu",t),l=S({[`${a}-item-divider-dashed`]:!!r},n);return m.createElement(Gb,Object.assign({className:l},o))},yx=e=>{var t;const{className:n,children:r,icon:o,title:i,danger:a,extra:l}=e,{prefixCls:s,firstLevel:c,direction:u,disableMenuItemTitleTooltip:d,inlineCollapsed:f}=m.useContext(mx),{siderCollapsed:h}=m.useContext(ux);let p=i;void 0===i?p=c?r:"":!1===i&&(p="");const g={title:p};h||f||(g.title=null,g.open=!1);const v=N(r).length;let y=m.createElement($b,Object.assign({},js(e,["title","icon","danger"]),{className:S({[`${s}-item-danger`]:a,[`${s}-item-only-child`]:1===(o?v+1:v)},n),title:"string"==typeof i?i:void 0}),ll(o,{className:S(m.isValidElement(o)?null===(t=o.props)||void 0===t?void 0:t.className:void 0,`${s}-item-icon`)}),(e=>{const t=null==r?void 0:r[0],n=m.createElement("span",{className:S(`${s}-title-content`,{[`${s}-title-content-with-extra`]:!!l||0===l})},r);return(!o||m.isValidElement(r)&&"span"===r.type)&&r&&e&&c&&"string"==typeof t?m.createElement("div",{className:`${s}-inline-collapsed-noicon`},t.charAt(0)):n})(f));return d||(y=m.createElement(Qv,Object.assign({},g,{placement:"rtl"===u?"left":"right",classNames:{root:`${s}-inline-collapsed-tooltip`}}),y)),y};const bx=m.createContext(null),xx=m.forwardRef((e,t)=>{const{children:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["children"]),o=m.useContext(bx),i=m.useMemo(()=>Object.assign(Object.assign({},o),r),[o,r.prefixCls,r.mode,r.selectable,r.rootClassName]),a=pe(l=n)&&he(l);var l;const s=fe(t,a?ge(n):null);return m.createElement(bx.Provider,{value:i},m.createElement(rh,{space:!0},a?m.cloneElement(n,{ref:s}):n))}),wx=e=>{const{componentCls:t,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:o,lineWidth:i,lineType:a,itemPaddingInline:l}=e;return{[`${t}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${Xt(i)} ${a} ${o}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:l},[`> ${t}-item:hover,\n        > ${t}-item-active,\n        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},Cx=({componentCls:e,menuArrowOffset:t,calc:n})=>({[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,\n    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${Xt(n(t).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${Xt(t)})`}}}}),Sx=e=>di(e),Ex=(e,t)=>{const{componentCls:n,itemColor:r,itemSelectedColor:o,subMenuItemSelectedColor:i,groupTitleColor:a,itemBg:l,subMenuItemBg:s,itemSelectedBg:c,activeBarHeight:u,activeBarWidth:d,activeBarBorderWidth:f,motionDurationSlow:h,motionEaseInOut:p,motionEaseOut:g,itemPaddingInline:m,motionDurationMid:v,itemHoverColor:y,lineType:b,colorSplit:x,itemDisabledColor:w,dangerItemColor:C,dangerItemHoverColor:S,dangerItemSelectedColor:E,dangerItemActiveBg:O,dangerItemSelectedBg:k,popupBg:M,itemHoverBg:$,itemActiveBg:I,menuSubMenuBg:N,horizontalItemSelectedColor:T,horizontalItemSelectedBg:L,horizontalItemBorderRadius:R,horizontalItemHoverBg:_}=e;return{[`${n}-${t}, ${n}-${t} > ${n}`]:{color:r,background:l,[`&${n}-root:focus-visible`]:Object.assign({},Sx(e)),[`${n}-item`]:{"&-group-title, &-extra":{color:a}},[`${n}-submenu-selected > ${n}-submenu-title`]:{color:i},[`${n}-item, ${n}-submenu-title`]:{color:r,[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},Sx(e))},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${w} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:y}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:$},"&:active":{backgroundColor:I}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:$},"&:active":{backgroundColor:I}}},[`${n}-item-danger`]:{color:C,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:S}},[`&${n}-item:active`]:{background:O}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:o,[`&${n}-item-danger`]:{color:E},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:c,[`&${n}-item-danger`]:{backgroundColor:k}},[`&${n}-submenu > ${n}`]:{backgroundColor:N},[`&${n}-popup > ${n}`]:{backgroundColor:M},[`&${n}-submenu-popup > ${n}`]:{backgroundColor:M},[`&${n}-horizontal`]:Object.assign(Object.assign({},"dark"===t?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:f,marginTop:e.calc(f).mul(-1).equal(),marginBottom:0,borderRadius:R,"&::after":{position:"absolute",insetInline:m,bottom:0,borderBottom:`${Xt(u)} solid transparent`,transition:`border-color ${h} ${p}`,content:'""'},"&:hover, &-active, &-open":{background:_,"&::after":{borderBottomWidth:u,borderBottomColor:T}},"&-selected":{color:T,backgroundColor:L,"&:hover":{backgroundColor:L},"&::after":{borderBottomWidth:u,borderBottomColor:T}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${Xt(f)} ${b} ${x}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:s},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${Xt(d)} solid ${o}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${v} ${g}`,`opacity ${v} ${g}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:E}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${v} ${p}`,`opacity ${v} ${p}`].join(",")}}}}}},Ox=e=>{const{componentCls:t,itemHeight:n,itemMarginInline:r,padding:o,menuArrowSize:i,marginXS:a,itemMarginBlock:l,itemWidth:s,itemPaddingInline:c}=e,u=e.calc(i).add(o).add(a).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:n,lineHeight:Xt(n),paddingInline:c,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:l,width:s},[`> ${t}-item,\n            > ${t}-submenu > ${t}-submenu-title`]:{height:n,lineHeight:Xt(n)},[`${t}-item-group-list ${t}-submenu-title,\n            ${t}-submenu-title`]:{paddingInlineEnd:u}}},kx=e=>{const{componentCls:t,iconCls:n,itemHeight:r,colorTextLightSolid:o,dropdownWidth:i,controlHeightLG:a,motionEaseOut:l,paddingXL:s,itemMarginInline:c,fontSizeLG:u,motionDurationFast:d,motionDurationSlow:f,paddingXS:h,boxShadowSecondary:p,collapsedWidth:g,collapsedIconSize:m}=e,v={height:r,lineHeight:Xt(r),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},Ox(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},Ox(e)),{boxShadow:p})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:i,maxHeight:`calc(100vh - ${Xt(e.calc(a).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${f}`,`background ${f}`,`padding ${d} ${l}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:v,[`& ${t}-item-group-title`]:{paddingInlineStart:s}},[`${t}-item`]:v}},{[`${t}-inline-collapsed`]:{width:g,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:u,textAlign:"center"}}},[`> ${t}-item,\n          > ${t}-item-group > ${t}-item-group-list > ${t}-item,\n          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,\n          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${Xt(e.calc(m).div(2).equal())} - ${Xt(c)})`,textOverflow:"clip",[`\n            ${t}-submenu-arrow,\n            ${t}-submenu-expand-icon\n          `]:{opacity:0},[`${t}-item-icon, ${n}`]:{margin:0,fontSize:m,lineHeight:Xt(r),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:o}},[`${t}-item-group-title`]:Object.assign(Object.assign({},ci),{paddingInline:h})}}]},Mx=e=>{const{componentCls:t,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:o,motionEaseOut:i,iconCls:a,iconSize:l,iconMarginInlineEnd:s}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding calc(${n} + 0.1s) ${o}`].join(","),[`${t}-item-icon, ${a}`]:{minWidth:l,fontSize:l,transition:[`font-size ${r} ${i}`,`margin ${n} ${o}`,`color ${n}`].join(","),"+ span":{marginInlineStart:s,opacity:1,transition:[`opacity ${n} ${o}`,`margin ${n}`,`color ${n}`].join(",")}},[`${t}-item-icon`]:Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),[`&${t}-item-only-child`]:{[`> ${a}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},$x=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:r,borderRadius:o,menuArrowSize:i,menuArrowOffset:a}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:i,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(i).mul(.6).equal(),height:e.calc(i).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:o,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${Xt(e.calc(a).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${Xt(a)})`}}}}},Ix=e=>{const{antCls:t,componentCls:n,fontSize:r,motionDurationSlow:o,motionDurationMid:i,motionEaseInOut:a,paddingXS:l,padding:s,colorSplit:c,lineWidth:u,zIndexPopup:d,borderRadiusLG:f,subMenuItemBorderRadius:h,menuArrowSize:p,menuArrowOffset:g,lineType:m,groupTitleLineHeight:v,groupTitleFontSize:y}=e;return[{"":{[n]:Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ui(e)),{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${o} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${Xt(l)} ${Xt(s)}`,fontSize:y,lineHeight:v,transition:`all ${o}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${o} ${a}`,`background ${o} ${a}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${o} ${a}`,`background ${o} ${a}`,`padding ${i} ${a}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${o} ${a}`,`padding ${o} ${a}`].join(",")},[`${n}-title-content`]:{transition:`color ${o}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${n}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:m,borderWidth:0,borderTopWidth:u,marginBlock:u,padding:0,"&-dashed":{borderStyle:"dashed"}}}),Mx(e)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${Xt(e.calc(r).mul(2).equal())} ${Xt(s)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:d,borderRadius:f,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:f},Mx(e)),$x(e)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:h},[`${n}-submenu-title::after`]:{transition:`transform ${o} ${a}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),$x(e)),{[`&-inline-collapsed ${n}-submenu-arrow,\n        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${Xt(g)})`},"&::after":{transform:`rotate(45deg) translateX(${Xt(e.calc(g).mul(-1).equal())})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(${Xt(e.calc(p).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${Xt(e.calc(g).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${Xt(g)})`}}})},{[`${t}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},Nx=e=>{var t,n,r;const{colorPrimary:o,colorError:i,colorTextDisabled:a,colorErrorBg:l,colorText:s,colorTextDescription:c,colorBgContainer:u,colorFillAlter:d,colorFillContent:f,lineWidth:h,lineWidthBold:p,controlItemBgActive:g,colorBgTextHover:m,controlHeightLG:v,lineHeight:y,colorBgElevated:b,marginXXS:x,padding:w,fontSize:C,controlHeightSM:S,fontSizeLG:E,colorTextLightSolid:O,colorErrorHover:k}=e,M=null!==(t=e.activeBarWidth)&&void 0!==t?t:0,$=null!==(n=e.activeBarBorderWidth)&&void 0!==n?n:h,I=null!==(r=e.itemMarginInline)&&void 0!==r?r:e.marginXXS,N=new Wr(O).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:s,itemColor:s,colorItemTextHover:s,itemHoverColor:s,colorItemTextHoverHorizontal:o,horizontalItemHoverColor:o,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:o,itemSelectedColor:o,subMenuItemSelectedColor:o,colorItemTextSelectedHorizontal:o,horizontalItemSelectedColor:o,colorItemBg:u,itemBg:u,colorItemBgHover:m,itemHoverBg:m,colorItemBgActive:f,itemActiveBg:g,colorSubItemBg:d,subMenuItemBg:d,colorItemBgSelected:g,itemSelectedBg:g,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:M,colorActiveBarHeight:p,activeBarHeight:p,colorActiveBarBorderSize:h,activeBarBorderWidth:$,colorItemTextDisabled:a,itemDisabledColor:a,colorDangerItemText:i,dangerItemColor:i,colorDangerItemTextHover:i,dangerItemHoverColor:i,colorDangerItemTextSelected:i,dangerItemSelectedColor:i,colorDangerItemBgActive:l,dangerItemActiveBg:l,colorDangerItemBgSelected:l,dangerItemSelectedBg:l,itemMarginInline:I,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:v,groupTitleLineHeight:y,collapsedWidth:2*v,popupBg:b,itemMarginBlock:x,itemPaddingInline:w,horizontalLineHeight:1.15*v+"px",iconSize:C,iconMarginInlineEnd:S-C,collapsedIconSize:E,groupTitleFontSize:C,darkItemDisabledColor:new Wr(O).setA(.25).toRgbString(),darkItemColor:N,darkDangerItemColor:i,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:O,darkItemSelectedBg:o,darkDangerItemSelectedBg:i,darkItemHoverBg:"transparent",darkGroupTitleColor:N,darkItemHoverColor:O,darkDangerItemHoverColor:k,darkDangerItemSelectedColor:O,darkDangerItemActiveBg:i,itemWidth:M?`calc(100% + ${$}px)`:`calc(100% - ${2*I}px)`}},Tx=e=>{var t;const{popupClassName:n,icon:r,title:o,theme:i}=e,a=m.useContext(mx),{prefixCls:l,inlineCollapsed:s,theme:c}=a,u=Xy();let d;if(r){const e=m.isValidElement(o)&&"span"===o.type;d=m.createElement(m.Fragment,null,ll(r,{className:S(m.isValidElement(r)?null===(t=r.props)||void 0===t?void 0:t.className:void 0,`${l}-item-icon`)}),e?o:m.createElement("span",{className:`${l}-title-content`},o))}else d=s&&!u.length&&o&&"string"==typeof o?m.createElement("div",{className:`${l}-inline-collapsed-noicon`},o.charAt(0)):m.createElement("span",{className:`${l}-title-content`},o);const f=m.useMemo(()=>Object.assign(Object.assign({},a),{firstLevel:!1}),[a]),[h]=Yl("Menu");return m.createElement(mx.Provider,{value:f},m.createElement(Wb,Object.assign({},js(e,["icon"]),{title:d,popupClassName:S(l,n,`${l}-${i||c}`),popupStyle:Object.assign({zIndex:h},e.popupStyle)})))};function Lx(e){return null===e||!1===e}const Rx={item:yx,submenu:Tx,divider:vx},_x=m.forwardRef((e,t)=>{var n;const r=m.useContext(bx),o=r||{},{getPrefixCls:i,getPopupContainer:a,direction:l,menu:s}=m.useContext(So),c=i(),{prefixCls:u,className:d,style:f,theme:h="light",expandIcon:p,_internalDisableMenuItemTitleTooltip:g,inlineCollapsed:v,siderCollapsed:y,rootClassName:b,mode:x,selectable:w,onClick:C,overflowedIndicatorPopupClassName:E}=e,O=js(function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),["collapsedWidth"]);null===(n=o.validator)||void 0===n||n.call(o,{mode:x});const k=zo((...e)=>{var t;null==C||C.apply(void 0,e),null===(t=o.onClick)||void 0===t||t.call(o)}),M=o.mode||x,$=null!=w?w:o.selectable,I=null!=v?v:y,N={horizontal:{motionName:`${c}-slide-up`},inline:As(c),other:{motionName:`${c}-zoom-big`}},T=i("menu",u||o.prefixCls),L=Nl(T),[R,_,A]=((e,t=e,n=!0)=>gi("Menu",e=>{const{colorBgElevated:t,controlHeightLG:n,fontSize:r,darkItemColor:o,darkDangerItemColor:i,darkItemBg:a,darkSubMenuItemBg:l,darkItemSelectedColor:s,darkItemSelectedBg:c,darkDangerItemSelectedBg:u,darkItemHoverBg:d,darkGroupTitleColor:f,darkItemHoverColor:h,darkItemDisabledColor:p,darkDangerItemHoverColor:g,darkDangerItemSelectedColor:m,darkDangerItemActiveBg:v,popupBg:y,darkPopupBg:b}=e,x=e.calc(r).div(7).mul(5).equal(),w=Xo(e,{menuArrowSize:x,menuHorizontalHeight:e.calc(n).mul(1.15).equal(),menuArrowOffset:e.calc(x).mul(.25).equal(),menuSubMenuBg:t,calc:e.calc,popupBg:y}),C=Xo(w,{itemColor:o,itemHoverColor:h,groupTitleColor:f,itemSelectedColor:s,subMenuItemSelectedColor:s,itemBg:a,popupBg:b,subMenuItemBg:l,itemActiveBg:"transparent",itemSelectedBg:c,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:d,itemDisabledColor:p,dangerItemColor:i,dangerItemHoverColor:g,dangerItemSelectedColor:m,dangerItemActiveBg:v,dangerItemSelectedBg:u,menuSubMenuBg:l,horizontalItemSelectedColor:s,horizontalItemSelectedBg:c});return[Ix(w),wx(w),kx(w),Ex(w,"light"),Ex(C,"dark"),Cx(w),Ac(w),iu(w,"slide-up"),iu(w,"slide-down"),bu(w,"zoom-big")]},Nx,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:n,unitless:{groupTitleLineHeight:!0}})(e,t))(T,L,!r),P=S(`${T}-${h}`,null==s?void 0:s.className,d),j=m.useMemo(()=>{var e,t;if("function"==typeof p||Lx(p))return p||null;if("function"==typeof o.expandIcon||Lx(o.expandIcon))return o.expandIcon||null;if("function"==typeof(null==s?void 0:s.expandIcon)||Lx(null==s?void 0:s.expandIcon))return(null==s?void 0:s.expandIcon)||null;const n=null!==(e=null!=p?p:null==o?void 0:o.expandIcon)&&void 0!==e?e:null==s?void 0:s.expandIcon;return ll(n,{className:S(`${T}-submenu-expand-icon`,m.isValidElement(n)?null===(t=n.props)||void 0===t?void 0:t.className:void 0)})},[p,null==o?void 0:o.expandIcon,null==s?void 0:s.expandIcon,T]),B=m.useMemo(()=>({prefixCls:T,inlineCollapsed:I||!1,direction:l,firstLevel:!0,theme:h,mode:M,disableMenuItemTitleTooltip:g}),[T,I,l,g,h]);return R(m.createElement(bx.Provider,{value:null},m.createElement(mx.Provider,{value:B},m.createElement(ex,Object.assign({getPopupContainer:a,overflowedIndicator:m.createElement(gx,null),overflowedIndicatorPopupClassName:S(T,`${T}-${h}`,E),mode:M,selectable:$,onClick:k},O,{inlineCollapsed:I,style:Object.assign(Object.assign({},null==s?void 0:s.style),f),className:P,prefixCls:T,direction:l,defaultMotions:N,expandIcon:j,ref:t,rootClassName:S(b,_,o.rootClassName,A,L),_internalComponents:Rx})))))}),Ax=m.forwardRef((e,t)=>{const n=m.useRef(null),r=m.useContext(ux);return m.useImperativeHandle(t,()=>({menu:n.current,focus:e=>{var t;null===(t=n.current)||void 0===t||t.focus(e)}})),m.createElement(_x,Object.assign({ref:n},e,r))});Ax.Item=yx,Ax.SubMenu=Tx,Ax.Divider=vx,Ax.ItemGroup=Xb;const Px=e=>{const{componentCls:t,menuCls:n,colorError:r,colorTextLightSolid:o}=e,i=`${n}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${n} ${i}`]:{[`&${i}-danger:not(${i}-disabled)`]:{color:r,"&:hover":{color:o,backgroundColor:r}}}}}},jx=e=>{const{componentCls:t,menuCls:n,zIndexPopup:r,dropdownArrowDistance:o,sizePopupArrow:i,antCls:a,iconCls:l,motionDurationMid:s,paddingBlock:c,fontSize:u,dropdownEdgeChildPadding:d,colorTextDisabled:f,fontSizeIcon:h,controlPaddingHorizontal:p,colorBgElevated:g}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:e.calc(i).div(2).sub(o).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${a}-btn`]:{[`& > ${l}-down, & > ${a}-btn-icon > ${l}-down`]:{fontSize:h}},[`${t}-wrap`]:{position:"relative",[`${a}-btn > ${l}-down`]:{fontSize:h},[`${l}-down::before`]:{transition:`transform ${s}`}},[`${t}-wrap-open`]:{[`${l}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${a}-slide-down-enter${a}-slide-down-enter-active${t}-placement-bottomLeft,\n          &${a}-slide-down-appear${a}-slide-down-appear-active${t}-placement-bottomLeft,\n          &${a}-slide-down-enter${a}-slide-down-enter-active${t}-placement-bottom,\n          &${a}-slide-down-appear${a}-slide-down-appear-active${t}-placement-bottom,\n          &${a}-slide-down-enter${a}-slide-down-enter-active${t}-placement-bottomRight,\n          &${a}-slide-down-appear${a}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:Kc},[`&${a}-slide-up-enter${a}-slide-up-enter-active${t}-placement-topLeft,\n          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-placement-topLeft,\n          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-placement-top,\n          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-placement-top,\n          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-placement-topRight,\n          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-placement-topRight`]:{animationName:Qc},[`&${a}-slide-down-leave${a}-slide-down-leave-active${t}-placement-bottomLeft,\n          &${a}-slide-down-leave${a}-slide-down-leave-active${t}-placement-bottom,\n          &${a}-slide-down-leave${a}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:Zc},[`&${a}-slide-up-leave${a}-slide-up-leave-active${t}-placement-topLeft,\n          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-placement-top,\n          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Jc}}},Dv(e,g,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},ui(e)),{[n]:Object.assign(Object.assign({padding:d,listStyleType:"none",backgroundColor:g,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},fi(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${n}-item-group-title`]:{padding:`${Xt(c)} ${Xt(p)}`,color:e.colorTextDescription,transition:`all ${s}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:u,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${n}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${s}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${n}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${Xt(c)} ${Xt(p)}`,color:e.colorText,fontWeight:"normal",fontSize:u,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${s}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},fi(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:f,cursor:"not-allowed","&:hover":{color:f,backgroundColor:g,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${Xt(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorIcon,fontSize:h,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${Xt(e.marginXS)}`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:e.calc(p).add(e.fontSizeSM).equal()},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:f,backgroundColor:g,cursor:"not-allowed"}},[`${n}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[iu(e,"slide-up"),iu(e,"slide-down"),Yc(e,"move-up"),Yc(e,"move-down"),bu(e,"zoom-big")]]},Bx=gi("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:n,paddingXXS:r,componentCls:o}=e,i=Xo(e,{menuCls:`${o}-menu`,dropdownArrowDistance:e.calc(n).div(2).add(t).equal(),dropdownEdgeChildPadding:r});return[jx(i),Px(i)]},e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},jv({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),Av(e)),{resetStyle:!1}),Dx=e=>{var t;const{menu:n,arrow:r,prefixCls:o,children:i,trigger:a,disabled:l,dropdownRender:s,popupRender:c,getPopupContainer:u,overlayClassName:d,rootClassName:f,overlayStyle:h,open:p,onOpenChange:g,visible:v,onVisibleChange:y,mouseEnterDelay:b=.15,mouseLeaveDelay:x=.1,autoAdjustOverflow:w=!0,placement:C="",overlay:E,transitionName:O,destroyOnHidden:k,destroyPopupOnHide:M}=e,{getPopupContainer:$,getPrefixCls:I,direction:N,dropdown:T}=m.useContext(So),L=c||s;Cr();const R=m.useMemo(()=>{const e=I();return void 0!==O?O:C.includes("top")?`${e}-slide-down`:`${e}-slide-up`},[I,C,O]),_=m.useMemo(()=>C?C.includes("Center")?C.slice(0,C.indexOf("Center")):C:"rtl"===N?"bottomRight":"bottomLeft",[C,N]),A=I("dropdown",o),P=Nl(A),[j,B,D]=Bx(A,P),[,z]=si(),H=m.Children.only("object"!=typeof(F=i)&&"function"!=typeof F||null===F?m.createElement("span",null,i):i);var F;const W=ll(H,{className:S(`${A}-trigger`,{[`${A}-rtl`]:"rtl"===N},H.props.className),disabled:null!==(t=H.props.disabled)&&void 0!==t?t:l}),G=l?[]:a,V=!!(null==G?void 0:G.includes("contextMenu")),[q,X]=Wo(!1,{value:null!=p?p:v}),U=zo(e=>{null==g||g(e,{source:"trigger"}),null==y||y(e),X(e)}),Y=S(d,f,B,D,P,null==T?void 0:T.className,{[`${A}-rtl`]:"rtl"===N}),K=Wv({arrowPointAtCenter:"object"==typeof r&&r.pointAtCenter,autoAdjustOverflow:w,offset:z.marginXXS,arrowWidth:r?z.sizePopupArrow:0,borderRadius:z.borderRadius}),Z=zo(()=>{(null==n?void 0:n.selectable)&&(null==n?void 0:n.multiple)||(null==g||g(!1,{source:"menu"}),X(!1))}),[Q,J]=Yl("Dropdown",null==h?void 0:h.zIndex);let ee=m.createElement(Py,Object.assign({alignPoint:V},js(e,["rootClassName"]),{mouseEnterDelay:b,mouseLeaveDelay:x,visible:q,builtinPlacements:K,arrow:!!r,overlayClassName:Y,prefixCls:A,getPopupContainer:u||$,transitionName:R,trigger:G,overlay:()=>{let e;return e=(null==n?void 0:n.items)?m.createElement(Ax,Object.assign({},n)):"function"==typeof E?E():E,L&&(e=L(e)),e=m.Children.only("string"==typeof e?m.createElement("span",null,e):e),m.createElement(xx,{prefixCls:`${A}-menu`,rootClassName:S(D,P),expandIcon:m.createElement("span",{className:`${A}-menu-submenu-arrow`},"rtl"===N?m.createElement(My,{className:`${A}-menu-submenu-arrow-icon`}):m.createElement(Oc,{className:`${A}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Z,validator:({mode:e})=>{}},e)},placement:_,onVisibleChange:U,overlayStyle:Object.assign(Object.assign(Object.assign({},null==T?void 0:T.style),h),{zIndex:Q}),autoDestroy:null!=k?k:M}),W);return Q&&(ee=m.createElement(Vl.Provider,{value:J},ee)),j(ee)},zx=yp(Dx,"align",void 0,"dropdown",e=>e);Dx._InternalPanelDoNotUseOrYouWillBeFired=e=>m.createElement(zx,Object.assign({},e),m.createElement("span",null));const Hx=({children:e})=>{const{getPrefixCls:t}=m.useContext(So),n=t("breadcrumb");return m.createElement("li",{className:`${n}-separator`,"aria-hidden":"true"},""===e?e:e||"/")};Hx.__ANT_BREADCRUMB_SEPARATOR=!0;function Fx(e,t,n,r){if(null==n)return null;const{className:o,onClick:i}=t,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["className","onClick"]),l=Object.assign(Object.assign({},ol(a,{data:!0,aria:!0})),{onClick:i});return void 0!==r?m.createElement("a",Object.assign({},l,{className:S(`${e}-link`,o),href:r}),n):m.createElement("span",Object.assign({},l,{className:S(`${e}-link`,o)}),n)}function Wx(e,t){return(n,r,o,i,a)=>{if(t)return t(n,r,o,i);const l=function(e,t){if(void 0===e.title||null===e.title)return null;const n=Object.keys(t).join("|");return"object"==typeof e.title?e.title:String(e.title).replace(new RegExp(`:(${n})`,"g"),(e,n)=>t[n]||e)}(n,r);return Fx(e,n,l,a)}}var Gx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Vx=e=>{const{prefixCls:t,separator:n="/",children:r,menu:o,overlay:i,dropdownProps:a,href:l}=e,s=(e=>{if(o||i){const n=Object.assign({},a);if(o){const e=o||{},{items:t}=e,r=Gx(e,["items"]);n.menu=Object.assign(Object.assign({},r),{items:null==t?void 0:t.map((e,t)=>{var{key:n,title:r,label:o,path:i}=e,a=Gx(e,["key","title","label","path"]);let s=null!=o?o:r;return i&&(s=m.createElement("a",{href:`${l}${i}`},s)),Object.assign(Object.assign({},a),{key:null!=n?n:t,label:s})})})}else i&&(n.overlay=i);return m.createElement(Dx,Object.assign({placement:"bottom"},n),m.createElement("span",{className:`${t}-overlay-link`},e,m.createElement(ov,null)))}return e})(r);return null!=s?m.createElement(m.Fragment,null,m.createElement("li",null,s),n&&m.createElement(Hx,null,n)):null},qx=e=>{const{prefixCls:t,children:n,href:r}=e,o=Gx(e,["prefixCls","children","href"]),{getPrefixCls:i}=m.useContext(So),a=i("breadcrumb",t);return m.createElement(Vx,Object.assign({},o,{prefixCls:a}),Fx(a,o,n,r))};qx.__ANT_BREADCRUMB_ITEM=!0;const Xx=gi("Breadcrumb",e=>(e=>{const{componentCls:t,iconCls:n,calc:r}=e;return{[t]:Object.assign(Object.assign({},ui(e)),{color:e.itemColor,fontSize:e.fontSize,[n]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${Xt(e.paddingXXS)}`,borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:r(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},fi(e)),"li:last-child":{color:e.lastItemColor},[`${t}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${t}-link`]:{[`\n          > ${n} + span,\n          > ${n} + a\n        `]:{marginInlineStart:e.marginXXS}},[`${t}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:`0 ${Xt(e.paddingXXS)}`,marginInline:r(e.marginXXS).mul(-1).equal(),[`> ${n}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}})(Xo(e,{})),e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS}));var Ux=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Yx(e){const{breadcrumbName:t,children:n}=e,r=Ux(e,["breadcrumbName","children"]),o=Object.assign({title:t},r);return n&&(o.menu={items:n.map(e=>{var{breadcrumbName:t}=e,n=Ux(e,["breadcrumbName"]);return Object.assign(Object.assign({},n),{title:t})})}),o}const Kx=e=>{const{prefixCls:t,separator:n="/",style:r,className:o,rootClassName:i,routes:a,items:l,children:s,itemRender:c,params:u={}}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:f,direction:h,breadcrumb:p}=m.useContext(So);let g;const v=f("breadcrumb",t),[y,b,x]=Xx(v),w=function(e,t){return m.useMemo(()=>e||(t?t.map(Yx):null),[e,t])}(l,a),C=Wx(v,c);if(w&&w.length>0){const e=[],t=l||a;g=w.map((r,o)=>{const{path:i,key:a,type:l,menu:s,overlay:c,onClick:d,className:f,separator:h,dropdownProps:p}=r,g=((e,t)=>{if(void 0===t)return t;let n=(t||"").replace(/^\//,"");return Object.keys(e).forEach(t=>{n=n.replace(`:${t}`,e[t])}),n})(u,i);void 0!==g&&e.push(g);const y=null!=a?a:o;if("separator"===l)return m.createElement(Hx,{key:y},h);const b={},x=o===w.length-1;s?b.menu=s:c&&(b.overlay=c);let{href:S}=r;return e.length&&void 0!==g&&(S=`#/${e.join("/")}`),m.createElement(Vx,Object.assign({key:y},b,ol(r,{data:!0,aria:!0}),{className:f,dropdownProps:p,href:S,separator:x?"":n,onClick:d,prefixCls:v}),C(r,u,t,e,S))})}else if(s){const e=N(s).length;g=N(s).map((t,r)=>{if(!t)return t;return ll(t,{separator:r===e-1?"":n,key:r})})}const E=S(v,null==p?void 0:p.className,{[`${v}-rtl`]:"rtl"===h},o,i,b,x),O=Object.assign(Object.assign({},null==p?void 0:p.style),r);return y(m.createElement("nav",Object.assign({className:E,style:O},d),m.createElement("ol",null,g)))};Kx.Item=qx,Kx.Separator=Hx;var Zx={exports:{}};Zx.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",i="minute",a="hour",l="day",s="week",c="month",u="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,c),i=n-o<0,a=t.clone().add(r+(i?-1:1),c);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:s,d:l,D:f,h:a,m:i,s:o,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",x={};x[b]=m;var w="$isDayjsObject",C=function(e){return e instanceof k||!(!e||!e[w])},S=function e(t,n,r){var o;if(!t)return b;if("string"==typeof t){var i=t.toLowerCase();x[i]&&(o=i),n&&(x[i]=n,o=i);var a=t.split("-");if(!o&&a.length>1)return e(a[0])}else{var l=t.name;x[l]=t,o=l}return!r&&o&&(b=o),o||!r&&b},E=function(e,t){if(C(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},O=y;O.l=S,O.i=C,O.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function m(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var v=m.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(O.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return O},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return E(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<E(e)},v.$g=function(e,t,n){return O.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!O.u(t)||t,u=O.p(e),h=function(e,t){var o=O.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(l)},p=function(e,t){return O.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,m=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?h(1,0):h(31,11);case c:return r?h(1,m):h(0,m+1);case s:var b=this.$locale().weekStart||0,x=(g<b?g+7:g)-b;return h(r?v-x:v+(6-x),m);case l:case f:return p(y+"Hours",0);case a:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case o:return p(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,s=O.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[l]=u+"Date",n[f]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[a]=u+"Hours",n[i]=u+"Minutes",n[o]=u+"Seconds",n[r]=u+"Milliseconds",n)[s],p=s===l?this.$D+(t-this.$W):t;if(s===c||s===d){var g=this.clone().set(f,1);g.$d[h](p),g.init(),this.$d=g.set(f,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[O.p(e)]()},v.add=function(r,u){var f,h=this;r=Number(r);var p=O.p(u),g=function(e){var t=E(h);return O.w(t.date(t.date()+Math.round(e*r)),h)};if(p===c)return this.set(c,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===l)return g(1);if(p===s)return g(7);var m=(f={},f[i]=t,f[a]=n,f[o]=e,f)[p]||1,v=this.$d.getTime()+r*m;return O.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=O.z(this),i=this.$H,a=this.$m,l=this.$M,s=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].slice(0,i)},f=function(e){return O.s(i%12||12,e,"0")},p=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(g,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return O.s(t.$y,4,"0");case"M":return l+1;case"MM":return O.s(l+1,2,"0");case"MMM":return d(n.monthsShort,l,c,3);case"MMMM":return d(c,l);case"D":return t.$D;case"DD":return O.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,s,2);case"ddd":return d(n.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(i);case"HH":return O.s(i,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(i,a,!0);case"A":return p(i,a,!1);case"m":return String(a);case"mm":return O.s(a,2,"0");case"s":return String(t.$s);case"ss":return O.s(t.$s,2,"0");case"SSS":return O.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,f,h){var p,g=this,m=O.p(f),v=E(r),y=(v.utcOffset()-this.utcOffset())*t,b=this-v,x=function(){return O.m(g,v)};switch(m){case d:p=x()/12;break;case c:p=x();break;case u:p=x()/3;break;case s:p=(b-y)/6048e5;break;case l:p=(b-y)/864e5;break;case a:p=b/n;break;case i:p=b/t;break;case o:p=b/e;break;default:p=b}return h?p:O.a(p)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return x[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return O.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},m}(),M=k.prototype;return E.prototype=M,[["$ms",r],["$s",o],["$m",i],["$H",a],["$W",l],["$M",c],["$y",d],["$D",f]].forEach(function(e){M[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),E.extend=function(e,t){return e.$i||(e(t,k,E),e.$i=!0),E},E.locale=S,E.isDayjs=C,E.unix=function(e){return E(1e3*e)},E.en=x[b],E.Ls=x,E.p={},E}();const Qx=h(Zx.exports);var Jx={exports:{}};Jx.exports=function(e,t){t.prototype.weekday=function(e){var t=this.$locale().weekStart||0,n=this.$W,r=(n<t?n+7:n)-t;return this.$utils().u(e)?r:this.subtract(r,"day").add(e,"day")}};const ew=h(Jx.exports);var tw={exports:{}};tw.exports=function(e,t,n){var r=t.prototype,o=function(e){return e&&(e.indexOf?e:e.s)},i=function(e,t,n,r,i){var a=e.name?e:e.$locale(),l=o(a[t]),s=o(a[n]),c=l||s.map(function(e){return e.slice(0,r)});if(!i)return c;var u=a.weekStart;return c.map(function(e,t){return c[(t+(u||0))%7]})},a=function(){return n.Ls[n.locale()]},l=function(e,t){return e.formats[t]||e.formats[t.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})},s=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):i(e,"months")},monthsShort:function(t){return t?t.format("MMM"):i(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):i(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):i(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):i(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return l(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return s.bind(this)()},n.localeData=function(){var e=a();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return l(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return i(a(),"months")},n.monthsShort=function(){return i(a(),"monthsShort","months",3)},n.weekdays=function(e){return i(a(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return i(a(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return i(a(),"weekdaysMin","weekdays",2,e)}};const nw=h(tw.exports);var rw,ow,iw={exports:{}};const aw=h(iw.exports=(rw="week",ow="year",function(e,t,n){var r=t.prototype;r.week=function(e){if(void 0===e&&(e=null),null!==e)return this.add(7*(e-this.week()),"day");var t=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var r=n(this).startOf(ow).add(1,ow).date(t),o=n(this).endOf(rw);if(r.isBefore(o))return 1}var i=n(this).startOf(ow).date(t).startOf(rw).subtract(1,"millisecond"),a=this.diff(i,rw,!0);return a<0?n(this).startOf("week").week():Math.ceil(a)},r.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}));var lw={exports:{}};lw.exports=function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return 1===t&&11===e?n+1:0===e&&t>=52?n-1:n}};const sw=h(lw.exports);var cw={exports:{}};cw.exports=function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return r.bind(this)(e);var o=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return o.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return o.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return o.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}});return r.bind(this)(i)}};const uw=h(cw.exports);var dw={exports:{}};dw.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,r=/\d\d/,o=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,a={},l=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=a[e];return t&&(t.indexOf?t:t.s.concat(t.f))},d=function(e,t){var n,r=a.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},f={A:[i,function(e){this.afternoon=d(e,!1)}],a:[i,function(e){this.afternoon=d(e,!0)}],Q:[n,function(e){this.month=3*(e-1)+1}],S:[n,function(e){this.milliseconds=100*+e}],SS:[r,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[o,s("seconds")],ss:[o,s("seconds")],m:[o,s("minutes")],mm:[o,s("minutes")],H:[o,s("hours")],h:[o,s("hours")],HH:[o,s("hours")],hh:[o,s("hours")],D:[o,s("day")],DD:[r,s("day")],Do:[i,function(e){var t=a.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],w:[o,s("week")],ww:[r,s("week")],M:[o,s("month")],MM:[r,s("month")],MMM:[i,function(e){var t=u("months"),n=(u("monthsShort")||t.map(function(e){return e.slice(0,3)})).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[r,function(e){this.year=l(e)}],YYYY:[/\d{4}/,s("year")],Z:c,ZZ:c};function h(n){var r,o;r=n,o=a&&a.formats;for(var i=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})})).match(t),l=i.length,s=0;s<l;s+=1){var c=i[s],u=f[c],d=u&&u[0],h=u&&u[1];i[s]=h?{regex:d,parser:h}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<l;n+=1){var o=i[n];if("string"==typeof o)r+=o.length;else{var a=o.regex,s=o.parser,c=e.slice(r),u=a.exec(c)[0];s.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(l=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,i=e.args;this.$u=r;var l=i[1];if("string"==typeof l){var s=!0===i[2],c=!0===i[3],u=s||c,d=i[2];c&&(d=i[2]),a=this.$locale(),!s&&d&&(a=n.Ls[d]),this.$d=function(e,t,n,r){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var o=h(t)(e),i=o.year,a=o.month,l=o.day,s=o.hours,c=o.minutes,u=o.seconds,d=o.milliseconds,f=o.zone,p=o.week,g=new Date,m=l||(i||a?1:g.getDate()),v=i||g.getFullYear(),y=0;i&&!a||(y=a>0?a-1:g.getMonth());var b,x=s||0,w=c||0,C=u||0,S=d||0;return f?new Date(Date.UTC(v,y,m,x,w,C,S+60*f.offset*1e3)):n?new Date(Date.UTC(v,y,m,x,w,C,S)):(b=new Date(v,y,m,x,w,C,S),p&&(b=r(b).week(p).toDate()),b)}catch(E){return new Date("")}}(t,l,r,n),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(l)&&(this.$d=new Date("")),a={}}else if(l instanceof Array)for(var f=l.length,p=1;p<=f;p+=1){i[1]=l[p-1];var g=n.apply(this,i);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}p===f&&(this.$d=new Date(""))}else o.call(this,e)}}}();const fw=h(dw.exports);Qx.extend(fw),Qx.extend(uw),Qx.extend(ew),Qx.extend(nw),Qx.extend(aw),Qx.extend(sw),Qx.extend(function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=(e||"").replace("Wo","wo");return r.bind(this)(t)}});var hw={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},pw=function(e){return hw[e]||e.split("_")[0]},gw={getNow:function(){var e=Qx();return"function"==typeof e.tz?e.tz():e},getFixedDate:function(e){return Qx(e,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(e){return e.endOf("month")},getWeekDay:function(e){var t=e.locale("en");return t.weekday()+t.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},getMillisecond:function(e){return e.millisecond()},addYear:function(e,t){return e.add(t,"year")},addMonth:function(e,t){return e.add(t,"month")},addDate:function(e,t){return e.add(t,"day")},setYear:function(e,t){return e.year(t)},setMonth:function(e,t){return e.month(t)},setDate:function(e,t){return e.date(t)},setHour:function(e,t){return e.hour(t)},setMinute:function(e,t){return e.minute(t)},setSecond:function(e,t){return e.second(t)},setMillisecond:function(e,t){return e.millisecond(t)},isAfter:function(e,t){return e.isAfter(t)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return Qx().locale(pw(e)).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,t){return t.locale(pw(e)).weekday(0)},getWeek:function(e,t){return t.locale(pw(e)).week()},getShortWeekDays:function(e){return Qx().locale(pw(e)).localeData().weekdaysMin()},getShortMonths:function(e){return Qx().locale(pw(e)).localeData().monthsShort()},format:function(e,t,n){return t.locale(pw(e)).format(n)},parse:function(e,t,n){for(var r=pw(e),o=0;o<n.length;o+=1){var i=n[o],a=t;if(i.includes("wo")||i.includes("Wo")){for(var l=a.split("-")[0],s=a.split("-")[1],c=Qx(l,"YYYY").startOf("year").locale(r),u=0;u<=52;u+=1){var d=c.add(u,"week");if(d.format("Wo")===s)return d}return null}var f=Qx(a,i,!0).locale(r);if(f.isValid())return f}return null}}};var mw=m.createContext(null),vw={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function yw(e){var t=e.popupElement,n=e.popupStyle,r=e.popupClassName,o=e.popupAlign,i=e.transitionName,a=e.getPopupContainer,l=e.children,s=e.range,c=e.placement,u=e.builtinPlacements,d=void 0===u?vw:u,f=e.direction,h=e.visible,p=e.onClose,g=m.useContext(mw).prefixCls,v="".concat(g,"-dropdown"),y=function(e,t){return void 0!==e?e:t?"bottomRight":"bottomLeft"}(c,"rtl"===f);return m.createElement(wg,{showAction:[],hideAction:["click"],popupPlacement:y,builtinPlacements:d,prefixCls:v,popupTransitionName:i,popup:t,popupAlign:o,popupVisible:h,popupClassName:S(r,j(j({},"".concat(v,"-range"),s),"".concat(v,"-rtl"),"rtl"===f)),popupStyle:n,stretch:"minWidth",getPopupContainer:a,onPopupVisibleChange:function(e){e||p()}},l)}function bw(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(r);return r}function xw(e){return null==e?[]:Array.isArray(e)?e:[e]}function ww(e,t,n){var r=it(e);return r[t]=n,r}function Cw(e,t){var n={};return(t||Object.keys(e)).forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n}function Sw(e,t,n){if(n)return n;switch(e){case"time":return t.fieldTimeFormat;case"datetime":return t.fieldDateTimeFormat;case"month":return t.fieldMonthFormat;case"year":return t.fieldYearFormat;case"quarter":return t.fieldQuarterFormat;case"week":return t.fieldWeekFormat;default:return t.fieldDateFormat}}function Ew(e,t,n){var r=void 0!==n?n:t[t.length-1],o=t.find(function(t){return e[t]});return r!==o?e[o]:void 0}function Ow(e){return Cw(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function kw(e,t,n,r){var o=m.useMemo(function(){return e||function(e,r){var o=e;return t&&"date"===r.type?t(o,r.today):n&&"month"===r.type?n(o,r.locale):r.originNode}},[e,n,t]);return m.useCallback(function(e,t){return o(e,D(D({},t),{},{range:r}))},[o,r])}function Mw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=pt(m.useState([!1,!1]),2),o=r[0],i=r[1];return[m.useMemo(function(){return o.map(function(r,o){if(r)return!0;var i=e[o];return!!i&&(!n[o]&&!i||!(!i||!t(i,{activeIndex:o})))})},[e,o,t,n]),function(e,t){i(function(n){return ww(n,t,e)})}]}function $w(e,t,n,r,o){var i="",a=[];return e&&a.push(o?"hh":"HH"),t&&a.push("mm"),n&&a.push("ss"),i=a.join(":"),r&&(i+=".SSS"),o&&(i+=" A"),i}function Iw(e,t){var n=t.showHour,r=t.showMinute,o=t.showSecond,i=t.showMillisecond,a=t.use12Hours;return p.useMemo(function(){return function(e,t,n,r,o,i){var a=e.fieldDateTimeFormat,l=e.fieldDateFormat,s=e.fieldTimeFormat,c=e.fieldMonthFormat,u=e.fieldYearFormat,d=e.fieldWeekFormat,f=e.fieldQuarterFormat,h=e.yearFormat,p=e.cellYearFormat,g=e.cellQuarterFormat,m=e.dayFormat,v=e.cellDateFormat,y=$w(t,n,r,o,i);return D(D({},e),{},{fieldDateTimeFormat:a||"YYYY-MM-DD ".concat(y),fieldDateFormat:l||"YYYY-MM-DD",fieldTimeFormat:s||y,fieldMonthFormat:c||"YYYY-MM",fieldYearFormat:u||"YYYY",fieldWeekFormat:d||"gggg-wo",fieldQuarterFormat:f||"YYYY-[Q]Q",yearFormat:h||"YYYY",cellYearFormat:p||"YYYY",cellQuarterFormat:g||"[Q]Q",cellDateFormat:v||m||"D"})}(e,n,r,o,i,a)},[e,n,r,o,i,a])}function Nw(e,t,n){return null!=n?n:t.some(function(t){return e.includes(t)})}var Tw=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function Lw(e){return e&&"string"==typeof e}function Rw(e,t,n,r){return[e,t,n,r].some(function(e){return void 0!==e})}function _w(e,t,n,r,o){var i=t,a=n,l=r;if(e||i||a||l||o){if(e){var s,c,u,d=[i,a,l].some(function(e){return!1===e}),f=[i,a,l].some(function(e){return!0===e}),h=!!d||!f;i=null!==(s=i)&&void 0!==s?s:h,a=null!==(c=a)&&void 0!==c?c:h,l=null!==(u=l)&&void 0!==u?u:h}}else i=!0,a=!0,l=!0;return[i,a,l,o]}function Aw(e){var t=e.showTime,n=function(e){var t=Cw(e,Tw),n=e.format,r=e.picker,o=null;return n&&(o=n,Array.isArray(o)&&(o=o[0]),o="object"===O(o)?o.format:o),"time"===r&&(t.format=o),[t,o]}(e),r=pt(n,2),o=r[0],i=r[1],a=t&&"object"===O(t)?t:{},l=D(D({defaultOpenValue:a.defaultOpenValue||a.defaultValue},o),a),s=l.showMillisecond,c=l.showHour,u=l.showMinute,d=l.showSecond,f=pt(_w(Rw(c,u,d,s),c,u,d,s),3);return c=f[0],u=f[1],d=f[2],[l,D(D({},l),{},{showHour:c,showMinute:u,showSecond:d,showMillisecond:s}),l.format,i]}function Pw(e,t,n,r,o){if("datetime"===e||"time"===e){for(var i=r,a=Sw(e,o,null),l=[t,n],s=0;s<l.length;s+=1){var c=xw(l[s])[0];if(Lw(c)){a=c;break}}var u=i.showHour,d=i.showMinute,f=i.showSecond,h=i.showMillisecond,p=Nw(a,["a","A","LT","LLL","LTS"],i.use12Hours),g=Rw(u,d,f,h);g||(u=Nw(a,["H","h","k","LT","LLL"]),d=Nw(a,["m","LT","LLL"]),f=Nw(a,["s","LTS"]),h=Nw(a,["SSS"]));var m=pt(_w(g,u,d,f,h),3);u=m[0],d=m[1],f=m[2];var v=t||$w(u,d,f,h,p);return D(D({},i),{},{format:v,showHour:u,showMinute:d,showSecond:f,showMillisecond:h,use12Hours:p})}return null}function jw(e,t,n){return!1===t?null:(t&&"object"===O(t)?t:{}).clearIcon||n||m.createElement("span",{className:"".concat(e,"-clear-btn")})}function Bw(e,t,n){return!e&&!t||e===t||!(!e||!t)&&n()}function Dw(e,t,n){return Bw(t,n,function(){return Math.floor(e.getYear(t)/10)===Math.floor(e.getYear(n)/10)})}function zw(e,t,n){return Bw(t,n,function(){return e.getYear(t)===e.getYear(n)})}function Hw(e,t){return Math.floor(e.getMonth(t)/3)+1}function Fw(e,t,n){return Bw(t,n,function(){return zw(e,t,n)&&e.getMonth(t)===e.getMonth(n)})}function Ww(e,t,n){return Bw(t,n,function(){return zw(e,t,n)&&Fw(e,t,n)&&e.getDate(t)===e.getDate(n)})}function Gw(e,t,n){return Bw(t,n,function(){return e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)})}function Vw(e,t,n){return Bw(t,n,function(){return Ww(e,t,n)&&Gw(e,t,n)&&e.getMillisecond(t)===e.getMillisecond(n)})}function qw(e,t,n,r){return Bw(n,r,function(){var o=e.locale.getWeekFirstDate(t,n),i=e.locale.getWeekFirstDate(t,r);return zw(e,o,i)&&e.locale.getWeek(t,n)===e.locale.getWeek(t,r)})}function Xw(e,t,n,r,o){switch(o){case"date":return Ww(e,n,r);case"week":return qw(e,t.locale,n,r);case"month":return Fw(e,n,r);case"quarter":return function(e,t,n){return Bw(t,n,function(){return zw(e,t,n)&&Hw(e,t)===Hw(e,n)})}(e,n,r);case"year":return zw(e,n,r);case"decade":return Dw(e,n,r);case"time":return Gw(e,n,r);default:return Vw(e,n,r)}}function Uw(e,t,n,r){return!!(t&&n&&r)&&(e.isAfter(r,t)&&e.isAfter(n,r))}function Yw(e,t,n,r,o){return!!Xw(e,t,n,r,o)||e.isAfter(n,r)}function Kw(e,t){var n=t.generateConfig,r=t.locale,o=t.format;return e?"function"==typeof o?o(e):n.locale.format(r.locale,e,o):""}function Zw(e,t,n){var r=t,o=["getHour","getMinute","getSecond","getMillisecond"];return["setHour","setMinute","setSecond","setMillisecond"].forEach(function(t,i){r=n?e[t](r,e[o[i]](n)):e[t](r,0)}),r}function Qw(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m.useMemo(function(){var n=e?xw(e):e;return t&&n&&(n[1]=n[1]||n[0]),n},[e,t])}function Jw(e,t){var n=e.generateConfig,r=e.locale,o=e.picker,i=void 0===o?"date":o,a=e.prefixCls,l=void 0===a?"rc-picker":a,s=e.styles,c=void 0===s?{}:s,u=e.classNames,d=void 0===u?{}:u,f=e.order,h=void 0===f||f,p=e.components,g=void 0===p?{}:p,v=e.inputRender,y=e.allowClear,b=e.clearIcon,x=e.needConfirm,w=e.multiple,C=e.format,S=e.inputReadOnly,E=e.disabledDate,k=e.minDate,M=e.maxDate,$=e.showTime,I=e.value,N=e.defaultValue,T=e.pickerValue,L=e.defaultPickerValue,R=Qw(I),_=Qw(N),A=Qw(T),P=Qw(L),j="date"===i&&$?"datetime":i,B="time"===j||"datetime"===j,z=B||w,H=null!=x?x:B,F=pt(Aw(e),4),W=F[0],G=F[1],V=F[2],q=F[3],X=Iw(r,G),U=m.useMemo(function(){return Pw(j,V,q,W,X)},[j,V,q,W,X]),Y=m.useMemo(function(){return D(D({},e),{},{prefixCls:l,locale:X,picker:i,styles:c,classNames:d,order:h,components:D({input:v},g),clearIcon:jw(l,y,b),showTime:U,value:R,defaultValue:_,pickerValue:A,defaultPickerValue:P},null==t?void 0:t())},[e]),K=function(e,t,n){return m.useMemo(function(){var r=xw(Sw(e,t,n)),o=r[0],i="object"===O(o)&&"mask"===o.type?o.format:null;return[r.map(function(e){return"string"==typeof e||"function"==typeof e?e:e.format}),i]},[e,t,n])}(j,X,C),Z=pt(K,2),Q=Z[0],J=Z[1],ee=function(e,t,n){return!("function"!=typeof e[0]&&!n)||t}(Q,S,w),te=function(e,t,n,r,o){return zo(function(i,a){return!(!n||!n(i,a))||!(!r||!e.isAfter(r,i)||Xw(e,t,r,i,a.type))||!(!o||!e.isAfter(i,o)||Xw(e,t,o,i,a.type))})}(n,r,E,k,M),ne=function(e,t,n,r){return zo(function(o,i){var a=D({type:t},i);if(delete a.activeIndex,!e.isValidate(o)||n&&n(o,a))return!0;if(("date"===t||"time"===t)&&r){var l,s=i&&1===i.activeIndex?"end":"start",c=(null===(l=r.disabledTime)||void 0===l?void 0:l.call(r,o,s,{from:a.from}))||{},u=c.disabledHours,d=c.disabledMinutes,f=c.disabledSeconds,h=c.disabledMilliseconds,p=r.disabledHours,g=r.disabledMinutes,m=r.disabledSeconds,v=u||p,y=d||g,b=f||m,x=e.getHour(o),w=e.getMinute(o),C=e.getSecond(o),S=e.getMillisecond(o);if(v&&v().includes(x))return!0;if(y&&y(x).includes(w))return!0;if(b&&b(x,w).includes(C))return!0;if(h&&h(x,w,C).includes(S))return!0}return!1})}(n,i,te,U);return[m.useMemo(function(){return D(D({},Y),{},{needConfirm:H,inputReadOnly:ee,disabledDate:te})},[Y,H,ee,te]),j,z,Q,J,ne]}function eC(e,t){var n,r,o,i,a,l,s,c,u,d,f=arguments.length>3?arguments[3]:void 0,h=!(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).every(function(e){return e})&&e,g=(r=f,o=pt(Wo(t||!1,{value:n=h}),2),i=o[0],a=o[1],l=p.useRef(n),s=p.useRef(),c=function(){dt.cancel(s.current)},u=zo(function(){a(l.current),r&&i!==l.current&&r(l.current)}),d=zo(function(e,t){c(),l.current=e,e||t?u():s.current=dt(u)}),p.useEffect(function(){return c},[]),[i,d]),m=pt(g,2),v=m[0],y=m[1];return[v,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.inherit&&!v||y(e,t.force)}]}function tC(e){var t=m.useRef();return m.useImperativeHandle(e,function(){var e;return{nativeElement:null===(e=t.current)||void 0===e?void 0:e.nativeElement,focus:function(e){var n;null===(n=t.current)||void 0===n||n.focus(e)},blur:function(){var e;null===(e=t.current)||void 0===e||e.blur()}}}),t}function nC(e,t){return m.useMemo(function(){return e||(t?(A(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(t).map(function(e){var t=pt(e,2);return{label:t[0],value:t[1]}})):[])},[e,t])}function rC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=m.useRef(t);r.current=t,en(function(){if(!e){var t=dt(function(){r.current(e)},n);return function(){dt.cancel(t)}}r.current(e)},[e])}function oC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=pt(m.useState(0),2),o=r[0],i=r[1],a=pt(m.useState(!1),2),l=a[0],s=a[1],c=m.useRef([]),u=m.useRef(null),d=m.useRef(null),f=function(e){u.current=e};return rC(l||n,function(){l||(c.current=[],f(null))}),m.useEffect(function(){l&&c.current.push(o)},[l,o]),[l,function(e){s(e)},function(e){return e&&(d.current=e),d.current},o,i,function(n){var r=c.current,o=new Set(r.filter(function(e){return n[e]||t[e]})),i=0===r[r.length-1]?1:0;return o.size>=2||e[i]?null:i},c.current,f,function(e){return u.current===e}]}function iC(e,t,n,r){switch(t){case"date":case"week":return e.addMonth(n,r);case"month":case"quarter":return e.addYear(n,r);case"year":return e.addYear(n,10*r);case"decade":return e.addYear(n,100*r);default:return n}}var aC=[];function lC(e,t,n,r,o,i,a,l){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:aC,c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:aC,u=arguments.length>11?arguments[11]:void 0,d=arguments.length>12?arguments[12]:void 0,f=arguments.length>13?arguments[13]:void 0,h="time"===a,p=i||0,g=function(t){var r=e.getNow();return h&&(r=Zw(e,r)),s[t]||n[t]||r},v=pt(arguments.length>9&&void 0!==arguments[9]?arguments[9]:aC,2),y=v[0],b=v[1],x=pt(Wo(function(){return g(0)},{value:y}),2),w=x[0],C=x[1],S=pt(Wo(function(){return g(1)},{value:b}),2),E=S[0],O=S[1],k=m.useMemo(function(){var t=[w,E][p];return h?t:Zw(e,t,c[p])},[h,w,E,p,e,c]),M=function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"panel";(0,[C,O][p])(n);var i=[w,E];i[p]=n,!u||Xw(e,t,w,i[0],a)&&Xw(e,t,E,i[1],a)||u(i,{source:o,range:1===p?"end":"start",mode:r})},$=m.useRef(null);return Jt(function(){if(o&&!s[p]){var r=h?null:e.getNow();if(null!==$.current&&$.current!==p?r=[w,E][1^p]:n[p]?r=0===p?n[0]:function(n,r){if(l){var o={date:"month",week:"month",month:"year",quarter:"year"}[a];if(o&&!Xw(e,t,n,r,o))return iC(e,a,r,-1);if("year"===a&&n&&Math.floor(e.getYear(n)/10)!==Math.floor(e.getYear(r)/10))return iC(e,a,r,-1)}return r}(n[0],n[1]):n[1^p]&&(r=n[1^p]),r){d&&e.isAfter(d,r)&&(r=d);var i=l?iC(e,a,r,1):r;f&&e.isAfter(i,f)&&(r=l?iC(e,a,f,-1):f),M(r,"reset")}}},[o,p,n[p]]),m.useEffect(function(){$.current=o?p:null},[o,p]),Jt(function(){o&&s&&s[p]&&M(s[p],"reset")},[o,p]),[k,M]}function sC(e,t){var n=m.useRef(e),r=pt(m.useState({}),2)[1],o=function(e){return e&&void 0!==t?t:n.current};return[o,function(e){n.current=e,r({})},o(!0)]}var cC=[];function uC(e,t,n){return[function(r){return r.map(function(r){return Kw(r,{generateConfig:e,locale:t,format:n[0]})})},function(t,n){for(var r=Math.max(t.length,n.length),o=-1,i=0;i<r;i+=1){var a=t[i]||null,l=n[i]||null;if(a!==l&&!Vw(e,a,l)){o=i;break}}return[o<0,0!==o]}]}function dC(e,t){return it(e).sort(function(e,n){return t.isAfter(e,n)?1:-1})}function fC(e,t,n,r,o,i,a,l,s){var c=pt(Wo(i,{value:a}),2),u=c[0],d=c[1],f=u||cC,h=function(e){var t=pt(sC(e),2),n=t[0],r=t[1],o=zo(function(){r(e)});return m.useEffect(function(){o()},[e]),[n,r]}(f),p=pt(h,2),g=p[0],v=p[1],y=pt(uC(e,t,n),2),b=y[0],x=y[1],w=zo(function(t){var n=it(t);if(r)for(var i=0;i<2;i+=1)n[i]=n[i]||null;else o&&(n=dC(n.filter(function(e){return e}),e));var a=pt(x(g(),n),2),s=a[0],c=a[1];if(!s&&(v(n),l)){var u=b(n);l(n,u,{range:c?"end":"start"})}});return[f,d,g,w,function(){s&&s(g())}]}function hC(e,t,n,r,o,i,a,l,s,c){var u=e.generateConfig,d=e.locale,f=e.picker,h=e.onChange,p=e.allowEmpty,g=e.order,v=!i.some(function(e){return e})&&g,y=pt(uC(u,d,a),2),b=y[0],x=y[1],w=pt(sC(t),2),C=w[0],S=w[1],E=zo(function(){S(t)});m.useEffect(function(){E()},[t]);var O=zo(function(e){var r=null===e,a=it(e||C());if(r)for(var l=Math.max(i.length,a.length),s=0;s<l;s+=1)i[s]||(a[s]=null);v&&a[0]&&a[1]&&(a=dC(a,u)),o(a);var m=pt(a,2),y=m[0],w=m[1],S=!y,E=!w,O=!p||(!S||p[0])&&(!E||p[1]),k=!g||S||E||Xw(u,d,y,w,f)||u.isAfter(w,y),M=(i[0]||!y||!c(y,{activeIndex:0}))&&(i[1]||!w||!c(w,{from:y,activeIndex:1})),$=r||O&&k&&M;if($){n(a);var I=pt(x(a,t),1)[0];h&&!I&&h(r&&a.every(function(e){return!e})?null:a,b(a))}return $}),k=zo(function(e,t){var n=ww(C(),e,r()[e]);S(n),t&&O()}),M=!l&&!s;return rC(!M,function(){M&&(O(),o(t),E())},2),[k,O]}function pC(e,t,n,r,o){return("date"===t||"time"===t)&&(void 0!==n?n:void 0!==r?r:!o&&("date"===e||"time"===e))}function gC(){return[]}function mC(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2,a=[],l=n>=1?0|n:1,s=e;s<=t;s+=l){var c=o.includes(s);c&&r||a.push({label:bw(s,i),value:s,disabled:c})}return a}function vC(e){var t=arguments.length>2?arguments[2]:void 0,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})||{},r=n.use12Hours,o=n.hourStep,i=void 0===o?1:o,a=n.minuteStep,l=void 0===a?1:a,s=n.secondStep,c=void 0===s?1:s,u=n.millisecondStep,d=void 0===u?100:u,f=n.hideDisabledOptions,h=n.disabledTime,p=n.disabledHours,g=n.disabledMinutes,v=n.disabledSeconds,y=m.useMemo(function(){return t||e.getNow()},[t,e]),b=m.useCallback(function(e){var t=(null==h?void 0:h(e))||{};return[t.disabledHours||p||gC,t.disabledMinutes||g||gC,t.disabledSeconds||v||gC,t.disabledMilliseconds||gC]},[h,p,g,v]),x=pt(m.useMemo(function(){return b(y)},[y,b]),4),w=x[0],C=x[1],S=x[2],E=x[3],O=m.useCallback(function(e,t,n,o){var a=mC(0,23,i,f,e());return[r?a.map(function(e){return D(D({},e),{},{label:bw(e.value%12||12,2)})}):a,function(e){return mC(0,59,l,f,t(e))},function(e,t){return mC(0,59,c,f,n(e,t))},function(e,t,n){return mC(0,999,d,f,o(e,t,n),3)}]},[f,i,r,d,l,c]),k=pt(m.useMemo(function(){return O(w,C,S,E)},[O,w,C,S,E]),4),M=k[0],$=k[1],I=k[2],N=k[3];return[function(t,n){var r=function(){return M},o=$,i=I,a=N;if(n){var l=pt(b(n),4),s=l[0],c=l[1],u=l[2],d=l[3],f=pt(O(s,c,u,d),4),h=f[0];r=function(){return h},o=f[1],i=f[2],a=f[3]}var p=function(e,t,n,r,o,i){var a=e;function l(e,t,n){var r=i[e](a),o=n.find(function(e){return e.value===r});if(!o||o.disabled){var l=n.filter(function(e){return!e.disabled}),s=it(l).reverse().find(function(e){return e.value<=r})||l[0];s&&(r=s.value,a=i[t](a,r))}return r}var s=l("getHour","setHour",t()),c=l("getMinute","setMinute",n(s)),u=l("getSecond","setSecond",r(s,c));return l("getMillisecond","setMillisecond",o(s,c,u)),a}(t,r,o,i,a,e);return p},M,$,I,N]}function yC(e){var t=e.mode,n=e.internalMode,r=e.renderExtraFooter,o=e.showNow,i=e.showTime,a=e.onSubmit,l=e.onNow,s=e.invalid,c=e.needConfirm,u=e.generateConfig,d=e.disabledDate,f=m.useContext(mw),h=f.prefixCls,p=f.locale,g=f.button,v=void 0===g?"button":g,y=u.getNow(),b=pt(vC(u,i,y),1)[0],x=null==r?void 0:r(t),w=d(y,{type:t}),C="".concat(h,"-now"),E="".concat(C,"-btn"),O=o&&m.createElement("li",{className:C},m.createElement("a",{className:S(E,w&&"".concat(E,"-disabled")),"aria-disabled":w,onClick:function(){if(!w){var e=b(y);l(e)}}},"date"===n?p.today:p.now)),k=c&&m.createElement("li",{className:"".concat(h,"-ok")},m.createElement(v,{disabled:s,onClick:a},p.ok)),M=(O||k)&&m.createElement("ul",{className:"".concat(h,"-ranges")},O,k);return x||M?m.createElement("div",{className:"".concat(h,"-footer")},x&&m.createElement("div",{className:"".concat(h,"-footer-extra")},x),M):null}function bC(e,t,n){return function(r,o){var i=r.findIndex(function(r){return Xw(e,t,r,o,n)});if(-1===i)return[].concat(it(r),[o]);var a=it(r);return a.splice(i,1),a}}var xC=m.createContext(null);function wC(){return m.useContext(xC)}function CC(e,t){var n=e.prefixCls,r=e.generateConfig,o=e.locale,i=e.disabledDate,a=e.minDate,l=e.maxDate,s=e.cellRender,c=e.hoverValue,u=e.hoverRangeValue,d=e.onHover,f=e.values,h=e.pickerValue,p=e.onSelect,g=e.prevIcon,m=e.nextIcon,v=e.superPrevIcon,y=e.superNextIcon,b=r.getNow();return[{now:b,values:f,pickerValue:h,prefixCls:n,disabledDate:i,minDate:a,maxDate:l,cellRender:s,hoverValue:c,hoverRangeValue:u,onHover:d,locale:o,generateConfig:r,onSelect:p,panelType:t,prevIcon:g,nextIcon:m,superPrevIcon:v,superNextIcon:y},b]}var SC=m.createContext({});function EC(e){for(var t=e.rowNum,n=e.colNum,r=e.baseDate,o=e.getCellDate,i=e.prefixColumn,a=e.rowClassName,l=e.titleFormat,s=e.getCellText,c=e.getCellClassName,u=e.headerCells,d=e.cellSelection,f=void 0===d||d,h=e.disabledDate,p=wC(),g=p.prefixCls,v=p.panelType,y=p.now,b=p.disabledDate,x=p.cellRender,w=p.onHover,C=p.hoverValue,E=p.hoverRangeValue,O=p.generateConfig,k=p.values,M=p.locale,$=p.onSelect,I=h||b,N="".concat(g,"-cell"),T=m.useContext(SC).onCellDblClick,L=[],R=0;R<t;R+=1){for(var _=[],A=void 0,P=function(){var e=o(r,R*n+B),t=null==I?void 0:I(e,{type:v});0===B&&(A=e,i&&_.push(i(A)));var a=!1,u=!1,d=!1;if(f&&E){var h=pt(E,2),p=h[0],b=h[1];a=Uw(O,p,b,e),u=Xw(O,M,e,p,v),d=Xw(O,M,e,b,v)}var L,P=l?Kw(e,{locale:M,format:l,generateConfig:O}):void 0,z=m.createElement("div",{className:"".concat(N,"-inner")},s(e));_.push(m.createElement("td",{key:B,title:P,className:S(N,D(j(j(j(j(j(j({},"".concat(N,"-disabled"),t),"".concat(N,"-hover"),(C||[]).some(function(t){return Xw(O,M,e,t,v)})),"".concat(N,"-in-range"),a&&!u&&!d),"".concat(N,"-range-start"),u),"".concat(N,"-range-end"),d),"".concat(g,"-cell-selected"),!E&&"week"!==v&&(L=e,k.some(function(e){return e&&Xw(O,M,L,e,v)}))),c(e))),onClick:function(){t||$(e)},onDoubleClick:function(){!t&&T&&T()},onMouseEnter:function(){t||null==w||w(e)},onMouseLeave:function(){t||null==w||w(null)}},x?x(e,{prefixCls:g,originNode:z,today:y,type:v,locale:M}):z))},B=0;B<n;B+=1)P();L.push(m.createElement("tr",{key:R,className:null==a?void 0:a(A)},_))}return m.createElement("div",{className:"".concat(g,"-body")},m.createElement("table",{className:"".concat(g,"-content")},u&&m.createElement("thead",null,m.createElement("tr",null,u)),m.createElement("tbody",null,L)))}var OC={visibility:"hidden"};function kC(e){var t=e.offset,n=e.superOffset,r=e.onChange,o=e.getStart,i=e.getEnd,a=e.children,l=wC(),s=l.prefixCls,c=l.prevIcon,u=void 0===c?"":c,d=l.nextIcon,f=void 0===d?"":d,h=l.superPrevIcon,p=void 0===h?"":h,g=l.superNextIcon,v=void 0===g?"":g,y=l.minDate,b=l.maxDate,x=l.generateConfig,w=l.locale,C=l.pickerValue,E=l.panelType,O="".concat(s,"-header"),k=m.useContext(SC),M=k.hidePrev,$=k.hideNext,I=k.hideHeader,N=m.useMemo(function(){if(!y||!t||!i)return!1;var e=i(t(-1,C));return!Yw(x,w,e,y,E)},[y,t,C,i,x,w,E]),T=m.useMemo(function(){if(!y||!n||!i)return!1;var e=i(n(-1,C));return!Yw(x,w,e,y,E)},[y,n,C,i,x,w,E]),L=m.useMemo(function(){if(!b||!t||!o)return!1;var e=o(t(1,C));return!Yw(x,w,b,e,E)},[b,t,C,o,x,w,E]),R=m.useMemo(function(){if(!b||!n||!o)return!1;var e=o(n(1,C));return!Yw(x,w,b,e,E)},[b,n,C,o,x,w,E]),_=function(e){t&&r(t(e,C))},A=function(e){n&&r(n(e,C))};if(I)return null;var P="".concat(O,"-prev-btn"),j="".concat(O,"-next-btn"),B="".concat(O,"-super-prev-btn"),D="".concat(O,"-super-next-btn");return m.createElement("div",{className:O},n&&m.createElement("button",{type:"button","aria-label":w.previousYear,onClick:function(){return A(-1)},tabIndex:-1,className:S(B,T&&"".concat(B,"-disabled")),disabled:T,style:M?OC:{}},p),t&&m.createElement("button",{type:"button","aria-label":w.previousMonth,onClick:function(){return _(-1)},tabIndex:-1,className:S(P,N&&"".concat(P,"-disabled")),disabled:N,style:M?OC:{}},u),m.createElement("div",{className:"".concat(O,"-view")},a),t&&m.createElement("button",{type:"button","aria-label":w.nextMonth,onClick:function(){return _(1)},tabIndex:-1,className:S(j,L&&"".concat(j,"-disabled")),disabled:L,style:$?OC:{}},f),n&&m.createElement("button",{type:"button","aria-label":w.nextYear,onClick:function(){return A(1)},tabIndex:-1,className:S(D,R&&"".concat(D,"-disabled")),disabled:R,style:$?OC:{}},v))}function MC(e){var t=e.prefixCls,n=e.panelName,r=void 0===n?"date":n,o=e.locale,i=e.generateConfig,a=e.pickerValue,l=e.onPickerValueChange,s=e.onModeChange,c=e.mode,u=void 0===c?"date":c,d=e.disabledDate,f=e.onSelect,h=e.onHover,p=e.showWeek,g="".concat(t,"-").concat(r,"-panel"),v="".concat(t,"-cell"),y="week"===u,b=pt(CC(e,u),2),x=b[0],w=b[1],C=i.locale.getWeekFirstDay(o.locale),O=i.setDate(a,1),k=function(e,t,n){var r=t.locale.getWeekFirstDay(e),o=t.setDate(n,1),i=t.getWeekDay(o),a=t.addDate(o,r-i);return t.getMonth(a)===t.getMonth(n)&&t.getDate(a)>1&&(a=t.addDate(a,-7)),a}(o.locale,i,O),M=i.getMonth(a),$=(void 0===p?y:p)?function(e){var t=null==d?void 0:d(e,{type:"week"});return m.createElement("td",{key:"week",className:S(v,"".concat(v,"-week"),j({},"".concat(v,"-disabled"),t)),onClick:function(){t||f(e)},onMouseEnter:function(){t||null==h||h(e)},onMouseLeave:function(){t||null==h||h(null)}},m.createElement("div",{className:"".concat(v,"-inner")},i.locale.getWeek(o.locale,e)))}:null,I=[],N=o.shortWeekDays||(i.locale.getShortWeekDays?i.locale.getShortWeekDays(o.locale):[]);$&&I.push(m.createElement("th",{key:"empty"},m.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},o.week)));for(var T=0;T<7;T+=1)I.push(m.createElement("th",{key:T},N[(T+C)%7]));var L=o.shortMonths||(i.locale.getShortMonths?i.locale.getShortMonths(o.locale):[]),R=m.createElement("button",{type:"button","aria-label":o.yearSelect,key:"year",onClick:function(){s("year",a)},tabIndex:-1,className:"".concat(t,"-year-btn")},Kw(a,{locale:o,format:o.yearFormat,generateConfig:i})),_=m.createElement("button",{type:"button","aria-label":o.monthSelect,key:"month",onClick:function(){s("month",a)},tabIndex:-1,className:"".concat(t,"-month-btn")},o.monthFormat?Kw(a,{locale:o,format:o.monthFormat,generateConfig:i}):L[M]),A=o.monthBeforeYear?[_,R]:[R,_];return m.createElement(xC.Provider,{value:x},m.createElement("div",{className:S(g,p&&"".concat(g,"-show-week"))},m.createElement(kC,{offset:function(e){return i.addMonth(a,e)},superOffset:function(e){return i.addYear(a,e)},onChange:l,getStart:function(e){return i.setDate(e,1)},getEnd:function(e){var t=i.setDate(e,1);return t=i.addMonth(t,1),i.addDate(t,-1)}},A),m.createElement(EC,E({titleFormat:o.fieldDateFormat},e,{colNum:7,rowNum:6,baseDate:k,headerCells:I,getCellDate:function(e,t){return i.addDate(e,t)},getCellText:function(e){return Kw(e,{locale:o,format:o.cellDateFormat,generateConfig:i})},getCellClassName:function(e){return j(j({},"".concat(t,"-cell-in-view"),Fw(i,e,a)),"".concat(t,"-cell-today"),Ww(i,e,w))},prefixColumn:$,cellSelection:!y}))))}var $C=1/3;function IC(e){return e.map(function(e){return[e.value,e.label,e.disabled].join(",")}).join(";")}function NC(e){var t=e.units,n=e.value,r=e.optionalValue,o=e.type,i=e.onChange,a=e.onHover,l=e.onDblClick,s=e.changeOnScroll,c=wC(),u=c.prefixCls,d=c.cellRender,f=c.now,h=c.locale,p="".concat(u,"-time-panel"),g="".concat(u,"-time-panel-cell"),v=m.useRef(null),y=m.useRef(),b=function(){clearTimeout(y.current)},x=function(e,t){var n=m.useRef(!1),r=m.useRef(null),o=m.useRef(null),i=function(){dt.cancel(r.current),n.current=!1},a=m.useRef();return[zo(function(){var l=e.current;if(o.current=null,a.current=0,l){var s=l.querySelector('[data-value="'.concat(t,'"]')),c=l.querySelector("li");s&&c&&function e(){i(),n.current=!0,a.current+=1;var t=l.scrollTop,u=c.offsetTop,d=s.offsetTop,f=d-u;if(0===d&&s!==c||!Bs(l))a.current<=5&&(r.current=dt(e));else{var h=t+(f-t)*$C,p=Math.abs(f-h);if(null!==o.current&&o.current<p)i();else{if(o.current=p,p<=1)return l.scrollTop=f,void i();l.scrollTop=h,r.current=dt(e)}}}()}}),i,function(){return n.current}]}(v,null!=n?n:r),w=pt(x,3),C=w[0],E=w[1],O=w[2];Jt(function(){return C(),b(),function(){E(),b()}},[n,r,IC(t)]);var k="".concat(p,"-column");return m.createElement("ul",{className:k,ref:v,"data-type":o,onScroll:function(e){b();var n=e.target;!O()&&s&&(y.current=setTimeout(function(){var e=v.current,r=e.querySelector("li").offsetTop,o=Array.from(e.querySelectorAll("li")).map(function(e){return e.offsetTop-r}).map(function(e,r){return t[r].disabled?Number.MAX_SAFE_INTEGER:Math.abs(e-n.scrollTop)}),a=Math.min.apply(Math,it(o)),l=o.findIndex(function(e){return e===a}),s=t[l];s&&!s.disabled&&i(s.value)},300))}},t.map(function(e){var t=e.label,r=e.value,s=e.disabled,c=m.createElement("div",{className:"".concat(g,"-inner")},t);return m.createElement("li",{key:r,className:S(g,j(j({},"".concat(g,"-selected"),n===r),"".concat(g,"-disabled"),s)),onClick:function(){s||i(r)},onDoubleClick:function(){!s&&l&&l()},onMouseEnter:function(){a(r)},onMouseLeave:function(){a(null)},"data-value":r},d?d(r,{prefixCls:u,originNode:c,today:f,type:"time",subType:o,locale:h}):c)}))}function TC(e){return e<12}function LC(e){var t=e.showHour,n=e.showMinute,r=e.showSecond,o=e.showMillisecond,i=e.use12Hours,a=e.changeOnScroll,l=wC(),s=l.prefixCls,c=l.values,u=l.generateConfig,d=l.locale,f=l.onSelect,h=l.onHover,p=void 0===h?function(){}:h,g=l.pickerValue,v=(null==c?void 0:c[0])||null,y=m.useContext(SC).onCellDblClick,b=pt(vC(u,e,v),5),x=b[0],w=b[1],C=b[2],S=b[3],O=b[4],k=function(e){return[v&&u[e](v),g&&u[e](g)]},M=pt(k("getHour"),2),$=M[0],I=M[1],N=pt(k("getMinute"),2),T=N[0],L=N[1],R=pt(k("getSecond"),2),_=R[0],A=R[1],P=pt(k("getMillisecond"),2),j=P[0],B=P[1],D=null===$?null:TC($)?"am":"pm",z=m.useMemo(function(){return i?TC($)?w.filter(function(e){return TC(e.value)}):w.filter(function(e){return!TC(e.value)}):w},[$,w,i]),H=function(e,t){var n,r=e.filter(function(e){return!e.disabled});return null!=t?t:null==r||null===(n=r[0])||void 0===n?void 0:n.value},F=H(w,$),W=m.useMemo(function(){return C(F)},[C,F]),G=H(W,T),V=m.useMemo(function(){return S(F,G)},[S,F,G]),q=H(V,_),X=m.useMemo(function(){return O(F,G,q)},[O,F,G,q]),U=H(X,j),Y=m.useMemo(function(){if(!i)return[];var e=u.getNow(),t=u.setHour(e,6),n=u.setHour(e,18),r=function(e,t){var n=d.cellMeridiemFormat;return n?Kw(e,{generateConfig:u,locale:d,format:n}):t};return[{label:r(t,"AM"),value:"am",disabled:w.every(function(e){return e.disabled||!TC(e.value)})},{label:r(n,"PM"),value:"pm",disabled:w.every(function(e){return e.disabled||TC(e.value)})}]},[w,i,u,d]),K=function(e){var t=x(e);f(t)},Z=m.useMemo(function(){var e=v||g||u.getNow(),t=function(e){return null!=e};return t($)?(e=u.setHour(e,$),e=u.setMinute(e,T),e=u.setSecond(e,_),e=u.setMillisecond(e,j)):t(I)?(e=u.setHour(e,I),e=u.setMinute(e,L),e=u.setSecond(e,A),e=u.setMillisecond(e,B)):t(F)&&(e=u.setHour(e,F),e=u.setMinute(e,G),e=u.setSecond(e,q),e=u.setMillisecond(e,U)),e},[v,g,$,T,_,j,F,G,q,U,I,L,A,B,u]),Q=function(e,t){return null===e?null:u[t](Z,e)},J=function(e){return Q(e,"setHour")},ee=function(e){return Q(e,"setMinute")},te=function(e){return Q(e,"setSecond")},ne=function(e){return Q(e,"setMillisecond")},re=function(e){return null===e?null:"am"!==e||TC($)?"pm"===e&&TC($)?u.setHour(Z,$+12):Z:u.setHour(Z,$-12)},oe={onDblClick:y,changeOnScroll:a};return m.createElement("div",{className:"".concat(s,"-content")},t&&m.createElement(NC,E({units:z,value:$,optionalValue:I,type:"hour",onChange:function(e){K(J(e))},onHover:function(e){p(J(e))}},oe)),n&&m.createElement(NC,E({units:W,value:T,optionalValue:L,type:"minute",onChange:function(e){K(ee(e))},onHover:function(e){p(ee(e))}},oe)),r&&m.createElement(NC,E({units:V,value:_,optionalValue:A,type:"second",onChange:function(e){K(te(e))},onHover:function(e){p(te(e))}},oe)),o&&m.createElement(NC,E({units:X,value:j,optionalValue:B,type:"millisecond",onChange:function(e){K(ne(e))},onHover:function(e){p(ne(e))}},oe)),i&&m.createElement(NC,E({units:Y,value:D,type:"meridiem",onChange:function(e){K(re(e))},onHover:function(e){p(re(e))}},oe)))}function RC(e){var t=e.prefixCls,n=e.value,r=e.locale,o=e.generateConfig,i=e.showTime,a=(i||{}).format,l="".concat(t,"-time-panel"),s=pt(CC(e,"time"),1)[0];return m.createElement(xC.Provider,{value:s},m.createElement("div",{className:S(l)},m.createElement(kC,null,n?Kw(n,{locale:r,format:a,generateConfig:o}):""),m.createElement(LC,i)))}var _C={date:MC,datetime:function(e){var t=e.prefixCls,n=e.generateConfig,r=e.showTime,o=e.onSelect,i=e.value,a=e.pickerValue,l=e.onHover,s="".concat(t,"-datetime-panel"),c=pt(vC(n,r),1)[0],u=function(e){return Zw(n,e,i||a)};return m.createElement("div",{className:s},m.createElement(MC,E({},e,{onSelect:function(e){var t=u(e);o(c(t,t))},onHover:function(e){null==l||l(e?u(e):e)}})),m.createElement(RC,e))},week:function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.value,i=e.hoverValue,a=e.hoverRangeValue,l=r.locale,s="".concat(t,"-week-panel-row");return m.createElement(MC,E({},e,{mode:"week",panelName:"week",rowClassName:function(e){var t={};if(a){var r=pt(a,2),c=r[0],u=r[1],d=qw(n,l,c,e),f=qw(n,l,u,e);t["".concat(s,"-range-start")]=d,t["".concat(s,"-range-end")]=f,t["".concat(s,"-range-hover")]=!d&&!f&&Uw(n,c,u,e)}return i&&(t["".concat(s,"-hover")]=i.some(function(t){return qw(n,l,e,t)})),S(s,j({},"".concat(s,"-selected"),!a&&qw(n,l,o,e)),t)}}))},month:function(e){var t=e.prefixCls,n=e.locale,r=e.generateConfig,o=e.pickerValue,i=e.disabledDate,a=e.onPickerValueChange,l=e.onModeChange,s="".concat(t,"-month-panel"),c=pt(CC(e,"month"),1)[0],u=r.setMonth(o,0),d=n.shortMonths||(r.locale.getShortMonths?r.locale.getShortMonths(n.locale):[]),f=i?function(e,t){var n=r.setDate(e,1),o=r.setMonth(n,r.getMonth(n)+1),a=r.addDate(o,-1);return i(n,t)&&i(a,t)}:null,h=m.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){l("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Kw(o,{locale:n,format:n.yearFormat,generateConfig:r}));return m.createElement(xC.Provider,{value:c},m.createElement("div",{className:s},m.createElement(kC,{superOffset:function(e){return r.addYear(o,e)},onChange:a,getStart:function(e){return r.setMonth(e,0)},getEnd:function(e){return r.setMonth(e,11)}},h),m.createElement(EC,E({},e,{disabledDate:f,titleFormat:n.fieldMonthFormat,colNum:3,rowNum:4,baseDate:u,getCellDate:function(e,t){return r.addMonth(e,t)},getCellText:function(e){var t=r.getMonth(e);return n.monthFormat?Kw(e,{locale:n,format:n.monthFormat,generateConfig:r}):d[t]},getCellClassName:function(){return j({},"".concat(t,"-cell-in-view"),!0)}}))))},quarter:function(e){var t=e.prefixCls,n=e.locale,r=e.generateConfig,o=e.pickerValue,i=e.onPickerValueChange,a=e.onModeChange,l="".concat(t,"-quarter-panel"),s=pt(CC(e,"quarter"),1)[0],c=r.setMonth(o,0),u=m.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){a("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Kw(o,{locale:n,format:n.yearFormat,generateConfig:r}));return m.createElement(xC.Provider,{value:s},m.createElement("div",{className:l},m.createElement(kC,{superOffset:function(e){return r.addYear(o,e)},onChange:i,getStart:function(e){return r.setMonth(e,0)},getEnd:function(e){return r.setMonth(e,11)}},u),m.createElement(EC,E({},e,{titleFormat:n.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:c,getCellDate:function(e,t){return r.addMonth(e,3*t)},getCellText:function(e){return Kw(e,{locale:n,format:n.cellQuarterFormat,generateConfig:r})},getCellClassName:function(){return j({},"".concat(t,"-cell-in-view"),!0)}}))))},year:function(e){var t=e.prefixCls,n=e.locale,r=e.generateConfig,o=e.pickerValue,i=e.disabledDate,a=e.onPickerValueChange,l=e.onModeChange,s="".concat(t,"-year-panel"),c=pt(CC(e,"year"),1)[0],u=function(e){var t=10*Math.floor(r.getYear(e)/10);return r.setYear(e,t)},d=function(e){var t=u(e);return r.addYear(t,9)},f=u(o),h=d(o),p=r.addYear(f,-1),g=i?function(e,t){var n=r.setMonth(e,0),o=r.setDate(n,1),a=r.addYear(o,1),l=r.addDate(a,-1);return i(o,t)&&i(l,t)}:null,v=m.createElement("button",{type:"button",key:"decade","aria-label":n.decadeSelect,onClick:function(){l("decade")},tabIndex:-1,className:"".concat(t,"-decade-btn")},Kw(f,{locale:n,format:n.yearFormat,generateConfig:r}),"-",Kw(h,{locale:n,format:n.yearFormat,generateConfig:r}));return m.createElement(xC.Provider,{value:c},m.createElement("div",{className:s},m.createElement(kC,{superOffset:function(e){return r.addYear(o,10*e)},onChange:a,getStart:u,getEnd:d},v),m.createElement(EC,E({},e,{disabledDate:g,titleFormat:n.fieldYearFormat,colNum:3,rowNum:4,baseDate:p,getCellDate:function(e,t){return r.addYear(e,t)},getCellText:function(e){return Kw(e,{locale:n,format:n.cellYearFormat,generateConfig:r})},getCellClassName:function(e){return j({},"".concat(t,"-cell-in-view"),zw(r,e,f)||zw(r,e,h)||Uw(r,f,h,e))}}))))},decade:function(e){var t=e.prefixCls,n=e.locale,r=e.generateConfig,o=e.pickerValue,i=e.disabledDate,a=e.onPickerValueChange,l="".concat(t,"-decade-panel"),s=pt(CC(e,"decade"),1)[0],c=function(e){var t=100*Math.floor(r.getYear(e)/100);return r.setYear(e,t)},u=function(e){var t=c(e);return r.addYear(t,99)},d=c(o),f=u(o),h=r.addYear(d,-10),p=i?function(e,t){var n=r.setDate(e,1),o=r.setMonth(n,0),a=r.setYear(o,10*Math.floor(r.getYear(o)/10)),l=r.addYear(a,10),s=r.addDate(l,-1);return i(a,t)&&i(s,t)}:null,g="".concat(Kw(d,{locale:n,format:n.yearFormat,generateConfig:r}),"-").concat(Kw(f,{locale:n,format:n.yearFormat,generateConfig:r}));return m.createElement(xC.Provider,{value:s},m.createElement("div",{className:l},m.createElement(kC,{superOffset:function(e){return r.addYear(o,100*e)},onChange:a,getStart:c,getEnd:u},g),m.createElement(EC,E({},e,{disabledDate:p,colNum:3,rowNum:4,baseDate:h,getCellDate:function(e,t){return r.addYear(e,10*t)},getCellText:function(e){var t=n.cellYearFormat,o=Kw(e,{locale:n,format:t,generateConfig:r}),i=Kw(r.addYear(e,9),{locale:n,format:t,generateConfig:r});return"".concat(o,"-").concat(i)},getCellClassName:function(e){return j({},"".concat(t,"-cell-in-view"),Dw(r,e,d)||Dw(r,e,f)||Uw(r,d,f,e))}}))))},time:RC};function AC(e,t){var n,r=e.locale,o=e.generateConfig,i=e.direction,a=e.prefixCls,l=e.tabIndex,s=void 0===l?0:l,c=e.multiple,u=e.defaultValue,d=e.value,f=e.onChange,h=e.onSelect,p=e.defaultPickerValue,g=e.pickerValue,v=e.onPickerValueChange,y=e.mode,b=e.onPanelChange,x=e.picker,w=void 0===x?"date":x,C=e.showTime,O=e.hoverValue,k=e.hoverRangeValue,M=e.cellRender,$=e.dateRender,I=e.monthCellRender,N=e.components,T=void 0===N?{}:N,L=e.hideHeader,R=(null===(n=m.useContext(mw))||void 0===n?void 0:n.prefixCls)||a||"rc-picker",_=m.useRef();m.useImperativeHandle(t,function(){return{nativeElement:_.current}});var A=pt(Aw(e),4),P=A[0],B=A[1],z=A[2],H=A[3],F=Iw(r,B),W="date"===w&&C?"datetime":w,G=m.useMemo(function(){return Pw(W,z,H,P,F)},[W,z,H,P,F]),V=o.getNow(),q=pt(Wo(w,{value:y,postState:function(e){return e||"date"}}),2),X=q[0],U=q[1],Y="date"===X&&G?"datetime":X,K=bC(o,r,W),Z=pt(Wo(u,{value:d}),2),Q=Z[0],J=Z[1],ee=m.useMemo(function(){var e=xw(Q).filter(function(e){return e});return c?e:e.slice(0,1)},[Q,c]),te=zo(function(e){J(e),f&&(null===e||ee.length!==e.length||ee.some(function(t,n){return!Xw(o,r,t,e[n],W)}))&&(null==f||f(c?e:e[0]))}),ne=zo(function(e){if(null==h||h(e),X===w){var t=c?K(ee,e):[e];te(t)}}),re=pt(Wo(p||ee[0]||V,{value:g}),2),oe=re[0],ie=re[1];m.useEffect(function(){ee[0]&&!g&&ie(ee[0])},[ee[0]]);var ae=function(e,t){null==b||b(e||g,t||X)},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ie(e),null==v||v(e),t&&ae(e)},se=function(e,t){U(e),t&&le(t),ae(t,e)},ce=m.useMemo(function(){var e,t;if(Array.isArray(k)){var n=pt(k,2);e=n[0],t=n[1]}else e=k;return e||t?(e=e||t,t=t||e,o.isAfter(e,t)?[t,e]:[e,t]):null},[k,o]),ue=kw(M,$,I),de=T[Y]||_C[Y]||MC,fe=m.useContext(SC),he=m.useMemo(function(){return D(D({},fe),{},{hideHeader:L})},[fe,L]),pe="".concat(R,"-panel"),ge=Cw(e,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return m.createElement(SC.Provider,{value:he},m.createElement("div",{ref:_,tabIndex:s,className:S(pe,j({},"".concat(pe,"-rtl"),"rtl"===i))},m.createElement(de,E({},ge,{showTime:G,prefixCls:R,locale:F,generateConfig:o,onModeChange:se,pickerValue:oe,onPickerValueChange:function(e){le(e,!0)},value:ee[0],onSelect:function(e){if(ne(e),le(e),X!==w){var t=["decade","year"],n=[].concat(t,["month"]),r={quarter:[].concat(t,["quarter"]),week:[].concat(it(n),["week"]),date:[].concat(it(n),["date"])}[w]||n,o=r.indexOf(X),i=r[o+1];i&&se(i,e)}},values:ee,cellRender:ue,hoverRangeValue:ce,hoverValue:O}))))}var PC=m.memo(m.forwardRef(AC));function jC(e){var t=e.picker,n=e.multiplePanel,r=e.pickerValue,o=e.onPickerValueChange,i=e.needConfirm,a=e.onSubmit,l=e.range,s=e.hoverValue,c=m.useContext(mw),u=c.prefixCls,d=c.generateConfig,f=m.useCallback(function(e,n){return iC(d,t,e,n)},[d,t]),h=m.useMemo(function(){return f(r,1)},[r,f]),p={onCellDblClick:function(){i&&a()}},g="time"===t,v=D(D({},e),{},{hoverValue:null,hoverRangeValue:null,hideHeader:g});return l?v.hoverRangeValue=s:v.hoverValue=s,n?m.createElement("div",{className:"".concat(u,"-panels")},m.createElement(SC.Provider,{value:D(D({},p),{},{hideNext:!0})},m.createElement(PC,v)),m.createElement(SC.Provider,{value:D(D({},p),{},{hidePrev:!0})},m.createElement(PC,E({},v,{pickerValue:h,onPickerValueChange:function(e){o(f(e,-1))}})))):m.createElement(SC.Provider,{value:D({},p)},m.createElement(PC,v))}function BC(e){return"function"==typeof e?e():e}function DC(e){var t=e.prefixCls,n=e.presets,r=e.onClick,o=e.onHover;return n.length?m.createElement("div",{className:"".concat(t,"-presets")},m.createElement("ul",null,n.map(function(e,t){var n=e.label,i=e.value;return m.createElement("li",{key:t,onClick:function(){r(BC(i))},onMouseEnter:function(){o(BC(i))},onMouseLeave:function(){o(null)}},n)}))):null}function zC(e){var t=e.panelRender,n=e.internalMode,r=e.picker,o=e.showNow,i=e.range,a=e.multiple,l=e.activeInfo,s=void 0===l?[0,0,0]:l,c=e.presets,u=e.onPresetHover,d=e.onPresetSubmit,f=e.onFocus,h=e.onBlur,p=e.onPanelMouseDown,g=e.direction,v=e.value,y=e.onSelect,b=e.isInvalid,x=e.defaultOpenValue,w=e.onOk,C=e.onSubmit,O=m.useContext(mw).prefixCls,k="".concat(O,"-panel"),M="rtl"===g,$=m.useRef(null),I=m.useRef(null),N=pt(m.useState(0),2),T=N[0],L=N[1],R=pt(m.useState(0),2),_=R[0],A=R[1],P=pt(m.useState(0),2),B=P[0],D=P[1],z=pt(s,3),H=z[0],F=z[1],W=z[2],G=pt(m.useState(0),2),V=G[0],q=G[1];function X(e){return e.filter(function(e){return e})}m.useEffect(function(){q(10)},[H]),m.useEffect(function(){if(i&&I.current){var e,t=(null===(e=$.current)||void 0===e?void 0:e.offsetWidth)||0,n=I.current.getBoundingClientRect();if(!n.height||n.right<0)return void q(function(e){return Math.max(0,e-1)});var r=(M?F-t:H)-n.left;if(D(r),T&&T<W){var o=M?n.right-(F-t+T):H+t-n.left-T,a=Math.max(0,o);A(a)}else A(0)}},[V,M,T,H,F,W,i]);var U=m.useMemo(function(){return X(xw(v))},[v]),Y="time"===r&&!U.length,K=m.useMemo(function(){return Y?X([x]):U},[Y,U,x]),Z=Y?x:U,Q=m.useMemo(function(){return!K.length||K.some(function(e){return b(e)})},[K,b]),J=m.createElement("div",{className:"".concat(O,"-panel-layout")},m.createElement(DC,{prefixCls:O,presets:c,onClick:d,onHover:u}),m.createElement("div",null,m.createElement(jC,E({},e,{value:Z})),m.createElement(yC,E({},e,{showNow:!a&&o,invalid:Q,onSubmit:function(){Y&&y(x),w(),C()}}))));t&&(J=t(J));var ee="".concat(k,"-container"),te="marginLeft",ne="marginRight",re=m.createElement("div",{onMouseDown:p,tabIndex:-1,className:S(ee,"".concat(O,"-").concat(n,"-panel-container")),style:j(j({},M?ne:te,_),M?te:ne,"auto"),onFocus:f,onBlur:h},J);return i&&(re=m.createElement("div",{onMouseDown:p,ref:I,className:S("".concat(O,"-range-wrapper"),"".concat(O,"-").concat(r,"-range-wrapper"))},m.createElement("div",{ref:$,className:"".concat(O,"-range-arrow"),style:{left:B}}),m.createElement(tt,{onResize:function(e){e.width&&L(e.width)}},re))),re}function HC(e,t){var n=e.format,r=e.maskFormat,o=e.generateConfig,i=e.locale,a=e.preserveInvalidOnBlur,l=e.inputReadOnly,s=e.required,c=e["aria-required"],u=e.onSubmit,d=e.onFocus,f=e.onBlur,h=e.onInputChange,p=e.onInvalid,g=e.open,v=e.onOpenChange,y=e.onKeyDown,b=e.onChange,x=e.activeHelp,w=e.name,C=e.autoComplete,S=e.id,E=e.value,O=e.invalid,k=e.placeholder,M=e.disabled,$=e.activeIndex,I=e.allHelp,N=e.picker,T=function(e,t){var n=o.locale.parse(i.locale,e,[t]);return n&&o.isValidate(n)?n:null},L=n[0],R=m.useCallback(function(e){return Kw(e,{locale:i,format:L,generateConfig:o})},[i,o,L]),_=m.useMemo(function(){return E.map(R)},[E,R]),A=m.useMemo(function(){var e="time"===N?8:10,t="function"==typeof L?L(o.getNow()).length:L.length;return Math.max(e,t)+2},[L,N,o]),P=function(e){for(var t=0;t<n.length;t+=1){var r=n[t];if("string"==typeof r){var o=T(e,r);if(o)return o}}return!1};return[function(n){function o(e){return void 0!==n?e[n]:e}var i=D(D({},ol(e,{aria:!0,data:!0})),{},{format:r,validateFormat:function(e){return!!P(e)},preserveInvalidOnBlur:a,readOnly:l,required:s,"aria-required":c,name:w,autoComplete:C,size:A,id:o(S),value:o(_)||"",invalid:o(O),placeholder:o(k),active:$===n,helped:I||x&&$===n,disabled:o(M),onFocus:function(e){d(e,n)},onBlur:function(e){f(e,n)},onSubmit:u,onChange:function(e){h();var t=P(e);if(t)return p(!1,n),void b(t,n);p(!!e,n)},onHelp:function(){v(!0,{index:n})},onKeyDown:function(e){var t=!1;if(null==y||y(e,function(){t=!0}),!e.defaultPrevented&&!t)switch(e.key){case"Escape":v(!1,{index:n});break;case"Enter":g||v(!0)}}},null==t?void 0:t({valueTexts:_}));return Object.keys(i).forEach(function(e){void 0===i[e]&&delete i[e]}),i},R]}var FC=["onMouseEnter","onMouseLeave"];function WC(e){return m.useMemo(function(){return Cw(e,FC)},[e])}var GC=["icon","type"],VC=["onClear"];function qC(e){var t=e.icon,n=e.type,r=$t(e,GC),o=m.useContext(mw).prefixCls;return t?m.createElement("span",E({className:"".concat(o,"-").concat(n)},r),t):null}function XC(e){var t=e.onClear,n=$t(e,VC);return m.createElement(qC,E({},n,{type:"clear",role:"button",onMouseDown:function(e){e.preventDefault()},onClick:function(e){e.stopPropagation(),t()}}))}var UC=["YYYY","MM","DD","HH","mm","ss","SSS"],YC=function(){function e(t){He(this,e),j(this,"format",void 0),j(this,"maskFormat",void 0),j(this,"cells",void 0),j(this,"maskCells",void 0),this.format=t;var n=UC.map(function(e){return"(".concat(e,")")}).join("|"),r=new RegExp(n,"g");this.maskFormat=t.replace(r,function(e){return"".repeat(e.length)});var o=new RegExp("(".concat(UC.join("|"),")")),i=(t.split(o)||[]).filter(function(e){return e}),a=0;this.cells=i.map(function(e){var t=UC.includes(e),n=a,r=a+e.length;return a=r,{text:e,mask:t,start:n,end:r}}),this.maskCells=this.cells.filter(function(e){return e.mask})}return We(e,[{key:"getSelection",value:function(e){var t=this.maskCells[e]||{};return[t.start||0,t.end||0]}},{key:"match",value:function(e){for(var t=0;t<this.maskFormat.length;t+=1){var n=this.maskFormat[t],r=e[t];if(!r||""!==n&&n!==r)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,r=0;r<this.maskCells.length;r+=1){var o=this.maskCells[r],i=o.start,a=o.end;if(e>=i&&e<=a)return r;var l=Math.min(Math.abs(e-i),Math.abs(e-a));l<t&&(t=l,n=r)}return n}}]),e}();var KC=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],ZC=m.forwardRef(function(e,t){var n=e.active,r=e.showActiveCls,o=void 0===r||r,i=e.suffixIcon,a=e.format,l=e.validateFormat,s=e.onChange;e.onInput;var c=e.helped,u=e.onHelp,d=e.onSubmit,f=e.onKeyDown,h=e.preserveInvalidOnBlur,p=void 0!==h&&h,g=e.invalid,v=e.clearIcon,y=$t(e,KC),b=e.value,x=e.onFocus,w=e.onBlur,C=e.onMouseUp,O=m.useContext(mw),k=O.prefixCls,M=O.input,$=void 0===M?"input":M,I="".concat(k,"-input"),N=pt(m.useState(!1),2),T=N[0],L=N[1],R=pt(m.useState(b),2),_=R[0],A=R[1],P=pt(m.useState(""),2),B=P[0],D=P[1],z=pt(m.useState(null),2),H=z[0],F=z[1],W=pt(m.useState(null),2),G=W[0],V=W[1],q=_||"";m.useEffect(function(){A(b)},[b]);var X=m.useRef(),U=m.useRef();m.useImperativeHandle(t,function(){return{nativeElement:X.current,inputElement:U.current,focus:function(e){U.current.focus(e)},blur:function(){U.current.blur()}}});var Y=m.useMemo(function(){return new YC(a||"")},[a]),K=pt(m.useMemo(function(){return c?[0,0]:Y.getSelection(H)},[Y,H,c]),2),Z=K[0],Q=K[1],J=function(e){e&&e!==a&&e!==b&&u()},ee=zo(function(e){l(e)&&s(e),A(e),J(e)}),te=m.useRef(!1),ne=function(e){w(e)};rC(n,function(){n||p||A(b)});var re=function(e){"Enter"===e.key&&l(q)&&d(),null==f||f(e)},oe=m.useRef();Jt(function(){if(T&&a&&!te.current){if(Y.match(q))return U.current.setSelectionRange(Z,Q),oe.current=dt(function(){U.current.setSelectionRange(Z,Q)}),function(){dt.cancel(oe.current)};ee(a)}},[Y,a,T,q,H,Z,Q,G,ee]);var ie=a?{onFocus:function(e){L(!0),F(0),D(""),x(e)},onBlur:function(e){L(!1),ne(e)},onKeyDown:function(e){re(e);var t=e.key,n=null,r=null,o=Q-Z,i=a.slice(Z,Q),l=function(e){F(function(t){var n=t+e;return n=Math.max(n,0),n=Math.min(n,Y.size()-1)})},s=function(e){var t=function(e){return{YYYY:[0,9999,(new Date).getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]}[e]}(i),n=pt(t,3),r=n[0],o=n[1],a=n[2],l=q.slice(Z,Q),s=Number(l);if(isNaN(s))return String(a||(e>0?r:o));var c=o-r+1;return String(r+(c+(s+e)-r)%c)};switch(t){case"Backspace":case"Delete":n="",r=i;break;case"ArrowLeft":n="",l(-1);break;case"ArrowRight":n="",l(1);break;case"ArrowUp":n="",r=s(1);break;case"ArrowDown":n="",r=s(-1);break;default:isNaN(Number(t))||(r=n=B+t)}if(null!==n&&(D(n),n.length>=o&&(l(1),D(""))),null!==r){var c=q.slice(0,Z)+bw(r,o)+q.slice(Q);ee(c.slice(0,a.length))}V({})},onMouseDown:function(){te.current=!0},onMouseUp:function(e){var t=e.target.selectionStart,n=Y.getMaskCellIndex(t);F(n),V({}),null==C||C(e),te.current=!1},onPaste:function(e){var t=e.clipboardData.getData("text");l(t)&&ee(t)}}:{};return m.createElement("div",{ref:X,className:S(I,j(j({},"".concat(I,"-active"),n&&o),"".concat(I,"-placeholder"),c))},m.createElement($,E({ref:U,"aria-invalid":g,autoComplete:"off"},y,{onKeyDown:re,onBlur:ne},ie,{value:q,onChange:function(e){if(!a){var t=e.target.value;J(t),A(t),s(t)}}})),m.createElement(qC,{type:"suffix",icon:i}),v)}),QC=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],JC=["index"];function eS(e,t){var n=e.id,r=e.prefix,o=e.clearIcon,i=e.suffixIcon,a=e.separator,l=void 0===a?"~":a,s=e.activeIndex;e.activeHelp,e.allHelp;var c=e.focused;e.onFocus,e.onBlur,e.onKeyDown,e.locale,e.generateConfig;var u=e.placeholder,d=e.className,f=e.style,h=e.onClick,p=e.onClear,g=e.value;e.onChange,e.onSubmit,e.onInputChange,e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid;var v=e.disabled,y=e.invalid;e.inputReadOnly;var b=e.direction;e.onOpenChange;var x=e.onActiveInfo;e.placement;var w=e.onMouseDown;e.required,e["aria-required"];var C=e.autoFocus,k=e.tabIndex,M=$t(e,QC),$="rtl"===b,I=m.useContext(mw).prefixCls,N=m.useMemo(function(){if("string"==typeof n)return[n];var e=n||{};return[e.start,e.end]},[n]),T=m.useRef(),L=m.useRef(),R=m.useRef(),_=function(e){var t;return null===(t=[L,R][e])||void 0===t?void 0:t.current};m.useImperativeHandle(t,function(){return{nativeElement:T.current,focus:function(e){if("object"===O(e)){var t,n=e||{},r=n.index,o=void 0===r?0:r,i=$t(n,JC);null===(t=_(o))||void 0===t||t.focus(i)}else{var a;null===(a=_(null!=e?e:0))||void 0===a||a.focus()}},blur:function(){var e,t;null===(e=_(0))||void 0===e||e.blur(),null===(t=_(1))||void 0===t||t.blur()}}});var A=WC(M),P=m.useMemo(function(){return Array.isArray(u)?u:[u,u]},[u]),B=pt(HC(D(D({},e),{},{id:N,placeholder:P})),1)[0],z=pt(m.useState({position:"absolute",width:0}),2),H=z[0],F=z[1],W=zo(function(){var e=_(s);if(e){var t=e.nativeElement.getBoundingClientRect(),n=T.current.getBoundingClientRect(),r=t.left-n.left;F(function(e){return D(D({},e),{},{width:t.width,left:r})}),x([t.left,t.right,n.width])}});m.useEffect(function(){W()},[s]);var G=o&&(g[0]&&!v[0]||g[1]&&!v[1]),V=C&&!v[0],q=C&&!V&&!v[1];return m.createElement(tt,{onResize:W},m.createElement("div",E({},A,{className:S(I,"".concat(I,"-range"),j(j(j(j({},"".concat(I,"-focused"),c),"".concat(I,"-disabled"),v.every(function(e){return e})),"".concat(I,"-invalid"),y.some(function(e){return e})),"".concat(I,"-rtl"),$),d),style:f,ref:T,onClick:h,onMouseDown:function(e){var t=e.target;t!==L.current.inputElement&&t!==R.current.inputElement&&e.preventDefault(),null==w||w(e)}}),r&&m.createElement("div",{className:"".concat(I,"-prefix")},r),m.createElement(ZC,E({ref:L},B(0),{autoFocus:V,tabIndex:k,"date-range":"start"})),m.createElement("div",{className:"".concat(I,"-range-separator")},l),m.createElement(ZC,E({ref:R},B(1),{autoFocus:q,tabIndex:k,"date-range":"end"})),m.createElement("div",{className:"".concat(I,"-active-bar"),style:H}),m.createElement(qC,{type:"suffix",icon:i}),G&&m.createElement(XC,{icon:o,onClear:p})))}var tS=m.forwardRef(eS);function nS(e,t){var n=null!=e?e:t;return Array.isArray(n)?n:[n,n]}function rS(e){return 1===e?"end":"start"}function oS(e,t){var n=pt(Jw(e,function(){var t=e.disabled,n=e.allowEmpty;return{disabled:nS(t,!1),allowEmpty:nS(n,!1)}}),6),r=n[0],o=n[1],i=n[2],a=n[3],l=n[4],s=n[5],c=r.prefixCls,u=r.styles,d=r.classNames,f=r.defaultValue,h=r.value,p=r.needConfirm,g=r.onKeyDown,v=r.disabled,y=r.allowEmpty,b=r.disabledDate,x=r.minDate,w=r.maxDate,C=r.defaultOpen,S=r.open,O=r.onOpenChange,k=r.locale,M=r.generateConfig,$=r.picker,I=r.showNow,N=r.showToday,T=r.showTime,L=r.mode,R=r.onPanelChange,_=r.onCalendarChange,A=r.onOk,P=r.defaultPickerValue,j=r.pickerValue,B=r.onPickerValueChange,z=r.inputReadOnly,H=r.suffixIcon,F=r.onFocus,W=r.onBlur,G=r.presets,V=r.ranges,q=r.components,X=r.cellRender,U=r.dateRender,Y=r.monthCellRender,K=r.onClick,Z=tC(t),Q=pt(eC(S,C,v,O),2),J=Q[0],ee=Q[1],te=function(e,t){!v.some(function(e){return!e})&&e||ee(e,t)},ne=pt(fC(M,k,a,!0,!1,f,h,_,A),5),re=ne[0],oe=ne[1],ie=ne[2],ae=ne[3],le=ne[4],se=ie(),ce=pt(oC(v,y,J),9),ue=ce[0],de=ce[1],fe=ce[2],he=ce[3],pe=ce[4],ge=ce[5],me=ce[6],ve=ce[7],ye=ce[8],be=function(e,t){de(!0),null==F||F(e,{range:rS(null!=t?t:he)})},xe=function(e,t){de(!1),null==W||W(e,{range:rS(null!=t?t:he)})},we=m.useMemo(function(){if(!T)return null;var e=T.disabledTime,t=e?function(t){var n=rS(he),r=Ew(se,me,he);return e(t,n,{from:r})}:void 0;return D(D({},T),{},{disabledTime:t})},[T,he,se,me]),Ce=pt(Wo([$,$],{value:L}),2),Se=Ce[0],Ee=Ce[1],Oe=Se[he]||$,ke="date"===Oe&&we?"datetime":Oe,Me=ke===$&&"time"!==ke,$e=pC($,Oe,I,N,!0),Ie=pt(hC(r,re,oe,ie,ae,v,a,ue,J,s),2),Ne=Ie[0],Te=Ie[1],Le=function(e,t,n,r,o,i){var a=n[n.length-1];return function(l,s){var c=pt(e,2),u=c[0],d=c[1],f=D(D({},s),{},{from:Ew(e,n)});return!(1!==a||!t[0]||!u||Xw(r,o,u,l,f.type)||!r.isAfter(u,l))||!(0!==a||!t[1]||!d||Xw(r,o,d,l,f.type)||!r.isAfter(l,d))||(null==i?void 0:i(l,f))}}(se,v,me,M,k,b),Re=pt(Mw(se,s,y),2),_e=Re[0],Ae=Re[1],Pe=pt(lC(M,k,se,Se,J,he,o,Me,P,j,null==we?void 0:we.defaultOpenValue,B,x,w),2),je=Pe[0],Be=Pe[1],De=zo(function(e,t,n){var r=ww(Se,he,t);if(r[0]===Se[0]&&r[1]===Se[1]||Ee(r),R&&!1!==n){var o=it(se);e&&(o[he]=e),R(o,r)}}),ze=function(e,t){return ww(se,t,e)},He=function(e,t){var n=se;e&&(n=ze(e,he)),ve(he);var r=ge(n);ae(n),Ne(he,null===r),null===r?te(!1,{force:!0}):t||Z.current.focus({index:r})},Fe=pt(m.useState(null),2),We=Fe[0],Ge=Fe[1],Ve=pt(m.useState(null),2),qe=Ve[0],Xe=Ve[1],Ue=m.useMemo(function(){return qe||se},[se,qe]);m.useEffect(function(){J||Xe(null)},[J]);var Ye=pt(m.useState([0,0,0]),2),Ke=Ye[0],Ze=Ye[1],Qe=nC(G,V),Je=kw(X,U,Y,rS(he)),et=se[he]||null,tt=zo(function(e){return s(e,{activeIndex:he})}),nt=m.useMemo(function(){var e=ol(r,!1);return js(r,[].concat(it(Object.keys(e)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]))},[r]),rt=m.createElement(zC,E({},nt,{showNow:$e,showTime:we,range:!0,multiplePanel:Me,activeInfo:Ke,disabledDate:Le,onFocus:function(e){te(!0),be(e)},onBlur:xe,onPanelMouseDown:function(){fe("panel")},picker:$,mode:Oe,internalMode:ke,onPanelChange:De,format:l,value:et,isInvalid:tt,onChange:null,onSelect:function(e){var t=ww(se,he,e);ae(t),p||i||o!==ke||He(e)},pickerValue:je,defaultOpenValue:xw(null==T?void 0:T.defaultOpenValue)[he],onPickerValueChange:Be,hoverValue:Ue,onHover:function(e){Xe(e?ze(e,he):null),Ge("cell")},needConfirm:p,onSubmit:He,onOk:le,presets:Qe,onPresetHover:function(e){Xe(e),Ge("preset")},onPresetSubmit:function(e){Te(e)&&te(!1,{force:!0})},onNow:function(e){He(e)},cellRender:Je})),ot=m.useMemo(function(){return{prefixCls:c,locale:k,generateConfig:M,button:q.button,input:q.input}},[c,k,M,q.button,q.input]);return Jt(function(){J&&void 0!==he&&De(null,$,!1)},[J,he,$]),Jt(function(){var e=fe();J||"input"!==e||(te(!1),He(null,!0)),J||!i||p||"panel"!==e||(te(!0),He())},[J]),m.createElement(mw.Provider,{value:ot},m.createElement(yw,E({},Ow(r),{popupElement:rt,popupStyle:u.popup,popupClassName:d.popup,visible:J,onClose:function(){te(!1)},range:!0}),m.createElement(tS,E({},r,{ref:Z,suffixIcon:H,activeIndex:ue||J?he:null,activeHelp:!!qe,allHelp:!!qe&&"preset"===We,focused:ue,onFocus:function(e,t){var n=me.length,r=me[n-1];n&&r!==t&&p&&!y[r]&&!ye(r)&&se[r]?Z.current.focus({index:r}):(fe("input"),te(!0,{inherit:!0}),he!==t&&J&&!p&&i&&He(null,!0),pe(t),be(e,t))},onBlur:function(e,t){if(te(!1),!p&&"input"===fe()){var n=ge(se);Ne(he,null===n)}xe(e,t)},onKeyDown:function(e,t){"Tab"===e.key&&He(null,!0),null==g||g(e,t)},onSubmit:He,value:Ue,maskFormat:l,onChange:function(e,t){var n=ze(e,t);ae(n)},onInputChange:function(){fe("input")},format:a,inputReadOnly:z,disabled:v,open:J,onOpenChange:te,onClick:function(e){var t,n=e.target.getRootNode();if(!Z.current.nativeElement.contains(null!==(t=n.activeElement)&&void 0!==t?t:document.activeElement)){var r=v.findIndex(function(e){return!e});r>=0&&Z.current.focus({index:r})}te(!0),null==K||K(e)},onClear:function(){Te(null),te(!1,{force:!0})},invalid:_e,onInvalid:Ae,onActiveInfo:Ze}))))}var iS=m.forwardRef(oS);function aS(e){var t=e.prefixCls,n=e.value,r=e.onRemove,o=e.removeIcon,i=void 0===o?"":o,a=e.formatDate,l=e.disabled,s=e.maxTagCount,c=e.placeholder,u="".concat(t,"-selector"),d="".concat(t,"-selection"),f="".concat(d,"-overflow");function h(e,t){return m.createElement("span",{className:S("".concat(d,"-item")),title:"string"==typeof e?e:null},m.createElement("span",{className:"".concat(d,"-item-content")},e),!l&&t&&m.createElement("span",{onMouseDown:function(e){e.preventDefault()},onClick:t,className:"".concat(d,"-item-remove")},i))}return m.createElement("div",{className:u},m.createElement(Hp,{prefixCls:f,data:n,renderItem:function(e){return h(a(e),function(t){t&&t.stopPropagation(),r(e)})},renderRest:function(e){return h("+ ".concat(e.length," ..."))},itemKey:function(e){return a(e)},maxCount:s}),!n.length&&m.createElement("span",{className:"".concat(t,"-selection-placeholder")},c))}var lS=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function sS(e,t){e.id;var n=e.open,r=e.prefix,o=e.clearIcon,i=e.suffixIcon;e.activeHelp,e.allHelp;var a=e.focused;e.onFocus,e.onBlur,e.onKeyDown;var l=e.locale,s=e.generateConfig,c=e.placeholder,u=e.className,d=e.style,f=e.onClick,h=e.onClear,p=e.internalPicker,g=e.value,v=e.onChange,y=e.onSubmit;e.onInputChange;var b=e.multiple,x=e.maxTagCount;e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid;var w=e.disabled,C=e.invalid;e.inputReadOnly;var O=e.direction;e.onOpenChange;var k=e.onMouseDown;e.required,e["aria-required"];var M=e.autoFocus,$=e.tabIndex,I=e.removeIcon,N=$t(e,lS),T="rtl"===O,L=m.useContext(mw).prefixCls,R=m.useRef(),_=m.useRef();m.useImperativeHandle(t,function(){return{nativeElement:R.current,focus:function(e){var t;null===(t=_.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=_.current)||void 0===e||e.blur()}}});var A=WC(N),P=pt(HC(D(D({},e),{},{onChange:function(e){v([e])}}),function(e){return{value:e.valueTexts[0]||"",active:a}}),2),B=P[0],z=P[1],H=!(!o||!g.length||w),F=b?m.createElement(m.Fragment,null,m.createElement(aS,{prefixCls:L,value:g,onRemove:function(e){var t=g.filter(function(t){return t&&!Xw(s,l,t,e,p)});v(t),n||y()},formatDate:z,maxTagCount:x,disabled:w,removeIcon:I,placeholder:c}),m.createElement("input",{className:"".concat(L,"-multiple-input"),value:g.map(z).join(","),ref:_,readOnly:!0,autoFocus:M,tabIndex:$}),m.createElement(qC,{type:"suffix",icon:i}),H&&m.createElement(XC,{icon:o,onClear:h})):m.createElement(ZC,E({ref:_},B(),{autoFocus:M,tabIndex:$,suffixIcon:i,clearIcon:H&&m.createElement(XC,{icon:o,onClear:h}),showActiveCls:!1}));return m.createElement("div",E({},A,{className:S(L,j(j(j(j(j({},"".concat(L,"-multiple"),b),"".concat(L,"-focused"),a),"".concat(L,"-disabled"),w),"".concat(L,"-invalid"),C),"".concat(L,"-rtl"),T),u),style:d,ref:R,onClick:f,onMouseDown:function(e){var t;e.target!==(null===(t=_.current)||void 0===t?void 0:t.inputElement)&&e.preventDefault(),null==k||k(e)}}),r&&m.createElement("div",{className:"".concat(L,"-prefix")},r),F)}var cS=m.forwardRef(sS);function uS(e,t){var n=pt(Jw(e),6),r=n[0],o=n[1],i=n[2],a=n[3],l=n[4],s=n[5],c=r,u=c.prefixCls,d=c.styles,f=c.classNames,h=c.order,p=c.defaultValue,g=c.value,v=c.needConfirm,y=c.onChange,b=c.onKeyDown,x=c.disabled,w=c.disabledDate,C=c.minDate,S=c.maxDate,O=c.defaultOpen,k=c.open,M=c.onOpenChange,$=c.locale,I=c.generateConfig,N=c.picker,T=c.showNow,L=c.showToday,R=c.showTime,_=c.mode,A=c.onPanelChange,P=c.onCalendarChange,j=c.onOk,B=c.multiple,z=c.defaultPickerValue,H=c.pickerValue,F=c.onPickerValueChange,W=c.inputReadOnly,G=c.suffixIcon,V=c.removeIcon,q=c.onFocus,X=c.onBlur,U=c.presets,Y=c.components,K=c.cellRender,Z=c.dateRender,Q=c.monthCellRender,J=c.onClick,ee=tC(t);function te(e){return null===e?null:B?e:e[0]}var ne=bC(I,$,o),re=pt(eC(k,O,[x],M),2),oe=re[0],ie=re[1],ae=pt(fC(I,$,a,!1,h,p,g,function(e,t,n){if(P){var r=D({},n);delete r.range,P(te(e),te(t),r)}},function(e){null==j||j(te(e))}),5),le=ae[0],se=ae[1],ce=ae[2],ue=ae[3],de=ae[4],fe=ce(),he=pt(oC([x]),4),pe=he[0],ge=he[1],me=he[2],ve=he[3],ye=function(e){ge(!0),null==q||q(e,{})},be=function(e){ge(!1),null==X||X(e,{})},xe=pt(Wo(N,{value:_}),2),we=xe[0],Ce=xe[1],Se="date"===we&&R?"datetime":we,Ee=pC(N,we,T,L),Oe=y&&function(e,t){y(te(e),te(t))},ke=pt(hC(D(D({},r),{},{onChange:Oe}),le,se,ce,ue,[],a,pe,oe,s),2)[1],Me=pt(Mw(fe,s),2),$e=Me[0],Ie=Me[1],Ne=m.useMemo(function(){return $e.some(function(e){return e})},[$e]),Te=pt(lC(I,$,fe,[we],oe,ve,o,!1,z,H,xw(null==R?void 0:R.defaultOpenValue),function(e,t){if(F){var n=D(D({},t),{},{mode:t.mode[0]});delete n.range,F(e[0],n)}},C,S),2),Le=Te[0],Re=Te[1],_e=zo(function(e,t,n){if(Ce(t),A&&!1!==n){var r=e||fe[fe.length-1];A(r,t)}}),Ae=function(){ke(ce()),ie(!1,{force:!0})},Pe=pt(m.useState(null),2),je=Pe[0],Be=Pe[1],De=pt(m.useState(null),2),ze=De[0],He=De[1],Fe=m.useMemo(function(){var e=[ze].concat(it(fe)).filter(function(e){return e});return B?e:e.slice(0,1)},[fe,ze,B]),We=m.useMemo(function(){return!B&&ze?[ze]:fe.filter(function(e){return e})},[fe,ze,B]);m.useEffect(function(){oe||He(null)},[oe]);var Ge=nC(U),Ve=function(e){var t=B?ne(ce(),e):[e];ke(t)&&!B&&ie(!1,{force:!0})},qe=kw(K,Z,Q),Xe=m.useMemo(function(){var e=ol(r,!1);return D(D({},js(r,[].concat(it(Object.keys(e)),["onChange","onCalendarChange","style","className","onPanelChange"]))),{},{multiple:r.multiple})},[r]),Ue=m.createElement(zC,E({},Xe,{showNow:Ee,showTime:R,disabledDate:w,onFocus:function(e){ie(!0),ye(e)},onBlur:be,picker:N,mode:we,internalMode:Se,onPanelChange:_e,format:l,value:fe,isInvalid:s,onChange:null,onSelect:function(e){if(me("panel"),!B||Se===N){var t=B?ne(ce(),e):[e];ue(t),v||i||o!==Se||Ae()}},pickerValue:Le,defaultOpenValue:null==R?void 0:R.defaultOpenValue,onPickerValueChange:Re,hoverValue:Fe,onHover:function(e){He(e),Be("cell")},needConfirm:v,onSubmit:Ae,onOk:de,presets:Ge,onPresetHover:function(e){He(e),Be("preset")},onPresetSubmit:Ve,onNow:function(e){Ve(e)},cellRender:qe})),Ye=m.useMemo(function(){return{prefixCls:u,locale:$,generateConfig:I,button:Y.button,input:Y.input}},[u,$,I,Y.button,Y.input]);return Jt(function(){oe&&void 0!==ve&&_e(null,N,!1)},[oe,ve,N]),Jt(function(){var e=me();oe||"input"!==e||(ie(!1),Ae()),oe||!i||v||"panel"!==e||Ae()},[oe]),m.createElement(mw.Provider,{value:Ye},m.createElement(yw,E({},Ow(r),{popupElement:Ue,popupStyle:d.popup,popupClassName:f.popup,visible:oe,onClose:function(){ie(!1)}}),m.createElement(cS,E({},r,{ref:ee,suffixIcon:G,removeIcon:V,activeHelp:!!ze,allHelp:!!ze&&"preset"===je,focused:pe,onFocus:function(e){me("input"),ie(!0,{inherit:!0}),ye(e)},onBlur:function(e){ie(!1),be(e)},onKeyDown:function(e,t){"Tab"===e.key&&Ae(),null==b||b(e,t)},onSubmit:Ae,value:We,maskFormat:l,onChange:function(e){ue(e)},onInputChange:function(){me("input")},internalPicker:o,format:a,inputReadOnly:W,disabled:x,open:oe,onOpenChange:ie,onClick:function(e){x||ee.current.nativeElement.contains(document.activeElement)||ee.current.focus(),ie(!0),null==J||J(e)},onClear:function(){ke(null),ie(!1,{force:!0})},invalid:Ne,onInvalid:function(e){Ie(e,0)}}))))}var dS=m.forwardRef(uS);const fS=m.createContext(null),hS=fS.Provider,pS=m.createContext(null),gS=pS.Provider;var mS=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],vS=m.forwardRef(function(e,t){var n=e.prefixCls,r=void 0===n?"rc-checkbox":n,o=e.className,i=e.style,a=e.checked,l=e.disabled,s=e.defaultChecked,c=void 0!==s&&s,u=e.type,d=void 0===u?"checkbox":u,f=e.title,h=e.onChange,p=$t(e,mS),g=m.useRef(null),v=m.useRef(null),y=pt(Wo(c,{value:a}),2),b=y[0],x=y[1];m.useImperativeHandle(t,function(){return{focus:function(e){var t;null===(t=g.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=g.current)||void 0===e||e.blur()},input:g.current,nativeElement:v.current}});var w=S(r,o,j(j({},"".concat(r,"-checked"),b),"".concat(r,"-disabled"),l));return m.createElement("span",{className:w,title:f,style:i,ref:v},m.createElement("input",E({},p,{className:"".concat(r,"-input"),ref:g,onChange:function(t){l||("checked"in e||x(t.target.checked),null==h||h({target:D(D({},e),{},{type:d,checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t.nativeEvent}))},disabled:l,checked:!!b,type:d})),m.createElement("span",{className:"".concat(r,"-inner")}))});function yS(e){const t=p.useRef(null),n=()=>{dt.cancel(t.current),t.current=null};return[()=>{n(),t.current=dt(()=>{t.current=null})},r=>{t.current&&(r.stopPropagation(),n()),null==e||e(r)}]}const bS=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-group`;return{[r]:Object.assign(Object.assign({},ui(e)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`&${r}-block`]:{display:"flex"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},xS=e=>{const{componentCls:t,wrapperMarginInlineEnd:n,colorPrimary:r,radioSize:o,motionDurationSlow:i,motionDurationMid:a,motionEaseInOutCirc:l,colorBgContainer:s,colorBorder:c,lineWidth:u,colorBgContainerDisabled:d,colorTextDisabled:f,paddingXS:h,dotColorDisabled:p,lineType:g,radioColor:m,radioBgColor:v,calc:y}=e,b=`${t}-inner`,x=y(o).sub(y(4).mul(2)),w=y(1).mul(o).equal({unit:!0});return{[`${t}-wrapper`]:Object.assign(Object.assign({},ui(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${Xt(u)} ${g} ${r}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[t]:Object.assign(Object.assign({},ui(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,\n        &:hover ${b}`]:{borderColor:r},[`${t}-input:focus-visible + ${b}`]:di(e),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:w,height:w,marginBlockStart:y(1).mul(o).div(-2).equal({unit:!0}),marginInlineStart:y(1).mul(o).div(-2).equal({unit:!0}),backgroundColor:m,borderBlockStart:0,borderInlineStart:0,borderRadius:w,transform:"scale(0)",opacity:0,transition:`all ${i} ${l}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:w,height:w,backgroundColor:s,borderColor:c,borderStyle:"solid",borderWidth:u,borderRadius:"50%",transition:`all ${a}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[b]:{borderColor:r,backgroundColor:v,"&::after":{transform:`scale(${e.calc(e.dotSize).div(o).equal()})`,opacity:1,transition:`all ${i} ${l}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[b]:{backgroundColor:d,borderColor:c,cursor:"not-allowed","&::after":{backgroundColor:p}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:f,cursor:"not-allowed"},[`&${t}-checked`]:{[b]:{"&::after":{transform:`scale(${y(x).div(o).equal()})`}}}},[`span${t} + *`]:{paddingInlineStart:h,paddingInlineEnd:h}})}},wS=e=>{const{buttonColor:t,controlHeight:n,componentCls:r,lineWidth:o,lineType:i,colorBorder:a,motionDurationMid:l,buttonPaddingInline:s,fontSize:c,buttonBg:u,fontSizeLG:d,controlHeightLG:f,controlHeightSM:h,paddingXS:p,borderRadius:g,borderRadiusSM:m,borderRadiusLG:v,buttonCheckedBg:y,buttonSolidCheckedColor:b,colorTextDisabled:x,colorBgContainerDisabled:w,buttonCheckedBgDisabled:C,buttonCheckedColorDisabled:S,colorPrimary:E,colorPrimaryHover:O,colorPrimaryActive:k,buttonSolidCheckedBg:M,buttonSolidCheckedHoverBg:$,buttonSolidCheckedActiveBg:I,calc:N}=e;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:s,paddingBlock:0,color:t,fontSize:c,lineHeight:Xt(N(n).sub(N(o).mul(2)).equal()),background:u,border:`${Xt(o)} ${i} ${a}`,borderBlockStartWidth:N(o).add(.02).equal(),borderInlineEndWidth:o,cursor:"pointer",transition:[`color ${l}`,`background ${l}`,`box-shadow ${l}`].join(","),a:{color:t},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:last-child)":{marginInlineEnd:N(o).mul(-1).equal()},"&:first-child":{borderInlineStart:`${Xt(o)} ${i} ${a}`,borderStartStartRadius:g,borderEndStartRadius:g},"&:last-child":{borderStartEndRadius:g,borderEndEndRadius:g},"&:first-child:last-child":{borderRadius:g},[`${r}-group-large &`]:{height:f,fontSize:d,lineHeight:Xt(N(f).sub(N(o).mul(2)).equal()),"&:first-child":{borderStartStartRadius:v,borderEndStartRadius:v},"&:last-child":{borderStartEndRadius:v,borderEndEndRadius:v}},[`${r}-group-small &`]:{height:h,paddingInline:N(p).sub(o).equal(),paddingBlock:0,lineHeight:Xt(N(h).sub(N(o).mul(2)).equal()),"&:first-child":{borderStartStartRadius:m,borderEndStartRadius:m},"&:last-child":{borderStartEndRadius:m,borderEndEndRadius:m}},"&:hover":{position:"relative",color:E},"&:has(:focus-visible)":di(e),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:E,background:y,borderColor:E,"&::before":{backgroundColor:E},"&:first-child":{borderColor:E},"&:hover":{color:O,borderColor:O,"&::before":{backgroundColor:O}},"&:active":{color:k,borderColor:k,"&::before":{backgroundColor:k}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:b,background:M,borderColor:M,"&:hover":{color:b,background:$,borderColor:$},"&:active":{color:b,background:I,borderColor:I}},"&-disabled":{color:x,backgroundColor:w,borderColor:a,cursor:"not-allowed","&:first-child, &:hover":{color:x,backgroundColor:w,borderColor:a}},[`&-disabled${r}-button-wrapper-checked`]:{color:S,backgroundColor:C,borderColor:a,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},CS=gi("Radio",e=>{const{controlOutline:t,controlOutlineWidth:n}=e,r=`0 0 0 ${Xt(n)} ${t}`,o=Xo(e,{radioFocusShadow:r,radioButtonFocusShadow:r});return[bS(o),xS(o),wS(o)]},e=>{const{wireframe:t,padding:n,marginXS:r,lineWidth:o,fontSizeLG:i,colorText:a,colorBgContainer:l,colorTextDisabled:s,controlItemBgActiveDisabled:c,colorTextLightSolid:u,colorPrimary:d,colorPrimaryHover:f,colorPrimaryActive:h,colorWhite:p}=e;return{radioSize:i,dotSize:t?i-8:i-2*(4+o),dotColorDisabled:s,buttonSolidCheckedColor:u,buttonSolidCheckedBg:d,buttonSolidCheckedHoverBg:f,buttonSolidCheckedActiveBg:h,buttonBg:l,buttonCheckedBg:l,buttonColor:a,buttonCheckedBgDisabled:c,buttonCheckedColorDisabled:s,buttonPaddingInline:n-o,wrapperMarginInlineEnd:r,radioColor:t?d:p,radioBgColor:t?l:d}},{unitless:{radioSize:!0,dotSize:!0}});const SS=(e,t)=>{var n,r;const o=m.useContext(fS),i=m.useContext(pS),{getPrefixCls:a,direction:l,radio:s}=m.useContext(So),c=m.useRef(null),u=de(t,c),{isFormItemInput:d}=m.useContext(eh),f=t=>{var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null==o?void 0:o.onChange)||void 0===r||r.call(o,t)},{prefixCls:h,className:p,rootClassName:g,children:v,style:y,title:b}=e,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","children","style","title"]),w=a("radio",h),C="button"===((null==o?void 0:o.optionType)||i),E=C?`${w}-button`:w,O=Nl(w),[k,M,$]=CS(w,O),I=Object.assign({},x),N=m.useContext(Io);o&&(I.name=o.name,I.onChange=f,I.checked=e.value===o.value,I.disabled=null!==(n=I.disabled)&&void 0!==n?n:o.disabled),I.disabled=null!==(r=I.disabled)&&void 0!==r?r:N;const T=S(`${E}-wrapper`,{[`${E}-wrapper-checked`]:I.checked,[`${E}-wrapper-disabled`]:I.disabled,[`${E}-wrapper-rtl`]:"rtl"===l,[`${E}-wrapper-in-form-item`]:d,[`${E}-wrapper-block`]:!!(null==o?void 0:o.block)},null==s?void 0:s.className,p,g,M,$,O),[L,R]=yS(I.onClick);return k(m.createElement(qs,{component:"Radio",disabled:I.disabled},m.createElement("label",{className:T,style:Object.assign(Object.assign({},null==s?void 0:s.style),y),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:b,onClick:L},m.createElement(vS,Object.assign({},I,{className:S(I.className,{[zs]:!C}),type:"radio",prefixCls:E,ref:u,onClick:R})),void 0!==v?m.createElement("span",{className:`${E}-label`},v):null)))},ES=m.forwardRef(SS),OS=["parentNode"];function kS(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function MS(e,t){if(!e.length)return;const n=e.join("_");if(t)return`${t}_${n}`;return OS.includes(n)?`form_item_${n}`:n}function $S(e,t,n,r,o,i){let a=r;return void 0!==i?a=i:n.validating?a="validating":e.length?a="error":t.length?a="warning":(n.touched||o&&n.validated)&&(a="success"),a}function IS(e){return kS(e).join("_")}function NS(e,t){const n=H(t.getFieldInstance(e));if(n)return n;const r=MS(kS(e),t.__INTERNAL__.name);return r?document.getElementById(r):void 0}function TS(e){const[t]=Ff(),n=m.useRef({}),r=m.useMemo(()=>null!=e?e:Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:e=>t=>{const r=IS(e);t?n.current[r]=t:delete n.current[r]}},scrollToField:(e,t={})=>{const{focus:n}=t,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["focus"]),i=NS(e,r);i&&(Ml(i,Object.assign({scrollMode:"if-needed",block:"nearest"},o)),n&&r.focusField(e))},focusField:e=>{var t,n;const o=r.getFieldInstance(e);"function"==typeof(null==o?void 0:o.focus)?o.focus():null===(n=null===(t=NS(e,r))||void 0===t?void 0:t.focus)||void 0===n||n.call(t)},getFieldInstance:e=>{const t=IS(e);return n.current[t]}}),[e,t]);return[r]}const LS=m.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=m.useContext(So),{name:o}=m.useContext(eh),i=Nd(IS(o)),{prefixCls:a,className:l,rootClassName:s,options:c,buttonStyle:u="outline",disabled:d,children:f,size:h,style:p,id:g,optionType:v,name:y=i,defaultValue:b,value:x,block:w=!1,onChange:C,onMouseEnter:E,onMouseLeave:O,onFocus:k,onBlur:M}=e,[$,I]=Wo(b,{value:x}),N=m.useCallback(t=>{const n=$,r=t.target.value;"value"in e||I(r),r!==n&&(null==C||C(t))},[$,I,C]),T=n("radio",a),L=`${T}-group`,R=Nl(T),[_,A,P]=CS(T,R);let j=f;c&&c.length>0&&(j=c.map(e=>"string"==typeof e||"number"==typeof e?m.createElement(ES,{key:e.toString(),prefixCls:T,disabled:d,value:e,checked:$===e},e):m.createElement(ES,{key:`radio-group-value-options-${e.value}`,prefixCls:T,disabled:e.disabled||d,value:e.value,checked:$===e.value,title:e.title,style:e.style,className:e.className,id:e.id,required:e.required},e.label)));const B=Xs(h),D=S(L,`${L}-${u}`,{[`${L}-${B}`]:B,[`${L}-rtl`]:"rtl"===r,[`${L}-block`]:w},l,s,A,P,R),z=m.useMemo(()=>({onChange:N,value:$,disabled:d,name:y,optionType:v,block:w}),[N,$,d,y,v,w]);return _(m.createElement("div",Object.assign({},ol(e,{aria:!0,data:!0}),{className:D,style:p,onMouseEnter:E,onMouseLeave:O,onFocus:k,onBlur:M,id:g,ref:t}),m.createElement(hS,{value:z},j)))}),RS=m.memo(LS);const _S=(e,t)=>{const{getPrefixCls:n}=m.useContext(So),{prefixCls:r}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls"]),i=n("radio",r);return m.createElement(gS,{value:"button"},m.createElement(ES,Object.assign({prefixCls:i},o,{type:"radio",ref:t})))},AS=m.forwardRef(_S),PS=ES;function jS(e){return Xo(e,{inputAffixPadding:e.paddingXXS})}PS.Button=AS,PS.Group=RS,PS.__ANT_RADIO=!0;const BS=e=>{const{controlHeight:t,fontSize:n,lineHeight:r,lineWidth:o,controlHeightSM:i,controlHeightLG:a,fontSizeLG:l,lineHeightLG:s,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:f,colorPrimaryHover:h,colorPrimary:p,controlOutlineWidth:g,controlOutline:m,colorErrorOutline:v,colorWarningOutline:y,colorBgContainer:b,inputFontSize:x,inputFontSizeLG:w,inputFontSizeSM:C}=e,S=x||n,E=C||S,O=w||l,k=Math.round((t-S*r)/2*10)/10-o,M=Math.round((i-E*r)/2*10)/10-o,$=Math.ceil((a-O*s)/2*10)/10-o;return{paddingBlock:Math.max(k,0),paddingBlockSM:Math.max(M,0),paddingBlockLG:Math.max($,0),paddingInline:c-o,paddingInlineSM:u-o,paddingInlineLG:d-o,addonBg:f,activeBorderColor:p,hoverBorderColor:h,activeShadow:`0 0 0 ${g}px ${m}`,errorActiveShadow:`0 0 0 ${g}px ${v}`,warningActiveShadow:`0 0 0 ${g}px ${y}`,hoverBg:b,activeBg:b,inputFontSize:S,inputFontSizeLG:O,inputFontSizeSM:E}},DS=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),zS=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},DS(Xo(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),HS=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),FS=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},HS(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:t.borderColor}}),WS=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},HS(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},zS(e))}),FS(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),FS(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),GS=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),VS=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},GS(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),GS(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},zS(e))}})}),qS=(e,t)=>{const{componentCls:n}=e;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:e.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:e.colorWarning}}},t)}},XS=(e,t)=>{var n;return{background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:null!==(n=null==t?void 0:t.inputColor)&&void 0!==n?n:"unset"},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}},US=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},XS(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),YS=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},XS(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},zS(e))}),US(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),US(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),KS=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),ZS=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group-addon`]:{background:e.colorFillTertiary,"&:last-child":{position:"static"}}},KS(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),KS(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),QS=(e,t)=>({background:e.colorBgContainer,borderWidth:`${Xt(e.lineWidth)} 0`,borderStyle:`${e.lineType} none`,borderColor:`transparent transparent ${t.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${t.borderColor} transparent`,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${t.activeBorderColor} transparent`,outline:0,backgroundColor:e.activeBg}}),JS=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},QS(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:`transparent transparent ${t.borderColor} transparent`}}),eE=(e,t)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},QS(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:{color:e.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${e.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),JS(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),JS(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),tE=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),nE=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:o}=e;return{padding:`${Xt(t)} ${Xt(o)}`,fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:r}},rE=e=>({padding:`${Xt(e.paddingBlockSM)} ${Xt(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),oE=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Xt(e.paddingBlock)} ${Xt(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},tE(e.colorTextPlaceholder)),{"&-lg":Object.assign({},nE(e)),"&-sm":Object.assign({},rE(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),iE=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},nE(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},rE(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Xt(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${Xt(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${Xt(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${Xt(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${Xt(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[t]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`\n        & > ${t}-affix-wrapper,\n        & > ${t}-number-affix-wrapper,\n        & > ${n}-picker-range\n      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[t]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,\n      & > ${n}-select-auto-complete ${t},\n      & > ${n}-cascader-picker ${t},\n      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,\n      & > ${n}-select:first-child > ${n}-select-selector,\n      & > ${n}-select-auto-complete:first-child ${t},\n      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,\n      & > ${n}-select:last-child > ${n}-select-selector,\n      & > ${n}-cascader-picker:last-child ${t},\n      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},aE=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r,calc:o}=e,i=o(n).sub(o(r).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ui(e)),oE(e)),WS(e)),YS(e)),qS(e)),eE(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:i,paddingBottom:i}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},lE=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:e.colorIcon},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Xt(e.inputAffixPadding)}`}}}},sE=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:o,colorIcon:i,colorIconHover:a,iconCls:l}=e,s=`${t}-affix-wrapper`,c=`${t}-affix-wrapper-disabled`;return{[s]:Object.assign(Object.assign(Object.assign(Object.assign({},oE(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),lE(e)),{[`${l}${t}-password-icon`]:{color:i,cursor:"pointer",transition:`all ${o}`,"&:hover":{color:a}}}),[`${t}-underlined`]:{borderRadius:0},[c]:{[`${l}${t}-password-icon`]:{color:i,cursor:"not-allowed","&:hover":{color:i}}}}},cE=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:r}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},ui(e)),iE(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:r}}},VS(e)),ZS(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},uE=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-search`;return{[r]:{[t]:{"&:not([disabled]):hover, &:not([disabled]):focus":{[`+ ${t}-group-addon ${r}-button:not(${n}-btn-color-primary):not(${n}-btn-variant-text)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{height:e.controlHeight,borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal()},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-color-primary)`]:{color:e.colorTextDescription,"&:not([disabled]):hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{inset:0}}}},[`${r}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${t}-affix-wrapper, ${r}-button`]:{height:e.controlHeightLG}},"&-small":{[`${t}-affix-wrapper, ${r}-button`]:{height:e.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,\n        > ${t},\n        ${t}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},dE=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}},fE=gi(["Input","Shared"],e=>{const t=Xo(e,jS(e));return[aE(t),sE(t)]},BS,{resetFont:!1}),hE=gi(["Input","Component"],e=>{const t=Xo(e,jS(e));return[cE(t),uE(t),dE(t),nd(t)]},BS,{resetFont:!1}),pE=(e,t)=>{const{componentCls:n,controlHeight:r}=e,o=t?`${n}-${t}`:"",i=Nm(e);return[{[`${n}-multiple${o}`]:{paddingBlock:i.containerPadding,paddingInlineStart:i.basePadding,minHeight:r,[`${n}-selection-item`]:{height:i.itemHeight,lineHeight:Xt(i.itemLineHeight)}}}]},gE=e=>{const{componentCls:t,calc:n,lineWidth:r}=e,o=Xo(e,{fontHeight:e.fontSize,selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS,controlHeight:e.controlHeightSM}),i=Xo(e,{fontHeight:n(e.multipleItemHeightLG).sub(n(r).mul(2).equal()).equal(),fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius,controlHeight:e.controlHeightLG});return[pE(o,"small"),pE(e),pE(i,"large"),{[`${t}${t}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${t}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}}},Tm(e)),{[`${t}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},mE=e=>{const{pickerCellCls:t,pickerCellInnerCls:n,cellHeight:r,borderRadiusSM:o,motionDurationMid:i,cellHoverBg:a,lineWidth:l,lineType:s,colorPrimary:c,cellActiveWithRangeBg:u,colorTextLightSolid:d,colorTextDisabled:f,cellBgDisabled:h,colorFillSecondary:p}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:r,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[n]:{position:"relative",zIndex:2,display:"inline-block",minWidth:r,height:r,lineHeight:Xt(r),borderRadius:o,transition:`background ${i}`},[`&:hover:not(${t}-in-view):not(${t}-disabled),\n    &:hover:not(${t}-selected):not(${t}-range-start):not(${t}-range-end):not(${t}-disabled)`]:{[n]:{background:a}},[`&-in-view${t}-today ${n}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${Xt(l)} ${s} ${c}`,borderRadius:o,content:'""'}},[`&-in-view${t}-in-range,\n      &-in-view${t}-range-start,\n      &-in-view${t}-range-end`]:{position:"relative",[`&:not(${t}-disabled):before`]:{background:u}},[`&-in-view${t}-selected,\n      &-in-view${t}-range-start,\n      &-in-view${t}-range-end`]:{[`&:not(${t}-disabled) ${n}`]:{color:d,background:c},[`&${t}-disabled ${n}`]:{background:p}},[`&-in-view${t}-range-start:not(${t}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${t}-range-end:not(${t}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${t}-range-start:not(${t}-range-end) ${n}`]:{borderStartStartRadius:o,borderEndStartRadius:o,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${t}-range-end:not(${t}-range-start) ${n}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o},"&-disabled":{color:f,cursor:"not-allowed",[n]:{background:"transparent"},"&::before":{background:h}},[`&-disabled${t}-today ${n}::before`]:{borderColor:f}}},vE=e=>{const{componentCls:t,pickerCellCls:n,pickerCellInnerCls:r,pickerYearMonthCellWidth:o,pickerControlIconSize:i,cellWidth:a,paddingSM:l,paddingXS:s,paddingXXS:c,colorBgContainer:u,lineWidth:d,lineType:f,borderRadiusLG:h,colorPrimary:p,colorTextHeading:g,colorSplit:m,pickerControlIconBorderWidth:v,colorIcon:y,textHeight:b,motionDurationMid:x,colorIconHover:w,fontWeightStrong:C,cellHeight:S,pickerCellPaddingVertical:E,colorTextDisabled:O,colorText:k,fontSize:M,motionDurationSlow:$,withoutTimeCellHeight:I,pickerQuarterPanelContentHeight:N,borderRadiusSM:T,colorTextLightSolid:L,cellHoverBg:R,timeColumnHeight:_,timeColumnWidth:A,timeCellHeight:P,controlItemBgActive:j,marginXXS:B,pickerDatePanelPaddingHorizontal:D,pickerControlIconMargin:z}=e,H=e.calc(a).mul(7).add(e.calc(D).mul(2)).equal();return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:u,borderRadius:h,outline:"none","&-focused":{borderColor:p},"&-rtl":{[`${t}-prev-icon,\n              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,\n              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${t}-time-panel`]:{[`${t}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:H},"&-header":{display:"flex",padding:`0 ${Xt(s)}`,color:g,borderBottom:`${Xt(d)} ${f} ${m}`,"> *":{flex:"none"},button:{padding:0,color:y,lineHeight:Xt(b),background:"transparent",border:0,cursor:"pointer",transition:`color ${x}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:M,"&:hover":{color:w},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:C,lineHeight:Xt(b),"> button":{color:"inherit",fontWeight:"inherit",verticalAlign:"top","&:not(:first-child)":{marginInlineStart:s},"&:hover":{color:p}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:i,height:i,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:i,height:i,border:"0 solid currentcolor",borderBlockStartWidth:v,borderInlineStartWidth:v,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:z,insetInlineStart:z,display:"inline-block",width:i,height:i,border:"0 solid currentcolor",borderBlockStartWidth:v,borderInlineStartWidth:v,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:S,fontWeight:"normal"},th:{height:e.calc(S).add(e.calc(E).mul(2)).equal(),color:k,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${Xt(E)} 0`,color:O,cursor:"pointer","&-in-view":{color:k}},mE(e)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-content`]:{height:e.calc(I).mul(4).equal()},[r]:{padding:`0 ${Xt(s)}`}},"&-quarter-panel":{[`${t}-content`]:{height:N}},"&-decade-panel":{[r]:{padding:`0 ${Xt(e.calc(s).div(2).equal())}`},[`${t}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-body`]:{padding:`0 ${Xt(s)}`},[r]:{width:o}},"&-date-panel":{[`${t}-body`]:{padding:`${Xt(s)} ${Xt(D)}`},[`${t}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel-row":{td:{"&:before":{transition:`background ${x}`},"&:first-child:before":{borderStartStartRadius:T,borderEndStartRadius:T},"&:last-child:before":{borderStartEndRadius:T,borderEndEndRadius:T}},"&:hover td:before":{background:R},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${n}`]:{"&:before":{background:p},[`&${t}-cell-week`]:{color:new Wr(L).setA(.5).toHexString()},[r]:{color:L}}},"&-range-hover td:before":{background:j}},"&-week-panel, &-date-panel-show-week":{[`${t}-body`]:{padding:`${Xt(s)} ${Xt(l)}`},[`${t}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${Xt(d)} ${f} ${m}`},[`${t}-date-panel,\n          ${t}-time-panel`]:{transition:`opacity ${$}`},"&-active":{[`${t}-date-panel,\n            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${t}-content`]:{display:"flex",flex:"auto",height:_},"&-column":{flex:"1 0 auto",width:A,margin:`${Xt(c)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${x}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colorTextTertiary,borderRadius:e.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${e.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${Xt(P)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${Xt(d)} ${f} ${m}`},"&-active":{background:new Wr(j).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:B,[`${t}-time-panel-cell-inner`]:{display:"block",width:e.calc(A).sub(e.calc(B).mul(2)).equal(),height:P,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:e.calc(A).sub(P).div(2).equal(),color:k,lineHeight:Xt(P),borderRadius:T,cursor:"pointer",transition:`background ${x}`,"&:hover":{background:R}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:j}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:O,background:"transparent",cursor:"not-allowed"}}}}}}}}},yE=e=>{const{componentCls:t,textHeight:n,lineWidth:r,paddingSM:o,antCls:i,colorPrimary:a,cellActiveWithRangeBg:l,colorPrimaryBorder:s,lineType:c,colorSplit:u}=e;return{[`${t}-dropdown`]:{[`${t}-footer`]:{borderTop:`${Xt(r)} ${c} ${u}`,"&-extra":{padding:`0 ${Xt(o)}`,lineHeight:Xt(e.calc(n).sub(e.calc(r).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${Xt(r)} ${c} ${u}`}}},[`${t}-panels + ${t}-footer ${t}-ranges`]:{justifyContent:"space-between"},[`${t}-ranges`]:{marginBlock:0,paddingInline:Xt(o),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:Xt(e.calc(n).sub(e.calc(r).mul(2)).equal()),display:"inline-block"},[`${t}-now-btn-disabled`]:{pointerEvents:"none",color:e.colorTextDisabled},[`${t}-preset > ${i}-tag-blue`]:{color:a,background:l,borderColor:s,cursor:"pointer"},[`${t}-ok`]:{paddingBlock:e.calc(r).mul(2).equal(),marginInlineStart:"auto"}}}}},bE=e=>{const{componentCls:t}=e;return{[t]:[Object.assign(Object.assign(Object.assign(Object.assign({},WS(e)),eE(e)),YS(e)),qS(e)),{"&-outlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-filled":{[`&${t}-multiple ${t}-selection-item`]:{background:e.colorBgContainer,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}},"&-borderless":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-underlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}]}},xE=(e,t)=>({padding:`${Xt(e)} ${Xt(t)}`}),wE=e=>{const{componentCls:t,colorError:n,colorWarning:r}=e;return{[`${t}:not(${t}-disabled):not([disabled])`]:{[`&${t}-status-error`]:{[`${t}-active-bar`]:{background:n}},[`&${t}-status-warning`]:{[`${t}-active-bar`]:{background:r}}}}},CE=e=>{var t;const{componentCls:n,antCls:r,paddingInline:o,lineWidth:i,lineType:a,colorBorder:l,borderRadius:s,motionDurationMid:c,colorTextDisabled:u,colorTextPlaceholder:d,colorTextQuaternary:f,fontSizeLG:h,inputFontSizeLG:p,fontSizeSM:g,inputFontSizeSM:m,controlHeightSM:v,paddingInlineSM:y,paddingXS:b,marginXS:x,colorIcon:w,lineWidthBold:C,colorPrimary:S,motionDurationSlow:E,zIndexPopup:O,paddingXXS:k,sizePopupArrow:M,colorBgElevated:$,borderRadiusLG:I,boxShadowSecondary:N,borderRadiusSM:T,colorSplit:L,cellHoverBg:R,presetsWidth:_,presetsMaxWidth:A,boxShadowPopoverArrow:P,fontHeight:j,lineHeightLG:B}=e;return[{[n]:Object.assign(Object.assign(Object.assign({},ui(e)),xE(e.paddingBlock,e.paddingInline)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:s,transition:`border ${c}, box-shadow ${c}, background ${c}`,[`${n}-prefix`]:{flex:"0 0 auto",marginInlineEnd:e.inputAffixPadding},[`${n}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:null!==(t=e.inputFontSize)&&void 0!==t?t:e.fontSize,lineHeight:e.lineHeight,transition:`all ${c}`},tE(d)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:u,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:d}}},"&-large":Object.assign(Object.assign({},xE(e.paddingBlockLG,e.paddingInlineLG)),{[`${n}-input > input`]:{fontSize:null!=p?p:h,lineHeight:B}}),"&-small":Object.assign(Object.assign({},xE(e.paddingBlockSM,e.paddingInlineSM)),{[`${n}-input > input`]:{fontSize:null!=m?m:g}}),[`${n}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:e.calc(b).div(2).equal(),color:f,lineHeight:1,pointerEvents:"none",transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:x}}},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:f,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top"},"&:hover":{color:w}},"&:hover":{[`${n}-clear`]:{opacity:1},[`${n}-suffix:not(:last-child)`]:{opacity:0}},[`${n}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:h,color:f,fontSize:h,verticalAlign:"top",cursor:"default",[`${n}-focused &`]:{color:w},[`${n}-range-separator &`]:{[`${n}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${n}-active-bar`]:{bottom:e.calc(i).mul(-1).equal(),height:C,background:S,opacity:0,transition:`all ${E} ease-out`,pointerEvents:"none"},[`&${n}-focused`]:{[`${n}-active-bar`]:{opacity:1}},[`${n}-range-separator`]:{alignItems:"center",padding:`0 ${Xt(b)}`,lineHeight:1}},"&-range, &-multiple":{[`${n}-clear`]:{insetInlineEnd:o},[`&${n}-small`]:{[`${n}-clear`]:{insetInlineEnd:y}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},ui(e)),vE(e)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:O,[`&${n}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${n}-dropdown-placement-bottomLeft,\n            &${n}-dropdown-placement-bottomRight`]:{[`${n}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${n}-dropdown-placement-topLeft,\n            &${n}-dropdown-placement-topRight`]:{[`${n}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${r}-slide-up-appear, &${r}-slide-up-enter`]:{[`${n}-range-arrow${n}-range-arrow`]:{transition:"none"}},[`&${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-topLeft,\n          &${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-topRight,\n          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-topLeft,\n          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-topRight`]:{animationName:Qc},[`&${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-bottomLeft,\n          &${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-bottomRight,\n          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-bottomLeft,\n          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-bottomRight`]:{animationName:Kc},[`&${r}-slide-up-leave ${n}-panel-container`]:{pointerEvents:"none"},[`&${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-topLeft,\n          &${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-topRight`]:{animationName:Jc},[`&${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-bottomLeft,\n          &${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-bottomRight`]:{animationName:Zc},[`${n}-panel > ${n}-time-panel`]:{paddingTop:k},[`${n}-range-wrapper`]:{display:"flex",position:"relative"},[`${n}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:e.calc(o).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${E} ease-out`},Pv(e,$,P)),{"&:before":{insetInlineStart:e.calc(o).mul(1.5).equal()}}),[`${n}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:$,borderRadius:I,boxShadow:N,transition:`margin ${E}`,display:"inline-block",pointerEvents:"auto",[`${n}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${n}-presets`]:{display:"flex",flexDirection:"column",minWidth:_,maxWidth:A,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:b,borderInlineEnd:`${Xt(i)} ${a} ${L}`,li:Object.assign(Object.assign({},ci),{borderRadius:T,paddingInline:b,paddingBlock:e.calc(v).sub(j).div(2).equal(),cursor:"pointer",transition:`all ${E}`,"+ li":{marginTop:x},"&:hover":{background:R}})}},[`${n}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${n}-panel`]:{borderWidth:0}}},[`${n}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${n}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:l}}}}),"&-dropdown-range":{padding:`${Xt(e.calc(M).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${n}-separator`]:{transform:"scale(-1, 1)"},[`${n}-footer`]:{"&-extra":{direction:"rtl"}}}})},iu(e,"slide-up"),iu(e,"slide-down"),Yc(e,"move-up"),Yc(e,"move-down")]},SE=gi("DatePicker",e=>{const t=Xo(jS(e),(e=>{const{componentCls:t,controlHeightLG:n,paddingXXS:r,padding:o}=e;return{pickerCellCls:`${t}-cell`,pickerCellInnerCls:`${t}-cell-inner`,pickerYearMonthCellWidth:e.calc(n).mul(1.5).equal(),pickerQuarterPanelContentHeight:e.calc(n).mul(1.4).equal(),pickerCellPaddingVertical:e.calc(r).add(e.calc(r).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:e.calc(o).add(e.calc(r).div(2)).equal()}})(e),{inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[yE(t),CE(t),bE(t),wE(t),gE(t),nd(e,{focusElCls:`${e.componentCls}-focused`})]},e=>Object.assign(Object.assign(Object.assign(Object.assign({},BS(e)),(e=>{const{colorBgContainerDisabled:t,controlHeight:n,controlHeightSM:r,controlHeightLG:o,paddingXXS:i,lineWidth:a}=e,l=2*i,s=2*a,c=Math.min(n-l,n-s),u=Math.min(r-l,r-s),d=Math.min(o-l,o-s);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(i/2),cellHoverBg:e.controlItemBgHover,cellActiveWithRangeBg:e.controlItemBgActive,cellHoverWithRangeBg:new Wr(e.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new Wr(e.colorPrimary).lighten(20).toHexString(),cellBgDisabled:t,timeColumnWidth:1.4*o,timeColumnHeight:224,timeCellHeight:28,cellWidth:1.5*r,cellHeight:r,textHeight:o,withoutTimeCellHeight:1.65*o,multipleItemBg:e.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:c,multipleItemHeightSM:u,multipleItemHeightLG:d,multipleSelectorBgDisabled:t,multipleItemColorDisabled:e.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}})(e)),Av(e)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:e.zIndexPopupBase+50}));var EE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},OE=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:EE}))},kE=m.forwardRef(OE);const ME=m.createContext(null);var $E={width:0,height:0,left:0,top:0};function IE(e,t){var n=m.useRef(e),r=pt(m.useState({}),2)[1];return[n.current,function(e){var o="function"==typeof e?e(n.current):e;o!==n.current&&t(o,n.current),n.current=o,r({})}]}var NE=Math.pow(.995,20);function TE(e){var t=pt(m.useState(0),2),n=t[0],r=t[1],o=m.useRef(0),i=m.useRef();return i.current=e,en(function(){var e;null===(e=i.current)||void 0===e||e.call(i)},[n]),function(){o.current===n&&(o.current+=1,r(o.current))}}var LE={width:0,height:0,left:0,top:0,right:0};function RE(e){var t;return e instanceof Map?(t={},e.forEach(function(e,n){t[n]=e})):t=e,JSON.stringify(t)}function _E(e){return String(e).replace(/"/g,"TABS_DQ")}function AE(e,t,n,r){return!(!n||r||!1===e||void 0===e&&(!1===t||null===t))}var PE=m.forwardRef(function(e,t){var n=e.prefixCls,r=e.editable,o=e.locale,i=e.style;return r&&!1!==r.showAdd?m.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:i,"aria-label":(null==o?void 0:o.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}),jE=m.forwardRef(function(e,t){var n,r=e.position,o=e.prefixCls,i=e.extra;if(!i)return null;var a={};return"object"!==O(i)||m.isValidElement(i)?a.right=i:a=i,"right"===r&&(n=a.right),"left"===r&&(n=a.left),n?m.createElement("div",{className:"".concat(o,"-extra-content"),ref:t},n):null}),BE=m.forwardRef(function(e,t){var n=e.prefixCls,r=e.id,o=e.tabs,i=e.locale,a=e.mobile,l=e.more,s=void 0===l?{}:l,c=e.style,u=e.className,d=e.editable,f=e.tabBarGutter,h=e.rtl,p=e.removeAriaLabel,g=e.onTabClick,v=e.getPopupContainer,y=e.popupClassName,b=pt(m.useState(!1),2),x=b[0],w=b[1],C=pt(m.useState(null),2),O=C[0],k=C[1],M=s.icon,$=void 0===M?"More":M,I="".concat(r,"-more-popup"),N="".concat(n,"-dropdown"),T=null!==O?"".concat(I,"-").concat(O):null,L=null==i?void 0:i.dropdownAriaLabel;var R=m.createElement(ex,{onClick:function(e){var t=e.key,n=e.domEvent;g(t,n),w(!1)},prefixCls:"".concat(N,"-menu"),id:I,tabIndex:-1,role:"listbox","aria-activedescendant":T,selectedKeys:[O],"aria-label":void 0!==L?L:"expanded dropdown"},o.map(function(e){var t=e.closable,n=e.disabled,o=e.closeIcon,i=e.key,a=e.label,l=AE(t,o,d,n);return m.createElement($b,{key:i,id:"".concat(I,"-").concat(i),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(i),disabled:n},m.createElement("span",null,a),l&&m.createElement("button",{type:"button","aria-label":p||"remove",tabIndex:0,className:"".concat(N,"-menu-item-remove"),onClick:function(e){e.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),d.onEdit("remove",{key:t,event:e})}(e,i)}},o||d.removeIcon||""))}));function _(e){for(var t=o.filter(function(e){return!e.disabled}),n=t.findIndex(function(e){return e.key===O})||0,r=t.length,i=0;i<r;i+=1){var a=t[n=(n+e+r)%r];if(!a.disabled)return void k(a.key)}}m.useEffect(function(){var e=document.getElementById(T);e&&e.scrollIntoView&&e.scrollIntoView(!1)},[O]),m.useEffect(function(){x||k(null)},[x]);var A=j({},h?"marginRight":"marginLeft",f);o.length||(A.visibility="hidden",A.order=1);var P=S(j({},"".concat(N,"-rtl"),h)),B=a?null:m.createElement(Py,E({prefixCls:N,overlay:R,visible:!!o.length&&x,onVisibleChange:w,overlayClassName:S(P,y),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:v},s),m.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:A,"aria-haspopup":"listbox","aria-controls":I,id:"".concat(r,"-more"),"aria-expanded":x,onKeyDown:function(e){var t=e.which;if(x)switch(t){case Tl.UP:_(-1),e.preventDefault();break;case Tl.DOWN:_(1),e.preventDefault();break;case Tl.ESC:w(!1);break;case Tl.SPACE:case Tl.ENTER:null!==O&&g(O,e)}else[Tl.DOWN,Tl.SPACE,Tl.ENTER].includes(t)&&(w(!0),e.preventDefault())}},$));return m.createElement("div",{className:S("".concat(n,"-nav-operations"),u),style:c,ref:t},B,m.createElement(PE,{prefixCls:n,locale:i,editable:d}))});const DE=m.memo(BE,function(e,t){return t.tabMoving});var zE=function(e){var t=e.prefixCls,n=e.id,r=e.active,o=e.focus,i=e.tab,a=i.key,l=i.label,s=i.disabled,c=i.closeIcon,u=i.icon,d=e.closable,f=e.renderWrapper,h=e.removeAriaLabel,p=e.editable,g=e.onClick,v=e.onFocus,y=e.onBlur,b=e.onKeyDown,x=e.onMouseDown,w=e.onMouseUp,C=e.style,E=e.tabCount,O=e.currentPosition,k="".concat(t,"-tab"),M=AE(d,c,p,s);function $(e){s||g(e)}var I=m.useMemo(function(){return u&&"string"==typeof l?m.createElement("span",null,l):l},[l,u]),N=m.useRef(null);m.useEffect(function(){o&&N.current&&N.current.focus()},[o]);var T=m.createElement("div",{key:a,"data-node-key":_E(a),className:S(k,j(j(j(j({},"".concat(k,"-with-remove"),M),"".concat(k,"-active"),r),"".concat(k,"-disabled"),s),"".concat(k,"-focus"),o)),style:C,onClick:$},m.createElement("div",{ref:N,role:"tab","aria-selected":r,id:n&&"".concat(n,"-tab-").concat(a),className:"".concat(k,"-btn"),"aria-controls":n&&"".concat(n,"-panel-").concat(a),"aria-disabled":s,tabIndex:s?null:r?0:-1,onClick:function(e){e.stopPropagation(),$(e)},onKeyDown:b,onMouseDown:x,onMouseUp:w,onFocus:v,onBlur:y},o&&m.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(O," of ").concat(E)),u&&m.createElement("span",{className:"".concat(k,"-icon")},u),l&&I),M&&m.createElement("button",{type:"button",role:"tab","aria-label":h||"remove",tabIndex:r?0:-1,className:"".concat(k,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),p.onEdit("remove",{key:a,event:t})}},c||p.removeIcon||""));return f?f(T):T},HE=function(e){var t=e.current||{},n=t.offsetWidth,r=void 0===n?0:n,o=t.offsetHeight,i=void 0===o?0:o;if(e.current){var a=e.current.getBoundingClientRect(),l=a.width,s=a.height;if(Math.abs(l-r)<1)return[l,s]}return[r,i]},FE=function(e,t){return e[t?0:1]},WE=m.forwardRef(function(e,t){var n,r,o,i,a,l=e.className,s=e.style,c=e.id,u=e.animated,d=e.activeKey,f=e.rtl,h=e.extra,g=e.editable,v=e.locale,y=e.tabPosition,b=e.tabBarGutter,x=e.children,w=e.onTabClick,C=e.onTabScroll,O=e.indicator,k=m.useContext(ME),M=k.prefixCls,$=k.tabs,I=m.useRef(null),N=m.useRef(null),T=m.useRef(null),L=m.useRef(null),R=m.useRef(null),_=m.useRef(null),A=m.useRef(null),P="top"===y||"bottom"===y,B=pt(IE(0,function(e,t){P&&C&&C({direction:e>t?"left":"right"})}),2),z=B[0],H=B[1],F=pt(IE(0,function(e,t){!P&&C&&C({direction:e>t?"top":"bottom"})}),2),W=F[0],G=F[1],V=pt(m.useState([0,0]),2),q=V[0],X=V[1],U=pt(m.useState([0,0]),2),Y=U[0],K=U[1],Z=pt(m.useState([0,0]),2),Q=Z[0],J=Z[1],ee=pt(m.useState([0,0]),2),te=ee[0],ne=ee[1],re=(n=new Map,r=m.useRef([]),o=pt(m.useState({}),2)[1],i=m.useRef("function"==typeof n?n():n),a=TE(function(){var e=i.current;r.current.forEach(function(t){e=t(e)}),r.current=[],i.current=e,o({})}),[i.current,function(e){r.current.push(e),a()}]),oe=pt(re,2),ie=oe[0],ae=oe[1],le=function(e,t,n){return m.useMemo(function(){for(var n,r=new Map,o=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||$E,i=o.left+o.width,a=0;a<e.length;a+=1){var l,s=e[a].key,c=t.get(s);c||(c=t.get(null===(l=e[a-1])||void 0===l?void 0:l.key)||$E);var u=r.get(s)||D({},c);u.right=i-u.left-u.width,r.set(s,u)}return r},[e.map(function(e){return e.key}).join("_"),t,n])}($,ie,Y[0]),se=FE(q,P),ce=FE(Y,P),ue=FE(Q,P),de=FE(te,P),he=Math.floor(se)<Math.floor(ce+ue),pe=he?se-de:se-ue,ge="".concat(M,"-nav-operations-hidden"),me=0,ve=0;function ye(e){return e<me?me:e>ve?ve:e}P&&f?(me=0,ve=Math.max(0,ce-pe)):(me=Math.min(0,pe-ce),ve=0);var be=m.useRef(null),xe=pt(m.useState(),2),we=xe[0],Ce=xe[1];function Se(){Ce(Date.now())}function Ee(){be.current&&clearTimeout(be.current)}!function(e,t){var n=pt(m.useState(),2),r=n[0],o=n[1],i=pt(m.useState(0),2),a=i[0],l=i[1],s=pt(m.useState(0),2),c=s[0],u=s[1],d=pt(m.useState(),2),f=d[0],h=d[1],p=m.useRef(),g=m.useRef(),v=m.useRef(null);v.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;o({x:n,y:r}),window.clearInterval(p.current)},onTouchMove:function(e){if(r){var n=e.touches[0],i=n.screenX,s=n.screenY;o({x:i,y:s});var c=i-r.x,d=s-r.y;t(c,d);var f=Date.now();l(f),u(f-a),h({x:c,y:d})}},onTouchEnd:function(){if(r&&(o(null),h(null),f)){var e=f.x/c,n=f.y/c,i=Math.abs(e),a=Math.abs(n);if(Math.max(i,a)<.1)return;var l=e,s=n;p.current=window.setInterval(function(){Math.abs(l)<.01&&Math.abs(s)<.01?window.clearInterval(p.current):t(20*(l*=NE),20*(s*=NE))},20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,o=0,i=Math.abs(n),a=Math.abs(r);i===a?o="x"===g.current?n:r:i>a?(o=n,g.current="x"):(o=r,g.current="y"),t(-o,-o)&&e.preventDefault()}},m.useEffect(function(){function t(e){v.current.onTouchMove(e)}function n(e){v.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!0}),e.current.addEventListener("touchstart",function(e){v.current.onTouchStart(e)},{passive:!0}),e.current.addEventListener("wheel",function(e){v.current.onWheel(e)},{passive:!1}),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}},[])}(L,function(e,t){function n(e,t){e(function(e){return ye(e+t)})}return!!he&&(P?n(H,e):n(G,t),Ee(),Se(),!0)}),m.useEffect(function(){return Ee(),we&&(be.current=setTimeout(function(){Ce(0)},100)),Ee},[we]);var Oe=function(e,t,n,r,o,i,a){var l,s,c,u=a.tabs,d=a.tabPosition,f=a.rtl;return["top","bottom"].includes(d)?(l="width",s=f?"right":"left",c=Math.abs(n)):(l="height",s="top",c=-n),m.useMemo(function(){if(!u.length)return[0,0];for(var n=u.length,r=n,o=0;o<n;o+=1){var i=e.get(u[o].key)||LE;if(Math.floor(i[s]+i[l])>Math.floor(c+t)){r=o-1;break}}for(var a=0,d=n-1;d>=0;d-=1)if((e.get(u[d].key)||LE)[s]<c){a=d+1;break}return a>r?[0,-1]:[a,r]},[e,t,r,o,i,c,d,u.map(function(e){return e.key}).join("_"),f])}(le,pe,P?z:W,ce,ue,de,D(D({},e),{},{tabs:$})),ke=pt(Oe,2),Me=ke[0],$e=ke[1],Ie=zo(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=le.get(e)||{width:0,height:0,left:0,right:0,top:0};if(P){var n=z;f?t.right<z?n=t.right:t.right+t.width>z+pe&&(n=t.right+t.width-pe):t.left<-z?n=-t.left:t.left+t.width>-z+pe&&(n=-(t.left+t.width-pe)),G(0),H(ye(n))}else{var r=W;t.top<-W?r=-t.top:t.top+t.height>-W+pe&&(r=-(t.top+t.height-pe)),H(0),G(ye(r))}}),Ne=pt(m.useState(),2),Te=Ne[0],Le=Ne[1],Re=pt(m.useState(!1),2),_e=Re[0],Ae=Re[1],Pe=$.filter(function(e){return!e.disabled}).map(function(e){return e.key}),je=function(e){var t=Pe.indexOf(Te||d),n=Pe.length,r=Pe[(t+e+n)%n];Le(r)},Be=function(e,t){var n=Pe.indexOf(e),r=$.find(function(t){return t.key===e});AE(null==r?void 0:r.closable,null==r?void 0:r.closeIcon,g,null==r?void 0:r.disabled)&&(t.preventDefault(),t.stopPropagation(),g.onEdit("remove",{key:e,event:t}),n===Pe.length-1?je(-1):je(1))},De=function(e){var t=e.code,n=f&&P,r=Pe[0],o=Pe[Pe.length-1];switch(t){case"ArrowLeft":P&&je(n?1:-1);break;case"ArrowRight":P&&je(n?-1:1);break;case"ArrowUp":e.preventDefault(),P||je(-1);break;case"ArrowDown":e.preventDefault(),P||je(1);break;case"Home":e.preventDefault(),Le(r);break;case"End":e.preventDefault(),Le(o);break;case"Enter":case"Space":e.preventDefault(),w(null!=Te?Te:d,e);break;case"Backspace":case"Delete":Be(Te,e)}},ze={};P?ze[f?"marginRight":"marginLeft"]=b:ze.marginTop=b;var He=$.map(function(e,t){var n=e.key;return m.createElement(zE,{id:c,prefixCls:M,key:n,tab:e,style:0===t?void 0:ze,closable:e.closable,editable:g,active:n===d,focus:n===Te,renderWrapper:x,removeAriaLabel:null==v?void 0:v.removeAriaLabel,tabCount:Pe.length,currentPosition:t+1,onClick:function(e){w(n,e)},onKeyDown:De,onFocus:function(){_e||Le(n),Ie(n),Se(),L.current&&(f||(L.current.scrollLeft=0),L.current.scrollTop=0)},onBlur:function(){Le(void 0)},onMouseDown:function(e){return function(e,t){Ae(!0),1===t.button&&Be(e,t)}(n,e)},onMouseUp:function(){Ae(!1)}})}),Fe=function(){return ae(function(){var e,t=new Map,n=null===(e=R.current)||void 0===e?void 0:e.getBoundingClientRect();return $.forEach(function(e){var r,o=e.key,i=null===(r=R.current)||void 0===r?void 0:r.querySelector('[data-node-key="'.concat(_E(o),'"]'));if(i){var a=function(e,t){var n=e.offsetWidth,r=e.offsetHeight,o=e.offsetTop,i=e.offsetLeft,a=e.getBoundingClientRect(),l=a.width,s=a.height,c=a.left,u=a.top;return Math.abs(l-n)<1?[l,s,c-t.left,u-t.top]:[n,r,i,o]}(i,n),l=pt(a,4),s=l[0],c=l[1],u=l[2],d=l[3];t.set(o,{width:s,height:c,left:u,top:d})}}),t})};m.useEffect(function(){Fe()},[$.map(function(e){return e.key}).join("_")]);var We=TE(function(){var e=HE(I),t=HE(N),n=HE(T);X([e[0]-t[0]-n[0],e[1]-t[1]-n[1]]);var r=HE(A);J(r);var o=HE(_);ne(o);var i=HE(R);K([i[0]-r[0],i[1]-r[1]]),Fe()}),Ge=$.slice(0,Me),Ve=$.slice($e+1),qe=[].concat(it(Ge),it(Ve)),Xe=le.get(d),Ue=function(e){var t=e.activeTabOffset,n=e.horizontal,r=e.rtl,o=e.indicator,i=void 0===o?{}:o,a=i.size,l=i.align,s=void 0===l?"center":l,c=pt(m.useState(),2),u=c[0],d=c[1],f=m.useRef(),h=p.useCallback(function(e){return"function"==typeof a?a(e):"number"==typeof a?a:e},[a]);function g(){dt.cancel(f.current)}return m.useEffect(function(){var e={};if(t)if(n){e.width=h(t.width);var o=r?"right":"left";"start"===s&&(e[o]=t[o]),"center"===s&&(e[o]=t[o]+t.width/2,e.transform=r?"translateX(50%)":"translateX(-50%)"),"end"===s&&(e[o]=t[o]+t.width,e.transform="translateX(-100%)")}else e.height=h(t.height),"start"===s&&(e.top=t.top),"center"===s&&(e.top=t.top+t.height/2,e.transform="translateY(-50%)"),"end"===s&&(e.top=t.top+t.height,e.transform="translateY(-100%)");return g(),f.current=dt(function(){u&&e&&Object.keys(e).every(function(t){var n=e[t],r=u[t];return"number"==typeof n&&"number"==typeof r?Math.round(n)===Math.round(r):n===r})||d(e)}),g},[JSON.stringify(t),n,r,s,h]),{style:u}}({activeTabOffset:Xe,horizontal:P,indicator:O,rtl:f}),Ye=Ue.style;m.useEffect(function(){Ie()},[d,me,ve,RE(Xe),RE(le),P]),m.useEffect(function(){We()},[f]);var Ke,Ze,Qe,Je,et=!!qe.length,nt="".concat(M,"-nav-wrap");return P?f?(Ze=z>0,Ke=z!==ve):(Ke=z<0,Ze=z!==me):(Qe=W<0,Je=W!==me),m.createElement(tt,{onResize:We},m.createElement("div",{ref:fe(t,I),role:"tablist","aria-orientation":P?"horizontal":"vertical",className:S("".concat(M,"-nav"),l),style:s,onKeyDown:function(){Se()}},m.createElement(jE,{ref:N,position:"left",extra:h,prefixCls:M}),m.createElement(tt,{onResize:We},m.createElement("div",{className:S(nt,j(j(j(j({},"".concat(nt,"-ping-left"),Ke),"".concat(nt,"-ping-right"),Ze),"".concat(nt,"-ping-top"),Qe),"".concat(nt,"-ping-bottom"),Je)),ref:L},m.createElement(tt,{onResize:We},m.createElement("div",{ref:R,className:"".concat(M,"-nav-list"),style:{transform:"translate(".concat(z,"px, ").concat(W,"px)"),transition:we?"none":void 0}},He,m.createElement(PE,{ref:A,prefixCls:M,locale:v,editable:g,style:D(D({},0===He.length?void 0:ze),{},{visibility:et?"hidden":null})}),m.createElement("div",{className:S("".concat(M,"-ink-bar"),j({},"".concat(M,"-ink-bar-animated"),u.inkBar)),style:Ye}))))),m.createElement(DE,E({},e,{removeAriaLabel:null==v?void 0:v.removeAriaLabel,ref:_,prefixCls:M,tabs:qe,className:!et&&ge,tabMoving:!!we})),m.createElement(jE,{ref:T,position:"right",extra:h,prefixCls:M})))}),GE=m.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,o=e.style,i=e.id,a=e.active,l=e.tabKey,s=e.children;return m.createElement("div",{id:i&&"".concat(i,"-panel-").concat(l),role:"tabpanel",tabIndex:a?0:-1,"aria-labelledby":i&&"".concat(i,"-tab-").concat(l),"aria-hidden":!a,style:o,className:S(n,a&&"".concat(n,"-active"),r),ref:t},s)}),VE=["renderTabBar"],qE=["label","key"],XE=function(e){var t=e.renderTabBar,n=$t(e,VE),r=m.useContext(ME).tabs;return t?t(D(D({},n),{},{panes:r.map(function(e){var t=e.label,n=e.key,r=$t(e,qE);return m.createElement(GE,E({tab:t,key:n,tabKey:n},r))})}),WE):m.createElement(WE,n)},UE=["key","forceRender","style","className","destroyInactiveTabPane"],YE=function(e){var t=e.id,n=e.activeKey,r=e.animated,o=e.tabPosition,i=e.destroyInactiveTabPane,a=m.useContext(ME),l=a.prefixCls,s=a.tabs,c=r.tabPane,u="".concat(l,"-tabpane");return m.createElement("div",{className:S("".concat(l,"-content-holder"))},m.createElement("div",{className:S("".concat(l,"-content"),"".concat(l,"-content-").concat(o),j({},"".concat(l,"-content-animated"),c))},s.map(function(e){var o=e.key,a=e.forceRender,l=e.style,s=e.className,d=e.destroyInactiveTabPane,f=$t(e,UE),h=o===n;return m.createElement(oa,E({key:o,visible:h,forceRender:a,removeOnLeave:!(!i&&!d),leavedClassName:"".concat(u,"-hidden")},r.tabPaneMotion),function(e,n){var r=e.style,i=e.className;return m.createElement(GE,E({},f,{prefixCls:u,id:t,tabKey:o,animated:c,active:h,style:D(D({},l),r),className:S(s,i),ref:n}))})})))};var KE=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],ZE=0,QE=m.forwardRef(function(e,t){var n=e.id,r=e.prefixCls,o=void 0===r?"rc-tabs":r,i=e.className,a=e.items,l=e.direction,s=e.activeKey,c=e.defaultActiveKey,u=e.editable,d=e.animated,f=e.tabPosition,h=void 0===f?"top":f,p=e.tabBarGutter,g=e.tabBarStyle,v=e.tabBarExtraContent,y=e.locale,b=e.more,x=e.destroyInactiveTabPane,w=e.renderTabBar,C=e.onChange,k=e.onTabClick,M=e.onTabScroll,$=e.getPopupContainer,I=e.popupClassName,N=e.indicator,T=$t(e,KE),L=m.useMemo(function(){return(a||[]).filter(function(e){return e&&"object"===O(e)&&"key"in e})},[a]),R="rtl"===l,_=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:D({inkBar:!0},"object"===O(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(d),A=pt(m.useState(!1),2),P=A[0],B=A[1];m.useEffect(function(){B(bp())},[]);var z=pt(Wo(function(){var e;return null===(e=L[0])||void 0===e?void 0:e.key},{value:s,defaultValue:c}),2),H=z[0],F=z[1],W=pt(m.useState(function(){return L.findIndex(function(e){return e.key===H})}),2),G=W[0],V=W[1];m.useEffect(function(){var e,t=L.findIndex(function(e){return e.key===H});-1===t&&(t=Math.max(0,Math.min(G,L.length-1)),F(null===(e=L[t])||void 0===e?void 0:e.key));V(t)},[L.map(function(e){return e.key}).join("_"),H,G]);var q=pt(Wo(null,{value:n}),2),X=q[0],U=q[1];m.useEffect(function(){n||(U("rc-tabs-".concat(ZE)),ZE+=1)},[]);var Y={id:X,activeKey:H,animated:_,tabPosition:h,rtl:R,mobile:P},K=D(D({},Y),{},{editable:u,locale:y,more:b,tabBarGutter:p,onTabClick:function(e,t){null==k||k(e,t);var n=e!==H;F(e),n&&(null==C||C(e))},onTabScroll:M,extra:v,style:g,panes:null,getPopupContainer:$,popupClassName:I,indicator:N});return m.createElement(ME.Provider,{value:{tabs:L,prefixCls:o}},m.createElement("div",E({ref:t,id:n,className:S(o,"".concat(o,"-").concat(h),j(j(j({},"".concat(o,"-mobile"),P),"".concat(o,"-editable"),u),"".concat(o,"-rtl"),R),i)},T),m.createElement(XE,E({},K,{renderTabBar:w})),m.createElement(YE,E({destroyInactiveTabPane:x},Y,{animated:_}))))});const JE={motionAppear:!1,motionEnter:!0,motionLeave:!0};function eO(e,t){if(e)return e.map(e=>{var t;const n=null!==(t=e.destroyOnHidden)&&void 0!==t?t:e.destroyInactiveTabPane;return Object.assign(Object.assign({},e),{destroyInactiveTabPane:n})});const n=N(t).map(e=>{if(m.isValidElement(e)){const{key:t,props:n}=e,r=n||{},{tab:o}=r,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(r,["tab"]);return Object.assign(Object.assign({key:String(t)},i),{label:o})}return null});return function(e){return e.filter(e=>e)}(n)}const tO=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[iu(e,"slide-up"),iu(e,"slide-down")]]},nO=e=>{const{componentCls:t,tabsCardPadding:n,cardBg:r,cardGutter:o,colorBorderSecondary:i,itemSelectedColor:a}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:n,background:r,border:`${Xt(e.lineWidth)} ${e.lineType} ${i}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:a,background:e.colorBgContainer},[`${t}-tab-focus:has(${t}-tab-btn:focus-visible)`]:di(e,-3),[`& ${t}-tab${t}-tab-focus ${t}-tab-btn:focus-visible`]:{outline:"none"},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:Xt(o)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${Xt(e.borderRadiusLG)} ${Xt(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${Xt(e.borderRadiusLG)} ${Xt(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:Xt(o)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${Xt(e.borderRadiusLG)} 0 0 ${Xt(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${Xt(e.borderRadiusLG)} ${Xt(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},rO=e=>{const{componentCls:t,itemHoverColor:n,dropdownEdgeChildVerticalPadding:r}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},ui(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${Xt(r)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},ci),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${Xt(e.paddingXXS)} ${Xt(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorIcon,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},oO=e=>{const{componentCls:t,margin:n,colorBorderSecondary:r,horizontalMargin:o,verticalItemPadding:i,verticalItemMargin:a,calc:l}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:o,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${Xt(e.lineWidth)} ${e.lineType} ${r}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},\n            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,\n        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:n,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:l(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:i,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:a},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:Xt(l(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:l(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},iO=e=>{const{componentCls:t,cardPaddingSM:n,cardPaddingLG:r,cardHeightSM:o,cardHeightLG:i,horizontalItemPaddingSM:a,horizontalItemPaddingLG:l}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:l,fontSize:e.titleFontSizeLG,lineHeight:e.lineHeightLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:n},[`${t}-nav-add`]:{minWidth:o,minHeight:o}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${Xt(e.borderRadius)} ${Xt(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${Xt(e.borderRadius)} ${Xt(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${Xt(e.borderRadius)} ${Xt(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${Xt(e.borderRadius)} 0 0 ${Xt(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:r},[`${t}-nav-add`]:{minWidth:i,minHeight:i}}}}}},aO=e=>{const{componentCls:t,itemActiveColor:n,itemHoverColor:r,iconCls:o,tabsHorizontalItemMargin:i,horizontalItemPadding:a,itemSelectedColor:l,itemColor:s}=e,c=`${t}-tab`;return{[c]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:a,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:s,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:n}},"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${c}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":Object.assign({flex:"none",lineHeight:1,marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorIcon,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},fi(e)),"&:hover":{color:r},[`&${c}-active ${c}-btn`]:{color:l,textShadow:e.tabsActiveTextShadow},[`&${c}-focus ${c}-btn:focus-visible`]:di(e),[`&${c}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${c}-disabled ${c}-btn, &${c}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${c}-remove ${o}`]:{margin:0,verticalAlign:"middle"},[`${o}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${c} + ${c}`]:{margin:{_skip_check_:!0,value:i}}}},lO=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:n,iconCls:r,cardGutter:o,calc:i}=e,a=`${t}-rtl`;return{[a]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:n},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:Xt(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:Xt(e.marginXS)},marginLeft:{_skip_check_:!0,value:Xt(i(e.marginXXS).mul(-1).equal())},[r]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:o},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},sO=e=>{const{componentCls:t,tabsCardPadding:n,cardHeight:r,cardGutter:o,itemHoverColor:i,itemActiveColor:a,colorBorderSecondary:l}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},ui(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:r,minHeight:r,marginLeft:{_skip_check_:!0,value:o},background:"transparent",border:`${Xt(e.lineWidth)} ${e.lineType} ${l}`,borderRadius:`${Xt(e.borderRadiusLG)} ${Xt(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:i},"&:active, &:focus:not(:focus-visible)":{color:a}},fi(e,-3))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),aO(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:Object.assign(Object.assign({},fi(e)),{"&-hidden":{display:"none"}})}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping']) > ${t}-nav-list`]:{margin:"auto"}}}}}},cO=gi("Tabs",e=>{const t=Xo(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${Xt(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${Xt(e.horizontalItemGutter)}`});return[iO(t),lO(t),oO(t),rO(t),nO(t),sO(t),tO(t)]},e=>{const{cardHeight:t,cardHeightSM:n,cardHeightLG:r,controlHeight:o,controlHeightLG:i}=e,a=t||i,l=n||o,s=r||i+8;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:a,cardHeightSM:l,cardHeightLG:s,cardPadding:`${(a-e.fontHeight)/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${(l-e.fontHeight)/2-e.lineWidth}px ${e.paddingXS}px`,cardPaddingLG:`${(s-e.fontHeightLG)/2-e.lineWidth}px ${e.padding}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}});const uO=m.forwardRef((e,t)=>{var n,r,o,i,a,l,s,c,u,d,f;const{type:h,className:p,rootClassName:g,size:v,onEdit:y,hideAdd:b,centered:x,addIcon:w,removeIcon:C,moreIcon:E,more:O,popupClassName:k,children:M,items:$,animated:I,style:N,indicatorSize:T,indicator:L,destroyInactiveTabPane:R,destroyOnHidden:_}=e,A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator","destroyInactiveTabPane","destroyOnHidden"]),{prefixCls:P}=A,{direction:j,tabs:B,getPrefixCls:D,getPopupContainer:z}=m.useContext(So),H=D("tabs",P),F=Nl(H),[W,G,V]=cO(H,F),q=m.useRef(null);let X;m.useImperativeHandle(t,()=>({nativeElement:q.current})),"editable-card"===h&&(X={onEdit:(e,{key:t,event:n})=>{null==y||y("add"===e?n:t,e)},removeIcon:null!==(n=null!=C?C:null==B?void 0:B.removeIcon)&&void 0!==n?n:m.createElement(Ya,null),addIcon:(null!=w?w:null==B?void 0:B.addIcon)||m.createElement(kE,null),showAdd:!0!==b});const U=D(),Y=Xs(v),K=eO($,M),Z=function(e,t={inkBar:!0,tabPane:!1}){let n;return n=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!0}:Object.assign({inkBar:!0},"object"==typeof t?t:{}),n.tabPane&&(n.tabPaneMotion=Object.assign(Object.assign({},JE),{motionName:Ps(e,"switch")})),n}(H,I),Q=Object.assign(Object.assign({},null==B?void 0:B.style),N),J={align:null!==(r=null==L?void 0:L.align)&&void 0!==r?r:null===(o=null==B?void 0:B.indicator)||void 0===o?void 0:o.align,size:null!==(s=null!==(a=null!==(i=null==L?void 0:L.size)&&void 0!==i?i:T)&&void 0!==a?a:null===(l=null==B?void 0:B.indicator)||void 0===l?void 0:l.size)&&void 0!==s?s:null==B?void 0:B.indicatorSize};return W(m.createElement(QE,Object.assign({ref:q,direction:j,getPopupContainer:z},A,{items:K,className:S({[`${H}-${Y}`]:Y,[`${H}-card`]:["card","editable-card"].includes(h),[`${H}-editable-card`]:"editable-card"===h,[`${H}-centered`]:x},null==B?void 0:B.className,p,g,G,V,F),popupClassName:S(k,G,V,F),style:Q,editable:X,more:Object.assign({icon:null!==(f=null!==(d=null!==(u=null===(c=null==B?void 0:B.more)||void 0===c?void 0:c.icon)&&void 0!==u?u:null==B?void 0:B.moreIcon)&&void 0!==d?d:E)&&void 0!==f?f:m.createElement(gx,null),transitionName:`${U}-slide-up`},O),prefixCls:H,animated:Z,indicator:J,destroyInactiveTabPane:null!=_?_:R})))}),dO=uO;dO.TabPane=()=>null;const fO=e=>{var{prefixCls:t,className:n,hoverable:r=!0}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","hoverable"]);const{getPrefixCls:i}=m.useContext(So),a=i("card",t),l=S(`${a}-grid`,n,{[`${a}-grid-hoverable`]:r});return m.createElement("div",Object.assign({},o,{className:l}))},hO=e=>{const{antCls:t,componentCls:n,headerHeight:r,headerPadding:o,tabsMarginBottom:i}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${Xt(o)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${Xt(e.borderRadiusLG)} ${Xt(e.borderRadiusLG)} 0 0`},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},ci),{[`\n          > ${n}-typography,\n          > ${n}-typography-edit-content\n        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:i,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},pO=e=>{const{cardPaddingBase:t,colorBorderSecondary:n,cardShadow:r,lineWidth:o}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`\n      ${Xt(o)} 0 0 0 ${n},\n      0 ${Xt(o)} 0 0 ${n},\n      ${Xt(o)} ${Xt(o)} 0 0 ${n},\n      ${Xt(o)} 0 0 0 ${n} inset,\n      0 ${Xt(o)} 0 0 ${n} inset;\n    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},gO=e=>{const{componentCls:t,iconCls:n,actionsLiMargin:r,cardActionsIconSize:o,colorBorderSecondary:i,actionsBg:a}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:a,borderTop:`${Xt(e.lineWidth)} ${e.lineType} ${i}`,display:"flex",borderRadius:`0 0 ${Xt(e.borderRadiusLG)} ${Xt(e.borderRadiusLG)}`},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"& > li":{margin:r,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:e.colorIcon,lineHeight:Xt(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${n}`]:{fontSize:o,lineHeight:Xt(e.calc(o).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${Xt(e.lineWidth)} ${e.lineType} ${i}`}}})},mO=e=>Object.assign(Object.assign({margin:`${Xt(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},ci),"&-description":{color:e.colorTextDescription}}),vO=e=>{const{componentCls:t,colorFillAlter:n,headerPadding:r,bodyPadding:o}=e;return{[`${t}-head`]:{padding:`0 ${Xt(r)}`,background:n,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${Xt(e.padding)} ${Xt(o)}`}}},yO=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},bO=e=>{const{componentCls:t,cardShadow:n,cardHeadPadding:r,colorBorderSecondary:o,boxShadowTertiary:i,bodyPadding:a,extraColor:l}=e;return{[t]:Object.assign(Object.assign({},ui(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:i},[`${t}-head`]:hO(e),[`${t}-extra`]:{marginInlineStart:"auto",color:l,fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:{padding:a,borderRadius:`0 0 ${Xt(e.borderRadiusLG)} ${Xt(e.borderRadiusLG)}`},[`${t}-grid`]:pO(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${Xt(e.borderRadiusLG)} ${Xt(e.borderRadiusLG)} 0 0`}},[`${t}-actions`]:gO(e),[`${t}-meta`]:mO(e)}),[`${t}-bordered`]:{border:`${Xt(e.lineWidth)} ${e.lineType} ${o}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:n}},[`${t}-contain-grid`]:{borderRadius:`${Xt(e.borderRadiusLG)} ${Xt(e.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:r}}},[`${t}-type-inner`]:vO(e),[`${t}-loading`]:yO(e),[`${t}-rtl`]:{direction:"rtl"}}},xO=e=>{const{componentCls:t,bodyPaddingSM:n,headerPaddingSM:r,headerHeightSM:o,headerFontSizeSM:i}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:o,padding:`0 ${Xt(r)}`,fontSize:i,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:n}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},wO=gi("Card",e=>{const t=Xo(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize});return[bO(t),xO(t)]},e=>{var t,n;return{headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+2*e.padding,headerHeightSM:e.fontSize*e.lineHeight+2*e.paddingXS,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:null!==(t=e.bodyPadding)&&void 0!==t?t:e.paddingLG,headerPadding:null!==(n=e.headerPadding)&&void 0!==n?n:e.paddingLG}});var CO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const SO=e=>{const{actionClasses:t,actions:n=[],actionStyle:r}=e;return m.createElement("ul",{className:t,style:r},n.map((e,t)=>{const r=`action-${t}`;return m.createElement("li",{style:{width:100/n.length+"%"},key:r},m.createElement("span",null,e))}))};const EO=m.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:o,style:i,extra:a,headStyle:l={},bodyStyle:s={},title:c,loading:u,bordered:d,variant:f,size:h,type:p,cover:g,actions:v,tabList:y,children:b,activeTabKey:x,defaultActiveTabKey:w,tabBarExtraContent:C,hoverable:E,tabProps:O={},classNames:k,styles:M}=e,$=CO(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:I,direction:N,card:T}=m.useContext(So),[L]=km("card",f,d),R=e=>{var t;return S(null===(t=null==T?void 0:T.classNames)||void 0===t?void 0:t[e],null==k?void 0:k[e])},_=e=>{var t;return Object.assign(Object.assign({},null===(t=null==T?void 0:T.styles)||void 0===t?void 0:t[e]),null==M?void 0:M[e])},A=m.useMemo(()=>{let e=!1;return m.Children.forEach(b,t=>{(null==t?void 0:t.type)===fO&&(e=!0)}),e},[b]),P=I("card",n),[j,B,D]=wO(P),z=m.createElement(Ih,{loading:!0,active:!0,paragraph:{rows:4},title:!1},b),H=void 0!==x,F=Object.assign(Object.assign({},O),{[H?"activeKey":"defaultActiveKey"]:H?x:w,tabBarExtraContent:C});let W;const G=Xs(h),V=G&&"default"!==G?G:"large",q=y?m.createElement(dO,Object.assign({size:V},F,{className:`${P}-head-tabs`,onChange:t=>{var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)},items:y.map(e=>{var{tab:t}=e,n=CO(e,["tab"]);return Object.assign({label:t},n)})})):null;if(c||a||q){const e=S(`${P}-head`,R("header")),t=S(`${P}-head-title`,R("title")),n=S(`${P}-extra`,R("extra")),r=Object.assign(Object.assign({},l),_("header"));W=m.createElement("div",{className:e,style:r},m.createElement("div",{className:`${P}-head-wrapper`},c&&m.createElement("div",{className:t,style:_("title")},c),a&&m.createElement("div",{className:n,style:_("extra")},a)),q)}const X=S(`${P}-cover`,R("cover")),U=g?m.createElement("div",{className:X,style:_("cover")},g):null,Y=S(`${P}-body`,R("body")),K=Object.assign(Object.assign({},s),_("body")),Z=m.createElement("div",{className:Y,style:K},u?z:b),Q=S(`${P}-actions`,R("actions")),J=(null==v?void 0:v.length)?m.createElement(SO,{actionClasses:Q,actionStyle:_("actions"),actions:v}):null,ee=js($,["onTabChange"]),te=S(P,null==T?void 0:T.className,{[`${P}-loading`]:u,[`${P}-bordered`]:"borderless"!==L,[`${P}-hoverable`]:E,[`${P}-contain-grid`]:A,[`${P}-contain-tabs`]:null==y?void 0:y.length,[`${P}-${G}`]:G,[`${P}-type-${p}`]:!!p,[`${P}-rtl`]:"rtl"===N},r,o,B,D),ne=Object.assign(Object.assign({},null==T?void 0:T.style),i);return j(m.createElement("div",Object.assign({ref:t},ee,{className:te,style:ne}),W,U,Z,J))});function OO(e,t,n){var r={}.atBegin;return function(e,t,n){var r,o=n||{},i=o.noTrailing,a=void 0!==i&&i,l=o.noLeading,s=void 0!==l&&l,c=o.debounceMode,u=void 0===c?void 0:c,d=!1,f=0;function h(){r&&clearTimeout(r)}function p(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var l=this,c=Date.now()-f;function p(){f=Date.now(),t.apply(l,o)}function g(){r=void 0}d||(s||!u||r||p(),h(),void 0===u&&c>e?s?(f=Date.now(),a||(r=setTimeout(u?g:p,e))):p():!0!==a&&(r=setTimeout(u?g:p,void 0===u?e-c:e)))}return p.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;h(),d=!n},p}(e,t,{debounceMode:!1!==(void 0!==r&&r)})}function kO(e,t){return e[t]}EO.Grid=fO,EO.Meta=e=>{const{prefixCls:t,className:n,avatar:r,title:o,description:i}=e,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:l}=m.useContext(So),s=l("card",t),c=S(`${s}-meta`,n),u=r?m.createElement("div",{className:`${s}-meta-avatar`},r):null,d=o?m.createElement("div",{className:`${s}-meta-title`},o):null,f=i?m.createElement("div",{className:`${s}-meta-description`},i):null,h=d||f?m.createElement("div",{className:`${s}-meta-detail`},d,f):null;return m.createElement("div",Object.assign({},a,{className:c}),u,h)};var MO=["children"];function $O(e,t){return"".concat(e,"-").concat(t)}function IO(e,t){return null!=e?e:t}function NO(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function TO(e){return function e(t){return N(t).map(function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return A(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,r=t.props,o=r.children,i=D({key:n},$t(r,MO)),a=e(o);return a.length&&(i.children=a),i}).filter(function(e){return e})}(e)}function LO(e,t,n){var r=NO(n),o=r._title,i=r.key,a=r.children,l=new Set(!0===t?[]:t),s=[];return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map(function(c,u){for(var d,f=$O(r?r.pos:"0",u),h=IO(c[i],f),p=0;p<o.length;p+=1){var g=o[p];if(void 0!==c[g]){d=c[g];break}}var m=Object.assign(js(c,[].concat(it(o),[i,a])),{title:d,key:h,parent:r,pos:f,children:null,data:c,isStart:[].concat(it(r?r.isStart:[]),[0===u]),isEnd:[].concat(it(r?r.isEnd:[]),[u===n.length-1])});return s.push(m),!0===t||l.has(h)?m.children=e(c[a]||[],m):m.children=[],m})}(e),s}function RO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,o=t.onProcessFinished,i=t.externalGetKey,a=t.childrenPropName,l=t.fieldNames,s=i||(arguments.length>2?arguments[2]:void 0),c={},u={},d={posEntities:c,keyEntities:u};return n&&(d=n(d)||d),function(e,t,n){var r,o=("object"===O(n)?n:{externalGetKey:n})||{},i=o.childrenPropName,a=o.externalGetKey,l=NO(o.fieldNames),s=l.key,c=l.children,u=i||c;a?"string"==typeof a?r=function(e){return e[a]}:"function"==typeof a&&(r=function(e){return a(e)}):r=function(e,t){return IO(e[s],t)},function n(o,i,a,l){var s=o?o[u]:e,c=o?$O(a.pos,i):"0",d=o?[].concat(it(l),[o]):[];if(o){var f=r(o,c),h={node:o,index:i,pos:c,key:f,parentPos:a.node?a.pos:null,level:a.level+1,nodes:d};t(h)}s&&s.forEach(function(e,t){n(e,t,{node:o,pos:c,level:a?a.level+1:-1},d)})}(null)}(e,function(e){var t=e.node,n=e.index,o=e.pos,i=e.key,a=e.parentPos,l=e.level,s={node:t,nodes:e.nodes,index:n,key:i,pos:o,level:l},f=IO(i,o);c[o]=s,u[f]=s,s.parent=c[a],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s)),r&&r(s,d)},{externalGetKey:s,childrenPropName:a,fieldNames:l}),o&&o(d),d}function _O(e,t){var n=t.expandedKeys,r=t.selectedKeys,o=t.loadedKeys,i=t.loadingKeys,a=t.checkedKeys,l=t.halfCheckedKeys,s=t.dragOverNodeKey,c=t.dropPosition,u=kO(t.keyEntities,e);return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==o.indexOf(e),loading:-1!==i.indexOf(e),checked:-1!==a.indexOf(e),halfChecked:-1!==l.indexOf(e),pos:String(u?u.pos:""),dragOver:s===e&&0===c,dragOverGapTop:s===e&&-1===c,dragOverGapBottom:s===e&&1===c}}function AO(e){var t=e.data,n=e.expanded,r=e.selected,o=e.checked,i=e.loaded,a=e.loading,l=e.halfChecked,s=e.dragOver,c=e.dragOverGapTop,u=e.dragOverGapBottom,d=e.pos,f=e.active,h=e.eventKey,p=D(D({},t),{},{expanded:n,selected:r,checked:o,loaded:i,loading:a,halfChecked:l,dragOver:s,dragOverGapTop:c,dragOverGapBottom:u,pos:d,active:f,key:h});return"props"in p||Object.defineProperty(p,"props",{get:function(){return A(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),p}function PO(e,t){var n=new Set;return e.forEach(function(e){t.has(e)||n.add(e)}),n}function jO(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,o=t.checkable;return!(!n&&!r)||!1===o}function BO(e,t,n,r){var o,i=[];o=r||jO;var a,l=new Set(e.filter(function(e){var t=!!kO(n,e);return t||i.push(e),t})),s=new Map,c=0;return Object.keys(n).forEach(function(e){var t=n[e],r=t.level,o=s.get(r);o||(o=new Set,s.set(r,o)),o.add(t),c=Math.max(c,r)}),A(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(e){return"'".concat(e,"'")}).join(", "))),a=!0===t?function(e,t,n,r){for(var o=new Set(e),i=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach(function(e){var t=e.key,n=e.node,i=e.children,a=void 0===i?[]:i;o.has(t)&&!r(n)&&a.filter(function(e){return!r(e.node)}).forEach(function(e){o.add(e.key)})});for(var l=new Set,s=n;s>=0;s-=1)(t.get(s)||new Set).forEach(function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!l.has(e.parent.key))if(r(e.parent.node))l.add(t.key);else{var a=!0,s=!1;(t.children||[]).filter(function(e){return!r(e.node)}).forEach(function(e){var t=e.key,n=o.has(t);a&&!n&&(a=!1),s||!n&&!i.has(t)||(s=!0)}),a&&o.add(t.key),s&&i.add(t.key),l.add(t.key)}});return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(PO(i,o))}}(l,s,c,o):function(e,t,n,r,o){for(var i=new Set(e),a=new Set(t),l=0;l<=r;l+=1)(n.get(l)||new Set).forEach(function(e){var t=e.key,n=e.node,r=e.children,l=void 0===r?[]:r;i.has(t)||a.has(t)||o(n)||l.filter(function(e){return!o(e.node)}).forEach(function(e){i.delete(e.key)})});a=new Set;for(var s=new Set,c=r;c>=0;c-=1)(n.get(c)||new Set).forEach(function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!s.has(e.parent.key))if(o(e.parent.node))s.add(t.key);else{var r=!0,l=!1;(t.children||[]).filter(function(e){return!o(e.node)}).forEach(function(e){var t=e.key,n=i.has(t);r&&!n&&(r=!1),l||!n&&!a.has(t)||(l=!0)}),r||i.delete(t.key),l&&a.add(t.key),s.add(t.key)}});return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(PO(a,i))}}(l,t.halfCheckedKeys,s,c,o),a}function DO(e,t){return(e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},ui(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},ui(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},ui(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:di(e)},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${Xt(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`\n        ${n}:not(${n}-disabled),\n        ${t}:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${t}-checked:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{"&":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorBorder}`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorPrimary}`}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]})(Xo(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize}))}const zO=gi("Checkbox",(e,{prefixCls:t})=>[DO(t,e)]),HO=p.createContext(null);const FO=(e,t)=>{var n;const{prefixCls:r,className:o,rootClassName:i,children:a,indeterminate:l=!1,style:s,onMouseEnter:c,onMouseLeave:u,skipGroup:d=!1,disabled:f}=e,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:p,direction:g,checkbox:v}=m.useContext(So),y=m.useContext(HO),{isFormItemInput:b}=m.useContext(eh),x=m.useContext(Io),w=null!==(n=(null==y?void 0:y.disabled)||f)&&void 0!==n?n:x,C=m.useRef(h.value),E=m.useRef(null),O=de(t,E);m.useEffect(()=>{null==y||y.registerValue(h.value)},[]),m.useEffect(()=>{if(!d)return h.value!==C.current&&(null==y||y.cancelValue(C.current),null==y||y.registerValue(h.value),C.current=h.value),()=>null==y?void 0:y.cancelValue(h.value)},[h.value]),m.useEffect(()=>{var e;(null===(e=E.current)||void 0===e?void 0:e.input)&&(E.current.input.indeterminate=l)},[l]);const k=p("checkbox",r),M=Nl(k),[$,I,N]=zO(k,M),T=Object.assign({},h);y&&!d&&(T.onChange=(...e)=>{h.onChange&&h.onChange.apply(h,e),y.toggleOption&&y.toggleOption({label:a,value:h.value})},T.name=y.name,T.checked=y.value.includes(h.value));const L=S(`${k}-wrapper`,{[`${k}-rtl`]:"rtl"===g,[`${k}-wrapper-checked`]:T.checked,[`${k}-wrapper-disabled`]:w,[`${k}-wrapper-in-form-item`]:b},null==v?void 0:v.className,o,i,N,M,I),R=S({[`${k}-indeterminate`]:l},zs,I),[_,A]=yS(T.onClick);return $(m.createElement(qs,{component:"Checkbox",disabled:w},m.createElement("label",{className:L,style:Object.assign(Object.assign({},null==v?void 0:v.style),s),onMouseEnter:c,onMouseLeave:u,onClick:_},m.createElement(vS,Object.assign({},T,{onClick:A,prefixCls:k,className:R,disabled:w,ref:O})),null!=a&&m.createElement("span",{className:`${k}-label`},a))))},WO=m.forwardRef(FO);const GO=m.forwardRef((e,t)=>{const{defaultValue:n,children:r,options:o=[],prefixCls:i,className:a,rootClassName:l,style:s,onChange:c}=e,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:d,direction:f}=m.useContext(So),[h,p]=m.useState(u.value||n||[]),[g,v]=m.useState([]);m.useEffect(()=>{"value"in u&&p(u.value||[])},[u.value]);const y=m.useMemo(()=>o.map(e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e),[o]),b=e=>{v(t=>t.filter(t=>t!==e))},x=e=>{v(t=>[].concat(it(t),[e]))},w=e=>{const t=h.indexOf(e.value),n=it(h);-1===t?n.push(e.value):n.splice(t,1),"value"in u||p(n),null==c||c(n.filter(e=>g.includes(e)).sort((e,t)=>y.findIndex(t=>t.value===e)-y.findIndex(e=>e.value===t)))},C=d("checkbox",i),E=`${C}-group`,O=Nl(C),[k,M,$]=zO(C,O),I=js(u,["value","disabled"]),N=o.length?y.map(e=>m.createElement(WO,{prefixCls:C,key:e.value.toString(),disabled:"disabled"in e?e.disabled:u.disabled,value:e.value,checked:h.includes(e.value),onChange:e.onChange,className:S(`${E}-item`,e.className),style:e.style,title:e.title,id:e.id,required:e.required},e.label)):r,T=m.useMemo(()=>({toggleOption:w,value:h,disabled:u.disabled,name:u.name,registerValue:x,cancelValue:b}),[w,h,u.disabled,u.name,x,b]),L=S(E,{[`${E}-rtl`]:"rtl"===f},a,l,$,O,M);return k(m.createElement("div",Object.assign({className:L,style:s},I,{ref:t}),m.createElement(HO.Provider,{value:T},N)))}),VO=WO;VO.Group=GO,VO.__ANT_CHECKBOX=!0;const qO=m.createContext({});function XO(e){return"number"==typeof e?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const UO=["xs","sm","md","lg","xl","xxl"],YO=m.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=m.useContext(So),{gutter:o,wrap:i}=m.useContext(qO),{prefixCls:a,span:l,order:s,offset:c,push:u,pull:d,className:f,children:h,flex:p,style:g}=e,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),y=n("col",a),[b,x,w]=zh(y),C={};let E={};UO.forEach(t=>{let n={};const o=e[t];"number"==typeof o?n.span=o:"object"==typeof o&&(n=o||{}),delete v[t],E=Object.assign(Object.assign({},E),{[`${y}-${t}-${n.span}`]:void 0!==n.span,[`${y}-${t}-order-${n.order}`]:n.order||0===n.order,[`${y}-${t}-offset-${n.offset}`]:n.offset||0===n.offset,[`${y}-${t}-push-${n.push}`]:n.push||0===n.push,[`${y}-${t}-pull-${n.pull}`]:n.pull||0===n.pull,[`${y}-rtl`]:"rtl"===r}),n.flex&&(E[`${y}-${t}-flex`]=!0,C[`--${y}-${t}-flex`]=XO(n.flex))});const O=S(y,{[`${y}-${l}`]:void 0!==l,[`${y}-order-${s}`]:s,[`${y}-offset-${c}`]:c,[`${y}-push-${u}`]:u,[`${y}-pull-${d}`]:d},f,E,x,w),k={};if(o&&o[0]>0){const e=o[0]/2;k.paddingLeft=e,k.paddingRight=e}return p&&(k.flex=XO(p),!1!==i||k.minWidth||(k.minWidth=0)),b(m.createElement("div",Object.assign({},v,{style:Object.assign(Object.assign(Object.assign({},k),g),C),className:O,ref:t}),h))});function KO(e,t){const[n,r]=m.useState("string"==typeof e?e:"");return m.useEffect(()=>{(()=>{if("string"==typeof e&&r(e),"object"==typeof e)for(let n=0;n<vv.length;n++){const o=vv[n];if(!t||!t[o])continue;const i=e[o];if(void 0!==i)return void r(i)}})()},[JSON.stringify(e),t]),n}const ZO=m.forwardRef((e,t)=>{const{prefixCls:n,justify:r,align:o,className:i,style:a,children:l,gutter:s=0,wrap:c}=e,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:d,direction:f}=m.useContext(So),h=xv(!0,null),p=KO(o,h),g=KO(r,h),v=d("row",n),[y,b,x]=Bh(v),w=function(e,t){const n=[void 0,void 0],r=Array.isArray(e)?e:[e,void 0],o=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((e,t)=>{if("object"==typeof e&&null!==e)for(let r=0;r<vv.length;r++){const i=vv[r];if(o[i]&&void 0!==e[i]){n[t]=e[i];break}}else n[t]=e}),n}(s,h),C=S(v,{[`${v}-no-wrap`]:!1===c,[`${v}-${g}`]:g,[`${v}-${p}`]:p,[`${v}-rtl`]:"rtl"===f},i,b,x),E={},O=null!=w[0]&&w[0]>0?w[0]/-2:void 0;O&&(E.marginLeft=O,E.marginRight=O);const[k,M]=w;E.rowGap=M;const $=m.useMemo(()=>({gutter:[k,M],wrap:c}),[k,M,c]);return y(m.createElement(qO.Provider,{value:$},m.createElement("div",Object.assign({},u,{className:C,style:Object.assign(Object.assign({},E),a),ref:t}),l)))}),QO=e=>{const{componentCls:t}=e;return{[t]:{"&-horizontal":{[`&${t}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}},JO=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:o,textPaddingInline:i,orientationMargin:a,verticalMarginInline:l}=e;return{[t]:Object.assign(Object.assign({},ui(e)),{borderBlockStart:`${Xt(o)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:l,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${Xt(o)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${Xt(e.marginLG)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${Xt(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${Xt(o)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${a} * 100%)`},"&::after":{width:`calc(100% - ${a} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${a} * 100%)`},"&::after":{width:`calc(${a} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:i},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${Xt(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${Xt(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},ek=gi("Divider",e=>{const t=Xo(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[JO(t),QO(t)]},e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),{unitless:{orientationMargin:!0}});const tk={small:"sm",middle:"md"},nk=e=>{const{getPrefixCls:t,direction:n,className:r,style:o}=ko("divider"),{prefixCls:i,type:a="horizontal",orientation:l="center",orientationMargin:s,className:c,rootClassName:u,children:d,dashed:f,variant:h="solid",plain:p,style:g,size:v}=e,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),b=t("divider",i),[x,w,C]=ek(b),E=Xs(v),O=tk[E],k=!!d,M=m.useMemo(()=>"left"===l?"rtl"===n?"end":"start":"right"===l?"rtl"===n?"start":"end":l,[n,l]),$="start"===M&&null!=s,I="end"===M&&null!=s,N=S(b,r,w,C,`${b}-${a}`,{[`${b}-with-text`]:k,[`${b}-with-text-${M}`]:k,[`${b}-dashed`]:!!f,[`${b}-${h}`]:"solid"!==h,[`${b}-plain`]:!!p,[`${b}-rtl`]:"rtl"===n,[`${b}-no-default-orientation-margin-start`]:$,[`${b}-no-default-orientation-margin-end`]:I,[`${b}-${O}`]:!!O},c,u),T=m.useMemo(()=>"number"==typeof s?s:/^\d+$/.test(s)?Number(s):s,[s]),L={marginInlineStart:$?T:void 0,marginInlineEnd:I?T:void 0};return x(m.createElement("div",Object.assign({className:N,style:Object.assign(Object.assign({},o),g)},y,{role:"separator"}),d&&"vertical"!==a&&m.createElement("span",{className:`${b}-inner-text`,style:L},d)))};var rk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},ok=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:rk}))},ik=m.forwardRef(ok);function ak(){return"function"==typeof BigInt}function lk(e){return!e&&0!==e&&!Number.isNaN(e)||!String(e).trim()}function sk(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",o=r.split("."),i=o[0]||"0",a=o[1]||"0";"0"===i&&"0"===a&&(n=!1);var l=n?"-":"";return{negative:n,negativeStr:l,trimStr:r,integerStr:i,decimalStr:a,fullStr:"".concat(l).concat(r)}}function ck(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function uk(e){var t=String(e);if(ck(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return null!=r&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&fk(t)?t.length-t.indexOf(".")-1:0}function dk(e){var t=String(e);if(ck(e)){if(e>Number.MAX_SAFE_INTEGER)return String(ak()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(ak()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(uk(t))}return sk(t).fullStr}function fk(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var hk=function(){function e(t){if(He(this,e),j(this,"origin",""),j(this,"negative",void 0),j(this,"integer",void 0),j(this,"decimal",void 0),j(this,"decimalLen",void 0),j(this,"empty",void 0),j(this,"nan",void 0),lk(t))this.empty=!0;else if(this.origin=String(t),"-"===t||Number.isNaN(t))this.nan=!0;else{var n=t;if(ck(n)&&(n=Number(n)),fk(n="string"==typeof n?n:dk(n))){var r=sk(n);this.negative=r.negative;var o=r.trimStr.split(".");this.integer=BigInt(o[0]);var i=o[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}}return We(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,n,r){var o=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),i=n(this.alignDecimal(o),t.alignDecimal(o)).toString(),a=r(o),l=sk(i),s=l.negativeStr,c=l.trimStr,u="".concat(s).concat(c.padStart(a+1,"0"));return new e("".concat(u.slice(0,-a),".").concat(u.slice(-a)))}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);return n.isInvalidate()?this:this.cal(n,function(e,t){return e+t},function(e){return e})}},{key:"multi",value:function(t){var n=new e(t);return this.isInvalidate()||n.isInvalidate()?new e(NaN):this.cal(n,function(e,t){return e*t},function(e){return 2*e})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null==e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":sk("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),pk=function(){function e(t){He(this,e),j(this,"origin",""),j(this,"number",void 0),j(this,"empty",void 0),lk(t)?this.empty=!0:(this.origin=String(t),this.number=Number(t))}return We(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(uk(this.number),uk(n));return new e(r.toFixed(o))}},{key:"multi",value:function(t){var n=Number(t);if(this.isInvalidate()||Number.isNaN(n))return new e(NaN);var r=this.number*n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(uk(this.number),uk(n));return new e(r.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null==e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":dk(this.number):this.origin}}]),e}();function gk(e){return ak()?new hk(e):new pk(e)}function mk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var o=sk(e),i=o.negativeStr,a=o.integerStr,l=o.decimalStr,s="".concat(t).concat(l),c="".concat(i).concat(a);if(n>=0){var u=Number(l[n]);return u>=5&&!r?mk(gk(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-u)).toString(),t,n,r):0===n?c:"".concat(c).concat(t).concat(l.padEnd(n,"0").slice(0,n))}return".0"===s?c:"".concat(c).concat(s)}function vk(e,t,n){var r=t.cloneNode(!0),o=Object.create(e,{target:{value:r},currentTarget:{value:r}});return r.value=n,"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd&&(r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd),r.setSelectionRange=function(){t.setSelectionRange.apply(t,arguments)},o}function yk(e,t,n,r){if(n){var o=t;"click"!==t.type?"file"===e.type||void 0===r?n(o):n(o=vk(t,e,r)):n(o=vk(t,e,""))}}function bk(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}var xk=p.forwardRef(function(e,t){var n,r,o,i=e.inputElement,a=e.children,l=e.prefixCls,s=e.prefix,c=e.suffix,u=e.addonBefore,d=e.addonAfter,f=e.className,h=e.style,g=e.disabled,v=e.readOnly,y=e.focused,b=e.triggerFocus,x=e.allowClear,w=e.value,C=e.handleReset,k=e.hidden,M=e.classes,$=e.classNames,I=e.dataAttrs,N=e.styles,T=e.components,L=e.onClear,R=null!=a?a:i,_=(null==T?void 0:T.affixWrapper)||"span",A=(null==T?void 0:T.groupWrapper)||"span",P=(null==T?void 0:T.wrapper)||"span",B=(null==T?void 0:T.groupAddon)||"span",z=m.useRef(null),H=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e),F=m.cloneElement(R,{value:w,className:S(null===(n=R.props)||void 0===n?void 0:n.className,!H&&(null==$?void 0:$.variant))||null}),W=m.useRef(null);if(p.useImperativeHandle(t,function(){return{nativeElement:W.current||z.current}}),H){var G=null;if(x){var V=!g&&!v&&w,q="".concat(l,"-clear-icon"),X="object"===O(x)&&null!=x&&x.clearIcon?x.clearIcon:"";G=p.createElement("button",{type:"button",tabIndex:-1,onClick:function(e){null==C||C(e),null==L||L()},onMouseDown:function(e){return e.preventDefault()},className:S(q,j(j({},"".concat(q,"-hidden"),!V),"".concat(q,"-has-suffix"),!!c))},X)}var U="".concat(l,"-affix-wrapper"),Y=S(U,j(j(j(j(j({},"".concat(l,"-disabled"),g),"".concat(U,"-disabled"),g),"".concat(U,"-focused"),y),"".concat(U,"-readonly"),v),"".concat(U,"-input-with-clear-btn"),c&&x&&w),null==M?void 0:M.affixWrapper,null==$?void 0:$.affixWrapper,null==$?void 0:$.variant),K=(c||x)&&p.createElement("span",{className:S("".concat(l,"-suffix"),null==$?void 0:$.suffix),style:null==N?void 0:N.suffix},G,c);F=p.createElement(_,E({className:Y,style:null==N?void 0:N.affixWrapper,onClick:function(e){var t;null!==(t=z.current)&&void 0!==t&&t.contains(e.target)&&(null==b||b())}},null==I?void 0:I.affixWrapper,{ref:z}),s&&p.createElement("span",{className:S("".concat(l,"-prefix"),null==$?void 0:$.prefix),style:null==N?void 0:N.prefix},s),F,K)}if(function(e){return!(!e.addonBefore&&!e.addonAfter)}(e)){var Z="".concat(l,"-group"),Q="".concat(Z,"-addon"),J="".concat(Z,"-wrapper"),ee=S("".concat(l,"-wrapper"),Z,null==M?void 0:M.wrapper,null==$?void 0:$.wrapper),te=S(J,j({},"".concat(J,"-disabled"),g),null==M?void 0:M.group,null==$?void 0:$.groupWrapper);F=p.createElement(A,{className:te,ref:W},p.createElement(P,{className:ee},u&&p.createElement(B,{className:Q},u),F,d&&p.createElement(B,{className:Q},d)))}return p.cloneElement(F,{className:S(null===(r=F.props)||void 0===r?void 0:r.className,f)||null,style:D(D({},null===(o=F.props)||void 0===o?void 0:o.style),h),hidden:k})}),wk=["show"];function Ck(e,t){return m.useMemo(function(){var n={};t&&(n.show="object"===O(t)&&t.formatter?t.formatter:!!t);var r=n=D(D({},n),e),o=r.show,i=$t(r,wk);return D(D({},i),{},{show:!!o,showFormatter:"function"==typeof o?o:void 0,strategy:i.strategy||function(e){return e.length}})},[e,t])}var Sk=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],Ek=m.forwardRef(function(e,t){var n=e.autoComplete,r=e.onChange,o=e.onFocus,i=e.onBlur,a=e.onPressEnter,l=e.onKeyDown,s=e.onKeyUp,c=e.prefixCls,u=void 0===c?"rc-input":c,d=e.disabled,f=e.htmlSize,h=e.className,g=e.maxLength,v=e.suffix,y=e.showCount,b=e.count,x=e.type,w=void 0===x?"text":x,C=e.classes,O=e.classNames,k=e.styles,M=e.onCompositionStart,$=e.onCompositionEnd,I=$t(e,Sk),N=pt(m.useState(!1),2),T=N[0],L=N[1],R=m.useRef(!1),_=m.useRef(!1),A=m.useRef(null),P=m.useRef(null),B=function(e){A.current&&bk(A.current,e)},z=pt(Wo(e.defaultValue,{value:e.value}),2),H=z[0],F=z[1],W=null==H?"":String(H),G=pt(m.useState(null),2),V=G[0],q=G[1],X=Ck(b,y),U=X.max||g,Y=X.strategy(W),K=!!U&&Y>U;m.useImperativeHandle(t,function(){var e;return{focus:B,blur:function(){var e;null===(e=A.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=A.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=A.current)||void 0===e||e.select()},input:A.current,nativeElement:(null===(e=P.current)||void 0===e?void 0:e.nativeElement)||A.current}}),m.useEffect(function(){_.current&&(_.current=!1),L(function(e){return(!e||!d)&&e})},[d]);var Z=function(e,t,n){var o,i,a=t;if(!R.current&&X.exceedFormatter&&X.max&&X.strategy(t)>X.max)t!==(a=X.exceedFormatter(t,{max:X.max}))&&q([(null===(o=A.current)||void 0===o?void 0:o.selectionStart)||0,(null===(i=A.current)||void 0===i?void 0:i.selectionEnd)||0]);else if("compositionEnd"===n.source)return;F(a),A.current&&yk(A.current,e,r,a)};m.useEffect(function(){var e;V&&(null===(e=A.current)||void 0===e||e.setSelectionRange.apply(e,it(V)))},[V]);var Q,J=function(e){Z(e,e.target.value,{source:"change"})},ee=function(e){R.current=!1,Z(e,e.currentTarget.value,{source:"compositionEnd"}),null==$||$(e)},te=function(e){a&&"Enter"===e.key&&!_.current&&(_.current=!0,a(e)),null==l||l(e)},ne=function(e){"Enter"===e.key&&(_.current=!1),null==s||s(e)},re=function(e){L(!0),null==o||o(e)},oe=function(e){_.current&&(_.current=!1),L(!1),null==i||i(e)},ie=K&&"".concat(u,"-out-of-range");return p.createElement(xk,E({},I,{prefixCls:u,className:S(h,ie),handleReset:function(e){F(""),B(),A.current&&yk(A.current,e,r)},value:W,focused:T,triggerFocus:B,suffix:function(){var e=Number(U)>0;if(v||X.show){var t=X.showFormatter?X.showFormatter({value:W,count:Y,maxLength:U}):"".concat(Y).concat(e?" / ".concat(U):"");return p.createElement(p.Fragment,null,X.show&&p.createElement("span",{className:S("".concat(u,"-show-count-suffix"),j({},"".concat(u,"-show-count-has-suffix"),!!v),null==O?void 0:O.count),style:D({},null==k?void 0:k.count)},t),v)}return null}(),disabled:d,classes:C,classNames:O,styles:k,ref:P}),(Q=js(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]),p.createElement("input",E({autoComplete:n},Q,{onChange:J,onFocus:re,onBlur:oe,onKeyDown:te,onKeyUp:ne,className:S(u,j({},"".concat(u,"-disabled"),d),null==O?void 0:O.input),style:null==k?void 0:k.input,ref:A,size:f,type:w,onCompositionStart:function(e){R.current=!0,null==M||M(e)},onCompositionEnd:ee}))))});function Ok(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,o=e.upDisabled,i=e.downDisabled,a=e.onStep,l=m.useRef(),s=m.useRef([]),c=m.useRef();c.current=a;var u,d,f,h=function(){clearTimeout(l.current)},p=function(e,t){e.preventDefault(),h(),c.current(t),l.current=setTimeout(function e(){c.current(t),l.current=setTimeout(e,200)},600)};if(m.useEffect(function(){return function(){h(),s.current.forEach(function(e){return dt.cancel(e)})}},[]),u=pt(m.useState(!1),2),d=u[0],f=u[1],Jt(function(){f(bp())},[]),d)return null;var g="".concat(t,"-handler"),v=S(g,"".concat(g,"-up"),j({},"".concat(g,"-up-disabled"),o)),y=S(g,"".concat(g,"-down"),j({},"".concat(g,"-down-disabled"),i)),b=function(){return s.current.push(dt(h))},x={unselectable:"on",role:"button",onMouseUp:b,onMouseLeave:b};return m.createElement("div",{className:"".concat(g,"-wrap")},m.createElement("span",E({},x,{onMouseDown:function(e){p(e,!0)},"aria-label":"Increase Value","aria-disabled":o,className:v}),n||m.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),m.createElement("span",E({},x,{onMouseDown:function(e){p(e,!1)},"aria-label":"Decrease Value","aria-disabled":i,className:y}),r||m.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function kk(e){var t="number"==typeof e?dk(e):sk(e).fullStr;return t.includes(".")?sk(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var Mk=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],$k=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Ik=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},Nk=function(e){var t=gk(e);return t.isInvalidate()?null:t},Tk=m.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,o=e.style,i=e.min,a=e.max,l=e.step,s=void 0===l?1:l,c=e.defaultValue,u=e.value,d=e.disabled,f=e.readOnly,h=e.upHandler,p=e.downHandler,g=e.keyboard,v=e.changeOnWheel,y=void 0!==v&&v,b=e.controls,x=void 0===b||b;e.classNames;var w=e.stringMode,C=e.parser,k=e.formatter,M=e.precision,$=e.decimalSeparator,I=e.onChange,N=e.onInput,T=e.onPressEnter,L=e.onStep,R=e.changeOnBlur,_=void 0===R||R,P=e.domRef,B=$t(e,Mk),D="".concat(n,"-input"),z=m.useRef(null),H=pt(m.useState(!1),2),F=H[0],W=H[1],G=m.useRef(!1),V=m.useRef(!1),q=m.useRef(!1),X=pt(m.useState(function(){return gk(null!=u?u:c)}),2),U=X[0],Y=X[1];var K=m.useCallback(function(e,t){if(!t)return M>=0?M:Math.max(uk(e),uk(s))},[M,s]),Z=m.useCallback(function(e){var t=String(e);if(C)return C(t);var n=t;return $&&(n=n.replace($,".")),n.replace(/[^\w.-]+/g,"")},[C,$]),Q=m.useRef(""),J=m.useCallback(function(e,t){if(k)return k(e,{userTyping:t,input:String(Q.current)});var n="number"==typeof e?dk(e):e;if(!t){var r=K(n,t);if(fk(n)&&($||r>=0))n=mk(n,$||".",r)}return n},[k,K,$]),ee=pt(m.useState(function(){var e=null!=c?c:u;return U.isInvalidate()&&["string","number"].includes(O(e))?Number.isNaN(e)?"":e:J(U.toString(),!1)}),2),te=ee[0],ne=ee[1];function re(e,t){ne(J(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}Q.current=te;var oe,ie,ae,le,se,ce=m.useMemo(function(){return Nk(a)},[a,M]),ue=m.useMemo(function(){return Nk(i)},[i,M]),fe=m.useMemo(function(){return!(!ce||!U||U.isInvalidate())&&ce.lessEquals(U)},[ce,U]),he=m.useMemo(function(){return!(!ue||!U||U.isInvalidate())&&U.lessEquals(ue)},[ue,U]),pe=(oe=z.current,ie=F,ae=m.useRef(null),[function(){try{var e=oe.selectionStart,t=oe.selectionEnd,n=oe.value,r=n.substring(0,e),o=n.substring(t);ae.current={start:e,end:t,value:n,beforeTxt:r,afterTxt:o}}catch(rw){}},function(){if(oe&&ae.current&&ie)try{var e=oe.value,t=ae.current,n=t.beforeTxt,r=t.afterTxt,o=t.start,i=e.length;if(e.startsWith(n))i=n.length;else if(e.endsWith(r))i=e.length-ae.current.afterTxt.length;else{var a=n[o-1],l=e.indexOf(a,o-1);-1!==l&&(i=l+1)}oe.setSelectionRange(i,i)}catch(rw){A(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(rw.message))}}]),ge=pt(pe,2),me=ge[0],ve=ge[1],ye=function(e){return ce&&!e.lessEquals(ce)?ce:ue&&!ue.lessEquals(e)?ue:null},be=function(e){return!ye(e)},xe=function(e,t){var n,r=e,o=be(r)||r.isEmpty();if(r.isEmpty()||t||(r=ye(r)||r,o=!0),!f&&!d&&o){var i=r.toString(),a=K(i,t);return a>=0&&(r=gk(mk(i,".",a)),be(r)||(r=gk(mk(i,".",a,!0)))),r.equals(U)||(n=r,void 0===u&&Y(n),null==I||I(r.isEmpty()?null:Ik(w,r)),void 0===u&&re(r,t)),r}return U},we=(le=m.useRef(0),se=function(){dt.cancel(le.current)},m.useEffect(function(){return se},[]),function(e){se(),le.current=dt(function(){e()})}),Ce=function e(t){if(me(),Q.current=t,ne(t),!V.current){var n=gk(Z(t));n.isNaN()||xe(n,!0)}null==N||N(t),we(function(){var n=t;C||(n=t.replace(//g,".")),n!==t&&e(n)})},Se=function(e){var t;if(!(e&&fe||!e&&he)){G.current=!1;var n=gk(q.current?kk(s):s);e||(n=n.negate());var r=(U||gk(0)).add(n.toString()),o=xe(r,!1);null==L||L(Ik(w,o),{offset:q.current?kk(s):s,type:e?"up":"down"}),null===(t=z.current)||void 0===t||t.focus()}},Ee=function(e){var t,n=gk(Z(te));t=n.isNaN()?xe(U,e):xe(n,e),void 0!==u?re(U,!1):t.isNaN()||re(t,!1)};m.useEffect(function(){if(y&&F){var e=function(e){Se(e.deltaY<0),e.preventDefault()},t=z.current;if(t)return t.addEventListener("wheel",e,{passive:!1}),function(){return t.removeEventListener("wheel",e)}}});return en(function(){U.isInvalidate()||re(U,!1)},[M,k]),en(function(){var e=gk(u);Y(e);var t=gk(Z(te));e.equals(t)&&G.current&&!k||re(e,G.current)},[u]),en(function(){k&&ve()},[te]),m.createElement("div",{ref:P,className:S(n,r,j(j(j(j(j({},"".concat(n,"-focused"),F),"".concat(n,"-disabled"),d),"".concat(n,"-readonly"),f),"".concat(n,"-not-a-number"),U.isNaN()),"".concat(n,"-out-of-range"),!U.isInvalidate()&&!be(U))),style:o,onFocus:function(){W(!0)},onBlur:function(){_&&Ee(!1),W(!1),G.current=!1},onKeyDown:function(e){var t=e.key,n=e.shiftKey;G.current=!0,q.current=n,"Enter"===t&&(V.current||(G.current=!1),Ee(!1),null==T||T(e)),!1!==g&&!V.current&&["Up","ArrowUp","Down","ArrowDown"].includes(t)&&(Se("Up"===t||"ArrowUp"===t),e.preventDefault())},onKeyUp:function(){G.current=!1,q.current=!1},onCompositionStart:function(){V.current=!0},onCompositionEnd:function(){V.current=!1,Ce(z.current.value)},onBeforeInput:function(){G.current=!0}},x&&m.createElement(Ok,{prefixCls:n,upNode:h,downNode:p,upDisabled:fe,downDisabled:he,onStep:Se}),m.createElement("div",{className:"".concat(D,"-wrap")},m.createElement("input",E({autoComplete:"off",role:"spinbutton","aria-valuemin":i,"aria-valuemax":a,"aria-valuenow":U.isInvalidate()?null:U.toString(),step:s},B,{ref:de(z,t),className:D,value:te,onChange:function(e){Ce(e.target.value)},disabled:d,readOnly:f}))))}),Lk=m.forwardRef(function(e,t){var n=e.disabled,r=e.style,o=e.prefixCls,i=void 0===o?"rc-input-number":o,a=e.value,l=e.prefix,s=e.suffix,c=e.addonBefore,u=e.addonAfter,d=e.className,f=e.classNames,h=$t(e,$k),p=m.useRef(null),g=m.useRef(null),v=m.useRef(null),y=function(e){v.current&&bk(v.current,e)};return m.useImperativeHandle(t,function(){return e=v.current,t={focus:y,nativeElement:p.current.nativeElement||g.current},"undefined"!=typeof Proxy&&e?new Proxy(e,{get:function(e,n){if(t[n])return t[n];var r=e[n];return"function"==typeof r?r.bind(e):r}}):e;var e,t}),m.createElement(xk,{className:d,triggerFocus:y,prefixCls:i,value:a,disabled:n,style:r,prefix:l,suffix:s,addonAfter:u,addonBefore:c,classNames:f,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:p},m.createElement(Tk,E({prefixCls:i,disabled:n,ref:v,domRef:g,className:null==f?void 0:f.input},h)))});const Rk=({componentCls:e,borderRadiusSM:t,borderRadiusLG:n},r)=>{const o="lg"===r?n:t;return{[`&-${r}`]:{[`${e}-handler-wrap`]:{borderStartEndRadius:o,borderEndEndRadius:o},[`${e}-handler-up`]:{borderStartEndRadius:o},[`${e}-handler-down`]:{borderEndEndRadius:o}}}},_k=e=>{const{componentCls:t,lineWidth:n,lineType:r,borderRadius:o,inputFontSizeSM:i,inputFontSizeLG:a,controlHeightLG:l,controlHeightSM:s,colorError:c,paddingInlineSM:u,paddingBlockSM:d,paddingBlockLG:f,paddingInlineLG:h,colorIcon:p,motionDurationMid:g,handleHoverColor:m,handleOpacity:v,paddingInline:y,paddingBlock:b,handleBg:x,handleActiveBg:w,colorTextDisabled:C,borderRadiusSM:S,borderRadiusLG:E,controlWidth:O,handleBorderColor:k,filledHandleBg:M,lineHeightLG:$,calc:I}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ui(e)),oE(e)),{display:"inline-block",width:O,margin:0,padding:0,borderRadius:o}),WS(e,{[`${t}-handler-wrap`]:{background:x,[`${t}-handler-down`]:{borderBlockStart:`${Xt(n)} ${r} ${k}`}}})),YS(e,{[`${t}-handler-wrap`]:{background:M,[`${t}-handler-down`]:{borderBlockStart:`${Xt(n)} ${r} ${k}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:x}}})),eE(e,{[`${t}-handler-wrap`]:{background:x,[`${t}-handler-down`]:{borderBlockStart:`${Xt(n)} ${r} ${k}`}}})),qS(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:a,lineHeight:$,borderRadius:E,[`input${t}-input`]:{height:I(l).sub(I(n).mul(2)).equal(),padding:`${Xt(f)} ${Xt(h)}`}},"&-sm":{padding:0,fontSize:i,borderRadius:S,[`input${t}-input`]:{height:I(s).sub(I(n).mul(2)).equal(),padding:`${Xt(d)} ${Xt(u)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:c}}},"&-group":Object.assign(Object.assign(Object.assign({},ui(e)),iE(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:E,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:S}}},VS(e)),ZS(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},ui(e)),{width:"100%",padding:`${Xt(b)} ${Xt(y)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:o,outline:0,transition:`all ${g} linear`,appearance:"textfield",fontSize:"inherit"}),tE(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,appearance:"none"}})},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[t]:Object.assign(Object.assign(Object.assign({[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleVisibleWidth,opacity:v,height:"100%",borderStartStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${g}`,overflow:"hidden",[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`\n              ${t}-handler-up-inner,\n              ${t}-handler-down-inner\n            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:p,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${Xt(n)} ${r} ${k}`,transition:`all ${g} linear`,"&:active":{background:w},"&:hover":{height:"60%",[`\n              ${t}-handler-up-inner,\n              ${t}-handler-down-inner\n            `]:{color:m}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{color:p,transition:`all ${g} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:o},[`${t}-handler-down`]:{borderEndEndRadius:o}},Rk(e,"lg")),Rk(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`\n          ${t}-handler-up-disabled,\n          ${t}-handler-down-disabled\n        `]:{cursor:"not-allowed"},[`\n          ${t}-handler-up-disabled:hover &-handler-up-inner,\n          ${t}-handler-down-disabled:hover &-handler-down-inner\n        `]:{color:C}})}]},Ak=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:o,controlWidth:i,borderRadiusLG:a,borderRadiusSM:l,paddingInlineLG:s,paddingInlineSM:c,paddingBlockLG:u,paddingBlockSM:d,motionDurationMid:f}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${Xt(n)} 0`}},oE(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:i,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:a,paddingInlineStart:s,[`input${t}-input`]:{padding:`${Xt(u)} 0`}},"&-sm":{borderRadius:l,paddingInlineStart:c,[`input${t}-input`]:{padding:`${Xt(d)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:o},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:r,marginInlineStart:o,transition:`margin ${f}`}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:not(${t}-affix-wrapper-without-controls):hover ${t}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(r).equal()}}),[`${t}-underlined`]:{borderRadius:0}}},Pk=gi("InputNumber",e=>{const t=Xo(e,jS(e));return[_k(t),Ak(t),nd(t)]},e=>{var t;const n=null!==(t=e.handleVisible)&&void 0!==t?t:"auto",r=e.controlHeightSM-2*e.lineWidth;return Object.assign(Object.assign({},BS(e)),{controlWidth:90,handleWidth:r,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new Wr(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:!0===n?1:0,handleVisibleWidth:!0===n?r:0})},{unitless:{handleOpacity:!0},resetFont:!1});const jk=m.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=m.useContext(So),o=m.useRef(null);m.useImperativeHandle(t,()=>o.current);const{className:i,rootClassName:a,size:l,disabled:s,prefixCls:c,addonBefore:u,addonAfter:d,prefix:f,suffix:h,bordered:p,readOnly:g,status:v,controls:y,variant:b}=e,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),w=n("input-number",c),C=Nl(w),[E,O,k]=Pk(w,C),{compactSize:M,compactItemClassnames:$}=ec(w,r);let I=m.createElement(ik,{className:`${w}-handler-up-inner`}),N=m.createElement(ov,{className:`${w}-handler-down-inner`});const T="boolean"==typeof y?y:void 0;"object"==typeof y&&(I=void 0===y.upIcon?I:m.createElement("span",{className:`${w}-handler-up-inner`},y.upIcon),N=void 0===y.downIcon?N:m.createElement("span",{className:`${w}-handler-down-inner`},y.downIcon));const{hasFeedback:L,status:R,isFormItemInput:_,feedbackIcon:A}=m.useContext(eh),P=ym(R,v),j=Xs(e=>{var t;return null!==(t=null!=l?l:M)&&void 0!==t?t:e}),B=m.useContext(Io),D=null!=s?s:B,[z,H]=km("inputNumber",b,p),F=L&&m.createElement(m.Fragment,null,A),W=S({[`${w}-lg`]:"large"===j,[`${w}-sm`]:"small"===j,[`${w}-rtl`]:"rtl"===r,[`${w}-in-form-item`]:_},O),G=`${w}-group`;return E(m.createElement(Lk,Object.assign({ref:o,disabled:D,className:S(k,C,i,a,$),upHandler:I,downHandler:N,prefixCls:w,readOnly:g,controls:T,prefix:f,suffix:F||h,addonBefore:u&&m.createElement(rh,{form:!0,space:!0},u),addonAfter:d&&m.createElement(rh,{form:!0,space:!0},d),classNames:{input:W,variant:S({[`${w}-${z}`]:H},vm(w,P,L)),affixWrapper:S({[`${w}-affix-wrapper-sm`]:"small"===j,[`${w}-affix-wrapper-lg`]:"large"===j,[`${w}-affix-wrapper-rtl`]:"rtl"===r,[`${w}-affix-wrapper-without-controls`]:!1===y||D||g},O),wrapper:S({[`${G}-rtl`]:"rtl"===r},O),groupWrapper:S({[`${w}-group-wrapper-sm`]:"small"===j,[`${w}-group-wrapper-lg`]:"large"===j,[`${w}-group-wrapper-rtl`]:"rtl"===r,[`${w}-group-wrapper-${z}`]:H},vm(`${w}-group-wrapper`,P,L),O)}},x)))}),Bk=jk;Bk._InternalPanelDoNotUseOrYouWillBeFired=e=>m.createElement(Ma,{theme:{components:{InputNumber:{handleVisible:!0}}}},m.createElement(jk,Object.assign({},e)));const Dk=e=>{let t;return"object"==typeof e&&(null==e?void 0:e.clearIcon)?t=e:e&&(t={clearIcon:p.createElement(qa,null)}),t};function zk(e,t){const n=m.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var t,n,r,o;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(r=e.current)||void 0===r?void 0:r.input.hasAttribute("value"))&&(null===(o=e.current)||void 0===o||o.input.removeAttribute("value"))}))};return m.useEffect(()=>(t&&r(),()=>n.current.forEach(e=>{e&&clearTimeout(e)})),[]),r}const Hk=m.forwardRef((e,t)=>{const{prefixCls:n,bordered:r=!0,status:o,size:i,disabled:a,onBlur:l,onFocus:s,suffix:c,allowClear:u,addonAfter:d,addonBefore:f,className:h,style:g,styles:v,rootClassName:y,onChange:b,classNames:x,variant:w}=e,C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:E,direction:O,allowClear:k,autoComplete:M,className:$,style:I,classNames:N,styles:T}=ko("input"),L=E("input",n),R=m.useRef(null),_=Nl(L),[A,P,j]=fE(L,y),[B]=hE(L,_),{compactSize:D,compactItemClassnames:z}=ec(L,O),H=Xs(e=>{var t;return null!==(t=null!=i?i:D)&&void 0!==t?t:e}),F=p.useContext(Io),W=null!=a?a:F,{status:G,hasFeedback:V,feedbackIcon:q}=m.useContext(eh),X=ym(G,o),U=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(e)||!!V;m.useRef(U);const Y=zk(R,!0),K=(V||c)&&p.createElement(p.Fragment,null,c,V&&q),Z=Dk(null!=u?u:k),[Q,J]=km("input",w,r);return A(B(p.createElement(Ek,Object.assign({ref:de(t,R),prefixCls:L,autoComplete:M},C,{disabled:W,onBlur:e=>{Y(),null==l||l(e)},onFocus:e=>{Y(),null==s||s(e)},style:Object.assign(Object.assign({},I),g),styles:Object.assign(Object.assign({},T),v),suffix:K,allowClear:Z,className:S(h,y,j,_,z,$),onChange:e=>{Y(),null==b||b(e)},addonBefore:f&&p.createElement(rh,{form:!0,space:!0},f),addonAfter:d&&p.createElement(rh,{form:!0,space:!0},d),classNames:Object.assign(Object.assign(Object.assign({},x),N),{input:S({[`${L}-sm`]:"small"===H,[`${L}-lg`]:"large"===H,[`${L}-rtl`]:"rtl"===O},null==x?void 0:x.input,N.input,P),variant:S({[`${L}-${Q}`]:J},vm(L,X)),affixWrapper:S({[`${L}-affix-wrapper-sm`]:"small"===H,[`${L}-affix-wrapper-lg`]:"large"===H,[`${L}-affix-wrapper-rtl`]:"rtl"===O},P),wrapper:S({[`${L}-group-rtl`]:"rtl"===O},P),groupWrapper:S({[`${L}-group-wrapper-sm`]:"small"===H,[`${L}-group-wrapper-lg`]:"large"===H,[`${L}-group-wrapper-rtl`]:"rtl"===O,[`${L}-group-wrapper-${Q}`]:J},vm(`${L}-group-wrapper`,X,V),P)})}))))});function Fk(e,t,n){return(e-t)/(n-t)}function Wk(e,t,n,r){var o=Fk(t,n,r),i={};switch(e){case"rtl":i.right="".concat(100*o,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(100*o,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(100*o,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(100*o,"%"),i.transform="translateX(-50%)"}return i}function Gk(e,t){return Array.isArray(e)?e[t]:e}var Vk=m.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),qk=m.createContext({}),Xk=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Uk=m.forwardRef(function(e,t){var n,r=e.prefixCls,o=e.value,i=e.valueIndex,a=e.onStartMove,l=e.onDelete,s=e.style,c=e.render,u=e.dragging,d=e.draggingDelete,f=e.onOffsetChange,h=e.onChangeComplete,p=e.onFocus,g=e.onMouseEnter,v=$t(e,Xk),y=m.useContext(Vk),b=y.min,x=y.max,w=y.direction,C=y.disabled,O=y.keyboard,k=y.range,M=y.tabIndex,$=y.ariaLabelForHandle,I=y.ariaLabelledByForHandle,N=y.ariaRequired,T=y.ariaValueTextFormatterForHandle,L=y.styles,R=y.classNames,_="".concat(r,"-handle"),A=function(e){C||a(e,i)},P=Wk(w,o,b,x),B={};null!==i&&(B={tabIndex:C?null:Gk(M,i),role:"slider","aria-valuemin":b,"aria-valuemax":x,"aria-valuenow":o,"aria-disabled":C,"aria-label":Gk($,i),"aria-labelledby":Gk(I,i),"aria-required":Gk(N,i),"aria-valuetext":null===(n=Gk(T,i))||void 0===n?void 0:n(o),"aria-orientation":"ltr"===w||"rtl"===w?"horizontal":"vertical",onMouseDown:A,onTouchStart:A,onFocus:function(e){null==p||p(e,i)},onMouseEnter:function(e){g(e,i)},onKeyDown:function(e){if(!C&&O){var t=null;switch(e.which||e.keyCode){case Tl.LEFT:t="ltr"===w||"btt"===w?-1:1;break;case Tl.RIGHT:t="ltr"===w||"btt"===w?1:-1;break;case Tl.UP:t="ttb"!==w?1:-1;break;case Tl.DOWN:t="ttb"!==w?-1:1;break;case Tl.HOME:t="min";break;case Tl.END:t="max";break;case Tl.PAGE_UP:t=2;break;case Tl.PAGE_DOWN:t=-2;break;case Tl.BACKSPACE:case Tl.DELETE:null==l||l(i)}null!==t&&(e.preventDefault(),f(t,i))}},onKeyUp:function(e){switch(e.which||e.keyCode){case Tl.LEFT:case Tl.RIGHT:case Tl.UP:case Tl.DOWN:case Tl.HOME:case Tl.END:case Tl.PAGE_UP:case Tl.PAGE_DOWN:null==h||h()}}});var z=m.createElement("div",E({ref:t,className:S(_,j(j(j({},"".concat(_,"-").concat(i+1),null!==i&&k),"".concat(_,"-dragging"),u),"".concat(_,"-dragging-delete"),d),R.handle),style:D(D(D({},P),s),L.handle)},B,v));return c&&(z=c(z,{index:i,prefixCls:r,value:o,dragging:u,draggingDelete:d})),z}),Yk=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Kk=m.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,o=e.onStartMove,i=e.onOffsetChange,a=e.values,l=e.handleRender,s=e.activeHandleRender,c=e.draggingIndex,u=e.draggingDelete,d=e.onFocus,f=$t(e,Yk),h=m.useRef({}),p=pt(m.useState(!1),2),g=p[0],v=p[1],b=pt(m.useState(-1),2),x=b[0],w=b[1],C=function(e){w(e),v(!0)};m.useImperativeHandle(t,function(){return{focus:function(e){var t;null===(t=h.current[e])||void 0===t||t.focus()},hideHelp:function(){y.flushSync(function(){v(!1)})}}});var S=D({prefixCls:n,onStartMove:o,onOffsetChange:i,render:l,onFocus:function(e,t){C(t),null==d||d(e)},onMouseEnter:function(e,t){C(t)}},f);return m.createElement(m.Fragment,null,a.map(function(e,t){var n=c===t;return m.createElement(Uk,E({ref:function(e){e?h.current[t]=e:delete h.current[t]},dragging:n,draggingDelete:n&&u,style:Gk(r,t),key:t,value:e,valueIndex:t},S))}),s&&g&&m.createElement(Uk,E({key:"a11y"},S,{value:a[x],valueIndex:null,dragging:-1!==c,draggingDelete:u,render:s,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Zk=function(e){var t=e.prefixCls,n=e.style,r=e.children,o=e.value,i=e.onClick,a=m.useContext(Vk),l=a.min,s=a.max,c=a.direction,u=a.includedStart,d=a.includedEnd,f=a.included,h="".concat(t,"-text"),p=Wk(c,o,l,s);return m.createElement("span",{className:S(h,j({},"".concat(h,"-active"),f&&u<=o&&o<=d)),style:D(D({},p),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){i(o)}},r)},Qk=function(e){var t=e.prefixCls,n=e.marks,r=e.onClick,o="".concat(t,"-mark");return n.length?m.createElement("div",{className:o},n.map(function(e){var t=e.value,n=e.style,i=e.label;return m.createElement(Zk,{key:t,prefixCls:o,style:n,value:t,onClick:r},i)})):null},Jk=function(e){var t=e.prefixCls,n=e.value,r=e.style,o=e.activeStyle,i=m.useContext(Vk),a=i.min,l=i.max,s=i.direction,c=i.included,u=i.includedStart,d=i.includedEnd,f="".concat(t,"-dot"),h=c&&u<=n&&n<=d,p=D(D({},Wk(s,n,a,l)),"function"==typeof r?r(n):r);return h&&(p=D(D({},p),"function"==typeof o?o(n):o)),m.createElement("span",{className:S(f,j({},"".concat(f,"-active"),h)),style:p})},eM=function(e){var t=e.prefixCls,n=e.marks,r=e.dots,o=e.style,i=e.activeStyle,a=m.useContext(Vk),l=a.min,s=a.max,c=a.step,u=m.useMemo(function(){var e=new Set;if(n.forEach(function(t){e.add(t.value)}),r&&null!==c)for(var t=l;t<=s;)e.add(t),t+=c;return Array.from(e)},[l,s,c,r,n]);return m.createElement("div",{className:"".concat(t,"-step")},u.map(function(e){return m.createElement(Jk,{prefixCls:t,key:e,value:e,style:o,activeStyle:i})}))},tM=function(e){var t=e.prefixCls,n=e.style,r=e.start,o=e.end,i=e.index,a=e.onStartMove,l=e.replaceCls,s=m.useContext(Vk),c=s.direction,u=s.min,d=s.max,f=s.disabled,h=s.range,p=s.classNames,g="".concat(t,"-track"),v=Fk(r,u,d),y=Fk(o,u,d),b=function(e){!f&&a&&a(e,-1)},x={};switch(c){case"rtl":x.right="".concat(100*v,"%"),x.width="".concat(100*y-100*v,"%");break;case"btt":x.bottom="".concat(100*v,"%"),x.height="".concat(100*y-100*v,"%");break;case"ttb":x.top="".concat(100*v,"%"),x.height="".concat(100*y-100*v,"%");break;default:x.left="".concat(100*v,"%"),x.width="".concat(100*y-100*v,"%")}var w=l||S(g,j(j({},"".concat(g,"-").concat(i+1),null!==i&&h),"".concat(t,"-track-draggable"),a),p.track);return m.createElement("div",{className:w,style:D(D({},x),n),onMouseDown:b,onTouchStart:b})},nM=function(e){var t=e.prefixCls,n=e.style,r=e.values,o=e.startPoint,i=e.onStartMove,a=m.useContext(Vk),l=a.included,s=a.range,c=a.min,u=a.styles,d=a.classNames,f=m.useMemo(function(){if(!s){if(0===r.length)return[];var e=null!=o?o:c,t=r[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],i=0;i<r.length-1;i+=1)n.push({start:r[i],end:r[i+1]});return n},[r,s,o,c]);if(!l)return null;var h=null!=f&&f.length&&(d.tracks||u.tracks)?m.createElement(tM,{index:null,prefixCls:t,start:f[0].start,end:f[f.length-1].end,replaceCls:S(d.tracks,"".concat(t,"-tracks")),style:u.tracks}):null;return m.createElement(m.Fragment,null,h,f.map(function(e,r){var o=e.start,a=e.end;return m.createElement(tM,{index:r,prefixCls:t,style:D(D({},Gk(n,r)),u.track),start:o,end:a,key:r,onStartMove:i})}))};function rM(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}var oM=m.forwardRef(function(e,t){var n=e.prefixCls,r=void 0===n?"rc-slider":n,o=e.className,i=e.style,a=e.classNames,l=e.styles,s=e.id,c=e.disabled,u=void 0!==c&&c,d=e.keyboard,f=void 0===d||d,h=e.autoFocus,p=e.onFocus,g=e.onBlur,v=e.min,y=void 0===v?0:v,b=e.max,x=void 0===b?100:b,w=e.step,C=void 0===w?1:w,E=e.value,k=e.defaultValue,M=e.range,$=e.count,I=e.onChange,N=e.onBeforeChange,T=e.onAfterChange,L=e.onChangeComplete,R=e.allowCross,_=void 0===R||R,P=e.pushable,B=void 0!==P&&P,z=e.reverse,H=e.vertical,F=e.included,W=void 0===F||F,G=e.startPoint,V=e.trackStyle,q=e.handleStyle,X=e.railStyle,U=e.dotStyle,Y=e.activeDotStyle,K=e.marks,Z=e.dots,Q=e.handleRender,J=e.activeHandleRender,ee=e.track,te=e.tabIndex,ne=void 0===te?0:te,re=e.ariaLabelForHandle,oe=e.ariaLabelledByForHandle,ie=e.ariaRequired,ae=e.ariaValueTextFormatterForHandle,le=m.useRef(null),se=m.useRef(null),ce=m.useMemo(function(){return H?z?"ttb":"btt":z?"rtl":"ltr"},[z,H]),ue=function(e){return m.useMemo(function(){if(!0===e||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack;return[!0,t,!t&&n,e.minCount||0,e.maxCount]},[e])}(M),de=pt(ue,5),fe=de[0],he=de[1],pe=de[2],ge=de[3],me=de[4],ve=m.useMemo(function(){return isFinite(y)?y:0},[y]),ye=m.useMemo(function(){return isFinite(x)?x:100},[x]),be=m.useMemo(function(){return null!==C&&C<=0?1:C},[C]),xe=m.useMemo(function(){return"boolean"==typeof B?!!B&&be:B>=0&&B},[B,be]),we=m.useMemo(function(){return Object.keys(K||{}).map(function(e){var t=K[e],n={value:Number(e)};return t&&"object"===O(t)&&!m.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n}).filter(function(e){var t=e.label;return t||"number"==typeof t}).sort(function(e,t){return e.value-t.value})},[K]),Ce=function(e,t,n,r,o,i){var a=m.useCallback(function(n){return Math.max(e,Math.min(t,n))},[e,t]),l=m.useCallback(function(r){if(null!==n){var o=e+Math.round((a(r)-e)/n)*n,i=function(e){return(String(e).split(".")[1]||"").length},l=Math.max(i(n),i(t),i(e)),s=Number(o.toFixed(l));return e<=s&&s<=t?s:null}return null},[n,e,t,a]),s=m.useCallback(function(o){var i=a(o),s=r.map(function(e){return e.value});null!==n&&s.push(l(o)),s.push(e,t);var c=s[0],u=t-e;return s.forEach(function(e){var t=Math.abs(i-e);t<=u&&(c=e,u=t)}),c},[e,t,r,n,a,l]),c=function o(i,a,s){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof a){var u,d=i[s],f=d+a,h=[];r.forEach(function(e){h.push(e.value)}),h.push(e,t),h.push(l(d));var p=a>0?1:-1;"unit"===c?h.push(l(d+p*n)):h.push(l(f)),h=h.filter(function(e){return null!==e}).filter(function(e){return a<0?e<=d:e>=d}),"unit"===c&&(h=h.filter(function(e){return e!==d}));var g="unit"===c?d:f;u=h[0];var m=Math.abs(u-g);if(h.forEach(function(e){var t=Math.abs(e-g);t<m&&(u=e,m=t)}),void 0===u)return a<0?e:t;if("dist"===c)return u;if(Math.abs(a)>1){var v=it(i);return v[s]=u,o(v,a-p,s,c)}return u}return"min"===a?e:"max"===a?t:void 0},u=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e[n],i=c(e,t,n,r);return{value:i,changed:i!==o}},d=function(e){return null===i&&0===e||"number"==typeof i&&e<i};return[s,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e.map(s),l=a[n],f=c(a,t,n,r);if(a[n]=f,!1===o){var h=i||0;n>0&&a[n-1]!==l&&(a[n]=Math.max(a[n],a[n-1]+h)),n<a.length-1&&a[n+1]!==l&&(a[n]=Math.min(a[n],a[n+1]-h))}else if("number"==typeof i||null===i){for(var p=n+1;p<a.length;p+=1)for(var g=!0;d(a[p]-a[p-1])&&g;){var m=u(a,1,p);a[p]=m.value,g=m.changed}for(var v=n;v>0;v-=1)for(var y=!0;d(a[v]-a[v-1])&&y;){var b=u(a,-1,v-1);a[v-1]=b.value,y=b.changed}for(var x=a.length-1;x>0;x-=1)for(var w=!0;d(a[x]-a[x-1])&&w;){var C=u(a,-1,x-1);a[x-1]=C.value,w=C.changed}for(var S=0;S<a.length-1;S+=1)for(var E=!0;d(a[S+1]-a[S])&&E;){var O=u(a,1,S+1);a[S+1]=O.value,E=O.changed}}return{value:a[n],values:a}}]}(ve,ye,be,we,_,xe),Se=pt(Ce,2),Ee=Se[0],Oe=Se[1],ke=pt(Wo(k,{value:E}),2),Me=ke[0],$e=ke[1],Ie=m.useMemo(function(){var e=null==Me?[]:Array.isArray(Me)?Me:[Me],t=pt(e,1)[0],n=null===Me?[]:[void 0===t?ve:t];if(fe){if(n=it(e),$||void 0===Me){var r=$>=0?$+1:2;for(n=n.slice(0,r);n.length<r;){var o;n.push(null!==(o=n[n.length-1])&&void 0!==o?o:ve)}}n.sort(function(e,t){return e-t})}return n.forEach(function(e,t){n[t]=Ee(e)}),n},[Me,fe,ve,$,Ee]),Ne=function(e){return fe?e:e[0]},Te=zo(function(e){var t=it(e).sort(function(e,t){return e-t});I&&!It(t,Ie,!0)&&I(Ne(t)),$e(t)}),Le=zo(function(e){e&&le.current.hideHelp();var t=Ne(Ie);null==T||T(t),A(!T,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==L||L(t)}),Re=function(e,t,n,r,o,i,a,l,s,c,u){var d=pt(m.useState(null),2),f=d[0],h=d[1],p=pt(m.useState(-1),2),g=p[0],v=p[1],y=pt(m.useState(!1),2),b=y[0],x=y[1],w=pt(m.useState(n),2),C=w[0],S=w[1],E=pt(m.useState(n),2),O=E[0],k=E[1],M=m.useRef(null),$=m.useRef(null),I=m.useRef(null),N=m.useContext(qk),T=N.onDragStart,L=N.onDragChange;Jt(function(){-1===g&&S(n)},[n,g]),m.useEffect(function(){return function(){document.removeEventListener("mousemove",M.current),document.removeEventListener("mouseup",$.current),I.current&&(I.current.removeEventListener("touchmove",M.current),I.current.removeEventListener("touchend",$.current))}},[]);var R=function(e,t,n){void 0!==t&&h(t),S(e);var r=e;n&&(r=e.filter(function(e,t){return t!==g})),a(r),L&&L({rawValues:e,deleteIndex:n?g:-1,draggingIndex:g,draggingValue:t})},_=zo(function(e,t,n){if(-1===e){var a=O[0],l=O[O.length-1],c=r-a,u=o-l,d=t*(o-r);d=Math.max(d,c),d=Math.min(d,u);var f=i(a+d);d=f-a;var h=O.map(function(e){return e+d});R(h)}else{var p=(o-r)*t,g=it(C);g[e]=O[e];var m=s(g,p,e,"dist");R(m.values,m.value,n)}}),A=m.useMemo(function(){var e=it(n).sort(function(e,t){return e-t}),t=it(C).sort(function(e,t){return e-t}),r={};t.forEach(function(e){r[e]=(r[e]||0)+1}),e.forEach(function(e){r[e]=(r[e]||0)-1});var o=c?1:0;return Object.values(r).reduce(function(e,t){return e+Math.abs(t)},0)<=o?C:n},[n,C,c]);return[g,f,b,A,function(r,o,i){r.stopPropagation();var a=i||n,s=a[o];v(o),h(s),k(a),S(a),x(!1);var d=rM(r),f=d.pageX,p=d.pageY,g=!1;T&&T({rawValues:a,draggingIndex:o,draggingValue:s});var m=function(n){n.preventDefault();var r,i,a=rM(n),l=a.pageX,s=a.pageY,d=l-f,h=s-p,m=e.current.getBoundingClientRect(),v=m.width,y=m.height;switch(t){case"btt":r=-h/y,i=d;break;case"ttb":r=h/y,i=d;break;case"rtl":r=-d/v,i=h;break;default:r=d/v,i=h}g=!!c&&Math.abs(i)>130&&u<C.length,x(g),_(o,r,g)},y=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",m),I.current&&(I.current.removeEventListener("touchmove",M.current),I.current.removeEventListener("touchend",$.current)),M.current=null,$.current=null,I.current=null,l(g),v(-1),x(!1)};document.addEventListener("mouseup",y),document.addEventListener("mousemove",m),r.currentTarget.addEventListener("touchend",y),r.currentTarget.addEventListener("touchmove",m),M.current=m,$.current=y,I.current=r.currentTarget}]}(se,ce,Ie,ve,ye,Ee,Te,Le,Oe,he,ge),_e=pt(Re,5),Ae=_e[0],Pe=_e[1],je=_e[2],Be=_e[3],De=_e[4],ze=function(e,t){if(!u){var n=it(Ie),r=0,o=0,i=ye-ve;Ie.forEach(function(t,n){var a=Math.abs(e-t);a<=i&&(i=a,r=n),t<e&&(o=n)});var a=r;he&&0!==i&&(!me||Ie.length<me)?(n.splice(o+1,0,e),a=o+1):n[r]=e,fe&&!Ie.length&&void 0===$&&n.push(e);var l,s,c=Ne(n);if(null==N||N(c),Te(n),t)null===(l=document.activeElement)||void 0===l||null===(s=l.blur)||void 0===s||s.call(l),le.current.focus(a),De(t,a,n);else null==T||T(c),A(!T,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==L||L(c)}},He=pt(m.useState(null),2),Fe=He[0],We=He[1];m.useEffect(function(){if(null!==Fe){var e=Ie.indexOf(Fe);e>=0&&le.current.focus(e)}We(null)},[Fe]);var Ge=m.useMemo(function(){return(!pe||null!==be)&&pe},[pe,be]),Ve=zo(function(e,t){De(e,t),null==N||N(Ne(Ie))}),qe=-1!==Ae;m.useEffect(function(){if(!qe){var e=Ie.lastIndexOf(Pe);le.current.focus(e)}},[qe]);var Xe=m.useMemo(function(){return it(Be).sort(function(e,t){return e-t})},[Be]),Ue=pt(m.useMemo(function(){return fe?[Xe[0],Xe[Xe.length-1]]:[ve,Xe[0]]},[Xe,fe,ve]),2),Ye=Ue[0],Ke=Ue[1];m.useImperativeHandle(t,function(){return{focus:function(){le.current.focus(0)},blur:function(){var e,t=document.activeElement;null!==(e=se.current)&&void 0!==e&&e.contains(t)&&(null==t||t.blur())}}}),m.useEffect(function(){h&&le.current.focus(0)},[]);var Ze=m.useMemo(function(){return{min:ve,max:ye,direction:ce,disabled:u,keyboard:f,step:be,included:W,includedStart:Ye,includedEnd:Ke,range:fe,tabIndex:ne,ariaLabelForHandle:re,ariaLabelledByForHandle:oe,ariaRequired:ie,ariaValueTextFormatterForHandle:ae,styles:l||{},classNames:a||{}}},[ve,ye,ce,u,f,be,W,Ye,Ke,fe,ne,re,oe,ie,ae,l,a]);return m.createElement(Vk.Provider,{value:Ze},m.createElement("div",{ref:se,className:S(r,o,j(j(j(j({},"".concat(r,"-disabled"),u),"".concat(r,"-vertical"),H),"".concat(r,"-horizontal"),!H),"".concat(r,"-with-marks"),we.length)),style:i,onMouseDown:function(e){e.preventDefault();var t,n=se.current.getBoundingClientRect(),r=n.width,o=n.height,i=n.left,a=n.top,l=n.bottom,s=n.right,c=e.clientX,u=e.clientY;switch(ce){case"btt":t=(l-u)/o;break;case"ttb":t=(u-a)/o;break;case"rtl":t=(s-c)/r;break;default:t=(c-i)/r}ze(Ee(ve+t*(ye-ve)),e)},id:s},m.createElement("div",{className:S("".concat(r,"-rail"),null==a?void 0:a.rail),style:D(D({},X),null==l?void 0:l.rail)}),!1!==ee&&m.createElement(nM,{prefixCls:r,style:V,values:Ie,startPoint:G,onStartMove:Ge?Ve:void 0}),m.createElement(eM,{prefixCls:r,marks:we,dots:Z,style:U,activeStyle:Y}),m.createElement(Kk,{ref:le,prefixCls:r,style:q,values:Be,draggingIndex:Ae,draggingDelete:je,onStartMove:Ve,onOffsetChange:function(e,t){if(!u){var n=Oe(Ie,e,t);null==N||N(Ne(Ie)),Te(n.values),We(n.value)}},onFocus:p,onBlur:g,handleRender:Q,activeHandleRender:J,onChangeComplete:Le,onDelete:he?function(e){if(!(u||!he||Ie.length<=ge)){var t=it(Ie);t.splice(e,1),null==N||N(Ne(t)),Te(t);var n=Math.max(0,e-1);le.current.hideHelp(),le.current.focus(n)}}:void 0}),m.createElement(Qk,{prefixCls:r,marks:we,onClick:ze})))});const iM=m.createContext({}),aM=m.forwardRef((e,t)=>{const{open:n,draggingDelete:r,value:o}=e,i=m.useRef(null),a=n&&!r,l=m.useRef(null);function s(){dt.cancel(l.current),l.current=null}return m.useEffect(()=>(a?l.current=dt(()=>{var e;null===(e=i.current)||void 0===e||e.forceAlign(),l.current=null}):s(),s),[a,e.title,o]),m.createElement(Qv,Object.assign({ref:de(i,t)},e,{open:a}))}),lM=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:o,marginFull:i,marginPart:a,colorFillContentHover:l,handleColorDisabled:s,calc:c,handleSize:u,handleSizeHover:d,handleActiveColor:f,handleActiveOutlineColor:h,handleLineWidth:p,handleLineWidthHover:g,motionDurationMid:m}=e;return{[t]:Object.assign(Object.assign({},ui(e)),{position:"relative",height:r,margin:`${Xt(a)} ${Xt(i)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${Xt(i)} ${Xt(a)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${m}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${m}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:l},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${Xt(p)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:u,height:u,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:c(p).mul(-1).equal(),insetBlockStart:c(p).mul(-1).equal(),width:c(u).add(c(p).mul(2)).equal(),height:c(u).add(c(p).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:u,height:u,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${Xt(p)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`\n            inset-inline-start ${m},\n            inset-block-start ${m},\n            width ${m},\n            height ${m},\n            box-shadow ${m},\n            outline ${m}\n          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:c(d).sub(u).div(2).add(g).mul(-1).equal(),insetBlockStart:c(d).sub(u).div(2).add(g).mul(-1).equal(),width:c(d).add(c(g).mul(2)).equal(),height:c(d).add(c(g).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${Xt(g)} ${f}`,outline:`6px solid ${h}`,width:d,height:d,insetInlineStart:e.calc(u).sub(d).div(2).equal(),insetBlockStart:e.calc(u).sub(d).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:e.colorBgElevated,border:`${Xt(p)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`\n          ${t}-dot\n        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:u,height:u,boxShadow:`0 0 0 ${Xt(p)} ${s}`,insetInlineStart:0,insetBlockStart:0},[`\n          ${t}-mark-text,\n          ${t}-dot\n        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},sM=(e,t)=>{const{componentCls:n,railSize:r,handleSize:o,dotSize:i,marginFull:a,calc:l}=e,s=t?"paddingBlock":"paddingInline",c=t?"width":"height",u=t?"height":"width",d=t?"insetBlockStart":"insetInlineStart",f=t?"top":"insetInlineStart",h=l(r).mul(3).sub(o).div(2).equal(),p=l(o).sub(r).div(2).equal(),g=t?{borderWidth:`${Xt(p)} 0`,transform:`translateY(${Xt(l(p).mul(-1).equal())})`}:{borderWidth:`0 ${Xt(p)}`,transform:`translateX(${Xt(e.calc(p).mul(-1).equal())})`};return{[s]:r,[u]:l(r).mul(3).equal(),[`${n}-rail`]:{[c]:"100%",[u]:r},[`${n}-track,${n}-tracks`]:{[u]:r},[`${n}-track-draggable`]:Object.assign({},g),[`${n}-handle`]:{[d]:h},[`${n}-mark`]:{insetInlineStart:0,top:0,[f]:l(r).mul(3).add(t?0:a).equal(),[c]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[f]:r,[c]:"100%",[u]:r},[`${n}-dot`]:{position:"absolute",[d]:l(r).sub(i).div(2).equal()}}},cM=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},sM(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},uM=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},sM(e,!1)),{height:"100%"})}},dM=gi("Slider",e=>{const t=Xo(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[lM(t),cM(t),uM(t)]},e=>{const t=e.controlHeightLG/4,n=e.controlHeightSM/2,r=e.lineWidth+1,o=e.lineWidth+1.5,i=e.colorPrimary,a=new Wr(i).setA(.2).toRgbString();return{controlSize:t,railSize:4,handleSize:t,handleSizeHover:n,dotSize:8,handleLineWidth:r,handleLineWidthHover:o,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:i,handleActiveOutlineColor:a,handleColorDisabled:new Wr(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}});function fM(){const[e,t]=m.useState(!1),n=m.useRef(null),r=()=>{dt.cancel(n.current)};return m.useEffect(()=>r,[]),[e,e=>{r(),e?t(e):n.current=dt(()=>{t(e)})}]}const hM=p.forwardRef((e,t)=>{const{prefixCls:n,range:r,className:o,rootClassName:i,style:a,disabled:l,tooltipPrefixCls:s,tipFormatter:c,tooltipVisible:u,getTooltipPopupContainer:d,tooltipPlacement:f,tooltip:h={},onChangeComplete:g,classNames:m,styles:v}=e,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:b}=e,{getPrefixCls:x,direction:w,className:C,style:E,classNames:O,styles:k,getPopupContainer:M}=ko("slider"),$=p.useContext(Io),I=null!=l?l:$,{handleRender:N,direction:T}=p.useContext(iM),L="rtl"===(T||w),[R,_]=fM(),[A,P]=fM(),j=Object.assign({},h),{open:B,placement:D,getPopupContainer:z,prefixCls:H,formatter:F}=j,W=null!=B?B:u,G=(R||A)&&!1!==W,V=function(e,t){return e||null===e?e:t||null===t?t:e=>"number"==typeof e?e.toString():""}(F,c),[q,X]=fM(),U=(e,t)=>e||(t?L?"left":"right":"top"),Y=x("slider",n),[K,Z,Q]=dM(Y),J=S(o,C,O.root,null==m?void 0:m.root,i,{[`${Y}-rtl`]:L,[`${Y}-lock`]:q},Z,Q);L&&!y.vertical&&(y.reverse=!y.reverse),p.useEffect(()=>{const e=()=>{dt(()=>{P(!1)},1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}},[]);const ee=r&&!W,te=N||((e,t)=>{const{index:n}=t,r=e.props;function o(e,t,n){var o,i,a,l;n&&(null===(i=(o=y)[e])||void 0===i||i.call(o,t)),null===(l=(a=r)[e])||void 0===l||l.call(a,t)}const i=Object.assign(Object.assign({},r),{onMouseEnter:e=>{_(!0),o("onMouseEnter",e)},onMouseLeave:e=>{_(!1),o("onMouseLeave",e)},onMouseDown:e=>{P(!0),X(!0),o("onMouseDown",e)},onFocus:e=>{var t;P(!0),null===(t=y.onFocus)||void 0===t||t.call(y,e),o("onFocus",e,!0)},onBlur:e=>{var t;P(!1),null===(t=y.onBlur)||void 0===t||t.call(y,e),o("onBlur",e,!0)}}),a=p.cloneElement(e,i),l=(!!W||G)&&null!==V;return ee?a:p.createElement(aM,Object.assign({},j,{prefixCls:x("tooltip",null!=H?H:s),title:V?V(t.value):"",value:t.value,open:l,placement:U(null!=D?D:f,b),key:n,classNames:{root:`${Y}-tooltip`},getPopupContainer:z||d||M}),a)}),ne=ee?(e,t)=>{const n=p.cloneElement(e,{style:Object.assign(Object.assign({},e.props.style),{visibility:"hidden"})});return p.createElement(aM,Object.assign({},j,{prefixCls:x("tooltip",null!=H?H:s),title:V?V(t.value):"",open:null!==V&&G,placement:U(null!=D?D:f,b),key:"tooltip",classNames:{root:`${Y}-tooltip`},getPopupContainer:z||d||M,draggingDelete:t.draggingDelete}),n)}:void 0,re=Object.assign(Object.assign(Object.assign(Object.assign({},k.root),E),null==v?void 0:v.root),a),oe=Object.assign(Object.assign({},k.tracks),null==v?void 0:v.tracks),ie=S(O.tracks,null==m?void 0:m.tracks);return K(p.createElement(oM,Object.assign({},y,{classNames:Object.assign({handle:S(O.handle,null==m?void 0:m.handle),rail:S(O.rail,null==m?void 0:m.rail),track:S(O.track,null==m?void 0:m.track)},ie?{tracks:ie}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},k.handle),null==v?void 0:v.handle),rail:Object.assign(Object.assign({},k.rail),null==v?void 0:v.rail),track:Object.assign(Object.assign({},k.track),null==v?void 0:v.track)},Object.keys(oe).length?{tracks:oe}:{}),step:y.step,range:r,className:J,style:re,disabled:I,ref:t,prefixCls:Y,handleRender:te,activeHandleRender:ne,onChangeComplete:e=>{null==g||g(e),X(!1)}})))});var pM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},gM=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:pM}))},mM=m.forwardRef(gM),vM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},yM=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:vM}))},bM=m.forwardRef(yM),xM={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},wM=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:xM}))},CM=m.forwardRef(wM);function SM(e,t,n){return void 0!==n?n:"year"===t&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:"quarter"===t&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:"month"===t&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:"week"===t&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:"time"===t&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function EM(e,t,n){return void 0!==n?n:"year"===t&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:"quarter"===t&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:"month"===t&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:"week"===t&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:"time"===t&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function OM(e,t){const{allowClear:n=!0}=e,{clearIcon:r,removeIcon:o}=sv(Object.assign(Object.assign({},e),{prefixCls:t,componentName:"DatePicker"}));return[m.useMemo(()=>{if(!1===n)return!1;const e=!0===n?{}:n;return Object.assign({clearIcon:r},e)},[n,r]),o]}const[kM,MM]=["week","WeekPicker"],[$M,IM]=["month","MonthPicker"],[NM,TM]=["year","YearPicker"],[LM,RM]=["quarter","QuarterPicker"],[_M,AM]=["time","TimePicker"],PM=e=>m.createElement(cd,Object.assign({size:"small",type:"primary"},e));function jM(e){return m.useMemo(()=>Object.assign({button:PM},e),[e])}function BM(e,...t){const n=e||{};return t.reduce((e,t)=>(Object.keys(t||{}).forEach(r=>{const o=n[r],i=t[r];if(o&&"object"==typeof o)if(i&&"object"==typeof i)e[r]=BM(o,e[r],i);else{const{_default:t}=o;t&&(e[r]=e[r]||{},e[r][t]=S(e[r][t],i))}else e[r]=S(e[r],i)}),e),{})}function DM(e,...t){return m.useMemo(()=>BM.apply(void 0,[e].concat(t)),[t,e])}function zM(...e){return m.useMemo(()=>e.reduce((e,t={})=>(Object.keys(t).forEach(n=>{e[n]=Object.assign(Object.assign({},e[n]),t[n])}),e),{}),[e])}function HM(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(e=>{if("_default"!==e){const r=t[e],o=n[e]||{};n[e]=r?HM(o,r):o}}),n}function FM(e,t,n){const r=DM.apply(void 0,[n].concat(it(e))),o=zM.apply(void 0,it(t));return m.useMemo(()=>[HM(r,n),HM(o,n)],[r,o,n])}const WM=(e,t,n,r,o)=>{const{classNames:i,styles:a}=ko(e),[l,s]=FM([i,t],[a,n],{popup:{_default:"root"}});return m.useMemo(()=>{var e,t;return[Object.assign(Object.assign({},l),{popup:Object.assign(Object.assign({},l.popup),{root:S(null===(e=l.popup)||void 0===e?void 0:e.root,r)})}),Object.assign(Object.assign({},s),{popup:Object.assign(Object.assign({},s.popup),{root:Object.assign(Object.assign({},null===(t=s.popup)||void 0===t?void 0:t.root),o)})})]},[l,s,r,o])};const GM=e=>{const t=m.forwardRef((t,n)=>{var r;const{prefixCls:o,getPopupContainer:i,components:a,className:l,style:s,placement:c,size:u,disabled:d,bordered:f=!0,placeholder:h,popupStyle:p,popupClassName:g,dropdownClassName:v,status:y,rootClassName:b,variant:x,picker:w,styles:C,classNames:E}=t,O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupStyle","popupClassName","dropdownClassName","status","rootClassName","variant","picker","styles","classNames"]),k=w===_M?"timePicker":"datePicker",M=m.useRef(null),{getPrefixCls:$,direction:I,getPopupContainer:N,rangePicker:T}=m.useContext(So),L=$("picker",o),{compactSize:R,compactItemClassnames:_}=ec(L,I),A=$(),[P,j]=km("rangePicker",x,f),B=Nl(L),[D,z,H]=SE(L,B),[F,W]=WM(k,E,C,g||v,p),[G]=OM(t,L),V=jM(a),q=Xs(e=>{var t;return null!==(t=null!=u?u:R)&&void 0!==t?t:e}),X=m.useContext(Io),U=null!=d?d:X,Y=m.useContext(eh),{hasFeedback:K,status:Z,feedbackIcon:Q}=Y,J=m.createElement(m.Fragment,null,w===_M?m.createElement(bM,null):m.createElement(mM,null),K&&Q);m.useImperativeHandle(n,()=>M.current);const[ee]=Ar("Calendar",Mr),te=Object.assign(Object.assign({},ee),t.locale),[ne]=Yl("DatePicker",null===(r=W.popup.root)||void 0===r?void 0:r.zIndex);return D(m.createElement(rh,{space:!0},m.createElement(iS,Object.assign({separator:m.createElement("span",{"aria-label":"to",className:`${L}-separator`},m.createElement(CM,null)),disabled:U,ref:M,placement:c,placeholder:EM(te,w,h),suffixIcon:J,prevIcon:m.createElement("span",{className:`${L}-prev-icon`}),nextIcon:m.createElement("span",{className:`${L}-next-icon`}),superPrevIcon:m.createElement("span",{className:`${L}-super-prev-icon`}),superNextIcon:m.createElement("span",{className:`${L}-super-next-icon`}),transitionName:`${A}-slide-up`,picker:w},O,{className:S({[`${L}-${q}`]:q,[`${L}-${P}`]:j},vm(L,ym(Z,y),K),z,_,l,null==T?void 0:T.className,H,B,b,F.root),style:Object.assign(Object.assign(Object.assign({},null==T?void 0:T.style),s),W.root),locale:te.lang,prefixCls:L,getPopupContainer:i||N,generateConfig:e,components:V,direction:I,classNames:{popup:S(z,H,B,b,F.popup.root)},styles:{popup:Object.assign(Object.assign({},W.popup.root),{zIndex:ne})},allowClear:G}))))});return t};const VM=e=>{const t=(t,n)=>{const r=n===AM?"timePicker":"datePicker",o=m.forwardRef((n,o)=>{var i;const{prefixCls:a,getPopupContainer:l,components:s,style:c,className:u,rootClassName:d,size:f,bordered:h,placement:p,placeholder:g,popupStyle:v,popupClassName:y,dropdownClassName:b,disabled:x,status:w,variant:C,onCalendarChange:E,styles:O,classNames:k}=n,M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupStyle","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange","styles","classNames"]),{getPrefixCls:$,direction:I,getPopupContainer:N,[r]:T}=m.useContext(So),L=$("picker",a),{compactSize:R,compactItemClassnames:_}=ec(L,I),A=m.useRef(null),[P,j]=km("datePicker",C,h),B=Nl(L),[D,z,H]=SE(L,B);m.useImperativeHandle(o,()=>A.current);const F=t||n.picker,W=$(),{onSelect:G,multiple:V}=M,q=G&&"time"===t&&!V,[X,U]=WM(r,k,O,y||b,v),[Y,K]=OM(n,L),Z=jM(s),Q=Xs(e=>{var t;return null!==(t=null!=f?f:R)&&void 0!==t?t:e}),J=m.useContext(Io),ee=null!=x?x:J,te=m.useContext(eh),{hasFeedback:ne,status:re,feedbackIcon:oe}=te,ie=m.createElement(m.Fragment,null,"time"===F?m.createElement(bM,null):m.createElement(mM,null),ne&&oe),[ae]=Ar("DatePicker",Mr),le=Object.assign(Object.assign({},ae),n.locale),[se]=Yl("DatePicker",null===(i=U.popup.root)||void 0===i?void 0:i.zIndex);return D(m.createElement(rh,{space:!0},m.createElement(dS,Object.assign({ref:A,placeholder:SM(le,F,g),suffixIcon:ie,placement:p,prevIcon:m.createElement("span",{className:`${L}-prev-icon`}),nextIcon:m.createElement("span",{className:`${L}-next-icon`}),superPrevIcon:m.createElement("span",{className:`${L}-super-prev-icon`}),superNextIcon:m.createElement("span",{className:`${L}-super-next-icon`}),transitionName:`${W}-slide-up`,picker:t,onCalendarChange:(e,t,n)=>{null==E||E(e,t,n),q&&G(e)}},{showToday:!0},M,{locale:le.lang,className:S({[`${L}-${Q}`]:Q,[`${L}-${P}`]:j},vm(L,ym(re,w),ne),z,_,null==T?void 0:T.className,u,H,B,d,X.root),style:Object.assign(Object.assign(Object.assign({},null==T?void 0:T.style),c),U.root),prefixCls:L,getPopupContainer:l||N,generateConfig:e,components:Z,direction:I,disabled:ee,classNames:{popup:S(z,H,B,d,X.popup.root)},styles:{popup:Object.assign(Object.assign({},U.popup.root),{zIndex:se})},allowClear:Y,removeIcon:K}))))});return o},n=t(),r=t(kM,MM),o=t($M,IM),i=t(NM,TM),a=t(LM,RM);return{DatePicker:n,WeekPicker:r,MonthPicker:o,YearPicker:i,TimePicker:t(_M,AM),QuarterPicker:a}},qM=e=>{const{DatePicker:t,WeekPicker:n,MonthPicker:r,YearPicker:o,TimePicker:i,QuarterPicker:a}=VM(e),l=GM(e),s=t;return s.WeekPicker=n,s.MonthPicker=r,s.YearPicker=o,s.RangePicker=l,s.TimePicker=i,s.QuarterPicker=a,s},XM=qM(gw),UM=yp(XM,"popupAlign",void 0,"picker");XM._InternalPanelDoNotUseOrYouWillBeFired=UM;const YM=yp(XM.RangePicker,"popupAlign",void 0,"picker");function KM(e){return["small","middle","large"].includes(e)}function ZM(e){return!!e&&("number"==typeof e&&!Number.isNaN(e))}XM._InternalRangePanelDoNotUseOrYouWillBeFired=YM,XM.generatePicker=qM;const QM=p.createContext({latestIndex:0}),JM=QM.Provider,e$=({className:e,index:t,children:n,split:r,style:o})=>{const{latestIndex:i}=m.useContext(QM);return null==n?null:m.createElement(m.Fragment,null,m.createElement("div",{className:e,style:o},n),t<i&&r&&m.createElement("span",{className:`${e}-split`},r))};const t$=m.forwardRef((e,t)=>{var n;const{getPrefixCls:r,direction:o,size:i,className:a,style:l,classNames:s,styles:c}=ko("space"),{size:u=(null!=i?i:"small"),align:d,className:f,rootClassName:h,children:p,direction:g="horizontal",prefixCls:v,split:y,style:b,wrap:x=!1,classNames:w,styles:C}=e,E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[O,k]=Array.isArray(u)?u:[u,u],M=KM(k),$=KM(O),I=ZM(k),T=ZM(O),L=N(p,{keepEmpty:!0}),R=void 0===d&&"horizontal"===g?"center":d,_=r("space",v),[A,P,j]=Zs(_),B=S(_,a,P,`${_}-${g}`,{[`${_}-rtl`]:"rtl"===o,[`${_}-align-${R}`]:R,[`${_}-gap-row-${k}`]:M,[`${_}-gap-col-${O}`]:$},f,h,j),D=S(`${_}-item`,null!==(n=null==w?void 0:w.item)&&void 0!==n?n:s.item);let z=0;const H=L.map((e,t)=>{var n;null!=e&&(z=t);const r=(null==e?void 0:e.key)||`${D}-${t}`;return m.createElement(e$,{className:D,key:r,index:t,split:y,style:null!==(n=null==C?void 0:C.item)&&void 0!==n?n:c.item},e)}),F=m.useMemo(()=>({latestIndex:z}),[z]);if(0===L.length)return null;const W={};return x&&(W.flexWrap="wrap"),!$&&T&&(W.columnGap=O),!M&&I&&(W.rowGap=k),A(m.createElement("div",Object.assign({ref:t,className:B,style:Object.assign(Object.assign(Object.assign({},W),l),b)},E),m.createElement(JM,{value:F},H)))}),n$=t$;n$.Compact=e=>{const{getPrefixCls:t,direction:n}=m.useContext(So),{size:r,direction:o,block:i,prefixCls:a,className:l,rootClassName:s,children:c}=e,u=Qs(e,["size","direction","block","prefixCls","className","rootClassName","children"]),d=Xs(e=>null!=r?r:e),f=t("space-compact",a),[h,p]=Zs(f),g=S(f,p,{[`${f}-rtl`]:"rtl"===n,[`${f}-block`]:i,[`${f}-vertical`]:"vertical"===o},l,s),v=m.useContext(Js),y=N(c),b=m.useMemo(()=>y.map((e,t)=>{const n=(null==e?void 0:e.key)||`${f}-item-${t}`;return m.createElement(nc,{key:n,compactSize:d,compactDirection:o,isFirstItem:0===t&&(!v||(null==v?void 0:v.isFirstItem)),isLastItem:t===y.length-1&&(!v||(null==v?void 0:v.isLastItem))},e)}),[r,y,v]);return 0===y.length?null:h(m.createElement("div",Object.assign({className:g},u),b))};const r$=e=>{const{getPopupContainer:t,getPrefixCls:n,direction:r}=m.useContext(So),{prefixCls:o,type:i="default",danger:a,disabled:l,loading:s,onClick:c,htmlType:u,children:d,className:f,menu:h,arrow:p,autoFocus:g,overlay:v,trigger:y,align:b,open:x,onOpenChange:w,placement:C,getPopupContainer:E,href:O,icon:k=m.createElement(gx,null),title:M,buttonsRender:$=e=>e,mouseEnterDelay:I,mouseLeaveDelay:N,overlayClassName:T,overlayStyle:L,destroyOnHidden:R,destroyPopupOnHide:_,dropdownRender:A,popupRender:P}=e,j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyOnHidden","destroyPopupOnHide","dropdownRender","popupRender"]),B=n("dropdown",o),D=`${B}-button`,z={menu:h,arrow:p,autoFocus:g,align:b,disabled:l,trigger:l?[]:y,onOpenChange:w,getPopupContainer:E||t,mouseEnterDelay:I,mouseLeaveDelay:N,overlayClassName:T,overlayStyle:L,destroyOnHidden:R,popupRender:P||A},{compactSize:H,compactItemClassnames:F}=ec(B,r),W=S(D,F,f);"destroyPopupOnHide"in e&&(z.destroyPopupOnHide=_),"overlay"in e&&(z.overlay=v),"open"in e&&(z.open=x),z.placement="placement"in e?C:"rtl"===r?"bottomLeft":"bottomRight";const G=m.createElement(cd,{type:i,danger:a,disabled:l,loading:s,onClick:c,htmlType:u,href:O,title:M},d),V=m.createElement(cd,{type:i,danger:a,icon:k}),[q,X]=$([G,V]);return m.createElement(n$.Compact,Object.assign({className:W,size:H,block:!0},j),q,m.createElement(Dx,Object.assign({},z),X))};r$.__ANT_BUTTON=!0;const o$=Dx;o$.Button=r$;var i$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},a$=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:i$}))},l$=m.forwardRef(a$);function s$(e){const[t,n]=m.useState(e);return m.useEffect(()=>{const t=setTimeout(()=>{n(e)},e.length?0:10);return()=>{clearTimeout(t)}},[e]),t}const c$=e=>{const{componentCls:t}=e,n=`${t}-show-help`,r=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},\n                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},\n                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},u$=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${Xt(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),d$=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},f$=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},ui(e)),u$(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},d$(e,e.controlHeightSM)),"&-large":Object.assign({},d$(e,e.controlHeightLG))})}},h$=e=>{const{formItemCls:t,iconCls:n,rootPrefixCls:r,antCls:o,labelRequiredMarkColor:i,labelColor:a,labelFontSize:l,labelHeight:s,labelColonMarginInlineStart:c,labelColonMarginInlineEnd:u,itemMarginBottom:d}=e;return{[t]:Object.assign(Object.assign({},ui(e)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,\n        &-hidden${o}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset","> label":{verticalAlign:"middle",textWrap:"balance"}},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:s,color:a,fontSize:l,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:e.marginXXS,color:i,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${t}-required-mark-hidden, &${t}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`&${t}-required-mark-hidden`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:c,marginInlineEnd:u},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${r}-col-'"]):not([class*="' ${r}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%",[`&:has(> ${o}-switch:only-child, > ${o}-rate:only-child)`]:{display:"flex",alignItems:"center"}}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:au,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},p$=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),g$=e=>{const{antCls:t,formItemCls:n}=e;return{[`${n}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}},[`${t}-col-24${n}-label,\n        ${t}-col-xl-24${n}-label`]:p$(e)}}},m$=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:r}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[`${n}-inline`]:{flex:"none",marginInlineEnd:e.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,\n        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},v$=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:p$(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},y$=e=>{const{componentCls:t,formItemCls:n,antCls:r}=e;return{[`${n}-vertical`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,\n        ${r}-col-24${n}-label,\n        ${r}-col-xl-24${n}-label`]:p$(e)},[`@media (max-width: ${Xt(e.screenXSMax)})`]:[v$(e),{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:p$(e)}}}],[`@media (max-width: ${Xt(e.screenSMMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:p$(e)}}},[`@media (max-width: ${Xt(e.screenMDMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:p$(e)}}},[`@media (max-width: ${Xt(e.screenLGMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:p$(e)}}}}},b$=(e,t)=>Xo(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),x$=gi("Form",(e,{rootPrefixCls:t})=>{const n=b$(e,t);return[f$(n),h$(n),c$(n),g$(n),m$(n),y$(n),Ac(n),au]},e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),{order:-1e3}),w$=[];function C$(e,t,n,r=0){return{key:"string"==typeof e?e:`${t}-${r}`,error:e,errorStatus:n}}const S$=({help:e,helpStatus:t,errors:n=w$,warnings:r=w$,className:o,fieldId:i,onVisibleChanged:a})=>{const{prefixCls:l}=m.useContext(Jf),s=`${l}-item-explain`,c=Nl(l),[u,d,f]=x$(l,c),h=m.useMemo(()=>As(l),[l]),p=s$(n),g=s$(r),v=m.useMemo(()=>null!=e?[C$(e,"help",t)]:[].concat(it(p.map((e,t)=>C$(e,"error","error",t))),it(g.map((e,t)=>C$(e,"warning","warning",t)))),[e,t,p,g]),y=m.useMemo(()=>{const e={};return v.forEach(({key:t})=>{e[t]=(e[t]||0)+1}),v.map((t,n)=>Object.assign(Object.assign({},t),{key:e[t.key]>1?`${t.key}-fallback-${n}`:t.key}))},[v]),b={};return i&&(b.id=`${i}_help`),u(m.createElement(oa,{motionDeadline:h.motionDeadline,motionName:`${l}-show-help`,visible:!!y.length,onVisibleChanged:a},e=>{const{className:t,style:n}=e;return m.createElement("div",Object.assign({},b,{className:S(s,t,f,c,o,d),style:n}),m.createElement(pa,Object.assign({keys:y},As(l),{motionName:`${l}-show-help-item`,component:!1}),e=>{const{key:t,error:n,errorStatus:r,className:o,style:i}=e;return m.createElement("div",{key:t,className:S(o,{[`${s}-${r}`]:r}),style:i},n)}))}))};const E$=(e,t)=>{const n=m.useContext(Io),{getPrefixCls:r,direction:o,requiredMark:i,colon:a,scrollToFirstError:l,className:s,style:c}=ko("form"),{prefixCls:u,className:d,rootClassName:f,size:h,disabled:p=n,form:g,colon:v,labelAlign:y,labelWrap:b,labelCol:x,wrapperCol:w,hideRequiredMark:C,layout:E="horizontal",scrollToFirstError:O,requiredMark:k,onFinishFailed:M,name:$,style:I,feedbackIcons:N,variant:T}=e,L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),R=Xs(h),_=m.useContext(Sr),A=m.useMemo(()=>void 0!==k?k:!C&&(void 0===i||i),[C,k,i]),P=null!=v?v:a,j=r("form",u),B=Nl(j),[D,z,H]=x$(j,B),F=S(j,`${j}-${E}`,{[`${j}-hide-required-mark`]:!1===A,[`${j}-rtl`]:"rtl"===o,[`${j}-${R}`]:R},H,B,z,s,d,f),[W]=TS(g),{__INTERNAL__:G}=W;G.name=$;const V=m.useMemo(()=>({name:$,labelAlign:y,labelCol:x,labelWrap:b,wrapperCol:w,layout:E,colon:P,requiredMark:A,itemRef:G.itemRef,form:W,feedbackIcons:N}),[$,y,x,w,E,P,A,W,N]),q=m.useRef(null);m.useImperativeHandle(t,()=>{var e;return Object.assign(Object.assign({},W),{nativeElement:null===(e=q.current)||void 0===e?void 0:e.nativeElement})});const X=(e,t)=>{if(e){let n={block:"nearest"};"object"==typeof e&&(n=Object.assign(Object.assign({},n),e)),W.scrollToField(t,n)}};return D(m.createElement(nh.Provider,{value:T},m.createElement(No,{disabled:p},m.createElement(To.Provider,{value:R},m.createElement(Qf,{validateMessages:_},m.createElement(Kf.Provider,{value:V},m.createElement(th,{status:!0},m.createElement(Yf,Object.assign({id:$},L,{name:$,onFinishFailed:e=>{if(null==M||M(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==O)return void X(O,t);void 0!==l&&X(l,t)}},form:W,ref:q,style:Object.assign(Object.assign({},c),I),className:F})))))))))},O$=m.forwardRef(E$);const k$=()=>{const{status:e,errors:t=[],warnings:n=[]}=m.useContext(eh);return{status:e,errors:t,warnings:n}};k$.Context=eh;const M$=vi(["Form","item-item"],(e,{rootPrefixCls:t})=>(e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}})(b$(e,t)));const $$=e=>{const{prefixCls:t,status:n,labelCol:r,wrapperCol:o,children:i,errors:a,warnings:l,_internalItemRender:s,extra:c,help:u,fieldId:d,marginBottom:f,onErrorVisibleChanged:h,label:p}=e,g=`${t}-item`,v=m.useContext(Kf),y=m.useMemo(()=>{let e=Object.assign({},o||v.wrapperCol||{});if(null===p&&!r&&!o&&v.labelCol){[void 0,"xs","sm","md","lg","xl","xxl"].forEach(t=>{const n=t?[t]:[],r=pr(v.labelCol,n),o="object"==typeof r?r:{},i=pr(e,n);"span"in o&&!("offset"in("object"==typeof i?i:{}))&&o.span<24&&(e=mr(e,[].concat(n,["offset"]),o.span))})}return e},[o,v.wrapperCol,v.labelCol,p,r]),b=S(`${g}-control`,y.className),x=m.useMemo(()=>{const{labelCol:e,wrapperCol:t}=v,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(v,["labelCol","wrapperCol"]);return n},[v]),w=m.useRef(null),[C,E]=m.useState(0);Jt(()=>{c&&w.current?E(w.current.clientHeight):E(0)},[c]);const O=m.createElement("div",{className:`${g}-control-input`},m.createElement("div",{className:`${g}-control-input-content`},i)),k=m.useMemo(()=>({prefixCls:t,status:n}),[t,n]),M=null!==f||a.length||l.length?m.createElement(Jf.Provider,{value:k},m.createElement(S$,{fieldId:d,errors:a,warnings:l,help:u,helpStatus:n,className:`${g}-explain-connected`,onVisibleChanged:h})):null,$={};d&&($.id=`${d}_extra`);const I=c?m.createElement("div",Object.assign({},$,{className:`${g}-extra`,ref:w}),c):null,N=M||I?m.createElement("div",{className:`${g}-additional`,style:f?{minHeight:f+C}:{}},M,I):null,T=s&&"pro_table_render"===s.mark&&s.render?s.render(e,{input:O,errorList:M,extra:I}):m.createElement(m.Fragment,null,O,N);return m.createElement(Kf.Provider,{value:x},m.createElement(YO,Object.assign({},y,{className:b}),T),m.createElement(M$,{prefixCls:t}))};var I$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},N$=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:I$}))},T$=m.forwardRef(N$);const L$=({prefixCls:e,label:t,htmlFor:n,labelCol:r,labelAlign:o,colon:i,required:a,requiredMark:l,tooltip:s,vertical:c})=>{var u;const[d]=Ar("Form"),{labelAlign:f,labelCol:h,labelWrap:p,colon:g}=m.useContext(Kf);if(!t)return null;const v=r||h||{},y=`${e}-item-label`,b=S(y,"left"===(o||f)&&`${y}-left`,v.className,{[`${y}-wrap`]:!!p});let x=t;const w=!0===i||!1!==g&&!1!==i;w&&!c&&"string"==typeof t&&t.trim()&&(x=t.replace(/[:|]\s*$/,""));const C=function(e){return null==e?null:"object"!=typeof e||m.isValidElement(e)?{title:e}:e}(s);if(C){const{icon:t=m.createElement(T$,null)}=C,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(C,["icon"]),r=m.createElement(Qv,Object.assign({},n),m.cloneElement(t,{className:`${e}-item-tooltip`,title:"",onClick:e=>{e.preventDefault()},tabIndex:null}));x=m.createElement(m.Fragment,null,x,r)}const E="optional"===l,O="function"==typeof l,k=!1===l;let M;O?x=l(x,{required:!!a}):E&&!a&&(x=m.createElement(m.Fragment,null,x,m.createElement("span",{className:`${e}-item-optional`,title:""},(null==d?void 0:d.optional)||(null===(u=Ir.Form)||void 0===u?void 0:u.optional)))),k?M="hidden":(E||O)&&(M="optional");const $=S({[`${e}-item-required`]:a,[`${e}-item-required-mark-${M}`]:M,[`${e}-item-no-colon`]:!w});return m.createElement(YO,Object.assign({},v,{className:b}),m.createElement("label",{htmlFor:n,className:$,title:"string"==typeof t?t:""},x))},R$={success:Wa,warning:Qa,error:qa,validating:Gl};function _$({children:e,errors:t,warnings:n,hasFeedback:r,validateStatus:o,prefixCls:i,meta:a,noStyle:l,name:s}){const c=`${i}-item`,{feedbackIcons:u}=m.useContext(Kf),d=$S(t,n,a,null,!!r,o),{isFormItemInput:f,status:h,hasFeedback:p,feedbackIcon:g,name:v}=m.useContext(eh),y=m.useMemo(()=>{var e;let o;if(r){const i=!0!==r&&r.icons||u,a=d&&(null===(e=null==i?void 0:i({status:d,errors:t,warnings:n}))||void 0===e?void 0:e[d]),l=d?R$[d]:null;o=!1!==a&&l?m.createElement("span",{className:S(`${c}-feedback-icon`,`${c}-feedback-icon-${d}`)},a||m.createElement(l,null)):null}const i={status:d||"",errors:t,warnings:n,hasFeedback:!!r,feedbackIcon:o,isFormItemInput:!0,name:s};return l&&(i.status=(null!=d?d:h)||"",i.isFormItemInput=f,i.hasFeedback=!!(null!=r?r:p),i.feedbackIcon=void 0!==r?i.feedbackIcon:g,i.name=null!=s?s:v),i},[d,r,l,f,h]);return m.createElement(eh.Provider,{value:y},e)}function A$(e){const{prefixCls:t,className:n,rootClassName:r,style:o,help:i,errors:a,warnings:l,validateStatus:s,meta:c,hasFeedback:u,hidden:d,children:f,fieldId:h,required:p,isRequired:g,onSubItemMetaChange:v,layout:y,name:b}=e,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout","name"]),w=`${t}-item`,{requiredMark:C,layout:E}=m.useContext(Kf),O=y||E,k="vertical"===O,M=m.useRef(null),$=s$(a),I=s$(l),N=null!=i,T=!!(N||a.length||l.length),L=!!M.current&&Bs(M.current),[R,_]=m.useState(null);Jt(()=>{if(T&&M.current){const e=getComputedStyle(M.current);_(Number.parseInt(e.marginBottom,10))}},[T,L]);const A=((e=!1)=>$S(e?$:c.errors,e?I:c.warnings,c,"",!!u,s))(),P=S(w,n,r,{[`${w}-with-help`]:N||$.length||I.length,[`${w}-has-feedback`]:A&&u,[`${w}-has-success`]:"success"===A,[`${w}-has-warning`]:"warning"===A,[`${w}-has-error`]:"error"===A,[`${w}-is-validating`]:"validating"===A,[`${w}-hidden`]:d,[`${w}-${O}`]:O});return m.createElement("div",{className:P,style:o,ref:M},m.createElement(ZO,Object.assign({className:`${w}-row`},js(x,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),m.createElement(L$,Object.assign({htmlFor:h},e,{requiredMark:C,required:null!=p?p:g,prefixCls:t,vertical:k})),m.createElement($$,Object.assign({},e,c,{errors:$,warnings:I,prefixCls:t,status:A,help:i,marginBottom:R,onErrorVisibleChanged:e=>{e||_(null)}}),m.createElement(Zf.Provider,{value:v},m.createElement(_$,{prefixCls:t,meta:c,errors:c.errors,warnings:c.warnings,hasFeedback:u,validateStatus:A,name:b},f)))),!!R&&m.createElement("div",{className:`${w}-margin-offset`,style:{marginBottom:-R}}))}const P$=m.memo(({children:e})=>e,(e,t)=>function(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>{const r=e[n],o=t[n];return r===o||"function"==typeof r||"function"==typeof o})}(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((e,n)=>e===t.childProps[n]));const j$=function(e){const{name:t,noStyle:n,className:r,dependencies:o,prefixCls:i,shouldUpdate:a,rules:l,children:s,required:c,label:u,messageVariables:d,trigger:f="onChange",validateTrigger:h,hidden:p,help:g,layout:v}=e,{getPrefixCls:y}=m.useContext(So),{name:b}=m.useContext(Kf),x=function(e){if("function"==typeof e)return e;const t=N(e);return t.length<=1?t[0]:t}(s),w="function"==typeof x,C=m.useContext(Zf),{validateTrigger:E}=m.useContext(Wd),O=void 0!==h?h:E,k=!(null==t),M=y("form",i),$=Nl(M),[I,T,L]=x$(M,$);Cr();const R=m.useContext(Gd),_=m.useRef(null),[A,P]=function(e){const[t,n]=m.useState(e),r=m.useRef(null),o=m.useRef([]),i=m.useRef(!1);return m.useEffect(()=>(i.current=!1,()=>{i.current=!0,dt.cancel(r.current),r.current=null}),[]),[t,function(e){i.current||(null===r.current&&(o.current=[],r.current=dt(()=>{r.current=null,n(e=>{let t=e;return o.current.forEach(e=>{t=e(t)}),t})})),o.current.push(e))}]}({}),[j,B]=Ho(()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1})),D=(e,t)=>{P(n=>{const r=Object.assign({},n),o=[].concat(it(e.name.slice(0,-1)),it(t)).join("__SPLIT__");return e.destroy?delete r[o]:r[o]=e,r})},[z,H]=m.useMemo(()=>{const e=it(j.errors),t=it(j.warnings);return Object.values(A).forEach(n=>{e.push.apply(e,it(n.errors||[])),t.push.apply(t,it(n.warnings||[]))}),[e,t]},[A,j.errors,j.warnings]),F=function(){const{itemRef:e}=m.useContext(Kf),t=m.useRef({});return function(n,r){const o=r&&"object"==typeof r&&ge(r),i=n.join("_");return t.current.name===i&&t.current.originRef===o||(t.current.name=i,t.current.originRef=o,t.current.ref=de(e(n),o)),t.current.ref}}();function W(o,i,a){return n&&!p?m.createElement(_$,{prefixCls:M,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:j,errors:z,warnings:H,noStyle:!0,name:t},o):m.createElement(A$,Object.assign({key:"row"},e,{className:S(r,L,$,T),prefixCls:M,fieldId:i,isRequired:a,errors:z,warnings:H,meta:j,onSubItemMetaChange:D,layout:v,name:t}),o)}if(!k&&!w&&!o)return I(W(x));let G={};return"string"==typeof u?G.label=u:t&&(G.label=String(t)),d&&(G=Object.assign(Object.assign({},G),d)),I(m.createElement(Af,Object.assign({},e,{messageVariables:G,trigger:f,validateTrigger:O,onMetaChange:e=>{const t=null==R?void 0:R.getKey(e.name);if(B(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),n&&!1!==g&&C){let n=e.name;if(e.destroy)n=_.current||n;else if(void 0!==t){const[e,r]=t;n=[e].concat(it(r)),_.current=n}C(e,n)}}}),(n,r,i)=>{const s=kS(t).length&&r?r.name:[],u=MS(s,b),d=void 0!==c?c:!!(null==l?void 0:l.some(e=>{if(e&&"object"==typeof e&&e.required&&!e.warningOnly)return!0;if("function"==typeof e){const t=e(i);return(null==t?void 0:t.required)&&!(null==t?void 0:t.warningOnly)}return!1})),h=Object.assign({},n);let p=null;if(Array.isArray(x)&&k)p=x;else if(w&&(!a&&!o||k));else if(!o||w||k)if(m.isValidElement(x)){const t=Object.assign(Object.assign({},x.props),h);if(t.id||(t.id=u),g||z.length>0||H.length>0||e.extra){const n=[];(g||z.length>0)&&n.push(`${u}_help`),e.extra&&n.push(`${u}_extra`),t["aria-describedby"]=n.join(" ")}z.length>0&&(t["aria-invalid"]="true"),d&&(t["aria-required"]="true"),he(x)&&(t.ref=F(s,x));new Set([].concat(it(kS(f)),it(kS(O)))).forEach(e=>{t[e]=(...t)=>{var n,r,o,i,a;null===(o=h[e])||void 0===o||(n=o).call.apply(n,[h].concat(t)),null===(a=(i=x.props)[e])||void 0===a||(r=a).call.apply(r,[i].concat(t))}});const n=[t["aria-required"],t["aria-invalid"],t["aria-describedby"]];p=m.createElement(P$,{control:h,update:x,childProps:n},ll(x,t))}else p=w&&(a||o)&&!k?x(i):x;else;return W(p,u,d)}))};j$.useStatus=k$;const B$=O$;B$.Item=j$,B$.List=e=>{var{prefixCls:t,children:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","children"]);const{getPrefixCls:o}=m.useContext(So),i=o("form",t),a=m.useMemo(()=>({prefixCls:i,status:"error"}),[i]);return m.createElement(Pf,Object.assign({},r),(e,t,r)=>m.createElement(Jf.Provider,{value:a},n(e.map(e=>Object.assign(Object.assign({},e),{fieldKey:e.key})),t,{errors:r.errors,warnings:r.warnings})))},B$.ErrorList=S$,B$.useForm=TS,B$.useFormInstance=function(){const{form:e}=m.useContext(Kf);return e},B$.useWatch=Uf,B$.Provider=Qf,B$.create=()=>{};var D$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},z$=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:D$}))},H$=m.forwardRef(z$);function F$(e,t,n,r){var o=g.unstable_batchedUpdates?function(e){g.unstable_batchedUpdates(n,e)}:n;return null!=e&&e.addEventListener&&e.addEventListener(t,o,r),{remove:function(){null!=e&&e.removeEventListener&&e.removeEventListener(t,o,r)}}}const W$=gi(["Input","OTP"],e=>(e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,[`${t}-input-wrapper`]:{position:"relative",[`${t}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${t}-mask-input`]:{color:"transparent",caretColor:e.colorText},[`${t}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${t}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}})(Xo(e,jS(e))),BS);const G$=m.forwardRef((e,t)=>{const{className:n,value:r,onChange:o,onActiveChange:i,index:a,mask:l}=e,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:c}=m.useContext(So),u=c("otp"),d="string"==typeof l?l:r,f=m.useRef(null);m.useImperativeHandle(t,()=>f.current);const h=()=>{dt(()=>{var e;const t=null===(e=f.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()})};return m.createElement("span",{className:`${u}-input-wrapper`,role:"presentation"},l&&""!==r&&void 0!==r&&m.createElement("span",{className:`${u}-mask-icon`,"aria-hidden":"true"},d),m.createElement(Hk,Object.assign({"aria-label":`OTP Input ${a+1}`,type:!0===l?"password":"text"},s,{ref:f,value:r,onInput:e=>{o(a,e.target.value)},onFocus:h,onKeyDown:e=>{const{key:t,ctrlKey:n,metaKey:o}=e;"ArrowLeft"===t?i(a-1):"ArrowRight"===t?i(a+1):"z"===t&&(n||o)?e.preventDefault():"Backspace"!==t||r||i(a-1),h()},onMouseDown:h,onMouseUp:h,className:S(n,{[`${u}-mask-input`]:l})})))});function V$(e){return(e||"").split("")}const q$=e=>{const{index:t,prefixCls:n,separator:r}=e,o="function"==typeof r?r(t):r;return o?m.createElement("span",{className:`${n}-separator`},o):null},X$=m.forwardRef((e,t)=>{const{prefixCls:n,length:r=6,size:o,defaultValue:i,value:a,onChange:l,formatter:s,separator:c,variant:u,disabled:d,status:f,autoFocus:h,mask:p,type:g,onInput:v,inputMode:y}=e,b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:x,direction:w}=m.useContext(So),C=x("otp",n),E=ol(b,{aria:!0,data:!0,attr:!0}),[O,k,M]=W$(C),$=Xs(e=>null!=o?o:e),I=m.useContext(eh),N=ym(I.status,f),T=m.useMemo(()=>Object.assign(Object.assign({},I),{status:N,hasFeedback:!1,feedbackIcon:null}),[I,N]),L=m.useRef(null),R=m.useRef({});m.useImperativeHandle(t,()=>({focus:()=>{var e;null===(e=R.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<r;t+=1)null===(e=R.current[t])||void 0===e||e.blur()},nativeElement:L.current}));const _=e=>s?s(e):e,[A,P]=m.useState(()=>V$(_(i||"")));m.useEffect(()=>{void 0!==a&&P(V$(a))},[a]);const j=zo(e=>{P(e),v&&v(e),l&&e.length===r&&e.every(e=>e)&&e.some((e,t)=>A[t]!==e)&&l(e.join(""))}),B=zo((e,t)=>{let n=it(A);for(let r=0;r<e;r+=1)n[r]||(n[r]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(V$(t)),n=n.slice(0,r);for(let r=n.length-1;r>=0&&!n[r];r-=1)n.pop();const o=_(n.map(e=>e||" ").join(""));return n=V$(o).map((e,t)=>" "!==e||n[t]?e:n[t]),n}),D=(e,t)=>{var n;const o=B(e,t),i=Math.min(e+t.length,r-1);i!==e&&void 0!==o[e]&&(null===(n=R.current[i])||void 0===n||n.focus()),j(o)},z=e=>{var t;null===(t=R.current[e])||void 0===t||t.focus()},H={variant:u,disabled:d,status:N,mask:p,type:g,inputMode:y};return O(m.createElement("div",Object.assign({},E,{ref:L,className:S(C,{[`${C}-sm`]:"small"===$,[`${C}-lg`]:"large"===$,[`${C}-rtl`]:"rtl"===w},M,k),role:"group"}),m.createElement(eh.Provider,{value:T},Array.from({length:r}).map((e,t)=>{const n=`otp-${t}`,o=A[t]||"";return m.createElement(m.Fragment,{key:n},m.createElement(G$,Object.assign({ref:e=>{R.current[t]=e},index:t,size:$,htmlSize:1,className:`${C}-input`,onChange:D,value:o,onActiveChange:z,autoFocus:0===t&&h},H)),t<r-1&&m.createElement(q$,{separator:c,index:t,prefixCls:C}))}))))});var U$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Y$=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:U$}))},K$=m.forwardRef(Y$);const Z$=e=>e?m.createElement(H$,null):m.createElement(K$,null),Q$={click:"onClick",hover:"onMouseOver"},J$=m.forwardRef((e,t)=>{const{disabled:n,action:r="click",visibilityToggle:o=!0,iconRender:i=Z$,suffix:a}=e,l=m.useContext(Io),s=null!=n?n:l,c="object"==typeof o&&void 0!==o.visible,[u,d]=m.useState(()=>!!c&&o.visible),f=m.useRef(null);m.useEffect(()=>{c&&d(o.visible)},[c,o]);const h=zk(f),p=()=>{var e;if(s)return;u&&h();const t=!u;d(t),"object"==typeof o&&(null===(e=o.onVisibleChange)||void 0===e||e.call(o,t))},{className:g,prefixCls:v,inputPrefixCls:y,size:b}=e,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:w}=m.useContext(So),C=w("input",y),E=w("input-password",v),O=o&&(e=>{const t=Q$[r]||"",n=i(u),o={[t]:p,className:`${e}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return m.cloneElement(m.isValidElement(n)?n:m.createElement("span",null,n),o)})(E),k=S(E,g,{[`${E}-${b}`]:!!b}),M=Object.assign(Object.assign({},js(x,["suffix","iconRender","visibilityToggle"])),{type:u?"text":"password",className:k,prefixCls:C,suffix:m.createElement(m.Fragment,null,O,a)});return b&&(M.size=b),m.createElement(Hk,Object.assign({ref:de(t,f)},M))});const eI=m.forwardRef((e,t)=>{const{prefixCls:n,inputPrefixCls:r,className:o,size:i,suffix:a,enterButton:l=!1,addonAfter:s,loading:c,disabled:u,onSearch:d,onChange:f,onCompositionStart:h,onCompositionEnd:p,variant:g,onPressEnter:v}=e,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd","variant","onPressEnter"]),{getPrefixCls:b,direction:x}=m.useContext(So),w=m.useRef(!1),C=b("input-search",n),E=b("input",r),{compactSize:O}=ec(C,x),k=Xs(e=>{var t;return null!==(t=null!=i?i:O)&&void 0!==t?t:e}),M=m.useRef(null),$=e=>{var t;document.activeElement===(null===(t=M.current)||void 0===t?void 0:t.input)&&e.preventDefault()},I=e=>{var t,n;d&&d(null===(n=null===(t=M.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},N="boolean"==typeof l?m.createElement(lv,null):null,T=`${C}-button`;let L;const R=l||{},_=R.type&&!0===R.type.__ANT_BUTTON;L=_||"button"===R.type?ll(R,Object.assign({onMouseDown:$,onClick:e=>{var t,n;null===(n=null===(t=null==R?void 0:R.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),I(e)},key:"enterButton"},_?{className:T,size:k}:{})):m.createElement(cd,{className:T,color:l?"primary":"default",size:k,disabled:u,key:"enterButton",onMouseDown:$,onClick:I,loading:c,icon:N,variant:"borderless"===g||"filled"===g||"underlined"===g?"text":l?"solid":void 0},l),s&&(L=[L,ll(s,{key:"addonAfter"})]);const A=S(C,{[`${C}-rtl`]:"rtl"===x,[`${C}-${k}`]:!!k,[`${C}-with-button`]:!!l},o),P=Object.assign(Object.assign({},y),{className:A,prefixCls:E,type:"search",size:k,variant:g,onPressEnter:e=>{w.current||c||(null==v||v(e),I(e))},onCompositionStart:e=>{w.current=!0,null==h||h(e)},onCompositionEnd:e=>{w.current=!1,null==p||p(e)},addonAfter:L,suffix:a,onChange:e=>{(null==e?void 0:e.target)&&"click"===e.type&&d&&d(e.target.value,e,{source:"clear"}),null==f||f(e)},disabled:u});return m.createElement(Hk,Object.assign({ref:de(M,t)},P))});var tI,nI=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],rI={};function oI(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;tI||((tI=document.createElement("textarea")).setAttribute("tab-index","-1"),tI.setAttribute("aria-hidden","true"),tI.setAttribute("name","hiddenTextarea"),document.body.appendChild(tI)),e.getAttribute("wrap")?tI.setAttribute("wrap",e.getAttribute("wrap")):tI.removeAttribute("wrap");var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&rI[n])return rI[n];var r=window.getComputedStyle(e),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),i=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),l={sizingStyle:nI.map(function(e){return"".concat(e,":").concat(r.getPropertyValue(e))}).join(";"),paddingSize:i,borderSize:a,boxSizing:o};return t&&n&&(rI[n]=l),l}(e,t),i=o.paddingSize,a=o.borderSize,l=o.boxSizing,s=o.sizingStyle;tI.setAttribute("style","".concat(s,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),tI.value=e.value||e.placeholder||"";var c,u=void 0,d=void 0,f=tI.scrollHeight;if("border-box"===l?f+=a:"content-box"===l&&(f-=i),null!==n||null!==r){tI.value=" ";var h=tI.scrollHeight-i;null!==n&&(u=h*n,"border-box"===l&&(u=u+i+a),f=Math.max(u,f)),null!==r&&(d=h*r,"border-box"===l&&(d=d+i+a),c=f>d?"":"hidden",f=Math.min(d,f))}var p={height:f,overflowY:c,resize:"none"};return u&&(p.minHeight=u),d&&(p.maxHeight=d),p}var iI=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],aI=m.forwardRef(function(e,t){var n=e,r=n.prefixCls,o=n.defaultValue,i=n.value,a=n.autoSize,l=n.onResize,s=n.className,c=n.style,u=n.disabled,d=n.onChange;n.onInternalAutoSize;var f=$t(n,iI),h=pt(Wo(o,{value:i,postState:function(e){return null!=e?e:""}}),2),p=h[0],g=h[1],v=m.useRef();m.useImperativeHandle(t,function(){return{textArea:v.current}});var y=pt(m.useMemo(function(){return a&&"object"===O(a)?[a.minRows,a.maxRows]:[]},[a]),2),b=y[0],x=y[1],w=!!a,C=pt(m.useState(2),2),k=C[0],M=C[1],$=pt(m.useState(),2),I=$[0],N=$[1],T=function(){M(0)};Jt(function(){w&&T()},[i,b,x,w]),Jt(function(){if(0===k)M(1);else if(1===k){var e=oI(v.current,!1,b,x);M(2),N(e)}},[k]);var L=m.useRef(),R=function(){dt.cancel(L.current)};m.useEffect(function(){return R},[]);var _=w?I:null,A=D(D({},c),_);return 0!==k&&1!==k||(A.overflowY="hidden",A.overflowX="hidden"),m.createElement(tt,{onResize:function(e){2===k&&(null==l||l(e),a&&(R(),L.current=dt(function(){T()})))},disabled:!(a||l)},m.createElement("textarea",E({},f,{ref:v,style:A,className:S(r,s,j({},"".concat(r,"-disabled"),u)),disabled:u,value:p,onChange:function(e){g(e.target.value),null==d||d(e)}})))}),lI=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],sI=p.forwardRef(function(e,t){var n,r=e.defaultValue,o=e.value,i=e.onFocus,a=e.onBlur,l=e.onChange,s=e.allowClear,c=e.maxLength,u=e.onCompositionStart,d=e.onCompositionEnd,f=e.suffix,h=e.prefixCls,g=void 0===h?"rc-textarea":h,v=e.showCount,y=e.count,b=e.className,x=e.style,w=e.disabled,C=e.hidden,O=e.classNames,k=e.styles,M=e.onResize,$=e.onClear,I=e.onPressEnter,N=e.readOnly,T=e.autoSize,L=e.onKeyDown,R=$t(e,lI),_=pt(Wo(r,{value:o,defaultValue:r}),2),A=_[0],P=_[1],B=null==A?"":String(A),z=pt(p.useState(!1),2),H=z[0],F=z[1],W=p.useRef(!1),G=pt(p.useState(null),2),V=G[0],q=G[1],X=m.useRef(null),U=m.useRef(null),Y=function(){var e;return null===(e=U.current)||void 0===e?void 0:e.textArea},K=function(){Y().focus()};m.useImperativeHandle(t,function(){var e;return{resizableTextArea:U.current,focus:K,blur:function(){Y().blur()},nativeElement:(null===(e=X.current)||void 0===e?void 0:e.nativeElement)||Y()}}),m.useEffect(function(){F(function(e){return!w&&e})},[w]);var Z=pt(p.useState(null),2),Q=Z[0],J=Z[1];p.useEffect(function(){var e;Q&&(e=Y()).setSelectionRange.apply(e,it(Q))},[Q]);var ee,te=Ck(y,v),ne=null!==(n=te.max)&&void 0!==n?n:c,re=Number(ne)>0,oe=te.strategy(B),ie=!!ne&&oe>ne,ae=function(e,t){var n=t;!W.current&&te.exceedFormatter&&te.max&&te.strategy(t)>te.max&&t!==(n=te.exceedFormatter(t,{max:te.max}))&&J([Y().selectionStart||0,Y().selectionEnd||0]),P(n),yk(e.currentTarget,e,l,n)},le=f;te.show&&(ee=te.showFormatter?te.showFormatter({value:B,count:oe,maxLength:ne}):"".concat(oe).concat(re?" / ".concat(ne):""),le=p.createElement(p.Fragment,null,le,p.createElement("span",{className:S("".concat(g,"-data-count"),null==O?void 0:O.count),style:null==k?void 0:k.count},ee)));var se=!T&&!v&&!s;return p.createElement(xk,{ref:X,value:B,allowClear:s,handleReset:function(e){P(""),K(),yk(Y(),e,l)},suffix:le,prefixCls:g,classNames:D(D({},O),{},{affixWrapper:S(null==O?void 0:O.affixWrapper,j(j({},"".concat(g,"-show-count"),v),"".concat(g,"-textarea-allow-clear"),s))}),disabled:w,focused:H,className:S(b,ie&&"".concat(g,"-out-of-range")),style:D(D({},x),V&&!se?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"==typeof ee?ee:void 0}},hidden:C,readOnly:N,onClear:$},p.createElement(aI,E({},R,{autoSize:T,maxLength:c,onKeyDown:function(e){"Enter"===e.key&&I&&I(e),null==L||L(e)},onChange:function(e){ae(e,e.target.value)},onFocus:function(e){F(!0),null==i||i(e)},onBlur:function(e){F(!1),null==a||a(e)},onCompositionStart:function(e){W.current=!0,null==u||u(e)},onCompositionEnd:function(e){W.current=!1,ae(e,e.currentTarget.value),null==d||d(e)},className:S(null==O?void 0:O.textarea),style:D(D({},null==k?void 0:k.textarea),{},{resize:null==x?void 0:x.resize}),disabled:w,prefixCls:g,onResize:function(e){var t;null==M||M(e),null!==(t=Y())&&void 0!==t&&t.style.height&&q(!0)},ref:U,readOnly:N})))});const cI=gi(["Input","TextArea"],e=>(e=>{const{componentCls:t,paddingLG:n}=e,r=`${t}-textarea`;return{[`textarea${t}`]:{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}`,resize:"vertical",[`&${t}-mouse-active`]:{transition:`all ${e.motionDurationSlow}, height 0s, width 0s`}},[`${t}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[r]:{position:"relative","&-show-count":{[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`\n        &-allow-clear > ${t},\n        &-affix-wrapper${r}-has-feedback ${t}\n      `]:{paddingInlineEnd:n},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-rtl`]:{[`${t}-suffix`]:{[`${t}-data-count`]:{direction:"ltr",insetInlineStart:0}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}})(Xo(e,jS(e))),BS,{resetFont:!1});const uI=m.forwardRef((e,t)=>{var n;const{prefixCls:r,bordered:o=!0,size:i,disabled:a,status:l,allowClear:s,classNames:c,rootClassName:u,className:d,style:f,styles:h,variant:p,showCount:g,onMouseDown:v,onResize:y}=e,b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:x,direction:w,allowClear:C,autoComplete:E,className:O,style:k,classNames:M,styles:$}=ko("textArea"),I=m.useContext(Io),N=null!=a?a:I,{status:T,hasFeedback:L,feedbackIcon:R}=m.useContext(eh),_=ym(T,l),A=m.useRef(null);m.useImperativeHandle(t,()=>{var e;return{resizableTextArea:null===(e=A.current)||void 0===e?void 0:e.resizableTextArea,focus:e=>{var t,n;bk(null===(n=null===(t=A.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.blur()}}});const P=x("input",r),j=Nl(P),[B,D,z]=fE(P,u),[H]=cI(P,j),{compactSize:F,compactItemClassnames:W}=ec(P,w),G=Xs(e=>{var t;return null!==(t=null!=i?i:F)&&void 0!==t?t:e}),[V,q]=km("textArea",p,o),X=Dk(null!=s?s:C),[U,Y]=m.useState(!1),[K,Z]=m.useState(!1);return B(H(m.createElement(sI,Object.assign({autoComplete:E},b,{style:Object.assign(Object.assign({},k),f),styles:Object.assign(Object.assign({},$),h),disabled:N,allowClear:X,className:S(z,j,d,u,W,O,K&&`${P}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},c),M),{textarea:S({[`${P}-sm`]:"small"===G,[`${P}-lg`]:"large"===G},D,null==c?void 0:c.textarea,M.textarea,U&&`${P}-mouse-active`),variant:S({[`${P}-${V}`]:q},vm(P,_)),affixWrapper:S(`${P}-textarea-affix-wrapper`,{[`${P}-affix-wrapper-rtl`]:"rtl"===w,[`${P}-affix-wrapper-sm`]:"small"===G,[`${P}-affix-wrapper-lg`]:"large"===G,[`${P}-textarea-show-count`]:g||(null===(n=e.count)||void 0===n?void 0:n.show)},D)}),prefixCls:P,suffix:L&&m.createElement("span",{className:`${P}-textarea-suffix`},R),showCount:g,ref:A,onResize:e=>{var t,n;if(null==y||y(e),U&&"function"==typeof getComputedStyle){const e=null===(n=null===(t=A.current)||void 0===t?void 0:t.nativeElement)||void 0===n?void 0:n.querySelector("textarea");e&&"both"===getComputedStyle(e).resize&&Z(!0)}},onMouseDown:e=>{Y(!0),null==v||v(e);const t=()=>{Y(!1),document.removeEventListener("mouseup",t)};document.addEventListener("mouseup",t)}}))))}),dI=Hk;dI.Group=e=>{const{getPrefixCls:t,direction:n}=m.useContext(So),{prefixCls:r,className:o}=e,i=t("input-group",r),a=t("input"),[l,s,c]=hE(a),u=S(i,c,{[`${i}-lg`]:"large"===e.size,[`${i}-sm`]:"small"===e.size,[`${i}-compact`]:e.compact,[`${i}-rtl`]:"rtl"===n},s,o),d=m.useContext(eh),f=m.useMemo(()=>Object.assign(Object.assign({},d),{isFormItemInput:!1}),[d]);return l(m.createElement("span",{className:u,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},m.createElement(eh.Provider,{value:f},e.children)))},dI.Search=eI,dI.TextArea=uI,dI.Password=J$,dI.OTP=X$;var fI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function hI({suffixCls:e,tagName:t,displayName:n}){return n=>m.forwardRef((r,o)=>m.createElement(n,Object.assign({ref:o,suffixCls:e,tagName:t},r)))}const pI=m.forwardRef((e,t)=>{const{prefixCls:n,suffixCls:r,className:o,tagName:i}=e,a=fI(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:l}=m.useContext(So),s=l("layout",n),[c,u,d]=lx(s),f=r?`${s}-${r}`:s;return c(m.createElement(i,Object.assign({className:S(n||f,o,u,d),ref:t},a)))}),gI=m.forwardRef((e,t)=>{const{direction:n}=m.useContext(So),[r,o]=m.useState([]),{prefixCls:i,className:a,rootClassName:l,children:s,hasSider:c,tagName:u,style:d}=e,f=js(fI(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),["suffixCls"]),{getPrefixCls:h,className:p,style:g}=ko("layout"),v=h("layout",i),y=function(e,t,n){return"boolean"==typeof n?n:!!e.length||N(t).some(e=>e.type===fx)}(r,s,c),[b,x,w]=lx(v),C=S(v,{[`${v}-has-sider`]:y,[`${v}-rtl`]:"rtl"===n},p,a,l,x,w),E=m.useMemo(()=>({siderHook:{addSider:e=>{o(t=>[].concat(it(t),[e]))},removeSider:e=>{o(t=>t.filter(t=>t!==e))}}}),[]);return b(m.createElement(ox.Provider,{value:E},m.createElement(u,Object.assign({ref:t,className:C,style:Object.assign(Object.assign({},g),d)},f),s)))}),mI=hI({tagName:"div",displayName:"Layout"})(gI),vI=hI({suffixCls:"header",tagName:"header",displayName:"Header"})(pI),yI=hI({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(pI),bI=hI({suffixCls:"content",tagName:"main",displayName:"Content"})(pI),xI=mI;xI.Header=vI,xI.Footer=yI,xI.Content=bI,xI.Sider=fx,xI._InternalSiderContext=ux;var wI={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},CI=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:wI}))},SI=m.forwardRef(CI),EI={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},OI=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:EI}))},kI=m.forwardRef(OI),MI={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""},$I=[10,20,50,100],II=function(e){var t=e.pageSizeOptions,n=void 0===t?$I:t,r=e.locale,o=e.changeSize,i=e.pageSize,a=e.goButton,l=e.quickGo,s=e.rootPrefixCls,c=e.disabled,u=e.buildOptionText,d=e.showSizeChanger,f=e.sizeChangerRender,h=pt(p.useState(""),2),g=h[0],m=h[1],v=function(){return!g||Number.isNaN(g)?void 0:Number(g)},y="function"==typeof u?u:function(e){return"".concat(e," ").concat(r.items_per_page)},b=function(e){""!==g&&(e.keyCode!==Tl.ENTER&&"click"!==e.type||(m(""),null==l||l(v())))},x="".concat(s,"-options");if(!d&&!l)return null;var w=null,C=null,S=null;return d&&f&&(w=f({disabled:c,size:i,onSizeChange:function(e){null==o||o(Number(e))},"aria-label":r.page_size,className:"".concat(x,"-size-changer"),options:(n.some(function(e){return e.toString()===i.toString()})?n:n.concat([i]).sort(function(e,t){return(Number.isNaN(Number(e))?0:Number(e))-(Number.isNaN(Number(t))?0:Number(t))})).map(function(e){return{label:y(e),value:e}})})),l&&(a&&(S="boolean"==typeof a?p.createElement("button",{type:"button",onClick:b,onKeyUp:b,disabled:c,className:"".concat(x,"-quick-jumper-button")},r.jump_to_confirm):p.createElement("span",{onClick:b,onKeyUp:b},a)),C=p.createElement("div",{className:"".concat(x,"-quick-jumper")},r.jump_to,p.createElement("input",{disabled:c,type:"text",value:g,onChange:function(e){m(e.target.value)},onKeyUp:b,onBlur:function(e){a||""===g||(m(""),e.relatedTarget&&(e.relatedTarget.className.indexOf("".concat(s,"-item-link"))>=0||e.relatedTarget.className.indexOf("".concat(s,"-item"))>=0)||null==l||l(v()))},"aria-label":r.page}),r.page,S)),p.createElement("li",{className:x},w,C)},NI=function(e){var t=e.rootPrefixCls,n=e.page,r=e.active,o=e.className,i=e.showTitle,a=e.onClick,l=e.onKeyPress,s=e.itemRender,c="".concat(t,"-item"),u=S(c,"".concat(c,"-").concat(n),j(j({},"".concat(c,"-active"),r),"".concat(c,"-disabled"),!n),o),d=s(n,"page",p.createElement("a",{rel:"nofollow"},n));return d?p.createElement("li",{title:i?String(n):null,className:u,onClick:function(){a(n)},onKeyDown:function(e){l(e,a,n)},tabIndex:0},d):null},TI=function(e,t,n){return n};function LI(){}function RI(e){var t=Number(e);return"number"==typeof t&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function _I(e,t,n){var r=void 0===e?t:e;return Math.floor((n-1)/r)+1}var AI=function(e){var t=e.prefixCls,n=void 0===t?"rc-pagination":t,r=e.selectPrefixCls,o=void 0===r?"rc-select":r,i=e.className,a=e.current,l=e.defaultCurrent,s=void 0===l?1:l,c=e.total,u=void 0===c?0:c,d=e.pageSize,f=e.defaultPageSize,h=void 0===f?10:f,g=e.onChange,v=void 0===g?LI:g,y=e.hideOnSinglePage,b=e.align,x=e.showPrevNextJumpers,w=void 0===x||x,C=e.showQuickJumper,k=e.showLessItems,M=e.showTitle,$=void 0===M||M,I=e.onShowSizeChange,N=void 0===I?LI:I,T=e.locale,L=void 0===T?MI:T,R=e.style,_=e.totalBoundaryShowSizeChanger,A=void 0===_?50:_,P=e.disabled,B=e.simple,z=e.showTotal,H=e.showSizeChanger,F=void 0===H?u>A:H,W=e.sizeChangerRender,G=e.pageSizeOptions,V=e.itemRender,q=void 0===V?TI:V,X=e.jumpPrevIcon,U=e.jumpNextIcon,Y=e.prevIcon,K=e.nextIcon,Z=p.useRef(null),Q=pt(Wo(10,{value:d,defaultValue:h}),2),J=Q[0],ee=Q[1],te=pt(Wo(1,{value:a,defaultValue:s,postState:function(e){return Math.max(1,Math.min(e,_I(void 0,J,u)))}}),2),ne=te[0],re=te[1],oe=pt(p.useState(ne),2),ie=oe[0],ae=oe[1];m.useEffect(function(){ae(ne)},[ne]);var le=Math.max(1,ne-(k?3:5)),se=Math.min(_I(void 0,J,u),ne+(k?3:5));function ce(t,r){var o=t||p.createElement("button",{type:"button","aria-label":r,className:"".concat(n,"-item-link")});return"function"==typeof t&&(o=p.createElement(t,D({},e))),o}function ue(e){var t=e.target.value,n=_I(void 0,J,u);return""===t?t:Number.isNaN(Number(t))?ie:t>=n?n:Number(t)}var de=u>J&&C;function fe(e){var t=ue(e);switch(t!==ie&&ae(t),e.keyCode){case Tl.ENTER:he(t);break;case Tl.UP:he(t-1);break;case Tl.DOWN:he(t+1)}}function he(e){if(function(e){return RI(e)&&e!==ne&&RI(u)&&u>0}(e)&&!P){var t=_I(void 0,J,u),n=e;return e>t?n=t:e<1&&(n=1),n!==ie&&ae(n),re(n),null==v||v(n,J),n}return ne}var pe=ne>1,ge=ne<_I(void 0,J,u);function me(){pe&&he(ne-1)}function ve(){ge&&he(ne+1)}function ye(){he(le)}function be(){he(se)}function xe(e,t){if("Enter"===e.key||e.charCode===Tl.ENTER||e.keyCode===Tl.ENTER){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];t.apply(void 0,r)}}function we(e){"click"!==e.type&&e.keyCode!==Tl.ENTER||he(ie)}var Ce=null,Se=ol(e,{aria:!0,data:!0}),Ee=z&&p.createElement("li",{className:"".concat(n,"-total-text")},z(u,[0===u?0:(ne-1)*J+1,ne*J>u?u:ne*J])),Oe=null,ke=_I(void 0,J,u);if(y&&u<=J)return null;var Me=[],$e={rootPrefixCls:n,onClick:he,onKeyPress:xe,showTitle:$,itemRender:q,page:-1},Ie=ne-1>0?ne-1:0,Ne=ne+1<ke?ne+1:ke,Te=C&&C.goButton,Le="object"===O(B)?B.readOnly:!B,Re=Te,_e=null;B&&(Te&&(Re="boolean"==typeof Te?p.createElement("button",{type:"button",onClick:we,onKeyUp:we},L.jump_to_confirm):p.createElement("span",{onClick:we,onKeyUp:we},Te),Re=p.createElement("li",{title:$?"".concat(L.jump_to).concat(ne,"/").concat(ke):null,className:"".concat(n,"-simple-pager")},Re)),_e=p.createElement("li",{title:$?"".concat(ne,"/").concat(ke):null,className:"".concat(n,"-simple-pager")},Le?ie:p.createElement("input",{type:"text","aria-label":L.jump_to,value:ie,disabled:P,onKeyDown:function(e){e.keyCode!==Tl.UP&&e.keyCode!==Tl.DOWN||e.preventDefault()},onKeyUp:fe,onChange:fe,onBlur:function(e){he(ue(e))},size:3}),p.createElement("span",{className:"".concat(n,"-slash")},"/"),ke));var Ae=k?1:2;if(ke<=3+2*Ae){ke||Me.push(p.createElement(NI,E({},$e,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var Pe=1;Pe<=ke;Pe+=1)Me.push(p.createElement(NI,E({},$e,{key:Pe,page:Pe,active:ne===Pe})))}else{var je=k?L.prev_3:L.prev_5,Be=k?L.next_3:L.next_5,De=q(le,"jump-prev",ce(X,"prev page")),ze=q(se,"jump-next",ce(U,"next page"));w&&(Ce=De?p.createElement("li",{title:$?je:null,key:"prev",onClick:ye,tabIndex:0,onKeyDown:function(e){xe(e,ye)},className:S("".concat(n,"-jump-prev"),j({},"".concat(n,"-jump-prev-custom-icon"),!!X))},De):null,Oe=ze?p.createElement("li",{title:$?Be:null,key:"next",onClick:be,tabIndex:0,onKeyDown:function(e){xe(e,be)},className:S("".concat(n,"-jump-next"),j({},"".concat(n,"-jump-next-custom-icon"),!!U))},ze):null);var He=Math.max(1,ne-Ae),Fe=Math.min(ne+Ae,ke);ne-1<=Ae&&(Fe=1+2*Ae),ke-ne<=Ae&&(He=ke-2*Ae);for(var We=He;We<=Fe;We+=1)Me.push(p.createElement(NI,E({},$e,{key:We,page:We,active:ne===We})));if(ne-1>=2*Ae&&3!==ne&&(Me[0]=p.cloneElement(Me[0],{className:S("".concat(n,"-item-after-jump-prev"),Me[0].props.className)}),Me.unshift(Ce)),ke-ne>=2*Ae&&ne!==ke-2){var Ge=Me[Me.length-1];Me[Me.length-1]=p.cloneElement(Ge,{className:S("".concat(n,"-item-before-jump-next"),Ge.props.className)}),Me.push(Oe)}1!==He&&Me.unshift(p.createElement(NI,E({},$e,{key:1,page:1}))),Fe!==ke&&Me.push(p.createElement(NI,E({},$e,{key:ke,page:ke})))}var Ve,qe=(Ve=q(Ie,"prev",ce(Y,"prev page")),p.isValidElement(Ve)?p.cloneElement(Ve,{disabled:!pe}):Ve);if(qe){var Xe=!pe||!ke;qe=p.createElement("li",{title:$?L.prev_page:null,onClick:me,tabIndex:Xe?null:0,onKeyDown:function(e){xe(e,me)},className:S("".concat(n,"-prev"),j({},"".concat(n,"-disabled"),Xe)),"aria-disabled":Xe},qe)}var Ue,Ye,Ke,Ze=(Ue=q(Ne,"next",ce(K,"next page")),p.isValidElement(Ue)?p.cloneElement(Ue,{disabled:!ge}):Ue);Ze&&(B?(Ye=!ge,Ke=pe?0:null):Ke=(Ye=!ge||!ke)?null:0,Ze=p.createElement("li",{title:$?L.next_page:null,onClick:ve,tabIndex:Ke,onKeyDown:function(e){xe(e,ve)},className:S("".concat(n,"-next"),j({},"".concat(n,"-disabled"),Ye)),"aria-disabled":Ye},Ze));var Qe=S(n,i,j(j(j(j(j({},"".concat(n,"-start"),"start"===b),"".concat(n,"-center"),"center"===b),"".concat(n,"-end"),"end"===b),"".concat(n,"-simple"),B),"".concat(n,"-disabled"),P));return p.createElement("ul",E({className:Qe,style:R,ref:Z},Se),Ee,qe,B?_e:Me,Ze,p.createElement(II,{locale:L,rootPrefixCls:n,disabled:P,selectPrefixCls:o,changeSize:function(e){var t=_I(e,J,u),n=ne>t&&0!==t?t:ne;ee(e),ae(n),null==N||N(ne,e),re(n),null==v||v(n,e)},pageSize:J,pageSizeOptions:G,quickGo:de?he:null,goButton:Re,showSizeChanger:F,sizeChangerRender:W}))};const PI=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed",backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}}}},jI=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:Xt(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:Xt(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:Xt(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`\n    &${t}-mini ${t}-prev ${t}-item-link,\n    &${t}-mini ${t}-next ${t}-item-link\n    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:Xt(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:Xt(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:Xt(e.itemSizeSM),input:Object.assign(Object.assign({},rE(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},BI=e=>{const{componentCls:t}=e;return{[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{height:e.itemSize,lineHeight:Xt(e.itemSize),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSize,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSize,lineHeight:Xt(e.itemSize)}}},[`${t}-simple-pager`]:{display:"inline-flex",alignItems:"center",height:e.itemSize,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",width:e.quickJumperInputWidth,padding:`0 ${Xt(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${Xt(e.inputOutlineOffset)} 0 ${Xt(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}},[`&${t}-disabled`]:{[`${t}-prev, ${t}-next`]:{[`${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}},[`&${t}-mini`]:{[`${t}-prev, ${t}-next`]:{height:e.itemSizeSM,lineHeight:Xt(e.itemSizeSM),[`${t}-item-link`]:{height:e.itemSizeSM,"&::after":{height:e.itemSizeSM,lineHeight:Xt(e.itemSizeSM)}}},[`${t}-simple-pager`]:{height:e.itemSizeSM,input:{width:e.paginationMiniQuickJumperInputWidth}}}}}},DI=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`\n    ${t}-prev,\n    ${t}-jump-prev,\n    ${t}-jump-next\n    `]:{marginInlineEnd:e.marginXS},[`\n    ${t}-prev,\n    ${t}-next,\n    ${t}-jump-prev,\n    ${t}-jump-next\n    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:Xt(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${Xt(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:Xt(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},oE(e)),HS(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},zS(e)),width:e.quickJumperInputWidth,height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},zI=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:Xt(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${Xt(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${Xt(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},HI=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ui(e)),{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:Xt(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),zI(e)),DI(e)),BI(e)),jI(e)),PI(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},FI=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},fi(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},di(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:di(e)}}}},WI=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},BS(e)),GI=e=>Xo(e,{inputOutlineOffset:0,quickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.25).equal(),paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},jS(e)),VI=gi("Pagination",e=>{const t=GI(e);return[HI(t),FI(t)]},WI),qI=vi(["Pagination","bordered"],e=>(e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}})(GI(e)),WI);function XI(e){return m.useMemo(()=>"boolean"==typeof e?[e,{}]:e&&"object"==typeof e?[!0,e]:[void 0,void 0],[e])}const UI=e=>{const{align:t,prefixCls:n,selectPrefixCls:r,className:o,rootClassName:i,style:a,size:l,locale:s,responsive:c,showSizeChanger:u,selectComponentClass:d,pageSizeOptions:f}=e,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:p}=xv(c),[,g]=si(),{getPrefixCls:v,direction:y,showSizeChanger:b,className:x,style:w}=ko("pagination"),C=v("pagination",n),[E,O,k]=VI(C),M=Xs(l),$="small"===M||!(!p||M||!c),[I]=Ar("Pagination",Er),N=Object.assign(Object.assign({},I),s),[T,L]=XI(u),[R,_]=XI(b),A=null!=T?T:R,P=null!=L?L:_,j=d||hv,B=m.useMemo(()=>f?f.map(e=>Number(e)):void 0,[f]),D=m.useMemo(()=>{const e=m.createElement("span",{className:`${C}-item-ellipsis`},"");return{prevIcon:m.createElement("button",{className:`${C}-item-link`,type:"button",tabIndex:-1},"rtl"===y?m.createElement(Oc,null):m.createElement(My,null)),nextIcon:m.createElement("button",{className:`${C}-item-link`,type:"button",tabIndex:-1},"rtl"===y?m.createElement(My,null):m.createElement(Oc,null)),jumpPrevIcon:m.createElement("a",{className:`${C}-item-link`},m.createElement("div",{className:`${C}-item-container`},"rtl"===y?m.createElement(kI,{className:`${C}-item-link-icon`}):m.createElement(SI,{className:`${C}-item-link-icon`}),e)),jumpNextIcon:m.createElement("a",{className:`${C}-item-link`},m.createElement("div",{className:`${C}-item-container`},"rtl"===y?m.createElement(SI,{className:`${C}-item-link-icon`}):m.createElement(kI,{className:`${C}-item-link-icon`}),e))}},[y,C]),z=v("select",r),H=S({[`${C}-${t}`]:!!t,[`${C}-mini`]:$,[`${C}-rtl`]:"rtl"===y,[`${C}-bordered`]:g.wireframe},x,o,i,O,k),F=Object.assign(Object.assign({},w),a);return E(m.createElement(m.Fragment,null,g.wireframe&&m.createElement(qI,{prefixCls:C}),m.createElement(AI,Object.assign({},D,h,{style:F,prefixCls:C,selectPrefixCls:z,className:H,locale:N,pageSizeOptions:B,showSizeChanger:A,sizeChangerRender:e=>{var t;const{disabled:n,size:r,onSizeChange:o,"aria-label":i,className:a,options:l}=e,{className:s,onChange:c}=P||{},u=null===(t=l.find(e=>String(e.value)===String(r)))||void 0===t?void 0:t.value;return m.createElement(j,Object.assign({disabled:n,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:e=>e.parentNode,"aria-label":i,options:l},P,{value:u,onChange:(e,t)=>{null==o||o(e),null==c||c(e,t)},size:$?"small":"middle",className:S(a,s)}))}}))))},YI=80*Math.PI,KI=e=>{const{dotClassName:t,style:n,hasCircleCls:r}=e;return m.createElement("circle",{className:S(`${t}-circle`,{[`${t}-circle-bg`]:r}),r:40,cx:50,cy:50,strokeWidth:20,style:n})},ZI=({percent:e,prefixCls:t})=>{const n=`${t}-dot`,r=`${n}-holder`,o=`${r}-hidden`,[i,a]=m.useState(!1);Jt(()=>{0!==e&&a(!0)},[0!==e]);const l=Math.max(Math.min(e,100),0);if(!i)return null;const s={strokeDashoffset:""+YI/4,strokeDasharray:`${YI*l/100} ${YI*(100-l)/100}`};return m.createElement("span",{className:S(r,`${n}-progress`,l<=0&&o)},m.createElement("svg",{viewBox:"0 0 100 100",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":l},m.createElement(KI,{dotClassName:n,hasCircleCls:!0}),m.createElement(KI,{dotClassName:n,style:s})))};function QI(e){const{prefixCls:t,percent:n=0}=e,r=`${t}-dot`,o=`${r}-holder`,i=`${o}-hidden`;return m.createElement(m.Fragment,null,m.createElement("span",{className:S(o,n>0&&i)},m.createElement("span",{className:S(r,`${t}-dot-spin`)},[1,2,3,4].map(e=>m.createElement("i",{className:`${t}-dot-item`,key:e})))),m.createElement(ZI,{prefixCls:t,percent:n}))}function JI(e){var t;const{prefixCls:n,indicator:r,percent:o}=e,i=`${n}-dot`;return r&&m.isValidElement(r)?ll(r,{className:S(null===(t=r.props)||void 0===t?void 0:t.className,i),percent:o}):m.createElement(QI,{prefixCls:n,percent:o})}const eN=new ur("antSpinMove",{to:{opacity:1}}),tN=new ur("antRotate",{to:{transform:"rotate(405deg)"}}),nN=gi("Spin",e=>(e=>{const{componentCls:t,calc:n}=e;return{[t]:Object.assign(Object.assign({},ui(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:n(n(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:n(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:n(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),height:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:eN,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:tN,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(t=>`${t} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal(),height:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}})(Xo(e,{spinDotDefault:e.colorTextDescription})),e=>{const{controlHeightLG:t,controlHeight:n}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:.35*t,dotSizeLG:n}}),rN=[[30,.05],[70,.03],[96,.01]];let oN;const iN=e=>{var t;const{prefixCls:n,spinning:r=!0,delay:o=0,className:i,rootClassName:a,size:l="default",tip:s,wrapperClassName:c,style:u,children:d,fullscreen:f=!1,indicator:h,percent:p}=e,g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:v,direction:y,className:b,style:x,indicator:w}=ko("spin"),C=v("spin",n),[E,O,k]=nN(C),[M,$]=m.useState(()=>r&&!function(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}(r,o)),I=function(e,t){const[n,r]=m.useState(0),o=m.useRef(null),i="auto"===t;return m.useEffect(()=>(i&&e&&(r(0),o.current=setInterval(()=>{r(e=>{const t=100-e;for(let n=0;n<rN.length;n+=1){const[r,o]=rN[n];if(e<=r)return e+t*o}return e})},200)),()=>{o.current&&(clearInterval(o.current),o.current=null)}),[i,e]),i?n:t}(M,p);m.useEffect(()=>{if(r){const e=OO(o,()=>{$(!0)});return e(),()=>{var t;null===(t=null==e?void 0:e.cancel)||void 0===t||t.call(e)}}$(!1)},[o,r]);const N=m.useMemo(()=>void 0!==d&&!f,[d,f]),T=S(C,b,{[`${C}-sm`]:"small"===l,[`${C}-lg`]:"large"===l,[`${C}-spinning`]:M,[`${C}-show-text`]:!!s,[`${C}-rtl`]:"rtl"===y},i,!f&&a,O,k),L=S(`${C}-container`,{[`${C}-blur`]:M}),R=null!==(t=null!=h?h:w)&&void 0!==t?t:oN,_=Object.assign(Object.assign({},x),u),A=m.createElement("div",Object.assign({},g,{style:_,className:T,"aria-live":"polite","aria-busy":M}),m.createElement(JI,{prefixCls:C,indicator:R,percent:I}),s&&(N||f)?m.createElement("div",{className:`${C}-text`},s):null);return E(N?m.createElement("div",Object.assign({},g,{className:S(`${C}-nested-loading`,c,O,k)}),M&&m.createElement("div",{key:"loading"},A),m.createElement("div",{className:L,key:"container"},d)):f?m.createElement("div",{className:S(`${C}-fullscreen`,{[`${C}-fullscreen-show`]:M},a,O,k)},A):A)};iN.setDefaultIndicator=e=>{oN=e};const aN=p.createContext({});aN.Consumer;var lN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const sN=p.forwardRef((e,t)=>{const{prefixCls:n,children:r,actions:o,extra:i,styles:a,className:l,classNames:s,colStyle:c}=e,u=lN(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:d,itemLayout:f}=m.useContext(aN),{getPrefixCls:h,list:g}=m.useContext(So),v=e=>{var t,n;return S(null===(n=null===(t=null==g?void 0:g.item)||void 0===t?void 0:t.classNames)||void 0===n?void 0:n[e],null==s?void 0:s[e])},y=e=>{var t,n;return Object.assign(Object.assign({},null===(n=null===(t=null==g?void 0:g.item)||void 0===t?void 0:t.styles)||void 0===n?void 0:n[e]),null==a?void 0:a[e])},b=h("list",n),x=o&&o.length>0&&p.createElement("ul",{className:S(`${b}-item-action`,v("actions")),key:"actions",style:y("actions")},o.map((e,t)=>p.createElement("li",{key:`${b}-item-action-${t}`},e,t!==o.length-1&&p.createElement("em",{className:`${b}-item-action-split`})))),w=d?"div":"li",C=p.createElement(w,Object.assign({},u,d?{}:{ref:t},{className:S(`${b}-item`,{[`${b}-item-no-flex`]:!("vertical"===f?i:!(()=>{let e=!1;return m.Children.forEach(r,t=>{"string"==typeof t&&(e=!0)}),e&&m.Children.count(r)>1})())},l)}),"vertical"===f&&i?[p.createElement("div",{className:`${b}-item-main`,key:"content"},r,x),p.createElement("div",{className:S(`${b}-item-extra`,v("extra")),key:"extra",style:y("extra")},i)]:[r,x,ll(i,{key:"extra"})]);return d?p.createElement(YO,{ref:t,flex:1,style:c},C):C});sN.Meta=e=>{var{prefixCls:t,className:n,avatar:r,title:o,description:i}=e,a=lN(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:l}=m.useContext(So),s=l("list",t),c=S(`${s}-item-meta`,n),u=p.createElement("div",{className:`${s}-item-meta-content`},o&&p.createElement("h4",{className:`${s}-item-meta-title`},o),i&&p.createElement("div",{className:`${s}-item-meta-description`},i));return p.createElement("div",Object.assign({},a,{className:c}),r&&p.createElement("div",{className:`${s}-item-meta-avatar`},r),(o||i)&&u)};const cN=e=>{const{listBorderedCls:t,componentCls:n,paddingLG:r,margin:o,itemPaddingSM:i,itemPaddingLG:a,marginLG:l,borderRadiusLG:s}=e,c=Xt(e.calc(s).sub(e.lineWidth).equal());return{[t]:{border:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:s,[`${n}-header`]:{borderRadius:`${c} ${c} 0 0`},[`${n}-footer`]:{borderRadius:`0 0 ${c} ${c}`},[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${Xt(o)} ${Xt(l)}`}},[`${t}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:i}},[`${t}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:a}}}},uN=e=>{const{componentCls:t,screenSM:n,screenMD:r,marginLG:o,marginSM:i,margin:a}=e;return{[`@media screen and (max-width:${r}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:o}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:o}}}},[`@media screen and (max-width: ${n}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:i}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${Xt(a)}`}}}}}},dN=e=>{const{componentCls:t,antCls:n,controlHeight:r,minHeight:o,paddingSM:i,marginLG:a,padding:l,itemPadding:s,colorPrimary:c,itemPaddingSM:u,itemPaddingLG:d,paddingXS:f,margin:h,colorText:p,colorTextDescription:g,motionDurationSlow:m,lineWidth:v,headerBg:y,footerBg:b,emptyTextPadding:x,metaMarginBottom:w,avatarMarginRight:C,titleMarginBottom:S,descriptionFontSize:E}=e;return{[t]:Object.assign(Object.assign({},ui(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:y},[`${t}-footer`]:{background:b},[`${t}-header, ${t}-footer`]:{paddingBlock:i},[`${t}-pagination`]:{marginBlockStart:a,[`${n}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:o,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:s,color:p,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:C},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:p},[`${t}-item-meta-title`]:{margin:`0 0 ${Xt(e.marginXXS)} 0`,color:p,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:p,transition:`all ${m}`,"&:hover":{color:c}}},[`${t}-item-meta-description`]:{color:g,fontSize:E,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${Xt(f)}`,color:g,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:v,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${Xt(l)} 0`,color:g,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:x,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${n}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:h,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:a},[`${t}-item-meta`]:{marginBlockEnd:w,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:S,color:p,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:l,marginInlineStart:"auto","> li":{padding:`0 ${Xt(l)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:r},[`${t}-split${t}-something-after-last-item ${n}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:d},[`${t}-sm ${t}-item`]:{padding:u},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},fN=gi("List",e=>{const t=Xo(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[dN(t),cN(t),uN(t)]},e=>({contentWidth:220,itemPadding:`${Xt(e.paddingContentVertical)} 0`,itemPaddingSM:`${Xt(e.paddingContentVerticalSM)} ${Xt(e.paddingContentHorizontal)}`,itemPaddingLG:`${Xt(e.paddingContentVerticalLG)} ${Xt(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}));function hN(e,t){const{pagination:n=!1,prefixCls:r,bordered:o=!1,split:i=!0,className:a,rootClassName:l,style:s,children:c,itemLayout:u,loadMore:d,grid:f,dataSource:h=[],size:p,header:g,footer:v,loading:y=!1,rowKey:b,renderItem:x,locale:w}=e,C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),E=n&&"object"==typeof n?n:{},[O,k]=m.useState(E.defaultCurrent||1),[M,$]=m.useState(E.defaultPageSize||10),{getPrefixCls:I,direction:N,className:T,style:L}=ko("list"),{renderEmpty:R}=m.useContext(So),_=e=>(t,r)=>{var o;k(t),$(r),n&&(null===(o=null==n?void 0:n[e])||void 0===o||o.call(n,t,r))},A=_("onChange"),P=_("onShowSizeChange"),j=(e,t)=>{if(!x)return null;let n;return n="function"==typeof b?b(e):b?e[b]:e.key,n||(n=`list-item-${t}`),m.createElement(m.Fragment,{key:n},x(e,t))},B=!!(d||n||v),D=I("list",r),[z,H,F]=fN(D);let W=y;"boolean"==typeof W&&(W={spinning:W});const G=!!(null==W?void 0:W.spinning);let V="";switch(Xs(p)){case"large":V="lg";break;case"small":V="sm"}const q=S(D,{[`${D}-vertical`]:"vertical"===u,[`${D}-${V}`]:V,[`${D}-split`]:i,[`${D}-bordered`]:o,[`${D}-loading`]:G,[`${D}-grid`]:!!f,[`${D}-something-after-last-item`]:B,[`${D}-rtl`]:"rtl"===N},T,a,l,H,F),X=oh({current:1,total:0,position:"bottom"},{total:h.length,current:O,pageSize:M},n||{}),U=Math.ceil(X.total/X.pageSize);X.current=Math.min(X.current,U);const Y=n&&m.createElement("div",{className:S(`${D}-pagination`)},m.createElement(UI,Object.assign({align:"end"},X,{onChange:A,onShowSizeChange:P})));let K=it(h);n&&h.length>(X.current-1)*X.pageSize&&(K=it(h).splice((X.current-1)*X.pageSize,X.pageSize));const Z=xv(Object.keys(f||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e))),Q=m.useMemo(()=>{for(let e=0;e<vv.length;e+=1){const t=vv[e];if(Z[t])return t}},[Z]),J=m.useMemo(()=>{if(!f)return;const e=Q&&f[Q]?f[Q]:f.column;return e?{width:100/e+"%",maxWidth:100/e+"%"}:void 0},[JSON.stringify(f),Q]);let ee=G&&m.createElement("div",{style:{minHeight:53}});if(K.length>0){const e=K.map(j);ee=f?m.createElement(ZO,{gutter:f.gutter},m.Children.map(e,e=>m.createElement("div",{key:null==e?void 0:e.key,style:J},e))):m.createElement("ul",{className:`${D}-items`},e)}else c||G||(ee=m.createElement("div",{className:`${D}-empty-text`},(null==w?void 0:w.emptyText)||(null==R?void 0:R("List"))||m.createElement(Om,{componentName:"List"})));const te=X.position,ne=m.useMemo(()=>({grid:f,itemLayout:u}),[JSON.stringify(f),u]);return z(m.createElement(aN.Provider,{value:ne},m.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},L),s),className:q},C),("top"===te||"both"===te)&&Y,g&&m.createElement("div",{className:`${D}-header`},g),m.createElement(iN,Object.assign({},W),ee,c),v&&m.createElement("div",{className:`${D}-footer`},v),d||("bottom"===te||"both"===te)&&Y)))}const pN=m.forwardRef(hN);pN.Item=sN;let gN=null,mN=e=>e(),vN=[],yN={};function bN(){const{getContainer:e,duration:t,rtl:n,maxCount:r,top:o}=yN,i=(null==e?void 0:e())||document.body;return{getContainer:()=>i,duration:t,rtl:n,maxCount:r,top:o}}const xN=p.forwardRef((e,t)=>{const{messageConfig:n,sync:r}=e,{getPrefixCls:o}=m.useContext(So),i=yN.prefixCls||o("message"),a=m.useContext(mp),[l,s]=is(Object.assign(Object.assign(Object.assign({},n),{prefixCls:i}),a.message));return p.useImperativeHandle(t,()=>{const e=Object.assign({},l);return Object.keys(e).forEach(t=>{e[t]=(...e)=>(r(),l[t].apply(l,e))}),{instance:e,sync:r}}),s}),wN=p.forwardRef((e,t)=>{const[n,r]=p.useState(bN),o=()=>{r(bN)};p.useEffect(o,[]);const i=Oa(),a=i.getRootPrefixCls(),l=i.getIconPrefixCls(),s=i.getTheme(),c=p.createElement(xN,{ref:t,sync:o,messageConfig:n});return p.createElement(Ma,{prefixCls:a,iconPrefixCls:l,theme:s},i.holderRender?i.holderRender(c):c)}),CN=()=>{if(!gN){const e=document.createDocumentFragment(),t={fragment:e};return gN=t,void mN(()=>{Ns()(p.createElement(wN,{ref:e=>{const{instance:n,sync:r}=e||{};Promise.resolve().then(()=>{!t.instance&&n&&(t.instance=n,t.sync=r,CN())})}}),e)})}gN.instance&&(vN.forEach(e=>{const{type:t,skipped:n}=e;if(!n)switch(t){case"open":mN(()=>{const t=gN.instance.open(Object.assign(Object.assign({},yN),e.config));null==t||t.then(e.resolve),e.setCloseFn(t)});break;case"destroy":mN(()=>{null==gN||gN.instance.destroy(e.key)});break;default:mN(()=>{var n;const r=(n=gN.instance)[t].apply(n,it(e.args));null==r||r.then(e.resolve),e.setCloseFn(r)})}}),vN=[])};const SN={open:function(e){const t=Jl(t=>{let n;const r={type:"open",config:e,resolve:t,setCloseFn:e=>{n=e}};return vN.push(r),()=>{n?mN(()=>{n()}):r.skipped=!0}});return CN(),t},destroy:e=>{vN.push({type:"destroy",key:e}),CN()},config:function(e){yN=Object.assign(Object.assign({},yN),e),mN(()=>{var e;null===(e=null==gN?void 0:gN.sync)||void 0===e||e.call(gN)})},useMessage:function(e){return is(e)},_InternalPanelDoNotUseOrYouWillBeFired:e=>{const{prefixCls:t,className:n,type:r,icon:o,content:i}=e,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=m.useContext(So),s=t||l("message"),c=Nl(s),[u,d,f]=Kl(s,c);return u(m.createElement(Ll,Object.assign({},a,{prefixCls:s,className:S(n,d,`${s}-notice-pure-panel`,f,c),eventKey:"pure",duration:null,content:m.createElement(Ql,{prefixCls:s,type:r,icon:o},i)})))}},EN=SN;["success","info","warning","error","loading"].forEach(e=>{EN[e]=(...t)=>function(e,t){const n=Jl(n=>{let r;const o={type:e,args:t,resolve:n,setCloseFn:e=>{r=e}};return vN.push(o),()=>{r?mN(()=>{r()}):o.skipped=!0}});return CN(),n}(e,t)});const ON=vp(e=>{const{prefixCls:t,className:n,closeIcon:r,closable:o,type:i,title:a,children:l,footer:s}=e,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:u}=m.useContext(So),d=u(),f=t||u("modal"),h=Nl(d),[p,g,v]=Uh(f,h),y=`${f}-confirm`;let b={};return b=i?{closable:null!=o&&o,title:"",footer:"",children:m.createElement(Jh,Object.assign({},e,{prefixCls:f,confirmPrefixCls:y,rootPrefixCls:d,content:l}))}:{closable:null==o||o,title:a,footer:null!==s&&m.createElement(Ah,Object.assign({},e)),children:l},p(m.createElement(Pd,Object.assign({prefixCls:f,className:S(g,`${f}-pure-panel`,i&&y,i&&`${y}-${i}`,n,v,h)},c,{closeIcon:_h(f,r),closable:o},b)))});function kN(e){return ap(lp(e))}const MN=Zh;MN.useModal=function(){const e=m.useRef(null),[t,n]=m.useState([]);m.useEffect(()=>{if(t.length){it(t).forEach(e=>{e()}),n([])}},[t]);const r=m.useCallback(t=>function(r){var o;pp+=1;const i=m.createRef();let a;const l=new Promise(e=>{a=e});let s,c=!1;const u=m.createElement(hp,{key:`modal-${pp}`,config:t(r),ref:i,afterClose:()=>{null==s||s()},isSilent:()=>c,onConfirm:e=>{a(e)}});s=null===(o=e.current)||void 0===o?void 0:o.patchElement(u),s&&np.push(s);return{destroy:()=>{function e(){var e;null===(e=i.current)||void 0===e||e.destroy()}i.current?e():n(t=>[].concat(it(t),[e]))},update:e=>{function t(){var t;null===(t=i.current)||void 0===t||t.update(e)}i.current?t():n(e=>[].concat(it(e),[t]))},then:e=>(c=!0,l.then(e))}},[]);return[m.useMemo(()=>({info:r(sp),success:r(cp),error:r(up),warning:r(lp),confirm:r(dp)}),[r]),m.createElement(gp,{key:"modal-holder",ref:e})]},MN.info=function(e){return ap(sp(e))},MN.success=function(e){return ap(cp(e))},MN.error=function(e){return ap(up(e))},MN.warning=kN,MN.warn=kN,MN.confirm=function(e){return ap(dp(e))},MN.destroyAll=function(){for(;np.length;){const e=np.pop();e&&e()}},MN.config=function({rootPrefixCls:e}){rp=e},MN._InternalPanelDoNotUseOrYouWillBeFired=ON;const $N=gi("Popconfirm",e=>(e=>{const{componentCls:t,iconCls:n,antCls:r,zIndexPopup:o,colorText:i,colorWarning:a,marginXXS:l,marginXS:s,fontSize:c,fontWeightStrong:u,colorTextHeading:d}=e;return{[t]:{zIndex:o,[`&${r}-popover`]:{fontSize:c},[`${t}-message`]:{marginBottom:s,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${n}`]:{color:a,fontSize:c,lineHeight:1,marginInlineEnd:s},[`${t}-title`]:{fontWeight:u,color:d,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:l,color:i}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:s}}}}})(e),e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}},{resetStyle:!1});const IN=e=>{const{prefixCls:t,okButtonProps:n,cancelButtonProps:r,title:o,description:i,cancelText:a,okText:l,okType:s="primary",icon:c=m.createElement(Qa,null),showCancel:u=!0,close:d,onConfirm:f,onCancel:h,onPopupClick:p}=e,{getPrefixCls:g}=m.useContext(So),[v]=Ar("Popconfirm",Ir.Popconfirm),y=kv(o),b=kv(i);return m.createElement("div",{className:`${t}-inner-content`,onClick:p},m.createElement("div",{className:`${t}-message`},c&&m.createElement("span",{className:`${t}-message-icon`},c),m.createElement("div",{className:`${t}-message-text`},y&&m.createElement("div",{className:`${t}-title`},y),b&&m.createElement("div",{className:`${t}-description`},b))),m.createElement("div",{className:`${t}-buttons`},u&&m.createElement(cd,Object.assign({onClick:h,size:"small"},r),a||(null==v?void 0:v.cancelText)),m.createElement(dd,{buttonProps:Object.assign(Object.assign({size:"small"},ac(s)),n),actionFn:f,close:d,prefixCls:g("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},l||(null==v?void 0:v.okText))))};const NN=m.forwardRef((e,t)=>{var n,r;const{prefixCls:o,placement:i="top",trigger:a="click",okType:l="primary",icon:s=m.createElement(Qa,null),children:c,overlayClassName:u,onOpenChange:d,onVisibleChange:f,overlayStyle:h,styles:p,classNames:g}=e,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:y,className:b,style:x,classNames:w,styles:C}=ko("popconfirm"),[E,O]=Wo(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),k=(e,t)=>{O(e,!0),null==f||f(e),null==d||d(e,t)},M=y("popconfirm",o),$=S(M,b,u,w.root,null==g?void 0:g.root),I=S(w.body,null==g?void 0:g.body),[N]=$N(M);return N(m.createElement(ay,Object.assign({},js(v,["title"]),{trigger:a,placement:i,onOpenChange:(t,n)=>{const{disabled:r=!1}=e;r||k(t,n)},open:E,ref:t,classNames:{root:$,body:I},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},C.root),x),h),null==p?void 0:p.root),body:Object.assign(Object.assign({},C.body),null==p?void 0:p.body)},content:m.createElement(IN,Object.assign({okType:l,icon:s},e,{prefixCls:M,close:e=>{k(!1,e)},onConfirm:t=>{var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(void 0,t)},onCancel:t=>{var n;k(!1,t),null===(n=e.onCancel)||void 0===n||n.call(void 0,t)}})),"data-popover-inject":!0}),c))}),TN=NN;TN._InternalPanelDoNotUseOrYouWillBeFired=e=>{const{prefixCls:t,placement:n,className:r,style:o}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","placement","className","style"]),{getPrefixCls:a}=m.useContext(So),l=a("popconfirm",t),[s]=$N(l);return s(m.createElement(oy,{placement:n,className:S(l,r),style:o,content:m.createElement(IN,Object.assign({prefixCls:l},i))}))};var LN={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},RN=0,_N=mt();const AN=function(e){var t=pt(m.useState(),2),n=t[0],r=t[1];return m.useEffect(function(){var e;r("rc_progress_".concat((_N?(e=RN,RN+=1):e="TEST_OR_SSR",e)))},[]),e||n};var PN=function(e){var t=e.bg,n=e.children;return m.createElement("div",{style:{width:"100%",height:"100%",background:t}},n)};function jN(e,t){return Object.keys(e).map(function(n){var r=parseFloat(n),o="".concat(Math.floor(r*t),"%");return"".concat(e[n]," ").concat(o)})}var BN=m.forwardRef(function(e,t){var n=e.prefixCls,r=e.color,o=e.gradientId,i=e.radius,a=e.style,l=e.ptg,s=e.strokeLinecap,c=e.strokeWidth,u=e.size,d=e.gapDegree,f=r&&"object"===O(r),h=f?"#FFF":void 0,p=u/2,g=m.createElement("circle",{className:"".concat(n,"-circle-path"),r:i,cx:p,cy:p,stroke:h,strokeLinecap:s,strokeWidth:c,opacity:0===l?0:1,style:a,ref:t});if(!f)return g;var v="".concat(o,"-conic"),y=d?"".concat(180+d/2,"deg"):"0deg",b=jN(r,(360-d)/360),x=jN(r,1),w="conic-gradient(from ".concat(y,", ").concat(b.join(", "),")"),C="linear-gradient(to ".concat(d?"bottom":"top",", ").concat(x.join(", "),")");return m.createElement(m.Fragment,null,m.createElement("mask",{id:v},g),m.createElement("foreignObject",{x:0,y:0,width:u,height:u,mask:"url(#".concat(v,")")},m.createElement(PN,{bg:C},m.createElement(PN,{bg:w}))))}),DN=100,zN=function(e,t,n,r,o,i,a,l,s,c){var u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,d=n/100*360*((360-i)/360),f=0===i?0:{bottom:0,top:180,left:90,right:-90}[a],h=(100-r)/100*t;"round"===s&&100!==r&&(h+=c/2)>=t&&(h=t-.01);return{stroke:"string"==typeof l?l:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:h+u,transform:"rotate(".concat(o+d+f,"deg)"),transformOrigin:"".concat(50,"px ").concat(50,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},HN=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function FN(e){var t=null!=e?e:[];return Array.isArray(t)?t:[t]}var WN=function(e){var t,n,r,o,i,a=D(D({},LN),e),l=a.id,s=a.prefixCls,c=a.steps,u=a.strokeWidth,d=a.trailWidth,f=a.gapDegree,h=void 0===f?0:f,p=a.gapPosition,g=a.trailColor,v=a.strokeLinecap,y=a.style,b=a.className,x=a.strokeColor,w=a.percent,C=$t(a,HN),k=AN(l),M="".concat(k,"-gradient"),$=50-u/2,I=2*Math.PI*$,N=h>0?90+h/2:-90,T=I*((360-h)/360),L="object"===O(c)?c:{count:c,gap:2},R=L.count,_=L.gap,A=FN(w),P=FN(x),j=P.find(function(e){return e&&"object"===O(e)}),B=j&&"object"===O(j)?"butt":v,z=zN(I,T,0,100,N,h,p,g,B,u),H=(t=m.useRef([]),n=m.useRef(null),m.useEffect(function(){var e=Date.now(),r=!1;t.current.forEach(function(t){if(t){r=!0;var o=t.style;o.transitionDuration=".3s, .3s, .3s, .06s",n.current&&e-n.current<100&&(o.transitionDuration="0s, 0s")}}),r&&(n.current=Date.now())}),t.current);return m.createElement("svg",E({className:S("".concat(s,"-circle"),b),viewBox:"0 0 ".concat(DN," ").concat(DN),style:y,id:l,role:"presentation"},C),!R&&m.createElement("circle",{className:"".concat(s,"-circle-trail"),r:$,cx:50,cy:50,stroke:g,strokeLinecap:B,strokeWidth:d||u,style:z}),R?(r=Math.round(R*(A[0]/100)),o=100/R,i=0,new Array(R).fill(null).map(function(e,t){var n=t<=r-1?P[0]:g,a=n&&"object"===O(n)?"url(#".concat(M,")"):void 0,l=zN(I,T,i,o,N,h,p,n,"butt",u,_);return i+=100*(T-l.strokeDashoffset+_)/T,m.createElement("circle",{key:t,className:"".concat(s,"-circle-path"),r:$,cx:50,cy:50,stroke:a,strokeWidth:u,opacity:1,style:l,ref:function(e){H[t]=e}})})):function(){var e=0;return A.map(function(t,n){var r=P[n]||P[P.length-1],o=zN(I,T,e,t,N,h,p,r,B,u);return e+=t,m.createElement(BN,{key:n,color:r,ptg:t,radius:$,prefixCls:s,gradientId:M,style:o,strokeLinecap:B,strokeWidth:u,gapDegree:h,ref:function(e){H[n]=e},size:DN})}).reverse()}())};function GN(e){return!e||e<0?0:e>100?100:e}function VN({success:e,successPercent:t}){let n=t;return e&&"progress"in e&&(n=e.progress),e&&"percent"in e&&(n=e.percent),n}const qN=(e,t,n)=>{var r,o,i,a;let l=-1,s=-1;if("step"===t){const t=n.steps,r=n.strokeWidth;"string"==typeof e||void 0===e?(l="small"===e?2:14,s=null!=r?r:8):"number"==typeof e?[l,s]=[e,e]:[l=14,s=8]=Array.isArray(e)?e:[e.width,e.height],l*=t}else if("line"===t){const t=null==n?void 0:n.strokeWidth;"string"==typeof e||void 0===e?s=t||("small"===e?6:8):"number"==typeof e?[l,s]=[e,e]:[l=-1,s=8]=Array.isArray(e)?e:[e.width,e.height]}else"circle"!==t&&"dashboard"!==t||("string"==typeof e||void 0===e?[l,s]="small"===e?[60,60]:[120,120]:"number"==typeof e?[l,s]=[e,e]:Array.isArray(e)&&(l=null!==(o=null!==(r=e[0])&&void 0!==r?r:e[1])&&void 0!==o?o:120,s=null!==(a=null!==(i=e[0])&&void 0!==i?i:e[1])&&void 0!==a?a:120));return[l,s]},XN=e=>{const{prefixCls:t,trailColor:n=null,strokeLinecap:r="round",gapPosition:o,gapDegree:i,width:a=120,type:l,children:s,success:c,size:u=a,steps:d}=e,[f,h]=qN(u,"circle");let{strokeWidth:p}=e;void 0===p&&(p=Math.max((e=>3/e*100)(f),6));const g={width:f,height:h,fontSize:.15*f+6},v=m.useMemo(()=>i||0===i?i:"dashboard"===l?75:void 0,[i,l]),y=(({percent:e,success:t,successPercent:n})=>{const r=GN(VN({success:t,successPercent:n}));return[r,GN(GN(e)-r)]})(e),b=o||"dashboard"===l&&"bottom"||void 0,x="[object Object]"===Object.prototype.toString.call(e.strokeColor),w=(({success:e={},strokeColor:t})=>{const{strokeColor:n}=e;return[n||Yr.green,t||null]})({success:c,strokeColor:e.strokeColor}),C=S(`${t}-inner`,{[`${t}-circle-gradient`]:x}),E=m.createElement(WN,{steps:d,percent:d?y[1]:y,strokeWidth:p,trailWidth:p,strokeColor:d?w[1]:w,strokeLinecap:r,trailColor:n,prefixCls:t,gapDegree:v,gapPosition:b}),O=f<=20,k=m.createElement("div",{className:C,style:g},E,!O&&s);return O?m.createElement(Qv,{title:s},k):k},UN="--progress-line-stroke-color",YN="--progress-percent",KN=e=>{const t=e?"100%":"-100%";return new ur(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},ZN=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},ui(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${UN})`]},height:"100%",width:`calc(1 / var(${YN}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${Xt(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:KN(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:KN(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},QN=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},JN=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},eT=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${n}`]:{fontSize:e.fontSizeSM}}}},tT=gi("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=Xo(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[ZN(n),QN(n),JN(n),eT(n)]},e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:e.fontSize/e.fontSizeSM+"em"}));const nT=(e,t)=>{const{from:n=Yr.blue,to:r=Yr.blue,direction:o=("rtl"===t?"to left":"to right")}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["from","to","direction"]);if(0!==Object.keys(i).length){const e=`linear-gradient(${o}, ${(e=>{let t=[];return Object.keys(e).forEach(n=>{const r=Number.parseFloat(n.replace(/%/g,""));Number.isNaN(r)||t.push({key:r,value:e[n]})}),t=t.sort((e,t)=>e.key-t.key),t.map(({key:e,value:t})=>`${t} ${e}%`).join(", ")})(i)})`;return{background:e,[UN]:e}}const a=`linear-gradient(${o}, ${n}, ${r})`;return{background:a,[UN]:a}},rT=e=>{const{prefixCls:t,direction:n,percent:r,size:o,strokeWidth:i,strokeColor:a,strokeLinecap:l="round",children:s,trailColor:c=null,percentPosition:u,success:d}=e,{align:f,type:h}=u,p=a&&"string"!=typeof a?nT(a,n):{[UN]:a,background:a},g="square"===l||"butt"===l?0:void 0,v=null!=o?o:[-1,i||("small"===o?6:8)],[y,b]=qN(v,"line",{strokeWidth:i}),x={backgroundColor:c||void 0,borderRadius:g},w=Object.assign(Object.assign({width:`${GN(r)}%`,height:b,borderRadius:g},p),{[YN]:GN(r)/100}),C=VN(e),E={width:`${GN(C)}%`,height:b,borderRadius:g,backgroundColor:null==d?void 0:d.strokeColor},O={width:y<0?"100%":y},k=m.createElement("div",{className:`${t}-inner`,style:x},m.createElement("div",{className:S(`${t}-bg`,`${t}-bg-${h}`),style:w},"inner"===h&&s),void 0!==C&&m.createElement("div",{className:`${t}-success-bg`,style:E})),M="outer"===h&&"start"===f,$="outer"===h&&"end"===f;return"outer"===h&&"center"===f?m.createElement("div",{className:`${t}-layout-bottom`},k,s):m.createElement("div",{className:`${t}-outer`,style:O},M&&s,k,$&&s)},oT=e=>{const{size:t,steps:n,rounding:r=Math.round,percent:o=0,strokeWidth:i=8,strokeColor:a,trailColor:l=null,prefixCls:s,children:c}=e,u=r(n*(o/100)),d=null!=t?t:["small"===t?2:14,i],[f,h]=qN(d,"step",{steps:n,strokeWidth:i}),p=f/n,g=Array.from({length:n});for(let v=0;v<n;v++){const e=Array.isArray(a)?a[v]:a;g[v]=m.createElement("div",{key:v,className:S(`${s}-steps-item`,{[`${s}-steps-item-active`]:v<=u-1}),style:{backgroundColor:v<=u-1?e:l,width:p,height:h}})}return m.createElement("div",{className:`${s}-steps-outer`},g,c)};const iT=["normal","exception","active","success"],aT=m.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:o,steps:i,strokeColor:a,percent:l=0,size:s="default",showInfo:c=!0,type:u="line",status:d,format:f,style:h,percentPosition:p={}}=e,g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:v="end",type:y="outer"}=p,b=Array.isArray(a)?a[0]:a,x="string"==typeof a||Array.isArray(a)?a:void 0,w=m.useMemo(()=>{if(b){const e="string"==typeof b?b:Object.values(b)[0];return new Wr(e).isLight()}return!1},[a]),C=m.useMemo(()=>{var t,n;const r=VN(e);return Number.parseInt(void 0!==r?null===(t=null!=r?r:0)||void 0===t?void 0:t.toString():null===(n=null!=l?l:0)||void 0===n?void 0:n.toString(),10)},[l,e.success,e.successPercent]),E=m.useMemo(()=>!iT.includes(d)&&C>=100?"success":d||"normal",[d,C]),{getPrefixCls:O,direction:k,progress:M}=m.useContext(So),$=O("progress",n),[I,N,T]=tT($),L="line"===u,R=L&&!i,_=m.useMemo(()=>{if(!c)return null;const t=VN(e);let n;const r=L&&w&&"inner"===y;return"inner"===y||f||"exception"!==E&&"success"!==E?n=(f||(e=>`${e}%`))(GN(l),GN(t)):"exception"===E?n=L?m.createElement(qa,null):m.createElement(Ya,null):"success"===E&&(n=L?m.createElement(Wa,null):m.createElement(tv,null)),m.createElement("span",{className:S(`${$}-text`,{[`${$}-text-bright`]:r,[`${$}-text-${v}`]:R,[`${$}-text-${y}`]:R}),title:"string"==typeof n?n:void 0},n)},[c,l,C,E,u,$,f]);let A;"line"===u?A=i?m.createElement(oT,Object.assign({},e,{strokeColor:x,prefixCls:$,steps:"object"==typeof i?i.count:i}),_):m.createElement(rT,Object.assign({},e,{strokeColor:b,prefixCls:$,direction:k,percentPosition:{align:v,type:y}}),_):"circle"!==u&&"dashboard"!==u||(A=m.createElement(XN,Object.assign({},e,{strokeColor:b,prefixCls:$,progressStatus:E}),_));const P=S($,`${$}-status-${E}`,{[`${$}-${"dashboard"===u?"circle":u}`]:"line"!==u,[`${$}-inline-circle`]:"circle"===u&&qN(s,"circle")[0]<=20,[`${$}-line`]:R,[`${$}-line-align-${v}`]:R,[`${$}-line-position-${y}`]:R,[`${$}-steps`]:i,[`${$}-show-info`]:c,[`${$}-${s}`]:"string"==typeof s,[`${$}-rtl`]:"rtl"===k},null==M?void 0:M.className,r,o,N,T);return I(m.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},null==M?void 0:M.style),h),className:P,role:"progressbar","aria-valuenow":C,"aria-valuemin":0,"aria-valuemax":100},js(g,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),A))});function lT(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ot(e))||t){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}var sT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},cT=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:sT}))},uT=m.forwardRef(cT);const dT=e=>{const{value:t,formatter:n,precision:r,decimalSeparator:o,groupSeparator:i="",prefixCls:a}=e;let l;if("function"==typeof n)l=n(t);else{const e=String(t),n=e.match(/^(-?)(\d*)(\.(\d+))?$/);if(n&&"-"!==e){const e=n[1];let t=n[2]||"0",s=n[4]||"";t=t.replace(/\B(?=(\d{3})+(?!\d))/g,i),"number"==typeof r&&(s=s.padEnd(r,"0").slice(0,r>0?r:0)),s&&(s=`${o}${s}`),l=[m.createElement("span",{key:"int",className:`${a}-content-value-int`},e,t),s&&m.createElement("span",{key:"decimal",className:`${a}-content-value-decimal`},s)]}else l=e}return m.createElement("span",{className:`${a}-content-value`},l)},fT=gi("Statistic",e=>(e=>{const{componentCls:t,marginXXS:n,padding:r,colorTextDescription:o,titleFontSize:i,colorTextHeading:a,contentFontSize:l,fontFamily:s}=e;return{[t]:Object.assign(Object.assign({},ui(e)),{[`${t}-title`]:{marginBottom:n,color:o,fontSize:i},[`${t}-skeleton`]:{paddingTop:r},[`${t}-content`]:{color:a,fontSize:l,fontFamily:s,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:n},[`${t}-content-suffix`]:{marginInlineStart:n}}})}})(Xo(e,{})),e=>{const{fontSizeHeading3:t,fontSize:n}=e;return{titleFontSize:n,contentFontSize:t}});const hT=m.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:o,style:i,valueStyle:a,value:l=0,title:s,valueRender:c,prefix:u,suffix:d,loading:f=!1,formatter:h,precision:p,decimalSeparator:g=".",groupSeparator:v=",",onMouseEnter:y,onMouseLeave:b}=e,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:w,direction:C,className:E,style:O}=ko("statistic"),k=w("statistic",n),[M,$,I]=fT(k),N=m.createElement(dT,{decimalSeparator:g,groupSeparator:v,prefixCls:k,formatter:h,precision:p,value:l}),T=S(k,{[`${k}-rtl`]:"rtl"===C},E,r,o,$,I),L=m.useRef(null);m.useImperativeHandle(t,()=>({nativeElement:L.current}));const R=ol(x,{aria:!0,data:!0});return M(m.createElement("div",Object.assign({},R,{ref:L,className:T,style:Object.assign(Object.assign({},O),i),onMouseEnter:y,onMouseLeave:b}),s&&m.createElement("div",{className:`${k}-title`},s),m.createElement(Ih,{paragraph:!1,loading:f,className:`${k}-skeleton`},m.createElement("div",{style:a,className:`${k}-content`},u&&m.createElement("span",{className:`${k}-content-prefix`},u),c?c(N):N,d&&m.createElement("span",{className:`${k}-content-suffix`},d)))))}),pT=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function gT(e,t,n){const{format:r=""}=t,o=new Date(e).getTime(),i=Date.now();return function(e,t){let n=e;const r=/\[[^\]]*]/g,o=(t.match(r)||[]).map(e=>e.slice(1,-1)),i=t.replace(r,"[]"),a=pT.reduce((e,[t,r])=>{if(e.includes(t)){const o=Math.floor(n/r);return n-=o*r,e.replace(new RegExp(`${t}+`,"g"),e=>{const t=e.length;return o.toString().padStart(t,"0")})}return e},i);let l=0;return a.replace(r,()=>{const e=o[l];return l+=1,e})}(n?Math.max(o-i,0):Math.max(i-o,0),r)}const mT=e=>{const{value:t,format:n="HH:mm:ss",onChange:r,onFinish:o,type:i}=e,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["value","format","onChange","onFinish","type"]),l="countdown"===i,[s,c]=m.useState(null),u=zo(()=>{const e=Date.now(),n=function(e){return new Date(e).getTime()}(t);c({});return null==r||r(l?n-e:e-n),!(l&&n<e)||(null==o||o(),!1)});m.useEffect(()=>{let e;const t=()=>{e=dt(()=>{u()&&t()})};return t(),()=>dt.cancel(e)},[t,l]),m.useEffect(()=>{c({})},[]);return m.createElement(hT,Object.assign({},a,{value:t,valueRender:e=>ll(e,{title:void 0}),formatter:(e,t)=>s?gT(e,Object.assign(Object.assign({},t),{format:n}),l):"-"}))},vT=e=>m.createElement(mT,Object.assign({},e,{type:"countdown"})),yT=m.memo(vT);hT.Timer=mT,hT.Countdown=yT;var bT=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function xT(e){return"string"==typeof e}function wT(e){var t,n=e.className,r=e.prefixCls,o=e.style,i=e.active,a=e.status,l=e.iconPrefix,s=e.icon;e.wrapperStyle;var c=e.stepNumber,u=e.disabled,d=e.description,f=e.title,h=e.subTitle,p=e.progressDot,g=e.stepIcon,v=e.tailContent,y=e.icons,b=e.stepIndex,x=e.onStepClick,w=e.onClick,C=e.render,O=$t(e,bT),k={};!!x&&!u&&(k.role="button",k.tabIndex=0,k.onClick=function(e){null==w||w(e),x(b)},k.onKeyDown=function(e){var t=e.which;t!==Tl.ENTER&&t!==Tl.SPACE||x(b)});var M,$,I,N,T=a||"wait",L=S("".concat(r,"-item"),"".concat(r,"-item-").concat(T),n,(j(t={},"".concat(r,"-item-custom"),s),j(t,"".concat(r,"-item-active"),i),j(t,"".concat(r,"-item-disabled"),!0===u),t)),R=D({},o),_=m.createElement("div",E({},O,{className:L,style:R}),m.createElement("div",E({onClick:w},k,{className:"".concat(r,"-item-container")}),m.createElement("div",{className:"".concat(r,"-item-tail")},v),m.createElement("div",{className:"".concat(r,"-item-icon")},(I=S("".concat(r,"-icon"),"".concat(l,"icon"),(j(M={},"".concat(l,"icon-").concat(s),s&&xT(s)),j(M,"".concat(l,"icon-check"),!s&&"finish"===a&&(y&&!y.finish||!y)),j(M,"".concat(l,"icon-cross"),!s&&"error"===a&&(y&&!y.error||!y)),M)),N=m.createElement("span",{className:"".concat(r,"-icon-dot")}),$=p?"function"==typeof p?m.createElement("span",{className:"".concat(r,"-icon")},p(N,{index:c-1,status:a,title:f,description:d})):m.createElement("span",{className:"".concat(r,"-icon")},N):s&&!xT(s)?m.createElement("span",{className:"".concat(r,"-icon")},s):y&&y.finish&&"finish"===a?m.createElement("span",{className:"".concat(r,"-icon")},y.finish):y&&y.error&&"error"===a?m.createElement("span",{className:"".concat(r,"-icon")},y.error):s||"finish"===a||"error"===a?m.createElement("span",{className:I}):m.createElement("span",{className:"".concat(r,"-icon")},c),g&&($=g({index:c-1,status:a,title:f,description:d,node:$})),$)),m.createElement("div",{className:"".concat(r,"-item-content")},m.createElement("div",{className:"".concat(r,"-item-title")},f,h&&m.createElement("div",{title:"string"==typeof h?h:void 0,className:"".concat(r,"-item-subtitle")},h)),d&&m.createElement("div",{className:"".concat(r,"-item-description")},d))));return C&&(_=C(_)||null),_}var CT=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function ST(e){var t,n=e.prefixCls,r=void 0===n?"rc-steps":n,o=e.style,i=void 0===o?{}:o,a=e.className;e.children;var l=e.direction,s=void 0===l?"horizontal":l,c=e.type,u=void 0===c?"default":c,d=e.labelPlacement,f=void 0===d?"horizontal":d,h=e.iconPrefix,g=void 0===h?"rc":h,m=e.status,v=void 0===m?"process":m,y=e.size,b=e.current,x=void 0===b?0:b,w=e.progressDot,C=void 0!==w&&w,O=e.stepIcon,k=e.initial,M=void 0===k?0:k,$=e.icons,I=e.onChange,N=e.itemRender,T=e.items,L=void 0===T?[]:T,R=$t(e,CT),_="navigation"===u,A="inline"===u,P=A||C,B=A?"horizontal":s,z=A?void 0:y,H=P?"vertical":f,F=S(r,"".concat(r,"-").concat(B),a,(j(t={},"".concat(r,"-").concat(z),z),j(t,"".concat(r,"-label-").concat(H),"horizontal"===B),j(t,"".concat(r,"-dot"),!!P),j(t,"".concat(r,"-navigation"),_),j(t,"".concat(r,"-inline"),A),t)),W=function(e){I&&x!==e&&I(e)};return p.createElement("div",E({className:F,style:i},R),L.filter(function(e){return e}).map(function(e,t){var n=D({},e),o=M+t;return"error"===v&&t===x-1&&(n.className="".concat(r,"-next-error")),n.status||(n.status=o===x?v:o<x?"finish":"wait"),A&&(n.icon=void 0,n.subTitle=void 0),!n.render&&N&&(n.render=function(e){return N(n,e)}),p.createElement(wT,E({},n,{active:o===x,stepNumber:o+1,stepIndex:o,key:o,prefixCls:r,iconPrefix:g,wrapperStyle:i,progressDot:P,stepIcon:O,icons:$,onStepClick:I&&W}))}))}ST.Step=wT;const ET=e=>{const{componentCls:t,customIconTop:n,customIconSize:r,customIconFontSize:o}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:n,width:r,height:r,fontSize:o,lineHeight:Xt(r)}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}},OT=e=>{const{componentCls:t}=e,n=`${t}-item`;return{[`${t}-horizontal`]:{[`${n}-tail`]:{transform:"translateY(-50%)"}}}},kT=e=>{const{componentCls:t,inlineDotSize:n,inlineTitleColor:r,inlineTailColor:o}=e,i=e.calc(e.paddingXS).add(e.lineWidth).equal(),a={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:r}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${Xt(i)} ${Xt(e.paddingXXS)} 0`,margin:`0 ${Xt(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:n,height:n,marginInlineStart:`calc(50% - ${Xt(e.calc(n).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:r,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(n).div(2).add(i).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:o}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${Xt(e.lineWidth)} ${e.lineType} ${o}`}},a),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:o},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:o,border:`${Xt(e.lineWidth)} ${e.lineType} ${o}`}},a),"&-error":a,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:n,height:n,marginInlineStart:`calc(50% - ${Xt(e.calc(n).div(2).equal())})`,top:0}},a),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:r}}}}}},MT=e=>{const{componentCls:t,iconSize:n,lineHeight:r,iconSizeSM:o}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(n).div(2).add(e.controlHeightLG).equal(),padding:`0 ${Xt(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(n).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:r}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(n).sub(o).div(2).add(e.controlHeightLG).equal()}}}}}},$T=e=>{const{componentCls:t,navContentMaxWidth:n,navArrowColor:r,stepsNavActiveColor:o,motionDurationSlow:i}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${i}`,[`${t}-item-content`]:{maxWidth:n},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},ci),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${Xt(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${Xt(e.lineWidth)} ${e.lineType} ${r}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${Xt(e.lineWidth)} ${e.lineType} ${r}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:o,transition:`width ${i}, inset-inline-start ${i}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${Xt(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}},IT=e=>{const{antCls:t,componentCls:n,iconSize:r,iconSizeSM:o,processIconColor:i,marginXXS:a,lineWidthBold:l,lineWidth:s,paddingXXS:c}=e,u=e.calc(r).add(e.calc(l).mul(4).equal()).equal(),d=e.calc(o).add(e.calc(e.lineWidth).mul(4).equal()).equal();return{[`&${n}-with-progress`]:{[`${n}-item`]:{paddingTop:c,[`&-process ${n}-item-container ${n}-item-icon ${n}-icon`]:{color:i}},[`&${n}-vertical > ${n}-item `]:{paddingInlineStart:c,[`> ${n}-item-container > ${n}-item-tail`]:{top:a,insetInlineStart:e.calc(r).div(2).sub(s).add(c).equal()}},[`&, &${n}-small`]:{[`&${n}-horizontal ${n}-item:first-child`]:{paddingBottom:c,paddingInlineStart:c}},[`&${n}-small${n}-vertical > ${n}-item > ${n}-item-container > ${n}-item-tail`]:{insetInlineStart:e.calc(o).div(2).sub(s).add(c).equal()},[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:e.calc(r).div(2).add(c).equal()},[`${n}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${Xt(u)} !important`,height:`${Xt(u)} !important`}}},[`&${n}-small`]:{[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:e.calc(o).div(2).add(c).equal()},[`${n}-item-icon ${t}-progress-inner`]:{width:`${Xt(d)} !important`,height:`${Xt(d)} !important`}}}}},NT=e=>{const{componentCls:t,descriptionMaxWidth:n,lineHeight:r,dotCurrentSize:o,dotSize:i,motionDurationSlow:a}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:r},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${Xt(e.calc(n).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${Xt(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:i,height:i,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(i).div(2).equal(),paddingInlineEnd:0,lineHeight:Xt(i),background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${a}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(i).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:n},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(i).sub(o).div(2).equal(),width:o,height:o,lineHeight:Xt(o),background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(o).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(i).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(o).div(2).equal(),top:0,insetInlineStart:e.calc(i).sub(o).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(i).div(2).equal(),insetInlineStart:0,margin:0,padding:`${Xt(e.calc(i).add(e.paddingXS).equal())} 0 ${Xt(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(i).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(i).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(o).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(i).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}},TT=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}},LT=e=>{const{componentCls:t,iconSizeSM:n,fontSizeSM:r,fontSize:o,colorTextDescription:i}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:n,height:n,marginTop:0,marginBottom:0,marginInline:`0 ${Xt(e.marginXS)}`,fontSize:r,lineHeight:Xt(n),textAlign:"center",borderRadius:n},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:o,lineHeight:Xt(n),"&::after":{top:e.calc(n).div(2).equal()}},[`${t}-item-description`]:{color:i,fontSize:o},[`${t}-item-tail`]:{top:e.calc(n).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:n,lineHeight:Xt(n),transform:"none"}}}}},RT=e=>{const{componentCls:t,iconSizeSM:n,iconSize:r}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:Xt(r)},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(r).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${Xt(e.calc(e.marginXXS).mul(1.5).add(r).equal())} 0 ${Xt(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(n).div(2).sub(e.lineWidth).equal(),padding:`${Xt(e.calc(e.marginXXS).mul(1.5).add(n).equal())} 0 ${Xt(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:Xt(n)}}}}},_T=(e,t)=>{const n=`${t.componentCls}-item`,r=`${e}IconColor`,o=`${e}TitleColor`,i=`${e}DescriptionColor`,a=`${e}TailColor`,l=`${e}IconBgColor`,s=`${e}IconBorderColor`,c=`${e}DotColor`;return{[`${n}-${e} ${n}-icon`]:{backgroundColor:t[l],borderColor:t[s],[`> ${t.componentCls}-icon`]:{color:t[r],[`${t.componentCls}-icon-dot`]:{background:t[c]}}},[`${n}-${e}${n}-custom ${n}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[c]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-title`]:{color:t[o],"&::after":{backgroundColor:t[a]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-description`]:{color:t[i]},[`${n}-${e} > ${n}-container > ${n}-tail::after`]:{backgroundColor:t[a]}}},AT=e=>{const{componentCls:t,motionDurationSlow:n}=e,r=`${t}-item`,o=`${r}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[r]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${r}-container > ${r}-tail, > ${r}-container >  ${r}-content > ${r}-title::after`]:{display:"none"}}},[`${r}-container`]:{outline:"none",[`&:focus-visible ${o}`]:di(e)},[`${o}, ${r}-content`]:{display:"inline-block",verticalAlign:"top"},[o]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:Xt(e.iconSize),textAlign:"center",borderRadius:e.iconSize,border:`${Xt(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${n}, border-color ${n}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${r}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${n}`,content:'""'}},[`${r}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:Xt(e.titleLineHeight),"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${r}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${r}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},_T("wait",e)),_T("process",e)),{[`${r}-process > ${r}-container > ${r}-title`]:{fontWeight:e.fontWeightStrong}}),_T("finish",e)),_T("error",e)),{[`${r}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${r}-disabled`]:{cursor:"not-allowed"}})},PT=e=>{const{componentCls:t,motionDurationSlow:n}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${n}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},jT=gi("Steps",e=>{const{colorTextDisabled:t,controlHeightLG:n,colorTextLightSolid:r,colorText:o,colorPrimary:i,colorTextDescription:a,colorTextQuaternary:l,colorError:s,colorBorderSecondary:c,colorSplit:u}=e;return(e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ui(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),AT(e)),PT(e)),ET(e)),LT(e)),RT(e)),OT(e)),MT(e)),NT(e)),$T(e)),TT(e)),IT(e)),kT(e))}})(Xo(e,{processIconColor:r,processTitleColor:o,processDescriptionColor:o,processIconBgColor:i,processIconBorderColor:i,processDotColor:i,processTailColor:u,waitTitleColor:a,waitDescriptionColor:a,waitTailColor:u,waitDotColor:t,finishIconColor:i,finishTitleColor:o,finishDescriptionColor:a,finishTailColor:i,finishDotColor:i,errorIconColor:r,errorTitleColor:s,errorDescriptionColor:s,errorTailColor:u,errorIconBgColor:s,errorIconBorderColor:s,errorDotColor:s,stepsNavActiveColor:i,stepsProgressSize:n,inlineDotSize:6,inlineTitleColor:l,inlineTailColor:c}))},e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"unset",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive}));const BT=e=>{const{percent:t,size:n,className:r,rootClassName:o,direction:i,items:a,responsive:l=!0,current:s=0,children:c,style:u}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:f}=xv(l),{getPrefixCls:h,direction:p,className:g,style:v}=ko("steps"),y=m.useMemo(()=>l&&f?"vertical":i,[l,f,i]),b=Xs(n),x=h("steps",e.prefixCls),[w,C,E]=jT(x),O="inline"===e.type,k=h("",e.iconPrefix),M=function(e,t){return e||function(e){return e.filter(e=>e)}(N(t).map(e=>{if(m.isValidElement(e)){const{props:t}=e;return Object.assign({},t)}return null}))}(a,c),$=O?void 0:t,I=Object.assign(Object.assign({},v),u),T=S(g,{[`${x}-rtl`]:"rtl"===p,[`${x}-with-progress`]:void 0!==$},r,o,C,E),L={finish:m.createElement(tv,{className:`${x}-finish-icon`}),error:m.createElement(Ya,{className:`${x}-error-icon`})};return w(m.createElement(ST,Object.assign({icons:L},d,{style:I,current:s,size:b,items:M,itemRender:O?(e,t)=>e.description?m.createElement(Qv,{title:e.description},t):t:void 0,stepIcon:({node:e,status:t})=>{if("process"===t&&void 0!==$){const t="small"===b?32:40;return m.createElement("div",{className:`${x}-progress-icon`},m.createElement(aT,{type:"circle",percent:$,size:t,strokeWidth:4,format:()=>null}),e)}return e},direction:y,prefixCls:x,iconPrefix:k,className:T})))};BT.Step=ST.Step;var DT=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],zT=m.forwardRef(function(e,t){var n,r=e.prefixCls,o=void 0===r?"rc-switch":r,i=e.className,a=e.checked,l=e.defaultChecked,s=e.disabled,c=e.loadingIcon,u=e.checkedChildren,d=e.unCheckedChildren,f=e.onClick,h=e.onChange,p=e.onKeyDown,g=$t(e,DT),v=pt(Wo(!1,{value:a,defaultValue:l}),2),y=v[0],b=v[1];function x(e,t){var n=y;return s||(b(n=e),null==h||h(n,t)),n}var w=S(o,i,(j(n={},"".concat(o,"-checked"),y),j(n,"".concat(o,"-disabled"),s),n));return m.createElement("button",E({},g,{type:"button",role:"switch","aria-checked":y,disabled:s,className:w,ref:t,onKeyDown:function(e){e.which===Tl.LEFT?x(!1,e):e.which===Tl.RIGHT&&x(!0,e),null==p||p(e)},onClick:function(e){var t=x(!y,e);null==f||f(t,e)}}),c,m.createElement("span",{className:"".concat(o,"-inner")},m.createElement("span",{className:"".concat(o,"-inner-checked")},u),m.createElement("span",{className:"".concat(o,"-inner-unchecked")},d)))});zT.displayName="Switch";const HT=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:r,trackMinWidthSM:o,innerMinMarginSM:i,innerMaxMarginSM:a,handleSizeSM:l,calc:s}=e,c=`${t}-inner`,u=Xt(s(l).add(s(r).mul(2)).equal()),d=Xt(s(a).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:o,height:n,lineHeight:Xt(n),[`${t}-inner`]:{paddingInlineStart:a,paddingInlineEnd:i,[`${c}-checked, ${c}-unchecked`]:{minHeight:n},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${d})`,marginInlineEnd:`calc(100% - ${u} + ${d})`},[`${c}-unchecked`]:{marginTop:s(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:l,height:l},[`${t}-loading-icon`]:{top:s(s(l).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:i,paddingInlineEnd:a,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${d})`,marginInlineEnd:`calc(-100% + ${u} - ${d})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${Xt(s(l).add(r).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:s(e.marginXXS).div(2).equal(),marginInlineEnd:s(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:s(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:s(e.marginXXS).div(2).equal()}}}}}}},FT=e=>{const{componentCls:t,handleSize:n,calc:r}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},WT=e=>{const{componentCls:t,trackPadding:n,handleBg:r,handleShadow:o,handleSize:i,calc:a}=e,l=`${t}-handle`;return{[t]:{[l]:{position:"absolute",top:n,insetInlineStart:n,width:i,height:i,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:a(i).div(2).equal(),boxShadow:o,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${l}`]:{insetInlineStart:`calc(100% - ${Xt(a(i).add(n).equal())})`},[`&:not(${t}-disabled):active`]:{[`${l}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${l}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},GT=e=>{const{componentCls:t,trackHeight:n,trackPadding:r,innerMinMargin:o,innerMaxMargin:i,handleSize:a,calc:l}=e,s=`${t}-inner`,c=Xt(l(a).add(l(r).mul(2)).equal()),u=Xt(l(i).mul(2).equal());return{[t]:{[s]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:i,paddingInlineEnd:o,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${s}-checked, ${s}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${s}-checked`]:{marginInlineStart:`calc(-100% + ${c} - ${u})`,marginInlineEnd:`calc(100% - ${c} + ${u})`},[`${s}-unchecked`]:{marginTop:l(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${s}`]:{paddingInlineStart:o,paddingInlineEnd:i,[`${s}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${s}-unchecked`]:{marginInlineStart:`calc(100% - ${c} + ${u})`,marginInlineEnd:`calc(-100% + ${c} - ${u})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${s}`]:{[`${s}-unchecked`]:{marginInlineStart:l(r).mul(2).equal(),marginInlineEnd:l(r).mul(-1).mul(2).equal()}},[`&${t}-checked ${s}`]:{[`${s}-checked`]:{marginInlineStart:l(r).mul(-1).mul(2).equal(),marginInlineEnd:l(r).mul(2).equal()}}}}}},VT=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},ui(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:Xt(n),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),fi(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},qT=gi("Switch",e=>{const t=Xo(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[VT(t),GT(t),WT(t),FT(t),HT(t)]},e=>{const{fontSize:t,lineHeight:n,controlHeight:r,colorWhite:o}=e,i=t*n,a=r/2,l=i-4,s=a-4;return{trackHeight:i,trackHeightSM:a,trackMinWidth:2*l+8,trackMinWidthSM:2*s+4,trackPadding:2,handleBg:o,handleSize:l,handleSizeSM:s,handleShadow:`0 2px 4px 0 ${new Wr("#00230b").setA(.2).toRgbString()}`,innerMinMargin:l/2,innerMaxMargin:l+2+4,innerMinMarginSM:s/2,innerMaxMarginSM:s+2+4}});const XT=m.forwardRef((e,t)=>{const{prefixCls:n,size:r,disabled:o,loading:i,className:a,rootClassName:l,style:s,checked:c,value:u,defaultChecked:d,defaultValue:f,onChange:h}=e,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[g,v]=Wo(!1,{value:null!=c?c:u,defaultValue:null!=d?d:f}),{getPrefixCls:y,direction:b,switch:x}=m.useContext(So),w=m.useContext(Io),C=(null!=o?o:w)||i,E=y("switch",n),O=m.createElement("div",{className:`${E}-handle`},i&&m.createElement(Gl,{className:`${E}-loading-icon`})),[k,M,$]=qT(E),I=Xs(r),N=S(null==x?void 0:x.className,{[`${E}-small`]:"small"===I,[`${E}-loading`]:i,[`${E}-rtl`]:"rtl"===b},a,l,M,$),T=Object.assign(Object.assign({},null==x?void 0:x.style),s);return k(m.createElement(qs,{component:"Switch",disabled:C},m.createElement(zT,Object.assign({},p,{checked:g,onChange:(...e)=>{v(e[0]),null==h||h.apply(void 0,e)},prefixCls:E,className:N,style:T,disabled:C,ref:t,loadingIcon:O}))))}),UT=XT;UT.__ANT_SWITCH=!0;var YT={},KT="rc-table-internal-hook";function ZT(e){var t=m.createContext(void 0);return{Context:t,Provider:function(e){var n=e.value,r=e.children,o=m.useRef(n);o.current=n;var i=pt(m.useState(function(){return{getValue:function(){return o.current},listeners:new Set}}),1)[0];return Jt(function(){y.unstable_batchedUpdates(function(){i.listeners.forEach(function(e){e(n)})})},[n]),m.createElement(t.Provider,{value:i},r)},defaultValue:e}}function QT(e,t){var n=zo("function"==typeof t?t:function(e){if(void 0===t)return e;if(!Array.isArray(t))return e[t];var n={};return t.forEach(function(t){n[t]=e[t]}),n}),r=m.useContext(null==e?void 0:e.Context),o=r||{},i=o.listeners,a=o.getValue,l=m.useRef();l.current=n(r?a():null==e?void 0:e.defaultValue);var s=pt(m.useState({}),2)[1];return Jt(function(){if(r)return i.add(e),function(){i.delete(e)};function e(e){var t=n(e);It(l.current,t,!0)||s({})}},[r]),l.current}var JT=function(){var e=m.createContext(null);function t(){return m.useContext(e)}return{makeImmutable:function(n,r){var o=he(n),i=function(i,a){var l=o?{ref:a}:{},s=m.useRef(0),c=m.useRef(i);return null!==t()?m.createElement(n,E({},i,l)):(r&&!r(c.current,i)||(s.current+=1),c.current=i,m.createElement(e.Provider,{value:s.current},m.createElement(n,E({},i,l))))};return o?m.forwardRef(i):i},responseImmutable:function(e,n){var r=he(e),o=function(n,o){var i=r?{ref:o}:{};return t(),m.createElement(e,E({},n,i))};return r?m.memo(m.forwardRef(o),n):m.memo(o,n)},useImmutableMark:t}}(),eL=JT.makeImmutable,tL=JT.responseImmutable,nL=JT.useImmutableMark,rL=ZT(),oL=m.createContext({renderWithProps:!1});function iL(e){var t=[],n={};return e.forEach(function(e){for(var r,o=e||{},i=o.key,a=o.dataIndex,l=i||(r=a,null==r?[]:Array.isArray(r)?r:[r]).join("-")||"RC_TABLE_KEY";n[l];)l="".concat(l,"_next");n[l]=!0,t.push(l)}),t}function aL(e){return null!=e}function lL(e,t,n,r,o,i){var a=m.useContext(oL);return se(function(){if(aL(r))return[r];var i,l=null==t||""===t?[]:Array.isArray(t)?t:[t],s=pr(e,l),c=s,u=void 0;if(o){var d=o(s,e,n);!(i=d)||"object"!==O(i)||Array.isArray(i)||m.isValidElement(i)?c=d:(c=d.children,u=d.props,a.renderWithProps=!0)}return[c,u]},[nL(),e,r,t,o,n],function(e,t){if(i){var n=pt(e,2)[1],r=pt(t,2)[1];return i(r,n)}return!!a.renderWithProps||!It(e,t,!0)})}function sL(e){var t,n,r,o,i,a,l,s,c=e.component,u=e.children,d=e.ellipsis,f=e.scope,h=e.prefixCls,p=e.className,g=e.align,v=e.record,y=e.render,b=e.dataIndex,x=e.renderIndex,w=e.shouldCellUpdate,C=e.index,k=e.rowType,M=e.colSpan,$=e.rowSpan,I=e.fixLeft,N=e.fixRight,T=e.firstFixLeft,L=e.lastFixLeft,R=e.firstFixRight,_=e.lastFixRight,A=e.appendNode,P=e.additionalProps,B=void 0===P?{}:P,z=e.isSticky,H="".concat(h,"-cell"),F=QT(rL,["supportSticky","allColumnsFixedLeft","rowHoverable"]),W=F.supportSticky,G=F.allColumnsFixedLeft,V=F.rowHoverable,q=pt(lL(v,b,x,u,y,w),2),X=q[0],U=q[1],Y={},K="number"==typeof I&&W,Z="number"==typeof N&&W;K&&(Y.position="sticky",Y.left=I),Z&&(Y.position="sticky",Y.right=N);var Q=null!==(t=null!==(n=null!==(r=null==U?void 0:U.colSpan)&&void 0!==r?r:B.colSpan)&&void 0!==n?n:M)&&void 0!==t?t:1,J=null!==(o=null!==(i=null!==(a=null==U?void 0:U.rowSpan)&&void 0!==a?a:B.rowSpan)&&void 0!==i?i:$)&&void 0!==o?o:1,ee=function(e,t){return QT(rL,function(n){var r,o,i,a;return[(r=e,o=t||1,i=n.hoverStartRow,a=n.hoverEndRow,r<=a&&r+o-1>=i),n.onHover]})}(C,J),te=pt(ee,2),ne=te[0],re=te[1],oe=zo(function(e){var t;v&&re(C,C+J-1),null==B||null===(t=B.onMouseEnter)||void 0===t||t.call(B,e)}),ie=zo(function(e){var t;v&&re(-1,-1),null==B||null===(t=B.onMouseLeave)||void 0===t||t.call(B,e)});if(0===Q||0===J)return null;var ae=null!==(l=B.title)&&void 0!==l?l:function(e){var t,n=e.ellipsis,r=e.rowType,o=e.children,i=!0===n?{showTitle:!0}:n;return i&&(i.showTitle||"header"===r)&&("string"==typeof o||"number"==typeof o?t=o.toString():m.isValidElement(o)&&"string"==typeof o.props.children&&(t=o.props.children)),t}({rowType:k,ellipsis:d,children:X}),le=S(H,p,(j(j(j(j(j(j(j(j(j(j(s={},"".concat(H,"-fix-left"),K&&W),"".concat(H,"-fix-left-first"),T&&W),"".concat(H,"-fix-left-last"),L&&W),"".concat(H,"-fix-left-all"),L&&G&&W),"".concat(H,"-fix-right"),Z&&W),"".concat(H,"-fix-right-first"),R&&W),"".concat(H,"-fix-right-last"),_&&W),"".concat(H,"-ellipsis"),d),"".concat(H,"-with-append"),A),"".concat(H,"-fix-sticky"),(K||Z)&&z&&W),j(s,"".concat(H,"-row-hover"),!U&&ne)),B.className,null==U?void 0:U.className),se={};g&&(se.textAlign=g);var ce=D(D(D(D({},null==U?void 0:U.style),Y),se),B.style),ue=X;return"object"!==O(ue)||Array.isArray(ue)||m.isValidElement(ue)||(ue=null),d&&(L||R)&&(ue=m.createElement("span",{className:"".concat(H,"-content")},ue)),m.createElement(c,E({},U,B,{className:le,style:ce,title:ae,scope:f,onMouseEnter:V?oe:void 0,onMouseLeave:V?ie:void 0,colSpan:1!==Q?Q:null,rowSpan:1!==J?J:null}),A,ue)}const cL=m.memo(sL);function uL(e,t,n,r,o){var i,a,l=n[e]||{},s=n[t]||{};"left"===l.fixed?i=r.left["rtl"===o?t:e]:"right"===s.fixed&&(a=r.right["rtl"===o?e:t]);var c=!1,u=!1,d=!1,f=!1,h=n[t+1],p=n[e-1],g=h&&!h.fixed||p&&!p.fixed||n.every(function(e){return"left"===e.fixed});if("rtl"===o){if(void 0!==i)f=!(p&&"left"===p.fixed)&&g;else if(void 0!==a){d=!(h&&"right"===h.fixed)&&g}}else if(void 0!==i){c=!(h&&"left"===h.fixed)&&g}else if(void 0!==a){u=!(p&&"right"===p.fixed)&&g}return{fixLeft:i,fixRight:a,lastFixLeft:c,firstFixRight:u,lastFixRight:d,firstFixLeft:f,isSticky:r.isSticky}}var dL=m.createContext({});var fL=["children"];function hL(e){return e.children}hL.Row=function(e){var t=e.children,n=$t(e,fL);return m.createElement("tr",n,t)},hL.Cell=function(e){var t=e.className,n=e.index,r=e.children,o=e.colSpan,i=void 0===o?1:o,a=e.rowSpan,l=e.align,s=QT(rL,["prefixCls","direction"]),c=s.prefixCls,u=s.direction,d=m.useContext(dL),f=d.scrollColumnIndex,h=d.stickyOffsets,p=n+i-1+1===f?i+1:i,g=uL(n,n+p-1,d.flattenColumns,h,u);return m.createElement(cL,E({className:t,index:n,component:"td",prefixCls:c,record:null,dataIndex:null,align:l,colSpan:p,rowSpan:a,render:function(){return r}},g))};const pL=tL(function(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,o=QT(rL,"prefixCls"),i=r.length-1,a=r[i],l=m.useMemo(function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:null!=a&&a.scrollbar?i:null}},[a,r,i,n]);return m.createElement(dL.Provider,{value:l},m.createElement("tfoot",{className:"".concat(o,"-summary")},t))});var gL=hL;function mL(e,t,n,r,o,i,a){var l=i(t,a);e.push({record:t,indent:n,index:a,rowKey:l});var s=null==o?void 0:o.has(l);if(t&&Array.isArray(t[r])&&s)for(var c=0;c<t[r].length;c+=1)mL(e,t[r][c],n+1,r,o,i,c)}function vL(e,t,n,r){return m.useMemo(function(){if(null!=n&&n.size){for(var o=[],i=0;i<(null==e?void 0:e.length);i+=1){mL(o,e[i],0,t,n,r,i)}return o}return null==e?void 0:e.map(function(e,t){return{record:e,indent:0,index:t,rowKey:r(e,t)}})},[e,t,n,r])}function yL(e,t,n,r){var o,i=QT(rL,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),a=i.flattenColumns,l=i.expandableType,s=i.expandedKeys,c=i.childrenColumnName,u=i.onTriggerExpand,d=i.rowExpandable,f=i.onRow,h=i.expandRowByClick,p=i.rowClassName,g="nest"===l,m="row"===l&&(!d||d(e)),v=m||g,y=s&&s.has(t),b=c&&e&&e[c],x=zo(u),w=null==f?void 0:f(e,n),C=null==w?void 0:w.onClick;"string"==typeof p?o=p:"function"==typeof p&&(o=p(e,n,r));var E=iL(a);return D(D({},i),{},{columnsKey:E,nestExpandable:g,expanded:y,hasNestChildren:b,record:e,onTriggerExpand:x,rowSupportExpand:m,expandable:v,rowProps:D(D({},w),{},{className:S(o,null==w?void 0:w.className),onClick:function(t){h&&v&&u(e,t);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null==C||C.apply(void 0,[t].concat(r))}})})}function bL(e){var t=e.prefixCls,n=e.children,r=e.component,o=e.cellComponent,i=e.className,a=e.expanded,l=e.colSpan,s=e.isEmpty,c=e.stickyOffset,u=void 0===c?0:c,d=QT(rL,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),f=d.scrollbarSize,h=d.fixHeader,p=d.fixColumn,g=d.componentWidth,v=d.horizonScroll,y=n;return(s?v&&g:p)&&(y=m.createElement("div",{style:{width:g-u-(h&&!s?f:0),position:"sticky",left:u,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},y)),m.createElement(r,{className:i,style:{display:a?null:"none"}},m.createElement(cL,{component:o,prefixCls:t,colSpan:l},y))}function xL(e){var t=e.prefixCls,n=e.record,r=e.onExpand,o=e.expanded,i=e.expandable,a="".concat(t,"-row-expand-icon");if(!i)return m.createElement("span",{className:S(a,"".concat(t,"-row-spaced"))});return m.createElement("span",{className:S(a,j(j({},"".concat(t,"-row-expanded"),o),"".concat(t,"-row-collapsed"),!o)),onClick:function(e){r(n,e),e.stopPropagation()}})}function wL(e,t,n,r){return"string"==typeof e?e:"function"==typeof e?e(t,n,r):""}function CL(e,t,n,r,o){var i,a,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=e.record,u=e.prefixCls,d=e.columnsKey,f=e.fixedInfoList,h=e.expandIconColumnIndex,p=e.nestExpandable,g=e.indentSize,v=e.expandIcon,y=e.expanded,b=e.hasNestChildren,x=e.onTriggerExpand,w=e.expandable,C=e.expandedKeys,S=d[n],E=f[n];n===(h||0)&&p&&(a=m.createElement(m.Fragment,null,m.createElement("span",{style:{paddingLeft:"".concat(g*r,"px")},className:"".concat(u,"-row-indent indent-level-").concat(r)}),v({prefixCls:u,expanded:y,expandable:b,record:c,onExpand:x})));var O=(null===(i=t.onCell)||void 0===i?void 0:i.call(t,c,o))||{};if(s){var k=O.rowSpan,M=void 0===k?1:k;if(w&&M&&n<s){for(var $=M,I=o;I<o+M;I+=1){var N=l[I];C.has(N)&&($+=1)}O.rowSpan=$}}return{key:S,fixedInfo:E,appendCellNode:a,additionalCellProps:O}}const SL=tL(function(e){var t=e.className,n=e.style,r=e.record,o=e.index,i=e.renderIndex,a=e.rowKey,l=e.rowKeys,s=e.indent,c=void 0===s?0:s,u=e.rowComponent,d=e.cellComponent,f=e.scopeCellComponent,h=e.expandedRowInfo,p=yL(r,a,o,c),g=p.prefixCls,v=p.flattenColumns,y=p.expandedRowClassName,b=p.expandedRowRender,x=p.rowProps,w=p.expanded,C=p.rowSupportExpand,O=m.useRef(!1);O.current||(O.current=w);var k,M=wL(y,r,o,c),$=m.createElement(u,E({},x,{"data-row-key":a,className:S(t,"".concat(g,"-row"),"".concat(g,"-row-level-").concat(c),null==x?void 0:x.className,j({},M,c>=1)),style:D(D({},n),null==x?void 0:x.style)}),v.map(function(e,t){var n=e.render,a=e.dataIndex,s=e.className,u=CL(p,e,t,c,o,l,null==h?void 0:h.offset),v=u.key,y=u.fixedInfo,b=u.appendCellNode,x=u.additionalCellProps;return m.createElement(cL,E({className:s,ellipsis:e.ellipsis,align:e.align,scope:e.rowScope,component:e.rowScope?f:d,prefixCls:g,key:v,record:r,index:o,renderIndex:i,dataIndex:a,render:n,shouldCellUpdate:e.shouldCellUpdate},y,{appendNode:b,additionalProps:x}))}));if(C&&(O.current||w)){var I=b(r,o,c+1,w);k=m.createElement(bL,{expanded:w,className:S("".concat(g,"-expanded-row"),"".concat(g,"-expanded-row-level-").concat(c+1),M),prefixCls:g,component:u,cellComponent:d,colSpan:h?h.colSpan:v.length,stickyOffset:null==h?void 0:h.sticky,isEmpty:!1},I)}return m.createElement(m.Fragment,null,$,k)});function EL(e){var t=e.columnKey,n=e.onColumnResize,r=e.prefixCls,o=e.title,i=m.useRef();return Jt(function(){i.current&&n(t,i.current.offsetWidth)},[]),m.createElement(tt,{data:t},m.createElement("th",{ref:i,className:"".concat(r,"-measure-cell")},m.createElement("div",{className:"".concat(r,"-measure-cell-content")},o||"")))}function OL(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize,o=e.columns,i=m.useRef(null),a=QT(rL,["measureRowRender"]).measureRowRender,l=m.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),ref:i,tabIndex:-1},m.createElement(tt.Collection,{onBatchResize:function(e){Bs(i.current)&&e.forEach(function(e){var t=e.data,n=e.size;r(t,n.offsetWidth)})}},n.map(function(e){var n=o.find(function(t){return t.key===e}),i=null==n?void 0:n.title,a=m.isValidElement(i)?m.cloneElement(i,{ref:null}):i;return m.createElement(EL,{prefixCls:t,key:e,columnKey:e,onColumnResize:r,title:a})})));return a?a(l):l}const kL=tL(function(e){var t,n=e.data,r=e.measureColumnWidth,o=QT(rL,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode","expandedRowOffset","fixedInfoList","colWidths"]),i=o.prefixCls,a=o.getComponent,l=o.onColumnResize,s=o.flattenColumns,c=o.getRowKey,u=o.expandedKeys,d=o.childrenColumnName,f=o.emptyNode,h=o.expandedRowOffset,p=void 0===h?0:h,g=o.colWidths,v=vL(n,d,u,c),y=m.useMemo(function(){return v.map(function(e){return e.rowKey})},[v]),b=m.useRef({renderWithProps:!1}),x=m.useMemo(function(){for(var e=s.length-p,t=0,n=0;n<p;n+=1)t+=g[n]||0;return{offset:p,colSpan:e,sticky:t}},[s.length,p,g]),w=a(["body","wrapper"],"tbody"),C=a(["body","row"],"tr"),S=a(["body","cell"],"td"),E=a(["body","cell"],"th");t=n.length?v.map(function(e,t){var n=e.record,r=e.indent,o=e.index,i=e.rowKey;return m.createElement(SL,{key:i,rowKey:i,rowKeys:y,record:n,index:t,renderIndex:o,rowComponent:C,cellComponent:S,scopeCellComponent:E,indent:r,expandedRowInfo:x})}):m.createElement(bL,{expanded:!0,className:"".concat(i,"-placeholder"),prefixCls:i,component:C,cellComponent:S,colSpan:s.length,isEmpty:!0},f);var O=iL(s);return m.createElement(oL.Provider,{value:b.current},m.createElement(w,{className:"".concat(i,"-tbody")},r&&m.createElement(OL,{prefixCls:i,columnsKey:O,onColumnResize:l,columns:s}),t))});var ML=["expandable"],$L="RC_TABLE_INTERNAL_COL_DEFINE";var IL=["columnType"];function NL(e){for(var t=e.colWidths,n=e.columns,r=e.columCount,o=QT(rL,["tableLayout"]).tableLayout,i=[],a=!1,l=(r||n.length)-1;l>=0;l-=1){var s=t[l],c=n&&n[l],u=void 0,d=void 0;if(c&&(u=c[$L],"auto"===o&&(d=c.minWidth)),s||d||u||a){var f=u||{};f.columnType;var h=$t(f,IL);i.unshift(m.createElement("col",E({key:l,style:{width:s,minWidth:d}},h))),a=!0}}return i.length>0?m.createElement("colgroup",null,i):null}var TL=["className","noData","columns","flattenColumns","colWidths","colGroup","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","scrollX","tableLayout","onScroll","children"];var LL=m.forwardRef(function(e,t){var n=e.className,r=e.noData,o=e.columns,i=e.flattenColumns,a=e.colWidths,l=e.colGroup,s=e.columCount,c=e.stickyOffsets,u=e.direction,d=e.fixHeader,f=e.stickyTopOffset,h=e.stickyBottomOffset,p=e.stickyClassName,g=e.scrollX,v=e.tableLayout,y=void 0===v?"fixed":v,b=e.onScroll,x=e.children,w=$t(e,TL),C=QT(rL,["prefixCls","scrollbarSize","isSticky","getComponent"]),E=C.prefixCls,O=C.scrollbarSize,k=C.isSticky,M=(0,C.getComponent)(["header","table"],"table"),$=k&&!d?0:O,I=m.useRef(null),N=m.useCallback(function(e){ue(t,e),ue(I,e)},[]);m.useEffect(function(){function e(e){var t=e,n=t.currentTarget,r=t.deltaX;r&&(b({currentTarget:n,scrollLeft:n.scrollLeft+r}),e.preventDefault())}var t=I.current;return null==t||t.addEventListener("wheel",e,{passive:!1}),function(){null==t||t.removeEventListener("wheel",e)}},[]);var T=i[i.length-1],L={fixed:T?T.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(E,"-cell-scrollbar")}}},R=m.useMemo(function(){return $?[].concat(it(o),[L]):o},[$,o]),_=m.useMemo(function(){return $?[].concat(it(i),[L]):i},[$,i]),A=m.useMemo(function(){var e=c.right,t=c.left;return D(D({},c),{},{left:"rtl"===u?[].concat(it(t.map(function(e){return e+$})),[0]):t,right:"rtl"===u?e:[].concat(it(e.map(function(e){return e+$})),[0]),isSticky:k})},[$,c,k]),P=function(e,t){return m.useMemo(function(){for(var n=[],r=0;r<t;r+=1){var o=e[r];if(void 0===o)return null;n[r]=o}return n},[e.join("_"),t])}(a,s),B=m.useMemo(function(){var e=!P||!P.length||P.every(function(e){return!e});return r||e},[r,P]);return m.createElement("div",{style:D({overflow:"hidden"},k?{top:f,bottom:h}:{}),ref:N,className:S(n,j({},p,!!p))},m.createElement(M,{style:{tableLayout:y,minWidth:"100%",width:g}},B?l:m.createElement(NL,{colWidths:[].concat(it(P),[$]),columCount:s+1,columns:_}),x(D(D({},w),{},{stickyOffsets:A,columns:R,flattenColumns:_}))))});const RL=m.memo(LL);var _L=function(e){var t,n=e.cells,r=e.stickyOffsets,o=e.flattenColumns,i=e.rowComponent,a=e.cellComponent,l=e.onHeaderRow,s=e.index,c=QT(rL,["prefixCls","direction"]),u=c.prefixCls,d=c.direction;l&&(t=l(n.map(function(e){return e.column}),s));var f=iL(n.map(function(e){return e.column}));return m.createElement(i,t,n.map(function(e,t){var n,i=e.column,l=uL(e.colStart,e.colEnd,o,r,d);return i&&i.onHeaderCell&&(n=e.column.onHeaderCell(i)),m.createElement(cL,E({},e,{scope:i.title?e.colSpan>1?"colgroup":"col":null,ellipsis:i.ellipsis,align:i.align,component:a,prefixCls:u,key:f[t]},l,{additionalProps:n,rowType:"header"}))}))};const AL=tL(function(e){var t=e.stickyOffsets,n=e.columns,r=e.flattenColumns,o=e.onHeaderRow,i=QT(rL,["prefixCls","getComponent"]),a=i.prefixCls,l=i.getComponent,s=m.useMemo(function(){return function(e){var t=[];!function e(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[o]=t[o]||[];var i=r;return n.filter(Boolean).map(function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:i},a=1,l=n.children;return l&&l.length>0&&(a=e(l,i,o+1).reduce(function(e,t){return e+t},0),r.hasSubColumns=!0),"colSpan"in n&&(a=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,t[o].push(r),i+=a,a})}(e,0);for(var n=t.length,r=function(e){t[e].forEach(function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)})},o=0;o<n;o+=1)r(o);return t}(n)},[n]),c=l(["header","wrapper"],"thead"),u=l(["header","row"],"tr"),d=l(["header","cell"],"th");return m.createElement(c,{className:"".concat(a,"-thead")},s.map(function(e,n){return m.createElement(_L,{key:n,flattenColumns:r,cells:e,stickyOffsets:t,rowComponent:u,cellComponent:d,onHeaderRow:o,index:n})}))});function PL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"number"==typeof t?t:t.endsWith("%")?e*parseFloat(t)/100:null}var jL=["children"],BL=["fixed"];function DL(e){return N(e).filter(function(e){return m.isValidElement(e)}).map(function(e){var t=e.key,n=e.props,r=n.children,o=D({key:t},$t(n,jL));return r&&(o.children=DL(r)),o})}function zL(e){return e.filter(function(e){return e&&"object"===O(e)&&!e.hidden}).map(function(e){var t=e.children;return t&&t.length>0?D(D({},e),{},{children:zL(t)}):e})}function HL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";return e.filter(function(e){return e&&"object"===O(e)}).reduce(function(e,n,r){var o=n.fixed,i=!0===o?"left":o,a="".concat(t,"-").concat(r),l=n.children;return l&&l.length>0?[].concat(it(e),it(HL(l,a).map(function(e){var t;return D(D({},e),{},{fixed:null!==(t=e.fixed)&&void 0!==t?t:i})}))):[].concat(it(e),[D(D({key:a},n),{},{fixed:i})])},[])}function FL(e,t){var n=e.prefixCls,r=e.columns,o=e.children,i=e.expandable,a=e.expandedKeys,l=e.columnTitle,s=e.getRowKey,c=e.onTriggerExpand,u=e.expandIcon,d=e.rowExpandable,f=e.expandIconColumnIndex,h=e.expandedRowOffset,p=void 0===h?0:h,g=e.direction,v=e.expandRowByClick,y=e.columnWidth,b=e.fixed,x=e.scrollWidth,w=e.clientWidth,C=m.useMemo(function(){return zL((r||DL(o)||[]).slice())},[r,o]),S=m.useMemo(function(){if(i){var e=C.slice();if(!e.includes(YT)){var t=f||0,r=0===t&&"right"===b?C.length:t;r>=0&&e.splice(r,0,YT)}var o=e.indexOf(YT);e=e.filter(function(e,t){return e!==YT||t===o});var h,g=C[o];h=b||(g?g.fixed:null);var x=j(j(j(j(j(j({},$L,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",l),"fixed",h),"className","".concat(n,"-row-expand-icon-cell")),"width",y),"render",function(e,t,r){var o=s(t,r),i=a.has(o),l=!d||d(t),f=u({prefixCls:n,expanded:i,expandable:l,record:t,onExpand:c});return v?m.createElement("span",{onClick:function(e){return e.stopPropagation()}},f):f});return e.map(function(e,t){var n=e===YT?x:e;return t<p?D(D({},n),{},{fixed:n.fixed||"left"}):n})}return C.filter(function(e){return e!==YT})},[i,C,s,a,u,g,p]),E=m.useMemo(function(){var e=S;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e},[t,S,g]),O=m.useMemo(function(){return"rtl"===g?function(e){return e.map(function(e){var t=e.fixed,n=t;return"left"===t?n="right":"right"===t&&(n="left"),D({fixed:n},$t(e,BL))})}(HL(E)):HL(E)},[E,g,x]),k=m.useMemo(function(){for(var e=-1,t=O.length-1;t>=0;t-=1){var n=O[t].fixed;if("left"===n||!0===n){e=t;break}}if(e>=0)for(var r=0;r<=e;r+=1){var o=O[r].fixed;if("left"!==o&&!0!==o)return!0}var i=O.findIndex(function(e){return"right"===e.fixed});if(i>=0)for(var a=i;a<O.length;a+=1){if("right"!==O[a].fixed)return!0}return!1},[O]),M=function(e,t,n){return m.useMemo(function(){if(t&&t>0){var r=0,o=0;e.forEach(function(e){var n=PL(t,e.width);n?r+=n:o+=1});var i=Math.max(t,n),a=Math.max(i-r,o),l=o,s=a/o,c=0,u=e.map(function(e){var n=D({},e),r=PL(t,n.width);if(r)n.width=r;else{var o=Math.floor(s);n.width=1===l?a:o,a-=o,l-=1}return c+=n.width,n});if(c<i){var d=i/c;a=i,u.forEach(function(e,t){var n=Math.floor(e.width*d);e.width=t===u.length-1?a:n,a-=n})}return[u,Math.max(c,i)]}return[e,t]},[e,t,n])}(O,x,w),$=pt(M,2),I=$[0],N=$[1];return[E,I,N,k]}function WL(e,t,n){var r=function(e){var t,n=e.expandable,r=$t(e,ML);return!1===(t="expandable"in e?D(D({},r),n):r).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(e),o=r.expandIcon,i=r.expandedRowKeys,a=r.defaultExpandedRowKeys,l=r.defaultExpandAllRows,s=r.expandedRowRender,c=r.onExpand,u=r.onExpandedRowsChange,d=o||xL,f=r.childrenColumnName||"children",h=m.useMemo(function(){return s?"row":!!(e.expandable&&e.internalHooks===KT&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(e){return e&&"object"===O(e)&&e[f]}))&&"nest"},[!!s,t]),p=m.useState(function(){return a||(l?function(e,t,n){var r=[];return function e(o){(o||[]).forEach(function(o,i){r.push(t(o,i)),e(o[n])})}(e),r}(t,n,f):[])}),g=pt(p,2),v=g[0],y=g[1],b=m.useMemo(function(){return new Set(i||v||[])},[i,v]),x=m.useCallback(function(e){var r,o=n(e,t.indexOf(e)),i=b.has(o);i?(b.delete(o),r=it(b)):r=[].concat(it(b),[o]),y(r),c&&c(!i,e),u&&u(r)},[n,b,t,c,u]);return[r,h,b,d,f,x]}var GL=mt()?window:null;function VL(e){var t=e.className,n=e.children;return m.createElement("div",{className:t},n)}function qL(e){var t=H(e).getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var XL=function(e,t){var n,r,o,i,a,l,s,c=e.scrollBodyRef,u=e.onScroll,d=e.offsetScroll,f=e.container,h=e.direction,p=QT(rL,"prefixCls"),g=(null===(n=c.current)||void 0===n?void 0:n.scrollWidth)||0,v=(null===(r=c.current)||void 0===r?void 0:r.clientWidth)||0,y=g&&v*(v/g),b=m.useRef(),x=(o={scrollLeft:0,isHiddenScrollBar:!0},i=m.useRef(o),a=pt(m.useState({}),2)[1],l=m.useRef(null),s=m.useRef([]),m.useEffect(function(){return function(){l.current=null}},[]),[i.current,function(e){s.current.push(e);var t=Promise.resolve();l.current=t,t.then(function(){if(l.current===t){var e=s.current,n=i.current;s.current=[],e.forEach(function(e){i.current=e(i.current)}),l.current=null,n!==i.current&&a({})}})}]),w=pt(x,2),C=w[0],E=w[1],O=m.useRef({delta:0,x:0}),k=pt(m.useState(!1),2),M=k[0],$=k[1],I=m.useRef(null);m.useEffect(function(){return function(){dt.cancel(I.current)}},[]);var N=function(){$(!1)},T=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(M&&0!==n){var r=O.current.x+e.pageX-O.current.x-O.current.delta,o="rtl"===h;r=Math.max(o?y-v:0,Math.min(o?0:v-y,r)),(!o||Math.abs(r)+Math.abs(y)<v)&&(u({scrollLeft:r/v*(g+2)}),O.current.x=e.pageX)}else M&&$(!1)},L=function(){dt.cancel(I.current),I.current=dt(function(){if(c.current){var e=qL(c.current).top,t=e+c.current.offsetHeight,n=f===window?document.documentElement.scrollTop+window.innerHeight:qL(f).top+f.clientHeight;E(function(r){return D(D({},r),{},{isHiddenScrollBar:t-xd()<=n||e>=n-d})})}})},R=function(e){E(function(t){return D(D({},t),{},{scrollLeft:g?e/g*v:0})})};return m.useImperativeHandle(t,function(){return{setScrollLeft:R,checkScrollBarVisible:L}}),m.useEffect(function(){var e=F$(document.body,"mouseup",N,!1),t=F$(document.body,"mousemove",T,!1);return L(),function(){e.remove(),t.remove()}},[y,M]),m.useEffect(function(){if(c.current){for(var e=[],t=H(c.current);t;)e.push(t),t=t.parentElement;return e.forEach(function(e){return e.addEventListener("scroll",L,!1)}),window.addEventListener("resize",L,!1),window.addEventListener("scroll",L,!1),f.addEventListener("scroll",L,!1),function(){e.forEach(function(e){return e.removeEventListener("scroll",L)}),window.removeEventListener("resize",L),window.removeEventListener("scroll",L),f.removeEventListener("scroll",L)}}},[f]),m.useEffect(function(){C.isHiddenScrollBar||E(function(e){var t=c.current;return t?D(D({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e})},[C.isHiddenScrollBar]),g<=v||!y||C.isHiddenScrollBar?null:m.createElement("div",{style:{height:xd(),width:v,bottom:d},className:"".concat(p,"-sticky-scroll")},m.createElement("div",{onMouseDown:function(e){e.persist(),O.current.delta=e.pageX-C.scrollLeft,O.current.x=0,$(!0),e.preventDefault()},ref:b,className:S("".concat(p,"-sticky-scroll-bar"),j({},"".concat(p,"-sticky-scroll-bar-active"),M)),style:{width:"".concat(y,"px"),transform:"translate3d(".concat(C.scrollLeft,"px, 0, 0)")}}))};const UL=m.forwardRef(XL);var YL="rc-table",KL=[],ZL={};function QL(){return"No Data"}function JL(e,t){var n=D({rowKey:"key",prefixCls:YL,emptyText:QL},e),r=n.prefixCls,o=n.className,i=n.rowClassName,a=n.style,l=n.data,s=n.rowKey,c=n.scroll,u=n.tableLayout,d=n.direction,f=n.title,h=n.footer,p=n.summary,g=n.caption,v=n.id,y=n.showHeader,b=n.components,x=n.emptyText,w=n.onRow,C=n.onHeaderRow,k=n.measureRowRender,M=n.onScroll,$=n.internalHooks,I=n.transformColumns,N=n.internalRefs,T=n.tailor,L=n.getContainerWidth,R=n.sticky,_=n.rowHoverable,A=void 0===_||_,P=l||KL,B=!!P.length,z=$===KT,F=m.useCallback(function(e,t){return pr(b,e)||t},[b]),W=m.useMemo(function(){return"function"==typeof s?s:function(e){return e&&e[s]}},[s]),G=F(["body"]),V=function(){var e=pt(m.useState(-1),2),t=e[0],n=e[1],r=pt(m.useState(-1),2),o=r[0],i=r[1];return[t,o,m.useCallback(function(e,t){n(e),i(t)},[])]}(),q=pt(V,3),X=q[0],U=q[1],Y=q[2],K=pt(WL(n,P,W),6),Z=K[0],Q=K[1],J=K[2],ee=K[3],te=K[4],ne=K[5],re=null==c?void 0:c.x,oe=pt(m.useState(0),2),ie=oe[0],ae=oe[1],le=pt(FL(D(D(D({},n),Z),{},{expandable:!!Z.expandedRowRender,columnTitle:Z.columnTitle,expandedKeys:J,getRowKey:W,onTriggerExpand:ne,expandIcon:ee,expandIconColumnIndex:Z.expandIconColumnIndex,direction:d,scrollWidth:z&&T&&"number"==typeof re?re:null,clientWidth:ie}),z?I:null),4),ce=le[0],ue=le[1],de=le[2],fe=le[3],he=null!=de?de:re,pe=m.useMemo(function(){return{columns:ce,flattenColumns:ue}},[ce,ue]),ge=m.useRef(),me=m.useRef(),ve=m.useRef(),ye=m.useRef();m.useImperativeHandle(t,function(){return{nativeElement:ge.current,scrollTo:function(e){var t,n;if(ve.current instanceof HTMLElement){var r=e.index,o=e.top,i=e.key;if("number"!=typeof(n=o)||Number.isNaN(n)){var a,l=null!=i?i:W(P[r]);null===(a=ve.current.querySelector('[data-row-key="'.concat(l,'"]')))||void 0===a||a.scrollIntoView()}else{var s;null===(s=ve.current)||void 0===s||s.scrollTo({top:o})}}else null!==(t=ve.current)&&void 0!==t&&t.scrollTo&&ve.current.scrollTo(e)}}});var be,xe,we,Ce=m.useRef(),Se=pt(m.useState(!1),2),Ee=Se[0],Oe=Se[1],ke=pt(m.useState(!1),2),Me=ke[0],$e=ke[1],Ie=pt(m.useState(new Map),2),Ne=Ie[0],Te=Ie[1],Le=iL(ue).map(function(e){return Ne.get(e)}),Re=m.useMemo(function(){return Le},[Le.join("_")]),_e=function(e,t,n){return m.useMemo(function(){var r=t.length,o=function(n,r,o){for(var i=[],a=0,l=n;l!==r;l+=o)i.push(a),t[l].fixed&&(a+=e[l]||0);return i},i=o(0,r,1),a=o(r-1,-1,-1).reverse();return"rtl"===n?{left:a,right:i}:{left:i,right:a}},[e,t,n])}(Re,ue,d),Ae=c&&aL(c.y),Pe=c&&aL(he)||Boolean(Z.fixed),je=Pe&&ue.some(function(e){return e.fixed}),Be=m.useRef(),De=function(e,t){var n="object"===O(e)?e:{},r=n.offsetHeader,o=void 0===r?0:r,i=n.offsetSummary,a=void 0===i?0:i,l=n.offsetScroll,s=void 0===l?0:l,c=n.getContainer,u=(void 0===c?function(){return GL}:c)()||GL,d=!!e;return m.useMemo(function(){return{isSticky:d,stickyClassName:d?"".concat(t,"-sticky-holder"):"",offsetHeader:o,offsetSummary:a,offsetScroll:s,container:u}},[d,s,o,a,t,u])}(R,r),ze=De.isSticky,He=De.offsetHeader,Fe=De.offsetSummary,We=De.offsetScroll,Ge=De.stickyClassName,Ve=De.container,qe=m.useMemo(function(){return null==p?void 0:p(P)},[p,P]),Xe=(Ae||ze)&&m.isValidElement(qe)&&qe.type===hL&&qe.props.fixed;Ae&&(xe={overflowY:B?"scroll":"auto",maxHeight:c.y}),Pe&&(be={overflowX:"auto"},Ae||(xe={overflowY:"hidden"}),we={width:!0===he?"auto":he,minWidth:"100%"});var Ue=m.useCallback(function(e,t){Te(function(n){if(n.get(e)!==t){var r=new Map(n);return r.set(e,t),r}return n})},[]),Ye=pt(function(){var e=m.useRef(null),t=m.useRef();function n(){window.clearTimeout(t.current)}return m.useEffect(function(){return n},[]),[function(r){e.current=r,n(),t.current=window.setTimeout(function(){e.current=null,t.current=void 0},100)},function(){return e.current}]}(),2),Ke=Ye[0],Ze=Ye[1];function Qe(e,t){t&&("function"==typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e,t.scrollLeft!==e&&setTimeout(function(){t.scrollLeft=e},0)))}var Je=zo(function(e){var t,n=e.currentTarget,r=e.scrollLeft,o="rtl"===d,i="number"==typeof r?r:n.scrollLeft,a=n||ZL;Ze()&&Ze()!==a||(Ke(a),Qe(i,me.current),Qe(i,ve.current),Qe(i,Ce.current),Qe(i,null===(t=Be.current)||void 0===t?void 0:t.setScrollLeft));var l=n||me.current;if(l){var s=z&&T&&"number"==typeof he?he:l.scrollWidth,c=l.clientWidth;if(s===c)return Oe(!1),void $e(!1);o?(Oe(-i<s-c),$e(-i>0)):(Oe(i>0),$e(i<s-c))}}),et=zo(function(e){Je(e),null==M||M(e)}),nt=function(){var e;Pe&&ve.current?Je({currentTarget:H(ve.current),scrollLeft:null===(e=ve.current)||void 0===e?void 0:e.scrollLeft}):(Oe(!1),$e(!1))},rt=m.useRef(!1);m.useEffect(function(){rt.current&&nt()},[Pe,l,ce.length]),m.useEffect(function(){rt.current=!0},[]);var ot=pt(m.useState(0),2),it=ot[0],at=ot[1],lt=pt(m.useState(!0),2),st=lt[0],ct=lt[1];Jt(function(){T&&z||(ve.current instanceof Element?at(wd(ve.current).width):at(wd(ye.current).width)),ct(uh("position","sticky"))},[]),m.useEffect(function(){z&&N&&(N.body.current=ve.current)});var ut,dt=m.useCallback(function(e){return m.createElement(m.Fragment,null,m.createElement(AL,e),"top"===Xe&&m.createElement(pL,e,qe))},[Xe,qe]),ft=m.useCallback(function(e){return m.createElement(pL,e,qe)},[qe]),ht=F(["table"],"table"),gt=m.useMemo(function(){return u||(je?"max-content"===he?"auto":"fixed":Ae||ze||ue.some(function(e){return e.ellipsis})?"fixed":"auto")},[Ae,je,ue,u,ze]),mt={colWidths:Re,columCount:ue.length,stickyOffsets:_e,onHeaderRow:C,fixHeader:Ae,scroll:c},vt=m.useMemo(function(){return B?null:"function"==typeof x?x():x},[B,x]),yt=m.createElement(kL,{data:P,measureColumnWidth:Ae||Pe||ze}),bt=m.createElement(NL,{colWidths:ue.map(function(e){return e.width}),columns:ue}),xt=null!=g?m.createElement("caption",{className:"".concat(r,"-caption")},g):void 0,wt=ol(n,{data:!0}),Ct=ol(n,{aria:!0});if(Ae||ze){var St;"function"==typeof G?(St=G(P,{scrollbarSize:it,ref:ve,onScroll:Je}),mt.colWidths=ue.map(function(e,t){var n=e.width,r=t===ue.length-1?n-it:n;return"number"!=typeof r||Number.isNaN(r)?0:r})):St=m.createElement("div",{style:D(D({},be),xe),onScroll:et,ref:ve,className:S("".concat(r,"-body"))},m.createElement(ht,E({style:D(D({},we),{},{tableLayout:gt})},Ct),xt,bt,yt,!Xe&&qe&&m.createElement(pL,{stickyOffsets:_e,flattenColumns:ue},qe)));var Et=D(D(D({noData:!P.length},mt),pe),{},{direction:d,stickyClassName:Ge,scrollX:he,tableLayout:gt,onScroll:Je});ut=m.createElement(m.Fragment,null,!1!==y&&m.createElement(RL,E({},Et,{stickyTopOffset:He,className:"".concat(r,"-header"),ref:me,colGroup:bt}),dt),St,Xe&&"top"!==Xe&&m.createElement(RL,E({},Et,{stickyBottomOffset:Fe,className:"".concat(r,"-summary"),ref:Ce,colGroup:bt}),ft),ze&&ve.current&&ve.current instanceof Element&&m.createElement(UL,{ref:Be,offsetScroll:We,scrollBodyRef:ve,onScroll:Je,container:Ve,direction:d}))}else ut=m.createElement("div",{style:D(D({},be),xe),className:S("".concat(r,"-content")),onScroll:Je,ref:ve},m.createElement(ht,E({style:D(D({},we),{},{tableLayout:gt})},Ct),xt,bt,!1!==y&&m.createElement(AL,E({},mt,pe)),yt,qe&&m.createElement(pL,{stickyOffsets:_e,flattenColumns:ue},qe)));var Ot=m.createElement("div",E({className:S(r,o,j(j(j(j(j(j(j(j(j(j({},"".concat(r,"-rtl"),"rtl"===d),"".concat(r,"-ping-left"),Ee),"".concat(r,"-ping-right"),Me),"".concat(r,"-layout-fixed"),"fixed"===u),"".concat(r,"-fixed-header"),Ae),"".concat(r,"-fixed-column"),je),"".concat(r,"-fixed-column-gapped"),je&&fe),"".concat(r,"-scroll-horizontal"),Pe),"".concat(r,"-has-fix-left"),ue[0]&&ue[0].fixed),"".concat(r,"-has-fix-right"),ue[ue.length-1]&&"right"===ue[ue.length-1].fixed)),style:a,id:v,ref:ge},wt),f&&m.createElement(VL,{className:"".concat(r,"-title")},f(P)),m.createElement("div",{ref:ye,className:"".concat(r,"-container")},ut),h&&m.createElement(VL,{className:"".concat(r,"-footer")},h(P)));Pe&&(Ot=m.createElement(tt,{onResize:function(e){var t,n=e.width;null===(t=Be.current)||void 0===t||t.checkScrollBarVisible();var r=ge.current?ge.current.offsetWidth:n;z&&L&&ge.current&&(r=L(ge.current,r)||r),r!==ie&&(nt(),ae(r))}},Ot));var kt=function(e,t,n){var r=e.map(function(r,o){return uL(o,o,e,t,n)});return se(function(){return r},[r],function(e,t){return!It(e,t)})}(ue,_e,d),Mt=m.useMemo(function(){return{scrollX:he,prefixCls:r,getComponent:F,scrollbarSize:it,direction:d,fixedInfoList:kt,isSticky:ze,supportSticky:st,componentWidth:ie,fixHeader:Ae,fixColumn:je,horizonScroll:Pe,tableLayout:gt,rowClassName:i,expandedRowClassName:Z.expandedRowClassName,expandIcon:ee,expandableType:Q,expandRowByClick:Z.expandRowByClick,expandedRowRender:Z.expandedRowRender,expandedRowOffset:Z.expandedRowOffset,onTriggerExpand:ne,expandIconColumnIndex:Z.expandIconColumnIndex,indentSize:Z.indentSize,allColumnsFixedLeft:ue.every(function(e){return"left"===e.fixed}),emptyNode:vt,columns:ce,flattenColumns:ue,onColumnResize:Ue,colWidths:Re,hoverStartRow:X,hoverEndRow:U,onHover:Y,rowExpandable:Z.rowExpandable,onRow:w,getRowKey:W,expandedKeys:J,childrenColumnName:te,rowHoverable:A,measureRowRender:k}},[he,r,F,it,d,kt,ze,st,ie,Ae,je,Pe,gt,i,Z.expandedRowClassName,ee,Q,Z.expandRowByClick,Z.expandedRowRender,Z.expandedRowOffset,ne,Z.expandIconColumnIndex,Z.indentSize,vt,ce,ue,Ue,Re,X,U,Y,Z.rowExpandable,w,W,J,te,A,k]);return m.createElement(rL.Provider,{value:Mt},Ot)}var eR=m.forwardRef(JL);function tR(e){return eL(eR,e)}var nR=tR();nR.EXPAND_COLUMN=YT,nR.INTERNAL_HOOKS=KT,nR.Column=function(e){return null},nR.ColumnGroup=function(e){return null},nR.Summary=gL;var rR=ZT(null),oR=ZT(null);function iR(e){var t=e.rowInfo,n=e.column,r=e.colIndex,o=e.indent,i=e.index,a=e.component,l=e.renderIndex,s=e.record,c=e.style,u=e.className,d=e.inverse,f=e.getHeight,h=n.render,p=n.dataIndex,g=n.className,v=n.width,y=QT(oR,["columnsOffset"]).columnsOffset,b=CL(t,n,r,o,i),x=b.key,w=b.fixedInfo,C=b.appendCellNode,O=b.additionalCellProps,k=O.style,M=O.colSpan,$=void 0===M?1:M,I=O.rowSpan,N=void 0===I?1:I,T=function(e,t,n){return n[e+(t||1)]-(n[e]||0)}(r-1,$,y),L=$>1?v-T:0,R=D(D(D({},k),c),{},{flex:"0 0 ".concat(T,"px"),width:"".concat(T,"px"),marginRight:L,pointerEvents:"auto"}),_=m.useMemo(function(){return d?N<=1:0===$||0===N||N>1},[N,$,d]);_?R.visibility="hidden":d&&(R.height=null==f?void 0:f(N));var A=_?function(){return null}:h,P={};return 0!==N&&0!==$||(P.rowSpan=1,P.colSpan=1),m.createElement(cL,E({className:S(g,u),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:a,prefixCls:t.prefixCls,key:x,record:s,index:i,renderIndex:l,dataIndex:p,render:A,shouldCellUpdate:n.shouldCellUpdate},w,{appendNode:C,additionalProps:D(D({},O),{},{style:R},P)}))}var aR=["data","index","className","rowKey","style","extra","getHeight"],lR=tL(m.forwardRef(function(e,t){var n,r=e.data,o=e.index,i=e.className,a=e.rowKey,l=e.style,s=e.extra,c=e.getHeight,u=$t(e,aR),d=r.record,f=r.indent,h=r.index,p=QT(rL,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),g=p.scrollX,v=p.flattenColumns,y=p.prefixCls,b=p.fixColumn,x=p.componentWidth,w=QT(rR,["getComponent"]).getComponent,C=yL(d,a,o,f),O=w(["body","row"],"div"),k=w(["body","cell"],"div"),M=C.rowSupportExpand,$=C.expanded,I=C.rowProps,N=C.expandedRowRender,T=C.expandedRowClassName;if(M&&$){var L=N(d,o,f+1,$),R=wL(T,d,o,f),_={};b&&(_={style:j({},"--virtual-width","".concat(x,"px"))});var A="".concat(y,"-expanded-row-cell");n=m.createElement(O,{className:S("".concat(y,"-expanded-row"),"".concat(y,"-expanded-row-level-").concat(f+1),R)},m.createElement(cL,{component:k,prefixCls:y,className:S(A,j({},"".concat(A,"-fixed"),b)),additionalProps:_},L))}var P=D(D({},l),{},{width:g});s&&(P.position="absolute",P.pointerEvents="none");var B=m.createElement(O,E({},I,u,{"data-row-key":a,ref:M?null:t,className:S(i,"".concat(y,"-row"),null==I?void 0:I.className,j({},"".concat(y,"-row-extra"),s)),style:D(D({},P),null==I?void 0:I.style)}),v.map(function(e,t){return m.createElement(iR,{key:t,component:k,rowInfo:C,column:e,colIndex:t,indent:f,index:o,renderIndex:h,record:d,inverse:s,getHeight:c})}));return M?m.createElement("div",{ref:t},B,n):B})),sR=m.forwardRef(function(e,t){var n=e.data,r=e.onScroll,o=QT(rL,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),i=o.flattenColumns,a=o.onColumnResize,l=o.getRowKey,s=o.expandedKeys,c=o.prefixCls,u=o.childrenColumnName,d=o.scrollX,f=o.direction,h=QT(rR),p=h.sticky,g=h.scrollY,v=h.listItemHeight,y=h.getComponent,b=h.onScroll,x=m.useRef(),w=vL(n,u,s,l),C=m.useMemo(function(){var e=0;return i.map(function(t){var n=t.width,r=t.minWidth,o=t.key,i=Math.max(n||0,r||0);return[o,i,e+=i]})},[i]),S=m.useMemo(function(){return C.map(function(e){return e[2]})},[C]);m.useEffect(function(){C.forEach(function(e){var t=pt(e,2),n=t[0],r=t[1];a(n,r)})},[C]),m.useImperativeHandle(t,function(){var e,t={scrollTo:function(e){var t;null===(t=x.current)||void 0===t||t.scrollTo(e)},nativeElement:null===(e=x.current)||void 0===e?void 0:e.nativeElement};return Object.defineProperty(t,"scrollLeft",{get:function(){var e;return(null===(e=x.current)||void 0===e?void 0:e.getScrollInfo().x)||0},set:function(e){var t;null===(t=x.current)||void 0===t||t.scrollTo({left:e})}}),Object.defineProperty(t,"scrollTop",{get:function(){var e;return(null===(e=x.current)||void 0===e?void 0:e.getScrollInfo().y)||0},set:function(e){var t;null===(t=x.current)||void 0===t||t.scrollTo({top:e})}}),t});var E=function(e,t){var n,r=null===(n=w[t])||void 0===n?void 0:n.record,o=e.onCell;if(o){var i,a=o(r,t);return null!==(i=null==a?void 0:a.rowSpan)&&void 0!==i?i:1}return 1},k=m.useMemo(function(){return{columnsOffset:S}},[S]),M="".concat(c,"-tbody"),$=y(["body","wrapper"]),I={};return p&&(I.position="sticky",I.bottom=0,"object"===O(p)&&p.offsetScroll&&(I.bottom=p.offsetScroll)),m.createElement(oR.Provider,{value:k},m.createElement(em,{fullHeight:!1,ref:x,prefixCls:"".concat(M,"-virtual"),styles:{horizontalScrollBar:I},className:M,height:g,itemHeight:v||24,data:w,itemKey:function(e){return l(e.record)},component:$,scrollWidth:d,direction:f,onVirtualScroll:function(e){var t,n=e.x;r({currentTarget:null===(t=x.current)||void 0===t?void 0:t.nativeElement,scrollLeft:n})},onScroll:b,extraRender:function(e){var t=e.start,n=e.end,r=e.getSize,o=e.offsetY;if(n<0)return null;for(var a=i.filter(function(e){return 0===E(e,t)}),s=t,c=function(e){if(!(a=a.filter(function(t){return 0===E(t,e)})).length)return s=e,1},u=t;u>=0&&!c(u);u-=1);for(var d=i.filter(function(e){return 1!==E(e,n)}),f=n,h=function(e){if(!(d=d.filter(function(t){return 1!==E(t,e)})).length)return f=Math.max(e-1,n),1},p=n;p<w.length&&!h(p);p+=1);for(var g=[],v=function(e){if(!w[e])return 1;i.some(function(t){return E(t,e)>1})&&g.push(e)},y=s;y<=f;y+=1)v(y);return g.map(function(e){var t=w[e],n=l(t.record,e),i=r(n);return m.createElement(lR,{key:e,data:t,rowKey:n,index:e,style:{top:-o+i.top},extra:!0,getHeight:function(t){var o=e+t-1,i=l(w[o].record,o),a=r(n,i);return a.bottom-a.top}})})}},function(e,t,n){var r=l(e.record,t);return m.createElement(lR,{data:e,rowKey:r,index:t,style:n.style})}))}),cR=tL(sR),uR=function(e,t){var n=t.ref,r=t.onScroll;return m.createElement(cR,{ref:n,data:e,onScroll:r})};function dR(e,t){var n=e.data,r=e.columns,o=e.scroll,i=e.sticky,a=e.prefixCls,l=void 0===a?YL:a,s=e.className,c=e.listItemHeight,u=e.components,d=e.onScroll,f=o||{},h=f.x,p=f.y;"number"!=typeof h&&(h=1),"number"!=typeof p&&(p=500);var g=zo(function(e,t){return pr(u,e)||t}),v=zo(d),y=m.useMemo(function(){return{sticky:i,scrollY:p,listItemHeight:c,getComponent:g,onScroll:v}},[i,p,c,g,v]);return m.createElement(rR.Provider,{value:y},m.createElement(nR,E({},e,{className:S(s,"".concat(l,"-virtual")),scroll:D(D({},o),{},{x:h}),components:D(D({},u),{},{body:null!=n&&n.length?uR:void 0}),columns:r,internalHooks:KT,tailor:!0,ref:t})))}var fR=m.forwardRef(dR);function hR(e){return eL(fR,e)}hR();var pR=m.createContext(null),gR=m.createContext({}),mR=function(e){for(var t=e.prefixCls,n=e.level,r=e.isStart,o=e.isEnd,i="".concat(t,"-indent-unit"),a=[],l=0;l<n;l+=1)a.push(m.createElement("span",{key:l,className:S(i,j(j({},"".concat(i,"-start"),r[l]),"".concat(i,"-end"),o[l]))}));return m.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},a)};const vR=m.memo(mR);var yR=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],bR="open",xR="close",wR=function(e){var t,n,r,o=e.eventKey,i=e.className,a=e.style,l=e.dragOver,s=e.dragOverGapTop,c=e.dragOverGapBottom,u=e.isLeaf,d=e.isStart,f=e.isEnd,h=e.expanded,g=e.selected,m=e.checked,v=e.halfChecked,y=e.loading,b=e.domRef,x=e.active,w=e.data,C=e.onMouseMove,O=e.selectable,k=$t(e,yR),M=p.useContext(pR),$=p.useContext(gR),I=p.useRef(null),N=pt(p.useState(!1),2),T=N[0],L=N[1],R=!!(M.disabled||e.disabled||null!==(t=$.nodeDisabled)&&void 0!==t&&t.call($,w)),_=p.useMemo(function(){return!(!M.checkable||!1===e.checkable)&&M.checkable},[M.checkable,e.checkable]),A=function(t){R||_&&!e.disableCheckbox&&M.onNodeCheck(t,AO(e),!m)},P=p.useMemo(function(){return"boolean"==typeof O?O:M.selectable},[O,M.selectable]),B=function(t){M.onNodeClick(t,AO(e)),P?function(t){R||M.onNodeSelect(t,AO(e))}(t):A(t)},z=function(t){M.onNodeDoubleClick(t,AO(e))},H=function(t){M.onNodeMouseEnter(t,AO(e))},F=function(t){M.onNodeMouseLeave(t,AO(e))},W=function(t){M.onNodeContextMenu(t,AO(e))},G=p.useMemo(function(){return!(!M.draggable||M.draggable.nodeDraggable&&!M.draggable.nodeDraggable(w))},[M.draggable,w]),V=function(t){y||M.onNodeExpand(t,AO(e))},q=p.useMemo(function(){var e=(kO(M.keyEntities,o)||{}).children;return Boolean((e||[]).length)},[M.keyEntities,o]),X=p.useMemo(function(){return!1!==u&&(u||!M.loadData&&!q||M.loadData&&e.loaded&&!q)},[u,M.loadData,q,e.loaded]);p.useEffect(function(){y||"function"!=typeof M.loadData||!h||X||e.loaded||M.onNodeLoad(AO(e))},[y,M.loadData,M.onNodeLoad,h,X,e]);var U=p.useMemo(function(){var e;return null!==(e=M.draggable)&&void 0!==e&&e.icon?p.createElement("span",{className:"".concat(M.prefixCls,"-draggable-icon")},M.draggable.icon):null},[M.draggable]),Y=function(t){var n=e.switcherIcon||M.switcherIcon;return"function"==typeof n?n(D(D({},e),{},{isLeaf:t})):n},K=p.useMemo(function(){if(!_)return null;var t="boolean"!=typeof _?_:null;return p.createElement("span",{className:S("".concat(M.prefixCls,"-checkbox"),j(j(j({},"".concat(M.prefixCls,"-checkbox-checked"),m),"".concat(M.prefixCls,"-checkbox-indeterminate"),!m&&v),"".concat(M.prefixCls,"-checkbox-disabled"),R||e.disableCheckbox)),onClick:A,role:"checkbox","aria-checked":v?"mixed":m,"aria-disabled":R||e.disableCheckbox,"aria-label":"Select ".concat("string"==typeof e.title?e.title:"tree node")},t)},[_,m,v,R,e.disableCheckbox,e.title]),Z=p.useMemo(function(){return X?null:h?bR:xR},[X,h]),Q=p.useMemo(function(){return p.createElement("span",{className:S("".concat(M.prefixCls,"-iconEle"),"".concat(M.prefixCls,"-icon__").concat(Z||"docu"),j({},"".concat(M.prefixCls,"-icon_loading"),y))})},[M.prefixCls,Z,y]),J=p.useMemo(function(){var t=Boolean(M.draggable);return!e.disabled&&t&&M.dragOverNodeKey===o?M.dropIndicatorRender({dropPosition:M.dropPosition,dropLevelOffset:M.dropLevelOffset,indent:M.indent,prefixCls:M.prefixCls,direction:M.direction}):null},[M.dropPosition,M.dropLevelOffset,M.indent,M.prefixCls,M.direction,M.draggable,M.dragOverNodeKey,M.dropIndicatorRender]),ee=p.useMemo(function(){var t,n,r=e.title,o=void 0===r?"---":r,i="".concat(M.prefixCls,"-node-content-wrapper");if(M.showIcon){var a=e.icon||M.icon;t=a?p.createElement("span",{className:S("".concat(M.prefixCls,"-iconEle"),"".concat(M.prefixCls,"-icon__customize"))},"function"==typeof a?a(e):a):Q}else M.loadData&&y&&(t=Q);return n="function"==typeof o?o(w):M.titleRender?M.titleRender(w):o,p.createElement("span",{ref:I,title:"string"==typeof o?o:"",className:S(i,"".concat(i,"-").concat(Z||"normal"),j({},"".concat(M.prefixCls,"-node-selected"),!R&&(g||T))),onMouseEnter:H,onMouseLeave:F,onContextMenu:W,onClick:B,onDoubleClick:z},t,p.createElement("span",{className:"".concat(M.prefixCls,"-title")},n),J)},[M.prefixCls,M.showIcon,e,M.icon,Q,M.titleRender,w,Z,H,F,W,B,z]),te=ol(k,{aria:!0,data:!0}),ne=(kO(M.keyEntities,o)||{}).level,re=f[f.length-1],oe=!R&&G,ie=M.draggingNodeKey===o,ae=void 0!==O?{"aria-selected":!!O}:void 0;return p.createElement("div",E({ref:b,role:"treeitem","aria-expanded":u?void 0:h,className:S(i,"".concat(M.prefixCls,"-treenode"),(r={},j(j(j(j(j(j(j(j(j(j(r,"".concat(M.prefixCls,"-treenode-disabled"),R),"".concat(M.prefixCls,"-treenode-switcher-").concat(h?"open":"close"),!u),"".concat(M.prefixCls,"-treenode-checkbox-checked"),m),"".concat(M.prefixCls,"-treenode-checkbox-indeterminate"),v),"".concat(M.prefixCls,"-treenode-selected"),g),"".concat(M.prefixCls,"-treenode-loading"),y),"".concat(M.prefixCls,"-treenode-active"),x),"".concat(M.prefixCls,"-treenode-leaf-last"),re),"".concat(M.prefixCls,"-treenode-draggable"),G),"dragging",ie),j(j(j(j(j(j(j(r,"drop-target",M.dropTargetKey===o),"drop-container",M.dropContainerKey===o),"drag-over",!R&&l),"drag-over-gap-top",!R&&s),"drag-over-gap-bottom",!R&&c),"filter-node",null===(n=M.filterTreeNode)||void 0===n?void 0:n.call(M,AO(e))),"".concat(M.prefixCls,"-treenode-leaf"),X))),style:a,draggable:oe,onDragStart:oe?function(t){t.stopPropagation(),L(!0),M.onNodeDragStart(t,e);try{t.dataTransfer.setData("text/plain","")}catch(n){}}:void 0,onDragEnter:G?function(t){t.preventDefault(),t.stopPropagation(),M.onNodeDragEnter(t,e)}:void 0,onDragOver:G?function(t){t.preventDefault(),t.stopPropagation(),M.onNodeDragOver(t,e)}:void 0,onDragLeave:G?function(t){t.stopPropagation(),M.onNodeDragLeave(t,e)}:void 0,onDrop:G?function(t){t.preventDefault(),t.stopPropagation(),L(!1),M.onNodeDrop(t,e)}:void 0,onDragEnd:G?function(t){t.stopPropagation(),L(!1),M.onNodeDragEnd(t,e)}:void 0,onMouseMove:C},ae,te),p.createElement(vR,{prefixCls:M.prefixCls,level:ne,isStart:d,isEnd:f}),U,function(){if(X){var e=Y(!0);return!1!==e?p.createElement("span",{className:S("".concat(M.prefixCls,"-switcher"),"".concat(M.prefixCls,"-switcher-noop"))},e):null}var t=Y(!1);return!1!==t?p.createElement("span",{onClick:V,className:S("".concat(M.prefixCls,"-switcher"),"".concat(M.prefixCls,"-switcher_").concat(h?bR:xR))},t):null}(),K,ee)};function CR(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function SR(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function ER(e){return e.split("-")}function OR(e,t){var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){var r=t.key,o=t.children;n.push(r),e(o)})}(kO(t,e).children),n}function kR(e){if(e.parent){var t=ER(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function MR(e,t,n,r,o,i,a,l,s,c){var u,d=e.clientX,f=e.clientY,h=e.target.getBoundingClientRect(),p=h.top,g=h.height,m=(("rtl"===c?-1:1)*(((null==o?void 0:o.x)||0)-d)-12)/r,v=s.filter(function(e){var t;return null===(t=l[e])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length}),y=kO(l,n.eventKey);if(f<p+g/2){var b=a.findIndex(function(e){return e.key===y.key}),x=a[b<=0?0:b-1].key;y=kO(l,x)}var w=y.key,C=y,S=y.key,E=0,O=0;if(!v.includes(w))for(var k=0;k<m&&kR(y);k+=1)y=y.parent,O+=1;var M,$=t.data,I=y.node,N=!0;return M=ER(y.pos),0===Number(M[M.length-1])&&0===y.level&&f<p+g/2&&i({dragNode:$,dropNode:I,dropPosition:-1})&&y.key===n.eventKey?E=-1:(C.children||[]).length&&v.includes(S)?i({dragNode:$,dropNode:I,dropPosition:0})?E=0:N=!1:0===O?m>-1.5?i({dragNode:$,dropNode:I,dropPosition:1})?E=1:N=!1:i({dragNode:$,dropNode:I,dropPosition:0})?E=0:i({dragNode:$,dropNode:I,dropPosition:1})?E=1:N=!1:i({dragNode:$,dropNode:I,dropPosition:1})?E=1:N=!1,{dropPosition:E,dropLevelOffset:O,dropTargetKey:y.key,dropTargetPos:y.pos,dragOverNodeKey:S,dropContainerKey:0===E?null:(null===(u=y.parent)||void 0===u?void 0:u.key)||null,dropAllowed:N}}function $R(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function IR(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==O(e))return A(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function NR(e,t){var n=new Set;function r(e){if(!n.has(e)){var o=kO(t,e);if(o){n.add(e);var i=o.parent;o.node.disabled||i&&r(i.key)}}}return(e||[]).forEach(function(e){r(e)}),it(n)}wR.isTreeNode=1;const TR={},LR="SELECT_ALL",RR="SELECT_INVERT",_R="SELECT_NONE",AR=[],PR=(e,t,n=[])=>((t||[]).forEach(t=>{n.push(t),t&&"object"==typeof t&&e in t&&PR(e,t[e],n)}),n),jR=(e,t)=>{const{preserveSelectedRowKeys:n,selectedRowKeys:r,defaultSelectedRowKeys:o,getCheckboxProps:i,getTitleCheckboxProps:a,onChange:l,onSelect:s,onSelectAll:c,onSelectInvert:u,onSelectNone:d,onSelectMultiple:f,columnWidth:h,type:p,selections:g,fixed:v,renderCell:y,hideSelectAll:b,checkStrictly:x=!0}=t||{},{prefixCls:w,data:C,pageData:E,getRecordByKey:O,getRowKey:k,expandType:M,childrenColumnName:$,locale:I,getPopupContainer:N}=e,T=Cr(),[L,R]=function(e){const[t,n]=m.useState(null);return[m.useCallback((r,o,i)=>{const a=null!=t?t:r,l=Math.min(a||0,r),s=Math.max(a||0,r),c=o.slice(l,s+1).map(t=>e(t)),u=c.some(e=>!i.has(e)),d=[];return c.forEach(e=>{u?(i.has(e)||d.push(e),i.add(e)):(i.delete(e),d.push(e))}),n(u?s:null),d},[t]),e=>{n(e)}]}(e=>e),[_,A]=Wo(r||o||AR,{value:r}),P=m.useRef(new Map),j=m.useCallback(e=>{if(n){const t=new Map;e.forEach(e=>{let n=O(e);!n&&P.current.has(e)&&(n=P.current.get(e)),t.set(e,n)}),P.current=t}},[O,n]);m.useEffect(()=>{j(_)},[_]);const B=m.useMemo(()=>PR($,E),[$,E]),{keyEntities:D}=m.useMemo(()=>{if(x)return{keyEntities:null};let e=C;if(n){const t=new Set(B.map((e,t)=>k(e,t))),n=Array.from(P.current).reduce((e,[n,r])=>t.has(n)?e:e.concat(r),[]);e=[].concat(it(e),it(n))}return RO(e,{externalGetKey:k,childrenPropName:$})},[C,k,x,$,n,B]),z=m.useMemo(()=>{const e=new Map;return B.forEach((t,n)=>{const r=k(t,n),o=(i?i(t):null)||{};e.set(r,o)}),e},[B,k,i]),H=m.useCallback(e=>{const t=k(e);let n;return n=z.has(t)?z.get(k(e)):i?i(e):void 0,!!(null==n?void 0:n.disabled)},[z,k]),[F,W]=m.useMemo(()=>{if(x)return[_||[],[]];const{checkedKeys:e,halfCheckedKeys:t}=BO(_,!0,D,H);return[e||[],t]},[_,x,D,H]),G=m.useMemo(()=>{const e="radio"===p?F.slice(0,1):F;return new Set(e)},[F,p]),V=m.useMemo(()=>"radio"===p?new Set:new Set(W),[W,p]);m.useEffect(()=>{t||A(AR)},[!!t]);const q=m.useCallback((e,t)=>{let r,o;j(e),n?(r=e,o=e.map(e=>P.current.get(e))):(r=[],o=[],e.forEach(e=>{const t=O(e);void 0!==t&&(r.push(e),o.push(t))})),A(r),null==l||l(r,o,{type:t})},[A,O,l,n]),X=m.useCallback((e,t,n,r)=>{if(s){const o=n.map(e=>O(e));s(O(e),t,o,r)}q(n,"single")},[s,O,q]),U=m.useMemo(()=>{if(!g||b)return null;return(!0===g?[LR,RR,_R]:g).map(e=>e===LR?{key:"all",text:I.selectionAll,onSelect(){q(C.map((e,t)=>k(e,t)).filter(e=>{const t=z.get(e);return!(null==t?void 0:t.disabled)||G.has(e)}),"all")}}:e===RR?{key:"invert",text:I.selectInvert,onSelect(){const e=new Set(G);E.forEach((t,n)=>{const r=k(t,n),o=z.get(r);(null==o?void 0:o.disabled)||(e.has(r)?e.delete(r):e.add(r))});const t=Array.from(e);u&&(T.deprecated(!1,"onSelectInvert","onChange"),u(t)),q(t,"invert")}}:e===_R?{key:"none",text:I.selectNone,onSelect(){null==d||d(),q(Array.from(G).filter(e=>{const t=z.get(e);return null==t?void 0:t.disabled}),"none")}}:e).map(e=>Object.assign(Object.assign({},e),{onSelect:(...t)=>{var n,r;null===(r=e.onSelect)||void 0===r||(n=r).call.apply(n,[e].concat(t)),R(null)}}))},[g,G,E,k,u,q]),Y=m.useCallback(e=>{var n;if(!t)return e.filter(e=>e!==TR);let r=it(e);const o=new Set(G),i=B.map(k).filter(e=>!z.get(e).disabled),l=i.every(e=>o.has(e)),s=i.some(e=>o.has(e));let u,d,C;if("radio"!==p){let e;if(U){const t={getPopupContainer:N,items:U.map((e,t)=>{const{key:n,text:r,onSelect:o}=e;return{key:null!=n?n:t,onClick:()=>{null==o||o(i)},label:r}})};e=m.createElement("div",{className:`${w}-selection-extra`},m.createElement(o$,{menu:t,getPopupContainer:N},m.createElement("span",null,m.createElement(ov,null))))}const t=B.map((e,t)=>{const n=k(e,t),r=z.get(n)||{};return Object.assign({checked:o.has(n)},r)}).filter(({disabled:e})=>e),n=!!t.length&&t.length===B.length,r=n&&t.every(({checked:e})=>e),f=n&&t.some(({checked:e})=>e),h=(null==a?void 0:a())||{},{onChange:p,disabled:g}=h;d=m.createElement(VO,Object.assign({"aria-label":e?"Custom selection":"Select all"},h,{checked:n?r:!!B.length&&l,indeterminate:n?!r&&f:!l&&s,onChange:e=>{(()=>{const e=[];l?i.forEach(t=>{o.delete(t),e.push(t)}):i.forEach(t=>{o.has(t)||(o.add(t),e.push(t))});const t=Array.from(o);null==c||c(!l,t.map(e=>O(e)),e.map(e=>O(e))),q(t,"all"),R(null)})(),null==p||p(e)},disabled:null!=g?g:0===B.length||n,skipGroup:!0})),u=!b&&m.createElement("div",{className:`${w}-selection`},d,e)}C="radio"===p?(e,t,n)=>{const r=k(t,n),i=o.has(r),a=z.get(r);return{node:m.createElement(PS,Object.assign({},a,{checked:i,onClick:e=>{var t;e.stopPropagation(),null===(t=null==a?void 0:a.onClick)||void 0===t||t.call(a,e)},onChange:e=>{var t;o.has(r)||X(r,!0,[r],e.nativeEvent),null===(t=null==a?void 0:a.onChange)||void 0===t||t.call(a,e)}})),checked:i}}:(e,t,n)=>{var r;const a=k(t,n),l=o.has(a),s=V.has(a),c=z.get(a);let u;return u="nest"===M?s:null!==(r=null==c?void 0:c.indeterminate)&&void 0!==r?r:s,{node:m.createElement(VO,Object.assign({},c,{indeterminate:u,checked:l,skipGroup:!0,onClick:e=>{var t;e.stopPropagation(),null===(t=null==c?void 0:c.onClick)||void 0===t||t.call(c,e)},onChange:e=>{var t;const{nativeEvent:n}=e,{shiftKey:r}=n,s=i.indexOf(a),u=F.some(e=>i.includes(e));if(r&&x&&u){const e=L(s,i,o),t=Array.from(o);null==f||f(!l,t.map(e=>O(e)),e.map(e=>O(e))),q(t,"multiple")}else{const e=F;if(x){const t=l?CR(e,a):SR(e,a);X(a,!l,t,n)}else{const t=BO([].concat(it(e),[a]),!0,D,H),{checkedKeys:r,halfCheckedKeys:o}=t;let i=r;if(l){const e=new Set(r);e.delete(a),i=BO(Array.from(e),{halfCheckedKeys:o},D,H).checkedKeys}X(a,!l,i,n)}}R(l?null:s),null===(t=null==c?void 0:c.onChange)||void 0===t||t.call(c,e)}})),checked:l}};if(!r.includes(TR))if(0===r.findIndex(e=>{var t;return"EXPAND_COLUMN"===(null===(t=e[$L])||void 0===t?void 0:t.columnType)})){const[e,...t]=r;r=[e,TR].concat(it(t))}else r=[TR].concat(it(r));const E=r.indexOf(TR);r=r.filter((e,t)=>e!==TR||t===E);const $=r[E-1],I=r[E+1];let T=v;void 0===T&&(void 0!==(null==I?void 0:I.fixed)?T=I.fixed:void 0!==(null==$?void 0:$.fixed)&&(T=$.fixed)),T&&$&&"EXPAND_COLUMN"===(null===(n=$[$L])||void 0===n?void 0:n.columnType)&&void 0===$.fixed&&($.fixed=T);const _=S(`${w}-selection-col`,{[`${w}-selection-col-with-dropdown`]:g&&"checkbox"===p}),A={fixed:T,width:h,className:`${w}-selection-column`,title:(null==t?void 0:t.columnTitle)?"function"==typeof t.columnTitle?t.columnTitle(d):t.columnTitle:u,render:(e,t,n)=>{const{node:r,checked:o}=C(e,t,n);return y?y(o,t,n,r):r},onCell:t.onCell,align:t.align,[$L]:{className:_}};return r.map(e=>e===TR?A:e)},[k,B,t,F,G,V,h,U,M,z,f,X,H]);return[Y,G]};function BR(e,t){return m.useImperativeHandle(e,()=>{const e=t(),{nativeElement:n}=e;return"undefined"!=typeof Proxy?new Proxy(n,{get:(t,n)=>e[n]?e[n]:Reflect.get(t,n)}):(o=e,(r=n)._antProxy=r._antProxy||{},Object.keys(o).forEach(e=>{if(!(e in r._antProxy)){const t=r[e];r._antProxy[e]=t,r[e]=o[e]}}),r);var r,o})}const DR=(e,t)=>"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function zR(e,t){return t?`${t}-${e}`:`${e}`}const HR=(e,t)=>"function"==typeof e?e(t):e;var FR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},WR=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:FR}))},GR=m.forwardRef(WR);function VR(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var qR=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],XR=m.forwardRef(function(e,t){var n=e.className,r=e.style,o=e.motion,i=e.motionNodes,a=e.motionType,l=e.onMotionStart,s=e.onMotionEnd,c=e.active,u=e.treeNodeRequiredProps,d=$t(e,qR),f=pt(m.useState(!0),2),h=f[0],p=f[1],g=m.useContext(pR).prefixCls,v=i&&"hide"!==a;Jt(function(){i&&v!==h&&p(v)},[i]);var y=m.useRef(!1),b=function(){i&&!y.current&&(y.current=!0,s())};!function(e,t){var n=pt(m.useState(!1),2),r=n[0],o=n[1];Jt(function(){if(r)return e(),function(){t()}},[r]),Jt(function(){return o(!0),function(){o(!1)}},[])}(function(){i&&l()},b);return i?m.createElement(oa,E({ref:t,visible:h},o,{motionAppear:"show"===a,onVisibleChanged:function(e){v===e&&b()}}),function(e,t){var n=e.className,r=e.style;return m.createElement("div",{ref:t,className:S("".concat(g,"-treenode-motion"),n),style:r},i.map(function(e){var t=Object.assign({},(VR(e.data),e.data)),n=e.title,r=e.key,o=e.isStart,i=e.isEnd;delete t.children;var a=_O(r,u);return m.createElement(wR,E({},t,a,{title:n,active:c,data:e.data,key:r,isStart:o,isEnd:i}))}))}):m.createElement(wR,E({domRef:t,className:n,style:r},d,{active:c}))});function UR(e,t,n){var r=e.findIndex(function(e){return e.key===n}),o=e[r+1],i=t.findIndex(function(e){return e.key===n});if(o){var a=t.findIndex(function(e){return e.key===o.key});return t.slice(i+1,a)}return t.slice(i+1)}var YR=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],KR={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},ZR=function(){},QR="RC_TREE_MOTION_".concat(Math.random()),JR={key:QR},e_={key:QR,level:0,index:0,pos:"0",node:JR,nodes:[JR]},t_={parent:null,children:[],pos:e_.pos,data:JR,title:null,key:QR,isStart:[],isEnd:[]};function n_(e,t,n,r){return!1!==t&&n?e.slice(0,Math.ceil(n/r)+1):e}function r_(e){return IO(e.key,e.pos)}var o_=m.forwardRef(function(e,t){var n=e.prefixCls,r=e.data;e.selectable,e.checkable;var o=e.expandedKeys,i=e.selectedKeys,a=e.checkedKeys,l=e.loadedKeys,s=e.loadingKeys,c=e.halfCheckedKeys,u=e.keyEntities,d=e.disabled,f=e.dragging,h=e.dragOverNodeKey,p=e.dropPosition,g=e.motion,v=e.height,y=e.itemHeight,b=e.virtual,x=e.scrollWidth,w=e.focusable,C=e.activeItem,S=e.focused,O=e.tabIndex,k=e.onKeyDown,M=e.onFocus,$=e.onBlur,I=e.onActiveChange,N=e.onListChangeStart,T=e.onListChangeEnd,L=$t(e,YR),R=m.useRef(null),_=m.useRef(null);m.useImperativeHandle(t,function(){return{scrollTo:function(e){R.current.scrollTo(e)},getIndentWidth:function(){return _.current.offsetWidth}}});var A=pt(m.useState(o),2),P=A[0],j=A[1],B=pt(m.useState(r),2),D=B[0],z=B[1],H=pt(m.useState(r),2),F=H[0],W=H[1],G=pt(m.useState([]),2),V=G[0],q=G[1],X=pt(m.useState(null),2),U=X[0],Y=X[1],K=m.useRef(r);function Z(){var e=K.current;z(e),W(e),q([]),Y(null),T()}K.current=r,Jt(function(){j(o);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=t.length;if(1!==Math.abs(n-r))return{add:!1,key:null};function o(e,t){var n=new Map;e.forEach(function(e){n.set(e,!0)});var r=t.filter(function(e){return!n.has(e)});return 1===r.length?r[0]:null}return n<r?{add:!0,key:o(e,t)}:{add:!1,key:o(t,e)}}(P,o);if(null!==e.key)if(e.add){var t=D.findIndex(function(t){return t.key===e.key}),n=n_(UR(D,r,e.key),b,v,y),i=D.slice();i.splice(t+1,0,t_),W(i),q(n),Y("show")}else{var a=r.findIndex(function(t){return t.key===e.key}),l=n_(UR(r,D,e.key),b,v,y),s=r.slice();s.splice(a+1,0,t_),W(s),q(l),Y("hide")}else D!==r&&(z(r),W(r))},[o,r]),m.useEffect(function(){f||Z()},[f]);var Q=g?F:r,J={expandedKeys:o,selectedKeys:i,loadedKeys:l,loadingKeys:s,checkedKeys:a,halfCheckedKeys:c,dragOverNodeKey:h,dropPosition:p,keyEntities:u};return m.createElement(m.Fragment,null,S&&C&&m.createElement("span",{style:KR,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(C)),m.createElement("div",null,m.createElement("input",{style:KR,disabled:!1===w||d,tabIndex:!1!==w?O:null,onKeyDown:k,onFocus:M,onBlur:$,value:"",onChange:ZR,"aria-label":"for screen reader"})),m.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},m.createElement("div",{className:"".concat(n,"-indent")},m.createElement("div",{ref:_,className:"".concat(n,"-indent-unit")}))),m.createElement(em,E({},L,{data:Q,itemKey:r_,height:v,fullHeight:!1,virtual:b,itemHeight:y,scrollWidth:x,prefixCls:"".concat(n,"-list"),ref:R,role:"tree",onVisibleChange:function(e){e.every(function(e){return r_(e)!==QR})&&Z()}}),function(e){var t=e.pos,n=Object.assign({},(VR(e.data),e.data)),r=e.title,o=e.key,i=e.isStart,a=e.isEnd,l=IO(o,t);delete n.key,delete n.children;var s=_O(l,J);return m.createElement(XR,E({},n,s,{title:r,active:!!C&&o===C.key,pos:t,data:e.data,isStart:i,isEnd:a,motion:g,motionNodes:o===QR?V:null,motionType:U,onMotionStart:N,onMotionEnd:Z,treeNodeRequiredProps:J,onMouseMove:function(){I(null)}}))}))}),i_=function(){Ve(t,m.Component);var e=Ke(t);function t(){var n;He(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return j(Ue(n=e.call.apply(e,[this].concat(o))),"destroyed",!1),j(Ue(n),"delayedDragEnterLogic",void 0),j(Ue(n),"loadingRetryTimes",{}),j(Ue(n),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:NO()}),j(Ue(n),"dragStartMousePosition",null),j(Ue(n),"dragNodeProps",null),j(Ue(n),"currentMouseOverDroppableNodeKey",null),j(Ue(n),"listRef",m.createRef()),j(Ue(n),"onNodeDragStart",function(e,t){var r=n.state,o=r.expandedKeys,i=r.keyEntities,a=n.props.onDragStart,l=t.eventKey;n.dragNodeProps=t,n.dragStartMousePosition={x:e.clientX,y:e.clientY};var s=CR(o,l);n.setState({draggingNodeKey:l,dragChildrenKeys:OR(l,i),indent:n.listRef.current.getIndentWidth()}),n.setExpandedKeys(s),window.addEventListener("dragend",n.onWindowDragEnd),null==a||a({event:e,node:AO(t)})}),j(Ue(n),"onNodeDragEnter",function(e,t){var r=n.state,o=r.expandedKeys,i=r.keyEntities,a=r.dragChildrenKeys,l=r.flattenNodes,s=r.indent,c=n.props,u=c.onDragEnter,d=c.onExpand,f=c.allowDrop,h=c.direction,p=t.pos,g=t.eventKey;if(n.currentMouseOverDroppableNodeKey!==g&&(n.currentMouseOverDroppableNodeKey=g),n.dragNodeProps){var m=MR(e,n.dragNodeProps,t,s,n.dragStartMousePosition,f,l,i,o,h),v=m.dropPosition,y=m.dropLevelOffset,b=m.dropTargetKey,x=m.dropContainerKey,w=m.dropTargetPos,C=m.dropAllowed,S=m.dragOverNodeKey;!a.includes(b)&&C?(n.delayedDragEnterLogic||(n.delayedDragEnterLogic={}),Object.keys(n.delayedDragEnterLogic).forEach(function(e){clearTimeout(n.delayedDragEnterLogic[e])}),n.dragNodeProps.eventKey!==t.eventKey&&(e.persist(),n.delayedDragEnterLogic[p]=window.setTimeout(function(){if(null!==n.state.draggingNodeKey){var r=it(o),a=kO(i,t.eventKey);a&&(a.children||[]).length&&(r=SR(o,t.eventKey)),n.props.hasOwnProperty("expandedKeys")||n.setExpandedKeys(r),null==d||d(r,{node:AO(t),expanded:!0,nativeEvent:e.nativeEvent})}},800)),n.dragNodeProps.eventKey!==b||0!==y?(n.setState({dragOverNodeKey:S,dropPosition:v,dropLevelOffset:y,dropTargetKey:b,dropContainerKey:x,dropTargetPos:w,dropAllowed:C}),null==u||u({event:e,node:AO(t),expandedKeys:o})):n.resetDragState()):n.resetDragState()}else n.resetDragState()}),j(Ue(n),"onNodeDragOver",function(e,t){var r=n.state,o=r.dragChildrenKeys,i=r.flattenNodes,a=r.keyEntities,l=r.expandedKeys,s=r.indent,c=n.props,u=c.onDragOver,d=c.allowDrop,f=c.direction;if(n.dragNodeProps){var h=MR(e,n.dragNodeProps,t,s,n.dragStartMousePosition,d,i,a,l,f),p=h.dropPosition,g=h.dropLevelOffset,m=h.dropTargetKey,v=h.dropContainerKey,y=h.dropTargetPos,b=h.dropAllowed,x=h.dragOverNodeKey;!o.includes(m)&&b&&(n.dragNodeProps.eventKey===m&&0===g?null===n.state.dropPosition&&null===n.state.dropLevelOffset&&null===n.state.dropTargetKey&&null===n.state.dropContainerKey&&null===n.state.dropTargetPos&&!1===n.state.dropAllowed&&null===n.state.dragOverNodeKey||n.resetDragState():p===n.state.dropPosition&&g===n.state.dropLevelOffset&&m===n.state.dropTargetKey&&v===n.state.dropContainerKey&&y===n.state.dropTargetPos&&b===n.state.dropAllowed&&x===n.state.dragOverNodeKey||n.setState({dropPosition:p,dropLevelOffset:g,dropTargetKey:m,dropContainerKey:v,dropTargetPos:y,dropAllowed:b,dragOverNodeKey:x}),null==u||u({event:e,node:AO(t)}))}}),j(Ue(n),"onNodeDragLeave",function(e,t){n.currentMouseOverDroppableNodeKey!==t.eventKey||e.currentTarget.contains(e.relatedTarget)||(n.resetDragState(),n.currentMouseOverDroppableNodeKey=null);var r=n.props.onDragLeave;null==r||r({event:e,node:AO(t)})}),j(Ue(n),"onWindowDragEnd",function(e){n.onNodeDragEnd(e,null,!0),window.removeEventListener("dragend",n.onWindowDragEnd)}),j(Ue(n),"onNodeDragEnd",function(e,t){var r=n.props.onDragEnd;n.setState({dragOverNodeKey:null}),n.cleanDragState(),null==r||r({event:e,node:AO(t)}),n.dragNodeProps=null,window.removeEventListener("dragend",n.onWindowDragEnd)}),j(Ue(n),"onNodeDrop",function(e,t){var r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n.state,a=i.dragChildrenKeys,l=i.dropPosition,s=i.dropTargetKey,c=i.dropTargetPos;if(i.dropAllowed){var u=n.props.onDrop;if(n.setState({dragOverNodeKey:null}),n.cleanDragState(),null!==s){var d=D(D({},_O(s,n.getTreeNodeRequiredProps())),{},{active:(null===(r=n.getActiveItem())||void 0===r?void 0:r.key)===s,data:kO(n.state.keyEntities,s).node});A(!a.includes(s),"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var f=ER(c),h={event:e,node:AO(d),dragNode:n.dragNodeProps?AO(n.dragNodeProps):null,dragNodesKeys:[n.dragNodeProps.eventKey].concat(a),dropToGap:0!==l,dropPosition:l+Number(f[f.length-1])};o||null==u||u(h),n.dragNodeProps=null}}}),j(Ue(n),"cleanDragState",function(){null!==n.state.draggingNodeKey&&n.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),n.dragStartMousePosition=null,n.currentMouseOverDroppableNodeKey=null}),j(Ue(n),"triggerExpandActionExpand",function(e,t){var r=n.state,o=r.expandedKeys,i=r.flattenNodes,a=t.expanded,l=t.key;if(!(t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey)){var s=i.filter(function(e){return e.key===l})[0],c=AO(D(D({},_O(l,n.getTreeNodeRequiredProps())),{},{data:s.data}));n.setExpandedKeys(a?CR(o,l):SR(o,l)),n.onNodeExpand(e,c)}}),j(Ue(n),"onNodeClick",function(e,t){var r=n.props,o=r.onClick;"click"===r.expandAction&&n.triggerExpandActionExpand(e,t),null==o||o(e,t)}),j(Ue(n),"onNodeDoubleClick",function(e,t){var r=n.props,o=r.onDoubleClick;"doubleClick"===r.expandAction&&n.triggerExpandActionExpand(e,t),null==o||o(e,t)}),j(Ue(n),"onNodeSelect",function(e,t){var r=n.state.selectedKeys,o=n.state,i=o.keyEntities,a=o.fieldNames,l=n.props,s=l.onSelect,c=l.multiple,u=t.selected,d=t[a.key],f=!u,h=(r=f?c?SR(r,d):[d]:CR(r,d)).map(function(e){var t=kO(i,e);return t?t.node:null}).filter(Boolean);n.setUncontrolledState({selectedKeys:r}),null==s||s(r,{event:"select",selected:f,node:t,selectedNodes:h,nativeEvent:e.nativeEvent})}),j(Ue(n),"onNodeCheck",function(e,t,r){var o,i=n.state,a=i.keyEntities,l=i.checkedKeys,s=i.halfCheckedKeys,c=n.props,u=c.checkStrictly,d=c.onCheck,f=t.key,h={event:"check",node:t,checked:r,nativeEvent:e.nativeEvent};if(u){var p=r?SR(l,f):CR(l,f);o={checked:p,halfChecked:CR(s,f)},h.checkedNodes=p.map(function(e){return kO(a,e)}).filter(Boolean).map(function(e){return e.node}),n.setUncontrolledState({checkedKeys:p})}else{var g=BO([].concat(it(l),[f]),!0,a),m=g.checkedKeys,v=g.halfCheckedKeys;if(!r){var y=new Set(m);y.delete(f);var b=BO(Array.from(y),{halfCheckedKeys:v},a);m=b.checkedKeys,v=b.halfCheckedKeys}o=m,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=v,m.forEach(function(e){var t=kO(a,e);if(t){var n=t.node,r=t.pos;h.checkedNodes.push(n),h.checkedNodesPositions.push({node:n,pos:r})}}),n.setUncontrolledState({checkedKeys:m},!1,{halfCheckedKeys:v})}null==d||d(o,h)}),j(Ue(n),"onNodeLoad",function(e){var t,r=e.key,o=kO(n.state.keyEntities,r);if(null==o||null===(t=o.children)||void 0===t||!t.length){var i=new Promise(function(t,o){n.setState(function(i){var a=i.loadedKeys,l=void 0===a?[]:a,s=i.loadingKeys,c=void 0===s?[]:s,u=n.props,d=u.loadData,f=u.onLoad;return!d||l.includes(r)||c.includes(r)?null:(d(e).then(function(){var o=SR(n.state.loadedKeys,r);null==f||f(o,{event:"load",node:e}),n.setUncontrolledState({loadedKeys:o}),n.setState(function(e){return{loadingKeys:CR(e.loadingKeys,r)}}),t()}).catch(function(e){if(n.setState(function(e){return{loadingKeys:CR(e.loadingKeys,r)}}),n.loadingRetryTimes[r]=(n.loadingRetryTimes[r]||0)+1,n.loadingRetryTimes[r]>=10){var i=n.state.loadedKeys;A(!1,"Retry for `loadData` many times but still failed. No more retry."),n.setUncontrolledState({loadedKeys:SR(i,r)}),t()}o(e)}),{loadingKeys:SR(c,r)})})});return i.catch(function(){}),i}}),j(Ue(n),"onNodeMouseEnter",function(e,t){var r=n.props.onMouseEnter;null==r||r({event:e,node:t})}),j(Ue(n),"onNodeMouseLeave",function(e,t){var r=n.props.onMouseLeave;null==r||r({event:e,node:t})}),j(Ue(n),"onNodeContextMenu",function(e,t){var r=n.props.onRightClick;r&&(e.preventDefault(),r({event:e,node:t}))}),j(Ue(n),"onFocus",function(){var e=n.props.onFocus;n.setState({focused:!0});for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];null==e||e.apply(void 0,r)}),j(Ue(n),"onBlur",function(){var e=n.props.onBlur;n.setState({focused:!1}),n.onActiveChange(null);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];null==e||e.apply(void 0,r)}),j(Ue(n),"getTreeNodeRequiredProps",function(){var e=n.state;return{expandedKeys:e.expandedKeys||[],selectedKeys:e.selectedKeys||[],loadedKeys:e.loadedKeys||[],loadingKeys:e.loadingKeys||[],checkedKeys:e.checkedKeys||[],halfCheckedKeys:e.halfCheckedKeys||[],dragOverNodeKey:e.dragOverNodeKey,dropPosition:e.dropPosition,keyEntities:e.keyEntities}}),j(Ue(n),"setExpandedKeys",function(e){var t=n.state,r=LO(t.treeData,e,t.fieldNames);n.setUncontrolledState({expandedKeys:e,flattenNodes:r},!0)}),j(Ue(n),"onNodeExpand",function(e,t){var r=n.state.expandedKeys,o=n.state,i=o.listChanging,a=o.fieldNames,l=n.props,s=l.onExpand,c=l.loadData,u=t.expanded,d=t[a.key];if(!i){var f=r.includes(d),h=!u;if(A(u&&f||!u&&!f,"Expand state not sync with index check"),r=h?SR(r,d):CR(r,d),n.setExpandedKeys(r),null==s||s(r,{node:t,expanded:h,nativeEvent:e.nativeEvent}),h&&c){var p=n.onNodeLoad(t);p&&p.then(function(){var e=LO(n.state.treeData,r,a);n.setUncontrolledState({flattenNodes:e})}).catch(function(){var e=CR(n.state.expandedKeys,d);n.setExpandedKeys(e)})}}}),j(Ue(n),"onListChangeStart",function(){n.setUncontrolledState({listChanging:!0})}),j(Ue(n),"onListChangeEnd",function(){setTimeout(function(){n.setUncontrolledState({listChanging:!1})})}),j(Ue(n),"onActiveChange",function(e){var t=n.state.activeKey,r=n.props,o=r.onActiveChange,i=r.itemScrollOffset,a=void 0===i?0:i;t!==e&&(n.setState({activeKey:e}),null!==e&&n.scrollTo({key:e,offset:a}),null==o||o(e))}),j(Ue(n),"getActiveItem",function(){var e=n.state,t=e.activeKey,r=e.flattenNodes;return null===t?null:r.find(function(e){return e.key===t})||null}),j(Ue(n),"offsetActiveKey",function(e){var t=n.state,r=t.flattenNodes,o=t.activeKey,i=r.findIndex(function(e){return e.key===o});-1===i&&e<0&&(i=r.length);var a=r[i=(i+e+r.length)%r.length];if(a){var l=a.key;n.onActiveChange(l)}else n.onActiveChange(null)}),j(Ue(n),"onKeyDown",function(e){var t=n.state,r=t.activeKey,o=t.expandedKeys,i=t.checkedKeys,a=t.fieldNames,l=n.props,s=l.onKeyDown,c=l.checkable,u=l.selectable;switch(e.which){case Tl.UP:n.offsetActiveKey(-1),e.preventDefault();break;case Tl.DOWN:n.offsetActiveKey(1),e.preventDefault()}var d=n.getActiveItem();if(d&&d.data){var f=n.getTreeNodeRequiredProps(),h=!1===d.data.isLeaf||!!(d.data[a.children]||[]).length,p=AO(D(D({},_O(r,f)),{},{data:d.data,active:!0}));switch(e.which){case Tl.LEFT:h&&o.includes(r)?n.onNodeExpand({},p):d.parent&&n.onActiveChange(d.parent.key),e.preventDefault();break;case Tl.RIGHT:h&&!o.includes(r)?n.onNodeExpand({},p):d.children&&d.children.length&&n.onActiveChange(d.children[0].key),e.preventDefault();break;case Tl.ENTER:case Tl.SPACE:!c||p.disabled||!1===p.checkable||p.disableCheckbox?c||!u||p.disabled||!1===p.selectable||n.onNodeSelect({},p):n.onNodeCheck({},p,!i.includes(r))}}null==s||s(e)}),j(Ue(n),"setUncontrolledState",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n.destroyed){var o=!1,i=!0,a={};Object.keys(e).forEach(function(t){n.props.hasOwnProperty(t)?i=!1:(o=!0,a[t]=e[t])}),!o||t&&!i||n.setState(D(D({},a),r))}}),j(Ue(n),"scrollTo",function(e){n.listRef.current.scrollTo(e)}),n}return We(t,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props,t=e.activeKey,n=e.itemScrollOffset,r=void 0===n?0:n;void 0!==t&&t!==this.state.activeKey&&(this.setState({activeKey:t}),null!==t&&this.scrollTo({key:t,offset:r}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t=this.state,n=t.focused,r=t.flattenNodes,o=t.keyEntities,i=t.draggingNodeKey,a=t.activeKey,l=t.dropLevelOffset,s=t.dropContainerKey,c=t.dropTargetKey,u=t.dropPosition,d=t.dragOverNodeKey,f=t.indent,h=this.props,p=h.prefixCls,g=h.className,v=h.style,y=h.showLine,b=h.focusable,x=h.tabIndex,w=void 0===x?0:x,C=h.selectable,k=h.showIcon,M=h.icon,$=h.switcherIcon,I=h.draggable,N=h.checkable,T=h.checkStrictly,L=h.disabled,R=h.motion,_=h.loadData,A=h.filterTreeNode,P=h.height,B=h.itemHeight,D=h.scrollWidth,z=h.virtual,H=h.titleRender,F=h.dropIndicatorRender,W=h.onContextMenu,G=h.onScroll,V=h.direction,q=h.rootClassName,X=h.rootStyle,U=ol(this.props,{aria:!0,data:!0});I&&(e="object"===O(I)?I:"function"==typeof I?{nodeDraggable:I}:{});var Y={prefixCls:p,selectable:C,showIcon:k,icon:M,switcherIcon:$,draggable:e,draggingNodeKey:i,checkable:N,checkStrictly:T,disabled:L,keyEntities:o,dropLevelOffset:l,dropContainerKey:s,dropTargetKey:c,dropPosition:u,dragOverNodeKey:d,indent:f,direction:V,dropIndicatorRender:F,loadData:_,filterTreeNode:A,titleRender:H,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return m.createElement(pR.Provider,{value:Y},m.createElement("div",{className:S(p,g,q,j(j(j({},"".concat(p,"-show-line"),y),"".concat(p,"-focused"),n),"".concat(p,"-active-focused"),null!==a)),style:X},m.createElement(o_,E({ref:this.listRef,prefixCls:p,style:v,data:r,disabled:L,selectable:C,checkable:!!N,motion:R,dragging:null!==i,height:P,itemHeight:B,virtual:z,focusable:b,focused:n,tabIndex:w,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:W,onScroll:G,scrollWidth:D},this.getTreeNodeRequiredProps(),U))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=t.prevProps,o={prevProps:e};function i(t){return!r&&e.hasOwnProperty(t)||r&&r[t]!==e[t]}var a=t.fieldNames;if(i("fieldNames")&&(a=NO(e.fieldNames),o.fieldNames=a),i("treeData")?n=e.treeData:i("children")&&(A(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=TO(e.children)),n){o.treeData=n;var l=RO(n,{fieldNames:a});o.keyEntities=D(j({},QR,e_),l.keyEntities)}var s,c=o.keyEntities||t.keyEntities;if(i("expandedKeys")||r&&i("autoExpandParent"))o.expandedKeys=e.autoExpandParent||!r&&e.defaultExpandParent?NR(e.expandedKeys,c):e.expandedKeys;else if(!r&&e.defaultExpandAll){var u=D({},c);delete u[QR];var d=[];Object.keys(u).forEach(function(e){var t=u[e];t.children&&t.children.length&&d.push(t.key)}),o.expandedKeys=d}else!r&&e.defaultExpandedKeys&&(o.expandedKeys=e.autoExpandParent||e.defaultExpandParent?NR(e.defaultExpandedKeys,c):e.defaultExpandedKeys);if(o.expandedKeys||delete o.expandedKeys,n||o.expandedKeys){var f=LO(n||t.treeData,o.expandedKeys||t.expandedKeys,a);o.flattenNodes=f}if((e.selectable&&(i("selectedKeys")?o.selectedKeys=$R(e.selectedKeys,e):!r&&e.defaultSelectedKeys&&(o.selectedKeys=$R(e.defaultSelectedKeys,e))),e.checkable)&&(i("checkedKeys")?s=IR(e.checkedKeys)||{}:!r&&e.defaultCheckedKeys?s=IR(e.defaultCheckedKeys)||{}:n&&(s=IR(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),s)){var h=s,p=h.checkedKeys,g=void 0===p?[]:p,m=h.halfCheckedKeys,v=void 0===m?[]:m;if(!e.checkStrictly){var y=BO(g,!0,c);g=y.checkedKeys,v=y.halfCheckedKeys}o.checkedKeys=g,o.halfCheckedKeys=v}return i("loadedKeys")&&(o.loadedKeys=e.loadedKeys),o}}]),t}();j(i_,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,r=e.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:o.top=0,o.left=-n*r;break;case 1:o.bottom=0,o.left=-n*r;break;case 0:o.bottom=0,o.left=r}return p.createElement("div",{style:o})},allowDrop:function(){return!0},expandAction:!1}),j(i_,"TreeNode",wR);var a_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},l_=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:a_}))},s_=m.forwardRef(l_),c_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},u_=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:c_}))},d_=m.forwardRef(u_),f_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},h_=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:f_}))},p_=m.forwardRef(h_),g_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},m_=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:g_}))},v_=m.forwardRef(m_);const y_=({treeCls:e,treeNodeCls:t,directoryNodeSelectedBg:n,directoryNodeSelectedColor:r,motionDurationMid:o,borderRadius:i,controlItemBgHover:a})=>({[`${e}${e}-directory ${t}`]:{[`${e}-node-content-wrapper`]:{position:"static",[`&:has(${e}-drop-indicator)`]:{position:"relative"},[`> *:not(${e}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${o}`,content:'""',borderRadius:i},"&:hover:before":{background:a}},[`${e}-switcher, ${e}-checkbox, ${e}-draggable-icon`]:{zIndex:1},"&-selected":{background:n,borderRadius:i,[`${e}-switcher, ${e}-draggable-icon`]:{color:r},[`${e}-node-content-wrapper`]:{color:r,background:"transparent","&, &:hover":{color:r},"&:before, &:hover:before":{background:n}}}}}),b_=new ur("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),x_=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),w_=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${Xt(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),C_=(e,t)=>{const{treeCls:n,treeNodeCls:r,treeNodePadding:o,titleHeight:i,indentSize:a,nodeSelectedBg:l,nodeHoverBg:s,colorTextQuaternary:c,controlItemBgActiveDisabled:u}=t;return{[n]:Object.assign(Object.assign({},ui(t)),{"--rc-virtual-list-scrollbar-bg":t.colorSplit,background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:di(t),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:b_,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[r]:{display:"flex",alignItems:"flex-start",marginBottom:o,lineHeight:Xt(i),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:o},[`&-disabled ${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${r}-disabled${r}-selected ${n}-node-content-wrapper`]:{backgroundColor:u},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${r}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${r}-disabled).filter-node ${n}-title`]:{color:t.colorPrimary,fontWeight:t.fontWeightStrong},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:i,textAlign:"center",visibility:"visible",color:c},[`&${r}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:a}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:t.calc(t.calc(i).sub(t.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},x_(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:i,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:i,height:i,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(i).div(2).equal(),bottom:t.calc(o).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(i).div(2).equal()).mul(.8).equal(),height:t.calc(i).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:i,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},w_(e,t)),{"&:hover":{backgroundColor:s},[`&${n}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:l},[`${n}-iconEle`]:{display:"inline-block",width:i,height:i,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${r}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(i).div(2).equal(),bottom:t.calc(o).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${Xt(t.calc(i).div(2).equal())} !important`}})}},S_=(e,t,n=!0)=>{const r=`.${e}`,o=`${r}-treenode`,i=t.calc(t.paddingXS).div(2).equal(),a=Xo(t,{treeCls:r,treeNodeCls:o,treeNodePadding:i});return[C_(e,a),n&&y_(a)].filter(Boolean)},E_=e=>{const{controlHeightSM:t,controlItemBgHover:n,controlItemBgActive:r}=e;return{titleHeight:t,indentSize:t,nodeHoverBg:n,nodeHoverColor:e.colorText,nodeSelectedBg:r,nodeSelectedColor:e.colorText}},O_=gi("Tree",(e,{prefixCls:t})=>[{[e.componentCls]:DO(`${t}-checkbox`,e)},S_(t,e),Ac(e)],e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},E_(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})});function k_(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:r,indent:o,direction:i="ltr"}=e,a="ltr"===i?"left":"right",l="ltr"===i?"right":"left",s={[a]:-n*o+4,[l]:0};switch(t){case-1:s.top=-3;break;case 1:s.bottom=-3;break;default:s.bottom=-3,s[a]=o+4}return p.createElement("div",{style:s,className:`${r}-drop-indicator`})}var M_={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},$_=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:M_}))},I_=m.forwardRef($_),N_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},T_=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:N_}))},L_=m.forwardRef(T_),R_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},__=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:R_}))},A_=m.forwardRef(__);const P_=e=>{var t,n;const{prefixCls:r,switcherIcon:o,treeNodeProps:i,showLine:a,switcherLoadingIcon:l}=e,{isLeaf:s,expanded:c,loading:u}=i;if(u)return m.isValidElement(l)?l:m.createElement(Gl,{className:`${r}-switcher-loading-icon`});let d;if(a&&"object"==typeof a&&(d=a.showLeafIcon),s){if(!a)return null;if("boolean"!=typeof d&&d){const e="function"==typeof d?d(i):d,n=`${r}-switcher-line-custom-icon`;return m.isValidElement(e)?ll(e,{className:S(null===(t=e.props)||void 0===t?void 0:t.className,n)}):e}return d?m.createElement(s_,{className:`${r}-switcher-line-icon`}):m.createElement("span",{className:`${r}-switcher-leaf-line`})}const f=`${r}-switcher-icon`,h="function"==typeof o?o(i):o;return m.isValidElement(h)?ll(h,{className:S(null===(n=h.props)||void 0===n?void 0:n.className,f)}):void 0!==h?h:a?c?m.createElement(L_,{className:`${r}-switcher-line-icon`}):m.createElement(A_,{className:`${r}-switcher-line-icon`}):m.createElement(I_,{className:f})},j_=p.forwardRef((e,t)=>{var n;const{getPrefixCls:r,direction:o,virtual:i,tree:a}=p.useContext(So),{prefixCls:l,className:s,showIcon:c=!1,showLine:u,switcherIcon:d,switcherLoadingIcon:f,blockNode:h=!1,children:g,checkable:m=!1,selectable:v=!0,draggable:y,motion:b,style:x}=e,w=r("tree",l),C=r(),E=null!=b?b:Object.assign(Object.assign({},As(C)),{motionAppear:!1}),O=Object.assign(Object.assign({},e),{checkable:m,selectable:v,showIcon:c,motion:E,blockNode:h,showLine:Boolean(u),dropIndicatorRender:k_}),[k,M,$]=O_(w),[,I]=si(),N=I.paddingXS/2+((null===(n=I.Tree)||void 0===n?void 0:n.titleHeight)||I.controlHeightSM),T=p.useMemo(()=>{if(!y)return!1;let e={};switch(typeof y){case"function":e.nodeDraggable=y;break;case"object":e=Object.assign({},y)}return!1!==e.icon&&(e.icon=e.icon||p.createElement(v_,null)),e},[y]);return k(p.createElement(i_,Object.assign({itemHeight:N,ref:t,virtual:i},O,{style:Object.assign(Object.assign({},null==a?void 0:a.style),x),prefixCls:w,className:S({[`${w}-icon-hide`]:!c,[`${w}-block-node`]:h,[`${w}-unselectable`]:!v,[`${w}-rtl`]:"rtl"===o},null==a?void 0:a.className,s,M,$),direction:o,checkable:m?p.createElement("span",{className:`${w}-checkbox-inner`}):m,selectable:v,switcherIcon:e=>p.createElement(P_,{prefixCls:w,switcherIcon:d,switcherLoadingIcon:f,treeNodeProps:e,showLine:u}),draggable:T}),g))});function B_(e,t,n){const{key:r,children:o}=n;e.forEach(function(e){const i=e[r],a=e[o];!1!==t(i,e)&&B_(a||[],t,n)})}function D_({treeData:e,expandedKeys:t,startKey:n,endKey:r,fieldNames:o}){const i=[];let a=0;if(n&&n===r)return[n];if(!n||!r)return[];return B_(e,e=>{if(2===a)return!1;if(function(e){return e===n||e===r}(e)){if(i.push(e),0===a)a=1;else if(1===a)return a=2,!1}else 1===a&&i.push(e);return t.includes(e)},NO(o)),i}function z_(e,t,n){const r=it(t),o=[];return B_(e,(e,t)=>{const n=r.indexOf(e);return-1!==n&&(o.push(t),r.splice(n,1)),!!r.length},NO(n)),o}var H_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function F_(e){const{isLeaf:t,expanded:n}=e;return t?m.createElement(s_,null):n?m.createElement(d_,null):m.createElement(p_,null)}function W_({treeData:e,children:t}){return e||TO(t)}const G_=(e,t)=>{var{defaultExpandAll:n,defaultExpandParent:r,defaultExpandedKeys:o}=e,i=H_(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const a=m.useRef(null),l=m.useRef(null),[s,c]=m.useState(i.selectedKeys||i.defaultSelectedKeys||[]),[u,d]=m.useState(()=>(()=>{const{keyEntities:e}=RO(W_(i));let t;return t=n?Object.keys(e):r?NR(i.expandedKeys||o||[],e):i.expandedKeys||o||[],t})());m.useEffect(()=>{"selectedKeys"in i&&c(i.selectedKeys)},[i.selectedKeys]),m.useEffect(()=>{"expandedKeys"in i&&d(i.expandedKeys)},[i.expandedKeys]);const{getPrefixCls:f,direction:h}=m.useContext(So),{prefixCls:p,className:g,showIcon:v=!0,expandAction:y="click"}=i,b=H_(i,["prefixCls","className","showIcon","expandAction"]),x=f("tree",p),w=S(`${x}-directory`,{[`${x}-directory-rtl`]:"rtl"===h},g);return m.createElement(j_,Object.assign({icon:F_,ref:t,blockNode:!0},b,{showIcon:v,expandAction:y,prefixCls:x,className:w,expandedKeys:u,selectedKeys:s,onSelect:(e,t)=>{var n;const{multiple:r,fieldNames:o}=i,{node:s,nativeEvent:d}=t,{key:f=""}=s,h=W_(i),p=Object.assign(Object.assign({},t),{selected:!0}),g=(null==d?void 0:d.ctrlKey)||(null==d?void 0:d.metaKey),m=null==d?void 0:d.shiftKey;let v;r&&g?(v=e,a.current=f,l.current=v,p.selectedNodes=z_(h,v,o)):r&&m?(v=Array.from(new Set([].concat(it(l.current||[]),it(D_({treeData:h,expandedKeys:u,startKey:f,endKey:a.current,fieldNames:o}))))),p.selectedNodes=z_(h,v,o)):(v=[f],a.current=f,l.current=v,p.selectedNodes=z_(h,v,o)),null===(n=i.onSelect)||void 0===n||n.call(i,v,p),"selectedKeys"in i||c(v)},onExpand:(e,t)=>{var n;return"expandedKeys"in i||d(e),null===(n=i.onExpand)||void 0===n?void 0:n.call(i,e,t)}}))},V_=m.forwardRef(G_),q_=j_;q_.DirectoryTree=V_,q_.TreeNode=wR;const X_=e=>{const{value:t,filterSearch:n,tablePrefixCls:r,locale:o,onChange:i}=e;return n?m.createElement("div",{className:`${r}-filter-dropdown-search`},m.createElement(Hk,{prefix:m.createElement(lv,null),placeholder:o.filterSearchPlaceholder,onChange:i,value:t,htmlSize:1,className:`${r}-filter-dropdown-search-input`})):null},U_=e=>{const{keyCode:t}=e;t===Tl.ENTER&&e.stopPropagation()},Y_=m.forwardRef((e,t)=>m.createElement("div",{className:e.className,onClick:e=>e.stopPropagation(),onKeyDown:U_,ref:t},e.children));function K_(e){let t=[];return(e||[]).forEach(({value:e,children:n})=>{t.push(e),n&&(t=[].concat(it(t),it(K_(n))))}),t}function Z_(e,t){return("string"==typeof t||"number"==typeof t)&&(null==t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function Q_({filters:e,prefixCls:t,filteredKeys:n,filterMultiple:r,searchValue:o,filterSearch:i}){return e.map((e,a)=>{const l=String(e.value);if(e.children)return{key:l||a,label:e.text,popupClassName:`${t}-dropdown-submenu`,children:Q_({filters:e.children,prefixCls:t,filteredKeys:n,filterMultiple:r,searchValue:o,filterSearch:i})};const s=r?VO:PS,c={key:void 0!==e.value?l:a,label:m.createElement(m.Fragment,null,m.createElement(s,{checked:n.includes(l)}),m.createElement("span",null,e.text))};return o.trim()?"function"==typeof i?i(o,e)?c:null:Z_(o,e.text)?c:null:c})}function J_(e){return e||[]}const eA=e=>{var t,n,r,o;const{tablePrefixCls:i,prefixCls:a,column:l,dropdownPrefixCls:s,columnKey:c,filterOnClose:u,filterMultiple:d,filterMode:f="menu",filterSearch:h=!1,filterState:p,triggerFilter:g,locale:v,children:y,getPopupContainer:b,rootClassName:x}=e,{filterResetToDefaultFilteredValue:w,defaultFilteredValue:C,filterDropdownProps:E={},filterDropdownOpen:O,filterDropdownVisible:k,onFilterDropdownVisibleChange:M,onFilterDropdownOpenChange:$}=l,[I,N]=m.useState(!1),T=!(!p||!(null===(t=p.filteredKeys)||void 0===t?void 0:t.length)&&!p.forceFiltered),L=e=>{var t;N(e),null===(t=E.onOpenChange)||void 0===t||t.call(E,e),null==$||$(e),null==M||M(e)},R=null!==(o=null!==(r=null!==(n=E.open)&&void 0!==n?n:O)&&void 0!==r?r:k)&&void 0!==o?o:I,_=null==p?void 0:p.filteredKeys,[A,P]=function(e){const t=m.useRef(e),n=bv();return[()=>t.current,e=>{t.current=e,n()}]}(J_(_)),j=({selectedKeys:e})=>{P(e)},B=(e,{node:t,checked:n})=>{j(d?{selectedKeys:e}:{selectedKeys:n&&t.key?[t.key]:[]})};m.useEffect(()=>{I&&j({selectedKeys:J_(_)})},[_]);const[D,z]=m.useState([]),H=e=>{z(e)},[F,W]=m.useState(""),G=e=>{const{value:t}=e.target;W(t)};m.useEffect(()=>{I||W("")},[I]);const V=e=>{const t=(null==e?void 0:e.length)?e:null;return null!==t||p&&p.filteredKeys?It(t,null==p?void 0:p.filteredKeys,!0)?null:void g({column:l,key:c,filteredKeys:t}):null},q=()=>{L(!1),V(A())},X=({confirm:e,closeDropdown:t}={confirm:!1,closeDropdown:!1})=>{e&&V([]),t&&L(!1),W(""),P(w?(C||[]).map(e=>String(e)):[])},U=({closeDropdown:e}={closeDropdown:!0})=>{e&&L(!1),V(A())},Y=S({[`${s}-menu-without-submenu`]:(K=l.filters||[],!K.some(({children:e})=>e))});var K;const Z=e=>{if(e.target.checked){const e=K_(null==l?void 0:l.filters).map(e=>String(e));P(e)}else P([])},Q=({filters:e})=>(e||[]).map((e,t)=>{const n=String(e.value),r={title:e.text,key:void 0!==e.value?n:String(t)};return e.children&&(r.children=Q({filters:e.children})),r}),J=e=>{var t;return Object.assign(Object.assign({},e),{text:e.title,value:e.key,children:(null===(t=e.children)||void 0===t?void 0:t.map(e=>J(e)))||[]})};let ee;const{direction:te,renderEmpty:ne}=m.useContext(So);if("function"==typeof l.filterDropdown)ee=l.filterDropdown({prefixCls:`${s}-custom`,setSelectedKeys:e=>j({selectedKeys:e}),selectedKeys:A(),confirm:U,clearFilters:X,filters:l.filters,visible:R,close:()=>{L(!1)}});else if(l.filterDropdown)ee=l.filterDropdown;else{const e=A()||[],t=()=>{var t,n;const r=null!==(t=null==ne?void 0:ne("Table.filter"))&&void 0!==t?t:m.createElement(Em,{image:Em.PRESENTED_IMAGE_SIMPLE,description:v.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if(0===(l.filters||[]).length)return r;if("tree"===f)return m.createElement(m.Fragment,null,m.createElement(X_,{filterSearch:h,value:F,onChange:G,tablePrefixCls:i,locale:v}),m.createElement("div",{className:`${i}-filter-dropdown-tree`},d?m.createElement(VO,{checked:e.length===K_(l.filters).length,indeterminate:e.length>0&&e.length<K_(l.filters).length,className:`${i}-filter-dropdown-checkall`,onChange:Z},null!==(n=null==v?void 0:v.filterCheckall)&&void 0!==n?n:null==v?void 0:v.filterCheckAll):null,m.createElement(q_,{checkable:!0,selectable:!1,blockNode:!0,multiple:d,checkStrictly:!d,className:`${s}-menu`,onCheck:B,checkedKeys:e,selectedKeys:e,showIcon:!1,treeData:Q({filters:l.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:F.trim()?e=>"function"==typeof h?h(F,J(e)):Z_(F,e.title):void 0})));const o=Q_({filters:l.filters||[],filterSearch:h,prefixCls:a,filteredKeys:A(),filterMultiple:d,searchValue:F}),c=o.every(e=>null===e);return m.createElement(m.Fragment,null,m.createElement(X_,{filterSearch:h,value:F,onChange:G,tablePrefixCls:i,locale:v}),c?r:m.createElement(Ax,{selectable:!0,multiple:d,prefixCls:`${s}-menu`,className:Y,onSelect:j,onDeselect:j,selectedKeys:e,getPopupContainer:b,openKeys:D,onOpenChange:H,items:o}))},n=()=>w?It((C||[]).map(e=>String(e)),e,!0):0===e.length;ee=m.createElement(m.Fragment,null,t(),m.createElement("div",{className:`${a}-dropdown-btns`},m.createElement(cd,{type:"link",size:"small",disabled:n(),onClick:()=>X()},v.filterReset),m.createElement(cd,{type:"primary",size:"small",onClick:q},v.filterConfirm)))}l.filterDropdown&&(ee=m.createElement(xx,{selectable:void 0},ee)),ee=m.createElement(Y_,{className:`${a}-dropdown`},ee);const re=oh({trigger:["click"],placement:"rtl"===te?"bottomLeft":"bottomRight",children:(()=>{let e;return e="function"==typeof l.filterIcon?l.filterIcon(T):l.filterIcon?l.filterIcon:m.createElement(GR,null),m.createElement("span",{role:"button",tabIndex:-1,className:S(`${a}-trigger`,{active:T}),onClick:e=>{e.stopPropagation()}},e)})(),getPopupContainer:b},Object.assign(Object.assign({},E),{rootClassName:S(x,E.rootClassName),open:R,onOpenChange:(e,t)=>{"trigger"===t.source&&(e&&void 0!==_&&P(J_(_)),L(e),e||l.filterDropdown||!u||q())},popupRender:()=>"function"==typeof(null==E?void 0:E.dropdownRender)?E.dropdownRender(ee):ee}));return m.createElement("div",{className:`${a}-column`},m.createElement("span",{className:`${i}-column-title`},y),m.createElement(o$,Object.assign({},re)))},tA=(e,t,n)=>{let r=[];return(e||[]).forEach((e,o)=>{var i;const a=zR(o,n),l=void 0!==e.filterDropdown;if(e.filters||l||"onFilter"in e)if("filteredValue"in e){let t=e.filteredValue;l||(t=null!==(i=null==t?void 0:t.map(String))&&void 0!==i?i:t),r.push({column:e,key:DR(e,a),filteredKeys:t,forceFiltered:e.filtered})}else r.push({column:e,key:DR(e,a),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(r=[].concat(it(r),it(tA(e.children,t,a))))}),r};function nA(e,t,n,r,o,i,a,l,s){return n.map((n,c)=>{const u=zR(c,l),{filterOnClose:d=!0,filterMultiple:f=!0,filterMode:h,filterSearch:p}=n;let g=n;if(g.filters||g.filterDropdown){const l=DR(g,u),c=r.find(({key:e})=>l===e);g=Object.assign(Object.assign({},g),{title:r=>m.createElement(eA,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:t,column:g,columnKey:l,filterState:c,filterOnClose:d,filterMultiple:f,filterMode:h,filterSearch:p,triggerFilter:i,locale:o,getPopupContainer:a,rootClassName:s},HR(n.title,r))})}return"children"in g&&(g=Object.assign(Object.assign({},g),{children:nA(e,t,g.children,r,o,i,a,u,s)})),g})}const rA=e=>{const t={};return e.forEach(({key:e,filteredKeys:n,column:r})=>{const o=e,{filters:i,filterDropdown:a}=r;if(a)t[o]=n||null;else if(Array.isArray(n)){const e=K_(i);t[o]=e.filter(e=>n.includes(String(e)))}else t[o]=null}),t},oA=(e,t,n)=>t.reduce((e,r)=>{const{column:{onFilter:o,filters:i},filteredKeys:a}=r;return o&&a&&a.length?e.map(e=>Object.assign({},e)).filter(e=>a.some(r=>{const a=K_(i),l=a.findIndex(e=>String(e)===String(r)),s=-1!==l?a[l]:r;return e[n]&&(e[n]=oA(e[n],t,n)),o(s,e)})):e},e),iA=e=>e.flatMap(e=>"children"in e?[e].concat(it(iA(e.children||[]))):[e]),aA=e=>{const{prefixCls:t,dropdownPrefixCls:n,mergedColumns:r,onFilterChange:o,getPopupContainer:i,locale:a,rootClassName:l}=e;Cr();const s=m.useMemo(()=>iA(r||[]),[r]),[c,u]=m.useState(()=>tA(s,!0)),d=m.useMemo(()=>{const e=tA(s,!1);if(0===e.length)return e;let t=!0;if(e.forEach(({filteredKeys:e})=>{void 0!==e&&(t=!1)}),t){const e=(s||[]).map((e,t)=>DR(e,zR(t)));return c.filter(({key:t})=>e.includes(t)).map(t=>{const n=s[e.indexOf(t.key)];return Object.assign(Object.assign({},t),{column:Object.assign(Object.assign({},t.column),n),forceFiltered:n.filtered})})}return e},[s,c]),f=m.useMemo(()=>rA(d),[d]),h=e=>{const t=d.filter(({key:t})=>t!==e.key);t.push(e),u(t),o(rA(t),t)};return[e=>nA(t,n,e,d,a,h,i,void 0,l),d,f]};const lA=10;function sA(e,t,n){const r=n&&"object"==typeof n?n:{},{total:o=0}=r,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(r,["total"]),[a,l]=m.useState(()=>({current:"defaultCurrent"in i?i.defaultCurrent:1,pageSize:"defaultPageSize"in i?i.defaultPageSize:lA})),s=oh(a,i,{total:o>0?o:e}),c=Math.ceil((o||e)/s.pageSize);s.current>c&&(s.current=c||1);const u=(e,t)=>{l({current:null!=e?e:1,pageSize:t||s.pageSize})};return!1===n?[{},()=>{}]:[Object.assign(Object.assign({},s),{onChange:(e,r)=>{var o;n&&(null===(o=n.onChange)||void 0===o||o.call(n,e,r)),u(e,r),t(e,r||(null==s?void 0:s.pageSize))}}),u]}var cA={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},uA=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:cA}))},dA=m.forwardRef(uA),fA={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},hA=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:fA}))},pA=m.forwardRef(hA);const gA="ascend",mA="descend",vA=e=>"object"==typeof e.sorter&&"number"==typeof e.sorter.multiple&&e.sorter.multiple,yA=e=>"function"==typeof e?e:!(!e||"object"!=typeof e||!e.compare)&&e.compare,bA=(e,t,n)=>{let r=[];const o=(e,t)=>{r.push({column:e,key:DR(e,t),multiplePriority:vA(e),sortOrder:e.sortOrder})};return(e||[]).forEach((e,i)=>{const a=zR(i,n);e.children?("sortOrder"in e&&o(e,a),r=[].concat(it(r),it(bA(e.children,t,a)))):e.sorter&&("sortOrder"in e?o(e,a):t&&e.defaultSortOrder&&r.push({column:e,key:DR(e,a),multiplePriority:vA(e),sortOrder:e.defaultSortOrder}))}),r},xA=(e,t,n,r,o,i,a,l)=>(t||[]).map((t,s)=>{const c=zR(s,l);let u=t;if(u.sorter){const l=u.sortDirections||o,s=void 0===u.showSorterTooltip?a:u.showSorterTooltip,d=DR(u,c),f=n.find(({key:e})=>e===d),h=f?f.sortOrder:null,p=((e,t)=>t?e[e.indexOf(t)+1]:e[0])(l,h);let g;if(t.sortIcon)g=t.sortIcon({sortOrder:h});else{const t=l.includes(gA)&&m.createElement(pA,{className:S(`${e}-column-sorter-up`,{active:h===gA})}),n=l.includes(mA)&&m.createElement(dA,{className:S(`${e}-column-sorter-down`,{active:h===mA})});g=m.createElement("span",{className:S(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!(!t||!n)})},m.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},t,n))}const{cancelSort:v,triggerAsc:y,triggerDesc:b}=i||{};let x=v;p===mA?x=b:p===gA&&(x=y);const w="object"==typeof s?Object.assign({title:x},s):{title:x};u=Object.assign(Object.assign({},u),{className:S(u.className,{[`${e}-column-sort`]:h}),title:n=>{const r=`${e}-column-sorters`,o=m.createElement("span",{className:`${e}-column-title`},HR(t.title,n)),i=m.createElement("div",{className:r},o,g);return s?"boolean"!=typeof s&&"sorter-icon"===(null==s?void 0:s.target)?m.createElement("div",{className:`${r} ${e}-column-sorters-tooltip-target-sorter`},o,m.createElement(Qv,Object.assign({},w),g)):m.createElement(Qv,Object.assign({},w),i):i},onHeaderCell:n=>{var o;const i=(null===(o=t.onHeaderCell)||void 0===o?void 0:o.call(t,n))||{},a=i.onClick,l=i.onKeyDown;i.onClick=e=>{r({column:t,key:d,sortOrder:p,multiplePriority:vA(t)}),null==a||a(e)},i.onKeyDown=e=>{e.keyCode===Tl.ENTER&&(r({column:t,key:d,sortOrder:p,multiplePriority:vA(t)}),null==l||l(e))};const s=((e,t)=>{const n=HR(e,t);return"[object Object]"===Object.prototype.toString.call(n)?"":n})(t.title,{}),c=null==s?void 0:s.toString();return h&&(i["aria-sort"]="ascend"===h?"ascending":"descending"),i["aria-label"]=c||"",i.className=S(i.className,`${e}-column-has-sorters`),i.tabIndex=0,t.ellipsis&&(i.title=(null!=s?s:"").toString()),i}})}return"children"in u&&(u=Object.assign(Object.assign({},u),{children:xA(e,u.children,n,r,o,i,a,c)})),u}),wA=e=>{const{column:t,sortOrder:n}=e;return{column:t,order:n,field:t.dataIndex,columnKey:t.key}},CA=e=>{const t=e.filter(({sortOrder:e})=>e).map(wA);if(0===t.length&&e.length){const t=e.length-1;return Object.assign(Object.assign({},wA(e[t])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},SA=(e,t,n)=>{const r=t.slice().sort((e,t)=>t.multiplePriority-e.multiplePriority),o=e.slice(),i=r.filter(({column:{sorter:e},sortOrder:t})=>yA(e)&&t);return i.length?o.sort((e,t)=>{for(let n=0;n<i.length;n+=1){const r=i[n],{column:{sorter:o},sortOrder:a}=r,l=yA(o);if(l&&a){const n=l(e,t,a);if(0!==n)return a===gA?n:-n}}return 0}).map(e=>{const r=e[n];return r?Object.assign(Object.assign({},e),{[n]:SA(r,t,n)}):e}):o},EA=(e,t)=>e.map(e=>{const n=Object.assign({},e);return n.title=HR(e.title,t),"children"in n&&(n.children=EA(n.children,t)),n}),OA=tR((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:r}=t;return n!==r}),kA=hR((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:r}=t;return n!==r}),MA=e=>{const{componentCls:t,lineWidth:n,lineType:r,tableBorderColor:o,tableHeaderBg:i,tablePaddingVertical:a,tablePaddingHorizontal:l,calc:s}=e,c=`${Xt(n)} ${r} ${o}`,u=(e,r,o)=>({[`&${t}-${e}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${Xt(s(r).mul(-1).equal())}\n              ${Xt(s(s(o).add(n)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:c,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:c,borderTop:c,[`\n            > ${t}-content,\n            > ${t}-header,\n            > ${t}-body,\n            > ${t}-summary\n          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:c},"> thead":{"> tr:not(:last-child) > th":{borderBottom:c},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:c}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${Xt(s(a).mul(-1).equal())} ${Xt(s(s(l).add(n)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:n,bottom:0,borderInlineEnd:c,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`\n                > tr${t}-expanded-row,\n                > tr${t}-placeholder\n              `]:{"> th, > td":{borderInlineEnd:0}}}}}},u("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),u("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:c,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${Xt(n)} 0 ${Xt(n)} ${i}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:c}}}},$A=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},ci),{wordBreak:"keep-all",[`\n          &${t}-cell-fix-left-last,\n          &${t}-cell-fix-right-first\n        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},IA=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},NA=e=>{const{componentCls:t,antCls:n,motionDurationSlow:r,lineWidth:o,paddingXS:i,lineType:a,tableBorderColor:l,tableExpandIconBg:s,tableExpandColumnWidth:c,borderRadius:u,tablePaddingVertical:d,tablePaddingHorizontal:f,tableExpandedRowBg:h,paddingXXS:p,expandIconMarginTop:g,expandIconSize:m,expandIconHalfInner:v,expandIconScale:y,calc:b}=e,x=`${Xt(o)} ${a} ${l}`,w=b(p).sub(o).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:c},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},pi(e)),{position:"relative",float:"left",width:m,height:m,color:"inherit",lineHeight:Xt(m),background:s,border:x,borderRadius:u,transform:`scale(${y})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${r} ease-out`,content:'""'},"&::before":{top:v,insetInlineEnd:w,insetInlineStart:w,height:o},"&::after":{top:w,bottom:w,insetInlineStart:v,width:o,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:g,marginInlineEnd:i},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:h}},[`${n}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${Xt(b(d).mul(-1).equal())} ${Xt(b(f).mul(-1).equal())}`,padding:`${Xt(d)} ${Xt(f)}`}}}},TA=e=>{const{componentCls:t,antCls:n,iconCls:r,tableFilterDropdownWidth:o,tableFilterDropdownSearchWidth:i,paddingXXS:a,paddingXS:l,colorText:s,lineWidth:c,lineType:u,tableBorderColor:d,headerIconColor:f,fontSizeSM:h,tablePaddingHorizontal:p,borderRadius:g,motionDurationSlow:m,colorIcon:v,colorPrimary:y,tableHeaderFilterActiveBg:b,colorTextDisabled:x,tableFilterDropdownBg:w,tableFilterDropdownHeight:C,controlItemBgHover:S,controlItemBgActive:E,boxShadowSecondary:O,filterDropdownMenuBg:k,calc:M}=e,$=`${n}-dropdown`,I=`${t}-filter-dropdown`,N=`${n}-tree`,T=`${Xt(c)} ${u} ${d}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:M(a).mul(-1).equal(),marginInline:`${Xt(a)} ${Xt(M(p).div(2).mul(-1).equal())}`,padding:`0 ${Xt(a)}`,color:f,fontSize:h,borderRadius:g,cursor:"pointer",transition:`all ${m}`,"&:hover":{color:v,background:b},"&.active":{color:y}}}},{[`${n}-dropdown`]:{[I]:Object.assign(Object.assign({},ui(e)),{minWidth:o,backgroundColor:w,borderRadius:g,boxShadow:O,overflow:"hidden",[`${$}-menu`]:{maxHeight:C,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:k,"&:empty::after":{display:"block",padding:`${Xt(l)} 0`,color:x,fontSize:h,textAlign:"center",content:'"Not Found"'}},[`${I}-tree`]:{paddingBlock:`${Xt(l)} 0`,paddingInline:l,[N]:{padding:0},[`${N}-treenode ${N}-node-content-wrapper:hover`]:{backgroundColor:S},[`${N}-treenode-checkbox-checked ${N}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:E}}},[`${I}-search`]:{padding:l,borderBottom:T,"&-input":{input:{minWidth:i},[r]:{color:x}}},[`${I}-checkall`]:{width:"100%",marginBottom:a,marginInlineStart:a},[`${I}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${Xt(M(l).sub(c).equal())} ${Xt(l)}`,overflow:"hidden",borderTop:T}})}},{[`${n}-dropdown ${I}, ${I}-submenu`]:{[`${n}-checkbox-wrapper + span`]:{paddingInlineStart:l,color:s},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},LA=e=>{const{componentCls:t,lineWidth:n,colorSplit:r,motionDurationSlow:o,zIndexTableFixed:i,tableBg:a,zIndexTableSticky:l,calc:s}=e,c=r;return{[`${t}-wrapper`]:{[`\n        ${t}-cell-fix-left,\n        ${t}-cell-fix-right\n      `]:{position:"sticky !important",zIndex:i,background:a},[`\n        ${t}-cell-fix-left-first::after,\n        ${t}-cell-fix-left-last::after\n      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:s(n).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none",willChange:"transform"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`\n        ${t}-cell-fix-right-first::after,\n        ${t}-cell-fix-right-last::after\n      `]:{position:"absolute",top:0,bottom:s(n).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:s(l).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`\n          ${t}-cell-fix-left-first::after,\n          ${t}-cell-fix-left-last::after\n        `]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${c}`},[`\n          ${t}-cell-fix-right-first::after,\n          ${t}-cell-fix-right-last::after\n        `]:{boxShadow:`inset -10px 0 8px -8px ${c}`}},[`${t}-fixed-column-gapped`]:{[`\n        ${t}-cell-fix-left-first::after,\n        ${t}-cell-fix-left-last::after,\n        ${t}-cell-fix-right-first::after,\n        ${t}-cell-fix-right-last::after\n      `]:{boxShadow:"none"}}}}},RA=e=>{const{componentCls:t,antCls:n,margin:r}=e;return{[`${t}-wrapper ${t}-pagination${n}-pagination`]:{margin:`${Xt(r)} 0`}}},_A=e=>{const{componentCls:t,tableRadius:n}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${Xt(n)} ${Xt(n)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:n,borderStartEndRadius:n,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:n},"> *:last-child":{borderStartEndRadius:n}}},"&-footer":{borderRadius:`0 0 ${Xt(n)} ${Xt(n)}`}}}}},AA=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},PA=e=>{const{componentCls:t,antCls:n,iconCls:r,fontSizeIcon:o,padding:i,paddingXS:a,headerIconColor:l,headerIconHoverColor:s,tableSelectionColumnWidth:c,tableSelectedRowBg:u,tableSelectedRowHoverBg:d,tableRowHoverBg:f,tablePaddingHorizontal:h,calc:p}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:c,[`&${t}-selection-col-with-dropdown`]:{width:p(c).add(o).add(p(i).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:p(c).add(p(a).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:p(c).add(o).add(p(i).div(4)).add(p(a).mul(2)).equal()}},[`\n        table tr th${t}-selection-column,\n        table tr td${t}-selection-column,\n        ${t}-selection-column\n      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${n}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:p(e.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:Xt(p(h).div(4).equal()),[r]:{color:l,fontSize:o,verticalAlign:"baseline","&:hover":{color:s}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:u,"&-row-hover":{background:d}}},[`> ${t}-cell-row-hover`]:{background:f}}}}}},jA=e=>{const{componentCls:t,tableExpandColumnWidth:n,calc:r}=e,o=(e,o,i,a)=>({[`${t}${t}-${e}`]:{fontSize:a,[`\n        ${t}-title,\n        ${t}-footer,\n        ${t}-cell,\n        ${t}-thead > tr > th,\n        ${t}-tbody > tr > th,\n        ${t}-tbody > tr > td,\n        tfoot > tr > th,\n        tfoot > tr > td\n      `]:{padding:`${Xt(o)} ${Xt(i)}`},[`${t}-filter-trigger`]:{marginInlineEnd:Xt(r(i).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${Xt(r(o).mul(-1).equal())} ${Xt(r(i).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:Xt(r(o).mul(-1).equal()),marginInline:`${Xt(r(n).sub(i).equal())} ${Xt(r(i).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:Xt(r(i).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},o("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),o("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},BA=e=>{const{componentCls:t,marginXXS:n,fontSizeIcon:r,headerIconColor:o,headerIconHoverColor:i}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}, left 0s`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`\n          &${t}-cell-fix-left:hover,\n          &${t}-cell-fix-right:hover\n        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:n,color:o,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:i}}}},DA=e=>{const{componentCls:t,opacityLoading:n,tableScrollThumbBg:r,tableScrollThumbBgHover:o,tableScrollThumbSize:i,tableScrollBg:a,zIndexTableSticky:l,stickyScrollBarBorderRadius:s,lineWidth:c,lineType:u,tableBorderColor:d}=e,f=`${Xt(c)} ${u} ${d}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:l,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${Xt(i)} !important`,zIndex:l,display:"flex",alignItems:"center",background:a,borderTop:f,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:i,backgroundColor:r,borderRadius:s,transition:`all ${e.motionDurationSlow}, transform 0s`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:o}}}}}}},zA=e=>{const{componentCls:t,lineWidth:n,tableBorderColor:r,calc:o}=e,i=`${Xt(n)} ${e.lineType} ${r}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:i}}},[`div${t}-summary`]:{boxShadow:`0 ${Xt(o(n).mul(-1).equal())} 0 ${r}`}}}},HA=e=>{const{componentCls:t,motionDurationMid:n,lineWidth:r,lineType:o,tableBorderColor:i,calc:a}=e,l=`${Xt(r)} ${o} ${i}`,s=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-tbody-virtual-holder-inner`]:{[`\n            & > ${t}-row, \n            & > div:not(${t}-row) > ${t}-row\n          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${t}-cell`]:{borderBottom:l,transition:`background ${n}`},[`${t}-expanded-row`]:{[`${s}${s}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${Xt(r)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:l,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:l,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:a(r).mul(-1).equal(),borderInlineStart:l}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:l,borderBottom:l}}}}}},FA=e=>{const{componentCls:t,fontWeightStrong:n,tablePaddingVertical:r,tablePaddingHorizontal:o,tableExpandColumnWidth:i,lineWidth:a,lineType:l,tableBorderColor:s,tableFontSize:c,tableBg:u,tableRadius:d,tableHeaderTextColor:f,motionDurationMid:h,tableHeaderBg:p,tableHeaderCellSplitColor:g,tableFooterTextColor:m,tableFooterBg:v,calc:y}=e,b=`${Xt(a)} ${l} ${s}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%","--rc-virtual-list-scrollbar-bg":e.tableScrollBg},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{[t]:Object.assign(Object.assign({},ui(e)),{fontSize:c,background:u,borderRadius:`${Xt(d)} ${Xt(d)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${Xt(d)} ${Xt(d)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`\n          ${t}-cell,\n          ${t}-thead > tr > th,\n          ${t}-tbody > tr > th,\n          ${t}-tbody > tr > td,\n          tfoot > tr > th,\n          tfoot > tr > td\n        `]:{position:"relative",padding:`${Xt(r)} ${Xt(o)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${Xt(r)} ${Xt(o)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:f,fontWeight:n,textAlign:"start",background:p,borderBottom:b,transition:`background ${h} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:g,transform:"translateY(-50%)",transition:`background-color ${h}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${h}, border-color ${h}`,borderBottom:b,[`\n              > ${t}-wrapper:only-child,\n              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child\n            `]:{[t]:{marginBlock:Xt(y(r).mul(-1).equal()),marginInline:`${Xt(y(i).sub(o).equal())}\n                ${Xt(y(o).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:f,fontWeight:n,textAlign:"start",background:p,borderBottom:b,transition:`background ${h} ease`},[`& > ${t}-measure-cell`]:{paddingBlock:"0 !important",borderBlock:"0 !important",[`${t}-measure-cell-content`]:{height:0,overflow:"hidden",pointerEvents:"none"}}}},[`${t}-footer`]:{padding:`${Xt(r)} ${Xt(o)}`,color:m,background:v}})}},WA=gi("Table",e=>{const{colorTextHeading:t,colorSplit:n,colorBgContainer:r,controlInteractiveSize:o,headerBg:i,headerColor:a,headerSortActiveBg:l,headerSortHoverBg:s,bodySortBg:c,rowHoverBg:u,rowSelectedBg:d,rowSelectedHoverBg:f,rowExpandedBg:h,cellPaddingBlock:p,cellPaddingInline:g,cellPaddingBlockMD:m,cellPaddingInlineMD:v,cellPaddingBlockSM:y,cellPaddingInlineSM:b,borderColor:x,footerBg:w,footerColor:C,headerBorderRadius:S,cellFontSize:E,cellFontSizeMD:O,cellFontSizeSM:k,headerSplitColor:M,fixedHeaderSortActiveBg:$,headerFilterHoverBg:I,filterDropdownBg:N,expandIconBg:T,selectionColumnWidth:L,stickyScrollBarBg:R,calc:_}=e,A=Xo(e,{tableFontSize:E,tableBg:r,tableRadius:S,tablePaddingVertical:p,tablePaddingHorizontal:g,tablePaddingVerticalMiddle:m,tablePaddingHorizontalMiddle:v,tablePaddingVerticalSmall:y,tablePaddingHorizontalSmall:b,tableBorderColor:x,tableHeaderTextColor:a,tableHeaderBg:i,tableFooterTextColor:C,tableFooterBg:w,tableHeaderCellSplitColor:M,tableHeaderSortBg:l,tableHeaderSortHoverBg:s,tableBodySortBg:c,tableFixedHeaderSortActiveBg:$,tableHeaderFilterActiveBg:I,tableFilterDropdownBg:N,tableRowHoverBg:u,tableSelectedRowBg:d,tableSelectedRowHoverBg:f,zIndexTableFixed:2,zIndexTableSticky:_(2).add(1).equal({unit:!1}),tableFontSizeMiddle:O,tableFontSizeSmall:k,tableSelectionColumnWidth:L,tableExpandIconBg:T,tableExpandColumnWidth:_(o).add(_(e.padding).mul(2)).equal(),tableExpandedRowBg:h,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:R,tableScrollThumbBgHover:t,tableScrollBg:n});return[FA(A),RA(A),zA(A),BA(A),TA(A),MA(A),_A(A),NA(A),zA(A),IA(A),PA(A),LA(A),DA(A),$A(A),jA(A),AA(A),HA(A)]},e=>{const{colorFillAlter:t,colorBgContainer:n,colorTextHeading:r,colorFillSecondary:o,colorFillContent:i,controlItemBgActive:a,controlItemBgActiveHover:l,padding:s,paddingSM:c,paddingXS:u,colorBorderSecondary:d,borderRadiusLG:f,controlHeight:h,colorTextPlaceholder:p,fontSize:g,fontSizeSM:m,lineHeight:v,lineWidth:y,colorIcon:b,colorIconHover:x,opacityLoading:w,controlInteractiveSize:C}=e,S=new Wr(o).onBackground(n).toHexString(),E=new Wr(i).onBackground(n).toHexString(),O=new Wr(t).onBackground(n).toHexString(),k=new Wr(b),M=new Wr(x),$=C/2-y,I=2*$+3*y;return{headerBg:O,headerColor:r,headerSortActiveBg:S,headerSortHoverBg:E,bodySortBg:O,rowHoverBg:O,rowSelectedBg:a,rowSelectedHoverBg:l,rowExpandedBg:t,cellPaddingBlock:s,cellPaddingInline:s,cellPaddingBlockMD:c,cellPaddingInlineMD:u,cellPaddingBlockSM:u,cellPaddingInlineSM:u,borderColor:d,headerBorderRadius:f,footerBg:O,footerColor:r,cellFontSize:g,cellFontSizeMD:g,cellFontSizeSM:g,headerSplitColor:d,fixedHeaderSortActiveBg:S,headerFilterHoverBg:i,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:h,stickyScrollBarBg:p,stickyScrollBarBorderRadius:100,expandIconMarginTop:(g*v-3*y)/2-Math.ceil((1.4*m-3*y)/2),headerIconColor:k.clone().setA(k.a*w).toRgbString(),headerIconHoverColor:M.clone().setA(M.a*w).toRgbString(),expandIconHalfInner:$,expandIconSize:I,expandIconScale:C/I}},{unitless:{expandIconScale:!0}}),GA=[],VA=(e,t)=>{var n,r;const{prefixCls:o,className:i,rootClassName:a,style:l,size:s,bordered:c,dropdownPrefixCls:u,dataSource:d,pagination:f,rowSelection:h,rowKey:p="key",rowClassName:g,columns:v,children:y,childrenColumnName:b,onChange:x,getPopupContainer:w,loading:C,expandIcon:E,expandable:O,expandedRowRender:k,expandIconColumnIndex:M,indentSize:$,scroll:I,sortDirections:N,locale:T,showSorterTooltip:L={target:"full-header"},virtual:R}=e;Cr();const _=m.useMemo(()=>v||DL(y),[v,y]),A=xv(m.useMemo(()=>_.some(e=>e.responsive),[_])),P=m.useMemo(()=>{const e=new Set(Object.keys(A).filter(e=>A[e]));return _.filter(t=>!t.responsive||t.responsive.some(t=>e.has(t)))},[_,A]),j=js(e,["className","style","columns"]),{locale:B=Ir,direction:D,table:z,renderEmpty:H,getPrefixCls:F,getPopupContainer:W}=m.useContext(So),G=Xs(s),V=Object.assign(Object.assign({},B.Table),T),q=d||GA,X=F("table",o),U=F("dropdown",u),[,Y]=si(),K=Nl(X),[Z,Q,J]=WA(X,K),ee=Object.assign(Object.assign({childrenColumnName:b,expandIconColumnIndex:M},O),{expandIcon:null!==(n=null==O?void 0:O.expandIcon)&&void 0!==n?n:null===(r=null==z?void 0:z.expandable)||void 0===r?void 0:r.expandIcon}),{childrenColumnName:te="children"}=ee,ne=m.useMemo(()=>q.some(e=>null==e?void 0:e[te])?"nest":k||(null==O?void 0:O.expandedRowRender)?"row":null,[q]),re={body:m.useRef(null)},oe=function(e){return(t,n)=>{const r=t.querySelector(`.${e}-container`);let o=n;if(r){const e=getComputedStyle(r);o=n-Number.parseInt(e.borderLeftWidth,10)-Number.parseInt(e.borderRightWidth,10)}return o}}(X),ie=m.useRef(null),ae=m.useRef(null);BR(t,()=>Object.assign(Object.assign({},ae.current),{nativeElement:ie.current}));const le=m.useMemo(()=>"function"==typeof p?p:e=>null==e?void 0:e[p],[p]),[se]=((e,t,n)=>{const r=m.useRef({});return[function(o){var i;if(!r.current||r.current.data!==e||r.current.childrenColumnName!==t||r.current.getRowKey!==n){let o=function(e){e.forEach((e,r)=>{const a=n(e,r);i.set(a,e),e&&"object"==typeof e&&t in e&&o(e[t]||[])})};const i=new Map;o(e),r.current={data:e,childrenColumnName:t,kvMap:i,getRowKey:n}}return null===(i=r.current.kvMap)||void 0===i?void 0:i.get(o)}]})(q,te,le),ce={},ue=(e,t,n=!1)=>{var r,o,i,a;const l=Object.assign(Object.assign({},ce),e);n&&(null===(r=ce.resetPagination)||void 0===r||r.call(ce),(null===(o=l.pagination)||void 0===o?void 0:o.current)&&(l.pagination.current=1),f&&(null===(i=f.onChange)||void 0===i||i.call(f,1,null===(a=l.pagination)||void 0===a?void 0:a.pageSize))),I&&!1!==I.scrollToFirstRowOnChange&&re.body.current&&Il(0,{getContainer:()=>re.body.current}),null==x||x(l.pagination,l.filters,l.sorter,{currentDataSource:oA(SA(q,l.sorterStates,te),l.filterStates,te),action:t})},[de,fe,he,pe]=(e=>{const{prefixCls:t,mergedColumns:n,sortDirections:r,tableLocale:o,showSorterTooltip:i,onSorterChange:a}=e,[l,s]=m.useState(()=>bA(n,!0)),c=(e,t)=>{const n=[];return e.forEach((e,r)=>{const o=zR(r,t);if(n.push(DR(e,o)),Array.isArray(e.children)){const t=c(e.children,o);n.push.apply(n,it(t))}}),n},u=m.useMemo(()=>{let e=!0;const t=bA(n,!1);if(!t.length){const e=c(n);return l.filter(({key:t})=>e.includes(t))}const r=[];function o(t){e?r.push(t):r.push(Object.assign(Object.assign({},t),{sortOrder:null}))}let i=null;return t.forEach(t=>{null===i?(o(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:i=!0)):(i&&!1!==t.multiplePriority||(e=!1),o(t))}),r},[n,l]),d=m.useMemo(()=>{var e,t;const n=u.map(({column:e,sortOrder:t})=>({column:e,order:t}));return{sortColumns:n,sortColumn:null===(e=n[0])||void 0===e?void 0:e.column,sortOrder:null===(t=n[0])||void 0===t?void 0:t.order}},[u]),f=e=>{let t;t=!1!==e.multiplePriority&&u.length&&!1!==u[0].multiplePriority?[].concat(it(u.filter(({key:t})=>t!==e.key)),[e]):[e],s(t),a(CA(t),t)};return[e=>xA(t,e,u,f,r,o,i),u,d,()=>CA(u)]})({prefixCls:X,mergedColumns:P,onSorterChange:(e,t)=>{ue({sorter:e,sorterStates:t},"sort",!1)},sortDirections:N||["ascend","descend"],tableLocale:V,showSorterTooltip:L}),ge=m.useMemo(()=>SA(q,fe,te),[q,fe]);ce.sorter=pe(),ce.sorterStates=fe;const[me,ve,ye]=aA({prefixCls:X,locale:V,dropdownPrefixCls:U,mergedColumns:P,onFilterChange:(e,t)=>{ue({filters:e,filterStates:t},"filter",!0)},getPopupContainer:w||W,rootClassName:S(a,K)}),be=oA(ge,ve,te);ce.filters=ye,ce.filterStates=ve;const xe=m.useMemo(()=>{const e={};return Object.keys(ye).forEach(t=>{null!==ye[t]&&(e[t]=ye[t])}),Object.assign(Object.assign({},he),{filters:e})},[he,ye]),[we]=(e=>[m.useCallback(t=>EA(t,e),[e])])(xe),[Ce,Se]=sA(be.length,(e,t)=>{ue({pagination:Object.assign(Object.assign({},ce.pagination),{current:e,pageSize:t})},"paginate")},f);ce.pagination=!1===f?{}:function(e,t){const n={current:e.current,pageSize:e.pageSize},r=t&&"object"==typeof t?t:{};return Object.keys(r).forEach(t=>{const r=e[t];"function"!=typeof r&&(n[t]=r)}),n}(Ce,f),ce.resetPagination=Se;const Ee=m.useMemo(()=>{if(!1===f||!Ce.pageSize)return be;const{current:e=1,total:t,pageSize:n=lA}=Ce;return be.length<t?be.length>n?be.slice((e-1)*n,e*n):be:be.slice((e-1)*n,e*n)},[!!f,be,null==Ce?void 0:Ce.current,null==Ce?void 0:Ce.pageSize,null==Ce?void 0:Ce.total]),[Oe,ke]=jR({prefixCls:X,data:be,pageData:Ee,getRowKey:le,getRecordByKey:se,expandType:ne,childrenColumnName:te,locale:V,getPopupContainer:w||W},h);ee.__PARENT_RENDER_ICON__=ee.expandIcon,ee.expandIcon=ee.expandIcon||E||function(e){return t=>{const{prefixCls:n,onExpand:r,record:o,expanded:i,expandable:a}=t,l=`${n}-row-expand-icon`;return m.createElement("button",{type:"button",onClick:e=>{r(o,e),e.stopPropagation()},className:S(l,{[`${l}-spaced`]:!a,[`${l}-expanded`]:a&&i,[`${l}-collapsed`]:a&&!i}),"aria-label":i?e.collapse:e.expand,"aria-expanded":i})}}(V),"nest"===ne&&void 0===ee.expandIconColumnIndex?ee.expandIconColumnIndex=h?1:0:ee.expandIconColumnIndex>0&&h&&(ee.expandIconColumnIndex-=1),"number"!=typeof ee.indentSize&&(ee.indentSize="number"==typeof $?$:15);const Me=m.useCallback(e=>we(Oe(me(de(e)))),[de,me,Oe]),$e=m.useMemo(()=>"boolean"==typeof C?{spinning:C}:"object"==typeof C&&null!==C?Object.assign({spinning:!0},C):void 0,[C]),Ie=S(J,K,`${X}-wrapper`,null==z?void 0:z.className,{[`${X}-wrapper-rtl`]:"rtl"===D},i,a,Q),Ne=Object.assign(Object.assign({},null==z?void 0:z.style),l),Te=m.useMemo(()=>(null==$e?void 0:$e.spinning)&&q===GA?null:void 0!==(null==T?void 0:T.emptyText)?T.emptyText:(null==H?void 0:H("Table"))||m.createElement(Om,{componentName:"Table"}),[null==$e?void 0:$e.spinning,q,null==T?void 0:T.emptyText,H]),Le=R?kA:OA,Re={},_e=m.useMemo(()=>{const{fontSize:e,lineHeight:t,lineWidth:n,padding:r,paddingXS:o,paddingSM:i}=Y,a=Math.floor(e*t);switch(G){case"middle":return 2*i+a+n;case"small":return 2*o+a+n;default:return 2*r+a+n}},[Y,G]);R&&(Re.listItemHeight=_e);const{top:Ae,bottom:Pe}=(()=>{if(!1===f||!(null==Ce?void 0:Ce.total))return{};const e=e=>{const t="left"===e?"start":"right"===e?"end":e;return m.createElement(UI,Object.assign({},Ce,{align:Ce.align||t,className:S(`${X}-pagination`,Ce.className),size:Ce.size||("small"===G||"middle"===G?"small":void 0)}))},t="rtl"===D?"left":"right",n=Ce.position;if(null===n||!Array.isArray(n))return{bottom:e(t)};const r=n.find(e=>"string"==typeof e&&e.toLowerCase().includes("top")),o=n.find(e=>"string"==typeof e&&e.toLowerCase().includes("bottom")),i=n.every(e=>"none"==`${e}`),a=r?r.toLowerCase().replace("top",""):"",l=o?o.toLowerCase().replace("bottom",""):"",s=!r&&!o&&!i;return{top:a?e(a):void 0,bottom:l?e(l):s?e(t):void 0}})();return Z(m.createElement("div",{ref:ie,className:Ie,style:Ne},m.createElement(iN,Object.assign({spinning:!1},$e),Ae,m.createElement(Le,Object.assign({},Re,j,{ref:ae,columns:P,direction:D,expandable:ee,prefixCls:X,className:S({[`${X}-middle`]:"middle"===G,[`${X}-small`]:"small"===G,[`${X}-bordered`]:c,[`${X}-empty`]:0===q.length},J,K,Q),data:Ee,rowKey:le,rowClassName:(e,t,n)=>{let r;return r=S("function"==typeof g?g(e,t,n):g),S({[`${X}-row-selected`]:ke.has(le(e,t))},r)},emptyText:Te,internalHooks:KT,internalRefs:re,transformColumns:Me,getContainerWidth:oe,measureRowRender:e=>m.createElement(Ma,{getPopupContainer:e=>e},e)})),Pe)))},qA=m.forwardRef(VA),XA=(e,t)=>{const n=m.useRef(0);return n.current+=1,m.createElement(qA,Object.assign({},e,{ref:t,_renderTimes:n.current}))},UA=m.forwardRef(XA);UA.SELECTION_COLUMN=TR,UA.EXPAND_COLUMN=YT,UA.SELECTION_ALL=LR,UA.SELECTION_INVERT=RR,UA.SELECTION_NONE=_R,UA.Column=e=>null,UA.ColumnGroup=e=>null,UA.Summary=gL;const YA=e=>{const{lineWidth:t,fontSizeIcon:n,calc:r}=e,o=e.fontSizeSM;return Xo(e,{tagFontSize:o,tagLineHeight:Xt(r(e.lineHeightSM).mul(o).equal()),tagIconSize:r(n).sub(r(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},KA=e=>({defaultBg:new Wr(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),ZA=gi("Tag",e=>(e=>{const{paddingXXS:t,lineWidth:n,tagPaddingHorizontal:r,componentCls:o,calc:i}=e,a=i(r).sub(n).equal(),l=i(t).sub(n).equal();return{[o]:Object.assign(Object.assign({},ui(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:a,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${o}-close-icon`]:{marginInlineStart:l,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:a}}),[`${o}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}})(YA(e)),KA);const QA=m.forwardRef((e,t)=>{const{prefixCls:n,style:r,className:o,checked:i,children:a,icon:l,onChange:s,onClick:c}=e,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","style","className","checked","children","icon","onChange","onClick"]),{getPrefixCls:d,tag:f}=m.useContext(So),h=d("tag",n),[p,g,v]=ZA(h),y=S(h,`${h}-checkable`,{[`${h}-checkable-checked`]:i},null==f?void 0:f.className,o,g,v);return p(m.createElement("span",Object.assign({},u,{ref:t,style:Object.assign(Object.assign({},r),null==f?void 0:f.style),className:y,onClick:e=>{null==s||s(!i),null==c||c(e)}}),l,m.createElement("span",null,a)))}),JA=vi(["Tag","preset"],e=>(e=>yi(e,(t,{textColor:n,lightBorderColor:r,lightColor:o,darkColor:i})=>({[`${e.componentCls}${e.componentCls}-${t}`]:{color:n,background:o,borderColor:r,"&-inverse":{color:e.colorTextLightSolid,background:i,borderColor:i},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}})))(YA(e)),KA);const eP=(e,t,n)=>{const r="string"!=typeof(o=n)?o:o.charAt(0).toUpperCase()+o.slice(1);var o;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${n}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},tP=vi(["Tag","status"],e=>{const t=YA(e);return[eP(t,"success","Success"),eP(t,"processing","Info"),eP(t,"error","Error"),eP(t,"warning","Warning")]},KA);const nP=m.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:o,style:i,children:a,icon:l,color:s,onClose:c,bordered:u=!0,visible:d}=e,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:h,direction:p,tag:g}=m.useContext(So),[v,y]=m.useState(!0),b=js(f,["closeIcon","closable"]);m.useEffect(()=>{void 0!==d&&y(d)},[d]);const x=Yv(s),w=function(e){return Uv.includes(e)}(s),C=x||w,E=Object.assign(Object.assign({backgroundColor:s&&!C?s:void 0},null==g?void 0:g.style),i),O=h("tag",n),[k,M,$]=ZA(O),I=S(O,null==g?void 0:g.className,{[`${O}-${s}`]:C,[`${O}-has-color`]:s&&!C,[`${O}-hidden`]:!v,[`${O}-rtl`]:"rtl"===p,[`${O}-borderless`]:!u},r,o,M,$),N=e=>{e.stopPropagation(),null==c||c(e),e.defaultPrevented||y(!1)},[,T]=sh(ih(e),ih(g),{closable:!1,closeIconRender:e=>al(e,m.createElement("span",{className:`${O}-close-icon`,onClick:N},e),e=>({onClick:t=>{var n;null===(n=null==e?void 0:e.onClick)||void 0===n||n.call(e,t),N(t)},className:S(null==e?void 0:e.className,`${O}-close-icon`)}))}),L="function"==typeof f.onClick||a&&"a"===a.type,R=l||null,_=R?m.createElement(m.Fragment,null,R,a&&m.createElement("span",null,a)):a,A=m.createElement("span",Object.assign({},b,{ref:t,className:I,style:E}),_,T,x&&m.createElement(JA,{key:"preset",prefixCls:O}),w&&m.createElement(tP,{key:"status",prefixCls:O}));return k(L?m.createElement(qs,{component:"Tag"},A):A)}),rP=nP;rP.CheckableTag=QA;var oP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},iP=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:oP}))},aP=m.forwardRef(iP);var lP=function(e){return!e||e.disabled||e.disableCheckbox||!1===e.checkable},sP=function(e){return null==e};var cP=function(){return null},uP=["children","value"];function dP(e){return N(e).map(function(e){if(!m.isValidElement(e)||!e.type)return null;var t=e,n=t.key,r=t.props,o=r.children,i=D({key:n,value:r.value},$t(r,uP)),a=dP(o);return a.length&&(i.children=a),i}).filter(function(e){return e})}function fP(e){if(!e)return e;var t=D({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return A(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function hP(e){var t=m.useRef();t.current=e;var n=m.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}function pP(e,t,n){return m.useMemo(function(){if(e){if(n){var r=D({id:"id",pId:"pId",rootPId:null},"object"===O(n)?n:{});return function(e,t){var n=t.id,r=t.pId,o=t.rootPId,i=new Map,a=[];return e.forEach(function(e){var t=e[n],r=D(D({},e),{},{key:e.key||t});i.set(t,r)}),i.forEach(function(e){var t=e[r],n=i.get(t);n?(n.children=n.children||[],n.children.push(e)):t!==o&&null!==o||a.push(e)}),a}(e,r)}return e}return dP(t)},[t,n,e])}var gP=m.createContext(null),mP=m.createContext(null),vP={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},yP=function(e,t){var n=Cp(),r=n.prefixCls,o=n.multiple,i=n.searchValue,a=n.toggleOpen,l=n.open,s=n.notFoundContent,c=m.useContext(mP),u=c.virtual,d=c.listHeight,f=c.listItemHeight,h=c.listItemScrollOffset,p=c.treeData,g=c.fieldNames,v=c.onSelect,y=c.dropdownMatchSelectWidth,b=c.treeExpandAction,x=c.treeTitleRender,w=c.onPopupScroll,C=c.leftMaxCount,S=c.leafCountOnly,O=c.valueEntities,k=m.useContext(gP),M=k.checkable,$=k.checkedKeys,I=k.halfCheckedKeys,N=k.treeExpandedKeys,T=k.treeDefaultExpandAll,L=k.treeDefaultExpandedKeys,R=k.onTreeExpand,_=k.treeIcon,A=k.showTreeIcon,P=k.switcherIcon,j=k.treeLine,B=k.treeNodeFilterProp,D=k.loadData,z=k.treeLoadedKeys,H=k.treeMotion,F=k.onTreeLoad,W=k.keyEntities,G=m.useRef(),V=se(function(){return p},[l,p],function(e,t){return t[0]&&e[1]!==t[1]}),q=m.useMemo(function(){return M?{checked:$,halfChecked:I}:null},[M,$,I]);m.useEffect(function(){var e;l&&!o&&$.length&&(null===(e=G.current)||void 0===e||e.scrollTo({key:$[0]}))},[l]);var X=function(e){e.preventDefault()},U=function(e,t){var n=t.node;M&&lP(n)||(v(n.key,{selected:!$.includes(n.key)}),o||a(!1))},Y=pt(m.useState(L),2),K=Y[0],Z=Y[1],Q=pt(m.useState(null),2),J=Q[0],ee=Q[1],te=m.useMemo(function(){return N?it(N):i?J:K},[K,J,N,i]),ne=String(i).toLowerCase(),re=function(e){return!!ne&&String(e[B]).toLowerCase().includes(ne)};m.useEffect(function(){i&&ee(function(e,t){var n=[];return function e(r){r.forEach(function(r){var o=r[t.children];o&&(n.push(r[t.value]),e(o))})}(e),n}(p,g))},[i]);var oe=pt(m.useState(function(){return new Map}),2),ie=oe[0],ae=oe[1];m.useEffect(function(){C&&ae(new Map)},[C]);var le=zo(function(e){var t=e[g.value];return!$.includes(t)&&(null!==C&&(C<=0||!(!S||!C)&&function(e){var t=e[g.value];if(!ie.has(t)){var n=O.get(t);if(0===(n.children||[]).length)ie.set(t,!1);else{var r=n.children.filter(function(e){return!e.node.disabled&&!e.node.disableCheckbox&&!$.includes(e.node[g.value])}).length;ie.set(t,r>C)}}return ie.get(t)}(e)))}),ce=function e(t){var n,r=lT(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!o.disabled&&!1!==o.selectable){if(!i)return o;if(re(o))return o;if(o[g.children]){var a=e(o[g.children]);if(a)return a}}}}catch(l){r.e(l)}finally{r.f()}return null},ue=pt(m.useState(null),2),de=ue[0],fe=ue[1],he=W[de];m.useEffect(function(){if(l){var e,t=null;t=o||!$.length||i?(e=ce(V))?e[g.value]:null:$[0],fe(t)}},[l,i]),m.useImperativeHandle(t,function(){var e;return{scrollTo:null===(e=G.current)||void 0===e?void 0:e.scrollTo,onKeyDown:function(e){var t;switch(e.which){case Tl.UP:case Tl.DOWN:case Tl.LEFT:case Tl.RIGHT:null===(t=G.current)||void 0===t||t.onKeyDown(e);break;case Tl.ENTER:if(he){var n=le(he.node),r=(null==he?void 0:he.node)||{},o=r.selectable,i=r.value,l=r.disabled;!1===o||l||n||U(0,{node:{key:de},selected:!$.includes(i)})}break;case Tl.ESC:a(!1)}},onKeyUp:function(){}}});var pe=se(function(){return!i},[i,N||K],function(e,t){var n=pt(e,1)[0],r=pt(t,2),o=r[0],i=r[1];return n!==o&&!(!o&&!i)})?D:null;if(0===V.length)return m.createElement("div",{role:"listbox",className:"".concat(r,"-empty"),onMouseDown:X},s);var ge={fieldNames:g};return z&&(ge.loadedKeys=z),te&&(ge.expandedKeys=te),m.createElement("div",{onMouseDown:X},he&&l&&m.createElement("span",{style:vP,"aria-live":"assertive"},he.node.value),m.createElement(gR.Provider,{value:{nodeDisabled:le}},m.createElement(i_,E({ref:G,focusable:!1,prefixCls:"".concat(r,"-tree"),treeData:V,height:d,itemHeight:f,itemScrollOffset:h,virtual:!1!==u&&!1!==y,multiple:o,icon:_,showIcon:A,switcherIcon:P,showLine:j,loadData:pe,motion:H,activeKey:de,checkable:M,checkStrictly:!0,checkedKeys:q,selectedKeys:M?[]:$,defaultExpandAll:T,titleRender:x},ge,{onActiveChange:fe,onSelect:U,onCheck:U,onExpand:function(e){Z(e),ee(e),R&&R(e)},onLoad:F,filterTreeNode:re,expandAction:b,onScroll:w}))))},bP=m.forwardRef(yP),xP="SHOW_ALL",wP="SHOW_PARENT",CP="SHOW_CHILD";function SP(e,t,n,r){var o=new Set(e);return t===CP?e.filter(function(e){var t=n[e];return!(t&&t.children&&t.children.some(function(e){var t=e.node;return o.has(t[r.value])})&&t.children.every(function(e){var t=e.node;return lP(t)||o.has(t[r.value])}))}):t===wP?e.filter(function(e){var t=n[e],r=t?t.parent:null;return!r||lP(r.node)||!o.has(r.key)}):e}var EP=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","maxCount","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];var OP=m.forwardRef(function(e,t){var n,r,o=e.id,i=e.prefixCls,a=void 0===i?"rc-tree-select":i,l=e.value,s=e.defaultValue,c=e.onChange,u=e.onSelect,d=e.onDeselect,f=e.searchValue,h=e.inputValue,p=e.onSearch,g=e.autoClearSearchValue,v=void 0===g||g,y=e.filterTreeNode,b=e.treeNodeFilterProp,x=void 0===b?"value":b,w=e.showCheckedStrategy,C=e.treeNodeLabelProp,S=e.multiple,k=e.treeCheckable,M=e.treeCheckStrictly,$=e.labelInValue,I=e.maxCount,N=e.fieldNames,T=e.treeDataSimpleMode,L=e.treeData,R=e.children,_=e.loadData,P=e.treeLoadedKeys,B=e.onTreeLoad,z=e.treeDefaultExpandAll,H=e.treeExpandedKeys,F=e.treeDefaultExpandedKeys,W=e.onTreeExpand,G=e.treeExpandAction,V=e.virtual,q=e.listHeight,X=void 0===q?200:q,U=e.listItemHeight,Y=void 0===U?20:U,K=e.listItemScrollOffset,Z=void 0===K?0:K,Q=e.onDropdownVisibleChange,J=e.dropdownMatchSelectWidth,ee=void 0===J||J,te=e.treeLine,ne=e.treeIcon,re=e.showTreeIcon,oe=e.switcherIcon,ie=e.treeMotion,ae=e.treeTitleRender,le=e.onPopupScroll,se=$t(e,EP),ce=sm(o),ue=k&&!M,de=k||M,fe=M||$,he=de||S,pe=pt(Wo(s,{value:l}),2),ge=pe[0],me=pe[1],ve=m.useMemo(function(){return k?w||CP:xP},[w,k]),ye=m.useMemo(function(){return function(e){var t=e||{},n=t.label,r=t.value;return{_title:n?[n]:["title","label"],value:r||"value",key:r||"value",children:t.children||"children"}}(N)},[JSON.stringify(N)]),be=pt(Wo("",{value:void 0!==f?f:h,postState:function(e){return e||""}}),2),xe=be[0],we=be[1],Ce=pP(L,R,T),Se=function(e,t){return m.useMemo(function(){return RO(e,{fieldNames:t,initWrapper:function(e){return D(D({},e),{},{valueEntities:new Map})},processEntity:function(e,n){var r=e.node[t.value];n.valueEntities.set(r,e)}})},[e,t])}(Ce,ye),Ee=Se.keyEntities,Oe=Se.valueEntities,ke=m.useCallback(function(e){var t=[],n=[];return e.forEach(function(e){Oe.has(e)?n.push(e):t.push(e)}),{missingRawValues:t,existRawValues:n}},[Oe]),Me=function(e,t,n){var r=n.fieldNames,o=n.treeNodeFilterProp,i=n.filterTreeNode,a=r.children;return m.useMemo(function(){if(!t||!1===i)return e;var n="function"==typeof i?i:function(e,n){return String(n[o]).toUpperCase().includes(t.toUpperCase())};return function e(r){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.reduce(function(r,i){var l=i[a],s=o||n(t,fP(i)),c=e(l||[],s);return(s||c.length)&&r.push(D(D({},i),{},j({isLeaf:void 0},a,c))),r},[])}(e)},[e,t,a,o,i])}(Ce,xe,{fieldNames:ye,treeNodeFilterProp:x,filterTreeNode:y}),$e=m.useCallback(function(e){if(e){if(C)return e[C];for(var t=ye._title,n=0;n<t.length;n+=1){var r=e[t[n]];if(void 0!==r)return r}}},[ye,C]),Ie=m.useCallback(function(e){var t=function(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}(e);return t.map(function(e){return function(e){return!e||"object"!==O(e)}(e)?{value:e}:e})},[]),Ne=m.useCallback(function(e){return Ie(e).map(function(e){var t,n,r=e.label,o=e.value,i=e.halfChecked,a=Oe.get(o);if(a)r=ae?ae(a.node):null!==(n=r)&&void 0!==n?n:$e(a.node),t=a.node.disabled;else if(void 0===r){r=Ie(ge).find(function(e){return e.value===o}).label}return{label:r,value:o,halfChecked:i,disabled:t}})},[Oe,$e,Ie,ge]),Te=m.useMemo(function(){return Ie(null===ge?[]:ge)},[Ie,ge]),Le=pt(m.useMemo(function(){var e=[],t=[];return Te.forEach(function(n){n.halfChecked?t.push(n):e.push(n)}),[e,t]},[Te]),2),Re=Le[0],_e=Le[1],Ae=m.useMemo(function(){return Re.map(function(e){return e.value})},[Re]),Pe=function(e,t,n,r){return m.useMemo(function(){var o=function(e){return e.map(function(e){return e.value})},i=o(e),a=o(t),l=i.filter(function(e){return!r[e]}),s=i,c=a;if(n){var u=BO(i,!0,r);s=u.checkedKeys,c=u.halfCheckedKeys}return[Array.from(new Set([].concat(it(l),it(s)))),c]},[e,t,n,r])}(Re,_e,ue,Ee),je=pt(Pe,2),Be=je[0],De=je[1],ze=m.useMemo(function(){var e=SP(Be,ve,Ee,ye).map(function(e){var t,n;return null!==(t=null===(n=Ee[e])||void 0===n||null===(n=n.node)||void 0===n?void 0:n[ye.value])&&void 0!==t?t:e}).map(function(e){var t=Re.find(function(t){return t.value===e}),n=$?null==t?void 0:t.label:null==ae?void 0:ae(t);return{value:e,label:n}}),t=Ne(e),n=t[0];return!he&&n&&sP(n.value)&&sP(n.label)?[]:t.map(function(e){var t;return D(D({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})})},[ye,he,Be,Re,Ne,ve,Ee]),He=(n=ze,r=m.useRef({valueLabels:new Map}),m.useMemo(function(){var e=r.current.valueLabels,t=new Map,o=n.map(function(n){var r=n.value,o=n.label,i=null!=o?o:e.get(r);return t.set(r,i),D(D({},n),{},{label:i})});return r.current.valueLabels=t,[o]},[n])),Fe=pt(He,1)[0],We=m.useMemo(function(){return!he||"SHOW_CHILD"!==ve&&!M&&k?null:I},[I,he,M,ve,k]),Ge=hP(function(e,t,n){var r=SP(e,ve,Ee,ye);if(!(We&&r.length>We)){var o=Ne(e);if(me(o),v&&we(""),c){var i=e;ue&&(i=r.map(function(e){var t=Oe.get(e);return t?t.node[ye.value]:e}));var a=t||{triggerValue:void 0,selected:void 0},l=a.triggerValue,s=a.selected,u=i;if(M){var d=_e.filter(function(e){return!i.includes(e.value)});u=[].concat(it(u),it(d))}var f=Ne(u),h={preValue:Re,triggerValue:l},p=!0;(M||"selection"===n&&!s)&&(p=!1),function(e,t,n,r,o,i){var a=null,l=null;function s(){l||(l=[],function e(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.map(function(r,c){var u="".concat(o,"-").concat(c),d=r[i.value],f=n.includes(d),h=e(r[i.children]||[],u,f),p=m.createElement(cP,r,h.map(function(e){return e.node}));if(t===d&&(a=p),f){var g={pos:u,node:p,children:h};return s||l.push(g),g}return null}).filter(function(e){return e})}(r),l.sort(function(e,t){var r=e.node.props.value,o=t.node.props.value;return n.indexOf(r)-n.indexOf(o)}))}Object.defineProperty(e,"triggerNode",{get:function(){return A(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),s(),a}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return A(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),s(),o?l:l.map(function(e){return e.node})}})}(h,l,e,Ce,p,ye),de?h.checked=s:h.selected=s;var g=fe?f:f.map(function(e){return e.value});c(he?g:g[0],fe?null:f.map(function(e){return e.label}),h)}}}),Ve=m.useCallback(function(e,t){var n,r=t.selected,o=t.source,i=Ee[e],a=null==i?void 0:i.node,l=null!==(n=null==a?void 0:a[ye.value])&&void 0!==n?n:e;if(he){var s=r?[].concat(it(Ae),[l]):Be.filter(function(e){return e!==l});if(ue){var c,f=ke(s),h=f.missingRawValues,p=f.existRawValues.map(function(e){return Oe.get(e).key});if(r)c=BO(p,!0,Ee).checkedKeys;else c=BO(p,{halfCheckedKeys:De},Ee).checkedKeys;s=[].concat(it(h),it(c.map(function(e){return Ee[e].node[ye.value]})))}Ge(s,{selected:r,triggerValue:l},o||"option")}else Ge([l],{selected:!0,triggerValue:l},"option");r||!he?null==u||u(l,fP(a)):null==d||d(l,fP(a))},[ke,Oe,Ee,ye,he,Ae,Ge,ue,u,d,Be,De,I]),qe=m.useCallback(function(e){if(Q){var t={};Object.defineProperty(t,"documentClickClose",{get:function(){return A(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),Q(e,t)}},[Q]),Xe=hP(function(e,t){var n=e.map(function(e){return e.value});"clear"!==t.type?t.values.length&&Ve(t.values[0].value,{selected:!1,source:"selection"}):Ge(n,{},"selection")}),Ue=m.useMemo(function(){return{virtual:V,dropdownMatchSelectWidth:ee,listHeight:X,listItemHeight:Y,listItemScrollOffset:Z,treeData:Me,fieldNames:ye,onSelect:Ve,treeExpandAction:G,treeTitleRender:ae,onPopupScroll:le,leftMaxCount:void 0===I?null:I-Fe.length,leafCountOnly:"SHOW_CHILD"===ve&&!M&&!!k,valueEntities:Oe}},[V,ee,X,Y,Z,Me,ye,Ve,G,ae,le,I,Fe.length,ve,M,k,Oe]),Ye=m.useMemo(function(){return{checkable:de,loadData:_,treeLoadedKeys:P,onTreeLoad:B,checkedKeys:Be,halfCheckedKeys:De,treeDefaultExpandAll:z,treeExpandedKeys:H,treeDefaultExpandedKeys:F,onTreeExpand:W,treeIcon:ne,treeMotion:ie,showTreeIcon:re,switcherIcon:oe,treeLine:te,treeNodeFilterProp:x,keyEntities:Ee}},[de,_,P,B,Be,De,z,H,F,W,ne,ie,re,oe,te,x,Ee]);return m.createElement(mP.Provider,{value:Ue},m.createElement(gP.Provider,{value:Ye},m.createElement(_g,E({ref:t},se,{id:ce,prefixCls:a,mode:he?"multiple":void 0,displayValues:Fe,onDisplayValuesChange:Xe,searchValue:xe,onSearch:function(e){we(e),null==p||p(e)},OptionList:bP,emptyOptions:!Ce.length,onDropdownVisibleChange:qe,dropdownMatchSelectWidth:ee}))))}),kP=OP;kP.TreeNode=cP,kP.SHOW_ALL=xP,kP.SHOW_PARENT=wP,kP.SHOW_CHILD=CP;function MP(e,t,n){return gi("TreeSelect",e=>(e=>{const{componentCls:t,treePrefixCls:n,colorBgElevated:r}=e,o=`.${n}`;return[{[`${t}-dropdown`]:[{padding:`${Xt(e.paddingXS)} ${Xt(e.calc(e.paddingXS).div(2).equal())}`},S_(n,Xo(e,{colorBgContainer:r}),!1),{[o]:{borderRadius:0,[`${o}-list-holder-inner`]:{alignItems:"stretch",[`${o}-treenode`]:{[`${o}-node-content-wrapper`]:{flex:"auto"}}}}},DO(`${n}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${o}-switcher${o}-switcher_close`]:{[`${o}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]})(Xo(e,{treePrefixCls:t})),E_)(e,n)}const $P=(e,t)=>{var n,r,o,i,a;const{prefixCls:l,size:s,disabled:c,bordered:u=!0,style:d,className:f,rootClassName:h,treeCheckable:p,multiple:g,listHeight:v=256,listItemHeight:y,placement:b,notFoundContent:x,switcherIcon:w,treeLine:C,getPopupContainer:E,popupClassName:O,dropdownClassName:k,treeIcon:M=!1,transitionName:$,choiceTransitionName:I="",status:N,treeExpandAction:T,builtinPlacements:L,dropdownMatchSelectWidth:R,popupMatchSelectWidth:_,allowClear:A,variant:P,dropdownStyle:j,dropdownRender:B,popupRender:D,onDropdownVisibleChange:z,onOpenChange:H,tagRender:F,maxCount:W,showCheckedStrategy:G,treeCheckStrictly:V,styles:q,classNames:X}=e,U=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","size","disabled","bordered","style","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","dropdownRender","popupRender","onDropdownVisibleChange","onOpenChange","tagRender","maxCount","showCheckedStrategy","treeCheckStrictly","styles","classNames"]),{getPopupContainer:Y,getPrefixCls:K,renderEmpty:Z,direction:Q,virtual:J,popupMatchSelectWidth:ee,popupOverflow:te}=m.useContext(So),{styles:ne,classNames:re}=ko("treeSelect"),[,oe]=si(),ie=null!=y?y:(null==oe?void 0:oe.controlHeightSM)+(null==oe?void 0:oe.paddingXXS),ae=K(),le=K("select",l),se=K("select-tree",l),ce=K("tree-select",l),{compactSize:ue,compactItemClassnames:de}=ec(le,Q),fe=Nl(le),he=Nl(ce),[pe,ge,me]=Qm(le,fe),[ve]=MP(ce,se,he),[ye,be]=km("treeSelect",P,u),xe=S((null===(n=null==X?void 0:X.popup)||void 0===n?void 0:n.root)||(null===(r=null==re?void 0:re.popup)||void 0===r?void 0:r.root)||O||k,`${ce}-dropdown`,{[`${ce}-dropdown-rtl`]:"rtl"===Q},h,re.root,null==X?void 0:X.root,me,fe,he,ge),we=(null===(o=null==q?void 0:q.popup)||void 0===o?void 0:o.root)||(null===(i=null==ne?void 0:ne.popup)||void 0===i?void 0:i.root)||j,Ce=cv(D||B),Se=H||z,Ee=!(!p&&!g),Oe=m.useMemo(()=>{if(!W||("SHOW_ALL"!==G||V)&&"SHOW_PARENT"!==G)return W},[W,G,V]),ke=uv(e.suffixIcon,e.showArrow),Me=null!==(a=null!=_?_:R)&&void 0!==a?a:ee,{status:$e,hasFeedback:Ie,isFormItemInput:Ne,feedbackIcon:Te}=m.useContext(eh),Le=ym($e,N),{suffixIcon:Re,removeIcon:_e,clearIcon:Ae}=sv(Object.assign(Object.assign({},U),{multiple:Ee,showSuffixIcon:ke,hasFeedback:Ie,feedbackIcon:Te,prefixCls:le,componentName:"TreeSelect"})),Pe=!0===A?{clearIcon:Ae}:A;let je;je=void 0!==x?x:(null==Z?void 0:Z("Select"))||m.createElement(Om,{componentName:"Select"});const Be=js(U,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon","style"]),De=m.useMemo(()=>void 0!==b?b:"rtl"===Q?"bottomRight":"bottomLeft",[b,Q]),ze=Xs(e=>{var t;return null!==(t=null!=s?s:ue)&&void 0!==t?t:e}),He=m.useContext(Io),Fe=null!=c?c:He,We=S(!l&&ce,{[`${le}-lg`]:"large"===ze,[`${le}-sm`]:"small"===ze,[`${le}-rtl`]:"rtl"===Q,[`${le}-${ye}`]:be,[`${le}-in-form-item`]:Ne},vm(le,Le,Ie),de,f,h,re.root,null==X?void 0:X.root,me,fe,he,ge),[Ge]=Yl("SelectLike",null==we?void 0:we.zIndex);return pe(ve(m.createElement(kP,Object.assign({virtual:J,disabled:Fe},Be,{dropdownMatchSelectWidth:Me,builtinPlacements:Mm(L,te),ref:t,prefixCls:le,className:We,style:Object.assign(Object.assign({},null==q?void 0:q.root),d),listHeight:v,listItemHeight:ie,treeCheckable:p?m.createElement("span",{className:`${le}-tree-checkbox-inner`}):p,treeLine:!!C,suffixIcon:Re,multiple:Ee,placement:De,removeIcon:_e,allowClear:Pe,switcherIcon:e=>m.createElement(P_,{prefixCls:se,switcherIcon:w,treeNodeProps:e,showLine:C}),showTreeIcon:M,notFoundContent:je,getPopupContainer:E||Y,treeMotion:null,dropdownClassName:xe,dropdownStyle:Object.assign(Object.assign({},we),{zIndex:Ge}),dropdownRender:Ce,onDropdownVisibleChange:Se,choiceTransitionName:Ps(ae,"",I),transitionName:Ps(ae,"slide-up",$),treeExpandAction:T,tagRender:Ee?F:void 0,maxCount:Oe,showCheckedStrategy:G,treeCheckStrictly:V}))))},IP=m.forwardRef($P),NP=yp(IP,"dropdownAlign",e=>js(e,["visible"]));IP.TreeNode=cP,IP.SHOW_ALL=xP,IP.SHOW_PARENT=wP,IP.SHOW_CHILD=CP,IP._InternalPanelDoNotUseOrYouWillBeFired=NP;var TP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},LP=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:TP}))},RP=m.forwardRef(LP),_P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},AP=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:_P}))},PP=m.forwardRef(AP);const jP=e=>{const t={};return[1,2,3,4,5].forEach(n=>{t[`\n      h${n}&,\n      div&-h${n},\n      div&-h${n} > textarea,\n      h${n}\n    `]=((e,t,n,r)=>{const{titleMarginBottom:o,fontWeightStrong:i}=r;return{marginBottom:o,color:n,fontWeight:i,fontSize:e,lineHeight:t}})(e[`fontSizeHeading${n}`],e[`lineHeightHeading${n}`],e.colorTextHeading,e)}),t},BP=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},pi(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},DP=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Jr[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:e.fontWeightStrong},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),zP=e=>{const{componentCls:t,paddingSM:n}=e,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),insetBlockStart:e.calc(r).div(-2).add(1).equal(),marginBottom:e.calc(r).div(2).sub(2).equal()},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorIcon,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},HP=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),FP=gi("Typography",e=>{const{componentCls:t,titleMarginTop:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccessText},[`&${t}-warning`]:{color:e.colorWarningText},[`&${t}-danger`]:{color:e.colorErrorText,"a&:active, a&:focus":{color:e.colorErrorTextActive},"a&:hover":{color:e.colorErrorTextHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},jP(e)),{[`\n      & + h1${t},\n      & + h2${t},\n      & + h3${t},\n      & + h4${t},\n      & + h5${t}\n      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),DP(e)),BP(e)),{[`\n        ${t}-expand,\n        ${t}-collapse,\n        ${t}-edit,\n        ${t}-copy\n      `]:Object.assign(Object.assign({},pi(e)),{marginInlineStart:e.marginXXS})}),zP(e)),HP(e)),{"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),{"&-rtl":{direction:"rtl"}})}},()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"})),WP=e=>{const{prefixCls:t,"aria-label":n,className:r,style:o,direction:i,maxLength:a,autoSize:l=!0,value:s,onSave:c,onCancel:u,onEnd:d,component:f,enterIcon:h=m.createElement(PP,null)}=e,p=m.useRef(null),g=m.useRef(!1),v=m.useRef(null),[y,b]=m.useState(s);m.useEffect(()=>{b(s)},[s]),m.useEffect(()=>{var e;if(null===(e=p.current)||void 0===e?void 0:e.resizableTextArea){const{textArea:e}=p.current.resizableTextArea;e.focus();const{length:t}=e.value;e.setSelectionRange(t,t)}},[]);const x=()=>{c(y.trim())},[w,C,E]=FP(t),O=S(t,`${t}-edit-content`,{[`${t}-rtl`]:"rtl"===i,[`${t}-${f}`]:!!f},r,C,E);return w(m.createElement("div",{className:O,style:o},m.createElement(uI,{ref:p,maxLength:a,value:y,onChange:({target:e})=>{b(e.value.replace(/[\n\r]/g,""))},onKeyDown:({keyCode:e})=>{g.current||(v.current=e)},onKeyUp:({keyCode:e,ctrlKey:t,altKey:n,metaKey:r,shiftKey:o})=>{v.current!==e||g.current||t||n||r||o||(e===Tl.ENTER?(x(),null==d||d()):e===Tl.ESC&&u())},onCompositionStart:()=>{g.current=!0},onCompositionEnd:()=>{g.current=!1},onBlur:()=>{x()},"aria-label":n,rows:1,autoSize:l}),null!==h?ll(h,{className:`${t}-edit-content-confirm`}):null))};var GP=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}},VP={"text/plain":"Text","text/html":"Url",default:"Text"};var qP=function(e,t){var n,r,o,i,a,l=!1;t||(t={}),t.debug;try{if(r=GP(),o=document.createRange(),i=document.getSelection(),(a=document.createElement("span")).textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){window.clipboardData.clearData();var r=VP[t.format]||VP.default;window.clipboardData.setData(r,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))}),document.body.appendChild(a),o.selectNodeContents(a),i.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(s){try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(c){n=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(n,e)}}finally{i&&("function"==typeof i.removeRange?i.removeRange(o):i.removeAllRanges()),a&&document.body.removeChild(a),r()}return l};const XP=h(qP);var UP=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const YP=({copyConfig:e,children:t})=>{const[n,r]=m.useState(!1),[o,i]=m.useState(!1),a=m.useRef(null),l=()=>{a.current&&clearTimeout(a.current)},s={};e.format&&(s.format=e.format),m.useEffect(()=>l,[]);const c=zo(n=>UP(void 0,void 0,void 0,function*(){var o;null==n||n.preventDefault(),null==n||n.stopPropagation(),i(!0);try{const c="function"==typeof e.text?yield e.text():e.text;XP(c||((e,t=!1)=>t&&null==e?[]:Array.isArray(e)?e:[e])(t,!0).join("")||"",s),i(!1),r(!0),l(),a.current=setTimeout(()=>{r(!1)},3e3),null===(o=e.onCopy)||void 0===o||o.call(e,n)}catch(c){throw i(!1),c}}));return{copied:n,copyLoading:o,onClick:c}};function KP(e,t){return m.useMemo(()=>{const n=!!e;return[n,Object.assign(Object.assign({},t),n&&"object"==typeof e?e:null)]},[e])}const ZP=m.forwardRef((e,t)=>{const{prefixCls:n,component:r="article",className:o,rootClassName:i,setContentRef:a,children:l,direction:s,style:c}=e,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:d,direction:f,className:h,style:p}=ko("typography"),g=null!=s?s:f,v=a?de(t,a):t,y=d("typography",n),[b,x,w]=FP(y),C=S(y,h,{[`${y}-rtl`]:"rtl"===g},o,i,x,w),E=Object.assign(Object.assign({},p),c);return b(m.createElement(r,Object.assign({className:C,style:E,ref:v},u),l))});var QP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},JP=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:QP}))},ej=m.forwardRef(JP);function tj(e){return!1===e?[!1,!1]:Array.isArray(e)?e:[e]}function nj(e,t,n){return!0===e||void 0===e?t:e||n&&t}const rj=e=>["string","number"].includes(typeof e),oj=({prefixCls:e,copied:t,locale:n,iconOnly:r,tooltips:o,icon:i,tabIndex:a,onCopy:l,loading:s})=>{const c=tj(o),u=tj(i),{copied:d,copy:f}=null!=n?n:{},h=t?d:f,p=nj(c[t?1:0],h),g="string"==typeof p?p:h;return m.createElement(Qv,{title:p},m.createElement("button",{type:"button",className:S(`${e}-copy`,{[`${e}-copy-success`]:t,[`${e}-copy-icon-only`]:r}),onClick:l,"aria-label":g,tabIndex:a},t?nj(u[1],m.createElement(tv,null),!0):nj(u[0],s?m.createElement(Gl,null):m.createElement(ej,null),!0)))},ij=m.forwardRef(({style:e,children:t},n)=>{const r=m.useRef(null);return m.useImperativeHandle(n,()=>({isExceed:()=>{const e=r.current;return e.scrollHeight>e.clientHeight},getHeight:()=>r.current.clientHeight})),m.createElement("span",{"aria-hidden":!0,ref:r,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},e)},t)});function aj(e,t){let n=0;const r=[];for(let o=0;o<e.length;o+=1){if(n===t)return r;const i=e[o],a=n+(rj(i)?String(i).length:1);if(a>t){const e=t-n;return r.push(String(i).slice(0,e)),r}r.push(i),n=a}return e}const lj=0,sj=4,cj={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function uj(e){const{enableMeasure:t,width:n,text:r,children:o,rows:i,expanded:a,miscDeps:l,onEllipsis:s}=e,c=m.useMemo(()=>N(r),[r]),u=m.useMemo(()=>(e=>e.reduce((e,t)=>e+(rj(t)?String(t).length:1),0))(c),[r]),d=m.useMemo(()=>o(c,!1),[r]),[f,h]=m.useState(null),p=m.useRef(null),g=m.useRef(null),v=m.useRef(null),y=m.useRef(null),b=m.useRef(null),[x,w]=m.useState(!1),[C,S]=m.useState(lj),[E,O]=m.useState(0),[k,M]=m.useState(null);Jt(()=>{S(t&&n&&u?1:lj)},[n,r,i,t,c]),Jt(()=>{var e,t,n,r;if(1===C){S(2);const e=g.current&&getComputedStyle(g.current).whiteSpace;M(e)}else if(2===C){const o=!!(null===(e=v.current)||void 0===e?void 0:e.isExceed());S(o?3:sj),h(o?[0,u]:null),w(o);const a=(null===(t=v.current)||void 0===t?void 0:t.getHeight())||0,l=1===i?0:(null===(n=y.current)||void 0===n?void 0:n.getHeight())||0,c=(null===(r=b.current)||void 0===r?void 0:r.getHeight())||0,d=Math.max(a,l+c);O(d+1),s(o)}},[C]);const $=f?Math.ceil((f[0]+f[1])/2):0;Jt(()=>{var e;const[t,n]=f||[0,0];if(t!==n){const r=((null===(e=p.current)||void 0===e?void 0:e.getHeight())||0)>E;let o=$;n-t===1&&(o=r?t:n),h(r?[t,o]:[o,n])}},[f,$]);const I=m.useMemo(()=>{if(!t)return o(c,!1);if(3!==C||!f||f[0]!==f[1]){const e=o(c,!1);return[sj,lj].includes(C)?e:m.createElement("span",{style:Object.assign(Object.assign({},cj),{WebkitLineClamp:i})},e)}return o(a?c:aj(c,f[0]),x)},[a,C,f,c].concat(it(l))),T={width:n,margin:0,padding:0,whiteSpace:"nowrap"===k?"normal":"inherit"};return m.createElement(m.Fragment,null,I,2===C&&m.createElement(m.Fragment,null,m.createElement(ij,{style:Object.assign(Object.assign(Object.assign({},T),cj),{WebkitLineClamp:i}),ref:v},d),m.createElement(ij,{style:Object.assign(Object.assign(Object.assign({},T),cj),{WebkitLineClamp:i-1}),ref:y},d),m.createElement(ij,{style:Object.assign(Object.assign(Object.assign({},T),cj),{WebkitLineClamp:1}),ref:b},o([],!0))),3===C&&f&&f[0]!==f[1]&&m.createElement(ij,{style:Object.assign(Object.assign({},T),{top:400}),ref:p},o(aj(c,$),!0)),1===C&&m.createElement("span",{style:{whiteSpace:"inherit"},ref:g}))}const dj=({enableEllipsis:e,isEllipsis:t,children:n,tooltipProps:r})=>(null==r?void 0:r.title)&&e?m.createElement(Qv,Object.assign({open:!!t&&void 0},r),n):n;const fj=["delete","mark","code","underline","strong","keyboard","italic"],hj=m.forwardRef((e,t)=>{var n;const{prefixCls:r,className:o,style:i,type:a,disabled:l,children:s,ellipsis:c,editable:u,copyable:d,component:f,title:h}=e,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:g,direction:v}=m.useContext(So),[y]=Ar("Text"),b=m.useRef(null),x=m.useRef(null),w=g("typography",r),C=js(p,fj),[E,O]=KP(u),[k,M]=Wo(!1,{value:O.editing}),{triggerType:$=["icon"]}=O,I=e=>{var t;e&&(null===(t=O.onStart)||void 0===t||t.call(O)),M(e)},T=(e=>{const t=m.useRef(void 0);return m.useEffect(()=>{t.current=e}),t.current})(k);Jt(()=>{var e;!k&&T&&(null===(e=x.current)||void 0===e||e.focus())},[k]);const L=e=>{null==e||e.preventDefault(),I(!0)},R=e=>{var t;null===(t=O.onChange)||void 0===t||t.call(O,e),I(!1)},_=()=>{var e;null===(e=O.onCancel)||void 0===e||e.call(O),I(!1)},[A,P]=KP(d),{copied:j,copyLoading:B,onClick:D}=YP({copyConfig:P,children:s}),[z,H]=m.useState(!1),[F,W]=m.useState(!1),[G,V]=m.useState(!1),[q,X]=m.useState(!1),[U,Y]=m.useState(!0),[K,Z]=KP(c,{expandable:!1,symbol:e=>e?null==y?void 0:y.collapse:null==y?void 0:y.expand}),[Q,J]=Wo(Z.defaultExpanded||!1,{value:Z.expanded}),ee=K&&(!Q||"collapsible"===Z.expandable),{rows:te=1}=Z,ne=m.useMemo(()=>ee&&(void 0!==Z.suffix||Z.onEllipsis||Z.expandable||E||A),[ee,Z,E,A]);Jt(()=>{K&&!ne&&(H(uh("webkitLineClamp")),W(uh("textOverflow")))},[ne,K]);const[re,oe]=m.useState(ee),ie=m.useMemo(()=>!ne&&(1===te?F:z),[ne,F,z]);Jt(()=>{oe(ie&&ee)},[ie,ee]);const ae=ee&&(re?q:G),le=ee&&1===te&&re,se=ee&&te>1&&re,[ce,ue]=m.useState(0),fe=e=>{var t;V(e),G!==e&&(null===(t=Z.onEllipsis)||void 0===t||t.call(Z,e))};m.useEffect(()=>{const e=b.current;if(K&&re&&e){const t=function(e){const t=document.createElement("em");e.appendChild(t);const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return e.removeChild(t),n.left>r.left||r.right>n.right||n.top>r.top||r.bottom>n.bottom}(e);q!==t&&X(t)}},[K,re,s,se,U,ce]),m.useEffect(()=>{const e=b.current;if("undefined"==typeof IntersectionObserver||!e||!re||!ee)return;const t=new IntersectionObserver(()=>{Y(!!e.offsetParent)});return t.observe(e),()=>{t.disconnect()}},[re,ee]);const he=((e,t,n)=>m.useMemo(()=>!0===e?{title:null!=t?t:n}:m.isValidElement(e)?{title:e}:"object"==typeof e?Object.assign({title:null!=t?t:n},e):{title:e},[e,t,n]))(Z.tooltip,O.text,s),pe=m.useMemo(()=>{if(K&&!re)return[O.text,s,h,he.title].find(rj)},[K,re,h,he.title,ae]);if(k)return m.createElement(WP,{value:null!==(n=O.text)&&void 0!==n?n:"string"==typeof s?s:"",onSave:R,onCancel:_,onEnd:O.onEnd,prefixCls:w,className:o,style:i,direction:v,component:f,maxLength:O.maxLength,autoSize:O.autoSize,enterIcon:O.enterIcon});const ge=()=>{const{expandable:e,symbol:t}=Z;return e?m.createElement("button",{type:"button",key:"expand",className:`${w}-${Q?"collapse":"expand"}`,onClick:e=>((e,t)=>{var n;J(t.expanded),null===(n=Z.onExpand)||void 0===n||n.call(Z,e,t)})(e,{expanded:!Q}),"aria-label":Q?y.collapse:null==y?void 0:y.expand},"function"==typeof t?t(Q):t):null},me=()=>{if(!E)return;const{icon:e,tooltip:t,tabIndex:n}=O,r=N(t)[0]||(null==y?void 0:y.edit),o="string"==typeof r?r:"";return $.includes("icon")?m.createElement(Qv,{key:"edit",title:!1===t?"":r},m.createElement("button",{type:"button",ref:x,className:`${w}-edit`,onClick:L,"aria-label":o,tabIndex:n},e||m.createElement(RP,{role:"button"}))):null},ve=e=>[e&&ge(),me(),A?m.createElement(oj,Object.assign({key:"copy"},P,{prefixCls:w,copied:j,locale:y,onCopy:D,loading:B,iconOnly:null==s})):null];return m.createElement(tt,{onResize:({offsetWidth:e})=>{ue(e)},disabled:!ee},n=>m.createElement(dj,{tooltipProps:he,enableEllipsis:ee,isEllipsis:ae},m.createElement(ZP,Object.assign({className:S({[`${w}-${a}`]:a,[`${w}-disabled`]:l,[`${w}-ellipsis`]:K,[`${w}-ellipsis-single-line`]:le,[`${w}-ellipsis-multiple-line`]:se},o),prefixCls:r,style:Object.assign(Object.assign({},i),{WebkitLineClamp:se?te:void 0}),component:f,ref:de(n,b,t),direction:v,onClick:$.includes("text")?L:void 0,"aria-label":null==pe?void 0:pe.toString(),title:h},C),m.createElement(uj,{enableMeasure:ee&&!re,text:s,rows:te,width:ce,onEllipsis:fe,expanded:Q,miscDeps:[j,Q,B,E,A,y].concat(it(fj.map(t=>e[t])))},(t,n)=>function({mark:e,code:t,underline:n,delete:r,strong:o,keyboard:i,italic:a},l){let s=l;function c(e,t){t&&(s=m.createElement(e,{},s))}return c("strong",o),c("u",n),c("del",r),c("code",t),c("mark",e),c("kbd",i),c("i",a),s}(e,m.createElement(m.Fragment,null,t.length>0&&n&&!Q&&pe?m.createElement("span",{key:"show-content","aria-hidden":!0},t):t,(e=>[e&&!Q&&m.createElement("span",{"aria-hidden":!0,key:"ellipsis"},"..."),Z.suffix,ve(e)])(n)))))))});const pj=m.forwardRef((e,t)=>{var{ellipsis:n,rel:r}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["ellipsis","rel"]);const i=Object.assign(Object.assign({},o),{rel:void 0===r&&"_blank"===o.target?"noopener noreferrer":r});return delete i.navigate,m.createElement(hj,Object.assign({},i,{ref:t,ellipsis:!!n,component:"a"}))}),gj=m.forwardRef((e,t)=>m.createElement(hj,Object.assign({ref:t},e,{component:"div"})));const mj=(e,t)=>{var{ellipsis:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["ellipsis"]);const o=m.useMemo(()=>n&&"object"==typeof n?js(n,["expandable","rows"]):n,[n]);return m.createElement(hj,Object.assign({ref:t},r,{ellipsis:o,component:"span"}))},vj=m.forwardRef(mj);const yj=[1,2,3,4,5],bj=m.forwardRef((e,t)=>{const{level:n=1}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["level"]),o=yj.includes(n)?`h${n}`:"h1";return m.createElement(hj,Object.assign({ref:t},r,{component:o}))}),xj=ZP;xj.Text=vj,xj.Link=pj,xj.Title=bj,xj.Paragraph=gj;const wj=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim();if(/^\*(\/\*)?$/.test(e))return!0;if("."===t.charAt(0)){var n=r.toLowerCase(),a=t.toLowerCase(),l=[a];return".jpg"!==a&&".jpeg"!==a||(l=[".jpg",".jpeg"]),l.some(function(e){return n.endsWith(e)})}return/\/\*$/.test(t)?i===t.replace(/\/.*$/,""):o===t||!!/^\w+$/.test(t)&&(A(!1,"Upload takes an invalidate 'accept' type '".concat(t,"'.Skip for check.")),!0)})}return!0};function Cj(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(rw){return t}}function Sj(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).forEach(function(t){var r=e.data[t];Array.isArray(r)?r.forEach(function(e){n.append("".concat(t,"[]"),e)}):n.append(t,r)}),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(function(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),r=new Error(n);return r.status=t.status,r.method=e.method,r.url=e.action,r}(e,t),Cj(t)):e.onSuccess(Cj(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var r=e.headers||{};return null!==r["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(e){null!==r[e]&&t.setRequestHeader(e,r[e])}),t.send(n),{abort:function(){t.abort()}}}var Ej=function(){var e=ms(ps().mark(function e(t,n){var r,o,i,a,l,s,c,u;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=function(){return(s=ms(ps().mark(function e(t){return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){t.file(function(r){n(r)?(t.fullPath&&!r.webkitRelativePath&&(Object.defineProperties(r,{webkitRelativePath:{writable:!0}}),r.webkitRelativePath=t.fullPath.replace(/^\//,""),Object.defineProperties(r,{webkitRelativePath:{writable:!1}})),e(r)):e(null)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},l=function(e){return s.apply(this,arguments)},a=function(){return(a=ms(ps().mark(function e(t){var n,r,o,i,a;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.createReader(),r=[];case 2:return e.next=5,new Promise(function(e){n.readEntries(e,function(){return e([])})});case 5:if(o=e.sent,i=o.length){e.next=9;break}return e.abrupt("break",12);case 9:for(a=0;a<i;a++)r.push(o[a]);e.next=2;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)},i=function(e){return a.apply(this,arguments)},r=[],o=[],t.forEach(function(e){return o.push(e.webkitGetAsEntry())}),c=function(){var e=ms(ps().mark(function e(t,n){var a,s;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(t.path=n||"",!t.isFile){e.next=10;break}return e.next=6,l(t);case 6:(a=e.sent)&&r.push(a),e.next=15;break;case 10:if(!t.isDirectory){e.next=15;break}return e.next=13,i(t);case 13:s=e.sent,o.push.apply(o,it(s));case 15:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),u=0;case 9:if(!(u<o.length)){e.next=15;break}return e.next=12,c(o[u]);case 12:u++,e.next=9;break;case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Oj=+new Date,kj=0;function Mj(){return"rc-upload-".concat(Oj,"-").concat(++kj)}var $j=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],Ij=function(){Ve(t,m.Component);var e=Ke(t);function t(){var n;He(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return j(Ue(n=e.call.apply(e,[this].concat(o))),"state",{uid:Mj()}),j(Ue(n),"reqs",{}),j(Ue(n),"fileInput",void 0),j(Ue(n),"_isMounted",void 0),j(Ue(n),"onChange",function(e){var t=n.props,r=t.accept,o=t.directory,i=it(e.target.files).filter(function(e){return!o||wj(e,r)});n.uploadFiles(i),n.reset()}),j(Ue(n),"onClick",function(e){var t=n.fileInput;if(t){var r=e.target,o=n.props.onClick;if(r&&"BUTTON"===r.tagName)t.parentNode.focus(),r.blur();t.click(),o&&o(e)}}),j(Ue(n),"onKeyDown",function(e){"Enter"===e.key&&n.onClick(e)}),j(Ue(n),"onDataTransferFiles",function(){var e=ms(ps().mark(function e(t,r){var o,i,a,l,s,c,u;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.props,i=o.multiple,a=o.accept,l=o.directory,s=it(t.items||[]),((c=it(t.files||[])).length>0||s.some(function(e){return"file"===e.kind}))&&(null==r||r()),!l){e.next=11;break}return e.next=7,Ej(Array.prototype.slice.call(s),function(e){return wj(e,n.props.accept)});case 7:c=e.sent,n.uploadFiles(c),e.next=14;break;case 11:u=it(c).filter(function(e){return wj(e,a)}),!1===i&&(u=c.slice(0,1)),n.uploadFiles(u);case 14:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),j(Ue(n),"onFilePaste",function(){var e=ms(ps().mark(function e(t){var r;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.pastable){e.next=3;break}return e.abrupt("return");case 3:if("paste"!==t.type){e.next=6;break}return r=t.clipboardData,e.abrupt("return",n.onDataTransferFiles(r,function(){t.preventDefault()}));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),j(Ue(n),"onFileDragOver",function(e){e.preventDefault()}),j(Ue(n),"onFileDrop",function(){var e=ms(ps().mark(function e(t){var r;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"drop"!==t.type){e.next=4;break}return r=t.dataTransfer,e.abrupt("return",n.onDataTransferFiles(r));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),j(Ue(n),"uploadFiles",function(e){var t=it(e),r=t.map(function(e){return e.uid=Mj(),n.processFile(e,t)});Promise.all(r).then(function(e){var t=n.props.onBatchStart;null==t||t(e.map(function(e){return{file:e.origin,parsedFile:e.parsedFile}})),e.filter(function(e){return null!==e.parsedFile}).forEach(function(e){n.post(e)})})}),j(Ue(n),"processFile",function(){var e=ms(ps().mark(function e(t,r){var o,i,a,l,s,c,u,d,f;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.props.beforeUpload,i=t,!o){e.next=14;break}return e.prev=3,e.next=6,o(t,r);case 6:i=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),i=!1;case 12:if(!1!==i){e.next=14;break}return e.abrupt("return",{origin:t,parsedFile:null,action:null,data:null});case 14:if("function"!=typeof(a=n.props.action)){e.next=21;break}return e.next=18,a(t);case 18:l=e.sent,e.next=22;break;case 21:l=a;case 22:if("function"!=typeof(s=n.props.data)){e.next=29;break}return e.next=26,s(t);case 26:c=e.sent,e.next=30;break;case 29:c=s;case 30:return u="object"!==O(i)&&"string"!=typeof i||!i?t:i,d=u instanceof File?u:new File([u],t.name,{type:t.type}),(f=d).uid=t.uid,e.abrupt("return",{origin:t,data:c,parsedFile:f,action:l});case 35:case"end":return e.stop()}},e,null,[[3,9]])}));return function(t,n){return e.apply(this,arguments)}}()),j(Ue(n),"saveFileInput",function(e){n.fileInput=e}),n}return We(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.pastable&&document.addEventListener("paste",this.onFilePaste)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort(),document.removeEventListener("paste",this.onFilePaste)}},{key:"componentDidUpdate",value:function(e){var t=this.props.pastable;t&&!e.pastable?document.addEventListener("paste",this.onFilePaste):!t&&e.pastable&&document.removeEventListener("paste",this.onFilePaste)}},{key:"post",value:function(e){var t=this,n=e.data,r=e.origin,o=e.action,i=e.parsedFile;if(this._isMounted){var a=this.props,l=a.onStart,s=a.customRequest,c=a.name,u=a.headers,d=a.withCredentials,f=a.method,h=r.uid,p=s||Sj,g={action:o,filename:c,data:n,file:i,headers:u,withCredentials:d,method:f||"post",onProgress:function(e){var n=t.props.onProgress;null==n||n(e,i)},onSuccess:function(e,n){var r=t.props.onSuccess;null==r||r(e,i,n),delete t.reqs[h]},onError:function(e,n){var r=t.props.onError;null==r||r(e,n,i),delete t.reqs[h]}};l(r),this.reqs[h]=p(g)}}},{key:"reset",value:function(){this.setState({uid:Mj()})}},{key:"abort",value:function(e){var t=this.reqs;if(e){var n=e.uid?e.uid:e;t[n]&&t[n].abort&&t[n].abort(),delete t[n]}else Object.keys(t).forEach(function(e){t[e]&&t[e].abort&&t[e].abort(),delete t[e]})}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.prefixCls,r=e.className,o=e.classNames,i=void 0===o?{}:o,a=e.disabled,l=e.id,s=e.name,c=e.style,u=e.styles,d=void 0===u?{}:u,f=e.multiple,h=e.accept,g=e.capture,m=e.children,v=e.directory,y=e.openFileDialogOnClick,b=e.onMouseEnter,x=e.onMouseLeave,w=e.hasControlInside,C=$t(e,$j),O=S(j(j(j({},n,!0),"".concat(n,"-disabled"),a),r,r)),k=v?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},M=a?{}:{onClick:y?this.onClick:function(){},onKeyDown:y?this.onKeyDown:function(){},onMouseEnter:b,onMouseLeave:x,onDrop:this.onFileDrop,onDragOver:this.onFileDragOver,tabIndex:w?void 0:"0"};return p.createElement(t,E({},M,{className:O,role:w?void 0:"button",style:c}),p.createElement("input",E({},ol(C,{aria:!0,data:!0}),{id:l,name:s,disabled:a,type:"file",ref:this.saveFileInput,onClick:function(e){return e.stopPropagation()},key:this.state.uid,style:D({display:"none"},d.input),className:i.input,accept:h},k,{multiple:f,onChange:this.onChange},null!=g?{capture:g}:{})),m)}}]),t}();function Nj(){}var Tj=function(){Ve(t,m.Component);var e=Ke(t);function t(){var n;He(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return j(Ue(n=e.call.apply(e,[this].concat(o))),"uploader",void 0),j(Ue(n),"saveUploader",function(e){n.uploader=e}),n}return We(t,[{key:"abort",value:function(e){this.uploader.abort(e)}},{key:"render",value:function(){return p.createElement(Ij,E({},this.props,{ref:this.saveUploader}))}}]),t}();j(Tj,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:Nj,onError:Nj,onSuccess:Nj,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const Lj=e=>{const{componentCls:t,iconCls:n}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${Xt(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${Xt(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`\n          &:not(${t}-disabled):hover,\n          &-hover:not(${t}-disabled)\n        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[n]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${Xt(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${n},\n            p${t}-text,\n            p${t}-hint\n          `]:{color:e.colorTextDisabled}}}}}},Rj=e=>{const{componentCls:t,iconCls:n,fontSize:r,lineHeight:o,calc:i}=e,a=`${t}-list-item`,l=`${a}-actions`,s=`${a}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{lineHeight:e.lineHeight,[a]:{position:"relative",height:i(e.lineHeight).mul(r).equal(),marginTop:e.marginXS,fontSize:r,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${a}-name`]:Object.assign(Object.assign({},ci),{padding:`0 ${Xt(e.paddingXS)}`,lineHeight:o,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[l]:{whiteSpace:"nowrap",[s]:{opacity:0},[n]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`\n              ${s}:focus-visible,\n              &.picture ${s}\n            `]:{opacity:1}},[`${t}-icon ${n}`]:{color:e.colorIcon,fontSize:r},[`${a}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:i(r).add(e.paddingXS).equal(),fontSize:r,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${a}:hover ${s}`]:{opacity:1},[`${a}-error`]:{color:e.colorError,[`${a}-name, ${t}-icon ${n}`]:{color:e.colorError},[l]:{[`${n}, ${n}:hover`]:{color:e.colorError},[s]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},_j=e=>{const{componentCls:t}=e,n=new ur("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),r=new ur("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:n},[`${o}-leave`]:{animationName:r}}},{[`${t}-wrapper`]:Hc(e)},n,r]},Aj=e=>{const{componentCls:t,iconCls:n,uploadThumbnailSize:r,uploadProgressOffset:o,calc:i}=e,a=`${t}-list`,l=`${a}-item`;return{[`${t}-wrapper`]:{[`\n        ${a}${a}-picture,\n        ${a}${a}-picture-card,\n        ${a}${a}-picture-circle\n      `]:{[l]:{position:"relative",height:i(r).add(i(e.lineWidth).mul(2)).add(i(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${Xt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${l}-thumbnail`]:Object.assign(Object.assign({},ci),{width:r,height:r,lineHeight:Xt(i(r).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[n]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${l}-progress`]:{bottom:o,width:`calc(100% - ${Xt(i(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:i(r).add(e.paddingXS).equal()}},[`${l}-error`]:{borderColor:e.colorError,[`${l}-thumbnail ${n}`]:{[`svg path[fill='${oo[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${oo.primary}']`]:{fill:e.colorError}}},[`${l}-uploading`]:{borderStyle:"dashed",[`${l}-name`]:{marginBottom:o}}},[`${a}${a}-picture-circle ${l}`]:{[`&, &::before, ${l}-thumbnail`]:{borderRadius:"50%"}}}}},Pj=e=>{const{componentCls:t,iconCls:n,fontSizeLG:r,colorTextLightSolid:o,calc:i}=e,a=`${t}-list`,l=`${a}-item`,s=e.uploadPicCardSize;return{[`\n      ${t}-wrapper${t}-picture-card-wrapper,\n      ${t}-wrapper${t}-picture-circle-wrapper\n    `]:Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{display:"block",[`${t}${t}-select`]:{width:s,height:s,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${Xt(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${a}${a}-picture-card, ${a}${a}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${a}-item-container`]:{display:"inline-block",width:s,height:s,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[l]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${Xt(i(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${Xt(i(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${l}:hover`]:{[`&::before, ${l}-actions`]:{opacity:1}},[`${l}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`\n            ${n}-eye,\n            ${n}-download,\n            ${n}-delete\n          `]:{zIndex:10,width:r,margin:`0 ${Xt(e.marginXXS)}`,fontSize:r,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},[`${l}-thumbnail, ${l}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${l}-name`]:{display:"none",textAlign:"center"},[`${l}-file + ${l}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${Xt(i(e.paddingXS).mul(2).equal())})`},[`${l}-uploading`]:{[`&${l}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${n}-eye, ${n}-download, ${n}-delete`]:{display:"none"}},[`${l}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${Xt(i(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},jj=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},Bj=e=>{const{componentCls:t,colorTextDisabled:n}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},ui(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:n,cursor:"not-allowed"}})}},Dj=gi("Upload",e=>{const{fontSizeHeading3:t,fontHeight:n,lineWidth:r,controlHeightLG:o,calc:i}=e,a=Xo(e,{uploadThumbnailSize:i(t).mul(2).equal(),uploadProgressOffset:i(i(n).div(2)).add(r).equal(),uploadPicCardSize:i(o).mul(2.55).equal()});return[Bj(a),Lj(a),Aj(a),Pj(a),Rj(a),_j(a),jj(a),Ac(a)]},e=>({actionsColor:e.colorIcon}));var zj={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"},Hj=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:zj}))},Fj=m.forwardRef(Hj),Wj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},Gj=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:Wj}))},Vj=m.forwardRef(Gj),qj={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"},Xj=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:qj}))},Uj=m.forwardRef(Xj);function Yj(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function Kj(e,t){const n=it(t),r=n.findIndex(({uid:t})=>t===e.uid);return-1===r?n.push(e):n[r]=e,n}function Zj(e,t){const n=void 0!==e.uid?"uid":"name";return t.filter(t=>t[n]===e[n])[0]}const Qj=e=>0===e.indexOf("image/"),Jj=e=>{if(e.type&&!e.thumbUrl)return Qj(e.type);const t=e.thumbUrl||e.url||"",n=((e="")=>{const t=e.split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]})(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n))||!/^data:/.test(t)&&!n},eB=200;function tB(e){return new Promise(t=>{if(!e.type||!Qj(e.type))return void t("");const n=document.createElement("canvas");n.width=eB,n.height=eB,n.style.cssText="position: fixed; left: 0; top: 0; width: 200px; height: 200px; z-index: 9999; display: none;",document.body.appendChild(n);const r=n.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:e,height:i}=o;let a=eB,l=eB,s=0,c=0;e>i?(l=i*(eB/e),c=-(l-a)/2):(a=e*(eB/i),s=-(a-l)/2),r.drawImage(o,s,c,a,l);const u=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(o.src),t(u)},o.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const t=new FileReader;t.onload=()=>{t.result&&"string"==typeof t.result&&(o.src=t.result)},t.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const n=new FileReader;n.onload=()=>{n.result&&t(n.result)},n.readAsDataURL(e)}else o.src=window.URL.createObjectURL(e)})}var nB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},rB=function(e,t){return m.createElement(Ha,E({},e,{ref:t,icon:nB}))},oB=m.forwardRef(rB);const iB=m.forwardRef(({prefixCls:e,className:t,style:n,locale:r,listType:o,file:i,items:a,progress:l,iconRender:s,actionIconRender:c,itemRender:u,isImgUrl:d,showPreviewIcon:f,showRemoveIcon:h,showDownloadIcon:p,previewIcon:g,removeIcon:v,downloadIcon:y,extra:b,onPreview:x,onDownload:w,onClose:C},E)=>{var O,k;const{status:M}=i,[$,I]=m.useState(M);m.useEffect(()=>{"removed"!==M&&I(M)},[M]);const[N,T]=m.useState(!1);m.useEffect(()=>{const e=setTimeout(()=>{T(!0)},300);return()=>{clearTimeout(e)}},[]);const L=s(i);let R=m.createElement("div",{className:`${e}-icon`},L);if("picture"===o||"picture-card"===o||"picture-circle"===o)if("uploading"===$||!i.thumbUrl&&!i.url){const t=S(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:"uploading"!==$});R=m.createElement("div",{className:t},L)}else{const t=(null==d?void 0:d(i))?m.createElement("img",{src:i.thumbUrl||i.url,alt:i.name,className:`${e}-list-item-image`,crossOrigin:i.crossOrigin}):L,n=S(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:d&&!d(i)});R=m.createElement("a",{className:n,onClick:e=>x(i,e),href:i.url||i.thumbUrl,target:"_blank",rel:"noopener noreferrer"},t)}const _=S(`${e}-list-item`,`${e}-list-item-${$}`),A="string"==typeof i.linkProps?JSON.parse(i.linkProps):i.linkProps,P=("function"==typeof h?h(i):h)?c(("function"==typeof v?v(i):v)||m.createElement(aP,null),()=>C(i),e,r.removeFile,!0):null,j=("function"==typeof p?p(i):p)&&"done"===$?c(("function"==typeof y?y(i):y)||m.createElement(oB,null),()=>w(i),e,r.downloadFile):null,B="picture-card"!==o&&"picture-circle"!==o&&m.createElement("span",{key:"download-delete",className:S(`${e}-list-item-actions`,{picture:"picture"===o})},j,P),D="function"==typeof b?b(i):b,z=D&&m.createElement("span",{className:`${e}-list-item-extra`},D),H=S(`${e}-list-item-name`),F=i.url?m.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:H,title:i.name},A,{href:i.url,onClick:e=>x(i,e)}),i.name,z):m.createElement("span",{key:"view",className:H,onClick:e=>x(i,e),title:i.name},i.name,z),W=("function"==typeof f?f(i):f)&&(i.url||i.thumbUrl)?m.createElement("a",{href:i.url||i.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:e=>x(i,e),title:r.previewFile},"function"==typeof g?g(i):g||m.createElement(H$,null)):null,G=("picture-card"===o||"picture-circle"===o)&&"uploading"!==$&&m.createElement("span",{className:`${e}-list-item-actions`},W,"done"===$&&j,P),{getPrefixCls:V}=m.useContext(So),q=V(),X=m.createElement("div",{className:_},R,F,B,G,N&&m.createElement(oa,{motionName:`${q}-fade`,visible:"uploading"===$,motionDeadline:2e3},({className:t})=>{const n="percent"in i?m.createElement(aT,Object.assign({type:"line",percent:i.percent,"aria-label":i["aria-label"],"aria-labelledby":i["aria-labelledby"]},l)):null;return m.createElement("div",{className:S(`${e}-list-item-progress`,t)},n)})),U=i.response&&"string"==typeof i.response?i.response:(null===(O=i.error)||void 0===O?void 0:O.statusText)||(null===(k=i.error)||void 0===k?void 0:k.message)||r.uploadError,Y="error"===$?m.createElement(Qv,{title:U,getPopupContainer:e=>e.parentNode},X):X;return m.createElement("div",{className:S(`${e}-list-item-container`,t),style:n,ref:E},u?u(Y,i,a,{download:w.bind(null,i),preview:x.bind(null,i),remove:C.bind(null,i)}):Y)}),aB=(e,t)=>{const{listType:n="text",previewFile:r=tB,onPreview:o,onDownload:i,onRemove:a,locale:l,iconRender:s,isImageUrl:c=Jj,prefixCls:u,items:d=[],showPreviewIcon:f=!0,showRemoveIcon:h=!0,showDownloadIcon:p=!1,removeIcon:g,previewIcon:v,downloadIcon:y,extra:b,progress:x={size:[-1,2],showInfo:!1},appendAction:w,appendActionVisible:C=!0,itemRender:E,disabled:O}=e,k=bv(),[M,$]=m.useState(!1),I=["picture-card","picture-circle"].includes(n);m.useEffect(()=>{n.startsWith("picture")&&(d||[]).forEach(e=>{(e.originFileObj instanceof File||e.originFileObj instanceof Blob)&&void 0===e.thumbUrl&&(e.thumbUrl="",null==r||r(e.originFileObj).then(t=>{e.thumbUrl=t||"",k()}))})},[n,d,r]),m.useEffect(()=>{$(!0)},[]);const N=(e,t)=>{if(o)return null==t||t.preventDefault(),o(e)},T=e=>{"function"==typeof i?i(e):e.url&&window.open(e.url)},L=e=>{null==a||a(e)},R=e=>{if(s)return s(e,n);const t="uploading"===e.status;if(n.startsWith("picture")){const r="picture"===n?m.createElement(Gl,null):l.uploading,o=(null==c?void 0:c(e))?m.createElement(Uj,null):m.createElement(Fj,null);return t?r:o}return t?m.createElement(Gl,null):m.createElement(Vj,null)},_=(e,t,n,r,o)=>{const i={type:"text",size:"small",title:r,onClick:n=>{var r,o;t(),m.isValidElement(e)&&(null===(o=(r=e.props).onClick)||void 0===o||o.call(r,n))},className:`${n}-list-item-action`,disabled:!!o&&O};return m.isValidElement(e)?m.createElement(cd,Object.assign({},i,{icon:ll(e,Object.assign(Object.assign({},e.props),{onClick:()=>{}}))})):m.createElement(cd,Object.assign({},i),m.createElement("span",null,e))};m.useImperativeHandle(t,()=>({handlePreview:N,handleDownload:T}));const{getPrefixCls:A}=m.useContext(So),P=A("upload",u),j=A(),B=S(`${P}-list`,`${P}-list-${n}`),D=m.useMemo(()=>js(As(j),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[j]),z=Object.assign(Object.assign({},I?{}:D),{motionDeadline:2e3,motionName:`${P}-${I?"animate-inline":"animate"}`,keys:it(d.map(e=>({key:e.uid,file:e}))),motionAppear:M});return m.createElement("div",{className:B},m.createElement(pa,Object.assign({},z,{component:!1}),({key:e,file:t,className:r,style:o})=>m.createElement(iB,{key:e,locale:l,prefixCls:P,className:r,style:o,file:t,items:d,progress:x,listType:n,isImgUrl:c,showPreviewIcon:f,showRemoveIcon:h,showDownloadIcon:p,removeIcon:g,previewIcon:v,downloadIcon:y,extra:b,iconRender:R,actionIconRender:_,itemRender:E,onPreview:N,onDownload:T,onClose:L})),w&&m.createElement(oa,Object.assign({},z,{visible:C,forceRender:!0}),({className:e,style:t})=>ll(w,n=>({className:S(n.className,e),style:Object.assign(Object.assign(Object.assign({},t),{pointerEvents:e?"none":void 0}),n.style)}))))},lB=m.forwardRef(aB);var sB=function(e,t,n,r){return new(n||(n=Promise))(function(t,o){function i(e){try{l(r.next(e))}catch(rw){o(rw)}}function a(e){try{l(r.throw(e))}catch(rw){o(rw)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(i,a)}l((r=r.apply(e,[])).next())})};const cB=`__LIST_IGNORE_${Date.now()}__`,uB=(e,t)=>{const n=ko("upload"),{fileList:r,defaultFileList:o,onRemove:i,showUploadList:a=!0,listType:l="text",onPreview:s,onDownload:c,onChange:u,onDrop:d,previewFile:f,disabled:h,locale:p,iconRender:g,isImageUrl:v,progress:b,prefixCls:x,className:w,type:C="select",children:E,style:O,itemRender:k,maxCount:M,data:$={},multiple:I=!1,hasControlInside:N=!0,action:T="",accept:L="",supportServerRender:R=!0,rootClassName:_}=e,A=m.useContext(Io),P=null!=h?h:A,j=e.customRequest||n.customRequest,[B,D]=Wo(o||[],{value:r,postState:e=>null!=e?e:[]}),[z,H]=m.useState("drop"),F=m.useRef(null),W=m.useRef(null);m.useMemo(()=>{const e=Date.now();(r||[]).forEach((t,n)=>{t.uid||Object.isFrozen(t)||(t.uid=`__AUTO__${e}_${n}__`)})},[r]);const G=(e,t,n)=>{let r=it(t),o=!1;1===M?r=r.slice(-1):M&&(o=r.length>M,r=r.slice(0,M)),y.flushSync(()=>{D(r)});const i={file:e,fileList:r};n&&(i.event=n),o&&"removed"!==e.status&&!r.some(t=>t.uid===e.uid)||y.flushSync(()=>{null==u||u(i)})},V=e=>{const t=e.filter(e=>!e.file[cB]);if(!t.length)return;const n=t.map(e=>Yj(e.file));let r=it(B);n.forEach(e=>{r=Kj(e,r)}),n.forEach((e,n)=>{let o=e;if(t[n].parsedFile)e.status="uploading";else{const{originFileObj:t}=e;let n;try{n=new File([t],t.name,{type:t.type})}catch(i){n=new Blob([t],{type:t.type}),n.name=t.name,n.lastModifiedDate=new Date,n.lastModified=(new Date).getTime()}n.uid=e.uid,o=n}G(o,r)})},q=(e,t,n)=>{try{"string"==typeof e&&(e=JSON.parse(e))}catch(i){}if(!Zj(t,B))return;const r=Yj(t);r.status="done",r.percent=100,r.response=e,r.xhr=n;const o=Kj(r,B);G(r,o)},X=(e,t)=>{if(!Zj(t,B))return;const n=Yj(t);n.status="uploading",n.percent=e.percent;const r=Kj(n,B);G(n,r,e)},U=(e,t,n)=>{if(!Zj(n,B))return;const r=Yj(n);r.error=e,r.response=t,r.status="error";const o=Kj(r,B);G(r,o)},Y=e=>{let t;Promise.resolve("function"==typeof i?i(e):i).then(n=>{var r;if(!1===n)return;const o=function(e,t){const n=void 0!==e.uid?"uid":"name",r=t.filter(t=>t[n]!==e[n]);return r.length===t.length?null:r}(e,B);o&&(t=Object.assign(Object.assign({},e),{status:"removed"}),null==B||B.forEach(e=>{const n=void 0!==t.uid?"uid":"name";e[n]!==t[n]||Object.isFrozen(e)||(e.status="removed")}),null===(r=F.current)||void 0===r||r.abort(t),G(t,o))})},K=e=>{H(e.type),"drop"===e.type&&(null==d||d(e))};m.useImperativeHandle(t,()=>({onBatchStart:V,onSuccess:q,onProgress:X,onError:U,fileList:B,upload:F.current,nativeElement:W.current}));const{getPrefixCls:Z,direction:Q,upload:J}=m.useContext(So),ee=Z("upload",x),te=Object.assign(Object.assign({onBatchStart:V,onError:U,onProgress:X,onSuccess:q},e),{customRequest:j,data:$,multiple:I,action:T,accept:L,supportServerRender:R,prefixCls:ee,disabled:P,beforeUpload:(t,n)=>sB(void 0,0,void 0,function*(){const{beforeUpload:r,transformFile:o}=e;let i=t;if(r){const e=yield r(t,n);if(!1===e)return!1;if(delete t[cB],e===cB)return Object.defineProperty(t,cB,{value:!0,configurable:!0}),!1;"object"==typeof e&&e&&(i=e)}return o&&(i=yield o(i)),i}),onChange:void 0,hasControlInside:N});delete te.className,delete te.style,E&&!P||delete te.id;const ne=`${ee}-wrapper`,[re,oe,ie]=Dj(ee,ne),[ae]=Ar("Upload",Ir.Upload),{showRemoveIcon:le,showPreviewIcon:se,showDownloadIcon:ce,removeIcon:ue,previewIcon:de,downloadIcon:fe,extra:he}="boolean"==typeof a?{}:a,pe=void 0===le?!P:le,ge=(e,t)=>a?m.createElement(lB,{prefixCls:ee,listType:l,items:B,previewFile:f,onPreview:s,onDownload:c,onRemove:Y,showRemoveIcon:pe,showPreviewIcon:se,showDownloadIcon:ce,removeIcon:ue,previewIcon:de,downloadIcon:fe,iconRender:g,extra:he,locale:Object.assign(Object.assign({},ae),p),isImageUrl:v,progress:b,appendAction:e,appendActionVisible:t,itemRender:k,disabled:P}):e,me=S(ne,w,_,oe,ie,null==J?void 0:J.className,{[`${ee}-rtl`]:"rtl"===Q,[`${ee}-picture-card-wrapper`]:"picture-card"===l,[`${ee}-picture-circle-wrapper`]:"picture-circle"===l}),ve=Object.assign(Object.assign({},null==J?void 0:J.style),O);if("drag"===C){const e=S(oe,ee,`${ee}-drag`,{[`${ee}-drag-uploading`]:B.some(e=>"uploading"===e.status),[`${ee}-drag-hover`]:"dragover"===z,[`${ee}-disabled`]:P,[`${ee}-rtl`]:"rtl"===Q});return re(m.createElement("span",{className:me,ref:W},m.createElement("div",{className:e,style:ve,onDrop:K,onDragOver:K,onDragLeave:K},m.createElement(Tj,Object.assign({},te,{ref:F,className:`${ee}-btn`}),m.createElement("div",{className:`${ee}-drag-container`},E))),ge()))}const ye=S(ee,`${ee}-select`,{[`${ee}-disabled`]:P,[`${ee}-hidden`]:!E}),be=m.createElement("div",{className:ye,style:ve},m.createElement(Tj,Object.assign({},te,{ref:F})));return re("picture-card"===l||"picture-circle"===l?m.createElement("span",{className:me,ref:W},ge(be,!!E)):m.createElement("span",{className:me,ref:W},be,ge()))},dB=m.forwardRef(uB);const fB=m.forwardRef((e,t)=>{var{style:n,height:r,hasControlInside:o=!1}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["style","height","hasControlInside"]);return m.createElement(dB,Object.assign({ref:t,hasControlInside:o},i,{type:"drag",style:Object.assign(Object.assign({},n),{height:r})}))}),hB=dB;hB.Dragger=fB,hB.LIST_IGNORE=cB;var pB={exports:{}},gB={exports:{}},mB={exports:{}},vB={exports:{}};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(vB);var yB=vB.exports,bB={exports:{}};!function(e){var t=yB.default;e.exports=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(bB);var xB=bB.exports;!function(e){var t=yB.default,n=xB;e.exports=function(e){var r=n(e,"string");return"symbol"==t(r)?r:r+""},e.exports.__esModule=!0,e.exports.default=e.exports}(mB);var wB=mB.exports;!function(e){var t=wB;e.exports=function(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports}(gB);var CB=gB.exports;!function(e){var t=CB;function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(Object(o),!0).forEach(function(n){t(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports}(pB);var SB=pB.exports;const EB=h(SB);var OB={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var l=new o(r,i||e,a),s=n?n+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],l]:e._events[s].push(l):(e._events[s]=l,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function l(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),l.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},l.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},l.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,o,i,a){var l=n?n+e:e;if(!this._events[l])return!1;var s,c,u=this._events[l],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,o),!0;case 5:return u.fn.call(u.context,t,r,o,i),!0;case 6:return u.fn.call(u.context,t,r,o,i,a),!0}for(c=1,s=new Array(d-1);c<d;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var f,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,o);break;default:if(!s)for(f=1,s=new Array(d-1);f<d;f++)s[f-1]=arguments[f];u[c].fn.apply(u[c].context,s)}}return!0},l.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var l=this._events[i];if(l.fn)l.fn!==t||o&&!l.once||r&&l.context!==r||a(this,i);else{for(var s=0,c=[],u=l.length;s<u;s++)(l[s].fn!==t||o&&!l[s].once||r&&l[s].context!==r)&&c.push(l[s]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l}(OB);const kB=h(OB.exports);var MB=1e-6,$B="undefined"!=typeof Float32Array?Float32Array:Array;function IB(){var e=new $B(9);return $B!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}var NB=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],l=t[4],s=t[5],c=t[6],u=t[7],d=t[8],f=n[0],h=n[1],p=n[2],g=n[3],m=n[4],v=n[5],y=n[6],b=n[7],x=n[8];return e[0]=f*r+h*a+p*c,e[1]=f*o+h*l+p*u,e[2]=f*i+h*s+p*d,e[3]=g*r+m*a+v*c,e[4]=g*o+m*l+v*u,e[5]=g*i+m*s+v*d,e[6]=y*r+b*a+x*c,e[7]=y*o+b*l+x*u,e[8]=y*i+b*s+x*d,e};function TB(){var e=new $B(16);return $B!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function LB(e){var t=new $B(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function RB(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function _B(e,t,n,r,o,i,a,l,s,c,u,d,f,h,p,g){var m=new $B(16);return m[0]=e,m[1]=t,m[2]=n,m[3]=r,m[4]=o,m[5]=i,m[6]=a,m[7]=l,m[8]=s,m[9]=c,m[10]=u,m[11]=d,m[12]=f,m[13]=h,m[14]=p,m[15]=g,m}function AB(e,t,n,r,o,i,a,l,s,c,u,d,f,h,p,g,m){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=i,e[5]=a,e[6]=l,e[7]=s,e[8]=c,e[9]=u,e[10]=d,e[11]=f,e[12]=h,e[13]=p,e[14]=g,e[15]=m,e}function PB(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function jB(e,t){if(e===t){var n=t[1],r=t[2],o=t[3],i=t[6],a=t[7],l=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=o,e[13]=a,e[14]=l}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function BB(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],l=t[5],s=t[6],c=t[7],u=t[8],d=t[9],f=t[10],h=t[11],p=t[12],g=t[13],m=t[14],v=t[15],y=n*l-r*a,b=n*s-o*a,x=n*c-i*a,w=r*s-o*l,C=r*c-i*l,S=o*c-i*s,E=u*g-d*p,O=u*m-f*p,k=u*v-h*p,M=d*m-f*g,$=d*v-h*g,I=f*v-h*m,N=y*I-b*$+x*M+w*k-C*O+S*E;return N?(N=1/N,e[0]=(l*I-s*$+c*M)*N,e[1]=(o*$-r*I-i*M)*N,e[2]=(g*S-m*C+v*w)*N,e[3]=(f*C-d*S-h*w)*N,e[4]=(s*k-a*I-c*O)*N,e[5]=(n*I-o*k+i*O)*N,e[6]=(m*x-p*S-v*b)*N,e[7]=(u*S-f*x+h*b)*N,e[8]=(a*$-l*k+c*E)*N,e[9]=(r*k-n*$-i*E)*N,e[10]=(p*C-g*x+v*y)*N,e[11]=(d*x-u*C-h*y)*N,e[12]=(l*O-a*M-s*E)*N,e[13]=(n*M-r*O+o*E)*N,e[14]=(g*b-p*w-m*y)*N,e[15]=(u*w-d*b+f*y)*N,e):null}function DB(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],l=e[6],s=e[7],c=e[8],u=e[9],d=e[10],f=e[11],h=e[12],p=e[13],g=e[14],m=t*a-n*i,v=t*l-r*i,y=n*l-r*a,b=c*p-u*h,x=c*g-d*h,w=u*g-d*p;return s*(t*w-n*x+r*b)-o*(i*w-a*x+l*b)+e[15]*(c*y-u*v+d*m)-f*(h*y-p*v+g*m)}function zB(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],l=t[4],s=t[5],c=t[6],u=t[7],d=t[8],f=t[9],h=t[10],p=t[11],g=t[12],m=t[13],v=t[14],y=t[15],b=n[0],x=n[1],w=n[2],C=n[3];return e[0]=b*r+x*l+w*d+C*g,e[1]=b*o+x*s+w*f+C*m,e[2]=b*i+x*c+w*h+C*v,e[3]=b*a+x*u+w*p+C*y,b=n[4],x=n[5],w=n[6],C=n[7],e[4]=b*r+x*l+w*d+C*g,e[5]=b*o+x*s+w*f+C*m,e[6]=b*i+x*c+w*h+C*v,e[7]=b*a+x*u+w*p+C*y,b=n[8],x=n[9],w=n[10],C=n[11],e[8]=b*r+x*l+w*d+C*g,e[9]=b*o+x*s+w*f+C*m,e[10]=b*i+x*c+w*h+C*v,e[11]=b*a+x*u+w*p+C*y,b=n[12],x=n[13],w=n[14],C=n[15],e[12]=b*r+x*l+w*d+C*g,e[13]=b*o+x*s+w*f+C*m,e[14]=b*i+x*c+w*h+C*v,e[15]=b*a+x*u+w*p+C*y,e}function HB(e,t,n){var r,o,i,a,l,s,c,u,d,f,h,p,g=n[0],m=n[1],v=n[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*v+t[12],e[13]=t[1]*g+t[5]*m+t[9]*v+t[13],e[14]=t[2]*g+t[6]*m+t[10]*v+t[14],e[15]=t[3]*g+t[7]*m+t[11]*v+t[15]):(r=t[0],o=t[1],i=t[2],a=t[3],l=t[4],s=t[5],c=t[6],u=t[7],d=t[8],f=t[9],h=t[10],p=t[11],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=l,e[5]=s,e[6]=c,e[7]=u,e[8]=d,e[9]=f,e[10]=h,e[11]=p,e[12]=r*g+l*m+d*v+t[12],e[13]=o*g+s*m+f*v+t[13],e[14]=i*g+c*m+h*v+t[14],e[15]=a*g+u*m+p*v+t[15]),e}function FB(e,t,n){var r=n[0],o=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function WB(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[4],a=t[5],l=t[6],s=t[7],c=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+c*r,e[5]=a*o+u*r,e[6]=l*o+d*r,e[7]=s*o+f*r,e[8]=c*o-i*r,e[9]=u*o-a*r,e[10]=d*o-l*r,e[11]=f*o-s*r,e}function GB(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],l=t[2],s=t[3],c=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o-c*r,e[1]=a*o-u*r,e[2]=l*o-d*r,e[3]=s*o-f*r,e[8]=i*r+c*o,e[9]=a*r+u*o,e[10]=l*r+d*o,e[11]=s*r+f*o,e}function VB(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function qB(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function XB(e,t,n){var r,o,i,a=n[0],l=n[1],s=n[2],c=Math.sqrt(a*a+l*l+s*s);return c<MB?null:(a*=c=1/c,l*=c,s*=c,r=Math.sin(t),i=1-(o=Math.cos(t)),e[0]=a*a*i+o,e[1]=l*a*i+s*r,e[2]=s*a*i-l*r,e[3]=0,e[4]=a*l*i-s*r,e[5]=l*l*i+o,e[6]=s*l*i+a*r,e[7]=0,e[8]=a*s*i+l*r,e[9]=l*s*i-a*r,e[10]=s*s*i+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function UB(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function YB(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function KB(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ZB(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],l=r+r,s=o+o,c=i+i,u=r*l,d=r*s,f=r*c,h=o*s,p=o*c,g=i*c,m=a*l,v=a*s,y=a*c;return e[0]=1-(h+g),e[1]=d+y,e[2]=f-v,e[3]=0,e[4]=d-y,e[5]=1-(u+g),e[6]=p+m,e[7]=0,e[8]=f+v,e[9]=p-m,e[10]=1-(u+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function QB(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function JB(e,t){var n=t[0],r=t[1],o=t[2],i=t[4],a=t[5],l=t[6],s=t[8],c=t[9],u=t[10];return e[0]=Math.sqrt(n*n+r*r+o*o),e[1]=Math.sqrt(i*i+a*a+l*l),e[2]=Math.sqrt(s*s+c*c+u*u),e}function eD(e,t){var n=new $B(3);JB(n,t);var r=1/n[0],o=1/n[1],i=1/n[2],a=t[0]*r,l=t[1]*o,s=t[2]*i,c=t[4]*r,u=t[5]*o,d=t[6]*i,f=t[8]*r,h=t[9]*o,p=t[10]*i,g=a+u+p,m=0;return g>0?(m=2*Math.sqrt(g+1),e[3]=.25*m,e[0]=(d-h)/m,e[1]=(f-s)/m,e[2]=(l-c)/m):a>u&&a>p?(m=2*Math.sqrt(1+a-u-p),e[3]=(d-h)/m,e[0]=.25*m,e[1]=(l+c)/m,e[2]=(f+s)/m):u>p?(m=2*Math.sqrt(1+u-a-p),e[3]=(f-s)/m,e[0]=(l+c)/m,e[1]=.25*m,e[2]=(d+h)/m):(m=2*Math.sqrt(1+p-a-u),e[3]=(l-c)/m,e[0]=(f+s)/m,e[1]=(d+h)/m,e[2]=.25*m),e}function tD(e,t,n,r,o){var i=t[0],a=t[1],l=t[2],s=t[3],c=i+i,u=a+a,d=l+l,f=i*c,h=i*u,p=i*d,g=a*u,m=a*d,v=l*d,y=s*c,b=s*u,x=s*d,w=r[0],C=r[1],S=r[2],E=o[0],O=o[1],k=o[2],M=(1-(g+v))*w,$=(h+x)*w,I=(p-b)*w,N=(h-x)*C,T=(1-(f+v))*C,L=(m+y)*C,R=(p+b)*S,_=(m-y)*S,A=(1-(f+g))*S;return e[0]=M,e[1]=$,e[2]=I,e[3]=0,e[4]=N,e[5]=T,e[6]=L,e[7]=0,e[8]=R,e[9]=_,e[10]=A,e[11]=0,e[12]=n[0]+E-(M*E+N*O+R*k),e[13]=n[1]+O-($*E+T*O+_*k),e[14]=n[2]+k-(I*E+L*O+A*k),e[15]=1,e}function nD(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,l=r+r,s=o+o,c=n*a,u=r*a,d=r*l,f=o*a,h=o*l,p=o*s,g=i*a,m=i*l,v=i*s;return e[0]=1-d-p,e[1]=u+v,e[2]=f-m,e[3]=0,e[4]=u-v,e[5]=1-c-p,e[6]=h+g,e[7]=0,e[8]=f+m,e[9]=h-g,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function rD(e,t,n,r,o){var i=1/Math.tan(t/2);if(e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0){var a=1/(r-o);e[10]=(o+r)*a,e[14]=2*o*r*a}else e[10]=-1,e[14]=-2*r;return e}var oD=rD;function iD(e,t,n,r,o,i,a){var l=1/(t-n),s=1/(r-o),c=1/(i-a);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*l,e[13]=(o+r)*s,e[14]=(a+i)*c,e[15]=1,e}var aD=iD;function lD(e,t,n,r,o,i,a){var l=1/(t-n),s=1/(r-o),c=1/(i-a);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=c,e[11]=0,e[12]=(t+n)*l,e[13]=(o+r)*s,e[14]=i*c,e[15]=1,e}function sD(e,t,n,r){var o,i,a,l,s,c,u,d,f,h,p=t[0],g=t[1],m=t[2],v=r[0],y=r[1],b=r[2],x=n[0],w=n[1],C=n[2];return Math.abs(p-x)<MB&&Math.abs(g-w)<MB&&Math.abs(m-C)<MB?PB(e):(u=p-x,d=g-w,f=m-C,o=y*(f*=h=1/Math.sqrt(u*u+d*d+f*f))-b*(d*=h),i=b*(u*=h)-v*f,a=v*d-y*u,(h=Math.sqrt(o*o+i*i+a*a))?(o*=h=1/h,i*=h,a*=h):(o=0,i=0,a=0),l=d*a-f*i,s=f*o-u*a,c=u*i-d*o,(h=Math.sqrt(l*l+s*s+c*c))?(l*=h=1/h,s*=h,c*=h):(l=0,s=0,c=0),e[0]=o,e[1]=l,e[2]=u,e[3]=0,e[4]=i,e[5]=s,e[6]=d,e[7]=0,e[8]=a,e[9]=c,e[10]=f,e[11]=0,e[12]=-(o*p+i*g+a*m),e[13]=-(l*p+s*g+c*m),e[14]=-(u*p+d*g+f*m),e[15]=1,e)}function cD(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function uD(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}var dD=zB,fD=cD;const hD=Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},adjoint:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],l=t[5],s=t[6],c=t[7],u=t[8],d=t[9],f=t[10],h=t[11],p=t[12],g=t[13],m=t[14],v=t[15],y=n*l-r*a,b=n*s-o*a,x=n*c-i*a,w=r*s-o*l,C=r*c-i*l,S=o*c-i*s,E=u*g-d*p,O=u*m-f*p,k=u*v-h*p,M=d*m-f*g,$=d*v-h*g,I=f*v-h*m;return e[0]=l*I-s*$+c*M,e[1]=o*$-r*I-i*M,e[2]=g*S-m*C+v*w,e[3]=f*C-d*S-h*w,e[4]=s*k-a*I-c*O,e[5]=n*I-o*k+i*O,e[6]=m*x-p*S-v*b,e[7]=u*S-f*x+h*b,e[8]=a*$-l*k+c*E,e[9]=r*k-n*$-i*E,e[10]=p*C-g*x+v*y,e[11]=d*x-u*C-h*y,e[12]=l*O-a*M-s*E,e[13]=n*M-r*O+o*E,e[14]=g*b-p*w-m*y,e[15]=u*w-d*b+f*y,e},clone:LB,copy:RB,create:TB,decompose:function(e,t,n,r){t[0]=r[12],t[1]=r[13],t[2]=r[14];var o=r[0],i=r[1],a=r[2],l=r[4],s=r[5],c=r[6],u=r[8],d=r[9],f=r[10];n[0]=Math.sqrt(o*o+i*i+a*a),n[1]=Math.sqrt(l*l+s*s+c*c),n[2]=Math.sqrt(u*u+d*d+f*f);var h=1/n[0],p=1/n[1],g=1/n[2],m=o*h,v=i*p,y=a*g,b=l*h,x=s*p,w=c*g,C=u*h,S=d*p,E=f*g,O=m+x+E,k=0;return O>0?(k=2*Math.sqrt(O+1),e[3]=.25*k,e[0]=(w-S)/k,e[1]=(C-y)/k,e[2]=(v-b)/k):m>x&&m>E?(k=2*Math.sqrt(1+m-x-E),e[3]=(w-S)/k,e[0]=.25*k,e[1]=(v+b)/k,e[2]=(C+y)/k):x>E?(k=2*Math.sqrt(1+x-m-E),e[3]=(C-y)/k,e[0]=(v+b)/k,e[1]=.25*k,e[2]=(w+S)/k):(k=2*Math.sqrt(1+E-m-x),e[3]=(v-b)/k,e[0]=(C+y)/k,e[1]=(w+S)/k,e[2]=.25*k),e},determinant:DB,equals:function(e,t){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],l=e[5],s=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],g=e[13],m=e[14],v=e[15],y=t[0],b=t[1],x=t[2],w=t[3],C=t[4],S=t[5],E=t[6],O=t[7],k=t[8],M=t[9],$=t[10],I=t[11],N=t[12],T=t[13],L=t[14],R=t[15];return Math.abs(n-y)<=MB*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-b)<=MB*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(o-x)<=MB*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(i-w)<=MB*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(a-C)<=MB*Math.max(1,Math.abs(a),Math.abs(C))&&Math.abs(l-S)<=MB*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(s-E)<=MB*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(c-O)<=MB*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(u-k)<=MB*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(d-M)<=MB*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(f-$)<=MB*Math.max(1,Math.abs(f),Math.abs($))&&Math.abs(h-I)<=MB*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(p-N)<=MB*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(g-T)<=MB*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(m-L)<=MB*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(v-R)<=MB*Math.max(1,Math.abs(v),Math.abs(R))},exactEquals:uD,frob:function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]+e[4]*e[4]+e[5]*e[5]+e[6]*e[6]+e[7]*e[7]+e[8]*e[8]+e[9]*e[9]+e[10]*e[10]+e[11]*e[11]+e[12]*e[12]+e[13]*e[13]+e[14]*e[14]+e[15]*e[15])},fromQuat:nD,fromQuat2:function(e,t){var n=new $B(3),r=-t[0],o=-t[1],i=-t[2],a=t[3],l=t[4],s=t[5],c=t[6],u=t[7],d=r*r+o*o+i*i+a*a;return d>0?(n[0]=2*(l*a+u*r+s*i-c*o)/d,n[1]=2*(s*a+u*o+c*r-l*i)/d,n[2]=2*(c*a+u*i+l*o-s*r)/d):(n[0]=2*(l*a+u*r+s*i-c*o),n[1]=2*(s*a+u*o+c*r-l*i),n[2]=2*(c*a+u*i+l*o-s*r)),ZB(e,t,n),e},fromRotation:XB,fromRotationTranslation:ZB,fromRotationTranslationScale:function(e,t,n,r){var o=t[0],i=t[1],a=t[2],l=t[3],s=o+o,c=i+i,u=a+a,d=o*s,f=o*c,h=o*u,p=i*c,g=i*u,m=a*u,v=l*s,y=l*c,b=l*u,x=r[0],w=r[1],C=r[2];return e[0]=(1-(p+m))*x,e[1]=(f+b)*x,e[2]=(h-y)*x,e[3]=0,e[4]=(f-b)*w,e[5]=(1-(d+m))*w,e[6]=(g+v)*w,e[7]=0,e[8]=(h+y)*C,e[9]=(g-v)*C,e[10]=(1-(d+p))*C,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},fromRotationTranslationScaleOrigin:tD,fromScaling:qB,fromTranslation:VB,fromValues:_B,fromXRotation:UB,fromYRotation:YB,fromZRotation:KB,frustum:function(e,t,n,r,o,i,a){var l=1/(n-t),s=1/(o-r),c=1/(i-a);return e[0]=2*i*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*s,e[6]=0,e[7]=0,e[8]=(n+t)*l,e[9]=(o+r)*s,e[10]=(a+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*i*2*c,e[15]=0,e},getRotation:eD,getScaling:JB,getTranslation:QB,identity:PB,invert:BB,lookAt:sD,mul:dD,multiply:zB,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e},ortho:aD,orthoNO:iD,orthoZO:lD,perspective:oD,perspectiveFromFieldOfView:function(e,t,n,r){var o=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),l=Math.tan(t.rightDegrees*Math.PI/180),s=2/(a+l),c=2/(o+i);return e[0]=s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-l)*s*.5,e[9]=(o-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},perspectiveNO:rD,perspectiveZO:function(e,t,n,r,o){var i=1/Math.tan(t/2);if(e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0){var a=1/(r-o);e[10]=o*a,e[14]=o*r*a}else e[10]=-1,e[14]=-r;return e},rotate:function(e,t,n,r){var o,i,a,l,s,c,u,d,f,h,p,g,m,v,y,b,x,w,C,S,E,O,k,M,$=r[0],I=r[1],N=r[2],T=Math.sqrt($*$+I*I+N*N);return T<MB?null:($*=T=1/T,I*=T,N*=T,o=Math.sin(n),a=1-(i=Math.cos(n)),l=t[0],s=t[1],c=t[2],u=t[3],d=t[4],f=t[5],h=t[6],p=t[7],g=t[8],m=t[9],v=t[10],y=t[11],b=$*$*a+i,x=I*$*a+N*o,w=N*$*a-I*o,C=$*I*a-N*o,S=I*I*a+i,E=N*I*a+$*o,O=$*N*a+I*o,k=I*N*a-$*o,M=N*N*a+i,e[0]=l*b+d*x+g*w,e[1]=s*b+f*x+m*w,e[2]=c*b+h*x+v*w,e[3]=u*b+p*x+y*w,e[4]=l*C+d*S+g*E,e[5]=s*C+f*S+m*E,e[6]=c*C+h*S+v*E,e[7]=u*C+p*S+y*E,e[8]=l*O+d*k+g*M,e[9]=s*O+f*k+m*M,e[10]=c*O+h*k+v*M,e[11]=u*O+p*k+y*M,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},rotateX:WB,rotateY:GB,rotateZ:function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],l=t[2],s=t[3],c=t[4],u=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+c*r,e[1]=a*o+u*r,e[2]=l*o+d*r,e[3]=s*o+f*r,e[4]=c*o-i*r,e[5]=u*o-a*r,e[6]=d*o-l*r,e[7]=f*o-s*r,e},scale:FB,set:AB,str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},sub:fD,subtract:cD,targetTo:function(e,t,n,r){var o=t[0],i=t[1],a=t[2],l=r[0],s=r[1],c=r[2],u=o-n[0],d=i-n[1],f=a-n[2],h=u*u+d*d+f*f;h>0&&(u*=h=1/Math.sqrt(h),d*=h,f*=h);var p=s*f-c*d,g=c*u-l*f,m=l*d-s*u;return(h=p*p+g*g+m*m)>0&&(p*=h=1/Math.sqrt(h),g*=h,m*=h),e[0]=p,e[1]=g,e[2]=m,e[3]=0,e[4]=d*m-f*g,e[5]=f*p-u*m,e[6]=u*g-d*p,e[7]=0,e[8]=u,e[9]=d,e[10]=f,e[11]=0,e[12]=o,e[13]=i,e[14]=a,e[15]=1,e},translate:HB,transpose:jB},Symbol.toStringTag,{value:"Module"}));function pD(){var e=new $B(3);return $B!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function gD(e){var t=new $B(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function mD(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function vD(e,t,n){var r=new $B(3);return r[0]=e,r[1]=t,r[2]=n,r}function yD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function bD(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function xD(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function wD(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function CD(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function SD(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function ED(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function OD(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],l=n[1],s=n[2];return e[0]=o*s-i*l,e[1]=i*a-r*s,e[2]=r*l-o*a,e}function kD(e,t,n,r){var o=t[0],i=t[1],a=t[2];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e}function MD(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,e}function $D(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e}function ID(e,t){var n=e[0],r=e[1],o=e[2],i=t[0],a=t[1],l=t[2];return Math.abs(n-i)<=MB*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=MB*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-l)<=MB*Math.max(1,Math.abs(o),Math.abs(l))}var ND=wD,TD=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)},LD=mD;function RD(){var e=new $B(4);return $B!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function _D(e,t,n,r){var o=new $B(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o}function AD(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3];return e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,e}function PD(){var e=new $B(4);return $B!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function jD(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function BD(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],l=n[0],s=n[1],c=n[2],u=n[3];return e[0]=r*u+a*l+o*c-i*s,e[1]=o*u+a*s+i*l-r*c,e[2]=i*u+a*c+r*s-o*l,e[3]=a*u-r*l-o*s-i*c,e}function DD(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i,l=a?1/a:0;return e[0]=-n*l,e[1]=-r*l,e[2]=-o*l,e[3]=i*l,e}function zD(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"zyx",i=Math.PI/360;t*=i,r*=i,n*=i;var a=Math.sin(t),l=Math.cos(t),s=Math.sin(n),c=Math.cos(n),u=Math.sin(r),d=Math.cos(r);switch(o){case"xyz":e[0]=a*c*d+l*s*u,e[1]=l*s*d-a*c*u,e[2]=l*c*u+a*s*d,e[3]=l*c*d-a*s*u;break;case"xzy":e[0]=a*c*d-l*s*u,e[1]=l*s*d-a*c*u,e[2]=l*c*u+a*s*d,e[3]=l*c*d+a*s*u;break;case"yxz":e[0]=a*c*d+l*s*u,e[1]=l*s*d-a*c*u,e[2]=l*c*u-a*s*d,e[3]=l*c*d+a*s*u;break;case"yzx":e[0]=a*c*d+l*s*u,e[1]=l*s*d+a*c*u,e[2]=l*c*u-a*s*d,e[3]=l*c*d-a*s*u;break;case"zxy":e[0]=a*c*d-l*s*u,e[1]=l*s*d+a*c*u,e[2]=l*c*u+a*s*d,e[3]=l*c*d-a*s*u;break;case"zyx":e[0]=a*c*d-l*s*u,e[1]=l*s*d+a*c*u,e[2]=l*c*u-a*s*d,e[3]=l*c*d+a*s*u;break;default:throw new Error("Unknown angle order "+o)}return e}pD(),function(){var e=RD()}();var HD=_D,FD=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},WD=function(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e},GD=BD,VD=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=o*a,e[3]=i*a,e};function qD(){var e=new $B(2);return $B!=Float32Array&&(e[0]=0,e[1]=0),e}pD(),vD(1,0,0),vD(0,1,0),PD(),PD(),IB(),function(){var e=qD()}();var XD=function(e){return null!==e&&"function"!=typeof e&&isFinite(e.length)};function UD(e){return"function"==typeof e}function YD(e){return null==e}function KD(e){return Array.isArray(e)}const ZD=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t};function QD(e,t){if(e)if(KD(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);else if(ZD(e))for(var o in e)if(e.hasOwnProperty(o)&&!1===t(e[o],o))break}var JD=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return QD(e,function(n,r){UD(e)&&"prototype"===r||t.push(r)}),t};var ez=function(e){return"object"==typeof e&&null!==e},tz={}.toString,nz=function(e,t){return tz.call(e)==="[object "+t+"]"},rz=function(e){if(!ez(e)||!nz(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function oz(e,t){if(!KD(e))return null;var n;if(UD(t)&&(n=t),rz(t)&&(n=function(e){return function(e,t){var n=JD(t),r=n.length;if(YD(e))return!r;for(var o=0;o<r;o+=1){var i=n[o];if(t[i]!==e[i]||!(i in e))return!1}return!0}(e,t)}),n)for(var r=0;r<e.length;r+=1)if(n(e[r]))return e[r];return null}function iz(e){if(!Array.isArray(e))return-1/0;var t=e.length;if(!t)return-1/0;for(var n=e[0],r=1;r<t;r++)n=Math.max(n,e[r]);return n}const az=function(e){if(KD(e))return e.reduce(function(e,t){return Math.min(e,t)},e[0])};function lz(e){return"string"==typeof e}function sz(e){if(XD(e)){return e[e.length-1]}}var cz=function(e,t,n){return e<t?t:e>n?n:e};function uz(e){return"number"==typeof e}function dz(e,t,n){return void 0===n&&(n=1e-5),e===t||Math.abs(e-t)<n}const fz=function(e,t){if(KD(e)){for(var n,r=-1/0,o=0;o<e.length;o++){var i=e[o],a=UD(t)?t(i):i[t];a>r&&(n=i,r=a)}return n}},hz=function(e,t){if(KD(e)){for(var n,r=1/0,o=0;o<e.length;o++){var i=e[o],a=UD(t)?t(i):i[t];a<r&&(n=i,r=a)}return n}};var pz=function(e,t){return(e%t+t)%t};const gz=function(e){return YD(e)?"":e.toString()};var mz=function(e){var t=gz(e);return t.charAt(0).toLowerCase()+t.substring(1)};var vz=function(e){var t=gz(e);return t.charAt(0).toUpperCase()+t.substring(1)},yz=function(e){return nz(e,"Boolean")};function bz(e){return null===e}var xz=function(e){return void 0===e};function wz(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}var Cz=function(e){if("object"!=typeof e||null===e)return e;var t;if(KD(e)){t=[];for(var n=0,r=e.length;n<r;n++)"object"==typeof e[n]&&null!=e[n]?t[n]=Cz(e[n]):t[n]=e[n]}else for(var o in t={},e)"object"==typeof e[o]&&null!=e[o]?t[o]=Cz(e[o]):t[o]=e[o];return t};var Sz=new Map;function Ez(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function Oz(e,t,n,r){for(var o in n=n||0,r=r||5,t)if(Ez(t,o)){var i=t[o];null!==i&&rz(i)?(rz(e[o])||(e[o]={}),n<r?Oz(e[o],i,n+1,r):e[o]=t[o]):KD(i)?(e[o]=[],e[o]=e[o].concat(i)):void 0!==i&&(e[o]=i)}}var kz=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)Oz(e,t[r]);return e},Mz=function(e,t){if(!XD(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var r=-1,o=0;o<e.length;o++)if(e[o]===t){r=o;break}return r},$z=function(e,t){if(e===t)return!0;if(!e||!t)return!1;if(lz(e)||lz(t))return!1;if(XD(e)||XD(t)){if(e.length!==t.length)return!1;for(var n=!0,r=0;r<e.length&&(n=$z(e[r],t[r]));r++);return n}if(ez(e)||ez(t)){var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(n=!0,r=0;r<o.length&&(n=$z(e[o[r]],t[o[r]]));r++);return n}return!1};const Iz=function(e,t,n){for(var r=0,o=lz(t)?t.split("."):t;e&&r<o.length;)e=e[o[r++]];return void 0===e||r<o.length?n:e},Nz=function(e,t,n){var r=e,o=lz(t)?t.split("."):t;return o.forEach(function(e,t){t<o.length-1?(ZD(r[e])||(r[e]=uz(o[t+1])?[]:{}),r=r[e]):r[e]=n}),e};var Tz=Object.prototype.hasOwnProperty;const Lz=function(e,t){return function(e,t,n){if(!KD(e)&&!rz(e))return e;var r=n;return QD(e,function(e,n){r=t(r,e,n)}),r}(e,function(e,n,r){return t.includes(r)||(e[r]=n),e},{})},Rz=function(e,t,n){var r,o,i,a,l=0;n||(n={});var s=function(){l=!1===n.leading?0:Date.now(),r=null,a=e.apply(o,i),r||(o=i=null)},c=function(){var c=Date.now();l||!1!==n.leading||(l=c);var u=t-(c-l);return o=this,i=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),l=c,a=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(s,u)),a};return c.cancel=function(){clearTimeout(r),l=0,r=o=i=null},c},_z=function(){},Az=function(e){return e};function Pz(e){return YD(e)?0:XD(e)?e.length:Object.keys(e).length}var jz=function(e,t){return(jz=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Bz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}jz(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Dz=function(){return Dz=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Dz.apply(this,arguments)};function zz(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Hz(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})}function Fz(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wz(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Gz(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Vz(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}"function"==typeof SuppressedError&&SuppressedError;var qz={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function Xz(e,t,n){if(e[n].length>7){e[n].shift();for(var r=e[n],o=n;r.length;)t[n]="A",e.splice(o+=1,0,["C"].concat(r.splice(0,6)));e.splice(n,1)}}var Uz={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function Yz(e){return Array.isArray(e)&&e.every(function(e){var t=e[0].toLowerCase();return Uz[t]===e.length-1&&"achlmqstvz".includes(t)})}function Kz(e){return Yz(e)&&e.every(function(e){var t=e[0];return t===t.toUpperCase()})}function Zz(e){return Kz(e)&&e.every(function(e){var t=e[0];return"ACLMQZ".includes(t)})}function Qz(e){for(var t=e.pathValue[e.segmentStart],n=t.toLowerCase(),r=e.data;r.length>=Uz[n]&&("m"===n&&r.length>2?(e.segments.push([t].concat(r.splice(0,2))),n="l",t="m"===t?"l":"L"):e.segments.push([t].concat(r.splice(0,Uz[n]))),Uz[n]););}function Jz(e){var t=e.index,n=e.pathValue,r=n.charCodeAt(t);return 48===r?(e.param=0,void(e.index+=1)):49===r?(e.param=1,void(e.index+=1)):void(e.err='[path-util]: invalid Arc flag "'.concat(n[t],'", expecting 0 or 1 at index ').concat(t))}function eH(e){return e>=48&&e<=57||43===e||45===e||46===e}function tH(e){return e>=48&&e<=57}function nH(e){var t,n=e.max,r=e.pathValue,o=e.index,i=o,a=!1,l=!1,s=!1,c=!1;if(i>=n)e.err="[path-util]: Invalid path value at index ".concat(i,', "pathValue" is missing param');else if(43!==(t=r.charCodeAt(i))&&45!==t||(i+=1,t=r.charCodeAt(i)),tH(t)||46===t){if(46!==t){if(a=48===t,i+=1,t=r.charCodeAt(i),a&&i<n&&t&&tH(t))return void(e.err="[path-util]: Invalid path value at index ".concat(o,', "').concat(r[o],'" illegal number'));for(;i<n&&tH(r.charCodeAt(i));)i+=1,l=!0;t=r.charCodeAt(i)}if(46===t){for(c=!0,i+=1;tH(r.charCodeAt(i));)i+=1,s=!0;t=r.charCodeAt(i)}if(101===t||69===t){if(c&&!l&&!s)return void(e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(r[i],'" invalid float exponent'));if(i+=1,43!==(t=r.charCodeAt(i))&&45!==t||(i+=1),!(i<n&&tH(r.charCodeAt(i))))return void(e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(r[i],'" invalid integer exponent'));for(;i<n&&tH(r.charCodeAt(i));)i+=1}e.index=i,e.param=+e.pathValue.slice(o,i)}else e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(r[i],'" is not a number')}function rH(e){return 10===e||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function oH(e){for(var t=e.pathValue,n=e.max;e.index<n&&rH(t.charCodeAt(e.index));)e.index+=1}function iH(e){return 97==(32|e)}function aH(e){var t=e.max,n=e.pathValue,r=e.index,o=n.charCodeAt(r),i=Uz[n[r].toLowerCase()];if(e.segmentStart=r,function(e){switch(32|e){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}(o))if(e.index+=1,oH(e),e.data=[],i){for(;;){for(var a=i;a>0;a-=1){if(!iH(o)||3!==a&&4!==a?nH(e):Jz(e),e.err.length)return;e.data.push(e.param),oH(e),e.index<t&&44===n.charCodeAt(e.index)&&(e.index+=1,oH(e))}if(e.index>=e.max)break;if(!eH(n.charCodeAt(e.index)))break}Qz(e)}else Qz(e);else e.err='[path-util]: Invalid path value "'.concat(n[r],'" is not a path command')}var lH=function(){return function(e){this.pathValue=e,this.segments=[],this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}}();function sH(e){if(Kz(e))return[].concat(e);var t=function(e){if(Yz(e))return[].concat(e);var t=new lH(e);for(oH(t);t.index<t.max&&!t.err.length;)aH(t);return t.err?t.err:t.segments}(e),n=0,r=0,o=0,i=0;return t.map(function(e){var t,a=e.slice(1).map(Number),l=e[0],s=l.toUpperCase();if("M"===l)return n=a[0],r=a[1],o=n,i=r,["M",n,r];if(l!==s)switch(s){case"A":t=[s,a[0],a[1],a[2],a[3],a[4],a[5]+n,a[6]+r];break;case"V":t=[s,a[0]+r];break;case"H":t=[s,a[0]+n];break;default:var c=a.map(function(e,t){return e+(t%2?r:n)});t=[s].concat(c)}else t=[s].concat(a);var u=t.length;switch(s){case"Z":n=o,r=i;break;case"H":n=t[1];break;case"V":r=t[1];break;default:n=t[u-2],r=t[u-1],"M"===s&&(o=n,i=r)}return t})}function cH(e,t){var n=e[0],r=t.x1,o=t.y1,i=t.x2,a=t.y2,l=e.slice(1).map(Number),s=e;if("TQ".includes(n)||(t.qx=null,t.qy=null),"H"===n)s=["L",e[1],o];else if("V"===n)s=["L",r,e[1]];else if("S"===n){var c=2*r-i,u=2*o-a;t.x1=c,t.y1=u,s=["C",c,u].concat(l)}else if("T"===n){var d=2*r-t.qx,f=2*o-t.qy;t.qx=d,t.qy=f,s=["Q",d,f].concat(l)}else if("Q"===n){var h=l[0],p=l[1];t.qx=h,t.qy=p}return s}function uH(e){if(Zz(e))return[].concat(e);for(var t=sH(e),n=Dz({},qz),r=0;r<t.length;r+=1){t[r]=cH(t[r],n);var o=t[r],i=o.length;n.x1=+o[i-2],n.y1=+o[i-1],n.x2=+o[i-4]||n.x1,n.y2=+o[i-3]||n.y1}return t}function dH(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}function fH(e,t,n,r,o,i,a,l,s,c){var u,d,f,h,p,g=e,m=t,v=n,y=r,b=l,x=s,w=120*Math.PI/180,C=Math.PI/180*(+o||0),S=[];if(c)d=c[0],f=c[1],h=c[2],p=c[3];else{g=(u=dH(g,m,-C)).x,m=u.y;var E=(g-(b=(u=dH(b,x,-C)).x))/2,O=(m-(x=u.y))/2,k=E*E/(v*v)+O*O/(y*y);k>1&&(v*=k=Math.sqrt(k),y*=k);var M=v*v,$=y*y,I=(i===a?-1:1)*Math.sqrt(Math.abs((M*$-M*O*O-$*E*E)/(M*O*O+$*E*E)));h=I*v*O/y+(g+b)/2,p=I*-y*E/v+(m+x)/2,d=Math.asin(((m-p)/y*Math.pow(10,9)|0)/Math.pow(10,9)),f=Math.asin(((x-p)/y*Math.pow(10,9)|0)/Math.pow(10,9)),d=g<h?Math.PI-d:d,f=b<h?Math.PI-f:f,d<0&&(d=2*Math.PI+d),f<0&&(f=2*Math.PI+f),a&&d>f&&(d-=2*Math.PI),!a&&f>d&&(f-=2*Math.PI)}var N=f-d;if(Math.abs(N)>w){var T=f,L=b,R=x;f=d+w*(a&&f>d?1:-1),S=fH(b=h+v*Math.cos(f),x=p+y*Math.sin(f),v,y,o,0,a,L,R,[f,T,h,p])}N=f-d;var _=Math.cos(d),A=Math.sin(d),P=Math.cos(f),j=Math.sin(f),B=Math.tan(N/4),D=4/3*v*B,z=4/3*y*B,H=[g,m],F=[g+D*A,m-z*_],W=[b+D*j,x-z*P],G=[b,x];if(F[0]=2*H[0]-F[0],F[1]=2*H[1]-F[1],c)return F.concat(W,G,S);for(var V=[],q=0,X=(S=F.concat(W,G,S)).length;q<X;q+=1)V[q]=q%2?dH(S[q-1],S[q],C).y:dH(S[q],S[q+1],C).x;return V}function hH(e,t,n){var r=e[0],o=e[1];return[r+(t[0]-r)*n,o+(t[1]-o)*n]}var pH=function(e,t,n,r){return Gz(Gz([],hH([e,t],[n,r],.5),!0),[n,r,n,r],!1)};function gH(e,t){var n,r=e[0],o=e.slice(1).map(Number),i=o[0],a=o[1],l=t.x1,s=t.y1,c=t.x,u=t.y;switch("TQ".includes(r)||(t.qx=null,t.qy=null),r){case"M":return t.x=i,t.y=a,e;case"A":return n=[l,s].concat(o),["C"].concat(fH(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]));case"Q":return t.qx=i,t.qy=a,n=[l,s].concat(o),["C"].concat(function(e,t,n,r,o,i){var a=1/3,l=2/3;return[a*e+l*n,a*t+l*r,a*o+l*n,a*i+l*r,o,i]}(n[0],n[1],n[2],n[3],n[4],n[5]));case"L":return["C"].concat(pH(l,s,i,a));case"Z":return l===c&&s===u?["C",l,s,c,u,c,u]:["C"].concat(pH(l,s,c,u))}return e}function mH(e,t){if(void 0===t&&(t=!1),function(e){return Zz(e)&&e.every(function(e){var t=e[0];return"MC".includes(t)})}(e)){var n=[].concat(e);return t?[n,[]]:n}for(var r,o,i=uH(e),a=Dz({},qz),l=[],s="",c=i.length,u=[],d=0;d<c;d+=1){i[d]&&(s=i[d][0]),l[d]=s;var f=gH(i[d],a);i[d]=f,Xz(i,l,d),c=i.length,"Z"===s&&u.push(d),o=(r=i[d]).length,a.x1=+r[o-2],a.y1=+r[o-1],a.x2=+r[o-4]||a.x1,a.y2=+r[o-3]||a.y1}return t?[i,u]:i}function vH(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function yH(e,t,n,r,o){var i=vH([e,t],[n,r]),a={x:0,y:0};if("number"==typeof o)if(o<=0)a={x:e,y:t};else if(o>=i)a={x:n,y:r};else{var l=hH([e,t],[n,r],o/i);a={x:l[0],y:l[1]}}return{length:i,point:a,min:{x:Math.min(e,n),y:Math.min(t,r)},max:{x:Math.max(e,n),y:Math.max(t,r)}}}function bH(e,t){var n=e.x,r=e.y,o=t.x,i=t.y,a=n*o+r*i,l=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(o,2)+Math.pow(i,2)));return(n*i-r*o<0?-1:1)*Math.acos(a/l)}function xH(e,t,n,r,o,i,a,l,s,c){var u=Math.abs,d=Math.sin,f=Math.cos,h=Math.sqrt,p=Math.PI,g=u(n),m=u(r),v=(o%360+360)%360*(p/180);if(e===l&&t===s)return{x:e,y:t};if(0===g||0===m)return yH(e,t,l,s,c).point;var y=(e-l)/2,b=(t-s)/2,x={x:f(v)*y+d(v)*b,y:-d(v)*y+f(v)*b},w=Math.pow(x.x,2)/Math.pow(g,2)+Math.pow(x.y,2)/Math.pow(m,2);w>1&&(g*=h(w),m*=h(w));var C=(Math.pow(g,2)*Math.pow(m,2)-Math.pow(g,2)*Math.pow(x.y,2)-Math.pow(m,2)*Math.pow(x.x,2))/(Math.pow(g,2)*Math.pow(x.y,2)+Math.pow(m,2)*Math.pow(x.x,2)),S=(i!==a?1:-1)*h(C=C<0?0:C),E=S*(g*x.y/m),O=S*(-m*x.x/g),k=f(v)*E-d(v)*O+(e+l)/2,M=d(v)*E+f(v)*O+(t+s)/2,$={x:(x.x-E)/g,y:(x.y-O)/m},I=bH({x:1,y:0},$),N=bH($,{x:(-x.x-E)/g,y:(-x.y-O)/m});!a&&N>0?N-=2*p:a&&N<0&&(N+=2*p);var T=I+(N%=2*p)*c,L=g*f(T),R=m*d(T);return{x:f(v)*L-d(v)*R+k,y:d(v)*L+f(v)*R+M}}function wH(e,t,n,r,o,i,a,l,s,c,u){var d,f=u.bbox,h=void 0===f||f,p=u.length,g=void 0===p||p,m=u.sampleSize,v=void 0===m?30:m,y="number"==typeof c,b=e,x=t,w=0,C=[b,x,w],S=[b,x],E={x:0,y:0},O=[{x:b,y:x}];y&&c<=0&&(E={x:b,y:x});for(var k=0;k<=v;k+=1){if(b=(d=xH(e,t,n,r,o,i,a,l,s,k/v)).x,x=d.y,h&&O.push({x:b,y:x}),g&&(w+=vH(S,[b,x])),S=[b,x],y&&w>=c&&c>C[2]){var M=(w-c)/(w-C[2]);E={x:S[0]*(1-M)+C[0]*M,y:S[1]*(1-M)+C[1]*M}}C=[b,x,w]}return y&&c>=w&&(E={x:l,y:s}),{length:w,point:E,min:{x:Math.min.apply(null,O.map(function(e){return e.x})),y:Math.min.apply(null,O.map(function(e){return e.y}))},max:{x:Math.max.apply(null,O.map(function(e){return e.x})),y:Math.max.apply(null,O.map(function(e){return e.y}))}}}function CH(e,t,n,r,o,i,a,l,s){var c=1-s;return{x:Math.pow(c,3)*e+3*Math.pow(c,2)*s*n+3*c*Math.pow(s,2)*o+Math.pow(s,3)*a,y:Math.pow(c,3)*t+3*Math.pow(c,2)*s*r+3*c*Math.pow(s,2)*i+Math.pow(s,3)*l}}function SH(e,t,n,r,o,i,a,l,s,c){var u,d=c.bbox,f=void 0===d||d,h=c.length,p=void 0===h||h,g=c.sampleSize,m=void 0===g?10:g,v="number"==typeof s,y=e,b=t,x=0,w=[y,b,x],C=[y,b],S={x:0,y:0},E=[{x:y,y:b}];v&&s<=0&&(S={x:y,y:b});for(var O=0;O<=m;O+=1){if(y=(u=CH(e,t,n,r,o,i,a,l,O/m)).x,b=u.y,f&&E.push({x:y,y:b}),p&&(x+=vH(C,[y,b])),C=[y,b],v&&x>=s&&s>w[2]){var k=(x-s)/(x-w[2]);S={x:C[0]*(1-k)+w[0]*k,y:C[1]*(1-k)+w[1]*k}}w=[y,b,x]}return v&&s>=x&&(S={x:a,y:l}),{length:x,point:S,min:{x:Math.min.apply(null,E.map(function(e){return e.x})),y:Math.min.apply(null,E.map(function(e){return e.y}))},max:{x:Math.max.apply(null,E.map(function(e){return e.x})),y:Math.max.apply(null,E.map(function(e){return e.y}))}}}function EH(e,t,n,r,o,i,a){var l=1-a;return{x:Math.pow(l,2)*e+2*l*a*n+Math.pow(a,2)*o,y:Math.pow(l,2)*t+2*l*a*r+Math.pow(a,2)*i}}function OH(e,t,n,r,o,i,a,l){var s,c=l.bbox,u=void 0===c||c,d=l.length,f=void 0===d||d,h=l.sampleSize,p=void 0===h?10:h,g="number"==typeof a,m=e,v=t,y=0,b=[m,v,y],x=[m,v],w={x:0,y:0},C=[{x:m,y:v}];g&&a<=0&&(w={x:m,y:v});for(var S=0;S<=p;S+=1){if(m=(s=EH(e,t,n,r,o,i,S/p)).x,v=s.y,u&&C.push({x:m,y:v}),f&&(y+=vH(x,[m,v])),x=[m,v],g&&y>=a&&a>b[2]){var E=(y-a)/(y-b[2]);w={x:x[0]*(1-E)+b[0]*E,y:x[1]*(1-E)+b[1]*E}}b=[m,v,y]}return g&&a>=y&&(w={x:o,y:i}),{length:y,point:w,min:{x:Math.min.apply(null,C.map(function(e){return e.x})),y:Math.min.apply(null,C.map(function(e){return e.y}))},max:{x:Math.max.apply(null,C.map(function(e){return e.x})),y:Math.max.apply(null,C.map(function(e){return e.y}))}}}function kH(e,t,n){for(var r,o,i,a,l,s,c,u,d,f=uH(e),h="number"==typeof t,p=[],g=0,m=0,v=0,y=0,b=[],x=[],w=0,C={x:0,y:0},S=C,E=C,O=C,k=0,M=0,$=f.length;M<$;M+=1)p=(c="M"===(u=(d=f[M])[0]))?p:[g,m].concat(d.slice(1)),c?(S=C={x:v=d[1],y:y=d[2]},w=0,h&&t<.001&&(O=C)):"L"===u?(w=(r=yH(p[0],p[1],p[2],p[3],(t||0)-k)).length,C=r.min,S=r.max,E=r.point):"A"===u?(w=(o=wH(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],(t||0)-k,n||{})).length,C=o.min,S=o.max,E=o.point):"C"===u?(w=(i=SH(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],(t||0)-k,n||{})).length,C=i.min,S=i.max,E=i.point):"Q"===u?(w=(a=OH(p[0],p[1],p[2],p[3],p[4],p[5],(t||0)-k,n||{})).length,C=a.min,S=a.max,E=a.point):"Z"===u&&(w=(l=yH((p=[g,m,v,y])[0],p[1],p[2],p[3],(t||0)-k)).length,C=l.min,S=l.max,E=l.point),h&&k<t&&k+w>=t&&(O=E),x.push(S),b.push(C),k+=w,g=(s="Z"!==u?d.slice(-2):[v,y])[0],m=s[1];return h&&t>=k&&(O={x:g,y:m}),{length:k,point:O,min:{x:Math.min.apply(null,b.map(function(e){return e.x})),y:Math.min.apply(null,b.map(function(e){return e.y}))},max:{x:Math.max.apply(null,x.map(function(e){return e.x})),y:Math.max.apply(null,x.map(function(e){return e.y}))}}}function MH(e){return t=0,n=0,r=0,mH(e).map(function(e){var o;if("M"===e[0])return t=e[1],n=e[2],0;var i=e.slice(1),a=i[0],l=i[1],s=i[2],c=i[3],u=i[4],d=i[5];return r=function(e,t,n,r,o,i,a,l){return 3*((l-t)*(n+o)-(a-e)*(r+i)+r*(e-o)-n*(t-i)+l*(o+e/3)-a*(i+t/3))/20}(t,n,a,l,s,c,u,d),o=e.slice(-2),t=o[0],n=o[1],r}).reduce(function(e,t){return e+t},0)>=0;var t,n,r}function $H(e){return e.map(function(e,t,n){var r,o=t&&n[t-1].slice(-2).concat(e.slice(1)),i=t?SH(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],{bbox:!1}).length:0;return r=t?i?function(e,t){void 0===t&&(t=.5);var n=e.slice(0,2),r=e.slice(2,4),o=e.slice(4,6),i=e.slice(6,8),a=hH(n,r,t),l=hH(r,o,t),s=hH(o,i,t),c=hH(a,l,t),u=hH(l,s,t),d=hH(c,u,t);return[["C"].concat(a,c,d),["C"].concat(u,s,i)]}(o):[e,e]:[e],{s:e,ss:r,l:i}})}function IH(e,t,n,r){if(void 0===r&&(r=0),r>50)return[e,t];var o=$H(e),i=$H(t),a=o.length,l=i.length,s=o.filter(function(e){return e.l}).length,c=i.filter(function(e){return e.l}).length,u=o.filter(function(e){return e.l}).reduce(function(e,t){return e+t.l},0)/s||0,d=i.filter(function(e){return e.l}).reduce(function(e,t){return e+t.l},0)/c||0,f=n||Math.max(a,l),h=[u,d],p=[f-a,f-l],g=0,m=[o,i].map(function(e,t){return e.l===f?e.map(function(e){return e.s}):e.map(function(e,n){return g=n&&p[t]&&e.l>=h[t],p[t]-=g?1:0,g?e.ss:[e.s]}).flat()});return m[0].length===m[1].length?m:IH(m[0],m[1],f,r+1)}function NH(e){var t=document.createElement("div");t.innerHTML=e;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function TH(){return TH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=qe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},TH.apply(null,arguments)}function LH(e,t,n,r){var o=TH(qe(e.prototype),t,n);return"function"==typeof o?function(e){return o.apply(n,e)}:o}
/*!
 * @antv/g-math
 * @description Geometry util
 * @version 3.0.1
 * @date 5/9/2025, 8:18:51 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function RH(e,t,n,r){var o=e-n,i=t-r;return Math.sqrt(o*o+i*i)}function _H(e,t){var n=Math.min.apply(Math,it(e)),r=Math.min.apply(Math,it(t));return{x:n,y:r,width:Math.max.apply(Math,it(e))-n,height:Math.max.apply(Math,it(t))-r}}function AH(e,t,n,r,o,i){return n*Math.cos(o)*Math.cos(i)-r*Math.sin(o)*Math.sin(i)+e}function PH(e,t,n,r,o,i){return n*Math.sin(o)*Math.cos(i)+r*Math.cos(o)*Math.sin(i)+t}function jH(e,t,n,r,o,i,a){for(var l=function(e,t,n){return Math.atan(-t/e*Math.tan(n))}(n,r,o),s=1/0,c=-1/0,u=[i,a],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var f=l+d;i<a?i<f&&f<a&&u.push(f):a<f&&f<i&&u.push(f)}for(var h=0;h<u.length;h++){var p=AH(e,0,n,r,o,u[h]);p<s&&(s=p),p>c&&(c=p)}for(var g=function(e,t,n){return Math.atan(t/(e*Math.tan(n)))}(n,r,o),m=1/0,v=-1/0,y=[i,a],b=2*-Math.PI;b<=2*Math.PI;b+=Math.PI){var x=g+b;i<a?i<x&&x<a&&y.push(x):a<x&&x<i&&y.push(x)}for(var w=0;w<y.length;w++){var C=PH(0,t,n,r,o,y[w]);C<m&&(m=C),C>v&&(v=C)}return{x:s,y:m,width:c-s,height:v-m}}function BH(e,t,n,r,o,i){var a=-1,l=1/0,s=[n,r],c=20;i&&i>200&&(c=i/10);for(var u=1/c,d=u/10,f=0;f<=c;f++){var h=f*u,p=[o.apply(void 0,it(e.concat([h]))),o.apply(void 0,it(t.concat([h])))],g=RH(s[0],s[1],p[0],p[1]);g<l&&(a=h,l=g)}if(0===a)return{x:e[0],y:t[0]};if(1===a){var m=e.length;return{x:e[m-1],y:t[m-1]}}l=1/0;for(var v=0;v<32&&!(d<1e-4);v++){var y=a-d,b=a+d,x=[o.apply(void 0,it(e.concat([y]))),o.apply(void 0,it(t.concat([y])))],w=RH(s[0],s[1],x[0],x[1]);if(y>=0&&w<l)a=y,l=w;else{var C=[o.apply(void 0,it(e.concat([b]))),o.apply(void 0,it(t.concat([b])))],S=RH(s[0],s[1],C[0],C[1]);b<=1&&S<l?(a=b,l=S):d*=.5}}return{x:o.apply(void 0,it(e.concat([a]))),y:o.apply(void 0,it(t.concat([a])))}}function DH(e,t,n,r){return RH(e,t,n,r)}function zH(e,t,n,r,o){return{x:(1-o)*e+o*n,y:(1-o)*t+o*r}}function HH(e,t,n,r,o,i){var a=[n-e,r-t];if(function(e,t){return e[0]===t[0]&&e[1]===t[1]}(a,[0,0]))return Math.sqrt((o-e)*(o-e)+(i-t)*(i-t));var l=[-a[1],a[0]];!function(e,t){var n=t[0],r=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o}(l,l);var s=[o-e,i-t];return Math.abs(function(e,t){return e[0]*t[0]+e[1]*t[1]}(s,l))}function FH(e,t,n,r,o){var i=1-o;return i*i*i*e+3*t*o*i*i+3*n*o*o*i+r*o*o*o}function WH(e,t,n,r){var o,i,a,l=-3*e+9*t-9*n+3*r,s=6*e-12*t+6*n,c=3*t-3*e,u=[];if(dz(l,0))dz(s,0)||(o=-c/s)>=0&&o<=1&&u.push(o);else{var d=s*s-4*l*c;dz(d,0)?u.push(-s/(2*l)):d>0&&(i=(-s-(a=Math.sqrt(d)))/(2*l),(o=(-s+a)/(2*l))>=0&&o<=1&&u.push(o),i>=0&&i<=1&&u.push(i))}return u}function GH(e,t,n,r,o,i,a,l){for(var s=[e,a],c=[t,l],u=WH(e,n,o,a),d=WH(t,r,i,l),f=0;f<u.length;f++)s.push(FH(e,n,o,a,u[f]));for(var h=0;h<d.length;h++)c.push(FH(t,r,i,l,d[h]));return _H(s,c)}function VH(e,t,n,r,o,i,a,l,s,c,u){var d=function(e,t,n,r,o,i,a,l,s,c,u){return BH([e,n,o,a],[t,r,i,l],s,c,FH,u)}(e,t,n,r,o,i,a,l,s,c,u);return RH(d.x,d.y,s,c)}function qH(e){return function(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],o=e[n+1];t+=RH(r[0],r[1],o[0],o[1])}return t}(e)}function XH(e,t,n,r){var o=1-r;return o*o*e+2*r*o*t+r*r*n}function UH(e,t,n){var r=e+n-2*t;if(dz(r,0))return[.5];var o=(e-t)/r;return o<=1&&o>=0?[o]:[]}function YH(e,t,n,r,o,i){var a=UH(e,n,o)[0],l=UH(t,r,i)[0],s=[e,o],c=[t,i];return void 0!==a&&s.push(XH(e,n,o,a)),void 0!==l&&c.push(XH(t,r,i,l)),_H(s,c)}function KH(e,t,n,r,o,i,a,l){var s=function(e,t,n,r,o,i,a,l){return BH([e,n,o],[t,r,i],a,l,XH)}(e,t,n,r,o,i,a,l);return RH(s.x,s.y,a,l)}
/*!
 * @antv/g-lite
 * @description A core module for rendering engine implements DOM API.
 * @version 2.3.2
 * @date 7/30/2025, 1:34:19 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var ZH={exports:{}};ZH.exports=function(){function e(e,n,o,i,a){t(e,n,o||0,i||e.length-1,a||r)}function t(e,r,o,i,a){for(;i>o;){if(i-o>600){var l=i-o+1,s=r-o+1,c=Math.log(l),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(l-u)/l)*(s-l/2<0?-1:1);t(e,r,Math.max(o,Math.floor(r-s*u/l+d)),Math.min(i,Math.floor(r+(l-s)*u/l+d)),a)}var f=e[r],h=o,p=i;for(n(e,o,r),a(e[i],f)>0&&n(e,o,i);h<p;){for(n(e,h,p),h++,p--;a(e[h],f)<0;)h++;for(;a(e[p],f)>0;)p--}0===a(e[o],f)?n(e,o,p):n(e,++p,i),p<=r&&(o=p+1),r<=p&&(i=p-1)}}function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t){return e<t?-1:e>t?1:0}var o=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function a(e,t){l(e,0,e.children.length,t,e)}function l(e,t,n,r,o){o||(o=v(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=t;i<n;i++){var a=e.children[i];s(o,e.leaf?r(a):a)}return o}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function c(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function p(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),o=Math.min(e.maxX,t.maxX),i=Math.min(e.maxY,t.maxY);return Math.max(0,o-n)*Math.max(0,i-r)}function g(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function m(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function v(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,n,r,o,i){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=o)){var l=n+Math.ceil((r-n)/o/2)*o;e(t,l,n,r,i),a.push(n,l,l,r)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(e){var t=this.data,n=[];if(!m(e,t))return n;for(var r=this.toBBox,o=[];t;){for(var i=0;i<t.children.length;i++){var a=t.children[i],l=t.leaf?r(a):a;m(e,l)&&(t.leaf?n.push(a):g(e,l)?this._all(a,n):o.push(a))}t=o.pop()}return n},o.prototype.collides=function(e){var t=this.data;if(!m(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var o=t.children[r],i=t.leaf?this.toBBox(o):o;if(m(e,i)){if(t.leaf||g(e,i))return!0;n.push(o)}}t=n.pop()}return!1},o.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},o.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},o.prototype.clear=function(){return this.data=v([]),this},o.prototype.remove=function(e,t){if(!e)return this;for(var n,r,o,a=this.data,l=this.toBBox(e),s=[],c=[];a||s.length;){if(a||(a=s.pop(),r=s[s.length-1],n=c.pop(),o=!0),a.leaf){var u=i(e,a.children,t);if(-1!==u)return a.children.splice(u,1),s.push(a),this._condense(s),this}o||a.leaf||!g(a,l)?r?(n++,a=r.children[n],o=!1):a=null:(s.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},o.prototype.toBBox=function(e){return e},o.prototype.compareMinX=function(e,t){return e.minX-t.minX},o.prototype.compareMinY=function(e,t){return e.minY-t.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(e){return this.data=e,this},o.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},o.prototype._build=function(e,t,n,r){var o,i=n-t+1,l=this._maxEntries;if(i<=l)return a(o=v(e.slice(t,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(l)),l=Math.ceil(i/Math.pow(l,r-1))),(o=v([])).leaf=!1,o.height=r;var s=Math.ceil(i/l),c=s*Math.ceil(Math.sqrt(l));y(e,t,n,c,this.compareMinX);for(var u=t;u<=n;u+=c){var d=Math.min(u+c-1,n);y(e,u,d,s,this.compareMinY);for(var f=u;f<=d;f+=s){var h=Math.min(f+s-1,d);o.children.push(this._build(e,f,h,r-1))}}return a(o,this.toBBox),o},o.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var o=1/0,i=1/0,a=void 0,l=0;l<t.children.length;l++){var s=t.children[l],c=d(s),u=h(e,s)-c;u<i?(i=u,o=c<o?c:o,a=s):u===i&&c<o&&(o=c,a=s)}t=a||t.children[0]}return t},o.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),o=[],i=this._chooseSubtree(r,this.data,t,o);for(i.children.push(e),s(i,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)},o.prototype._split=function(e,t){var n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var i=this._chooseSplitIndex(n,o,r),l=v(n.children.splice(i,n.children.length-i));l.height=n.height,l.leaf=n.leaf,a(n,this.toBBox),a(l,this.toBBox),t?e[t-1].children.push(l):this._splitRoot(n,l)},o.prototype._splitRoot=function(e,t){this.data=v([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(e,t,n){for(var r,o=1/0,i=1/0,a=t;a<=n-t;a++){var s=l(e,0,a,this.toBBox),c=l(e,a,n,this.toBBox),u=p(s,c),f=d(s)+d(c);u<o?(o=u,r=a,i=f<i?f:i):u===o&&f<i&&(i=f,r=a)}return r||n-t},o.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:c,o=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)},o.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var o=this.toBBox,i=l(e,0,t,o),a=l(e,n-t,n,o),c=f(i)+f(a),u=t;u<n-t;u++){var d=e.children[u];s(i,e.leaf?o(d):d),c+=f(i)}for(var h=n-t-1;h>=t;h--){var p=e.children[h];s(a,e.leaf?o(p):p),c+=f(a)}return c},o.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},o.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():a(e[t],this.toBBox)},o}();var QH=ZH.exports,JH=function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e}({}),eF=function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e}({}),tF=function(){return We(function e(){He(this,e),this.plugins=[]},[{key:"addRenderingPlugin",value:function(e){this.plugins.push(e),this.context.renderingPlugins.push(e)}},{key:"removeAllRenderingPlugins",value:function(){var e=this;this.plugins.forEach(function(t){var n=e.context.renderingPlugins.indexOf(t);n>=0&&e.context.renderingPlugins.splice(n,1)})}}])}(),nF=function(){return We(function e(t){He(this,e),this.clipSpaceNearZ=eF.NEGATIVE_ONE,this.plugins=[],this.config=EB({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},t)},[{key:"registerPlugin",value:function(e){-1===this.plugins.findIndex(function(t){return t===e})&&this.plugins.push(e)}},{key:"unregisterPlugin",value:function(e){var t=this.plugins.findIndex(function(t){return t===e});t>-1&&this.plugins.splice(t,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(e){return this.plugins.find(function(t){return t.name===e})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(e){Object.assign(this.config,e)}}])}(),rF=xD,oF=yD,iF=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},aF=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},lF=CD,sF=ND,cF=function(){function e(){He(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return We(e,[{key:"update",value:function(e,t){oF(this.center,e),oF(this.halfExtents,t),sF(this.min,this.center,this.halfExtents),rF(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){rF(this.center,t,e),lF(this.center,this.center,.5),sF(this.halfExtents,t,e),lF(this.halfExtents,this.halfExtents,.5),oF(this.min,e),oF(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(t){if(!e.isEmpty(t))if(e.isEmpty(this))this.setMinMax(t.getMin(),t.getMax());else{var n=this.center,r=n[0],o=n[1],i=n[2],a=this.halfExtents,l=a[0],s=a[1],c=a[2],u=r-l,d=r+l,f=o-s,h=o+s,p=i-c,g=i+c,m=t.center,v=m[0],y=m[1],b=m[2],x=t.halfExtents,w=x[0],C=x[1],S=x[2],E=v-w,O=v+w,k=y-C,M=y+C,$=b-S,I=b+S;E<u&&(u=E),O>d&&(d=O),k<f&&(f=k),M>h&&(h=M),$<p&&(p=$),I>g&&(g=I),n[0]=.5*(u+d),n[1]=.5*(f+h),n[2]=.5*(p+g),a[0]=.5*(d-u),a[1]=.5*(h-f),a[2]=.5*(g-p),this.min[0]=u,this.min[1]=f,this.min[2]=p,this.max[0]=d,this.max[1]=h,this.max[2]=g}}},{key:"setFromTransformedAABB",value:function(e,t){var n=this.center,r=this.halfExtents,o=e.center,i=e.halfExtents,a=t[0],l=t[4],s=t[8],c=t[1],u=t[5],d=t[9],f=t[2],h=t[6],p=t[10],g=Math.abs(a),m=Math.abs(l),v=Math.abs(s),y=Math.abs(c),b=Math.abs(u),x=Math.abs(d),w=Math.abs(f),C=Math.abs(h),S=Math.abs(p);n[0]=t[12]+a*o[0]+l*o[1]+s*o[2],n[1]=t[13]+c*o[0]+u*o[1]+d*o[2],n[2]=t[14]+f*o[0]+h*o[1]+p*o[2],r[0]=g*i[0]+m*i[1]+v*i[2],r[1]=y*i[0]+b*i[1]+x*i[2],r[2]=w*i[0]+C*i[1]+S*i[2],sF(this.min,n,r),rF(this.max,n,r)}},{key:"intersects",value:function(e){var t=this.getMax(),n=this.getMin(),r=e.getMax(),o=e.getMin();return n[0]<=r[0]&&t[0]>=o[0]&&n[1]<=r[1]&&t[1]>=o[1]&&n[2]<=r[2]&&t[2]>=o[2]}},{key:"intersection",value:function(t){if(!this.intersects(t))return null;var n=new e,r=iF([0,0,0],this.getMin(),t.getMin()),o=aF([0,0,0],this.getMax(),t.getMax());return n.setMinMax(r,o),n}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?oF([0,0,0],this.min):272===e.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:257===e.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:256===e.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:17===e.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:16===e.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:1===e.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?oF([0,0,0],this.max):272===e.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:257===e.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:256===e.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:17===e.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:16===e.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:1===e.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(e){return!e||0===e.halfExtents[0]&&0===e.halfExtents[1]&&0===e.halfExtents[2]}}])}(),uF=function(){return We(function e(t,n){He(this,e),this.distance=t||0,this.normal=n||vD(0,1,0),this.updatePNVertexFlag()},[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return ED(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/LD(this.normal);CD(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,n){var r=this.distanceToPoint(e),o=r/(r-this.distanceToPoint(t)),i=o>=0&&o<=1;return i&&n&&kD(n,e,t,o),i}}])}(),dF=function(e){return e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE",e}({}),fF=function(){return We(function e(t){if(He(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new uF)},[{key:"extractFromVPMatrix",value:function(e){var t=pt(e,16),n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],l=t[5],s=t[6],c=t[7],u=t[8],d=t[9],f=t[10],h=t[11],p=t[12],g=t[13],m=t[14],v=t[15];bD(this.planes[0].normal,i-n,c-a,h-u),this.planes[0].distance=v-p,bD(this.planes[1].normal,i+n,c+a,h+u),this.planes[1].distance=v+p,bD(this.planes[2].normal,i+r,c+l,h+d),this.planes[2].distance=v+g,bD(this.planes[3].normal,i-r,c-l,h-d),this.planes[3].distance=v-g,bD(this.planes[4].normal,i-o,c-s,h-f),this.planes[4].distance=v-m,bD(this.planes[5].normal,i+o,c+s,h+f),this.planes[5].distance=v+m,this.planes.forEach(function(e){e.normalize(),e.updatePNVertexFlag()})}}])}(),hF=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;He(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return We(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(e){this.x=e.x,this.y=e.y}}])}(),pF=function(){function e(t,n,r,o){He(this,e),this.x=t,this.y=n,this.width=r,this.height=o,this.left=t,this.right=t+r,this.top=n,this.bottom=n+o}return We(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(t){return new e(t.x,t.y,t.width,t.height)}},{key:"applyTransform",value:function(t,n){var r=_D(t.x,t.y,0,1),o=_D(t.x+t.width,t.y,0,1),i=_D(t.x,t.y+t.height,0,1),a=_D(t.x+t.width,t.y+t.height,0,1),l=RD(),s=RD(),c=RD(),u=RD();AD(l,r,n),AD(s,o,n),AD(c,i,n),AD(u,a,n);var d=Math.min(l[0],s[0],c[0],u[0]),f=Math.min(l[1],s[1],c[1],u[1]),h=Math.max(l[0],s[0],c[0],u[0]),p=Math.max(l[1],s[1],c[1],u[1]);return e.fromRect({x:d,y:f,width:h-d,height:p-f})}}])}(),gF="Method not implemented.",mF="Use document.documentElement instead.";function vF(e){return void 0===e?0:e>360||e<-360?e%360:e}var yF=pD();function bF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Array.isArray(e)&&3===e.length?r?gD(e):yD(yF,e):uz(e)?r?vD(e,t,n):bD(yF,e,t,n):r?vD(e[0],e[1]||t,e[2]||n):bD(yF,e[0],e[1]||t,e[2]||n)}var xF=Math.PI/180;function wF(e){return e*xF}var CF=180/Math.PI;function SF(e){return e*CF}var EF=Math.PI/2;function OF(e,t){return 16===t.length?function(e,t){var n,r,o=pt(JB(pD(),t),3),i=o[0],a=o[1],l=o[2],s=Math.asin(-t[2]/i);return s<EF?s>-EF?(n=Math.atan2(t[6]/a,t[10]/l),r=Math.atan2(t[1]/i,t[0]/i)):(r=0,n=-Math.atan2(t[4]/a,t[5]/a)):(r=0,n=Math.atan2(t[4]/a,t[5]/a)),e[0]=n,e[1]=s,e[2]=r,e}(e,t):function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=r*r,l=o*o,s=i*i,c=n*n+a+l+s,u=n*i-r*o;return u>.499995*c?(e[0]=EF,e[1]=2*Math.atan2(r,n),e[2]=0):u<-.499995*c?(e[0]=-EF,e[1]=2*Math.atan2(r,n),e[2]=0):(e[0]=Math.asin(2*(n*o-i*r)),e[1]=Math.atan2(2*(n*i+r*o),1-2*(l+s)),e[2]=Math.atan2(2*(n*r+o*i),1-2*(a+l))),e}(e,t)}function kF(e,t,n,r,o){var i,a,l,s,c,u,d,f,h,p,g=Math.cos(e),m=Math.sin(e);return i=r*g,a=o*m,l=0,s=-r*m,c=o*g,u=0,d=t,f=n,h=1,(p=new $B(9))[0]=i,p[1]=a,p[2]=l,p[3]=s,p[4]=c,p[5]=u,p[6]=d,p[7]=f,p[8]=h,p}function MF(e){var t=e[0],n=e[1],r=e[3],o=e[4],i=Math.sqrt(t*t+n*n),a=Math.sqrt(r*r+o*o);if(t*o-n*r<0&&(t<o?i=-i:a=-a),i){var l=1/i;t*=l,n*=l}if(a){var s=1/a;r*=s,o*=s}var c=SF(Math.atan2(n,t));return[e[6],e[7],i,a,c]}var $F=TB(),IF=TB(),NF=RD(),TF=[pD(),pD(),pD()],LF=pD();function RF(e,t,n,r,o){e[0]=t[0]*r+n[0]*o,e[1]=t[1]*r+n[1]*o,e[2]=t[2]*r+n[2]*o}var _F=function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e}({}),AF=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e}({}),PF=function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e}({}),jF="updated",BF=2e-4,DF=function(){return We(function e(){He(this,e),this.clipSpaceNearZ=eF.NEGATIVE_ONE,this.eventEmitter=new kB,this.matrix=TB(),this.right=vD(1,0,0),this.up=vD(0,1,0),this.forward=vD(0,0,1),this.position=vD(0,0,1),this.focalPoint=vD(0,0,0),this.distanceVector=vD(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=TB(),this.projectionMatrixInverse=TB(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=_F.EXPLORING,this.trackingMode=AF.DEFAULT,this.projectionMode=PF.PERSPECTIVE,this.frustum=new fF,this.orthoMatrix=TB()},[{key:"isOrtho",value:function(){return this.projectionMode===PF.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(e){this.enableUpdate=e}},{key:"setType",value:function(e,t){return this.type=e,this.type===_F.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===_F.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==_F.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){return this.rotateWorld=e,this._getAngles(),this}},{key:"getViewTransform",value:function(){return BB(TB(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(e,t){var n=VB(TB(),[e,t,0]);this.jitteredProjectionMatrix=zB(TB(),n,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setProjectionMatrix",value:function(e){this.projectionMatrix=e}},{key:"setFov",value:function(e){return this.setPerspective(this.near,this.far,e,this.aspect),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setNear",value:function(e){return this.projectionMode===PF.PERSPECTIVE?this.setPerspective(e,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,e,this.far),this}},{key:"setFar",value:function(e){return this.projectionMode===PF.PERSPECTIVE?this.setPerspective(this.near,e,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,e),this}},{key:"setViewOffset",value:function(e,t,n,r,o,i){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=i,this.projectionMode===PF.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===PF.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(e){return this.zoom=e,this.projectionMode===PF.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===PF.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(e,t){var n=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),r=n.x,o=n.y,i=this.roll;this.rotate(0,0,-i),this.setPosition(r,o),this.setFocalPoint(r,o),this.setZoom(e),this.rotate(0,0,i);var a=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),l=vD(a.x-r,a.y-o,0),s=ED(l,this.right)/mD(this.right),c=ED(l,this.up)/mD(this.up),u=pt(this.getPosition(),2),d=u[0],f=u[1],h=pt(this.getFocalPoint(),2),p=h[0],g=h[1];return this.setPosition(d-s,f-c),this.setFocalPoint(p-s,g-c),this}},{key:"setPerspective",value:function(e,t,n,r){var o;this.projectionMode=PF.PERSPECTIVE,this.fov=n,this.near=e,this.far=t,this.aspect=r;var i=this.near*Math.tan(wF(.5*this.fov))/this.zoom,a=2*i,l=this.aspect*a,s=-.5*l;if(null!==(o=this.view)&&void 0!==o&&o.enabled){var c=this.view.fullWidth,u=this.view.fullHeight;s+=this.view.offsetX*l/c,i-=this.view.offsetY*a/u,l*=this.view.width/c,a*=this.view.height/u}return function(e,t,n,r,o,i,a){var l,s,c=2*i,u=n-t,d=r-o,f=c/u,h=c/d,p=(n+t)/u,g=(r+o)/d,m=a-i,v=a*i;arguments.length>7&&void 0!==arguments[7]&&arguments[7]?(l=-a/m,s=-v/m):(l=-(a+i)/m,s=-2*v/m),e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=p,e[9]=g,e[10]=l,e[11]=-1,e[12]=0,e[13]=0,e[14]=s,e[15]=0}(this.projectionMatrix,s,s+l,i-a,i,e,this.far,this.clipSpaceNearZ===eF.ZERO),BB(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(e,t,n,r,o,i){var a;this.projectionMode=PF.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=n,this.bottom=r,this.near=o,this.far=i;var l=(this.rright-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),c=(this.rright+this.left)/2,u=(this.top+this.bottom)/2,d=c-l,f=c+l,h=u+s,p=u-s;if(null!==(a=this.view)&&void 0!==a&&a.enabled){var g=(this.rright-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;f=(d+=g*this.view.offsetX)+g*this.view.width,p=(h-=m*this.view.offsetY)-m*this.view.height}return this.clipSpaceNearZ===eF.NEGATIVE_ONE?aD(this.projectionMatrix,d,f,h,p,o,i):lD(this.projectionMatrix,d,f,h,p,o,i),BB(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(e){var t=bF(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.position[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.position[2]);return this._setPosition(t),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.focalPoint[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.focalPoint[2],r=vD(0,1,0);if(this.focalPoint=bF(e,t,n),this.trackingMode===AF.CINEMATIC){var o=wD(pD(),this.focalPoint,this.position);e=o[0],t=o[1],n=o[2];var i=mD(o),a=SF(Math.asin(t/i)),l=90+SF(Math.atan2(n,e)),s=TB();GB(s,s,wF(l)),WB(s,s,wF(a)),r=MD(pD(),[0,1,0],s)}return BB(this.matrix,sD(TB(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(e){if(this.distance===e||e<0)return this;this.distance=e,this.distance<BF&&(this.distance=BF),this.dollyingStep=this.distance/100;var t=pD();e=this.distance;var n=this.forward,r=this.focalPoint;return t[0]=e*n[0]+r[0],t[1]=e*n[1]+r[1],t[2]=e*n[2]+r[2],this._setPosition(t),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"setAzimuth",value:function(e){return this.azimuth=vF(e),this.computeMatrix(),this._getAxes(),this.type===_F.ORBITING||this.type===_F.EXPLORING?this._getPosition():this.type===_F.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=vF(e),this.computeMatrix(),this._getAxes(),this.type===_F.ORBITING||this.type===_F.EXPLORING?this._getPosition():this.type===_F.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(e){return this.roll=vF(e),this.computeMatrix(),this._getAxes(),this.type===_F.ORBITING||this.type===_F.EXPLORING?this._getPosition():this.type===_F.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var e=jD(PD(),[0,0,1],wF(this.roll));PB(this.matrix);var t=jD(PD(),[1,0,0],wF((this.rotateWorld&&this.type!==_F.TRACKING||this.type===_F.TRACKING?1:-1)*this.elevation)),n=jD(PD(),[0,1,0],wF((this.rotateWorld&&this.type!==_F.TRACKING||this.type===_F.TRACKING?1:-1)*this.azimuth)),r=BD(PD(),n,t);r=BD(PD(),r,e);var o=nD(TB(),r);this.type===_F.ORBITING||this.type===_F.EXPLORING?(HB(this.matrix,this.matrix,this.focalPoint),zB(this.matrix,this.matrix,o),HB(this.matrix,this.matrix,[0,0,this.distance])):this.type===_F.TRACKING&&(HB(this.matrix,this.matrix,this.position),zB(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(e,t,n){this.position=bF(e,t,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){yD(this.right,bF(AD(RD(),[1,0,0,0],this.matrix))),yD(this.up,bF(AD(RD(),[0,1,0,0],this.matrix))),yD(this.forward,bF(AD(RD(),[0,0,1,0],this.matrix))),SD(this.right,this.right),SD(this.up,this.up),SD(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],n=this.distanceVector[2],r=mD(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===_F.TRACKING||this.rotateWorld?(this.elevation=SF(Math.asin(t/r)),this.azimuth=SF(Math.atan2(-e,-n))):(this.elevation=-SF(Math.asin(t/r)),this.azimuth=-SF(Math.atan2(-e,-n)))}},{key:"_getPosition",value:function(){yD(this.position,bF(AD(RD(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){var e,t;$D(this.distanceVector,[0,0,-this.distance],(e=IB(),t=this.matrix,e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e)),xD(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=wD(pD(),this.focalPoint,this.position),this.distance=mD(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===PF.ORTHOGRAPHIC){var e=this.position,t=jD(PD(),[0,0,1],-this.roll*Math.PI/180);tD(this.orthoMatrix,t,vD((this.rright-this.left)/2-e[0],(this.top-this.bottom)/2-e[1],0),vD(this.zoom,this.zoom,1),e)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var e=this.getViewTransform(),t=zB(TB(),this.getPerspective(),e);this.getFrustum().extractFromVPMatrix(t),this.eventEmitter.emit(jF)}}},{key:"rotate",value:function(e,t,n){throw new Error(gF)}},{key:"pan",value:function(e,t){throw new Error(gF)}},{key:"dolly",value:function(e){throw new Error(gF)}},{key:"createLandmark",value:function(e,t){throw new Error(gF)}},{key:"gotoLandmark",value:function(e,t){throw new Error(gF)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(gF)}}])}(),zF=function(e){return e[e.Standard=0]="Standard",e}({}),HF=function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e}({}),FF=pD(),WF=TB(),GF=PD();function VF(e){if(e.localDirtyFlag){if(0!==e.localSkew[0]||0!==e.localSkew[1]){tD(e.localTransform,e.localRotation,e.localPosition,vD(1,1,1),e.origin),0===e.localSkew[0]&&0===e.localSkew[1]||(PB(WF),WF[4]=Math.tan(e.localSkew[0]),WF[1]=Math.tan(e.localSkew[1]),zB(e.localTransform,e.localTransform,WF));var t=tD(WF,WD(GF,0,0,0,1),bD(FF,1,1,1),e.localScale,e.origin);zB(e.localTransform,e.localTransform,t)}else{var n=e.localTransform,r=e.localPosition,o=e.localRotation,i=e.localScale,a=e.origin,l=0!==r[0]||0!==r[1]||0!==r[2],s=1!==o[3]||0!==o[0]||0!==o[1]||0!==o[2],c=1!==i[0]||1!==i[1]||1!==i[2],u=0!==a[0]||0!==a[1]||0!==a[2];s||c||u?tD(n,o,r,i,a):l?VB(n,r):PB(n)}e.localDirtyFlag=!1}}var qF={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new pF(0,0,0,0)},XF=function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e}({});function UF(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function YF(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function KF(){}var ZF=.7,QF=1/ZF,JF="\\s*([+-]?\\d+)\\s*",eW="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tW="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nW=/^#([0-9a-f]{3,8})$/,rW=new RegExp(`^rgb\\(${JF},${JF},${JF}\\)$`),oW=new RegExp(`^rgb\\(${tW},${tW},${tW}\\)$`),iW=new RegExp(`^rgba\\(${JF},${JF},${JF},${eW}\\)$`),aW=new RegExp(`^rgba\\(${tW},${tW},${tW},${eW}\\)$`),lW=new RegExp(`^hsl\\(${eW},${tW},${tW}\\)$`),sW=new RegExp(`^hsla\\(${eW},${tW},${tW},${eW}\\)$`),cW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function uW(){return this.rgb().formatHex()}function dW(){return this.rgb().formatRgb()}function fW(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nW.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?hW(t):3===n?new gW(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?pW(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?pW(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=rW.exec(e))?new gW(t[1],t[2],t[3],1):(t=oW.exec(e))?new gW(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=iW.exec(e))?pW(t[1],t[2],t[3],t[4]):(t=aW.exec(e))?pW(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=lW.exec(e))?wW(t[1],t[2]/100,t[3]/100,1):(t=sW.exec(e))?wW(t[1],t[2]/100,t[3]/100,t[4]):cW.hasOwnProperty(e)?hW(cW[e]):"transparent"===e?new gW(NaN,NaN,NaN,0):null}function hW(e){return new gW(e>>16&255,e>>8&255,255&e,1)}function pW(e,t,n,r){return r<=0&&(e=t=n=NaN),new gW(e,t,n,r)}function gW(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function mW(){return`#${xW(this.r)}${xW(this.g)}${xW(this.b)}`}function vW(){const e=yW(this.opacity);return`${1===e?"rgb(":"rgba("}${bW(this.r)}, ${bW(this.g)}, ${bW(this.b)}${1===e?")":`, ${e})`}`}function yW(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bW(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xW(e){return((e=bW(e))<16?"0":"")+e.toString(16)}function wW(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new SW(e,t,n,r)}function CW(e){if(e instanceof SW)return new SW(e.h,e.s,e.l,e.opacity);if(e instanceof KF||(e=fW(e)),!e)return new SW;if(e instanceof SW)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new SW(a,l,s,e.opacity)}function SW(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function EW(e){return(e=(e||0)%360)<0?e+360:e}function OW(e){return Math.max(0,Math.min(1,e||0))}function kW(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function MW(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=t?t.apply(this,o):o[0],l=n.cache;if(l.has(a))return l.get(a);var s=e.apply(this,o);return n.cache=l.set(a,s)||l,s};return n.cache=new(MW.Cache||Map),MW.cacheList.push(n.cache),n}UF(KF,fW,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uW,formatHex:uW,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return CW(this).formatHsl()},formatRgb:dW,toString:dW}),UF(gW,function(e,t,n,r){return 1===arguments.length?((o=e)instanceof KF||(o=fW(o)),o?new gW((o=o.rgb()).r,o.g,o.b,o.opacity):new gW):new gW(e,t,n,null==r?1:r);var o},YF(KF,{brighter(e){return e=null==e?QF:Math.pow(QF,e),new gW(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ZF:Math.pow(ZF,e),new gW(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gW(bW(this.r),bW(this.g),bW(this.b),yW(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mW,formatHex:mW,formatHex8:function(){return`#${xW(this.r)}${xW(this.g)}${xW(this.b)}${xW(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:vW,toString:vW})),UF(SW,function(e,t,n,r){return 1===arguments.length?CW(e):new SW(e,t,n,null==r?1:r)},YF(KF,{brighter(e){return e=null==e?QF:Math.pow(QF,e),new SW(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ZF:Math.pow(ZF,e),new SW(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new gW(kW(e>=240?e-240:e+120,o,r),kW(e,o,r),kW(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new SW(EW(this.h),OW(this.s),OW(this.l),yW(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yW(this.opacity);return`${1===e?"hsl(":"hsla("}${EW(this.h)}, ${100*OW(this.s)}%, ${100*OW(this.l)}%${1===e?")":`, ${e})`}`}})),MW.Cache=Map,MW.cacheList=[],MW.clearCache=function(){MW.cacheList.forEach(function(e){return e.clear()})};var $W=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e}({}),IW=function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e}({}),NW=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),TW=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),LW=[{name:"em",unit_type:$W.kEms},{name:"px",unit_type:$W.kPixels},{name:"deg",unit_type:$W.kDegrees},{name:"rad",unit_type:$W.kRadians},{name:"grad",unit_type:$W.kGradians},{name:"ms",unit_type:$W.kMilliseconds},{name:"s",unit_type:$W.kSeconds},{name:"rem",unit_type:$W.kRems},{name:"turn",unit_type:$W.kTurns}],RW=function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e}({}),_W=function(e){return e?"number"===e?$W.kNumber:"percent"===e||"%"===e?$W.kPercentage:function(e){return LW.find(function(t){return t.name===e}).unit_type}(e):$W.kUnknown},AW=function(e){var t=1;switch(e){case $W.kPixels:case $W.kDegrees:case $W.kSeconds:break;case $W.kMilliseconds:t=.001;break;case $W.kRadians:t=180/Math.PI;break;case $W.kGradians:t=.9;break;case $W.kTurns:t=360}return t},PW=function(e){switch(e){case $W.kNumber:case $W.kInteger:return"";case $W.kPercentage:return"%";case $W.kEms:return"em";case $W.kRems:return"rem";case $W.kPixels:return"px";case $W.kDegrees:return"deg";case $W.kRadians:return"rad";case $W.kGradians:return"grad";case $W.kMilliseconds:return"ms";case $W.kSeconds:return"s";case $W.kTurns:return"turn"}return""},jW=function(){return We(function e(){He(this,e)},[{key:"toString",value:function(){return this.buildCSSText(NW.kNo,TW.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=RW.kUnitType&&this.getType()<=RW.kClampType}}],[{key:"isAngle",value:function(e){return e===$W.kDegrees||e===$W.kRadians||e===$W.kGradians||e===$W.kTurns}},{key:"isLength",value:function(e){return e>=$W.kEms&&e<$W.kDegrees}},{key:"isRelativeUnit",value:function(e){return e===$W.kPercentage||e===$W.kEms||e===$W.kRems}},{key:"isTime",value:function(e){return e===$W.kSeconds||e===$W.kMilliseconds}}])}(),BW=function(){function e(t){var n;return He(this,e),(n=yl(this,e)).colorSpace=t,n}return Ve(e,jW),We(e,[{key:"getType",value:function(){return RW.kColorType}},{key:"to",value:function(e){return this}}])}(),DW=function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e}({}),zW=function(){function e(t,n){var r;return He(this,e),(r=yl(this,e)).type=t,r.value=n,r}return Ve(e,jW),We(e,[{key:"clone",value:function(){return new e(this.type,this.value)}},{key:"buildCSSText",value:function(e,t,n){return n}},{key:"getType",value:function(){return RW.kColorType}}])}(),HW=function(){function e(t){var n;return He(this,e),(n=yl(this,e)).value=t,n}return Ve(e,jW),We(e,[{key:"clone",value:function(){return new e(this.value)}},{key:"getType",value:function(){return RW.kKeywordType}},{key:"buildCSSText",value:function(e,t,n){return n+this.value}}])}(),FW=function(e){return function(e){switch(e){case IW.kUNumber:return $W.kNumber;case IW.kULength:return $W.kPixels;case IW.kUPercent:return $W.kPercentage;case IW.kUTime:return $W.kSeconds;case IW.kUAngle:return $W.kDegrees;default:return $W.kUnknown}}(function(e){switch(e){case $W.kNumber:case $W.kInteger:return IW.kUNumber;case $W.kPercentage:return IW.kUPercent;case $W.kPixels:return IW.kULength;case $W.kMilliseconds:case $W.kSeconds:return IW.kUTime;case $W.kDegrees:case $W.kRadians:case $W.kGradians:case $W.kTurns:return IW.kUAngle;default:return IW.kUOther}}(e))},WW=function(){function e(t){var n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$W.kNumber;return He(this,e),n=yl(this,e),r="string"==typeof o?_W(o):o,n.unit=r,n.value=t,n}return Ve(e,jW),We(e,[{key:"clone",value:function(){return new e(this.value,this.unit)}},{key:"equals",value:function(e){var t=e;return this.value===t.value&&this.unit===t.unit}},{key:"getType",value:function(){return RW.kUnitType}},{key:"convertTo",value:function(t){if(this.unit===t)return new e(this.value,this.unit);var n=FW(this.unit);if(n!==FW(t)||n===$W.kUnknown)return null;var r=AW(this.unit)/AW(t);return new e(this.value*r,t)}},{key:"buildCSSText",value:function(e,t,n){var r;switch(this.unit){case $W.kUnknown:break;case $W.kInteger:r=Number(this.value).toFixed(0);break;case $W.kNumber:case $W.kPercentage:case $W.kEms:case $W.kRems:case $W.kPixels:case $W.kDegrees:case $W.kRadians:case $W.kGradians:case $W.kMilliseconds:case $W.kSeconds:case $W.kTurns:var o=this.value,i=PW(this.unit);if(o<-999999||o>999999){var a=PW(this.unit);r=!Number.isFinite(o)||Number.isNaN(o)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(Number.isFinite(e)?"NaN":e>0?"infinity":"-infinity")+t}(o,a):o+(a||"")}else r="".concat(o).concat(i)}return n+=r}}])}(),GW=new WW(0,"px");new WW(1,"px");var VW=new WW(0,"deg"),qW=function(){function e(t,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return He(this,e),(o=yl(this,e,["rgb"])).r=t,o.g=n,o.b=r,o.alpha=i,o.isNone=a,o}return Ve(e,BW),We(e,[{key:"clone",value:function(){return new e(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(e,t,n){return"".concat(n,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(),XW=new HW("unset"),UW={"":XW,unset:XW,initial:new HW("initial"),inherit:new HW("inherit")},YW=new qW(0,0,0,0,!0),KW=new qW(0,0,0,0),ZW=MW(function(e,t,n,r){return new qW(e,t,n,r)},function(e,t,n,r){return"rgba(".concat(e,",").concat(t,",").concat(n,",").concat(r,")")}),QW=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$W.kNumber;return new WW(e,t)};function JW(e){var t=e.type,n=e.value;return"hex"===t?"#".concat(n):"literal"===t?n:"rgb"===t?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}new WW(50,"%");var eG=function(){var e=/^(linear\-gradient)/i,t=/^(repeating\-linear\-gradient)/i,n=/^(radial\-gradient)/i,r=/^(repeating\-radial\-gradient)/i,o=/^(conic\-gradient)/i,i=/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,a=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,l=/^(left|center|right|top|bottom)/i,s=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,u=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,d=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,f=/^\(/,h=/^\)/,p=/^,/,g=/^\#([0-9a-fA-F]+)/,m=/^([a-zA-Z]+)/,v=/^rgb/i,y=/^rgba/i,b=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,x="";function w(e){throw new Error("".concat(x,": ").concat(e))}function C(){var e=L(S);return x.length>0&&w("Invalid input not EOF"),e}function S(){return E("linear-gradient",e,k)||E("repeating-linear-gradient",t,k)||E("radial-gradient",n,M)||E("repeating-radial-gradient",r,M)||E("conic-gradient",o,M)}function E(e,t,n){return O(t,function(t){var r=n();return r&&(B(p)||w("Missing comma before color stops")),{type:e,orientation:r,colorStops:L(R)}})}function O(e,t){var n=B(e);if(n){B(f)||w("Missing (");var r=t(n);return B(h)||w("Missing )"),r}}function k(){return j("directional",i,1)||j("angular",d,1)}function M(){var e,t,n=$();return n&&((e=[]).push(n),t=x,B(p)&&((n=$())?e.push(n):x=t)),e}function $(){var e=function(){var e=j("shape",/^(circle)/i,0);e&&(e.style=P()||I());return e}()||function(){var e=j("shape",/^(ellipse)/i,0);e&&(e.style=A()||I());return e}();if(e)e.at=N();else{var t=I();if(t){e=t;var n=N();n&&(e.at=n)}else{var r=T();r&&(e={type:"default-radial",at:r})}}return e}function I(){return j("extent-keyword",a,1)}function N(){if(j("position",/^at/,0)){var e=T();return e||w("Missing positioning value"),e}}function T(){var e={x:A(),y:A()};if(e.x||e.y)return{type:"position",value:e}}function L(e){var t=e(),n=[];if(t)for(n.push(t);B(p);)(t=e())?n.push(t):w("One extra comma");return n}function R(){var e=j("hex",g,1)||O(y,function(){return{type:"rgba",value:L(_)}})||O(v,function(){return{type:"rgb",value:L(_)}})||j("literal",m,0);return e||w("Expected color definition"),e.length=A(),e}function _(){return B(b)[1]}function A(){return j("%",c,1)||j("position-keyword",l,1)||P()}function P(){return j("px",s,1)||j("em",u,1)}function j(e,t,n){var r=B(t);if(r)return{type:e,value:r[n]}}function B(e){var t=/^[\n\r\t\s]+/.exec(x);t&&D(t[0].length);var n=e.exec(x);return n&&D(n[0].length),n}function D(e){x=x.substring(e)}return function(e){return x=e,C()}}();var tG=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,nG=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,rG=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,oG=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;var iG={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},aG=MW(function(e){var t;return t="angular"===e.type?Number(e.value):iG[e.value]||0,QW(t,"deg")}),lG=MW(function(e){var t=50,n=50,r="%",o="%";if("position"===(null==e?void 0:e.type)){var i=e.value,a=i.x,l=i.y;"position-keyword"===(null==a?void 0:a.type)&&("left"===a.value?t=0:"center"===a.value?t=50:"right"===a.value?t=100:"top"===a.value?n=0:"bottom"===a.value&&(n=100)),"position-keyword"===(null==l?void 0:l.type)&&("left"===l.value?t=0:"center"===l.value?n=50:"right"===l.value?t=100:"top"===l.value?n=0:"bottom"===l.value&&(n=100)),"px"!==(null==a?void 0:a.type)&&"%"!==(null==a?void 0:a.type)&&"em"!==(null==a?void 0:a.type)||(r=null==a?void 0:a.type,t=Number(a.value)),"px"!==(null==l?void 0:l.type)&&"%"!==(null==l?void 0:l.type)&&"em"!==(null==l?void 0:l.type)||(o=null==l?void 0:l.type,n=Number(l.value))}return{cx:QW(t,r),cy:QW(n,o)}}),sG=MW(function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1)return eG(e).map(function(e){var t=e.type,n=e.orientation,r=e.colorStops;!function(e){var t,n,r=e.length;e[r-1].length=null!==(t=e[r-1].length)&&void 0!==t?t:{type:"%",value:"100"},r>1&&(e[0].length=null!==(n=e[0].length)&&void 0!==n?n:{type:"%",value:"0"});for(var o=0,i=Number(e[0].length.value),a=1;a<r;a++){var l,s=null===(l=e[a].length)||void 0===l?void 0:l.value;if(!YD(s)&&!YD(i)){for(var c=1;c<a-o;c++)e[o+c].length={type:"%",value:"".concat(i+(Number(s)-i)*c/(a-o))};o=a,i=Number(s)}}}(r);var o,i=r.map(function(e){return{offset:QW(Number(e.length.value),"%"),color:JW(e)}});if("linear-gradient"===t)return new zW(DW.LinearGradient,{angle:n?aG(n):VW,steps:i});if("radial-gradient"===t&&(n||(n=[{type:"shape",value:"circle"}]),"shape"===n[0].type&&"circle"===n[0].value)){var a,l=lG(n[0].at),s=l.cx,c=l.cy;if(n[0].style){var u=n[0].style,d=u.type,f=u.value;"extent-keyword"===d?(UW[o=f]||(UW[o]=new HW(o)),a=UW[o]):a=QW(f,d)}return new zW(DW.RadialGradient,{cx:s,cy:c,size:a,steps:i})}});var t=e[0];if("("===e[1]||"("===e[2])if("l"===t){var n=tG.exec(e);if(n){var r,o=(null===(r=n[2].match(oG))||void 0===r?void 0:r.map(function(e){return e.split(":")}))||[];return[new zW(DW.LinearGradient,{angle:QW(parseFloat(n[1]),"deg"),steps:o.map(function(e){var t=pt(e,2),n=t[0],r=t[1];return{offset:QW(100*Number(n),"%"),color:r}})})]}}else if("r"===t){var i=function(e){var t=nG.exec(e);if(t){var n,r=(null===(n=t[4].match(oG))||void 0===n?void 0:n.map(function(e){return e.split(":")}))||[];return{cx:QW(50,"%"),cy:QW(50,"%"),steps:r.map(function(e){var t=pt(e,2),n=t[0],r=t[1];return{offset:QW(100*Number(n),"%"),color:r}})}}return null}(e);if(i){if(!lz(i))return[new zW(DW.RadialGradient,i)];e=i}}else if("p"===t)return function(e){var t=rG.exec(e);if(t){var n=t[1],r=t[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}(e)});function cG(e){return e&&!!e.image}function uG(e){return e&&!YD(e.r)&&!YD(e.g)&&!YD(e.b)}var dG=MW(function(e){if(cG(e))return EB({repetition:"repeat"},e);if(YD(e)&&(e=""),"transparent"===e)return KW;if("currentColor"===e)e="black";else if("none"===e)return YW;var t=sG(e);if(t)return t;var n=fW(e),r=[0,0,0,0];return null!==n&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),ZW.apply(void 0,r)});function fG(e,t){if(uG(e)&&uG(t))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],function(e){var t=e.slice();if(t[3])for(var n=0;n<3;n++)t[n]=Math.round(cz(t[n],0,255));return t[3]=cz(t[3],0,1),"rgba(".concat(t.join(","),")")}]}function hG(e,t){if(YD(t))return QW(0,"px");if(t="".concat(t).trim().toLowerCase(),isFinite(Number(t))){if("px".search(e)>=0)return QW(Number(t),"px");if("deg".search(e)>=0)return QW(Number(t),"deg")}var n=[];t=t.replace(e,function(e){return n.push(e),"U".concat(e)});var r="U(".concat(e.source,")");return n.map(function(e){return QW(Number(t.replace(new RegExp("U".concat(e),"g"),"").replace(new RegExp(r,"g"),"*0")),e)})[0]}var pG=function(e){return hG(new RegExp("px","g"),e)},gG=MW(pG);MW(function(e){return hG(new RegExp("%","g"),e)});var mG=function(e){return uz(e)||isFinite(Number(e))?QW(Number(e)||0,"px"):hG(new RegExp("px|%|em|rem","g"),e)},vG=MW(mG),yG=function(e){return hG(new RegExp("deg|rad|grad|turn","g"),e)},bG=MW(yG);function xG(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i="",a=e.value||0,l=t.value||0,s=FW(e.unit),c=e.convertTo(s),u=t.convertTo(s);return c&&u?(a=c.value,l=u.value,i=PW(e.unit)):(WW.isLength(e.unit)||WW.isLength(t.unit))&&(a=SG(e,o,n),l=SG(t,o,n),i="px"),[a,l,function(e){return e+i}]}function wG(e){var t=0;return e.unit===$W.kDegrees?t=e.value:e.unit===$W.kRadians?t=SF(Number(e.value)):e.unit===$W.kTurns?t=360*Number(e.value):e.value&&(t=e.value),t}function CG(e,t){var n;return Array.isArray(e)?n=e.map(function(e){return Number(e)}):lz(e)?n=e.split(" ").map(function(e){return Number(e)}):uz(e)&&(n=[e]),2===t?1===n.length?[n[0],n[0]]:[n[0],n[1]]:4===t?1===n.length?[n[0],n[0],n[0],n[0]]:2===n.length?[n[0],n[1],n[0],n[1]]:3===n.length?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]:"even"===t&&n.length%2==1?[].concat(it(n),it(n)):n}function SG(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.unit===$W.kPixels)return Number(e.value);if(e.unit===$W.kPercentage&&n){var o=n.nodeName===JH.GROUP?n.getLocalBounds():n.getGeometryBounds();return(r?o.min[t]:0)+e.value/100*o.halfExtents[t]*2}return 0}var EG=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function OG(e){return e.toString()}var kG=function(e){return"number"==typeof e?QW(e):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(e)?QW(Number(e)):QW(0)},MG=MW(kG);function $G(e,t){return[e,t,OG]}function IG(e,t){return function(n,r){return[n,r,function(n){return OG(cz(n,e,t))}]}}function NG(e,t){if(e.length===t.length)return[e,t,function(e){return e}]}function TG(e){var t;return 0===e.parsedStyle.d.totalLength&&(e.parsedStyle.d.totalLength=kH(e.parsedStyle.d.absolutePath,void 0,Dz(Dz({},t),{bbox:!1,length:!0})).length),e.parsedStyle.d.totalLength}function LG(e,t){return e[0]===t[0]&&e[1]===t[1]}function RG(e,t){var n=e.prePoint,r=e.currentPoint,o=e.nextPoint,i=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2),l=Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2),s=Math.acos((i+a-l)/(2*Math.sqrt(i)*Math.sqrt(a)));if(!s||0===Math.sin(s)||dz(s,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(o[1]-r[1],o[0]-r[0])),u=Math.abs(Math.atan2(o[0]-r[0],o[1]-r[1]));return c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u,{xExtra:Math.cos(s/2-c)*(t/2*(1/Math.sin(s/2)))-t/2||0,yExtra:Math.cos(u-s/2)*(t/2*(1/Math.sin(s/2)))-t/2||0}}function _G(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}MW(function(e){return lz(e)?e.split(" ").map(MG):e.map(MG)});var AG=function(e,t){var n=e.x*t.x+e.y*t.y,r=Math.sqrt((Math.pow(e.x,2)+Math.pow(e.y,2))*(Math.pow(t.x,2)+Math.pow(t.y,2)));return(e.x*t.y-e.y*t.x<0?-1:1)*Math.acos(n/r)},PG=function(e,t,n,r,o,i,a,l){t=Math.abs(t),n=Math.abs(n);var s=wF(r=pz(r,360));if(e.x===a.x&&e.y===a.y)return{x:e.x,y:e.y,ellipticalArcAngle:0};if(0===t||0===n)return{x:0,y:0,ellipticalArcAngle:0};var c=(e.x-a.x)/2,u=(e.y-a.y)/2,d={x:Math.cos(s)*c+Math.sin(s)*u,y:-Math.sin(s)*c+Math.cos(s)*u},f=Math.pow(d.x,2)/Math.pow(t,2)+Math.pow(d.y,2)/Math.pow(n,2);f>1&&(t*=Math.sqrt(f),n*=Math.sqrt(f));var h=(Math.pow(t,2)*Math.pow(n,2)-Math.pow(t,2)*Math.pow(d.y,2)-Math.pow(n,2)*Math.pow(d.x,2))/(Math.pow(t,2)*Math.pow(d.y,2)+Math.pow(n,2)*Math.pow(d.x,2));h=h<0?0:h;var p=(o!==i?1:-1)*Math.sqrt(h),g=p*(t*d.y/n),m=p*(-n*d.x/t),v={x:Math.cos(s)*g-Math.sin(s)*m+(e.x+a.x)/2,y:Math.sin(s)*g+Math.cos(s)*m+(e.y+a.y)/2},y={x:(d.x-g)/t,y:(d.y-m)/n},b=AG({x:1,y:0},y),x=AG(y,{x:(-d.x-g)/t,y:(-d.y-m)/n});!i&&x>0?x-=2*Math.PI:i&&x<0&&(x+=2*Math.PI);var w=b+(x%=2*Math.PI)*l,C=t*Math.cos(w),S=n*Math.sin(w);return{x:Math.cos(s)*C-Math.sin(s)*S+v.x,y:Math.sin(s)*C+Math.cos(s)*S+v.y,ellipticalArcStartAngle:b,ellipticalArcEndAngle:b+x,ellipticalArcAngle:w,ellipticalArcCenter:v,resultantRx:t,resultantRy:n}};function jG(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.arcParams,o=r.rx,i=void 0===o?0:o,a=r.ry,l=void 0===a?0:a,s=r.xRotation,c=r.arcFlag,u=r.sweepFlag,d=PG({x:e.prePoint[0],y:e.prePoint[1]},i,l,s,!!c,!!u,{x:e.currentPoint[0],y:e.currentPoint[1]},t),f=PG({x:e.prePoint[0],y:e.prePoint[1]},i,l,s,!!c,!!u,{x:e.currentPoint[0],y:e.currentPoint[1]},n?t+.005:t-.005),h=f.x-d.x,p=f.y-d.y,g=Math.sqrt(h*h+p*p);return{x:-h/g,y:-p/g}}function BG(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function DG(e,t){return BG(e)*BG(t)?(e[0]*t[0]+e[1]*t[1])/(BG(e)*BG(t)):1}function zG(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(DG(e,t))}function HG(e,t){var n=t[1],r=t[2],o=pz(wF(t[3]),2*Math.PI),i=t[4],a=t[5],l=e[0],s=e[1],c=t[6],u=t[7],d=Math.cos(o)*(l-c)/2+Math.sin(o)*(s-u)/2,f=-1*Math.sin(o)*(l-c)/2+Math.cos(o)*(s-u)/2,h=d*d/(n*n)+f*f/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(f*f)+r*r*(d*d),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;i===a&&(g*=-1),isNaN(g)&&(g=0);var m=r?g*n*f/r:0,v=n?g*-r*d/n:0,y=(l+c)/2+Math.cos(o)*m-Math.sin(o)*v,b=(s+u)/2+Math.sin(o)*m+Math.cos(o)*v,x=[(d-m)/n,(f-v)/r],w=[(-1*d-m)/n,(-1*f-v)/r],C=zG([1,0],x),S=zG(x,w);return DG(x,w)<=-1&&(S=Math.PI),DG(x,w)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:y,cy:b,rx:LG(e,[c,u])?0:n,ry:LG(e,[c,u])?0:r,startAngle:C,endAngle:C+S,xRotation:o,arcFlag:i,sweepFlag:a}}function FG(e,t,n,r){var o=(-1+Math.sqrt(2))/3*4,i=e*o,a=t*o,l=n-e,s=n+e,c=r-t,u=r+t;return[["M",l,r],["C",l,r-a,n-i,c,n,c],["C",n+i,c,s,r-a,s,r],["C",s,r+a,n+i,u,n,u],["C",n-i,u,l,r+a,l,r],["Z"]]}function WG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getLocalTransform(),n=[];switch(e.nodeName){case JH.LINE:var r=e.parsedStyle,o=r.x1,i=void 0===o?0:o,a=r.y1,l=void 0===a?0:a,s=r.x2,c=void 0===s?0:s,u=r.y2;n=function(e,t,n,r){return[["M",e,t],["L",n,r]]}(i,l,c,void 0===u?0:u);break;case JH.CIRCLE:var d=e.parsedStyle,f=d.r,h=void 0===f?0:f,p=d.cx,g=void 0===p?0:p,m=d.cy;n=FG(h,h,g,void 0===m?0:m);break;case JH.ELLIPSE:var v=e.parsedStyle,y=v.rx,b=void 0===y?0:y,x=v.ry,w=void 0===x?0:x,C=v.cx,S=void 0===C?0:C,E=v.cy;n=FG(b,w,S,void 0===E?0:E);break;case JH.POLYLINE:case JH.POLYGON:n=function(e,t){var n=e.map(function(e,t){return[0===t?"M":"L",e[0],e[1]]});return t&&n.push(["Z"]),n}(e.parsedStyle.points.points,e.nodeName===JH.POLYGON);break;case JH.RECT:var O=e.parsedStyle,k=O.width,M=void 0===k?0:k,$=O.height,I=void 0===$?0:$,N=O.x,T=void 0===N?0:N,L=O.y,R=void 0===L?0:L,_=O.radius,A=_&&_.some(function(e){return 0!==e});n=function(e,t,n,r,o){if(o){var i=pt(o,4),a=i[0],l=i[1],s=i[2],c=i[3],u=e>0?1:-1,d=t>0?1:-1,f=u+d!==0?1:0;return[["M",u*a+n,r],["L",e-u*l+n,r],l?["A",l,l,0,0,f,e+n,d*l+r]:null,["L",e+n,t-d*s+r],s?["A",s,s,0,0,f,e+n-u*s,t+r]:null,["L",n+u*c,t+r],c?["A",c,c,0,0,f,n,t+r-d*c]:null,["L",n,d*a+r],a?["A",a,a,0,0,f,u*a+n,r]:null,["Z"]].filter(function(e){return e})}return[["M",n,r],["L",n+e,r],["L",n+e,r+t],["L",n,r+t],["Z"]]}(M,I,T,R,A&&_.map(function(e){return cz(e,0,Math.min(Math.abs(M)/2,Math.abs(I)/2))}));break;case JH.PATH:n=it(e.parsedStyle.d.absolutePath)}if(n.length)return function(e,t,n){return e.reduce(function(e,t){var r="";if("M"===t[0]||"L"===t[0]){var o=vD(t[1],t[2],0);n&&MD(o,o,n),r="".concat(t[0]).concat(o[0],",").concat(o[1])}else if("Z"===t[0])r=t[0];else if("C"===t[0]){var i=vD(t[1],t[2],0),a=vD(t[3],t[4],0),l=vD(t[5],t[6],0);n&&(MD(i,i,n),MD(a,a,n),MD(l,l,n)),r="".concat(t[0]).concat(i[0],",").concat(i[1],",").concat(a[0],",").concat(a[1],",").concat(l[0],",").concat(l[1])}else if("A"===t[0]){var s=vD(t[6],t[7],0);n&&MD(s,s,n),r="".concat(t[0]).concat(t[1],",").concat(t[2],",").concat(t[3],",").concat(t[4],",").concat(t[5],",").concat(s[0],",").concat(s[1])}else if("Q"===t[0]){var c=vD(t[1],t[2],0),u=vD(t[3],t[4],0);n&&(MD(c,c,n),MD(u,u,n)),r="".concat(t[0]).concat(t[1],",").concat(t[2],",").concat(t[3],",").concat(t[4],"}")}return e+r},"")}(n,0,t)}var GG=function(e){if(""===e||Array.isArray(e)&&0===e.length)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var t;try{t=uH(e)}catch(f){t=uH("")}!function(e){for(var t=0;t<e.length;t++){var n=e[t-1],r=e[t];if("M"===r[0]&&n){var o=n[0],i=[r[1],r[2]],a=void 0;"L"===o||"M"===o?a=[n[1],n[2]]:"C"!==o&&"A"!==o&&"Q"!==o||(a=[n[n.length-2],n[n.length-1]]),a&&LG(i,a)&&(e.splice(t,1),t--)}}}(t);var n=function(e){for(var t=!1,n=e.length,r=0;r<n;r++){var o=e[r][0];if("C"===o||"A"===o||"Q"===o){t=!0;break}}return t}(t),r=function(e){for(var t=[],n=[],r=[],o=0;o<e.length;o++){var i=e[o],a=i[0];"M"===a?(r.length&&(n.push(r),r=[]),r.push([i[1],i[2]])):"Z"===a?r.length&&(t.push(r),r=[]):r.push([i[1],i[2]])}return r.length>0&&n.push(r),{polygons:t,polylines:n}}(t),o=r.polygons,i=r.polylines,a=function(e){for(var t=[],n=null,r=null,o=null,i=0,a=e.length,l=0;l<a;l++){var s=e[l];r=e[l+1];var c=s[0],u={command:c,prePoint:n,params:s,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(c){case"M":o=[s[1],s[2]],i=l;break;case"A":var d=HG(n,s);u.arcParams=d}if("Z"===c)n=o,r=e[i+1];else{var f=s.length;n=[s[f-2],s[f-1]]}r&&"Z"===r[0]&&(r=e[i],t[i]&&(t[i].prePoint=n)),u.currentPoint=n,t[i]&&LG(n,t[i].currentPoint)&&(t[i].prePoint=u.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;u.nextPoint=h;var p=u.prePoint;if(["L","H","V"].includes(c))u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===c){var g=[s[1],s[2]];u.startTangent=[p[0]-g[0],p[1]-g[1]],u.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===c){var m=t[l-1],v=_G(m.currentPoint,p);"Q"===m.command?(u.command="Q",u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]]):(u.command="TL",u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===c){var y=[s[1],s[2]],b=[s[3],s[4]];u.startTangent=[p[0]-y[0],p[1]-y[1]],u.endTangent=[n[0]-b[0],n[1]-b[1]],0===u.startTangent[0]&&0===u.startTangent[1]&&(u.startTangent=[y[0]-b[0],y[1]-b[1]]),0===u.endTangent[0]&&0===u.endTangent[1]&&(u.endTangent=[b[0]-y[0],b[1]-y[1]])}else if("S"===c){var x=t[l-1],w=_G(x.currentPoint,p),C=[s[1],s[2]];"C"===x.command?(u.command="C",u.startTangent=[p[0]-w[0],p[1]-w[1]],u.endTangent=[n[0]-C[0],n[1]-C[1]]):(u.command="SQ",u.startTangent=[p[0]-C[0],p[1]-C[1]],u.endTangent=[n[0]-C[0],n[1]-C[1]])}else if("A"===c){var S=jG(u,0),E=S.x,O=S.y,k=jG(u,1,!1),M=k.x,$=k.y;u.startTangent=[E,O],u.endTangent=[M,$]}t.push(u)}return t}(t),l=function(e,t){for(var n=[],r=[],o=[],i=0;i<e.length;i++){var a=e[i],l=a.currentPoint,s=a.params,c=a.prePoint,u=void 0;switch(a.command){case"Q":u=YH(c[0],c[1],s[1],s[2],s[3],s[4]);break;case"C":u=GH(c[0],c[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var d=a.arcParams;u=jH(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:n.push(l[0]),r.push(l[1])}u&&(a.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height))}n=n.filter(function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0}),r=r.filter(function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0});var f=az(n),h=az(r),p=iz(n),g=iz(r);if(0===o.length)return{x:f,y:h,width:p-f,height:g-h};for(var m=0;m<o.length;m++){var v=o[m],y=v.currentPoint;y[0]===f?f-=RG(v,t).xExtra:y[0]===p&&(p+=RG(v,t).xExtra),y[1]===h?h-=RG(v,t).yExtra:y[1]===g&&(g+=RG(v,t).yExtra)}return{x:f,y:h,width:p-f,height:g-h}}(a,0),s=l.x,c=l.y,u=l.width,d=l.height;return{absolutePath:t,hasArc:n,segments:a,polygons:o,polylines:i,totalLength:0,rect:{x:Number.isFinite(s)?s:0,y:Number.isFinite(c)?c:0,width:Number.isFinite(u)?u:0,height:Number.isFinite(d)?d:0}}},VG=MW(GG);function qG(e){return lz(e)?VG(e):GG(e)}function XG(e,t,n){var r=e.curve,o=t.curve;r&&0!==r.length||(r=mH(e.absolutePath,!1),e.curve=r),o&&0!==o.length||(o=mH(t.absolutePath,!1),t.curve=o);var i=[r,o];r.length!==o.length&&(i=IH(r,o));var a,l,s,c,u,d,f,h,p=MH(i[0])!==MH(i[1])?(a=i[0],l=a.slice(1).map(function(e,t,n){return t?n[t-1].slice(-2).concat(e.slice(1)):a[0].slice(1).concat(e.slice(1))}).map(function(e){return e.map(function(t,n){return e[e.length-n-2*(1-n%2)]})}).reverse(),[["M"].concat(l[0].slice(0,2))].concat(l.map(function(e){return["C"].concat(e.slice(2))}))):i[0].map(function(e){return Array.isArray(e)?[].concat(e):e});return[p,(s=i[1],c=p,u=s.length-1,d=[],f=0,h=function(e){var t=e.length,n=t-1;return e.map(function(r,o){return e.map(function(r,i){var a,l=o+i;return 0===i||e[l]&&"M"===e[l][0]?(a=e[l],["M"].concat(a.slice(-2))):(l>=t&&(l-=n),e[l])})})}(s),h.forEach(function(e,t){s.slice(1).forEach(function(e,n){f+=vH(s[(t+n)%u].slice(-2),c[n%u].slice(-2))}),d[t]=f,f=0}),h[d.indexOf(Math.min.apply(null,d))]),function(e){return e}]}function UG(e,t){return[e.points,t.points,function(e){return e}]}var YG=null,KG=/\s*(\w+)\(([^)]*)\)/g;function ZG(e){return function(t){var n=0;return e.map(function(e){return e===YG?t[n++]:e})}}function QG(e){return e}var JG={matrix:["NNNNNN",[YG,YG,0,0,YG,YG,0,0,0,0,1,0,YG,YG,0,1],QG],matrix3d:["NNNNNNNNNNNNNNNN",QG],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",ZG([YG,YG,new WW(1)]),QG],scaleX:["N",ZG([YG,new WW(1),new WW(1)]),ZG([YG,new WW(1)])],scaleY:["N",ZG([new WW(1),YG,new WW(1)]),ZG([new WW(1),YG])],scaleZ:["N",ZG([new WW(1),new WW(1),YG])],scale3d:["NNN",QG],skew:["Aa",null,QG],skewX:["A",null,ZG([YG,VW])],skewY:["A",null,ZG([VW,YG])],translate:["Tt",ZG([YG,YG,GW]),QG],translateX:["T",ZG([YG,GW,GW]),ZG([YG,GW])],translateY:["T",ZG([GW,YG,GW]),ZG([GW,YG])],translateZ:["L",ZG([GW,GW,YG])],translate3d:["TTL",QG]};function eV(e){for(var t=[],n=e.length,r=0;r<n;r++){var o=e[r],i=o[0],a=o.slice(1);if("translate"===i||"skew"===i?1===a.length&&a.push(0):"scale"===i&&1===a.length&&a.push(a[0]),!JG[i])return[];var l=a.map(function(e){return QW(e)});t.push({t:i,d:l})}return t}function tV(e){if(Array.isArray(e))return eV(e);if("none"===(e=(e||"none").trim()))return[];var t,n=[],r=0;for(KG.lastIndex=0;t=KG.exec(e);){if(t.index!==r)return[];r=t.index+t[0].length;var o=t[1],i=JG[o];if(!i)return[];var a=t[2].split(","),l=i[0];if(l.length<a.length)return[];for(var s=[],c=0;c<l.length;c++){var u=a[c],d=l[c],f=void 0;if(void 0===(f=u?{A:function(e){return"0"===e.trim()?VW:bG(e)},N:MG,T:vG,L:gG}[d.toUpperCase()](u):{a:VW,n:s[0],t:GW}[d]))return[];s.push(f)}if(n.push({t:o,d:s}),KG.lastIndex===e.length)return n}return[]}function nV(e){if(Array.isArray(e))return eV(e);if("none"===(e=(e||"none").trim()))return[];var t,n=[],r=0;for(KG.lastIndex=0;t=KG.exec(e);){if(t.index!==r)return[];r=t.index+t[0].length;var o=t[1],i=JG[o];if(!i)return[];var a=t[2].split(","),l=i[0];if(l.length<a.length)return[];for(var s=[],c=0;c<l.length;c++){var u=a[c],d=l[c],f=void 0;if(void 0===(f=u?{A:function(e){return"0"===e.trim()?VW:yG(e)},N:kG,T:mG,L:pG}[d.toUpperCase()](u):{a:VW,n:s[0],t:GW}[d]))return[];s.push(f)}if(n.push({t:o,d:s}),KG.lastIndex===e.length)return n}return[]}function rV(e){var t,n,r,o;switch(e.t){case"rotateX":return o=wF(wG(e.d[0])),[1,0,0,0,0,Math.cos(o),Math.sin(o),0,0,-Math.sin(o),Math.cos(o),0,0,0,0,1];case"rotateY":return o=wF(wG(e.d[0])),[Math.cos(o),0,-Math.sin(o),0,0,1,0,0,Math.sin(o),0,Math.cos(o),0,0,0,0,1];case"rotate":case"rotateZ":return o=wF(wG(e.d[0])),[Math.cos(o),Math.sin(o),0,0,-Math.sin(o),Math.cos(o),0,0,0,0,1,0,0,0,0,1];case"rotate3d":t=e.d[0].value,n=e.d[1].value,r=e.d[2].value,o=wF(wG(e.d[3]));var i=t*t+n*n+r*r;if(0===i)t=1,n=0,r=0;else if(1!==i){var a=Math.sqrt(i);t/=a,n/=a,r/=a}var l=Math.sin(o/2),s=l*Math.cos(o/2),c=l*l;return[1-2*(n*n+r*r)*c,2*(t*n*c+r*s),2*(t*r*c-n*s),0,2*(t*n*c-r*s),1-2*(t*t+r*r)*c,2*(n*r*c+t*s),0,2*(t*r*c+n*s),2*(n*r*c-t*s),1-2*(t*t+n*n)*c,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var u=wF(wG(e.d[0])),d=wF(wG(e.d[1]));return[1,Math.tan(d),0,0,Math.tan(u),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return o=wF(wG(e.d[0])),[1,0,0,0,Math.tan(o),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return o=wF(wG(e.d[0])),[1,Math.tan(o),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,t=SG(e.d[0],0,null)||0,n=SG(e.d[1],0,null)||0,0,1];case"translateX":return[1,0,0,0,0,1,0,0,0,0,1,0,t=SG(e.d[0],0,null)||0,0,0,1];case"translateY":return[1,0,0,0,0,1,0,0,0,0,1,0,0,n=SG(e.d[0],0,null)||0,0,1];case"translateZ":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r=SG(e.d[0],0,null)||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,t=SG(e.d[0],0,null)||0,n=SG(e.d[1],0,null)||0,r=SG(e.d[2],0,null)||0,1];case"perspective":var f=SG(e.d[0],0,null)||0;return[1,0,0,0,0,1,0,0,0,0,1,f?-1/f:0,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map(function(e){return e.value})}}function oV(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function iV(e){var t=[0,0,0],n=[1,1,1],r=[0,0,0],o=[0,0,0,1],i=[0,0,0,1];return function(e,t,n,r,o,i){if(!function(e,t){var n=t[15];if(0===n)return!1;for(var r=1/n,o=0;o<16;o++)e[o]=t[o]*r;return!0}($F,e))return!1;if(RB(IF,$F),IF[3]=0,IF[7]=0,IF[11]=0,IF[15]=1,Math.abs(DB(IF))<1e-8)return!1;var a,l,s=$F[3],c=$F[7],u=$F[11],d=$F[12],f=$F[13],h=$F[14],p=$F[15];if(0!==s||0!==c||0!==u){if(NF[0]=s,NF[1]=c,NF[2]=u,NF[3]=p,!BB(IF,IF))return!1;jB(IF,IF),AD(o,NF,IF)}else o[0]=o[1]=o[2]=0,o[3]=1;if(t[0]=d,t[1]=f,t[2]=h,l=$F,(a=TF)[0][0]=l[0],a[0][1]=l[1],a[0][2]=l[2],a[1][0]=l[4],a[1][1]=l[5],a[1][2]=l[6],a[2][0]=l[8],a[2][1]=l[9],a[2][2]=l[10],n[0]=mD(TF[0]),SD(TF[0],TF[0]),r[0]=ED(TF[0],TF[1]),RF(TF[1],TF[1],TF[0],1,-r[0]),n[1]=mD(TF[1]),SD(TF[1],TF[1]),r[0]/=n[1],r[1]=ED(TF[0],TF[2]),RF(TF[2],TF[2],TF[0],1,-r[1]),r[2]=ED(TF[1],TF[2]),RF(TF[2],TF[2],TF[1],1,-r[2]),n[2]=mD(TF[2]),SD(TF[2],TF[2]),r[1]/=n[2],r[2]/=n[2],OD(LF,TF[1],TF[2]),ED(TF[0],LF)<0)for(var g=0;g<3;g++)n[g]*=-1,TF[g][0]*=-1,TF[g][1]*=-1,TF[g][2]*=-1;i[0]=.5*Math.sqrt(Math.max(1+TF[0][0]-TF[1][1]-TF[2][2],0)),i[1]=.5*Math.sqrt(Math.max(1-TF[0][0]+TF[1][1]-TF[2][2],0)),i[2]=.5*Math.sqrt(Math.max(1-TF[0][0]-TF[1][1]+TF[2][2],0)),i[3]=.5*Math.sqrt(Math.max(1+TF[0][0]+TF[1][1]+TF[2][2],0)),TF[2][1]>TF[1][2]&&(i[0]=-i[0]),TF[0][2]>TF[2][0]&&(i[1]=-i[1]),TF[1][0]>TF[0][1]&&(i[2]=-i[2])}(function(e){return 0===e.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(rV).reduce(oV)}(e),t,n,r,o,i),[[t,n,r,i,o]]}var aV=function(){function e(e,t){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=0;r<4;r++)for(var o=0;o<4;o++)for(var i=0;i<4;i++)n[r][o]+=t[r][i]*e[i][o];return n}return function(t,n,r,o,i){for(var a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],l=0;l<4;l++)a[l][3]=i[l];for(var s=0;s<3;s++)for(var c=0;c<3;c++)a[3][s]+=t[c]*a[c][s];var u=o[0],d=o[1],f=o[2],h=o[3],p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];p[0][0]=1-2*(d*d+f*f),p[0][1]=2*(u*d-f*h),p[0][2]=2*(u*f+d*h),p[1][0]=2*(u*d+f*h),p[1][1]=1-2*(u*u+f*f),p[1][2]=2*(d*f-u*h),p[2][0]=2*(u*f-d*h),p[2][1]=2*(d*f+u*h),p[2][2]=1-2*(u*u+d*d),a=e(a,p);var g,m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];r[2]&&(m[2][1]=r[2],a=e(a,m)),r[1]&&(m[2][1]=0,m[2][0]=r[0],a=e(a,m)),r[0]&&(m[2][0]=0,m[1][0]=r[0],a=e(a,m));for(var v=0;v<3;v++)for(var y=0;y<3;y++)a[v][y]*=n[v];return 0===(g=a)[0][2]&&0===g[0][3]&&0===g[1][2]&&0===g[1][3]&&0===g[2][0]&&0===g[2][1]&&1===g[2][2]&&0===g[2][3]&&0===g[3][2]&&1===g[3][3]?[a[0][0],a[0][1],a[1][0],a[1][1],a[3][0],a[3][1]]:a[0].concat(a[1],a[2],a[3])}}();function lV(e){return e.toFixed(6).replace(".000000","")}function sV(e,t){var n,r;return e.decompositionPair!==t&&(e.decompositionPair=t,n=iV(e)),t.decompositionPair!==e&&(t.decompositionPair=e,r=iV(t)),null===n[0]||null===r[0]?[[!1],[!0],function(n){return n?t[0].d:e[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(e){var t=function(e,t,n){var r=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}(e,t);r=cz(r,-1,1);var o=[];if(1===r)o=e;else for(var i=Math.acos(r),a=1*Math.sin(n*i)/Math.sqrt(1-r*r),l=0;l<4;l++)o.push(e[l]*(Math.cos(n*i)-r*a)+t[l]*a);return o}(n[0][3],r[0][3],e[5]);return aV(e[0],e[1],e[2],t,e[4]).map(lV).join(",")}])}function cV(e){return e.replace(/[XY]/,"")}function uV(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}var dV=function(e,t){return"perspective"===e&&"perspective"===t||("matrix"===e||"matrix3d"===e)&&("matrix"===t||"matrix3d"===t)};function fV(e,t,n){var r=!1;if(!e.length||!t.length){e.length||(r=!0,e=t,t=[]);for(var o=function(){var n=e[i],r=n.t,o=n.d,a="scale"===r.substring(0,5)?1:0;t.push({t:r,d:o.map(function(e){return"number"==typeof e?QW(a):QW(a,e.unit)})})},i=0;i<e.length;i++)o()}var a=[],l=[],s=[];if(e.length!==t.length){var c=sV(e,t);a=[c[0]],l=[c[1]],s=[["matrix",[c[2]]]]}else for(var u=0;u<e.length;u++){var d=e[u].t,f=t[u].t,h=e[u].d,p=t[u].d,g=JG[d],m=JG[f],v=void 0;if(dV(d,f)){var y=sV([e[u]],[t[u]]);a.push(y[0]),l.push(y[1]),s.push(["matrix",[y[2]]])}else{if(d===f)v=d;else if(g[2]&&m[2]&&cV(d)===cV(f))v=cV(d),h=g[2](h),p=m[2](p);else{if(!g[1]||!m[1]||uV(d)!==uV(f)){var b=sV(e,t);a=[b[0]],l=[b[1]],s=[["matrix",[b[2]]]];break}v=uV(d),h=g[1](h),p=m[1](p)}for(var x=[],w=[],C=[],S=0;S<h.length;S++){var E=xG(h[S],p[S],n,!1,S);x[S]=E[0],w[S]=E[1],C.push(E[2])}a.push(x),l.push(w),s.push([v,C])}}if(r){var O=a;a=l,l=O}return[a,l,function(e){return e.map(function(e,t){var n=e.map(function(e,n){return s[t][1][n](e)}).join(",");return"matrix"===s[t][0]&&16===n.split(",").length&&(s[t][0]="matrix3d"),"matrix3d"===s[t][0]&&6===n.split(",").length&&(s[t][0]="matrix"),"".concat(s[t][0],"(").concat(n,")")}).join(" ")}]}var hV=MW(function(e){if(lz(e)){if("text-anchor"===e)return[QW(0,"px"),QW(0,"px")];var t=e.split(" ");return 1===t.length&&("top"===t[0]||"bottom"===t[0]?(t[1]=t[0],t[0]="center"):t[1]="center"),2!==t.length?null:[vG(pV(t[0])),vG(pV(t[1]))]}return[QW(e[0]||0,"px"),QW(e[1]||0,"px")]});function pV(e){return"center"===e?"50%":"left"===e||"top"===e?"0%":"right"===e||"bottom"===e?"100%":e}var gV=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:XF.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:XF.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:XF.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:XF.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:XF.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:XF.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:XF.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:XF.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:XF.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:XF.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:XF.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:XF.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:XF.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:XF.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:XF.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:XF.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:XF.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:XF.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:XF.FILTER},{n:"clipPath",syntax:XF.DEFINED_PATH},{n:"textPath",syntax:XF.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:XF.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:XF.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:XF.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:XF.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:XF.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:XF.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:XF.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:XF.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:XF.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:XF.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:XF.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:XF.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:XF.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:XF.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:XF.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:XF.COORDINATE},{n:"y1",int:!0,l:!0,syntax:XF.COORDINATE},{n:"z1",int:!0,l:!0,syntax:XF.COORDINATE},{n:"x2",int:!0,l:!0,syntax:XF.COORDINATE},{n:"y2",int:!0,l:!0,syntax:XF.COORDINATE},{n:"z2",int:!0,l:!0,syntax:XF.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:XF.PATH,p:50},{n:"points",int:!0,l:!0,syntax:XF.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:XF.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:XF.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:XF.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:XF.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:XF.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:XF.NUMBER,d:function(e){return e===JH.PATH||e===JH.POLYGON||e===JH.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:XF.MARKER},{n:"markerEnd",syntax:XF.MARKER},{n:"markerMid",syntax:XF.MARKER},{n:"markerStartOffset",syntax:XF.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:XF.LENGTH,l:!0,int:!0,d:"0"}],mV=new Set(gV.filter(function(e){return!!e.l}).map(function(e){return e.n})),vV={},yV=function(){return We(function e(t){var n=this;He(this,e),this.runtime=t,gV.forEach(function(e){n.registerMetadata(e)})},[{key:"registerMetadata",value:function(e){[e.n].concat(it(e.a||[])).forEach(function(t){vV[t]=e})}},{key:"getPropertySyntax",value:function(e){return this.runtime.CSSPropertySyntaxFactory[e]}},{key:"processProperties",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{forceUpdateGeometry:!1};Object.assign(e.attributes,t);var r=e.parsedStyle.clipPath,o=e.parsedStyle.offsetPath;!function(e,t){var n=bV(e);for(var r in t)n.has(r)&&(e.parsedStyle[r]=t[r])}(e,t);var i=!!n.forceUpdateGeometry;if(!i)for(var a in t)if(mV.has(a)){i=!0;break}var l,s=bV(e);s.has("fill")&&t.fill&&(e.parsedStyle.fill=dG(t.fill)),s.has("stroke")&&t.stroke&&(e.parsedStyle.stroke=dG(t.stroke)),s.has("shadowColor")&&t.shadowColor&&(e.parsedStyle.shadowColor=dG(t.shadowColor)),s.has("filter")&&t.filter&&(e.parsedStyle.filter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("none"===(e=e.toLowerCase().trim()))return[];for(var t,n=/\s*([\w-]+)\(([^)]*)\)/g,r=[],o=0;t=n.exec(e);){if(t.index!==o)return[];if(o=t.index+t[0].length,EG.indexOf(t[1])>-1&&r.push({name:t[1],params:t[2].split(" ").map(function(e){return hG(/deg|rad|grad|turn|px|%/g,e)||dG(e)})}),n.lastIndex===e.length)return r}return[]}(t.filter)),s.has("radius")&&!YD(t.radius)&&(e.parsedStyle.radius=CG(t.radius,4)),s.has("lineDash")&&!YD(t.lineDash)&&(e.parsedStyle.lineDash=CG(t.lineDash,"even")),s.has("points")&&t.points&&(e.parsedStyle.points={points:lz(l=t.points)?l.split(" ").map(function(e){var t=pt(e.split(","),2),n=t[0],r=t[1];return[Number(n),Number(r)]}):l,totalLength:0,segments:[]}),s.has("d")&&""===t.d&&(e.parsedStyle.d=EB({},qF)),s.has("d")&&t.d&&(e.parsedStyle.d=qG(t.d)),s.has("textTransform")&&t.textTransform&&this.runtime.CSSPropertySyntaxFactory[XF.TEXT_TRANSFORM].calculator(null,null,{value:t.textTransform},e,null),s.has("clipPath")&&!xz(t.clipPath)&&this.runtime.CSSPropertySyntaxFactory[XF.DEFINED_PATH].calculator("clipPath",r,t.clipPath,e,this.runtime),s.has("offsetPath")&&t.offsetPath&&this.runtime.CSSPropertySyntaxFactory[XF.DEFINED_PATH].calculator("offsetPath",o,t.offsetPath,e,this.runtime),s.has("transform")&&t.transform&&(e.parsedStyle.transform=tV(t.transform)),s.has("transformOrigin")&&t.transformOrigin&&(e.parsedStyle.transformOrigin=hV(t.transformOrigin)),s.has("markerStart")&&t.markerStart&&(e.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[XF.MARKER].calculator(null,t.markerStart,t.markerStart,null,null)),s.has("markerEnd")&&t.markerEnd&&(e.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[XF.MARKER].calculator(null,t.markerEnd,t.markerEnd,null,null)),s.has("markerMid")&&t.markerMid&&(e.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[XF.MARKER].calculator("",t.markerMid,t.markerMid,null,null)),s.has("zIndex")&&!YD(t.zIndex)&&this.runtime.CSSPropertySyntaxFactory[XF.Z_INDEX].postProcessor(e),s.has("offsetDistance")&&!YD(t.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[XF.OFFSET_DISTANCE].postProcessor(e),s.has("transform")&&t.transform&&this.runtime.CSSPropertySyntaxFactory[XF.TRANSFORM].postProcessor(e),s.has("transformOrigin")&&t.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[XF.TRANSFORM_ORIGIN].postProcessor(e),i&&(e.geometry.dirty=!0,e.dirty(!0,!0),n.forceUpdateGeometry||this.runtime.sceneGraphService.dirtyToRoot(e))}},{key:"updateGeometry",value:function(e){var t=e.nodeName,n=this.runtime.geometryUpdaterFactory[t];if(n){var r=e.geometry;r.contentBounds||(r.contentBounds=new cF),r.renderBounds||(r.renderBounds=new cF);var o=e.parsedStyle,i=n.update(o,e),a=i.cx,l=void 0===a?0:a,s=i.cy,c=void 0===s?0:s,u=i.cz,d=void 0===u?0:u,f=i.hwidth,h=void 0===f?0:f,p=i.hheight,g=void 0===p?0:p,m=i.hdepth,v=void 0===m?0:m,y=[Math.abs(h),Math.abs(g),v],b=o.stroke,x=o.lineWidth,w=void 0===x?1:x,C=o.increasedLineWidthForHitTesting,S=void 0===C?0:C,E=o.shadowType,O=void 0===E?"outer":E,k=o.shadowColor,M=o.filter,$=void 0===M?[]:M,I=o.transformOrigin,N=[l,c,d];r.contentBounds.update(N,y);var T=t===JH.POLYLINE||t===JH.POLYGON||t===JH.PATH?Math.SQRT2:.5;if(b&&!b.isNone){var L=((w||0)+(S||0))*T;y[0]+=L,y[1]+=L}if(r.renderBounds.update(N,y),k&&O&&"inner"!==O){var R=r.renderBounds,_=R.min,A=R.max,P=o.shadowBlur||0,j=o.shadowOffsetX||0,B=o.shadowOffsetY||0,D=_[0]-P+j,z=A[0]+P+j,H=_[1]-P+B,F=A[1]+P+B;_[0]=Math.min(_[0],D),A[0]=Math.max(A[0],z),_[1]=Math.min(_[1],H),A[1]=Math.max(A[1],F),r.renderBounds.setMinMax(_,A)}$.forEach(function(e){var t=e.name,n=e.params;if("blur"===t){var o=n[0].value;r.renderBounds.update(r.renderBounds.center,xD(r.renderBounds.halfExtents,r.renderBounds.halfExtents,[o,o,0]))}else if("drop-shadow"===t){var i=n[0].value,a=n[1].value,l=n[2].value,s=r.renderBounds,c=s.min,u=s.max,d=c[0]-l+i,f=u[0]+l+i,h=c[1]-l+a,p=u[1]+l+a;c[0]=Math.min(c[0],d),u[0]=Math.max(u[0],f),c[1]=Math.min(c[1],h),u[1]=Math.max(u[1],p),r.renderBounds.setMinMax(c,u)}}),e.geometry.dirty=!1;var W=g<0,G=(h<0?-1:1)*(I?SG(I[0],0,e,!0):0),V=(W?-1:1)*(I?SG(I[1],1,e,!0):0);(G||V)&&e.setOrigin(G,V)}}},{key:"updateSizeAttenuation",value:function(e,t){e.style.isSizeAttenuation?(e.style.rawLineWidth||(e.style.rawLineWidth=e.style.lineWidth),e.style.lineWidth=(e.style.rawLineWidth||1)/t,e.nodeName===JH.CIRCLE&&(e.style.rawR||(e.style.rawR=e.style.r),e.style.r=(e.style.rawR||1)/t)):(e.style.rawLineWidth&&(e.style.lineWidth=e.style.rawLineWidth,delete e.style.rawLineWidth),e.nodeName===JH.CIRCLE&&e.style.rawR&&(e.style.r=e.style.rawR,delete e.style.rawR))}}])}();function bV(e){return e.constructor.PARSED_STYLE_LIST}var xV=function(){return We(function e(){He(this,e),this.mixer=$G},[{key:"calculator",value:function(e,t,n,r){return wG(n)}}])}(),wV=function(){return We(function e(){He(this,e)},[{key:"calculator",value:function(e,t,n,r,o){return n instanceof HW&&(n=null),o.sceneGraphService.updateDisplayObjectDependency(e,t,n,r),"clipPath"===e&&r.forEach(function(e){0===e.childNodes.length&&o.sceneGraphService.dirtyToRoot(e)}),n}}])}(),CV=function(){return We(function e(){He(this,e),this.parser=dG,this.mixer=fG},[{key:"calculator",value:function(e,t,n,r){return n instanceof HW?"none"===n.value?YW:KW:n}}])}(),SV=function(){return We(function e(){He(this,e)},[{key:"calculator",value:function(e,t,n){return n instanceof HW?[]:n}}])}();function EV(e){var t=e.parsedStyle.fontSize;return YD(t)?null:t}var OV=function(){return We(function e(){He(this,e),this.mixer=$G},[{key:"calculator",value:function(e,t,n,r,o){if(uz(n))return n;if(!WW.isRelativeUnit(n.unit))return n.value;if(n.unit===$W.kPercentage)return 0;if(n.unit===$W.kEms){if(r.parentNode){var i=EV(r.parentNode);if(i)return i*=n.value}return 0}if(n.unit===$W.kRems){var a;if(null!=r&&null!==(a=r.ownerDocument)&&void 0!==a&&a.documentElement){var l=EV(r.ownerDocument.documentElement);if(l)return l*=n.value}return 0}}}])}(),kV=function(){return We(function e(){He(this,e),this.mixer=NG},[{key:"calculator",value:function(e,t,n){return n.map(function(e){return e.value})}}])}(),MV=function(){return We(function e(){He(this,e),this.mixer=NG},[{key:"calculator",value:function(e,t,n){return n.map(function(e){return e.value})}}])}(),$V=function(){return We(function e(){He(this,e)},[{key:"calculator",value:function(e,t,n,r){var o;n instanceof HW&&(n=null);var i=null===(o=n)||void 0===o?void 0:o.cloneNode(!0);return i&&(i.style.isMarker=!0),i}}])}(),IV=function(){return We(function e(){He(this,e),this.mixer=$G},[{key:"calculator",value:function(e,t,n){return n.value}}])}(),NV=function(){return We(function e(){He(this,e),this.mixer=IG(0,1)},[{key:"calculator",value:function(e,t,n){return n.value}},{key:"postProcessor",value:function(e){var t=e.parsedStyle,n=t.offsetPath,r=t.offsetDistance;if(n){var o=n.nodeName;if(o===JH.LINE||o===JH.PATH||o===JH.POLYLINE){var i=n.getPoint(r);i&&e.setLocalPosition(i.x,i.y)}}}}])}(),TV=function(){return We(function e(){He(this,e),this.mixer=IG(0,1)},[{key:"calculator",value:function(e,t,n){return n.value}}])}(),LV=function(){return We(function e(){He(this,e),this.parser=qG,this.mixer=XG},[{key:"calculator",value:function(e,t,n){return n instanceof HW&&"unset"===n.value?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new pF(0,0,0,0)}:n}}])}(),RV=We(function e(){He(this,e),this.mixer=UG}),_V=function(){function e(){var t;He(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=yl(this,e,[].concat(r))).mixer=IG(0,1/0),t}return Ve(e,OV),We(e)}(),AV=function(){return We(function e(){He(this,e)},[{key:"calculator",value:function(e,t,n,r){return n instanceof HW?"unset"===n.value?"":n.value:"".concat(n)}},{key:"postProcessor",value:function(e){e.nodeValue="".concat(e.parsedStyle.text)||""}}])}(),PV=function(){return We(function e(){He(this,e)},[{key:"calculator",value:function(e,t,n,r){var o=r.getAttribute("text");if(o){var i=o;"capitalize"===n.value?i=o.charAt(0).toUpperCase()+o.slice(1):"lowercase"===n.value?i=o.toLowerCase():"uppercase"===n.value&&(i=o.toUpperCase()),r.parsedStyle.text=i}return n.value}}])}(),jV=new WeakMap;var BV="undefined"!=typeof window&&void 0!==window.document;function DV(e){return!!e.getAttribute}function zV(e,t){var n=Number(e.parsedStyle.zIndex||0),r=Number(t.parsedStyle.zIndex||0);if(n===r){var o=e.parentNode;if(o){var i=o.childNodes||[];return i.indexOf(e)-i.indexOf(t)}}return n-r}function HV(e){var t=e;do{var n;if(null===(n=t.parsedStyle)||void 0===n?void 0:n.clipPath)return t;t=t.parentElement}while(null!==t);return null}function FV(e,t){if(BV)return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}var WV={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},GV="object"==typeof performance&&performance.now?performance:Date;function VV(e){return e.nodeName===JH.FRAGMENT||e.getRootNode().nodeName===JH.FRAGMENT}function qV(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=!1,o=!1,i=!!t&&!t.isNone,a=!!n&&!n.isNone;return"visiblepainted"===e||"painted"===e||"auto"===e?(r=i,o=a):"visiblefill"===e||"fill"===e?r=!0:"visiblestroke"===e||"stroke"===e?o=!0:"visible"!==e&&"all"!==e||(r=!0,o=!0),[r,o]}var XV,UV=1,YV="object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:{},KV=Date.now(),ZV={},QV=Date.now(),JV=function(e){if("function"!=typeof e)throw new TypeError("".concat(e," is not a function"));var t=Date.now(),n=t-QV,r=n>16?0:16-n,o=UV++;return ZV[o]=e,Object.keys(ZV).length>1||setTimeout(function(){QV=t;var e=ZV;ZV={},Object.keys(e).forEach(function(t){return e[t](YV.performance&&"function"==typeof YV.performance.now?YV.performance.now():Date.now()-KV)})},r),o},eq=function(e){delete ZV[e]},tq=function(e){return"string"!=typeof e?JV:""===e?YV.requestAnimationFrame:YV["".concat(e,"RequestAnimationFrame")]},nq=function(e,t){for(var n=0;void 0!==e[n];){if(t(e[n]))return e[n];n+=1}}(["","webkit","moz","ms","o"],function(e){return!!tq(e)}),rq=tq(nq),oq="string"!=typeof(XV=nq)?eq:""===XV?YV.cancelAnimationFrame:YV["".concat(XV,"CancelAnimationFrame")]||YV["".concat(XV,"CancelRequestAnimationFrame")];YV.requestAnimationFrame=rq,YV.cancelAnimationFrame=oq;var iq=function(){return We(function e(){He(this,e),this.callbacks=[]},[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(e,t){this.callbacks.push(t)}},{key:"promise",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.all(this.callbacks.map(function(e){return e.apply(void 0,t)}))}}])}(),aq=function(){return We(function e(){He(this,e),this.callbacks=[]},[{key:"tapPromise",value:function(e,t){this.callbacks.push(t)}},{key:"promise",value:(e=ms(ps().mark(function e(){var t,n,r,o,i=arguments;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.callbacks.length){e.next=6;break}return e.next=1,(t=this.callbacks)[0].apply(t,i);case 1:n=e.sent,r=0;case 2:if(!(r<this.callbacks.length-1)){e.next=5;break}return o=this.callbacks[r],e.next=3,o(n);case 3:n=e.sent;case 4:r++,e.next=2;break;case 5:return e.abrupt("return",n);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]);var e}(),lq=function(){return We(function e(){He(this,e),this.callbacks=[]},[{key:"tap",value:function(e,t){this.callbacks.push(t)}},{key:"call",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=arguments;this.callbacks.forEach(function(e){e.apply(void 0,r)})}}])}(),sq=function(){return We(function e(){He(this,e),this.callbacks=[]},[{key:"tap",value:function(e,t){this.callbacks.push(t)}},{key:"call",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.callbacks.length){for(var r=arguments,o=this.callbacks[0].apply(void 0,r),i=0;i<this.callbacks.length-1;i++){o=(0,this.callbacks[i])(o)}return o}return null}}])}(),cq=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],uq=/([\"\'])[^\'\"]+\1/;function dq(e){var t=e.fontSize,n=void 0===t?16:t,r=e.fontFamily,o=void 0===r?"sans-serif":r,i=e.fontStyle,a=void 0===i?"normal":i,l=e.fontVariant,s=void 0===l?"normal":l,c=e.fontWeight;return{fontSize:n,fontFamily:o,fontStyle:a,fontVariant:s,fontWeight:void 0===c?"normal":c}}var fq=MW(function(e){for(var t=dq(e),n=t.fontSize,r=t.fontFamily,o=t.fontStyle,i=t.fontVariant,a=t.fontWeight,l=uz(n)&&"".concat(n,"px")||"16px",s=r.split(","),c=s.length-1;c>=0;c--){var u=s[c].trim();!uq.test(u)&&cq.indexOf(u)<0&&(u='"'.concat(u,'"')),s[c]=u}return"".concat(o," ").concat(i," ").concat(a," ").concat(l," ").concat(s.join(","))},function(e){var t=dq(e),n=t.fontSize,r=t.fontFamily,o=t.fontStyle,i=t.fontVariant,a=t.fontWeight;return"".concat(o,"_").concat(i,"_").concat(a,"_").concat(n,"_").concat(r)}),hq=function(e){return Math.max(e,1e-6)};function pq(e,t,n){return PB(e),e[4]=Math.tan(t),e[1]=Math.tan(n),e}var gq=TB(),mq=TB(),vq={scale:function(e){qB(gq,[e[0].value,e[1].value,1].map(function(e){return hq(e)}))},scaleX:function(e){qB(gq,[e[0].value,1,1].map(function(e){return hq(e)}))},scaleY:function(e){qB(gq,[1,e[0].value,1].map(function(e){return hq(e)}))},scaleZ:function(e){qB(gq,[1,1,e[0].value].map(function(e){return hq(e)}))},scale3d:function(e){qB(gq,[e[0].value,e[1].value,e[2].value].map(function(e){return hq(e)}))},translate:function(e){VB(gq,[e[0].value,e[1].value,0])},translateX:function(e){VB(gq,[e[0].value,0,0])},translateY:function(e){VB(gq,[0,e[0].value,0])},translateZ:function(e){VB(gq,[0,0,e[0].value])},translate3d:function(e){VB(gq,[e[0].value,e[1].value,e[2].value])},rotate:function(e){KB(gq,wF(wG(e[0])))},rotateX:function(e){UB(gq,wF(wG(e[0])))},rotateY:function(e){YB(gq,wF(wG(e[0])))},rotateZ:function(e){KB(gq,wF(wG(e[0])))},rotate3d:function(e){XB(gq,wF(wG(e[3])),[e[0].value,e[1].value,e[2].value])},skew:function(e){pq(gq,wF(e[0].value),wF(e[1].value))},skewX:function(e){pq(gq,wF(e[0].value),0)},skewY:function(e){pq(gq,0,wF(e[0].value))},matrix:function(e){AB(gq,e[0].value,e[1].value,0,0,e[2].value,e[3].value,0,0,0,0,1,0,e[4].value,e[5].value,0,1)},matrix3d:function(e){AB.apply(hD,[gq].concat(it(e.map(function(e){return e.value}))))}},yq=vD(1,1,1),bq=pD(),xq={translate:function(e,t){EX.sceneGraphService.setLocalScale(e,yq,!1),EX.sceneGraphService.setLocalEulerAngles(e,bq,void 0,void 0,!1),EX.sceneGraphService.setLocalPosition(e,[t[0].value,t[1].value,0],!1),EX.sceneGraphService.dirtyLocalTransform(e,e.transformable)}};function wq(e,t){if(e.length){if(1===e.length&&xq[e[0].t])return void xq[e[0].t](t,e[0].d);for(var n=PB(mq),r=0;r<e.length;r++){var o=e[r],i=o.t,a=o.d,l=vq[i];l&&(l(a),dD(n,n,gq))}t.setLocalTransform(n)}else t.resetLocalTransform();return t.getLocalTransform()}var Cq=function(){return We(function e(){He(this,e),this.parser=nV,this.mixer=fV},[{key:"calculator",value:function(e,t,n,r){return n instanceof HW?[]:n}},{key:"postProcessor",value:function(e){wq(e.parsedStyle.transform,e)}}])}(),Sq=function(){return We(function e(){He(this,e)},[{key:"postProcessor",value:function(e){var t=e.parsedStyle.transformOrigin;t[0].unit===$W.kPixels&&t[1].unit===$W.kPixels?e.setOrigin(t[0].value,t[1].value):e.getGeometryBounds()}}])}(),Eq=function(){return We(function e(){He(this,e)},[{key:"calculator",value:function(e,t,n,r){return n.value}},{key:"postProcessor",value:function(e){if(e.parentNode){var t=e.parentNode,n=t.renderable,r=t.sortable;n&&t.dirty(),r&&(r.dirty=!0,r.dirtyReason=HF.Z_INDEX_CHANGED)}}}])}(),Oq=function(){return We(function e(){He(this,e)},[{key:"update",value:function(e,t){var n=e.cx,r=void 0===n?0:n,o=e.cy,i=void 0===o?0:o,a=e.r,l=void 0===a?0:a;return{cx:r,cy:i,hwidth:l,hheight:l}}}])}(),kq=function(){return We(function e(){He(this,e)},[{key:"update",value:function(e,t){var n=e.cx,r=void 0===n?0:n,o=e.cy,i=void 0===o?0:o,a=e.rx,l=void 0===a?0:a,s=e.ry;return{cx:r,cy:i,hwidth:l,hheight:void 0===s?0:s}}}])}(),Mq=function(){return We(function e(){He(this,e)},[{key:"update",value:function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2,i=Math.min(t,r),a=Math.max(t,r),l=Math.min(n,o),s=(a-i)/2,c=(Math.max(n,o)-l)/2;return{cx:i+s,cy:l+c,hwidth:s,hheight:c}}}])}(),$q=function(){return We(function e(){He(this,e)},[{key:"update",value:function(e){var t=e.d.rect,n=t.x,r=t.y,o=t.width/2,i=t.height/2;return{cx:n+o,cy:r+i,hwidth:o,hheight:i}}}])}(),Iq=function(){return We(function e(){He(this,e)},[{key:"update",value:function(e){if(e.points&&KD(e.points.points)){var t=e.points.points,n=Math.min.apply(Math,it(t.map(function(e){return e[0]}))),r=Math.max.apply(Math,it(t.map(function(e){return e[0]}))),o=Math.min.apply(Math,it(t.map(function(e){return e[1]}))),i=(r-n)/2,a=(Math.max.apply(Math,it(t.map(function(e){return e[1]})))-o)/2;return{cx:n+i,cy:o+a,hwidth:i,hheight:a}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Nq=function(){return We(function e(){He(this,e)},[{key:"update",value:function(e,t){var n=e.x,r=void 0===n?0:n,o=e.y,i=void 0===o?0:o,a=e.src,l=e.width,s=void 0===l?0:l,c=e.height,u=s,d=void 0===c?0:c;return a&&!lz(a)&&(u||(u=a.width,e.width=u),d||(d=a.height,e.height=d)),{cx:r+u/2,cy:i+d/2,hwidth:u/2,hheight:d/2}}}])}(),Tq=function(){return We(function e(t){He(this,e),this.globalRuntime=t},[{key:"isReadyToMeasure",value:function(e,t){return e.text}},{key:"update",value:function(e,t){var n,r=e.text,o=e.textAlign,i=void 0===o?"start":o,a=e.lineWidth,l=void 0===a?1:a,s=e.textBaseline,c=void 0===s?"alphabetic":s,u=e.dx,d=void 0===u?0:u,f=e.dy,h=void 0===f?0:f,p=e.x,g=void 0===p?0:p,m=e.y,v=void 0===m?0:m;if(!this.isReadyToMeasure(e,t))return e.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var y=((null==t||null===(n=t.ownerDocument)||void 0===n||null===(n=n.defaultView)||void 0===n?void 0:n.getConfig())||{}).offscreenCanvas,b=this.globalRuntime.textService.measureText(r,e,y);e.metrics=b;var x=b.width/2,w=b.height/2,C=g+x;"center"===i||"middle"===i?C+=l/2-x:"right"!==i&&"end"!==i||(C+=l-2*x);var S=v-w;return"middle"===c?S+=w:"top"===c||"hanging"===c?S+=2*w:"alphabetic"===c||"bottom"!==c&&"ideographic"!==c||(S+=0),d&&(C+=d),h&&(S+=h),{cx:C,cy:S,hwidth:x,hheight:w}}}])}(),Lq=function(){return We(function e(){He(this,e)},[{key:"update",value:function(e,t){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Rq=function(){return We(function e(){He(this,e)},[{key:"update",value:function(e,t){var n=e.x,r=void 0===n?0:n,o=e.y,i=void 0===o?0:o,a=e.width,l=void 0===a?0:a,s=e.height,c=void 0===s?0:s;return{cx:r+l/2,cy:i+c/2,hwidth:l/2,hheight:c/2}}}])}(),_q=function(){return We(function e(t){He(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new hF,this.page=new hF,this.canvas=new hF,this.viewport=new hF,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t},[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return!this.manager||this.path&&this.path[0]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(gF)}}])}(),Aq=function(){function e(){var t;He(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=yl(this,e,[].concat(r))).client=new hF,t.movement=new hF,t.offset=new hF,t.global=new hF,t.screen=new hF,t}return Ve(e,_q),We(e,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}},{key:"initMouseEvent",value:function(){throw new Error(gF)}}])}(),Pq=function(){function e(){var t;He(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=yl(this,e,[].concat(r))).width=0,t.height=0,t.isPrimary=!1,t}return Ve(e,Aq),We(e,[{key:"getCoalescedEvents",value:function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(),jq=function(){function e(){return He(this,e),yl(this,e,arguments)}return Ve(e,Aq),We(e,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(),Bq=function(){function e(t,n){var r;return He(this,e),(r=yl(this,e,[null])).type=t,r.detail=n,Object.assign(r,n),r}return Ve(e,_q),We(e)}(),Dq=function(){return We(function e(){He(this,e),this.emitter=new kB},[{key:"on",value:function(e,t,n){return this.addEventListener(e,t,n),this}},{key:"addEventListener",value:function(e,t,n){var r=!1,o=!1;if(yz(n))r=n;else if(n){var i=n.capture;r=void 0!==i&&i;var a=n.once;o=void 0!==a&&a}r&&(e+="capture"),t=UD(t)?t:t.handleEvent;var l=UD(t)?void 0:t;return o?this.emitter.once(e,t,l):this.emitter.on(e,t,l),this}},{key:"off",value:function(e,t,n){return e?this.removeEventListener(e,t,n):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var e;null===(e=this.emitter)||void 0===e||e.removeAllListeners()}},{key:"removeEventListener",value:function(e,t,n){var r;if(!this.emitter)return this;(yz(n)?n:null==n?void 0:n.capture)&&(e+="capture"),t=UD(t)?t:null===(r=t)||void 0===r?void 0:r.handleEvent;var o=UD(t)?void 0:t;return this.emitter.off(e,t,o),this}},{key:"emit",value:function(e,t){this.dispatchEvent(new Bq(e,t))}},{key:"dispatchEventToSelf",value:function(e){e.target||(e.target=this),e.currentTarget=this,this.emitter.emit(e.type,e)}},{key:"dispatchEvent",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(arguments.length>2?arguments[2]:void 0)return this.dispatchEventToSelf(e),!0;if(this.document)t=this;else if(this.defaultView)t=this.defaultView;else{var r;t=null===(r=this.ownerDocument)||void 0===r?void 0:r.defaultView}if(t){if(e.manager=t.getEventService(),!e.manager)return!1;e.defaultPrevented=!1,e.path?e.path.length=0:e.page=[],n||(e.target=this),e.manager.dispatchEvent(e,e.type,n)}else this.dispatchEventToSelf(e);return!e.defaultPrevented}}])}(),zq=function(){function e(){var t;He(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=yl(this,e,[].concat(r))).shadow=!1,t.ownerDocument=null,t.isConnected=!1,t.baseURI="",t.childNodes=[],t.nodeType=0,t.nodeName="",t.nodeValue=null,t.parentNode=null,t.destroyed=!1,t}return Ve(e,Dq),We(e,[{key:"textContent",get:function(){var e="";this.nodeName===JH.TEXT&&(e+=this.style.text);var t,n=lT(this.childNodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.nodeName===JH.TEXT?e+=r.nodeValue:e+=r.textContent}}catch(o){n.e(o)}finally{n.f()}return e},set:function(e){var t=this;this.childNodes.slice().forEach(function(e){t.removeChild(e)}),this.nodeName===JH.TEXT&&(this.style.text="".concat(e))}},{key:"getRootNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(e):e.composed&&this.host?this.host.getRootNode(e):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(e){throw new Error(gF)}},{key:"lookupNamespaceURI",value:function(e){throw new Error(gF)}},{key:"lookupPrefix",value:function(e){throw new Error(gF)}},{key:"normalize",value:function(){throw new Error(gF)}},{key:"isEqualNode",value:function(e){return this===e}},{key:"isSameNode",value:function(e){return this.isEqualNode(e)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(t){if(t===this)return 0;for(var n=t,r=this,o=[n],i=[r];null!==(a=n.parentNode)&&void 0!==a?a:r.parentNode;){var a;n=n.parentNode?(o.push(n.parentNode),n.parentNode):n,r=r.parentNode?(i.push(r.parentNode),r.parentNode):r}if(n!==r)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var l=o.length>i.length?o:i,s=l===o?i:o;if(l[l.length-s.length]===s[0])return l===o?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var c=l.length-s.length,u=s.length-1;u>=0;u--){var d=s[u],f=l[c+u];if(f!==d){var h=d.parentNode.childNodes;return h.indexOf(d)<h.indexOf(f)?s===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:l===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(e){return this.contains(e)}},{key:"contains",value:function(e){for(var t=e;t&&this!==t;)t=t.parentNode;return!!t}},{key:"getAncestor",value:function(e){for(var t=this;e>0&&t;)t=t.parentNode,e--;return t}},{key:"forEach",value:function(e){for(var t=[this];t.length>0;){var n=t.pop();if(!1===e(n))break;for(var r=n.childNodes.length-1;r>=0;r--)t.push(n.childNodes[r])}}}],[{key:"isNode",value:function(e){return!!e.childNodes}}])}();zq.DOCUMENT_POSITION_DISCONNECTED=1,zq.DOCUMENT_POSITION_PRECEDING=2,zq.DOCUMENT_POSITION_FOLLOWING=4,zq.DOCUMENT_POSITION_CONTAINS=8,zq.DOCUMENT_POSITION_CONTAINED_BY=16,zq.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var Hq=function(){return We(function e(t,n){var r=this;He(this,e),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=TB(),this.tmpVec3=pD(),this.onPointerDown=function(e){var t=r.createPointerEvent(e);if(r.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)r.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){var n=2===t.button;r.dispatchEvent(t,n?"rightdown":"mousedown")}r.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),r.freeEvent(t)},this.onPointerUp=function(e){var t=GV.now(),n=r.createPointerEvent(e,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(n,"pointerup"),"touch"===n.pointerType)r.dispatchEvent(n,"touchend");else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;r.dispatchEvent(n,o?"rightup":"mouseup")}var i=r.trackingData(e.pointerId),a=r.findMountedTarget(i.pressTargetsByButton[e.button]),l=a;if(a&&!n.composedPath().includes(a)){for(var s=a;s&&!n.composedPath().includes(s);){if(n.currentTarget=s,r.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType)r.notifyTarget(n,"touchendoutside");else if("mouse"===n.pointerType||"pen"===n.pointerType){var c=2===n.button;r.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}zq.isNode(s)&&(s=s.parentNode)}delete i.pressTargetsByButton[e.button],l=s}if(l){var u,d=r.clonePointerEvent(n,"click");d.target=l,d.path=[],i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:d.target,timeStamp:t});var f=r.context.renderingContext.root.ownerDocument.defaultView,h=i.clicksByButton[e.button];h.target===d.target&&t-h.timeStamp<f.getConfig().dblClickSpeed?++h.clickCount:h.clickCount=1,h.target=d.target,h.timeStamp=t,d.detail=h.clickCount,null!==(u=n.detail)&&void 0!==u&&u.preventClick||(r.context.config.useNativeClickEvent||"mouse"!==d.pointerType&&"touch"!==d.pointerType||r.dispatchEvent(d,"click"),r.dispatchEvent(d,"pointertap")),r.freeEvent(d)}r.freeEvent(n)},this.onPointerMove=function(e){var t=r.createPointerEvent(e,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),n="mouse"===t.pointerType||"pen"===t.pointerType,o=r.trackingData(e.pointerId),i=r.findMountedTarget(o.overTargets);if(o.overTargets&&i!==t.target){var a="mousemove"===e.type?"mouseout":"pointerout",l=r.createPointerEvent(e,a,i||void 0);if(r.dispatchEvent(l,"pointerout"),n&&r.dispatchEvent(l,"mouseout"),!t.composedPath().includes(i)){var s=r.createPointerEvent(e,"pointerleave",i||void 0);for(s.eventPhase=s.AT_TARGET;s.target&&!t.composedPath().includes(s.target);)s.currentTarget=s.target,r.notifyTarget(s),n&&r.notifyTarget(s,"mouseleave"),zq.isNode(s.target)&&(s.target=s.target.parentNode);r.freeEvent(s)}r.freeEvent(l)}if(i!==t.target){var c="mousemove"===e.type?"mouseover":"pointerover",u=r.clonePointerEvent(t,c);r.dispatchEvent(u,"pointerover"),n&&r.dispatchEvent(u,"mouseover");for(var d=i&&zq.isNode(i)&&i.parentNode;d&&d!==(zq.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&d!==t.target;)d=d.parentNode;if(!d||d===(zq.isNode(r.rootTarget)&&r.rootTarget.parentNode)){var f=r.clonePointerEvent(t,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==i&&f.target!==(zq.isNode(r.rootTarget)&&r.rootTarget.parentNode);)f.currentTarget=f.target,r.notifyTarget(f),n&&r.notifyTarget(f,"mouseenter"),zq.isNode(f.target)&&(f.target=f.target.parentNode);r.freeEvent(f)}r.freeEvent(u)}r.dispatchEvent(t,"pointermove"),"touch"===t.pointerType&&r.dispatchEvent(t,"touchmove"),n&&(r.dispatchEvent(t,"mousemove"),r.cursor=r.getCursor(t.target)),o.overTargets=t.composedPath(),r.freeEvent(t)},this.onPointerOut=function(e){var t=r.trackingData(e.pointerId);if(t.overTargets){var n="mouse"===e.pointerType||"pen"===e.pointerType,o=r.findMountedTarget(t.overTargets),i=r.createPointerEvent(e,"pointerout",o||void 0);r.dispatchEvent(i),n&&r.dispatchEvent(i,"mouseout");var a=r.createPointerEvent(e,"pointerleave",o||void 0);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==(zq.isNode(r.rootTarget)&&r.rootTarget.parentNode);)a.currentTarget=a.target,r.notifyTarget(a),n&&r.notifyTarget(a,"mouseleave"),zq.isNode(a.target)&&(a.target=a.target.parentNode);t.overTargets=null,r.freeEvent(i),r.freeEvent(a)}r.cursor=null},this.onPointerOver=function(e){var t=r.trackingData(e.pointerId),n=r.createPointerEvent(e),o="mouse"===n.pointerType||"pen"===n.pointerType;r.dispatchEvent(n,"pointerover"),o&&r.dispatchEvent(n,"mouseover"),"mouse"===n.pointerType&&(r.cursor=r.getCursor(n.target));var i=r.clonePointerEvent(n,"pointerenter");for(i.eventPhase=i.AT_TARGET;i.target&&i.target!==(zq.isNode(r.rootTarget)&&r.rootTarget.parentNode);)i.currentTarget=i.target,r.notifyTarget(i),o&&r.notifyTarget(i,"mouseenter"),zq.isNode(i.target)&&(i.target=i.target.parentNode);t.overTargets=n.composedPath(),r.freeEvent(n),r.freeEvent(i)},this.onPointerUpOutside=function(e){var t=r.trackingData(e.pointerId),n=r.findMountedTarget(t.pressTargetsByButton[e.button]),o=r.createPointerEvent(e);if(n){for(var i=n;i;)o.currentTarget=i,r.notifyTarget(o,"pointerupoutside"),"touch"===o.pointerType||"mouse"!==o.pointerType&&"pen"!==o.pointerType||r.notifyTarget(o,2===o.button?"rightupoutside":"mouseupoutside"),zq.isNode(i)&&(i=i.parentNode);delete t.pressTargetsByButton[e.button]}r.freeEvent(o)},this.onWheel=function(e){var t=r.createWheelEvent(e);r.dispatchEvent(t),r.freeEvent(t)},this.onClick=function(e){if(r.context.config.useNativeClickEvent){var t=r.createPointerEvent(e);r.dispatchEvent(t),r.freeEvent(t)}},this.onPointerCancel=function(e){var t=r.createPointerEvent(e,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(t),r.freeEvent(t)},this.globalRuntime=t,this.context=n},[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var e=this.context.contextService.getBoundingClientRect(),t=1,n=1,r=this.context.contextService.getDomElement();if(r&&e){var o=r.offsetWidth,i=r.offsetHeight;o&&i&&(t=e.width/o,n=e.height/i)}return{scaleX:t,scaleY:n,bbox:e}}},{key:"client2Viewport",value:function(e){var t=this.getScale(),n=t.scaleX,r=t.scaleY,o=t.bbox;return new hF((e.x-((null==o?void 0:o.left)||0))/n,(e.y-((null==o?void 0:o.top)||0))/r)}},{key:"viewport2Client",value:function(e){var t=this.getScale(),n=t.scaleX,r=t.scaleY,o=t.bbox;return new hF((e.x+((null==o?void 0:o.left)||0))*n,(e.y+((null==o?void 0:o.top)||0))*r)}},{key:"viewport2Canvas",value:function(e){var t=e.x,n=e.y,r=this.rootTarget.defaultView.getCamera(),o=this.context.config,i=o.width,a=o.height,l=r.getPerspectiveInverse(),s=r.getWorldTransform(),c=zB(this.tmpMatrix,s,l),u=bD(this.tmpVec3,t/i*2-1,2*(1-n/a)-1,0);return MD(u,u,c),new hF(u[0],u[1])}},{key:"canvas2Viewport",value:function(e){var t=this.rootTarget.defaultView.getCamera(),n=t.getPerspective(),r=t.getViewTransform(),o=zB(this.tmpMatrix,n,r),i=bD(this.tmpVec3,e.x,e.y,0);MD(this.tmpVec3,this.tmpVec3,o);var a=this.context.config,l=a.width,s=a.height;return new hF((i[0]+1)/2*l,(1-(i[1]+1)/2)*s)}},{key:"setPickHandler",value:function(e){this.pickHandler=e}},{key:"addEventMapping",value:function(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort(function(e,t){return e.priority-t.priority})}},{key:"mapEvent",value:function(e){if(this.rootTarget){var t=this.mappingTable[e.type];if(t)for(var n=0,r=t.length;n<r;n++)t[n].fn(e)}}},{key:"dispatchEvent",value:function(e,t,n){if(n){e.eventPhase=e.AT_TARGET;var r=this.rootTarget.defaultView||null;e.currentTarget=r,this.notifyListeners(e,t)}else e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t)}},{key:"propagate",value:function(e,t){if(e.target){var n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var r=n.length-1;r>=1;r--)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){var o=n.indexOf(e.currentTarget);e.eventPhase=e.BUBBLING_PHASE;for(var i=o+1;i<n.length;i++)if(e.currentTarget=n[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(e){var t=[e],n=this.rootTarget.defaultView||null;if(n&&n===e)return t.unshift(n.document),t;for(var r=0;r<2048&&e!==this.rootTarget;r++)zq.isNode(e)&&e.parentNode&&(t.push(e.parentNode),e=e.parentNode);return n&&t.push(n),t}},{key:"hitTest",value:function(e){var t=e.viewportX,n=e.viewportY,r=this.context.config,o=r.width,i=r.height,a=r.disableHitTesting;return t<0||n<0||t>o||n>i?null:!a&&this.pickHandler(e)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(e,t){var n,r=null==t?void 0:t.target;if(null!==(n=r)&&void 0!==n&&n.shadowRoot&&(r=t.composedPath()[0]),r){if(r===e)return!0;if(e&&e.contains)return e.contains(r)}return!(null==t||!t.composedPath)&&t.composedPath().indexOf(e)>-1}},{key:"getExistedHTML",value:function(e){if(e.nativeEvent.composedPath)for(var t=0,n=e.nativeEvent.composedPath();t<n.length;t++){var r=n[t],o=this.nativeHTMLMap.get(r);if(o)return o}return null}},{key:"pickTarget",value:function(e){return this.hitTest({clientX:e.clientX,clientY:e.clientY,viewportX:e.viewportX,viewportY:e.viewportY,x:e.canvasX,y:e.canvasY})}},{key:"createPointerEvent",value:function(e,t,n,r){var o=this.allocateEvent(Pq);this.copyPointerData(e,o),this.copyMouseData(e,o),this.copyData(e,o),o.nativeEvent=e.nativeEvent,o.originalEvent=e;var i=this.getExistedHTML(o),a=this.context.contextService.getDomElement();return o.target=null!=n?n:i||this.isNativeEventFromCanvas(a,o.nativeEvent)&&this.pickTarget(o)||r,"string"==typeof t&&(o.type=t),o}},{key:"createWheelEvent",value:function(e){var t=this.allocateEvent(jq);this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e;var n=this.getExistedHTML(t),r=this.context.contextService.getDomElement();return t.target=n||this.isNativeEventFromCanvas(r,t.nativeEvent)&&this.pickTarget(t),t}},{key:"trackingData",value:function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}},{key:"cloneWheelEvent",value:function(e){var t=this.allocateEvent(jq);return t.nativeEvent=e.nativeEvent,t.originalEvent=e.originalEvent,this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.target=e.target,t.path=e.composedPath().slice(),t.type=e.type,t}},{key:"clonePointerEvent",value:function(e,t){var n=this.allocateEvent(Pq);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=null!=t?t:n.type,n}},{key:"copyPointerData",value:function(e,t){t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist}},{key:"copyMouseData",value:function(e,t){t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.client.copyFrom(e.client),t.movement.copyFrom(e.movement),t.canvas.copyFrom(e.canvas),t.screen.copyFrom(e.screen),t.global.copyFrom(e.global),t.offset.copyFrom(e.offset)}},{key:"copyWheelData",value:function(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}},{key:"copyData",value:function(e,t){t.isTrusted=e.isTrusted,t.timeStamp=GV.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.page.copyFrom(e.page),t.viewport.copyFrom(e.viewport)}},{key:"allocateEvent",value:function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=[],t.target=null,t}},{key:"freeEvent",value:function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}},{key:"notifyTarget",value:function(e,t){t=null!=t?t:e.type;var n=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,n),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}},{key:"notifyListeners",value:function(e,t){var n=e.currentTarget.emitter,r=n._events[t];if(r)if("fn"in r)r.once&&n.removeListener(t,r.fn,void 0,!0),r.fn.call(e.currentTarget||r.context,e);else for(var o=0;o<r.length&&!e.propagationImmediatelyStopped;o++)r[o].once&&n.removeListener(t,r[o].fn,void 0,!0),r[o].fn.call(e.currentTarget||r[o].context,e)}},{key:"findMountedTarget",value:function(e){if(!e)return null;for(var t=e[e.length-1],n=e.length-2;n>=0;n--){var r=e[n];if(!(r===this.rootTarget||zq.isNode(r)&&r.parentNode===t))break;t=e[n]}return t}},{key:"getCursor",value:function(e){for(var t=e;t;){var n=DV(t)&&t.getAttribute("cursor");if(n)return n;t=zq.isNode(t)&&t.parentNode}}}])}(),Fq=function(){return We(function e(){He(this,e)},[{key:"getOrCreateCanvas",value:function(e,t){if(this.canvas)return this.canvas;if(e||EX.offscreenCanvas)this.canvas=e||EX.offscreenCanvas,this.context=this.canvas.getContext("2d",EB({willReadFrequently:!0},t));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",EB({willReadFrequently:!0},t)),this.context&&this.context.measureText||(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",EB({willReadFrequently:!0},t))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(e,t){return this.context||this.getOrCreateCanvas(e,t),this.context}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch(e){}try{return document.createElement("canvas")}catch(t){}return null}}])}(),Wq=function(e){return e[e.CAMERA_CHANGED=0]="CAMERA_CHANGED",e[e.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",e[e.NONE=2]="NONE",e}({}),Gq=function(){return We(function e(t,n){He(this,e),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new lq,initAsync:new iq,dirtycheck:new sq,cull:new sq,beginFrame:new lq,beforeRender:new lq,render:new lq,afterRender:new lq,endFrame:new lq,destroy:new lq,pick:new aq,pickSync:new sq,pointerDown:new lq,pointerUp:new lq,pointerMove:new lq,pointerOut:new lq,pointerOver:new lq,pointerWheel:new lq,pointerCancel:new lq,click:new lq},this.globalRuntime=t,this.context=n},[{key:"init",value:function(e){var t=this,n=EB(EB({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(e){e.apply(n,t.globalRuntime)}),this.hooks.init.call(),0===this.hooks.initAsync.getCallbacksNum()?(this.inited=!0,e()):this.hooks.initAsync.promise().then(function(){t.inited=!0,e()}).catch(function(e){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){return!this.context.config.renderer.getConfig().enableDirtyRectangleRendering||this.context.renderingContext.renderReasons.has(Wq.CAMERA_CHANGED)}},{key:"render",value:function(e,t,n){var r=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var o=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(o.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),o.renderReasons.size&&this.inited){o.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var i=1===o.renderReasons.size&&o.renderReasons.has(Wq.CAMERA_CHANGED),a=!e.disableRenderHooks||!i;a&&this.renderDisplayObject(o.root,e,o),this.hooks.beginFrame.call(t),a&&o.renderListCurrentFrame.forEach(function(e){r.hooks.beforeRender.call(e),r.hooks.render.call(e),r.hooks.afterRender.call(e)}),this.hooks.endFrame.call(t),o.renderListCurrentFrame=[],o.renderReasons.clear(),n()}}},{key:"renderDisplayObject",value:function(e,t,n){var r=this,o=t.renderer.getConfig(),i=o.enableDirtyCheck,a=o.enableCulling;function l(e){var t=e.renderable,o=e.sortable,l=i?t.dirty||n.dirtyRectangleRenderingDisabled?e:null:e,s=null;l&&(s=a?r.hooks.cull.call(l,r.context.camera):l)&&(r.stats.rendered+=1,n.renderListCurrentFrame.push(s)),e.dirty(!1),o.renderOrder=r.zIndexCounter,r.zIndexCounter+=1,r.stats.total+=1,o.dirty&&(r.sort(e,o),o.dirty=!1,o.dirtyChildren=[],o.dirtyReason=void 0)}for(var s=[e];s.length>0;){var c,u=s.pop();l(u);for(var d=(null===(c=u.sortable)||void 0===c||null===(c=c.sorted)||void 0===c?void 0:c.length)>0?u.sortable.sorted:u.childNodes,f=d.length-1;f>=0;f--)s.push(d[f])}}},{key:"sort",value:function(e,t){var n,r;(null==t||null===(n=t.sorted)||void 0===n?void 0:n.length)>0&&t.dirtyReason!==HF.Z_INDEX_CHANGED?t.dirtyChildren.forEach(function(n){var r=t.sorted.indexOf(n);if(r>-1&&t.sorted.splice(r,1),e.childNodes.indexOf(n)>-1)if(0===t.sorted.length)t.sorted.push(n);else{var o=function(e,t){for(var n=0,r=e.length;n<r;){var o=n+r>>>1;zV(e[o],t)<0?n=o+1:r=o}return n}(t.sorted,n);t.sorted.splice(o,0,n)}}):t.sorted=e.childNodes.slice().sort(zV),(null===(r=t.sorted)||void 0===r?void 0:r.length)>0&&0===e.childNodes.filter(function(e){return e.parsedStyle.zIndex}).length&&(t.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(Wq.DISPLAY_OBJECT_CHANGED)}}])}(),Vq=/\[\s*(.*)=(.*)\s*\]/,qq=function(){return We(function e(){He(this,e)},[{key:"selectOne",value:function(e,t){var n=this;if(e.startsWith("."))return t.find(function(t){return((null==t?void 0:t.classList)||[]).indexOf(n.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.find(function(t){return t.id===n.getIdOrClassname(e)});if(e.startsWith("[")){var r=this.getAttribute(e),o=r.name,i=r.value;return o?t.find(function(e){return t!==e&&("name"===o?e.name===i:n.attributeToString(e,o)===i)}):null}return t.find(function(n){return t!==n&&n.nodeName===e})}},{key:"selectAll",value:function(e,t){var n=this;if(e.startsWith("."))return t.findAll(function(r){return t!==r&&((null==r?void 0:r.classList)||[]).indexOf(n.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.findAll(function(r){return t!==r&&r.id===n.getIdOrClassname(e)});if(e.startsWith("[")){var r=this.getAttribute(e),o=r.name,i=r.value;return o?t.findAll(function(e){return t!==e&&("name"===o?e.name===i:n.attributeToString(e,o)===i)}):[]}return t.findAll(function(n){return t!==n&&n.nodeName===e})}},{key:"is",value:function(e,t){if(e.startsWith("."))return t.className===this.getIdOrClassname(e);if(e.startsWith("#"))return t.id===this.getIdOrClassname(e);if(e.startsWith("[")){var n=this.getAttribute(e),r=n.name,o=n.value;return"name"===r?t.name===o:this.attributeToString(t,r)===o}return t.nodeName===e}},{key:"getIdOrClassname",value:function(e){return e.substring(1)}},{key:"getAttribute",value:function(e){var t=e.match(Vq),n="",r="";return t&&t.length>2&&(n=t[1].replace(/"/g,""),r=t[2].replace(/"/g,"")),{name:n,value:r}}},{key:"attributeToString",value:function(e,t){if(!e.getAttribute)return"";var n=e.getAttribute(t);return YD(n)?"":n.toString?n.toString():""}}])}(),Xq=function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e}({}),Uq=function(){function e(t,n,r,o,i,a,l,s){var c;return He(this,e),(c=yl(this,e,[null])).relatedNode=n,c.prevValue=r,c.newValue=o,c.attrName=i,c.attrChange=a,c.prevParsedValue=l,c.newParsedValue=s,c.type=t,c}return Ve(e,_q),We(e)}();Uq.ADDITION=2,Uq.MODIFICATION=1,Uq.REMOVAL=3;var Yq,Kq,Zq,Qq=new Uq(Xq.REPARENT,null,"","","",0,"",""),Jq=qD(),eX=pD(),tX=vD(1,1,1),nX=TB(),rX=qD(),oX=pD(),iX=TB(),aX=PD(),lX=pD(),sX=PD(),cX=pD(),uX=pD(),dX=pD(),fX=TB(),hX=PD(),pX=PD(),gX=PD(),mX={affectChildren:!0},vX=function(){return We(function e(t){He(this,e),this.pendingEvents=new Map,this.boundsChangedEvent=new Bq(Xq.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=t},[{key:"matches",value:function(e,t){return this.runtime.sceneGraphSelector.is(e,t)}},{key:"querySelector",value:function(e,t){return this.runtime.sceneGraphSelector.selectOne(e,t)}},{key:"querySelectorAll",value:function(e,t){return this.runtime.sceneGraphSelector.selectAll(e,t)}},{key:"attach",value:function(e,t,n){var r,o=!1;e.parentNode&&(o=e.parentNode!==t,this.detach(e));var i=e.nodeName===JH.FRAGMENT,a=VV(t);e.parentNode=t;var l=i?e.childNodes:[e];uz(n)?l.forEach(function(e){t.childNodes.splice(n,0,e),e.parentNode=t}):l.forEach(function(e){t.childNodes.push(e),e.parentNode=t});var s=t.sortable;if((null!=s&&null!==(r=s.sorted)&&void 0!==r&&r.length||s.dirty||e.parsedStyle.zIndex)&&(-1===s.dirtyChildren.indexOf(e)&&s.dirtyChildren.push(e),s.dirty=!0,s.dirtyReason=HF.ADDED),!a){if(i)this.dirtifyFragment(e);else{var c=e.transformable;c&&this.dirtyWorldTransform(e,c)}if(o){var u,d=!0===(null===(u=t.ownerDocument)||void 0===u||null===(u=u.defaultView)||void 0===u||null===(u=u.getConfig())||void 0===u||null===(u=u.future)||void 0===u?void 0:u.experimentalCancelEventPropagation);e.dispatchEvent(Qq,d,d)}}}},{key:"detach",value:function(e){var t,n;if(e.parentNode){var r=e.transformable,o=e.parentNode.sortable;(null!=o&&null!==(t=o.sorted)&&void 0!==t&&t.length||null!==(n=e.style)&&void 0!==n&&n.zIndex)&&(-1===o.dirtyChildren.indexOf(e)&&o.dirtyChildren.push(e),o.dirty=!0,o.dirtyReason=HF.REMOVED);var i=e.parentNode.childNodes.indexOf(e);i>-1&&e.parentNode.childNodes.splice(i,1),r&&this.dirtyWorldTransform(e,r),e.parentNode=null}}},{key:"getLocalPosition",value:function(e){return e.transformable.localPosition}},{key:"getLocalRotation",value:function(e){return e.transformable.localRotation}},{key:"getLocalScale",value:function(e){return e.transformable.localScale}},{key:"getLocalSkew",value:function(e){return e.transformable.localSkew}},{key:"getLocalTransform",value:function(e){var t=e.transformable;return VF(t),t.localTransform}},{key:"setLocalPosition",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.transformable;uX[0]=t[0],uX[1]=t[1],uX[2]=null!==(n=t[2])&&void 0!==n?n:0,ID(o.localPosition,uX)||(yD(o.localPosition,uX),r&&this.dirtyLocalTransform(e,o))}},{key:"translateLocal",value:function(e,t){"number"==typeof t&&(t=vD(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var n,r,o,i,a,l,s,c,u,d,f,h,p,g=e.transformable;ID(t,eX)||(n=t,r=t,o=g.localRotation,i=o[0],a=o[1],l=o[2],s=o[3],c=r[0],u=r[1],d=r[2],f=a*d-l*u,h=l*c-i*d,p=i*u-a*c,f+=f,h+=h,p+=p,n[0]=c+s*f+a*p-l*h,n[1]=u+s*h+l*f-i*p,n[2]=d+s*p+i*h-a*f,xD(g.localPosition,g.localPosition,t),this.dirtyLocalTransform(e,g))}},{key:"setLocalRotation",value:function(e,t,n,r,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];"number"==typeof t&&(t=WD(aX,t,n,r,o));var a=e.transformable;FD(a.localRotation,t),i&&this.dirtyLocalTransform(e,a)}},{key:"rotateLocal",value:function(e,t){"number"==typeof t&&(t=vD(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var n=e.transformable;zD(pX,t[0],t[1],t[2]),GD(n.localRotation,n.localRotation,pX),this.dirtyLocalTransform(e,n)}},{key:"setLocalScale",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.transformable;bD(oX,t[0],t[1],null!==(n=t[2])&&void 0!==n?n:o.localScale[2]),ID(oX,o.localScale)||(yD(o.localScale,oX),r&&this.dirtyLocalTransform(e,o))}},{key:"scaleLocal",value:function(e,t){var n,r,o,i,a=e.transformable;r=a.localScale,o=a.localScale,i=bD(oX,t[0],t[1],null!==(n=t[2])&&void 0!==n?n:1),r[0]=o[0]*i[0],r[1]=o[1]*i[1],r[2]=o[2]*i[2],this.dirtyLocalTransform(e,a)}},{key:"setLocalSkew",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];"number"==typeof t&&(t=function(e,t,n){return e[0]=t,e[1]=n,e}(rX,t,n));var o,i,a=e.transformable;o=a.localSkew,i=t,o[0]=i[0],o[1]=i[1],r&&this.dirtyLocalTransform(e,a)}},{key:"setLocalEulerAngles",value:function(e,t){var n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];"number"==typeof t&&(t=vD(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var r=e.transformable;zD(r.localRotation,t[0],t[1],t[2]),n&&this.dirtyLocalTransform(e,r)}},{key:"setLocalTransform",value:function(e,t){var n=QB(lX,t),r=eD(sX,t),o=JB(cX,t);this.setLocalScale(e,o,!1),this.setLocalPosition(e,n,!1),this.setLocalRotation(e,r,void 0,void 0,void 0,!1),this.dirtyLocalTransform(e,e.transformable)}},{key:"resetLocalTransform",value:function(e){this.setLocalScale(e,tX,!1),this.setLocalPosition(e,eX,!1),this.setLocalEulerAngles(e,eX,void 0,void 0,!1),this.setLocalSkew(e,Jq,void 0,!1),this.dirtyLocalTransform(e,e.transformable)}},{key:"getPosition",value:function(e){var t=e.transformable;return QB(t.position,this.getWorldTransform(e,t))}},{key:"getRotation",value:function(e){var t=e.transformable;return eD(t.rotation,this.getWorldTransform(e,t))}},{key:"getScale",value:function(e){var t=e.transformable;return JB(t.scaling,this.getWorldTransform(e,t))}},{key:"getOrigin",value:function(e){return e.getGeometryBounds(),e.transformable.origin}},{key:"getWorldTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transformable;return t.localDirtyFlag||t.dirtyFlag?(e.parentNode&&e.parentNode.transformable&&this.getWorldTransform(e.parentNode),this.internalUpdateTransform(e),t.worldTransform):t.worldTransform}},{key:"setPosition",value:function(e,t){var n,r=e.transformable;if(dX[0]=t[0],dX[1]=t[1],dX[2]=null!==(n=t[2])&&void 0!==n?n:0,!ID(this.getPosition(e),dX)){if(yD(r.position,dX),null!==e.parentNode&&e.parentNode.transformable){var o=e.parentNode.transformable;RB(fX,o.worldTransform),BB(fX,fX),MD(r.localPosition,dX,fX)}else yD(r.localPosition,dX);this.dirtyLocalTransform(e,r)}}},{key:"translate",value:function(e,t){"number"==typeof t&&(t=bD(oX,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0)),ID(t,eX)||(xD(oX,this.getPosition(e),t),this.setPosition(e,oX))}},{key:"setRotation",value:function(e,t,n,r,o){var i=e.transformable;if("number"==typeof t&&(t=HD(t,n,r,o)),null!==e.parentNode&&e.parentNode.transformable){var a=this.getRotation(e.parentNode);FD(aX,a),DD(aX,aX),BD(i.localRotation,aX,t),VD(i.localRotation,i.localRotation),this.dirtyLocalTransform(e,i)}else this.setLocalRotation(e,t)}},{key:"rotate",value:function(e,t){"number"==typeof t&&(t=vD(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var n=e.transformable;if(null!==e.parentNode&&e.parentNode.transformable){var r=aX;zD(r,t[0],t[1],t[2]);var o=this.getRotation(e),i=this.getRotation(e.parentNode);FD(gX,i),DD(gX,gX),BD(r,gX,r),BD(n.localRotation,r,o),VD(n.localRotation,n.localRotation),this.dirtyLocalTransform(e,n)}else this.rotateLocal(e,t)}},{key:"setOrigin",value:function(e,t){"number"==typeof t&&(t=[t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0]);var n=e.transformable;if(t[0]!==n.origin[0]||t[1]!==n.origin[1]||t[2]!==n.origin[2]){var r=n.origin;r[0]=t[0],r[1]=t[1],r[2]=t[2]||0,this.dirtyLocalTransform(e,n)}}},{key:"setEulerAngles",value:function(e,t){"number"==typeof t&&(t=vD(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var n=e.transformable;if(null!==e.parentNode&&e.parentNode.transformable){zD(n.localRotation,t[0],t[1],t[2]);var r=this.getRotation(e.parentNode);FD(hX,DD(aX,r)),GD(n.localRotation,n.localRotation,hX),this.dirtyLocalTransform(e,n)}else this.setLocalEulerAngles(e,t)}},{key:"getTransformedGeometryBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.getGeometryBounds(e,t);if(!cF.isEmpty(r)){var o=n||new cF;return o.setFromTransformedAABB(r,this.getWorldTransform(e)),o}return null}},{key:"getGeometryBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.geometry;return n.dirty&&EX.styleValueRegistry.updateGeometry(e),(t?n.renderBounds:n.contentBounds||null)||new cF}},{key:"getBounds",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.renderable;if(!r.boundsDirty&&!n&&r.bounds)return r.bounds;if(!r.renderBoundsDirty&&n&&r.renderBounds)return r.renderBounds;var o=n?r.renderBounds:r.bounds,i=this.getTransformedGeometryBounds(e,n,o);if(e.childNodes.forEach(function(e){var r=t.getBounds(e,n);r&&(i?i.add(r):(i=o||new cF).update(r.center,r.halfExtents))}),i||(i=new cF),n){var a=HV(e);if(a){var l=a.parsedStyle.clipPath.getBounds(n);i?l&&(i=l.intersection(i)):i.update(l.center,l.halfExtents)}}return n?(r.renderBounds=i,r.renderBoundsDirty=!1):(r.bounds=i,r.boundsDirty=!1),i}},{key:"getLocalBounds",value:function(e){if(e.parentNode){var t=nX;e.parentNode.transformable&&(t=BB(iX,this.getWorldTransform(e.parentNode)));var n=this.getBounds(e);if(!cF.isEmpty(n)){var r=new cF;return r.setFromTransformedAABB(n,t),r}}return this.getBounds(e)}},{key:"getBoundingClientRect",value:function(e){var t,n,r=this.getGeometryBounds(e);cF.isEmpty(r)||(n=new cF).setFromTransformedAABB(r,this.getWorldTransform(e));var o=null===(t=e.ownerDocument)||void 0===t||null===(t=t.defaultView)||void 0===t?void 0:t.getContextService().getBoundingClientRect();if(n){var i=pt(n.getMin(),2),a=i[0],l=i[1],s=pt(n.getMax(),2),c=s[0],u=s[1];return new pF(a+((null==o?void 0:o.left)||0),l+((null==o?void 0:o.top)||0),c-a,u-l)}return new pF((null==o?void 0:o.left)||0,(null==o?void 0:o.top)||0,0,0)}},{key:"internalUpdateTransform",value:function(e){var t,n=null===(t=e.parentNode)||void 0===t?void 0:t.transformable;VF(e.transformable),function(e,t){e.dirtyFlag&&(t?zB(e.worldTransform,t.worldTransform,e.localTransform):RB(e.worldTransform,e.localTransform),e.dirtyFlag=!1)}(e.transformable,n)}},{key:"internalUpdateElement",value:function(e,t){var n,r,o,i,a,l,s=!0===(null===(n=e.ownerDocument)||void 0===n||null===(n=n.defaultView)||void 0===n||null===(n=n.getConfig())||void 0===n||null===(n=n.future)||void 0===n?void 0:n.experimentalAttributeUpdateOptimization),c=t[t.length-1],u=(null==c?void 0:c.transformDirty)||(null===(r=e.transformable)||void 0===r?void 0:r.localDirtyFlag);e.transformable&&((a=e.transformable).dirtyFlag||(a.dirtyFlag=u));(this.internalUpdateTransform(e),u)&&(null===(l=e.dirty)||void 0===l||l.call(e,!0,!0));var d=(null===(o=e.renderable)||void 0===o?void 0:o.boundsDirty)||(null===(i=e.renderable)||void 0===i?void 0:i.renderBoundsDirty);if((u||d)&&!1===(null==c?void 0:c.shapeUpdated)&&s)for(var f=t.length-1;f>=0;){var h,p,g=t[f];if(g.shapeUpdated)break;null===(h=(p=g.node).dirty)||void 0===h||h.call(p,!0,!0),g.shapeUpdated=!0,f-=1}return u}},{key:"syncHierarchy",value:function(e){for(var t,n,r=[e],o=e.parentNode?[{node:e.parentNode,transformDirty:(null===(t=e.parentNode.transformable)||void 0===t?void 0:t.localDirtyFlag)||(null===(n=e.parentNode.transformable)||void 0===n?void 0:n.dirtyFlag),shapeUpdated:!1}]:[];r.length>0;){for(var i=r.pop(),a=o[o.length-1];o.length>0&&i.parentNode!==a.node;)a=o.pop();var l=this.internalUpdateElement(i,o);if(i.childNodes.length>0){for(var s=i.childNodes.length-1;s>=0;s--)r.push(i.childNodes[s]);o.push({node:i,transformDirty:l,shapeUpdated:!1})}}}},{key:"dirtyLocalTransform",value:function(e,t){VV(e)||t.localDirtyFlag||(t.localDirtyFlag=!0,t.dirtyFlag||this.dirtyWorldTransform(e,t))}},{key:"dirtyWorldTransform",value:function(e,t){this.dirtifyWorldInternal(e,t),this.dirtyToRoot(e,!0)}},{key:"dirtifyWorldInternal",value:function(e,t){var n,r=this,o=!0===(null===(n=e.ownerDocument)||void 0===n||null===(n=n.defaultView)||void 0===n||null===(n=n.getConfig())||void 0===n||null===(n=n.future)||void 0===n?void 0:n.experimentalAttributeUpdateOptimization);t.dirtyFlag||(t.dirtyFlag=!0,e.dirty(!0,!0),o||e.childNodes.forEach(function(e){var t=e.transformable;r.dirtifyWorldInternal(e,t)}))}},{key:"dirtyToRoot",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e,o=!0===(null===(t=e.ownerDocument)||void 0===t||null===(t=t.defaultView)||void 0===t||null===(t=t.getConfig())||void 0===t||null===(t=t.future)||void 0===t?void 0:t.experimentalAttributeUpdateOptimization);r;){var i,a;if(null===(i=(a=r).dirty)||void 0===i||i.call(a,!0,!0),o)break;r=r.parentNode}n&&e.forEach(function(e){var t;null===(t=e.dirty)||void 0===t||t.call(e,!0,!0)}),this.informDependentDisplayObjects(e),this.pendingEvents.set(e,n)}},{key:"dirtifyFragment",value:function(e){var t,n,r=e.transformable;r&&(r.dirtyFlag=!0,r.localDirtyFlag=!0),null===(t=(n=e).dirty)||void 0===t||t.call(n,!0,!0);for(var o=e.childNodes.length,i=0;i<o;i++)this.dirtifyFragment(e.childNodes[i]);e.nodeName===JH.FRAGMENT&&this.pendingEvents.set(e,!1)}},{key:"triggerPendingEvents",value:function(){var e,t,n=this,r=new Set,o=function(t,o){if(t.isConnected&&!r.has(t)&&t.nodeName!==JH.FRAGMENT){if(n.boundsChangedEvent.detail=o,n.boundsChangedEvent.target=t,t.isMutationObserved)t.dispatchEvent(n.boundsChangedEvent);else{var i;if(void 0===e)e=!0===(null===(i=t.ownerDocument.defaultView)||void 0===i||null===(i=i.getConfig())||void 0===i||null===(i=i.future)||void 0===i?void 0:i.experimentalCancelEventPropagation);t.ownerDocument.defaultView.dispatchEvent(n.boundsChangedEvent,!0,e)}r.add(t)}};this.pendingEvents.forEach(function(e,n){if(n.nodeName!==JH.FRAGMENT){var r;if(void 0===t)t=!0===(null===(r=n.ownerDocument)||void 0===r||null===(r=r.defaultView)||void 0===r||null===(r=r.getConfig())||void 0===r||null===(r=r.future)||void 0===r?void 0:r.experimentalAttributeUpdateOptimization);mX.affectChildren=e,t?o(n,mX):e?n.forEach(function(e){o(e,mX)}):o(n,mX)}}),r.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"updateDisplayObjectDependency",value:function(e,t,n,r){if(t&&t!==n){var o=this.displayObjectDependencyMap.get(t);if(o&&o[e]){var i=o[e].indexOf(r);o[e].splice(i,1)}}if(n){var a=this.displayObjectDependencyMap.get(n);a||(this.displayObjectDependencyMap.set(n,{}),a=this.displayObjectDependencyMap.get(n)),a[e]||(a[e]=[]),a[e].push(r)}}},{key:"informDependentDisplayObjects",value:function(e){var t,n=this,r=this.displayObjectDependencyMap.get(e);if(r){var o=null===(t=e.ownerDocument)||void 0===t||null===(t=t.defaultView)||void 0===t||null===(t=t.getConfig())||void 0===t||null===(t=t.future)||void 0===t?void 0:t.experimentalCancelEventPropagation;Object.keys(r).forEach(function(e){r[e].forEach(function(t){n.dirtyToRoot(t,!0),t.dispatchEvent(new Uq(Xq.ATTR_MODIFIED,t,n,n,e,Uq.MODIFICATION,n,n),o,o),t.isCustomElement&&t.isConnected&&t.attributeChangedCallback&&t.attributeChangedCallback(e,n,n)})})}}}])}(),yX=function(){return We(function e(t){if(He(this,e),t<=0)throw new Error("LRU capacity must be a positive number.");this.capacity=t,this.cache=new Map},[{key:"get",value:function(e){if(this.cache.has(e)){var t=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,t),t}}},{key:"put",value:function(e,t){if(this.cache.has(e)&&this.cache.delete(e),this.cache.set(e,t),this.cache.size>this.capacity){var n=this.cache.keys().next().value;this.cache.delete(n)}}},{key:"len",value:function(){return this.cache.size}},{key:"clear",value:function(){this.cache.clear()}}])}(),bX={MetricsString:"|q",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},xX=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,wX=new RegExp("".concat(/[!%),.:;?\]}'""]/.source,"|").concat(/[!),.:;?\]}'""]/.source,"|").concat(/[)\]'"?!:;,.]/.source,"|").concat(/[!%),.:;?\]}'"]/.source)),CX=new RegExp("".concat(/[$('"]/.source,"|").concat(/[([{'"]/.source,"|").concat(/[(['"...]/.source,"|").concat(/[$([{'"#]/.source)),SX=function(){return We(function e(t){var n=this;He(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(e,t){return!n.isBreakingSpace(t)&&!(!e||!CX.exec(t)&&!wX.exec(e))},this.trimByKinsokuShorui=function(e){var t=it(e),n=t[t.length-2];if(!n)return e;var r=n[n.length-1];return t[t.length-2]=n.slice(0,-1),t[t.length-1]=r+t[t.length-1],t},this.runtime=t,this.charWidthCache=new yX(100)},[{key:"measureFont",value:function(e,t){if(this.fontMetricsCache[e])return this.fontMetricsCache[e];var n={ascent:0,descent:0,fontSize:0},r=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(t),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(t,{willReadFrequently:!0});o.font=e;var i=bX.MetricsString+bX.BaselineSymbol,a=Math.ceil(o.measureText(i).width),l=Math.ceil(o.measureText(bX.BaselineSymbol).width),s=bX.HeightMultiplier*l;l=l*bX.BaselineMultiplier|0,r.width=a,r.height=s,o.fillStyle="#f00",o.fillRect(0,0,a,s),o.font=e,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(i,0,l);var c=o.getImageData(0,0,a||1,s||1).data,u=c.length,d=4*a,f=0,h=0,p=!1;for(f=0;f<l;++f){for(var g=0;g<d;g+=4)if(255!==c[h+g]){p=!0;break}if(p)break;h+=d}for(n.ascent=l-f,h=u-d,p=!1,f=s;f>l;--f){for(var m=0;m<d;m+=4)if(255!==c[h+m]){p=!0;break}if(p)break;h-=d}return n.descent=f-l,n.fontSize=n.ascent+n.descent,this.fontMetricsCache[e]=n,n}},{key:"measureText",value:function(e,t,n){var r=t.fontSize,o=void 0===r?16:r,i=t.wordWrap,a=void 0!==i&&i,l=t.lineHeight,s=t.lineWidth,c=void 0===s?1:s,u=t.textBaseline,d=void 0===u?"alphabetic":u,f=t.textAlign,h=void 0===f?"start":f,p=t.letterSpacing,g=void 0===p?0:p,m=t.textPath;t.textPathSide,t.textPathStartOffset;var v=t.leading,y=void 0===v?0:v,b=fq(t),x=this.measureFont(b,n);0===x.fontSize&&(x.fontSize=o,x.ascent=o);var w=this.runtime.offscreenCanvasCreator.getOrCreateContext(n);w.font=b,t.isOverflowing=!1;var C=(a?this.wordWrap(e,t,n):e).split(/(?:\r\n|\r|\n)/),S=new Array(C.length),E=0;if(!m){for(var O=0;O<C.length;O++){var k=w.measureText(C[O]).width+(C[O].length-1)*g;S[O]=k,E=Math.max(E,k)}var M=E+c,$=l||x.fontSize+c,I=Math.max($,x.fontSize+c)+(C.length-1)*($+y),N=0;return"middle"===d?N=-I/2:"bottom"===d||"alphabetic"===d||"ideographic"===d?N=-I:"top"!==d&&"hanging"!==d||(N=0),{font:b,width:M,height:I,lines:C,lineWidths:S,lineHeight:$+=y,maxLineWidth:E,fontProperties:x,lineMetrics:S.map(function(e,t){var n=0;return"center"===h||"middle"===h?n-=e/2:"right"!==h&&"end"!==h||(n-=e),new pF(n-c/2,N+t*$,e+c,$)})}}m.getTotalLength();for(var T=0;T<C.length;T++)w.measureText(C[T]).width,C[T].length}},{key:"wordWrap",value:function(e,t,n){var r=this,o=Array.from(e);if(0===o.length)return"";var i=this,a=t.wordWrapWidth,l=void 0===a?0:a,s=t.letterSpacing,c=void 0===s?0:s,u=t.maxLines,d=void 0===u?1/0:u,f=t.textOverflow,h=this.runtime.offscreenCanvasCreator.getOrCreateContext(n),p=l+c,g="";"ellipsis"===f?g="...":f&&"clip"!==f&&(g=f);var m=[""],v=0,y=0,b=-1,x=fq(t),w=this.charWidthCache.get(x);w||(w=new yX(500),this.charWidthCache.put(x,w));var C=function(e){return r.getFromCache(e,c,w,h)},S=C(g);function E(e,t,n,r){for(;C(e)<r&&t<o.length-1&&!i.isNewline(o[t+1]);)e+=o[t+=1];for(;C(e)>r&&t>=n;)t-=1,e=e.slice(0,-1);return{lineTxt:e,txtLastCharIndex:t}}function O(e,t){if(!(S<=0||S>p))if(m[e]){var n=E(m[e],t,b+1,p-S);m[e]=n.lineTxt+g}else m[e]=g}for(var k=0;k<o.length;k++){var M=o[k],$=o[k-1],I=o[k+1],N=C(M);if(this.isNewline(M)){if(v+1>=d){k<o.length-1&&O(v,k-1),t.isOverflowing=!0;break}b=k-1,y=0,m[v+=1]=""}else{if(N>p){O(v,k-1),t.isOverflowing=!0;break}if(y>0&&y+N>p){var T=E(m[v],k-1,b+1,p);if(T.txtLastCharIndex!==k-1){if(m[v]=T.lineTxt,T.txtLastCharIndex===o.length-1)break;k=T.txtLastCharIndex+1,M=o[k],$=o[k-1],I=o[k+1],N=C(M)}if(v+1>=d){O(v,k-1),t.isOverflowing=!0;break}if(b=k-1,y=0,m[v+=1]="",this.isBreakingSpace(M))continue;this.canBreakInLastChar(M)||(m=this.trimToBreakable(m),y=this.sumTextWidthByCache(m[v]||"",C)),this.shouldBreakByKinsokuShorui(M,I)&&(m=this.trimByKinsokuShorui(m),y+=C($||""))}y+=N,m[v]+=M}}return m.join("\n")}},{key:"isBreakingSpace",value:function(e){return"string"==typeof e&&bX.BreakingSpaces.indexOf(e.charCodeAt(0))>=0}},{key:"isNewline",value:function(e){return"string"==typeof e&&bX.Newlines.indexOf(e.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(e){var t=it(e),n=t[t.length-2],r=this.findBreakableIndex(n);if(-1===r||!n)return t;var o=n.slice(r,r+1),i=r+1,a=r+(this.isBreakingSpace(o)?0:1);return t[t.length-1]+=n.slice(i,n.length),t[t.length-2]=n.slice(0,a),t}},{key:"canBreakInLastChar",value:function(e){return!e||!xX.test(e)}},{key:"sumTextWidthByCache",value:function(e,t){return e.split("").reduce(function(e,n){return e+t(n)},0)}},{key:"findBreakableIndex",value:function(e){for(var t=e.length-1;t>=0;t--)if(!xX.test(e[t]))return t;return-1}},{key:"getFromCache",value:function(e,t,n,r){var o=n.get(e);if("number"!=typeof o){var i=e.length*t;o=r.measureText(e).width+i,n.put(e,o)}return o}},{key:"clearCache",value:function(){this.fontMetricsCache={},this.charWidthCache.clear()}}])}(),EX={},OX=(Kq=new Nq,Zq=new Iq,j(j(j(j(j(j(j(j(j(j(Yq={},JH.FRAGMENT,null),JH.CIRCLE,new Oq),JH.ELLIPSE,new kq),JH.RECT,Kq),JH.IMAGE,Kq),JH.GROUP,new Lq),JH.LINE,new Mq),JH.TEXT,new Tq(EX)),JH.POLYLINE,Zq),JH.POLYGON,Zq),j(j(j(Yq,JH.PATH,new $q),JH.HTML,new Rq),JH.MESH,null)),kX=function(e){var t=new CV,n=new OV;return j(j(j(j(j(j(j(j(j(j(e={},XF.PERCENTAGE,null),XF.NUMBER,new IV),XF.ANGLE,new xV),XF.DEFINED_PATH,new wV),XF.PAINT,t),XF.COLOR,t),XF.FILTER,new SV),XF.LENGTH,n),XF.LENGTH_PERCENTAGE,n),XF.LENGTH_PERCENTAGE_12,new kV),j(j(j(j(j(j(j(j(j(j(e,XF.LENGTH_PERCENTAGE_14,new MV),XF.COORDINATE,new OV),XF.OFFSET_DISTANCE,new NV),XF.OPACITY_VALUE,new TV),XF.PATH,new LV),XF.LIST_OF_POINTS,new RV),XF.SHADOW_BLUR,new _V),XF.TEXT,new AV),XF.TEXT_TRANSFORM,new PV),XF.TRANSFORM,new Cq),j(j(j(e,XF.TRANSFORM_ORIGIN,new Sq),XF.Z_INDEX,new Eq),XF.MARKER,new $V)}();EX.CameraContribution=DF,EX.AnimationTimeline=null,EX.EasingFunction=null,EX.offscreenCanvasCreator=new Fq,EX.sceneGraphSelector=new qq,EX.sceneGraphService=new vX(EX),EX.textService=new SX(EX),EX.geometryUpdaterFactory=OX,EX.CSSPropertySyntaxFactory=kX,EX.styleValueRegistry=new yV(EX),EX.layoutRegistry=null,EX.globalThis="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},EX.enableStyleSyntax=!0,EX.enableSizeAttenuation=!1;var MX=0,$X=new Uq(Xq.INSERTED,null,"","","",0,"",""),IX=new Uq(Xq.REMOVED,null,"","","",0,"",""),NX=new Bq(Xq.DESTROY),TX=function(){function e(){var t;He(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=yl(this,e,[].concat(r))).entity=MX++,t.transformable={dirtyFlag:!1,localDirtyFlag:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},t.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},t.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},t.cullable={strategy:zF.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},t.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},t.rBushNode={aabb:void 0},t.namespaceURI="g",t.scrollLeft=0,t.scrollTop=0,t.clientTop=0,t.clientLeft=0,t.style={},t.computedStyle={},t.parsedStyle={},t.attributes={},t}return Ve(e,zq),We(e,[{key:"dirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.renderable.dirty=e,t&&(this.renderable.boundsDirty=e,this.renderable.renderBoundsDirty=e)}},{key:"className",get:function(){return this.getAttribute("class")||""},set:function(e){this.setAttribute("class",e)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(e){return""!==e})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var e=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[e+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var e=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[e-1]||null}return null}},{key:"cloneNode",value:function(e){throw new Error(gF)}},{key:"appendChild",value:function(e,t){var n;if(e.destroyed)throw new Error("Cannot append a destroyed element.");return EX.sceneGraphService.attach(e,this,t),null!==(n=this.ownerDocument)&&void 0!==n&&n.defaultView&&(VV(this)||e.nodeName!==JH.FRAGMENT?this.ownerDocument.defaultView.mountChildren(e):this.ownerDocument.defaultView.mountFragment(e)),this.isMutationObserved&&($X.relatedNode=this,e.dispatchEvent($X)),e}},{key:"insertBefore",value:function(e,t){if(t){e.parentElement&&e.parentElement.removeChild(e);var n=this.childNodes.indexOf(t);-1===n?this.appendChild(e):this.appendChild(e,n)}else this.appendChild(e);return e}},{key:"replaceChild",value:function(e,t){var n=this.childNodes.indexOf(t);return this.removeChild(t),this.appendChild(e,n),t}},{key:"removeChild",value:function(e){var t,n,r=!0===(null===(t=this.ownerDocument)||void 0===t||null===(t=t.defaultView)||void 0===t||null===(t=t.getConfig().future)||void 0===t?void 0:t.experimentalCancelEventPropagation);return IX.relatedNode=this,e.dispatchEvent(IX,r,r),null!==(n=e.ownerDocument)&&void 0!==n&&n.defaultView&&e.ownerDocument.defaultView.unmountChildren(e),EX.sceneGraphService.detach(e),e}},{key:"removeChildren",value:function(){for(var e=this.childNodes.length-1;e>=0;e--){var t=this.childNodes[e];this.removeChild(t)}}},{key:"destroyChildren",value:function(){for(var e=this.childNodes.length-1;e>=0;e--){var t=this.childNodes[e];t.childNodes.length>0&&t.destroyChildren(),t.destroy()}}},{key:"matches",value:function(e){return EX.sceneGraphService.matches(e,this)}},{key:"getElementById",value:function(e){return EX.sceneGraphService.querySelector("#".concat(e),this)}},{key:"getElementsByName",value:function(e){return EX.sceneGraphService.querySelectorAll('[name="'.concat(e,'"]'),this)}},{key:"getElementsByClassName",value:function(e){return EX.sceneGraphService.querySelectorAll(".".concat(e),this)}},{key:"getElementsByTagName",value:function(e){return EX.sceneGraphService.querySelectorAll(e,this)}},{key:"querySelector",value:function(e){return EX.sceneGraphService.querySelector(e,this)}},{key:"querySelectorAll",value:function(e){return EX.sceneGraphService.querySelectorAll(e,this)}},{key:"closest",value:function(e){var t=this;do{if(EX.sceneGraphService.matches(e,t))return t;t=t.parentElement}while(null!==t);return null}},{key:"find",value:function(e){var t=this,n=null;return this.forEach(function(r){return r===t||!e(r)||(n=r,!1)}),n}},{key:"findAll",value:function(e){var t=this,n=[];return this.forEach(function(r){r!==t&&e(r)&&n.push(r)}),n}},{key:"after",value:function(){var e=this;if(this.parentNode){for(var t=this.parentNode.childNodes.indexOf(this),n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];r.forEach(function(n,r){var o;return null===(o=e.parentNode)||void 0===o?void 0:o.appendChild(n,t+r+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var e,t=this.parentNode.childNodes.indexOf(this),n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r[0],a=r.slice(1);this.parentNode.appendChild(i,t),(e=i).after.apply(e,it(a))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){return e.appendChild(t)})}},{key:"prepend",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t,n){return e.appendChild(t,n)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){var e,t=!0===(null===(e=this.ownerDocument)||void 0===e||null===(e=e.defaultView)||void 0===e||null===(e=e.getConfig().future)||void 0===e?void 0:e.experimentalCancelEventPropagation);this.destroyChildren(),this.dispatchEvent(NX,t,t),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return EX.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return EX.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return EX.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return EX.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return EX.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(e){if("symbol"!=typeof e){var t=this.attributes[e];return t}}},{key:"hasAttribute",value:function(e){return this.getAttributeNames().includes(e)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(e){this.setAttribute(e,null),delete this.attributes[e]}},{key:"setAttribute",value:function(e,t,n,r){this.attributes[e]=t}},{key:"getAttributeNS",value:function(e,t){throw new Error(gF)}},{key:"getAttributeNode",value:function(e){throw new Error(gF)}},{key:"getAttributeNodeNS",value:function(e,t){throw new Error(gF)}},{key:"hasAttributeNS",value:function(e,t){throw new Error(gF)}},{key:"removeAttributeNS",value:function(e,t){throw new Error(gF)}},{key:"removeAttributeNode",value:function(e){throw new Error(gF)}},{key:"setAttributeNS",value:function(e,t,n){throw new Error(gF)}},{key:"setAttributeNode",value:function(e){throw new Error(gF)}},{key:"setAttributeNodeNS",value:function(e){throw new Error(gF)}},{key:"toggleAttribute",value:function(e,t){throw new Error(gF)}}])}();function LX(e){return!(null==e||!e.nodeName)}var RX=EX.globalThis.Proxy?EX.globalThis.Proxy:function(){},_X=new Uq(Xq.ATTR_MODIFIED,null,null,null,null,Uq.MODIFICATION,null,null),AX=pD(),PX=PD(),jX=function(){function e(t){var n;return He(this,e),(n=yl(this,e)).isCustomElement=!1,n.isMutationObserved=!1,n.activeAnimations=[],n.config=t,n.id=t.id||"",n.name=t.name||"",(t.className||t.class)&&(n.className=t.className||t.class),n.nodeName=t.type||JH.GROUP,t.initialParsedStyle&&Object.assign(n.parsedStyle,t.initialParsedStyle),n.initAttributes(t.style),EX.enableStyleSyntax&&(n.style=new RX({setProperty:function(e,t){n.setAttribute(e,t)},getPropertyValue:function(e){return n.getAttribute(e)},removeProperty:function(e){n.removeAttribute(e)},item:function(){return""}},{get:function(e,t){return void 0!==e[t]?e[t]:n.getAttribute(t)},set:function(e,t,r){return n.setAttribute(t,r),!0}})),n}return Ve(e,TX),We(e,[{key:"destroy",value:function(){LH(e,"destroy",this)([]),this.getAnimations().forEach(function(e){e.cancel()})}},{key:"cloneNode",value:function(e,t){var n=EB({},this.attributes);for(var r in n){var o=n[r];LX(o)&&"clipPath"!==r&&"offsetPath"!==r&&"textPath"!==r&&(n[r]=o.cloneNode(e)),t&&(n[r]=t(r,o))}var i=new this.constructor(EB(EB({},this.config),{},{style:n}));return i.setLocalTransform(this.getLocalTransform()),e&&this.children.forEach(function(t){if(!t.style.isMarker){var n=t.cloneNode(e);i.appendChild(n)}}),i}},{key:"initAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};EX.styleValueRegistry.processProperties(this,e,{forceUpdateGeometry:!0}),this.dirty()}},{key:"setAttribute",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];xz(n)||(r||n!==this.attributes[t])&&(this.internalSetAttribute(t,n,{memoize:o}),LH(e,"setAttribute",this)([t,n]))}},{key:"internalSetAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.attributes[e],o=this.parsedStyle[e];EX.styleValueRegistry.processProperties(this,j({},e,t),n),this.dirty();var i,a=this.parsedStyle[e];if(this.isConnected)if(_X.relatedNode=this,_X.prevValue=r,_X.newValue=t,_X.attrName=e,_X.prevParsedValue=o,_X.newParsedValue=a,this.isMutationObserved)this.dispatchEvent(_X);else{var l,s=!0===(null===(l=this.ownerDocument.defaultView.getConfig().future)||void 0===l?void 0:l.experimentalCancelEventPropagation);_X.target=this,this.ownerDocument.defaultView.dispatchEvent(_X,!0,s)}(this.isCustomElement&&this.isConnected||!this.isCustomElement)&&(null===(i=this.attributeChangedCallback)||void 0===i||i.call(this,e,r,t,o,a))}},{key:"getBBox",value:function(){var e=this.getBounds(),t=pt(e.getMin(),2),n=t[0],r=t[1],o=pt(e.getMax(),2),i=o[0],a=o[1];return new pF(n,r,i-n,a-r)}},{key:"setOrigin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return EX.sceneGraphService.setOrigin(this,bF(e,t,n,!1)),this}},{key:"getOrigin",value:function(){return EX.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return EX.sceneGraphService.setPosition(this,bF(e,t,n,!1)),this}},{key:"setLocalPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return EX.sceneGraphService.setLocalPosition(this,bF(e,t,n,!1)),this}},{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return EX.sceneGraphService.translate(this,bF(e,t,n,!1)),this}},{key:"translateLocal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return EX.sceneGraphService.translateLocal(this,bF(e,t,n,!1)),this}},{key:"getPosition",value:function(){return EX.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return EX.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(e,t,n){return this.scaleLocal(e,t,n)}},{key:"scaleLocal",value:function(e,t,n){return"number"==typeof e&&(e=bF(e,t=t||e,n=n||e,!1)),EX.sceneGraphService.scaleLocal(this,e),this}},{key:"setLocalScale",value:function(e,t,n){return"number"==typeof e&&(e=bF(e,t=t||e,n=n||e,!1)),EX.sceneGraphService.setLocalScale(this,e),this}},{key:"getLocalScale",value:function(){return EX.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return EX.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){return SF(pt(OF(AX,EX.sceneGraphService.getWorldTransform(this)),3)[2])}},{key:"getLocalEulerAngles",value:function(){return SF(pt(OF(AX,EX.sceneGraphService.getLocalRotation(this)),3)[2])}},{key:"setEulerAngles",value:function(e){return EX.sceneGraphService.setEulerAngles(this,0,0,e),this}},{key:"setLocalEulerAngles",value:function(e){return EX.sceneGraphService.setLocalEulerAngles(this,0,0,e),this}},{key:"rotateLocal",value:function(e,t,n){return YD(t)&&YD(n)?EX.sceneGraphService.rotateLocal(this,0,0,e):EX.sceneGraphService.rotateLocal(this,e,t,n),this}},{key:"rotate",value:function(e,t,n){return YD(t)&&YD(n)?EX.sceneGraphService.rotate(this,0,0,e):EX.sceneGraphService.rotate(this,e,t,n),this}},{key:"setRotation",value:function(e,t,n,r){return EX.sceneGraphService.setRotation(this,e,t,n,r),this}},{key:"setLocalRotation",value:function(e,t,n,r){return EX.sceneGraphService.setLocalRotation(this,e,t,n,r),this}},{key:"setLocalSkew",value:function(e,t){return EX.sceneGraphService.setLocalSkew(this,e,t),this}},{key:"getRotation",value:function(){return EX.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return EX.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return EX.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return EX.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return EX.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(e){return EX.sceneGraphService.setLocalTransform(this,e),this}},{key:"resetLocalTransform",value:function(){EX.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(e,t){var n,r=null===(n=this.ownerDocument)||void 0===n?void 0:n.timeline;return r?r.play(this,e,t):null}},{key:"isVisible",value:function(){var e;return"hidden"!==(null===(e=this.parsedStyle)||void 0===e?void 0:e.visibility)}},{key:"interactive",get:function(){return this.isInteractive()},set:function(e){this.style.pointerEvents=e?"auto":"none"}},{key:"isInteractive",value:function(){var e;return"none"!==(null===(e=this.parsedStyle)||void 0===e?void 0:e.pointerEvents)}},{key:"isCulled",value:function(){return!(!this.cullable||!this.cullable.enable||this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,it(this.parentNode.children.map(function(e){return Number(e.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,it(this.parentNode.children.map(function(e){return Number(e.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0],i=n[1];return o?ZD(o)?(Object.keys(o).forEach(function(t){e.setAttribute(t,o[t])}),this):2===n.length?(this.setAttribute(o,i),this):this.attributes[o]:this.attributes}},{key:"getMatrix",value:function(e){var t=e||this.getWorldTransform(),n=pt(QB(AX,t),2),r=n[0],o=n[1],i=pt(JB(AX,t),2),a=i[0],l=i[1],s=eD(PX,t),c=pt(OF(AX,s),3),u=c[0],d=c[2];return kF(u||d,r,o,a,l)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(e){var t=pt(MF(e),5),n=t[0],r=t[1],o=t[2],i=t[3],a=t[4];this.setEulerAngles(a).setPosition(n,r).setLocalScale(o,i)}},{key:"setLocalMatrix",value:function(e){var t=pt(MF(e),5),n=t[0],r=t[1],o=t[2],i=t[3],a=t[4];this.setLocalEulerAngles(a).setLocalPosition(n,r).setLocalScale(o,i)}},{key:"show",value:function(){this.forEach(function(e){e.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(e){e.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(e){return this.children[e]||null}},{key:"add",value:function(e,t){return this.appendChild(e,t)}},{key:"set",value:function(e,t){this.config[e]=t}},{key:"get",value:function(e){return this.config[e]}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.setPosition(e,t,n),this}},{key:"move",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.setPosition(e,t,n),this}},{key:"setZIndex",value:function(e){return this.style.zIndex=e,this}}])}();jX.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var BX=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return He(this,e),yl(this,e,[EB({type:JH.CIRCLE},t)])}return Ve(e,jX),We(e)}();BX.PARSED_STYLE_LIST=new Set([].concat(it(jX.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var DX=["style"],zX=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,o=$t(n,DX);return He(this,e),(t=yl(this,e,[EB({style:r},o)])).isCustomElement=!0,t}return Ve(e,jX),We(e)}();zX.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var HX=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return He(this,e),yl(this,e,[EB({type:JH.ELLIPSE},t)])}return Ve(e,jX),We(e)}();HX.PARSED_STYLE_LIST=new Set([].concat(it(jX.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"])),(function(){function e(){return He(this,e),yl(this,e,[{type:JH.FRAGMENT}])}return Ve(e,jX),We(e)}()).PARSED_STYLE_LIST=new Set(["class","className"]);var FX=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return He(this,e),yl(this,e,[EB({type:JH.GROUP},t)])}return Ve(e,jX),We(e)}();FX.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var WX=["style"],GX=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,o=$t(n,WX);return He(this,e),(t=yl(this,e,[EB({type:JH.HTML,style:r},o)])).cullable.enable=!1,t}return Ve(e,jX),We(e,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var e=BB(TB(),this.parentNode.getWorldTransform()),t=this.getBounds();if(!cF.isEmpty(t)){var n=new cF;return n.setFromTransformedAABB(t,e),n}}return this.getBounds()}}])}();GX.PARSED_STYLE_LIST=new Set([].concat(it(jX.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var VX=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return He(this,e),yl(this,e,[EB({type:JH.IMAGE},t)])}return Ve(e,jX),We(e)}();VX.PARSED_STYLE_LIST=new Set([].concat(it(jX.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var qX=["style"],XX=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,o=$t(n,qX);He(this,e),(t=yl(this,e,[EB({type:JH.LINE,style:EB({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},r)},o)])).markerStartAngle=0,t.markerEndAngle=0;var i=t.parsedStyle,a=i.markerStart,l=i.markerEnd;return a&&LX(a)&&(t.markerStartAngle=a.getLocalEulerAngles(),t.appendChild(a)),l&&LX(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return Ve(e,jX),We(e,[{key:"attributeChangedCallback",value:function(e,t,n,r,o){"x1"===e||"y1"===e||"x2"===e||"y2"===e||"markerStartOffset"===e||"markerEndOffset"===e?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===e?(r&&LX(r)&&(this.markerStartAngle=0,r.remove()),o&&LX(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):"markerEnd"===e&&(r&&LX(r)&&(this.markerEndAngle=0,r.remove()),o&&LX(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1)))}},{key:"transformMarker",value:function(e){var t=this.parsedStyle,n=t.markerStart,r=t.markerEnd,o=t.markerStartOffset,i=t.markerEndOffset,a=t.x1,l=t.x2,s=t.y1,c=t.y2,u=e?n:r;if(u&&LX(u)){var d,f,h,p,g,m,v;e?(p=a,g=s,f=l-a,h=c-s,m=o||0,v=this.markerStartAngle):(p=l,g=c,f=a-l,h=s-c,m=i||0,v=this.markerEndAngle),d=Math.atan2(h,f),u.setLocalEulerAngles(180*d/Math.PI+v),u.setLocalPosition(p+Math.cos(d)*m,g+Math.sin(d)*m)}}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.parsedStyle,r=zH(n.x1,n.y1,n.x2,n.y2,e),o=r.x,i=r.y,a=MD(pD(),vD(o,i,0),t?this.getWorldTransform():this.getLocalTransform());return new hF(a[0],a[1])}},{key:"getPointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPoint(e/this.getTotalLength(),t)}},{key:"getTotalLength",value:function(){var e=this.parsedStyle;return DH(e.x1,e.y1,e.x2,e.y2)}}])}();XX.PARSED_STYLE_LIST=new Set([].concat(it(jX.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var UX=["style"],YX=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,o=$t(n,UX);He(this,e),(t=yl(this,e,[EB({type:JH.PATH,style:r,initialParsedStyle:{miterLimit:4,d:EB({},qF)}},o)])).markerStartAngle=0,t.markerEndAngle=0,t.markerMidList=[];var i=t.parsedStyle,a=i.markerStart,l=i.markerEnd,s=i.markerMid;return a&&LX(a)&&(t.markerStartAngle=a.getLocalEulerAngles(),t.appendChild(a)),s&&LX(s)&&t.placeMarkerMid(s),l&&LX(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return Ve(e,jX),We(e,[{key:"attributeChangedCallback",value:function(e,t,n,r,o){"d"===e?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===e||"markerEndOffset"===e?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===e?(r&&LX(r)&&(this.markerStartAngle=0,r.remove()),o&&LX(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):"markerEnd"===e?(r&&LX(r)&&(this.markerEndAngle=0,r.remove()),o&&LX(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):"markerMid"===e&&this.placeMarkerMid(o)}},{key:"transformMarker",value:function(e){var t=this.parsedStyle,n=t.markerStart,r=t.markerEnd,o=t.markerStartOffset,i=t.markerEndOffset,a=e?n:r;if(a&&LX(a)){var l,s,c,u,d,f,h;if(e){var p=pt(this.getStartTangent(),2),g=p[0],m=p[1];u=m[0],d=m[1],s=g[0]-m[0],c=g[1]-m[1],f=o||0,h=this.markerStartAngle}else{var v=pt(this.getEndTangent(),2),y=v[0],b=v[1];u=b[0],d=b[1],s=y[0]-b[0],c=y[1]-b[1],f=i||0,h=this.markerEndAngle}l=Math.atan2(c,s),a.setLocalEulerAngles(180*l/Math.PI+h),a.setLocalPosition(u+Math.cos(l)*f,d+Math.sin(l)*f)}}},{key:"placeMarkerMid",value:function(e){var t=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(e){e.remove()}),e&&LX(e))for(var n=1;n<t.length-1;n++){var r=pt(t[n].currentPoint,2),o=r[0],i=r[1],a=1===n?e:e.cloneNode(!0);this.markerMidList.push(a),this.appendChild(a),a.setLocalPosition(o,i)}}},{key:"getTotalLength",value:function(){return TG(this)}},{key:"getPointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e,t,n){return kH(e,t,Dz(Dz({},n),{bbox:!1,length:!0})).point}(this.parsedStyle.d.absolutePath,e),r=n.x,o=n.y,i=MD(pD(),vD(r,o,0),t?this.getWorldTransform():this.getLocalTransform());return new hF(i[0],i[1])}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPointAtLength(e*TG(this),t)}},{key:"getStartTangent",value:function(){var e=this.parsedStyle.d.segments,t=[];if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,o=e[1].startTangent;t=[],o?(t.push([n[0]-o[0],n[1]-o[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t}},{key:"getEndTangent",value:function(){var e=this.parsedStyle.d.segments,t=e.length,n=[];if(t>1){var r=e[t-2].currentPoint,o=e[t-1].currentPoint,i=e[t-1].endTangent;n=[],i?(n.push([o[0]-i[0],o[1]-i[1]]),n.push([o[0],o[1]])):(n.push([r[0],r[1]]),n.push([o[0],o[1]]))}return n}}])}();YX.PARSED_STYLE_LIST=new Set([].concat(it(jX.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var KX=["style"],ZX=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,o=$t(n,KX);He(this,e),(t=yl(this,e,[EB({type:JH.POLYGON,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},o)])).markerStartAngle=0,t.markerEndAngle=0,t.markerMidList=[];var i=t.parsedStyle,a=i.markerStart,l=i.markerEnd,s=i.markerMid;return a&&LX(a)&&(t.markerStartAngle=a.getLocalEulerAngles(),t.appendChild(a)),s&&LX(s)&&t.placeMarkerMid(s),l&&LX(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return Ve(e,jX),We(e,[{key:"attributeChangedCallback",value:function(e,t,n,r,o){"points"===e?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===e||"markerEndOffset"===e?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===e?(r&&LX(r)&&(this.markerStartAngle=0,r.remove()),o&&LX(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):"markerEnd"===e?(r&&LX(r)&&(this.markerEndAngle=0,r.remove()),o&&LX(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):"markerMid"===e&&this.placeMarkerMid(o)}},{key:"transformMarker",value:function(e){var t=this.parsedStyle,n=t.markerStart,r=t.markerEnd,o=t.markerStartOffset,i=t.markerEndOffset,a=(t.points||{}).points,l=e?n:r;if(l&&LX(l)&&a){var s,c,u,d,f,h,p;if(d=a[0][0],f=a[0][1],e)c=a[1][0]-a[0][0],u=a[1][1]-a[0][1],h=o||0,p=this.markerStartAngle;else{var g=a.length;this.parsedStyle.isClosed?(c=a[g-1][0]-a[0][0],u=a[g-1][1]-a[0][1]):(d=a[g-1][0],f=a[g-1][1],c=a[g-2][0]-a[g-1][0],u=a[g-2][1]-a[g-1][1]),h=i||0,p=this.markerEndAngle}s=Math.atan2(u,c),l.setLocalEulerAngles(180*s/Math.PI+p),l.setLocalPosition(d+Math.cos(s)*h,f+Math.sin(s)*h)}}},{key:"placeMarkerMid",value:function(e){var t=(this.parsedStyle.points||{}).points;if(this.markerMidList.forEach(function(e){e.remove()}),this.markerMidList=[],e&&LX(e)&&t)for(var n=1;n<(this.parsedStyle.isClosed?t.length:t.length-1);n++){var r=t[n][0],o=t[n][1],i=1===n?e:e.cloneNode(!0);this.markerMidList.push(i),this.appendChild(i),i.setLocalPosition(r,o)}}}])}();ZX.PARSED_STYLE_LIST=new Set([].concat(it(jX.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var QX=["style"],JX=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.style,r=$t(t,QX);return He(this,e),yl(this,e,[EB({type:JH.POLYLINE,style:n,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},r)])}return Ve(e,ZX),We(e,[{key:"getTotalLength",value:function(){return 0===(e=this).parsedStyle.points.totalLength&&(e.parsedStyle.points.totalLength=qH(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength;var e}},{key:"getPointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPoint(e/this.getTotalLength(),t)}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.parsedStyle.points.points;if(0===this.parsedStyle.points.segments.length){var r,o,i=[],a=0,l=this.getTotalLength();n.forEach(function(e,t){n[t+1]&&((r=[0,0])[0]=a/l,o=DH(e[0],e[1],n[t+1][0],n[t+1][1]),a+=o,r[1]=a/l,i.push(r))}),this.parsedStyle.points.segments=i}var s=0,c=0;this.parsedStyle.points.segments.forEach(function(t,n){e>=t[0]&&e<=t[1]&&(s=(e-t[0])/(t[1]-t[0]),c=n)});var u=zH(n[c][0],n[c][1],n[c+1][0],n[c+1][1],s),d=u.x,f=u.y,h=MD(pD(),vD(d,f,0),t?this.getWorldTransform():this.getLocalTransform());return new hF(h[0],h[1])}},{key:"getStartTangent",value:function(){var e=this.parsedStyle.points.points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t}},{key:"getEndTangent",value:function(){var e=this.parsedStyle.points.points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n}}])}();JX.PARSED_STYLE_LIST=new Set([].concat(it(ZX.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var eU=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return He(this,e),yl(this,e,[EB({type:JH.RECT},t)])}return Ve(e,jX),We(e)}();eU.PARSED_STYLE_LIST=new Set([].concat(it(jX.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var tU=["style"],nU=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.style,r=$t(t,tU);return He(this,e),yl(this,e,[EB({type:JH.TEXT,style:EB({fill:"black"},n)},r)])}return Ve(e,jX),We(e,[{key:"getComputedTextLength",value:function(){var e;return this.getGeometryBounds(),(null===(e=this.parsedStyle.metrics)||void 0===e?void 0:e.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var e;return this.getGeometryBounds(),(null===(e=this.parsedStyle.metrics)||void 0===e?void 0:e.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}();nU.PARSED_STYLE_LIST=new Set([].concat(it(jX.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var rU=function(){return We(function e(){He(this,e),this.registry={},this.define(JH.CIRCLE,BX),this.define(JH.ELLIPSE,HX),this.define(JH.RECT,eU),this.define(JH.IMAGE,VX),this.define(JH.LINE,XX),this.define(JH.GROUP,FX),this.define(JH.PATH,YX),this.define(JH.POLYGON,ZX),this.define(JH.POLYLINE,JX),this.define(JH.TEXT,nU),this.define(JH.HTML,GX)},[{key:"define",value:function(e,t){this.registry[e]=t}},{key:"get",value:function(e){return this.registry[e]}}])}(),oU=function(e){var t=e.name,n=e.inherits,r=e.interpolable,o=e.initialValue,i=e.syntax;EX.styleValueRegistry.registerMetadata({n:t,inh:n,int:r,d:o,syntax:i})},iU=function(){function e(){var t;He(this,e),(t=yl(this,e)).defaultView=null,t.ownerDocument=null,t.nodeName="document";try{t.timeline=new EX.AnimationTimeline(t)}catch(r){}var n={};return gV.forEach(function(e){var t=e.n,r=e.inh,o=e.d;r&&o&&(n[t]=UD(o)?o(JH.GROUP):o)}),t.documentElement=new FX({id:"g-root",style:n}),t.documentElement.ownerDocument=t,t.documentElement.parentNode=t,t.childNodes=[t.documentElement],t}return Ve(e,zq),We(e,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(e,t){if("svg"===e)return this.documentElement;var n=this.defaultView.customElements.get(e);n||(n="tspan"===e?nU:FX);var r=new n(t);return r.ownerDocument=this,r}},{key:"createElementNS",value:function(e,t,n){return this.createElement(t,n)}},{key:"cloneNode",value:function(e){throw new Error(gF)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(e){}}},{key:"elementsFromBBox",value:function(e,t,n,r){var o=this.defaultView.context.rBushRoot.search({minX:e,minY:t,maxX:n,maxY:r}),i=[];return o.forEach(function(e){var t=e.displayObject,n=t.parsedStyle.pointerEvents,r=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(void 0===n?"auto":n);(!r||r&&t.isVisible())&&!t.isCulled()&&t.isInteractive()&&i.push(t)}),i.sort(function(e,t){return t.sortable.renderOrder-e.sortable.renderOrder}),i}},{key:"elementFromPointSync",value:function(e,t){var n=this.defaultView.canvas2Viewport({x:e,y:t}),r=n.x,o=n.y,i=this.defaultView.getConfig(),a=i.width,l=i.height;if(r<0||o<0||r>a||o>l)return null;var s=this.defaultView.viewport2Client({x:r,y:o}),c=s.x,u=s.y,d=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:e,y:t,viewportX:r,viewportY:o,clientX:c,clientY:u},picked:[]}).picked;return d&&d[0]||this.documentElement}},{key:"elementFromPoint",value:(n=ms(ps().mark(function e(t,n){var r,o,i,a,l,s,c,u,d,f,h;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.defaultView.canvas2Viewport({x:t,y:n}),o=r.x,i=r.y,a=this.defaultView.getConfig(),l=a.width,s=a.height,!(o<0||i<0||o>l||i>s)){e.next=1;break}return e.abrupt("return",null);case 1:return c=this.defaultView.viewport2Client({x:o,y:i}),u=c.x,d=c.y,e.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:t,y:n,viewportX:o,viewportY:i,clientX:u,clientY:d},picked:[]});case 2:return f=e.sent,h=f.picked,e.abrupt("return",h&&h[0]||this.documentElement);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"elementsFromPointSync",value:function(e,t){var n=this.defaultView.canvas2Viewport({x:e,y:t}),r=n.x,o=n.y,i=this.defaultView.getConfig(),a=i.width,l=i.height;if(r<0||o<0||r>a||o>l)return[];var s=this.defaultView.viewport2Client({x:r,y:o}),c=s.x,u=s.y,d=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:e,y:t,viewportX:r,viewportY:o,clientX:c,clientY:u},picked:[]}).picked;return d[d.length-1]!==this.documentElement&&d.push(this.documentElement),d}},{key:"elementsFromPoint",value:(t=ms(ps().mark(function e(t,n){var r,o,i,a,l,s,c,u,d,f,h;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.defaultView.canvas2Viewport({x:t,y:n}),o=r.x,i=r.y,a=this.defaultView.getConfig(),l=a.width,s=a.height,!(o<0||i<0||o>l||i>s)){e.next=1;break}return e.abrupt("return",[]);case 1:return c=this.defaultView.viewport2Client({x:o,y:i}),u=c.x,d=c.y,e.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:t,y:n,viewportX:o,viewportY:i,clientX:u,clientY:d},picked:[]});case 2:return f=e.sent,(h=f.picked)[h.length-1]!==this.documentElement&&h.push(this.documentElement),e.abrupt("return",h);case 3:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"appendChild",value:function(e,t){throw new Error(mF)}},{key:"insertBefore",value:function(e,t){throw new Error(mF)}},{key:"removeChild",value:function(e,t){throw new Error(mF)}},{key:"replaceChild",value:function(e,t,n){throw new Error(mF)}},{key:"append",value:function(){throw new Error(mF)}},{key:"prepend",value:function(){throw new Error(mF)}},{key:"getElementById",value:function(e){return this.documentElement.getElementById(e)}},{key:"getElementsByName",value:function(e){return this.documentElement.getElementsByName(e)}},{key:"getElementsByTagName",value:function(e){return this.documentElement.getElementsByTagName(e)}},{key:"getElementsByClassName",value:function(e){return this.documentElement.getElementsByClassName(e)}},{key:"querySelector",value:function(e){return this.documentElement.querySelector(e)}},{key:"querySelectorAll",value:function(e){return this.documentElement.querySelectorAll(e)}},{key:"find",value:function(e){return this.documentElement.find(e)}},{key:"findAll",value:function(e){return this.documentElement.findAll(e)}}]);var t,n}(),aU=function(){function e(t){He(this,e),this.strategies=t}return We(e,[{key:"apply",value:function(t){var n=t.config,r=t.camera,o=t.renderingService,i=t.renderingContext,a=this.strategies;o.hooks.cull.tap(e.tag,function(e){if(e){var t,o=e.cullable;if(0===a.length?o.visible=i.unculledEntities.indexOf(e.entity)>-1:o.visible=a.every(function(t){return t.isVisible(r,e)}),!e.isCulled()&&e.isVisible())return e;var l=!0===(null===(t=n.future)||void 0===t?void 0:t.experimentalCancelEventPropagation);return e.dispatchEvent(new Bq(Xq.CULLED),l,l),null}return e}),o.hooks.afterRender.tap(e.tag,function(e){e.cullable.visibilityPlaneMask=-1})}}])}();aU.tag="Culling";var lU=function(){function e(){var t=this;He(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new Pq(null),this.rootWheelEvent=new jq(null),this.onPointerMove=function(e){var n,r=null===(n=t.context.renderingContext.root)||void 0===n||null===(n=n.ownerDocument)||void 0===n?void 0:n.defaultView;if(!r.supportsTouchEvents||"touch"!==e.pointerType){var o,i=lT(t.normalizeToPointerEvent(e,r));try{for(i.s();!(o=i.n()).done;){var a=o.value,l=t.bootstrapEvent(t.rootPointerEvent,a,r,e);t.context.eventService.mapEvent(l)}}catch(s){i.e(s)}finally{i.f()}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(e){var n,r,o=null===(n=t.context.renderingContext.root)||void 0===n||null===(n=n.ownerDocument)||void 0===n?void 0:n.defaultView,i=lT(t.normalizeToPointerEvent(e,o));try{for(i.s();!(r=i.n()).done;){var a=r.value,l=t.bootstrapEvent(t.rootPointerEvent,a,o,e);t.context.eventService.mapEvent(l)}}catch(s){i.e(s)}finally{i.f()}t.setCursor(t.context.eventService.cursor)}}return We(e,[{key:"apply",value:function(t){var n=this;this.context=t;var r=t.renderingService,o=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(e){return n.context.renderingService.hooks.pickSync.call({position:e,picked:[],topmost:!0}).picked[0]||null}),r.hooks.pointerWheel.tap(e.tag,function(e){var t=n.normalizeWheelEvent(e);n.context.eventService.mapEvent(t)}),r.hooks.pointerDown.tap(e.tag,function(e){if(!o.supportsTouchEvents||"touch"!==e.pointerType){var t=n.normalizeToPointerEvent(e,o);if(n.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();var r,i=lT(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,l=n.bootstrapEvent(n.rootPointerEvent,a,o,e);n.context.eventService.mapEvent(l)}}catch(s){i.e(s)}finally{i.f()}n.setCursor(n.context.eventService.cursor)}}),r.hooks.pointerUp.tap(e.tag,function(e){if(!o.supportsTouchEvents||"touch"!==e.pointerType){var t,r=n.context.contextService.getDomElement(),i=n.context.eventService.isNativeEventFromCanvas(r,e)?"":"outside",a=lT(n.normalizeToPointerEvent(e,o));try{for(a.s();!(t=a.n()).done;){var l=t.value,s=n.bootstrapEvent(n.rootPointerEvent,l,o,e);s.type+=i,n.context.eventService.mapEvent(s)}}catch(c){a.e(c)}finally{a.f()}n.setCursor(n.context.eventService.cursor)}}),r.hooks.pointerMove.tap(e.tag,this.onPointerMove),r.hooks.pointerOver.tap(e.tag,this.onPointerMove),r.hooks.pointerOut.tap(e.tag,this.onPointerMove),r.hooks.click.tap(e.tag,this.onClick),r.hooks.pointerCancel.tap(e.tag,function(e){var t,r=lT(n.normalizeToPointerEvent(e,o));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=n.bootstrapEvent(n.rootPointerEvent,i,o,e);n.context.eventService.mapEvent(a)}}catch(l){r.e(l)}finally{r.f()}n.setCursor(n.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(e,t,n,r){e.view=n,e.originalEvent=null,e.nativeEvent=r,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);var o=this.context.eventService.client2Viewport({x:t.clientX,y:t.clientY}),i=o.x,a=o.y;e.viewport.x=i,e.viewport.y=a;var l=this.context.eventService.viewport2Canvas(e.viewport),s=l.x,c=l.y;return e.canvas.x=s,e.canvas.y=c,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=r.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=WV[e.type]||e.type),e}},{key:"normalizeWheelEvent",value:function(e){var t=this.rootWheelEvent;this.transferMouseData(t,e),t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ;var n=this.context.eventService.client2Viewport({x:e.clientX,y:e.clientY}),r=n.x,o=n.y;t.viewport.x=r,t.viewport.y=o;var i=this.context.eventService.viewport2Canvas(t.viewport),a=i.x,l=i.y;return t.canvas.x=a,t.canvas.y=l,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.nativeEvent=e,t.type=e.type,t}},{key:"transferMouseData",value:function(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=GV.now(),e.type=t.type,e.altKey=t.altKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.screen.x=t.screenX,e.screen.y=t.screenY,e.relatedTarget=null}},{key:"setCursor",value:function(e){this.context.contextService.applyCursorStyle(e||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(e,t){var n=[];if(t.isTouchEvent(e))for(var r=0;r<e.changedTouches.length;r++){var o=e.changedTouches[r];xz(o.button)&&(o.button=0),xz(o.buttons)&&(o.buttons=1),xz(o.isPrimary)&&(o.isPrimary=1===e.touches.length&&"touchstart"===e.type),xz(o.width)&&(o.width=o.radiusX||1),xz(o.height)&&(o.height=o.radiusY||1),xz(o.tiltX)&&(o.tiltX=0),xz(o.tiltY)&&(o.tiltY=0),xz(o.pointerType)&&(o.pointerType="touch"),xz(o.pointerId)&&(o.pointerId=o.identifier||0),xz(o.pressure)&&(o.pressure=o.force||.5),xz(o.twist)&&(o.twist=0),xz(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=e.type,n.push(o)}else if(t.isMouseEvent(e)){var i=e;xz(i.isPrimary)&&(i.isPrimary=!0),xz(i.width)&&(i.width=1),xz(i.height)&&(i.height=1),xz(i.tiltX)&&(i.tiltX=0),xz(i.tiltY)&&(i.tiltY=0),xz(i.pointerType)&&(i.pointerType="mouse"),xz(i.pointerId)&&(i.pointerId=1),xz(i.pressure)&&(i.pressure=.5),xz(i.twist)&&(i.twist=0),xz(i.tangentialPressure)&&(i.tangentialPressure=0),i.isNormalized=!0,n.push(i)}else n.push(e);return n}}])}();lU.tag="Event";var sU=[JH.CIRCLE,JH.ELLIPSE,JH.IMAGE,JH.RECT,JH.LINE,JH.POLYLINE,JH.POLYGON,JH.TEXT,JH.PATH,JH.HTML],cU=function(){return We(function e(){He(this,e)},[{key:"isVisible",value:function(e,t){var n,r=t.cullable;if(!r.enable)return!0;var o=t.getRenderBounds();if(cF.isEmpty(o))return!1;var i=e.getFrustum(),a=null===(n=t.parentNode)||void 0===n||null===(n=n.cullable)||void 0===n?void 0:n.visibilityPlaneMask;return r.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(t,o,a||dF.INDETERMINATE,i.planes),r.visible=r.visibilityPlaneMask!==dF.OUTSIDE,r.visible}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,n,r){if(n===dF.OUTSIDE||n===dF.INSIDE)return n;for(var o=dF.INSIDE,i=sU.indexOf(e.nodeName)>-1,a=0,l=r.length;a<l;++a){var s=1<<a;if(0!==(n&s)&&(!i||4!==a&&5!==a)){var c=r[a],u=c.normal,d=c.distance;if(ED(u,t.getPositiveFarPoint(r[a]))+d<0)return dF.OUTSIDE;ED(u,t.getNegativeFarPoint(r[a]))+d<0&&(o|=s)}}return o}}])}(),uU=function(){function e(){He(this,e),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return We(e,[{key:"apply",value:function(t){var n,r,o=this,i=t.config,a=t.renderingService,l=t.renderingContext,s=t.rBushRoot,c=l.root.ownerDocument.defaultView;this.rBush=s;var u=function(e){a.dirtify()},d=function(e){o.syncTasks.set(e.target,e.detail.affectChildren),a.dirtify()},f=function(e){var t=e.target;EX.enableSizeAttenuation&&EX.styleValueRegistry.updateSizeAttenuation(t,c.getCamera().getZoom())},h=function(e){var t=e.target,n=t.rBushNode;null!=n&&n.aabb&&o.rBush.remove(n.aabb),o.syncTasks.delete(t),EX.sceneGraphService.dirtyToRoot(t),a.dirtify()};a.hooks.init.tap(e.tag,function(){c.addEventListener(Xq.MOUNTED,f),c.addEventListener(Xq.UNMOUNTED,h),c.addEventListener(Xq.ATTR_MODIFIED,u),c.addEventListener(Xq.BOUNDS_CHANGED,d)}),a.hooks.destroy.tap(e.tag,function(){c.removeEventListener(Xq.MOUNTED,f),c.removeEventListener(Xq.UNMOUNTED,h),c.removeEventListener(Xq.ATTR_MODIFIED,u),c.removeEventListener(Xq.BOUNDS_CHANGED,d),o.syncTasks.clear()});var p=null!==(n=EX.globalThis.requestIdleCallback)&&void 0!==n?n:rq.bind(EX.globalThis),g=!0===(null===(r=i.future)||void 0===r?void 0:r.experimentalRICSyncRTree);a.hooks.endFrame.tap(e.tag,function(){o.isFirstTimeRendering?(o.isFirstTimeRendering=!1,o.syncing=!0,p(function(){o.syncRTree(!0),o.isFirstTimeRenderingFinished=!0})):g&&EX.globalThis.requestIdleCallback&&EX.globalThis.cancelIdleCallback?(EX.globalThis.cancelIdleCallback(o.ricSyncRTreeId),o.ricSyncRTreeId=EX.globalThis.requestIdleCallback(function(){return o.syncRTree()})):o.syncRTree()})}},{key:"syncNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isConnected){var n=e.rBushNode;n.aabb&&this.rBush.remove(n.aabb);var r=e.getRenderBounds();if(r){var o=e.renderable;t&&(o.dirtyRenderBounds||(o.dirtyRenderBounds=new cF),o.dirtyRenderBounds.update(r.center,r.halfExtents));var i=pt(r.getMin(),2),a=i[0],l=i[1],s=pt(r.getMax(),2),c=s[0],u=s[1];n.aabb||(n.aabb={}),n.aabb.displayObject=e,n.aabb.minX=a,n.aabb.minY=l,n.aabb.maxX=c,n.aabb.maxY=u}return n.aabb&&!(isNaN(n.aabb.maxX)||isNaN(n.aabb.maxX)||isNaN(n.aabb.minX)||isNaN(n.aabb.minY))?n.aabb:void 0}}},{key:"syncRTree",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.syncing&&0!==this.syncTasks.size){this.syncing=!0;var n=[],r=new Set,o=function(o){if(!r.has(o)&&o.renderable){var i=e.syncNode(o,t);i&&(n.push(i),r.add(o))}};this.syncTasks.forEach(function(e,t){e&&t.forEach(o);for(var n=t;n;)o(n),n=n.parentElement}),this.rBush.load(n),n.length=0,this.syncing=!1}}}])}();uU.tag="Prepare";var dU=function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e}({}),fU=new Bq(Xq.MOUNTED),hU=new Bq(Xq.UNMOUNTED),pU=new Bq(dU.BEFORE_RENDER),gU=new Bq(dU.RERENDER),mU=new Bq(dU.AFTER_RENDER),vU=function(){function e(t){var n;He(this,e),(n=yl(this,e)).Element=jX,n.inited=!1,n.context={};var r=t.container,o=t.canvas,i=t.renderer,a=t.width,l=t.height,s=t.background,c=t.cursor,u=t.supportsMutipleCanvasesInOneContainer,d=t.cleanUpOnDestroy,f=void 0===d||d,h=t.offscreenCanvas,p=t.devicePixelRatio,g=t.requestAnimationFrame,m=t.cancelAnimationFrame,v=t.createImage,y=t.supportsTouchEvents,b=t.supportsPointerEvents,x=t.isTouchEvent,w=t.isMouseEvent,C=t.dblClickSpeed,S=a,E=l,O=p||BV&&window.devicePixelRatio||1;return O=O>=1?Math.ceil(O):1,o&&(S=a||function(e){var t=FV(e,"width");return"auto"===t?e.offsetWidth:parseFloat(t)}(o)||o.width/O,E=l||function(e){var t=FV(e,"height");return"auto"===t?e.offsetHeight:parseFloat(t)}(o)||o.height/O),n.customElements=new rU,n.devicePixelRatio=O,n.requestAnimationFrame=null!=g?g:rq.bind(EX.globalThis),n.cancelAnimationFrame=null!=m?m:oq.bind(EX.globalThis),n.createImage=null!=v?v:function(){return new window.Image},n.supportsTouchEvents=null!=y?y:"ontouchstart"in EX.globalThis,n.supportsPointerEvents=null!=b?b:!!EX.globalThis.PointerEvent,n.isTouchEvent=null!=x?x:function(e){return n.supportsTouchEvents&&e instanceof EX.globalThis.TouchEvent},n.isMouseEvent=null!=w?w:function(e){return!EX.globalThis.MouseEvent||e instanceof EX.globalThis.MouseEvent&&(!n.supportsPointerEvents||!(e instanceof EX.globalThis.PointerEvent))},h&&(EX.offscreenCanvas=h),n.document=new iU,n.document.defaultView=n,u||function(e,t,n){if(e){var r="string"==typeof e?document.getElementById(e):e;jV.has(r)&&jV.get(r).destroy(n),jV.set(r,t)}}(r,n,f),n.initRenderingContext(EB(EB({},t),{},{width:S,height:E,background:null!=s?s:"transparent",cursor:null!=c?c:"default",cleanUpOnDestroy:f,devicePixelRatio:O,requestAnimationFrame:n.requestAnimationFrame,cancelAnimationFrame:n.cancelAnimationFrame,createImage:n.createImage,supportsTouchEvents:n.supportsTouchEvents,supportsPointerEvents:n.supportsPointerEvents,isTouchEvent:n.isTouchEvent,isMouseEvent:n.isMouseEvent,dblClickSpeed:null!=C?C:200})),n.initDefaultCamera(S,E,i.clipSpaceNearZ),n.initRenderer(i,!0),n}return Ve(e,Dq),We(e,[{key:"initRenderingContext",value:function(e){this.context.config=e,this.context.renderingContext={root:this.document.documentElement,unculledEntities:[],renderListCurrentFrame:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(e,t,n){var r=this,o=new EX.CameraContribution;o.clipSpaceNearZ=n,o.setType(_F.EXPLORING,AF.DEFAULT).setPosition(e/2,t/2,500).setFocalPoint(e/2,t/2,0).setOrthographic(e/-2,e/2,t/2,t/-2,.1,1e3),o.canvas=this,o.eventEmitter.on(jF,function(){r.context.renderingContext.renderReasons.add(Wq.CAMERA_CHANGED),EX.enableSizeAttenuation&&r.getConfig().renderer.getConfig().enableSizeAttenuation&&r.updateSizeAttenuation()}),this.context.camera=o}},{key:"updateSizeAttenuation",value:function(){var e=this.getCamera().getZoom();this.document.documentElement.forEach(function(t){EX.styleValueRegistry.updateSizeAttenuation(t,e)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var e=this;return this.readyPromise||(this.readyPromise=new Promise(function(t){e.resolveReadyPromise=function(){t(e)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;MW.clearCache();var r=!0===(null===(e=this.getConfig().future)||void 0===e?void 0:e.experimentalCancelEventPropagation);n||this.dispatchEvent(new Bq(dU.BEFORE_DESTROY),r,r),this.frameId&&this.cancelAnimationFrame(this.frameId);var o=this.getRoot();t&&(this.unmountChildren(o),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),n||this.dispatchEvent(new Bq(dU.AFTER_DESTROY),r,r);var i=function(e){e.currentTarget=null,e.manager=null,e.target=null,e.relatedNode=null};i(fU),i(hU),i(pU),i(gU),i(mU),i(_X),i($X),i(IX),i(NX),EX.textService.clearCache()}},{key:"changeSize",value:function(e,t){this.resize(e,t)}},{key:"resize",value:function(e,t){var n,r=this.context.config;r.width=e,r.height=t,this.getContextService().resize(e,t);var o=this.context.camera,i=o.getProjectionMode();o.setPosition(e/2,t/2,500).setFocalPoint(e/2,t/2,0),i===PF.ORTHOGRAPHIC?o.setOrthographic(e/-2,e/2,t/2,t/-2,o.getNear(),o.getFar()):o.setAspect(e/t);var a=!0===(null===(n=r.future)||void 0===n?void 0:n.experimentalCancelEventPropagation);this.dispatchEvent(new Bq(dU.RESIZE,{width:e,height:t}),a,a)}},{key:"appendChild",value:function(e,t){return this.document.documentElement.appendChild(e,t)}},{key:"insertBefore",value:function(e,t){return this.document.documentElement.insertBefore(e,t)}},{key:"removeChild",value:function(e){return this.document.documentElement.removeChild(e)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(e){var t,n=this;e&&(pU.detail=e,mU.detail=e);var r=!0===(null===(t=this.getConfig().future)||void 0===t?void 0:t.experimentalCancelEventPropagation);this.dispatchEvent(pU,r,r),this.getRenderingService().render(this.getConfig(),e,function(){n.dispatchEvent(gU,r,r)}),this.dispatchEvent(mU,r,r)}},{key:"run",value:function(){var e=this,t=function(n,r){e.render(r),e.frameId=e.requestAnimationFrame(t)};t()}},{key:"initRenderer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new QH,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new lU,new uU,new aU([new cU])),this.loadRendererContainerModule(e),this.context.contextService=new this.context.ContextService(EB(EB({},EX),this.context)),this.context.renderingService=new Gq(EX,this.context),this.context.eventService=new Hq(EX,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(e,n,!0)):this.context.contextService.initAsync().then(function(){t.initRenderingService(e,n)}).catch(function(e){})}},{key:"initRenderingService",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.context.renderingService.init(function(){var o;t.inited=!0;var i=!0===(null===(o=t.getConfig().future)||void 0===o?void 0:o.experimentalCancelEventPropagation);n?r?t.requestAnimationFrame(function(){t.dispatchEvent(new Bq(dU.READY),i,i)}):t.dispatchEvent(new Bq(dU.READY),i,i):t.dispatchEvent(new Bq(dU.RENDERER_CHANGED),i,i),t.readyPromise&&t.resolveReadyPromise(),n||t.getRoot().forEach(function(e){var t,n;null===(t=(n=e).dirty)||void 0===t||t.call(n,!0,!0)}),t.mountChildren(t.getRoot()),e.getConfig().enableAutoRendering&&t.run()})}},{key:"loadRendererContainerModule",value:function(e){var t=this;e.getPlugins().forEach(function(e){e.context=t.context,e.init(EX)})}},{key:"setRenderer",value:function(e){var t=this.getConfig();if(t.renderer!==e){var n=t.renderer;t.renderer=e,this.destroy(!1,!0),it((null==n?void 0:n.getPlugins())||[]).reverse().forEach(function(e){e.destroy(EX)}),this.initRenderer(e)}}},{key:"setCursor",value:function(e){this.getConfig().cursor=e,this.getContextService().applyCursorStyle(e)}},{key:"unmountChildren",value:function(e){var t=this;if(e.childNodes.forEach(function(e){t.unmountChildren(e)}),this.inited){if(e.isMutationObserved)e.dispatchEvent(hU);else{var n,r=!0===(null===(n=this.getConfig().future)||void 0===n?void 0:n.experimentalCancelEventPropagation);hU.target=e,this.dispatchEvent(hU,!0,r)}e!==this.document.documentElement&&(e.ownerDocument=null),e.isConnected=!1}e.isCustomElement&&e.disconnectedCallback&&e.disconnectedCallback()}},{key:"mountChildren",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VV(e);if(this.inited&&!e.isConnected&&(e.ownerDocument=this.document,e.isConnected=!0,!n))if(e.isMutationObserved)e.dispatchEvent(fU);else{var r,o=!0===(null===(r=this.getConfig().future)||void 0===r?void 0:r.experimentalCancelEventPropagation);fU.target=e,this.dispatchEvent(fU,!0,o)}e.childNodes.forEach(function(e){t.mountChildren(e,n)}),e.isCustomElement&&e.connectedCallback&&e.connectedCallback()}},{key:"mountFragment",value:function(e){this.mountChildren(e,!1)}},{key:"client2Viewport",value:function(e){return this.getEventService().client2Viewport(e)}},{key:"viewport2Client",value:function(e){return this.getEventService().viewport2Client(e)}},{key:"viewport2Canvas",value:function(e){return this.getEventService().viewport2Canvas(e)}},{key:"canvas2Viewport",value:function(e){return this.getEventService().canvas2Viewport(e)}},{key:"getPointByClient",value:function(e,t){return this.client2Viewport({x:e,y:t})}},{key:"getClientByPoint",value:function(e,t){return this.viewport2Client({x:e,y:t})}}])}(),yU=function(){function e(){var t;He(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=yl(this,e,[].concat(r))).landmarks=[],t}return Ve(e,DF),We(e,[{key:"rotate",value:function(e,t,n){if(this.relElevation=vF(t),this.relAzimuth=vF(e),this.relRoll=vF(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===_F.EXPLORING){var r=jD(PD(),[1,0,0],wF((this.rotateWorld?1:-1)*this.relElevation)),o=jD(PD(),[0,1,0],wF((this.rotateWorld?1:-1)*this.relAzimuth)),i=jD(PD(),[0,0,1],wF(this.relRoll)),a=BD(PD(),o,r);a=BD(PD(),a,i);var l=nD(TB(),a);HB(this.matrix,this.matrix,[0,0,-this.distance]),zB(this.matrix,this.matrix,l),HB(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===_F.ORBITING||this.type===_F.EXPLORING?this._getPosition():this.type===_F.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(e,t){var n=bF(e,t,0),r=gD(this.position);return xD(r,r,CD(pD(),this.right,n[0])),xD(r,r,CD(pD(),this.up,n[1])),this._setPosition(r),this.triggerUpdate(),this}},{key:"dolly",value:function(e){var t=this.forward,n=gD(this.position),r=this.dollyingStep,o=this.distance+e*this.dollyingStep;return r=Math.max(Math.min(o,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*t[0],n[1]+=r*t[1],n[2]+=r*t[2],this._setPosition(n),this.type===_F.ORBITING||this.type===_F.EXPLORING?this._getDistance():this.type===_F.TRACKING&&xD(this.focalPoint,n,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){void 0!==this.landmarkAnimationID&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(e){var t,n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.position,l=void 0===a?this.position:a,s=i.focalPoint,c=void 0===s?this.focalPoint:s,u=i.roll,d=i.zoom,f=new EX.CameraContribution;f.setType(this.type,void 0),f.setPosition(l[0],null!==(t=l[1])&&void 0!==t?t:this.position[1],null!==(n=l[2])&&void 0!==n?n:this.position[2]),f.setFocalPoint(c[0],null!==(r=c[1])&&void 0!==r?r:this.focalPoint[1],null!==(o=c[2])&&void 0!==o?o:this.focalPoint[2]),f.setRoll(null!=u?u:this.roll),f.setZoom(null!=d?d:this.zoom);var h={name:e,matrix:LB(f.getWorldTransform()),right:gD(f.right),up:gD(f.up),forward:gD(f.forward),position:gD(f.getPosition()),focalPoint:gD(f.getFocalPoint()),distanceVector:gD(f.getDistanceVector()),distance:f.getDistance(),dollyingStep:f.getDollyingStep(),azimuth:f.getAzimuth(),elevation:f.getElevation(),roll:f.getRoll(),relAzimuth:f.relAzimuth,relElevation:f.relElevation,relRoll:f.relRoll,zoom:f.getZoom()};return this.landmarks.push(h),h}},{key:"gotoLandmark",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=lz(e)?this.landmarks.find(function(t){return t.name===e}):e;if(r){var o=uz(n)?{duration:n}:n,i=o.easing,a=void 0===i?"linear":i,l=o.duration,s=void 0===l?100:l,c=o.easingFunction,u=void 0===c?void 0:c,d=o.onfinish,f=void 0===d?void 0:d,h=o.onframe,p=void 0===h?void 0:h;this.cancelLandmarkAnimation();var g,m=r.position,v=r.focalPoint,y=r.zoom,b=r.roll,x=u||EX.EasingFunction(a),w=function(){t.setFocalPoint(v),t.setPosition(m),t.setRoll(b),t.setZoom(y),t.computeMatrix(),t.triggerUpdate(),null==f||f()};if(0===s)return w();var C=function(e){void 0===g&&(g=e);var n=e-g;if(n>=s)w();else{var r,o,i=x(n/s),a=pD(),l=pD();if(kD(a,t.focalPoint,v,i),kD(l,t.position,m,i),o=t.roll*(1-i)+b*i,r=t.zoom*(1-i)+y*i,t.setFocalPoint(a),t.setPosition(l),t.setRoll(o),t.setZoom(r),TD(a,v)+TD(l,m)<=.01&&void 0===y&&void 0===b)return w();t.computeMatrix(),t.triggerUpdate(),n<s&&(null==p||p(i),t.landmarkAnimationID=t.canvas.requestAnimationFrame(C))}};this.canvas.requestAnimationFrame(C)}}}])}();EX.CameraContribution=yU;
/*!
 * @antv/g-web-animations-api
 * @description A simple implementation of Web Animations API.
 * @version 2.1.28
 * @date 7/30/2025, 1:36:24 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */
var bU=function(){function e(t,n,r,o){var i;return He(this,e),(i=yl(this,e,[t])).currentTime=r,i.timelineTime=o,i.target=n,i.type="finish",i.bubbles=!1,i.currentTarget=n,i.defaultPrevented=!1,i.eventPhase=i.AT_TARGET,i.timeStamp=Date.now(),i.currentTime=r,i.timelineTime=o,i}return Ve(e,_q),We(e)}(),xU=0,wU=function(){return We(function e(t,n){var r;He(this,e),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=n,this.id="".concat(xU++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number(null===(r=this.effect)||void 0===r?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()},[{key:"pending",get:function(){return null===this._startTime&&!this._paused&&0!==this.playbackRate||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var e=this;return this.readyPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(t,n){e.resolveReadyPromise=function(){t(e)},e.rejectReadyPromise=function(){n(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var e=this;return this.finishedPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(t,n){e.resolveFinishedPromise=function(){t(e)},e.rejectFinishedPromise=function(){n(new Error)}}),"finished"===this.playState&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(e){if(e=Number(e),!isNaN(e)){var t;if(this.timeline.restart(),!this._paused&&null!==this._startTime)this._startTime=Number(null===(t=this.timeline)||void 0===t?void 0:t.currentTime)-e/this.playbackRate;this.currentTimePending=!1,this._currentTime!==e&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(e,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(e){if(null!==e){if(this.updatePromises(),e=Number(e),isNaN(e))return;if(this._paused||this._idle)return;this._startTime=e,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(e){if(e!==this._playbackRate){this.updatePromises();var t=this.currentTime;this._playbackRate=e,this.startTime=null,"paused"!==this.playState&&"idle"!==this.playState&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),null!==t&&(this.currentTime=t),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||"running"===this.playState||!this._finishedFlag}},{key:"updatePromises",value:function(){var e;if(null!==(e=this.effect.target)&&void 0!==e&&e.destroyed)return this.readyPromise=void 0,this.finishedPromise=void 0,!1;var t=this.oldPlayState,n=this.pending?"pending":this.playState;return this.readyPromise&&n!==t&&("idle"===n?(this.rejectReadyPromise(),this.readyPromise=void 0):"pending"===t?this.resolveReadyPromise():"pending"===n&&(this.readyPromise=void 0)),this.finishedPromise&&n!==t&&("idle"===n?(this.rejectFinishedPromise(),this.finishedPromise=void 0):"finished"===n?this.resolveFinishedPromise():"finished"===t&&(this.finishedPromise=void 0)),this.oldPlayState=n,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),-1===this.timeline.animations.indexOf(this)&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._isFinished||this._paused||this._idle?this._idle&&(this.rewind(),this._idle=!1):this.currentTimePending=!0,this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var e=this;if(this.updatePromises(),this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var t=new bU(null,this,this.currentTime,null);setTimeout(function(){e.oncancel(t)})}}},{key:"reverse",value:function(){this.updatePromises();var e=this.currentTime;this.playbackRate*=-1,this.play(),null!==e&&(this.currentTime=e),this.updatePromises()}},{key:"updatePlaybackRate",value:function(e){this.playbackRate=e}},{key:"targetAnimations",value:function(){var e;return(null===(e=this.effect)||void 0===e?void 0:e.target).getAnimations()}},{key:"markTarget",value:function(){var e=this.targetAnimations();-1===e.indexOf(this)&&e.push(this)}},{key:"unmarkTarget",value:function(){var e=this.targetAnimations(),t=e.indexOf(this);-1!==t&&e.splice(t,1)}},{key:"tick",value:function(e,t){this._idle||this._paused||(null===this._startTime?t&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((e-this._startTime)*this.playbackRate)),t&&(this.currentTimePending=!1,this.fireEvents(e))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else{if(!(this._totalDuration<1/0))throw new Error("Unable to rewind negative playback rate animation with infinite duration");this.currentTime=this._totalDuration}}},{key:"persist",value:function(){throw new Error(gF)}},{key:"addEventListener",value:function(e,t,n){throw new Error(gF)}},{key:"removeEventListener",value:function(e,t,n){throw new Error(gF)}},{key:"dispatchEvent",value:function(e){throw new Error(gF)}},{key:"commitStyles",value:function(){throw new Error(gF)}},{key:"ensureAlive",value:function(){var e,t;this.playbackRate<0&&0===this.currentTime?this._inEffect=!(null===(e=this.effect)||void 0===e||!e.update(-1)):this._inEffect=!(null===(t=this.effect)||void 0===t||!t.update(this.currentTime));this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(e,t){e!==this._currentTime&&(this._currentTime=e,this._isFinished&&!t&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(e){var t=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var n=new bU(null,this,this.currentTime,e);setTimeout(function(){t.onfinish&&t.onfinish(n)})}this._finishedFlag=!0}}else{if(this.onframe&&"running"===this.playState){var r=new bU(null,this,this.currentTime,e);this.onframe(r)}this._finishedFlag=!1}}}])}(),CU=.1,SU="function"==typeof Float32Array,EU=function(e,t){return 1-3*t+3*e},OU=function(e,t){return 3*t-6*e},kU=function(e){return 3*e},MU=function(e,t,n){return((EU(t,n)*e+OU(t,n))*e+kU(t))*e},$U=function(e,t,n){return 3*EU(t,n)*e*e+2*OU(t,n)*e+kU(t)},IU=function(e,t,n,r){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return function(e){return e};for(var o=SU?new Float32Array(11):new Array(11),i=0;i<11;++i)o[i]=MU(i*CU,e,n);var a=function(t){for(var r=0,i=1;10!==i&&o[i]<=t;++i)r+=CU;--i;var a=r+(t-o[i])/(o[i+1]-o[i])*CU,l=$U(a,e,n);return l>=.001?function(e,t,n,r){for(var o=0;o<4;++o){var i=$U(t,n,r);if(0===i)return t;t-=(MU(t,n,r)-e)/i}return t}(t,a,e,n):0===l?a:function(e,t,n,r,o){var i,a,l=0;do{(i=MU(a=t+(n-t)/2,r,o)-e)>0?n=a:t=a}while(Math.abs(i)>1e-7&&++l<10);return a}(t,r,r+CU,e,n)};return function(e){return 0===e||1===e?e:MU(a(e),t,r)}},NU=function(e){return Math.pow(e,2)},TU=function(e){return Math.pow(e,3)},LU=function(e){return Math.pow(e,4)},RU=function(e){return Math.pow(e,5)},_U=function(e){return Math.pow(e,6)},AU=function(e){return 1-Math.cos(e*Math.PI/2)},PU=function(e){return 1-Math.sqrt(1-e*e)},jU=function(e){return e*e*(3*e-2)},BU=function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)},DU=function(e){var t=pt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],2),n=t[0],r=void 0===n?1:n,o=t[1],i=void 0===o?.5:o,a=cz(Number(r),1,10),l=cz(Number(i),.1,2);return 0===e||1===e?e:-a*Math.pow(2,10*(e-1))*Math.sin((e-1-l/(2*Math.PI)*Math.asin(1/a))*(2*Math.PI)/l)},zU=function(e){var t=arguments.length>2?arguments[2]:void 0,n=pt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],4),r=n[0],o=void 0===r?1:r,i=n[1],a=void 0===i?100:i,l=n[2],s=void 0===l?10:l,c=n[3],u=void 0===c?0:c;o=cz(o,.1,1e3),a=cz(a,.1,1e3),s=cz(s,.1,1e3),u=cz(u,.1,1e3);var d=Math.sqrt(a/o),f=s/(2*Math.sqrt(a*o)),h=f<1?d*Math.sqrt(1-f*f):0,p=f<1?(f*d-u)/h:-u+d,g=t?t*e/1e3:e;return g=f<1?Math.exp(-g*f*d)*(1*Math.cos(h*g)+p*Math.sin(h*g)):(1+p*g)*Math.exp(-g*d),0===e||1===e?e:1-g},HU=function(e){var t=pt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],2),n=t[0],r=void 0===n?10:n;return("start"===t[1]?Math.ceil:Math.floor)(cz(e,0,1)*r)/r},FU=function(e){var t=pt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],4),n=t[0],r=t[1],o=t[2],i=t[3];return IU(n,r,o,i)(e)},WU=IU(.42,0,1,1),GU=function(e){return function(t){return 1-e(1-t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2?arguments[2]:void 0)}},VU=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return t<.5?e(2*t,n,r)/2:1-e(-2*t+2,n,r)/2}},qU=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return t<.5?(1-e(1-2*t,n,r))/2:(e(2*t-1,n,r)+1)/2}},XU={steps:HU,"step-start":function(e){return HU(e,[1,"start"])},"step-end":function(e){return HU(e,[1,"end"])},linear:function(e){return e},"cubic-bezier":FU,ease:function(e){return FU(e,[.25,.1,.25,1])},in:WU,out:GU(WU),"in-out":VU(WU),"out-in":qU(WU),"in-quad":NU,"out-quad":GU(NU),"in-out-quad":VU(NU),"out-in-quad":qU(NU),"in-cubic":TU,"out-cubic":GU(TU),"in-out-cubic":VU(TU),"out-in-cubic":qU(TU),"in-quart":LU,"out-quart":GU(LU),"in-out-quart":VU(LU),"out-in-quart":qU(LU),"in-quint":RU,"out-quint":GU(RU),"in-out-quint":VU(RU),"out-in-quint":qU(RU),"in-expo":_U,"out-expo":GU(_U),"in-out-expo":VU(_U),"out-in-expo":qU(_U),"in-sine":AU,"out-sine":GU(AU),"in-out-sine":VU(AU),"out-in-sine":qU(AU),"in-circ":PU,"out-circ":GU(PU),"in-out-circ":VU(PU),"out-in-circ":qU(PU),"in-back":jU,"out-back":GU(jU),"in-out-back":VU(jU),"out-in-back":qU(jU),"in-bounce":BU,"out-bounce":GU(BU),"in-out-bounce":VU(BU),"out-in-bounce":qU(BU),"in-elastic":DU,"out-elastic":GU(DU),"in-out-elastic":VU(DU),"out-in-elastic":qU(DU),spring:zU,"spring-in":zU,"spring-out":GU(zU),"spring-in-out":VU(zU),"spring-out-in":qU(zU)},UU=function(e){return e};function YU(e,t){return function(n){if(n>=1)return 1;var r=1/e;return(n+=t*r)-n%r}}var KU="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",ZU=new RegExp("cubic-bezier\\(".concat(KU,",").concat(KU,",").concat(KU,",").concat(KU,"\\)")),QU=/steps\(\s*(\d+)\s*\)/,JU=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function eY(e){var t=ZU.exec(e);if(t)return IU.apply(void 0,it(t.slice(1).map(Number)));var n=QU.exec(e);if(n)return YU(Number(n[1]),0);var r=JU.exec(e);return r?YU(Number(r[1]),{start:1,middle:.5,end:0}[r[2]]):XU[function(e){return(t=e,"-"===(t=t.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())})).charAt(0)?t.substring(1):t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim();var t}(e)]||XU.linear}function tY(e){return Math.abs(function(e){var t;if(0===e.duration||0===e.iterations)return 0;return("auto"===e.duration?0:Number(e.duration))*(null!==(t=e.iterations)&&void 0!==t?t:1)}(e)/(e.playbackRate||1))}function nY(e,t,n){var r=function(e,t,n){if(null===t)return 0;var r=n.endTime;return t<Math.min(n.delay,r)?1:t>=Math.min(n.delay+e+n.endDelay,r)?2:3}(e,t,n),o=function(e,t,n,r,o){switch(r){case 1:return"backwards"===t||"both"===t?0:null;case 3:return n-o;case 2:return"forwards"===t||"both"===t?e:null;case 0:return null}}(e,n.fill,t,r,n.delay);if(null===o)return null;var i="auto"===n.duration?0:n.duration,a=function(e,t,n,r,o){var i=o;return 0===e?1!==t&&(i+=n):i+=r/e,i}(i,r,n.iterations,o,n.iterationStart),l=function(e,t,n,r,o,i){var a=e===1/0?t%1:e%1;return 0!==a||2!==n||0===r||0===o&&0!==i||(a=1),a}(a,n.iterationStart,r,n.iterations,o,i),s=function(e,t,n,r){return 2===e&&t===1/0?1/0:1===n?Math.floor(r)-1:Math.floor(r)}(r,n.iterations,l,a),c=function(e,t,n){var r=e;if("normal"!==e&&"reverse"!==e){var o=t;"alternate-reverse"===e&&(o+=1),r="normal",o!==1/0&&o%2!=0&&(r="reverse")}return"normal"===r?n:1-n}(n.direction,s,l);return n.currentIteration=s,n.progress=c,n.easingFunction(c)}function rY(e,t,n){var r=function(e,t){for(var n={},r=0;r<e.length;r++)for(var o in e[r])if(oY(o)){var i={offset:e[r].offset,computedOffset:e[r].computedOffset,easing:e[r].easing,easingFunction:eY(e[r].easing)||t.easingFunction,value:e[r][o]};n[o]=n[o]||[],n[o].push(i)}return n}(e,t),o=function(e,t){var n=[];for(var r in e)for(var o=e[r],i=0;i<o.length-1;i++){var a=i,l=i+1,s=o[a].computedOffset,c=o[l].computedOffset,u=s,d=c;0===i&&(u=-1/0,0===c&&(l=a)),i===o.length-2&&(d=1/0,1===s&&(a=l)),n.push({applyFrom:u,applyTo:d,startOffset:o[a].computedOffset,endOffset:o[l].computedOffset,easingFunction:o[a].easingFunction,property:r,interpolation:aY(r,o[a].value,o[l].value,t)})}return n.sort(function(e,t){return e.startOffset-t.startOffset}),n}(r,n);return function(e,t){if(null!==t)o.filter(function(e){return t>=e.applyFrom&&t<e.applyTo}).forEach(function(n){var r=t-n.startOffset,o=n.endOffset-n.startOffset,i=0===o?0:r/o;e.setAttribute(n.property,n.interpolation(i),!1,!1)});else for(var n in r)oY(n)&&e.setAttribute(n,null)}}function oY(e){return"offset"!==e&&"easing"!==e&&"composite"!==e&&"computedOffset"!==e}var iY=function(e,t,n){return function(r){var o=lY(e,t,r);return uz(o)?o:n(o)}};function aY(e,t,n,r){var o=vV[e];if(o&&o.syntax&&o.int){var i=EX.styleValueRegistry.getPropertySyntax(o.syntax);if(i){var a=i.parser,l=a?a(t,r):t,s=a?a(n,r):n,c=i.mixer(l,s,r);if(c){var u=iY.apply(void 0,it(c));return function(e){return 0===e?t:1===e?n:u(e)}}}}return iY(!1,!0,function(e){return e?n:t})}function lY(e,t,n){if("number"==typeof e&&"number"==typeof t)return e*(1-n)+t*n;if("boolean"==typeof e&&"boolean"==typeof t||"string"==typeof e&&"string"==typeof t)return n<.5?e:t;if(Array.isArray(e)&&Array.isArray(t)){for(var r=e.length,o=t.length,i=Math.max(r,o),a=[],l=0;l<i;l++)a.push(lY(e[l<r?l:r-1],t[l<o?l:o-1],n));return a}throw new Error("Mismatched interpolation arguments ".concat(e,":").concat(t))}var sY=function(){return We(function e(){He(this,e),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=UU,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null},[{key:"easing",get:function(){return this._easing},set:function(e){this.easingFunction=eY(e),this._easing=e}}])}();function cY(e,t){if(null===e)return[];Array.isArray(e)||(e=function(e){var t=[];for(var n in e)if(!(n in["easing","offset","composite"])){var r=e[n];Array.isArray(r)||(r=[r]);for(var o=r.length,i=0;i<o;i++){if(!t[i]){var a={};"offset"in e&&(a.offset=Number(e.offset)),"easing"in e&&(a.easing=e.easing),"composite"in e&&(a.composite=e.composite),t[i]=a}void 0!==r[i]&&null!==r[i]&&(t[i][n]=r[i])}}return t.sort(function(e,t){return(e.computedOffset||0)-(t.computedOffset||0)}),t}(e));for(var n=e.map(function(e){var n={};for(var r in null!=t&&t.composite&&(n.composite="auto"),e){var o=e[r];if("offset"===r){if(null!==o){if(o=Number(o),!isFinite(o))throw new Error("Keyframe offsets must be numbers.");if(o<0||o>1)throw new Error("Keyframe offsets must be between 0 and 1.");n.computedOffset=o}}else if("composite"===r&&-1===["replace","add","accumulate","auto"].indexOf(o))throw new Error("".concat(o," compositing is not supported"));n[r]=o}return void 0===n.offset&&(n.offset=null),void 0===n.easing&&(n.easing=(null==t?void 0:t.easing)||"linear"),void 0===n.composite&&(n.composite="auto"),n}),r=!0,o=-1/0,i=0;i<n.length;i++){var a=n[i].offset;if(YD(a))r=!1;else{if(a<o)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");o=a}}return n=n.filter(function(e){return Number(e.offset)>=0&&Number(e.offset)<=1}),r||function(){var e,t,r=n.length;n[r-1].computedOffset=Number(null!==(e=n[r-1].offset)&&void 0!==e?e:1),r>1&&(n[0].computedOffset=Number(null!==(t=n[0].offset)&&void 0!==t?t:0));for(var o=0,i=Number(n[0].computedOffset),a=1;a<r;a++){var l=n[a].computedOffset;if(!YD(l)&&!YD(i)){for(var s=1;s<a-o;s++)n[o+s].computedOffset=i+(Number(l)-i)*s/(a-o);o=a,i=Number(l)}}}(),n}var uY="backwards|forwards|both|none".split("|"),dY="reverse|alternate|alternate-reverse".split("|");function fY(e,t){return function(e){var t=new sY;return"number"!=typeof e||isNaN(e)?void 0!==e&&Object.keys(e).forEach(function(n){if(void 0!==e[n]&&null!==e[n]&&"auto"!==e[n]){if(("number"==typeof t[n]||"duration"===n)&&("number"!=typeof e[n]||isNaN(e[n])))return;if("fill"===n&&-1===uY.indexOf(e[n]))return;if("direction"===n&&-1===dY.indexOf(e[n]))return;t[n]=e[n]}}):t.duration=e,t}(e=function(e){"number"==typeof e&&(e=isNaN(e)?{duration:"auto"}:{duration:e});return e}(null!=e?e:{duration:"auto"}))}var hY=function(){return We(function e(t,n,r){var o=this;He(this,e),this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=fY(r),this.timing.effect=this,this.timing.activeDuration=tY(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=cY(n,this.timing),this.interpolations=rY(this.normalizedKeyframes,this.timing,this.target);var i=EX.globalThis.Proxy;this.computedTiming=i?new i(this.timing,{get:function(e,t){return"duration"===t?"auto"===e.duration?0:e.duration:"fill"===t?"auto"===e.fill?"none":e.fill:"localTime"===t?o.animation&&o.animation.currentTime||null:"currentIteration"===t?o.animation&&"running"===o.animation.playState?e.currentIteration||0:null:"progress"===t?o.animation&&"running"===o.animation.playState?e.progress||0:null:e[t]},set:function(){return!0}}):this.timing},[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(e){return null!==e&&(this.timeFraction=nY(this.timing.activeDuration,e,this.timing),null!==this.timeFraction)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(e){this.normalizedKeyframes=cY(e)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(e){var t=this;Object.keys(e||{}).forEach(function(n){t.timing[n]=e[n]})}}])}();function pY(e,t){return Number(e.id)-Number(t.id)}var gY=function(){return We(function e(t){var n=this;He(this,e),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(e){n.currentTime=e,n.discardAnimations(),0===n.animations.length?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(e){var t=n.rafCallbacks;n.rafCallbacks=[],e<Number(n.currentTime)&&(e=Number(n.currentTime)),n.animations.sort(pY),n.animations=n.tick(e,!0,n.animations)[0],t.forEach(function(t){t[1](e)}),n.applyPendingEffects()},this.document=t},[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(e,t,n){var r=new hY(e,t,n),o=new wU(r,this);return this.animations.push(o),this.restartWebAnimationsNextTick(),o.updatePromises(),o.play(),o.updatePromises(),o}},{key:"applyDirtiedAnimation",value:function(e){var t=this;if(!this.inTick){e.markTarget();var n=e.targetAnimations();n.sort(pY),this.tick(Number(this.currentTime),!1,n.slice())[1].forEach(function(e){var n=t.animations.indexOf(e);-1!==n&&t.animations.splice(n,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(e){null==e||e.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(e){return e.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(e){return"finished"!==e.playState&&"idle"!==e.playState})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(e){var t=this.rafId++;return 0===this.rafCallbacks.length&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([t,e]),t}},{key:"requestAnimationFrame",value:function(e){var t=this;return this.rAF(function(n){t.updateAnimationsPromises(),e(n),t.updateAnimationsPromises()})}},{key:"tick",value:function(e,t,n){var r,o,i=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=e,this.ticking=!1;var a=[],l=[],s=[],c=[];return n.forEach(function(n){n.tick(e,t),n._inEffect?(l.push(n.effect),n.markTarget()):(a.push(n.effect),n.unmarkTarget()),n._needsTick&&(i.ticking=!0);var r=n._inEffect||n._needsTick;n._inTimeline=r,r?s.push(n):c.push(n)}),(r=this.pendingEffects).push.apply(r,a),(o=this.pendingEffects).push.apply(o,l),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[s,c]}}])}();EX.EasingFunction=eY,EX.AnimationTimeline=gY;var mY={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(e,t){(function(){var n,r="Expected a function",o="__lodash_hash_undefined__",i="__lodash_placeholder__",a=32,l=128,s=256,c=1/0,u=9007199254740991,d=NaN,f=4294967295,h=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",a],["partialRight",64],["rearg",s]],p="[object Arguments]",g="[object Array]",m="[object Boolean]",v="[object Date]",y="[object Error]",b="[object Function]",w="[object GeneratorFunction]",C="[object Map]",S="[object Number]",E="[object Object]",O="[object Promise]",k="[object RegExp]",M="[object Set]",$="[object String]",I="[object Symbol]",N="[object WeakMap]",T="[object ArrayBuffer]",L="[object DataView]",R="[object Float32Array]",_="[object Float64Array]",A="[object Int8Array]",P="[object Int16Array]",j="[object Int32Array]",B="[object Uint8Array]",D="[object Uint8ClampedArray]",z="[object Uint16Array]",H="[object Uint32Array]",F=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,X=RegExp(V.source),U=RegExp(q.source),Y=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,oe=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",Me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$e="[']",Ie="["+we+"]",Ne="["+Me+"]",Te="["+Ce+"]",Le="\\d+",Re="["+Se+"]",_e="["+Ee+"]",Ae="[^"+we+Me+Le+Se+Ee+Oe+"]",Pe="\\ud83c[\\udffb-\\udfff]",je="[^"+we+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",De="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Oe+"]",He="\\u200d",Fe="(?:"+_e+"|"+Ae+")",We="(?:"+ze+"|"+Ae+")",Ge="(?:['](?:d|ll|m|re|s|t|ve))?",Ve="(?:['](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+Te+"|"+Pe+")"+"?",Xe="["+ke+"]?",Ue=Xe+qe+("(?:"+He+"(?:"+[je,Be,De].join("|")+")"+Xe+qe+")*"),Ye="(?:"+[Re,Be,De].join("|")+")"+Ue,Ke="(?:"+[je+Te+"?",Te,Be,De,Ie].join("|")+")",Ze=RegExp($e,"g"),Qe=RegExp(Te,"g"),Je=RegExp(Pe+"(?="+Pe+")|"+Ke+Ue,"g"),et=RegExp([ze+"?"+_e+"+"+Ge+"(?="+[Ne,ze,"$"].join("|")+")",We+"+"+Ve+"(?="+[Ne,ze+Fe,"$"].join("|")+")",ze+"?"+Fe+"+"+Ge,ze+"+"+Ve,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Ye].join("|"),"g"),tt=RegExp("["+He+we+Ce+ke+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,it={};it[R]=it[_]=it[A]=it[P]=it[j]=it[B]=it[D]=it[z]=it[H]=!0,it[p]=it[g]=it[T]=it[m]=it[L]=it[v]=it[y]=it[b]=it[C]=it[S]=it[E]=it[k]=it[M]=it[$]=it[N]=!1;var at={};at[p]=at[g]=at[T]=at[L]=at[m]=at[v]=at[R]=at[_]=at[A]=at[P]=at[j]=at[C]=at[S]=at[E]=at[k]=at[M]=at[$]=at[I]=at[B]=at[D]=at[z]=at[H]=!0,at[y]=at[b]=at[N]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},st=parseFloat,ct=parseInt,ut="object"==typeof x&&x&&x.Object===Object&&x,dt="object"==typeof self&&self&&self.Object===Object&&self,ft=ut||dt||Function("return this")(),ht=t&&!t.nodeType&&t,pt=ht&&e&&!e.nodeType&&e,gt=pt&&pt.exports===ht,mt=gt&&ut.process,vt=function(){try{var e=pt&&pt.require&&pt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(rw){}}(),yt=vt&&vt.isArrayBuffer,bt=vt&&vt.isDate,xt=vt&&vt.isMap,wt=vt&&vt.isRegExp,Ct=vt&&vt.isSet,St=vt&&vt.isTypedArray;function Et(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ot(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Mt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function $t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function It(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Nt(e,t){return!!(null==e?0:e.length)&&zt(e,t,0)>-1}function Tt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Rt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function _t(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function At(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jt=Gt("length");function Bt(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function Dt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function zt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Dt(e,Ft,n)}function Ht(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Ft(e){return e!=e}function Wt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:d}function Gt(e){return function(t){return null==t?n:t[e]}}function Vt(e){return function(t){return null==e?n:e[t]}}function qt(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function Xt(e,t){for(var r,o=-1,i=e.length;++o<i;){var a=t(e[o]);a!==n&&(r=r===n?a:r+a)}return r}function Ut(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,fn(e)+1).replace(re,""):e}function Kt(e){return function(t){return e(t)}}function Zt(e,t){return Lt(t,function(t){return e[t]})}function Qt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,r=e.length;++n<r&&zt(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length;n--&&zt(t,e[n],0)>-1;);return n}var tn=Vt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),nn=Vt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(e){return"\\"+lt[e]}function on(e){return tt.test(e)}function an(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function ln(e,t){return function(n){return e(t(n))}}function sn(e,t){for(var n=-1,r=e.length,o=0,a=[];++n<r;){var l=e[n];l!==t&&l!==i||(e[n]=i,a[o++]=n)}return a}function cn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function un(e){return on(e)?function(e){var t=Je.lastIndex=0;for(;Je.test(e);)++t;return t}(e):jt(e)}function dn(e){return on(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var hn=Vt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var pn=function e(t){var x,oe=(t=null==t?ft:pn.defaults(ft.Object(),t,pn.pick(ft,rt))).Array,we=t.Date,Ce=t.Error,Se=t.Function,Ee=t.Math,Oe=t.Object,ke=t.RegExp,Me=t.String,$e=t.TypeError,Ie=oe.prototype,Ne=Se.prototype,Te=Oe.prototype,Le=t["__core-js_shared__"],Re=Ne.toString,_e=Te.hasOwnProperty,Ae=0,Pe=(x=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",je=Te.toString,Be=Re.call(Oe),De=ft._,ze=ke("^"+Re.call(_e).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=gt?t.Buffer:n,Fe=t.Symbol,We=t.Uint8Array,Ge=He?He.allocUnsafe:n,Ve=ln(Oe.getPrototypeOf,Oe),qe=Oe.create,Xe=Te.propertyIsEnumerable,Ue=Ie.splice,Ye=Fe?Fe.isConcatSpreadable:n,Ke=Fe?Fe.iterator:n,Je=Fe?Fe.toStringTag:n,tt=function(){try{var e=ui(Oe,"defineProperty");return e({},"",{}),e}catch(rw){}}(),lt=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,ut=we&&we.now!==ft.Date.now&&we.now,dt=t.setTimeout!==ft.setTimeout&&t.setTimeout,ht=Ee.ceil,pt=Ee.floor,mt=Oe.getOwnPropertySymbols,vt=He?He.isBuffer:n,jt=t.isFinite,Vt=Ie.join,gn=ln(Oe.keys,Oe),mn=Ee.max,vn=Ee.min,yn=we.now,bn=t.parseInt,xn=Ee.random,wn=Ie.reverse,Cn=ui(t,"DataView"),Sn=ui(t,"Map"),En=ui(t,"Promise"),On=ui(t,"Set"),kn=ui(t,"WeakMap"),Mn=ui(Oe,"create"),$n=kn&&new kn,In={},Nn=Di(Cn),Tn=Di(Sn),Ln=Di(En),Rn=Di(On),_n=Di(kn),An=Fe?Fe.prototype:n,Pn=An?An.valueOf:n,jn=An?An.toString:n;function Bn(e){if(nl(e)&&!Va(e)&&!(e instanceof Fn)){if(e instanceof Hn)return e;if(_e.call(e,"__wrapped__"))return zi(e)}return new Hn(e)}var Dn=function(){function e(){}return function(t){if(!tl(t))return{};if(qe)return qe(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function zn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Fn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Vn;++t<n;)this.add(e[t])}function Xn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Un(e,t){var n=Va(e),r=!n&&Ga(e),o=!n&&!r&&Ya(e),i=!n&&!r&&!o&&ul(e),a=n||r||o||i,l=a?Ut(e.length,Me):[],s=l.length;for(var c in e)!t&&!_e.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||vi(c,s))||l.push(c);return l}function Yn(e){var t=e.length;return t?e[qr(0,t-1)]:n}function Kn(e,t){return Ri($o(e),ir(t,0,e.length))}function Zn(e){return Ri($o(e))}function Qn(e,t,r){(r!==n&&!Ha(e[t],r)||r===n&&!(t in e))&&rr(e,t,r)}function Jn(e,t,r){var o=e[t];_e.call(e,t)&&Ha(o,r)&&(r!==n||t in e)||rr(e,t,r)}function er(e,t){for(var n=e.length;n--;)if(Ha(e[n][0],t))return n;return-1}function tr(e,t,n,r){return ur(e,function(e,o,i){t(r,e,n(e),i)}),r}function nr(e,t){return e&&Io(t,Ll(t),e)}function rr(e,t,n){"__proto__"==t&&tt?tt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,o=t.length,i=oe(o),a=null==e;++r<o;)i[r]=a?n:Ml(e,t[r]);return i}function ir(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function ar(e,t,r,o,i,a){var l,s=1&t,c=2&t,u=4&t;if(r&&(l=i?r(e,o,i,a):r(e)),l!==n)return l;if(!tl(e))return e;var d=Va(e);if(d){if(l=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&_e.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return $o(e,l)}else{var f=hi(e),h=f==b||f==w;if(Ya(e))return Co(e,s);if(f==E||f==p||h&&!i){if(l=c||h?{}:gi(e),!s)return c?function(e,t){return Io(e,fi(e),t)}(e,function(e,t){return e&&Io(t,Rl(t),e)}(l,e)):function(e,t){return Io(e,di(e),t)}(e,nr(l,e))}else{if(!at[f])return i?e:{};l=function(e,t,n){var r=e.constructor;switch(t){case T:return So(e);case m:case v:return new r(+e);case L:return function(e,t){var n=t?So(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case _:case A:case P:case j:case B:case D:case z:case H:return Eo(e,n);case C:return new r;case S:case $:return new r(e);case k:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case M:return new r;case I:return o=e,Pn?Oe(Pn.call(o)):{}}var o}(e,f,s)}}a||(a=new Xn);var g=a.get(e);if(g)return g;a.set(e,l),ll(e)?e.forEach(function(n){l.add(ar(n,t,r,n,e,a))}):rl(e)&&e.forEach(function(n,o){l.set(o,ar(n,t,r,o,e,a))});var y=d?n:(u?c?ri:ni:c?Rl:Ll)(e);return kt(y||e,function(n,o){y&&(n=e[o=n]),Jn(l,o,ar(n,t,r,o,e,a))}),l}function lr(e,t,r){var o=r.length;if(null==e)return!o;for(e=Oe(e);o--;){var i=r[o],a=t[i],l=e[i];if(l===n&&!(i in e)||!a(l))return!1}return!0}function sr(e,t,o){if("function"!=typeof e)throw new $e(r);return Ii(function(){e.apply(n,o)},t)}function cr(e,t,n,r){var o=-1,i=Nt,a=!0,l=e.length,s=[],c=t.length;if(!l)return s;n&&(t=Lt(t,Kt(n))),r?(i=Tt,a=!1):t.length>=200&&(i=Qt,a=!1,t=new qn(t));e:for(;++o<l;){var u=e[o],d=null==n?u:n(u);if(u=r||0!==u?u:0,a&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;s.push(u)}else i(t,d,r)||s.push(u)}return s}Bn.templateSettings={escape:Y,evaluate:K,interpolate:Z,variable:"",imports:{_:Bn}},Bn.prototype=zn.prototype,Bn.prototype.constructor=Bn,Hn.prototype=Dn(zn.prototype),Hn.prototype.constructor=Hn,Fn.prototype=Dn(zn.prototype),Fn.prototype.constructor=Fn,Wn.prototype.clear=function(){this.__data__=Mn?Mn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(Mn){var r=t[e];return r===o?n:r}return _e.call(t,e)?t[e]:n},Wn.prototype.has=function(e){var t=this.__data__;return Mn?t[e]!==n:_e.call(t,e)},Wn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Mn&&t===n?o:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ue.call(t,n,1),--this.size,!0)},Gn.prototype.get=function(e){var t=this.__data__,r=er(t,e);return r<0?n:t[r][1]},Gn.prototype.has=function(e){return er(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Vn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Sn||Gn),string:new Wn}},Vn.prototype.delete=function(e){var t=si(this,e).delete(e);return this.size-=t?1:0,t},Vn.prototype.get=function(e){return si(this,e).get(e)},Vn.prototype.has=function(e){return si(this,e).has(e)},Vn.prototype.set=function(e,t){var n=si(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,o),this},qn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xn.prototype.get=function(e){return this.__data__.get(e)},Xn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Vn(r)}return n.set(e,t),this.size=n.size,this};var ur=Lo(yr),dr=Lo(br,!0);function fr(e,t){var n=!0;return ur(e,function(e,r,o){return n=!!t(e,r,o)}),n}function hr(e,t,r){for(var o=-1,i=e.length;++o<i;){var a=e[o],l=t(a);if(null!=l&&(s===n?l==l&&!cl(l):r(l,s)))var s=l,c=a}return c}function pr(e,t){var n=[];return ur(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function gr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=mi),o||(o=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?gr(l,t-1,n,r,o):Rt(o,l):r||(o[o.length]=l)}return o}var mr=Ro(),vr=Ro(!0);function yr(e,t){return e&&mr(e,t,Ll)}function br(e,t){return e&&vr(e,t,Ll)}function xr(e,t){return It(t,function(t){return Qa(e[t])})}function wr(e,t){for(var r=0,o=(t=yo(t,e)).length;null!=e&&r<o;)e=e[Bi(t[r++])];return r&&r==o?e:n}function Cr(e,t,n){var r=t(e);return Va(e)?r:Rt(r,n(e))}function Sr(e){return null==e?e===n?"[object Undefined]":"[object Null]":Je&&Je in Oe(e)?function(e){var t=_e.call(e,Je),r=e[Je];try{e[Je]=n;var o=!0}catch(rw){}var i=je.call(e);o&&(t?e[Je]=r:delete e[Je]);return i}(e):function(e){return je.call(e)}(e)}function Er(e,t){return e>t}function Or(e,t){return null!=e&&_e.call(e,t)}function kr(e,t){return null!=e&&t in Oe(e)}function Mr(e,t,r){for(var o=r?Tt:Nt,i=e[0].length,a=e.length,l=a,s=oe(a),c=1/0,u=[];l--;){var d=e[l];l&&t&&(d=Lt(d,Kt(t))),c=vn(d.length,c),s[l]=!r&&(t||i>=120&&d.length>=120)?new qn(l&&d):n}d=e[0];var f=-1,h=s[0];e:for(;++f<i&&u.length<c;){var p=d[f],g=t?t(p):p;if(p=r||0!==p?p:0,!(h?Qt(h,g):o(u,g,r))){for(l=a;--l;){var m=s[l];if(!(m?Qt(m,g):o(e[l],g,r)))continue e}h&&h.push(g),u.push(p)}}return u}function $r(e,t,r){var o=null==(e=ki(e,t=yo(t,e)))?e:e[Bi(Zi(t))];return null==o?n:Et(o,e,r)}function Ir(e){return nl(e)&&Sr(e)==p}function Nr(e,t,r,o,i){return e===t||(null==e||null==t||!nl(e)&&!nl(t)?e!=e&&t!=t:function(e,t,r,o,i,a){var l=Va(e),s=Va(t),c=l?g:hi(e),u=s?g:hi(t),d=(c=c==p?E:c)==E,f=(u=u==p?E:u)==E,h=c==u;if(h&&Ya(e)){if(!Ya(t))return!1;l=!0,d=!1}if(h&&!d)return a||(a=new Xn),l||ul(e)?ei(e,t,r,o,i,a):function(e,t,n,r,o,i,a){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!i(new We(e),new We(t)));case m:case v:case S:return Ha(+e,+t);case y:return e.name==t.name&&e.message==t.message;case k:case $:return e==t+"";case C:var l=an;case M:var s=1&r;if(l||(l=cn),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=ei(l(e),l(t),r,o,i,a);return a.delete(e),u;case I:if(Pn)return Pn.call(e)==Pn.call(t)}return!1}(e,t,c,r,o,i,a);if(!(1&r)){var b=d&&_e.call(e,"__wrapped__"),x=f&&_e.call(t,"__wrapped__");if(b||x){var w=b?e.value():e,O=x?t.value():t;return a||(a=new Xn),i(w,O,r,o,a)}}if(!h)return!1;return a||(a=new Xn),function(e,t,r,o,i,a){var l=1&r,s=ni(e),c=s.length,u=ni(t),d=u.length;if(c!=d&&!l)return!1;var f=c;for(;f--;){var h=s[f];if(!(l?h in t:_e.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);var v=l;for(;++f<c;){var y=e[h=s[f]],b=t[h];if(o)var x=l?o(b,y,h,t,e,a):o(y,b,h,e,t,a);if(!(x===n?y===b||i(y,b,r,o,a):x)){m=!1;break}v||(v="constructor"==h)}if(m&&!v){var w=e.constructor,C=t.constructor;w==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof C&&C instanceof C||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,r,o,i,a)}(e,t,r,o,Nr,i))}function Tr(e,t,r,o){var i=r.length,a=i,l=!o;if(null==e)return!a;for(e=Oe(e);i--;){var s=r[i];if(l&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=r[i])[0],u=e[c],d=s[1];if(l&&s[2]){if(u===n&&!(c in e))return!1}else{var f=new Xn;if(o)var h=o(u,d,c,e,t,f);if(!(h===n?Nr(d,u,3,o,f):h))return!1}}return!0}function Lr(e){return!(!tl(e)||(t=e,Pe&&Pe in t))&&(Qa(e)?ze:ge).test(Di(e));var t}function Rr(e){return"function"==typeof e?e:null==e?os:"object"==typeof e?Va(e)?Dr(e[0],e[1]):Br(e):hs(e)}function _r(e){if(!Ci(e))return gn(e);var t=[];for(var n in Oe(e))_e.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ar(e){if(!tl(e))return function(e){var t=[];if(null!=e)for(var n in Oe(e))t.push(n);return t}(e);var t=Ci(e),n=[];for(var r in e)("constructor"!=r||!t&&_e.call(e,r))&&n.push(r);return n}function Pr(e,t){return e<t}function jr(e,t){var n=-1,r=Xa(e)?oe(e.length):[];return ur(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Br(e){var t=ci(e);return 1==t.length&&t[0][2]?Ei(t[0][0],t[0][1]):function(n){return n===e||Tr(n,e,t)}}function Dr(e,t){return bi(e)&&Si(t)?Ei(Bi(e),t):function(r){var o=Ml(r,e);return o===n&&o===t?$l(r,e):Nr(t,o,3)}}function zr(e,t,r,o,i){e!==t&&mr(t,function(a,l){if(i||(i=new Xn),tl(a))!function(e,t,r,o,i,a,l){var s=Mi(e,r),c=Mi(t,r),u=l.get(c);if(u)return void Qn(e,r,u);var d=a?a(s,c,r+"",e,t,l):n,f=d===n;if(f){var h=Va(c),p=!h&&Ya(c),g=!h&&!p&&ul(c);d=c,h||p||g?Va(s)?d=s:Ua(s)?d=$o(s):p?(f=!1,d=Co(c,!0)):g?(f=!1,d=Eo(c,!0)):d=[]:il(c)||Ga(c)?(d=s,Ga(s)?d=yl(s):tl(s)&&!Qa(s)||(d=gi(c))):f=!1}f&&(l.set(c,d),i(d,c,o,a,l),l.delete(c));Qn(e,r,d)}(e,t,l,r,zr,o,i);else{var s=o?o(Mi(e,l),a,l+"",e,t,i):n;s===n&&(s=a),Qn(e,l,s)}},Rl)}function Hr(e,t){var r=e.length;if(r)return vi(t+=t<0?r:0,r)?e[t]:n}function Fr(e,t,n){t=t.length?Lt(t,function(e){return Va(e)?function(t){return wr(t,1===e.length?e[0]:e)}:e}):[os];var r=-1;return t=Lt(t,Kt(li())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(jr(e,function(e,n,o){return{criteria:Lt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,l=n.length;for(;++r<a;){var s=Oo(o[r],i[r]);if(s)return r>=l?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)})}function Wr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],l=wr(e,a);n(l,a)&&Zr(i,yo(a,e),l)}return i}function Gr(e,t,n,r){var o=r?Ht:zt,i=-1,a=t.length,l=e;for(e===t&&(t=$o(t)),n&&(l=Lt(e,Kt(n)));++i<a;)for(var s=0,c=t[i],u=n?n(c):c;(s=o(l,u,s,r))>-1;)l!==e&&Ue.call(l,s,1),Ue.call(e,s,1);return e}function Vr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;vi(o)?Ue.call(e,o,1):co(e,o)}}return e}function qr(e,t){return e+pt(xn()*(t-e+1))}function Xr(e,t){var n="";if(!e||t<1||t>u)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Ur(e,t){return Ni(Oi(e,t,os),e+"")}function Yr(e){return Yn(Hl(e))}function Kr(e,t){var n=Hl(e);return Ri(n,ir(t,0,n.length))}function Zr(e,t,r,o){if(!tl(e))return e;for(var i=-1,a=(t=yo(t,e)).length,l=a-1,s=e;null!=s&&++i<a;){var c=Bi(t[i]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=l){var d=s[c];(u=o?o(d,c,s):n)===n&&(u=tl(d)?d:vi(t[i+1])?[]:{})}Jn(s,c,u),s=s[c]}return e}var Qr=$n?function(e,t){return $n.set(e,t),e}:os,Jr=tt?function(e,t){return tt(e,"toString",{configurable:!0,enumerable:!1,value:ts(t),writable:!0})}:os;function eo(e){return Ri(Hl(e))}function to(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=oe(o);++r<o;)i[r]=e[r+t];return i}function no(e,t){var n;return ur(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function ro(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!cl(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return oo(e,t,os,n)}function oo(e,t,r,o){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var l=(t=r(t))!=t,s=null===t,c=cl(t),u=t===n;i<a;){var d=pt((i+a)/2),f=r(e[d]),h=f!==n,p=null===f,g=f==f,m=cl(f);if(l)var v=o||g;else v=u?g&&(o||h):s?g&&h&&(o||!p):c?g&&h&&!p&&(o||!m):!p&&!m&&(o?f<=t:f<t);v?i=d+1:a=d}return vn(a,4294967294)}function io(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],l=t?t(a):a;if(!n||!Ha(l,s)){var s=l;i[o++]=0===a?0:a}}return i}function ao(e){return"number"==typeof e?e:cl(e)?d:+e}function lo(e){if("string"==typeof e)return e;if(Va(e))return Lt(e,lo)+"";if(cl(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function so(e,t,n){var r=-1,o=Nt,i=e.length,a=!0,l=[],s=l;if(n)a=!1,o=Tt;else if(i>=200){var c=t?null:Uo(e);if(c)return cn(c);a=!1,o=Qt,s=new qn}else s=t?[]:l;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var f=s.length;f--;)if(s[f]===d)continue e;t&&s.push(d),l.push(u)}else o(s,d,n)||(s!==l&&s.push(d),l.push(u))}return l}function co(e,t){return null==(e=ki(e,t=yo(t,e)))||delete e[Bi(Zi(t))]}function uo(e,t,n,r){return Zr(e,t,n(wr(e,t)),r)}function fo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?to(e,r?0:i,r?i+1:o):to(e,r?i+1:0,r?o:i)}function ho(e,t){var n=e;return n instanceof Fn&&(n=n.value()),_t(t,function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))},n)}function po(e,t,n){var r=e.length;if(r<2)return r?so(e[0]):[];for(var o=-1,i=oe(r);++o<r;)for(var a=e[o],l=-1;++l<r;)l!=o&&(i[o]=cr(i[o]||a,e[l],t,n));return so(gr(i,1),t,n)}function go(e,t,r){for(var o=-1,i=e.length,a=t.length,l={};++o<i;){var s=o<a?t[o]:n;r(l,e[o],s)}return l}function mo(e){return Ua(e)?e:[]}function vo(e){return"function"==typeof e?e:os}function yo(e,t){return Va(e)?e:bi(e,t)?[e]:ji(bl(e))}var bo=Ur;function xo(e,t,r){var o=e.length;return r=r===n?o:r,!t&&r>=o?e:to(e,t,r)}var wo=lt||function(e){return ft.clearTimeout(e)};function Co(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function So(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Eo(e,t){var n=t?So(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Oo(e,t){if(e!==t){var r=e!==n,o=null===e,i=e==e,a=cl(e),l=t!==n,s=null===t,c=t==t,u=cl(t);if(!s&&!u&&!a&&e>t||a&&l&&c&&!s&&!u||o&&l&&c||!r&&c||!i)return 1;if(!o&&!a&&!u&&e<t||u&&r&&i&&!o&&!a||s&&r&&i||!l&&i||!c)return-1}return 0}function ko(e,t,n,r){for(var o=-1,i=e.length,a=n.length,l=-1,s=t.length,c=mn(i-a,0),u=oe(s+c),d=!r;++l<s;)u[l]=t[l];for(;++o<a;)(d||o<i)&&(u[n[o]]=e[o]);for(;c--;)u[l++]=e[o++];return u}function Mo(e,t,n,r){for(var o=-1,i=e.length,a=-1,l=n.length,s=-1,c=t.length,u=mn(i-l,0),d=oe(u+c),f=!r;++o<u;)d[o]=e[o];for(var h=o;++s<c;)d[h+s]=t[s];for(;++a<l;)(f||o<i)&&(d[h+n[a]]=e[o++]);return d}function $o(e,t){var n=-1,r=e.length;for(t||(t=oe(r));++n<r;)t[n]=e[n];return t}function Io(e,t,r,o){var i=!r;r||(r={});for(var a=-1,l=t.length;++a<l;){var s=t[a],c=o?o(r[s],e[s],s,r,e):n;c===n&&(c=e[s]),i?rr(r,s,c):Jn(r,s,c)}return r}function No(e,t){return function(n,r){var o=Va(n)?Ot:tr,i=t?t():{};return o(n,e,li(r,2),i)}}function To(e){return Ur(function(t,r){var o=-1,i=r.length,a=i>1?r[i-1]:n,l=i>2?r[2]:n;for(a=e.length>3&&"function"==typeof a?(i--,a):n,l&&yi(r[0],r[1],l)&&(a=i<3?n:a,i=1),t=Oe(t);++o<i;){var s=r[o];s&&e(t,s,o,a)}return t})}function Lo(e,t){return function(n,r){if(null==n)return n;if(!Xa(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Oe(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Ro(e){return function(t,n,r){for(var o=-1,i=Oe(t),a=r(t),l=a.length;l--;){var s=a[e?l:++o];if(!1===n(i[s],s,i))break}return t}}function _o(e){return function(t){var r=on(t=bl(t))?dn(t):n,o=r?r[0]:t.charAt(0),i=r?xo(r,1).join(""):t.slice(1);return o[e]()+i}}function Ao(e){return function(t){return _t(Ql(Gl(t).replace(Ze,"")),e,"")}}function Po(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Dn(e.prototype),r=e.apply(n,t);return tl(r)?r:n}}function jo(e){return function(t,r,o){var i=Oe(t);if(!Xa(t)){var a=li(r,3);t=Ll(t),r=function(e){return a(i[e],e,i)}}var l=e(t,r,o);return l>-1?i[a?t[l]:l]:n}}function Bo(e){return ti(function(t){var o=t.length,i=o,a=Hn.prototype.thru;for(e&&t.reverse();i--;){var l=t[i];if("function"!=typeof l)throw new $e(r);if(a&&!s&&"wrapper"==ii(l))var s=new Hn([],!0)}for(i=s?i:o;++i<o;){var c=ii(l=t[i]),u="wrapper"==c?oi(l):n;s=u&&xi(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[ii(u[0])].apply(s,u[3]):1==l.length&&xi(l)?s[c]():s.thru(l)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&Va(n))return s.plant(n).value();for(var r=0,i=o?t[r].apply(this,e):n;++r<o;)i=t[r].call(this,i);return i}})}function Do(e,t,r,o,i,a,s,c,u,d){var f=t&l,h=1&t,p=2&t,g=24&t,m=512&t,v=p?n:Po(e);return function l(){for(var y=arguments.length,b=oe(y),x=y;x--;)b[x]=arguments[x];if(g)var w=ai(l),C=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,w);if(o&&(b=ko(b,o,i,g)),a&&(b=Mo(b,a,s,g)),y-=C,g&&y<d){var S=sn(b,w);return qo(e,t,Do,l.placeholder,r,b,S,c,u,d-y)}var E=h?r:this,O=p?E[e]:e;return y=b.length,c?b=function(e,t){var r=e.length,o=vn(t.length,r),i=$o(e);for(;o--;){var a=t[o];e[o]=vi(a,r)?i[a]:n}return e}(b,c):m&&y>1&&b.reverse(),f&&u<y&&(b.length=u),this&&this!==ft&&this instanceof l&&(O=v||Po(O)),O.apply(E,b)}}function zo(e,t){return function(n,r){return function(e,t,n,r){return yr(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function Ho(e,t){return function(r,o){var i;if(r===n&&o===n)return t;if(r!==n&&(i=r),o!==n){if(i===n)return o;"string"==typeof r||"string"==typeof o?(r=lo(r),o=lo(o)):(r=ao(r),o=ao(o)),i=e(r,o)}return i}}function Fo(e){return ti(function(t){return t=Lt(t,Kt(li())),Ur(function(n){var r=this;return e(t,function(e){return Et(e,r,n)})})})}function Wo(e,t){var r=(t=t===n?" ":lo(t)).length;if(r<2)return r?Xr(t,e):t;var o=Xr(t,ht(e/un(t)));return on(t)?xo(dn(o),0,e).join(""):o.slice(0,e)}function Go(e){return function(t,r,o){return o&&"number"!=typeof o&&yi(t,r,o)&&(r=o=n),t=pl(t),r===n?(r=t,t=0):r=pl(r),function(e,t,n,r){for(var o=-1,i=mn(ht((t-e)/(n||1)),0),a=oe(i);i--;)a[r?i:++o]=e,e+=n;return a}(t,r,o=o===n?t<r?1:-1:pl(o),e)}}function Vo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vl(t),n=vl(n)),e(t,n)}}function qo(e,t,r,o,i,l,s,c,u,d){var f=8&t;t|=f?a:64,4&(t&=~(f?64:a))||(t&=-4);var h=[e,t,i,f?l:n,f?s:n,f?n:l,f?n:s,c,u,d],p=r.apply(n,h);return xi(e)&&$i(p,h),p.placeholder=o,Ti(p,e,t)}function Xo(e){var t=Ee[e];return function(e,n){if(e=vl(e),(n=null==n?0:vn(gl(n),292))&&jt(e)){var r=(bl(e)+"e").split("e");return+((r=(bl(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Uo=On&&1/cn(new On([,-0]))[1]==c?function(e){return new On(e)}:cs;function Yo(e){return function(t){var n=hi(t);return n==C?an(t):n==M?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(t):function(e,t){return Lt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Ko(e,t,o,c,u,d,f,h){var p=2&t;if(!p&&"function"!=typeof e)throw new $e(r);var g=c?c.length:0;if(g||(t&=-97,c=u=n),f=f===n?f:mn(gl(f),0),h=h===n?h:gl(h),g-=u?u.length:0,64&t){var m=c,v=u;c=u=n}var y=p?n:oi(e),b=[e,t,o,c,u,m,v,d,f,h];if(y&&function(e,t){var n=e[1],r=t[1],o=n|r,a=o<131,c=r==l&&8==n||r==l&&n==s&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!c)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var u=t[3];if(u){var d=e[3];e[3]=d?ko(d,u,t[4]):u,e[4]=d?sn(e[3],i):t[4]}(u=t[5])&&(d=e[5],e[5]=d?Mo(d,u,t[6]):u,e[6]=d?sn(e[5],i):t[6]);(u=t[7])&&(e[7]=u);r&l&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(b,y),e=b[0],t=b[1],o=b[2],c=b[3],u=b[4],!(h=b[9]=b[9]===n?p?0:e.length:mn(b[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||16==t?function(e,t,r){var o=Po(e);return function i(){for(var a=arguments.length,l=oe(a),s=a,c=ai(i);s--;)l[s]=arguments[s];var u=a<3&&l[0]!==c&&l[a-1]!==c?[]:sn(l,c);return(a-=u.length)<r?qo(e,t,Do,i.placeholder,n,l,u,n,n,r-a):Et(this&&this!==ft&&this instanceof i?o:e,this,l)}}(e,t,h):t!=a&&33!=t||u.length?Do.apply(n,b):function(e,t,n,r){var o=1&t,i=Po(e);return function t(){for(var a=-1,l=arguments.length,s=-1,c=r.length,u=oe(c+l),d=this&&this!==ft&&this instanceof t?i:e;++s<c;)u[s]=r[s];for(;l--;)u[s++]=arguments[++a];return Et(d,o?n:this,u)}}(e,t,o,c);else var x=function(e,t,n){var r=1&t,o=Po(e);return function t(){return(this&&this!==ft&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,o);return Ti((y?Qr:$i)(x,b),e,t)}function Zo(e,t,r,o){return e===n||Ha(e,Te[r])&&!_e.call(o,r)?t:e}function Qo(e,t,r,o,i,a){return tl(e)&&tl(t)&&(a.set(t,e),zr(e,t,n,Qo,a),a.delete(t)),e}function Jo(e){return il(e)?n:e}function ei(e,t,r,o,i,a){var l=1&r,s=e.length,c=t.length;if(s!=c&&!(l&&c>s))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=2&r?new qn:n;for(a.set(e,t),a.set(t,e);++f<s;){var g=e[f],m=t[f];if(o)var v=l?o(m,g,f,t,e,a):o(g,m,f,e,t,a);if(v!==n){if(v)continue;h=!1;break}if(p){if(!Pt(t,function(e,t){if(!Qt(p,t)&&(g===e||i(g,e,r,o,a)))return p.push(t)})){h=!1;break}}else if(g!==m&&!i(g,m,r,o,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function ti(e){return Ni(Oi(e,n,qi),e+"")}function ni(e){return Cr(e,Ll,di)}function ri(e){return Cr(e,Rl,fi)}var oi=$n?function(e){return $n.get(e)}:cs;function ii(e){for(var t=e.name+"",n=In[t],r=_e.call(In,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ai(e){return(_e.call(Bn,"placeholder")?Bn:e).placeholder}function li(){var e=Bn.iteratee||is;return e=e===is?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function si(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ci(e){for(var t=Ll(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Si(o)]}return t}function ui(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Lr(r)?r:n}var di=mt?function(e){return null==e?[]:(e=Oe(e),It(mt(e),function(t){return Xe.call(e,t)}))}:ms,fi=mt?function(e){for(var t=[];e;)Rt(t,di(e)),e=Ve(e);return t}:ms,hi=Sr;function pi(e,t,n){for(var r=-1,o=(t=yo(t,e)).length,i=!1;++r<o;){var a=Bi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&el(o)&&vi(a,o)&&(Va(e)||Ga(e))}function gi(e){return"function"!=typeof e.constructor||Ci(e)?{}:Dn(Ve(e))}function mi(e){return Va(e)||Ga(e)||!!(Ye&&e&&e[Ye])}function vi(e,t){var n=typeof e;return!!(t=null==t?u:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function yi(e,t,n){if(!tl(n))return!1;var r=typeof t;return!!("number"==r?Xa(n)&&vi(t,n.length):"string"==r&&t in n)&&Ha(n[t],e)}function bi(e,t){if(Va(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cl(e))||(J.test(e)||!Q.test(e)||null!=t&&e in Oe(t))}function xi(e){var t=ii(e),n=Bn[t];if("function"!=typeof n||!(t in Fn.prototype))return!1;if(e===n)return!0;var r=oi(n);return!!r&&e===r[0]}(Cn&&hi(new Cn(new ArrayBuffer(1)))!=L||Sn&&hi(new Sn)!=C||En&&hi(En.resolve())!=O||On&&hi(new On)!=M||kn&&hi(new kn)!=N)&&(hi=function(e){var t=Sr(e),r=t==E?e.constructor:n,o=r?Di(r):"";if(o)switch(o){case Nn:return L;case Tn:return C;case Ln:return O;case Rn:return M;case _n:return N}return t});var wi=Le?Qa:vs;function Ci(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Te)}function Si(e){return e==e&&!tl(e)}function Ei(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Oe(r)))}}function Oi(e,t,r){return t=mn(t===n?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=mn(n.length-t,0),a=oe(i);++o<i;)a[o]=n[t+o];o=-1;for(var l=oe(t+1);++o<t;)l[o]=n[o];return l[t]=r(a),Et(e,this,l)}}function ki(e,t){return t.length<2?e:wr(e,to(t,0,-1))}function Mi(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var $i=Li(Qr),Ii=dt||function(e,t){return ft.setTimeout(e,t)},Ni=Li(Jr);function Ti(e,t,n){var r=t+"";return Ni(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return kt(h,function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(le):[]}(r),n)))}function Li(e){var t=0,r=0;return function(){var o=yn(),i=16-(o-r);if(r=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Ri(e,t){var r=-1,o=e.length,i=o-1;for(t=t===n?o:t;++r<t;){var a=qr(r,i),l=e[a];e[a]=e[r],e[r]=l}return e.length=t,e}var _i,Ai,Pi,ji=(_i=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,function(e,n,r,o){t.push(r?o.replace(ue,"$1"):n||e)}),t},Ai=Aa(_i,function(e){return 500===Pi.size&&Pi.clear(),e}),Pi=Ai.cache,Ai);function Bi(e){if("string"==typeof e||cl(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Di(e){if(null!=e){try{return Re.call(e)}catch(rw){}try{return e+""}catch(rw){}}return""}function zi(e){if(e instanceof Fn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=$o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Hi=Ur(function(e,t){return Ua(e)?cr(e,gr(t,1,Ua,!0)):[]}),Fi=Ur(function(e,t){var r=Zi(t);return Ua(r)&&(r=n),Ua(e)?cr(e,gr(t,1,Ua,!0),li(r,2)):[]}),Wi=Ur(function(e,t){var r=Zi(t);return Ua(r)&&(r=n),Ua(e)?cr(e,gr(t,1,Ua,!0),n,r):[]});function Gi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gl(n);return o<0&&(o=mn(r+o,0)),Dt(e,li(t,3),o)}function Vi(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var i=o-1;return r!==n&&(i=gl(r),i=r<0?mn(o+i,0):vn(i,o-1)),Dt(e,li(t,3),i,!0)}function qi(e){return(null==e?0:e.length)?gr(e,1):[]}function Xi(e){return e&&e.length?e[0]:n}var Ui=Ur(function(e){var t=Lt(e,mo);return t.length&&t[0]===e[0]?Mr(t):[]}),Yi=Ur(function(e){var t=Zi(e),r=Lt(e,mo);return t===Zi(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Mr(r,li(t,2)):[]}),Ki=Ur(function(e){var t=Zi(e),r=Lt(e,mo);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Mr(r,n,t):[]});function Zi(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Qi=Ur(Ji);function Ji(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var ea=ti(function(e,t){var n=null==e?0:e.length,r=or(e,t);return Vr(e,Lt(t,function(e){return vi(e,n)?+e:e}).sort(Oo)),r});function ta(e){return null==e?e:wn.call(e)}var na=Ur(function(e){return so(gr(e,1,Ua,!0))}),ra=Ur(function(e){var t=Zi(e);return Ua(t)&&(t=n),so(gr(e,1,Ua,!0),li(t,2))}),oa=Ur(function(e){var t=Zi(e);return t="function"==typeof t?t:n,so(gr(e,1,Ua,!0),n,t)});function ia(e){if(!e||!e.length)return[];var t=0;return e=It(e,function(e){if(Ua(e))return t=mn(e.length,t),!0}),Ut(t,function(t){return Lt(e,Gt(t))})}function aa(e,t){if(!e||!e.length)return[];var r=ia(e);return null==t?r:Lt(r,function(e){return Et(t,n,e)})}var la=Ur(function(e,t){return Ua(e)?cr(e,t):[]}),sa=Ur(function(e){return po(It(e,Ua))}),ca=Ur(function(e){var t=Zi(e);return Ua(t)&&(t=n),po(It(e,Ua),li(t,2))}),ua=Ur(function(e){var t=Zi(e);return t="function"==typeof t?t:n,po(It(e,Ua),n,t)}),da=Ur(ia);var fa=Ur(function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,aa(e,r)});function ha(e){var t=Bn(e);return t.__chain__=!0,t}function pa(e,t){return t(e)}var ga=ti(function(e){var t=e.length,r=t?e[0]:0,o=this.__wrapped__,i=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&o instanceof Fn&&vi(r)?((o=o.slice(r,+r+(t?1:0))).__actions__.push({func:pa,args:[i],thisArg:n}),new Hn(o,this.__chain__).thru(function(e){return t&&!e.length&&e.push(n),e})):this.thru(i)});var ma=No(function(e,t,n){_e.call(e,n)?++e[n]:rr(e,n,1)});var va=jo(Gi),ya=jo(Vi);function ba(e,t){return(Va(e)?kt:ur)(e,li(t,3))}function xa(e,t){return(Va(e)?Mt:dr)(e,li(t,3))}var wa=No(function(e,t,n){_e.call(e,n)?e[n].push(t):rr(e,n,[t])});var Ca=Ur(function(e,t,n){var r=-1,o="function"==typeof t,i=Xa(e)?oe(e.length):[];return ur(e,function(e){i[++r]=o?Et(t,e,n):$r(e,t,n)}),i}),Sa=No(function(e,t,n){rr(e,n,t)});function Ea(e,t){return(Va(e)?Lt:jr)(e,li(t,3))}var Oa=No(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var ka=Ur(function(e,t){if(null==e)return[];var n=t.length;return n>1&&yi(e,t[0],t[1])?t=[]:n>2&&yi(t[0],t[1],t[2])&&(t=[t[0]]),Fr(e,gr(t,1),[])}),Ma=ut||function(){return ft.Date.now()};function $a(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Ko(e,l,n,n,n,n,t)}function Ia(e,t){var o;if("function"!=typeof t)throw new $e(r);return e=gl(e),function(){return--e>0&&(o=t.apply(this,arguments)),e<=1&&(t=n),o}}var Na=Ur(function(e,t,n){var r=1;if(n.length){var o=sn(n,ai(Na));r|=a}return Ko(e,r,t,n,o)}),Ta=Ur(function(e,t,n){var r=3;if(n.length){var o=sn(n,ai(Ta));r|=a}return Ko(t,r,e,n,o)});function La(e,t,o){var i,a,l,s,c,u,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new $e(r);function g(t){var r=i,o=a;return i=a=n,d=t,s=e.apply(o,r)}function m(e){var r=e-u;return u===n||r>=t||r<0||h&&e-d>=l}function v(){var e=Ma();if(m(e))return y(e);c=Ii(v,function(e){var n=t-(e-u);return h?vn(n,l-(e-d)):n}(e))}function y(e){return c=n,p&&i?g(e):(i=a=n,s)}function b(){var e=Ma(),r=m(e);if(i=arguments,a=this,u=e,r){if(c===n)return function(e){return d=e,c=Ii(v,t),f?g(e):s}(u);if(h)return wo(c),c=Ii(v,t),g(u)}return c===n&&(c=Ii(v,t)),s}return t=vl(t)||0,tl(o)&&(f=!!o.leading,l=(h="maxWait"in o)?mn(vl(o.maxWait)||0,t):l,p="trailing"in o?!!o.trailing:p),b.cancel=function(){c!==n&&wo(c),d=0,i=u=a=c=n},b.flush=function(){return c===n?s:y(Ma())},b}var Ra=Ur(function(e,t){return sr(e,1,t)}),_a=Ur(function(e,t,n){return sr(e,vl(t)||0,n)});function Aa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new $e(r);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Aa.Cache||Vn),n}function Pa(e){if("function"!=typeof e)throw new $e(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Aa.Cache=Vn;var ja=bo(function(e,t){var n=(t=1==t.length&&Va(t[0])?Lt(t[0],Kt(li())):Lt(gr(t,1),Kt(li()))).length;return Ur(function(r){for(var o=-1,i=vn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Et(e,this,r)})}),Ba=Ur(function(e,t){var r=sn(t,ai(Ba));return Ko(e,a,n,t,r)}),Da=Ur(function(e,t){var r=sn(t,ai(Da));return Ko(e,64,n,t,r)}),za=ti(function(e,t){return Ko(e,s,n,n,n,t)});function Ha(e,t){return e===t||e!=e&&t!=t}var Fa=Vo(Er),Wa=Vo(function(e,t){return e>=t}),Ga=Ir(function(){return arguments}())?Ir:function(e){return nl(e)&&_e.call(e,"callee")&&!Xe.call(e,"callee")},Va=oe.isArray,qa=yt?Kt(yt):function(e){return nl(e)&&Sr(e)==T};function Xa(e){return null!=e&&el(e.length)&&!Qa(e)}function Ua(e){return nl(e)&&Xa(e)}var Ya=vt||vs,Ka=bt?Kt(bt):function(e){return nl(e)&&Sr(e)==v};function Za(e){if(!nl(e))return!1;var t=Sr(e);return t==y||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!il(e)}function Qa(e){if(!tl(e))return!1;var t=Sr(e);return t==b||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ja(e){return"number"==typeof e&&e==gl(e)}function el(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function tl(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function nl(e){return null!=e&&"object"==typeof e}var rl=xt?Kt(xt):function(e){return nl(e)&&hi(e)==C};function ol(e){return"number"==typeof e||nl(e)&&Sr(e)==S}function il(e){if(!nl(e)||Sr(e)!=E)return!1;var t=Ve(e);if(null===t)return!0;var n=_e.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==Be}var al=wt?Kt(wt):function(e){return nl(e)&&Sr(e)==k};var ll=Ct?Kt(Ct):function(e){return nl(e)&&hi(e)==M};function sl(e){return"string"==typeof e||!Va(e)&&nl(e)&&Sr(e)==$}function cl(e){return"symbol"==typeof e||nl(e)&&Sr(e)==I}var ul=St?Kt(St):function(e){return nl(e)&&el(e.length)&&!!it[Sr(e)]};var dl=Vo(Pr),fl=Vo(function(e,t){return e<=t});function hl(e){if(!e)return[];if(Xa(e))return sl(e)?dn(e):$o(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=hi(e);return(t==C?an:t==M?cn:Hl)(e)}function pl(e){return e?(e=vl(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gl(e){var t=pl(e),n=t%1;return t==t?n?t-n:t:0}function ml(e){return e?ir(gl(e),0,f):0}function vl(e){if("number"==typeof e)return e;if(cl(e))return d;if(tl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=pe.test(e);return n||me.test(e)?ct(e.slice(2),n?2:8):he.test(e)?d:+e}function yl(e){return Io(e,Rl(e))}function bl(e){return null==e?"":lo(e)}var xl=To(function(e,t){if(Ci(t)||Xa(t))Io(t,Ll(t),e);else for(var n in t)_e.call(t,n)&&Jn(e,n,t[n])}),wl=To(function(e,t){Io(t,Rl(t),e)}),Cl=To(function(e,t,n,r){Io(t,Rl(t),e,r)}),Sl=To(function(e,t,n,r){Io(t,Ll(t),e,r)}),El=ti(or);var Ol=Ur(function(e,t){e=Oe(e);var r=-1,o=t.length,i=o>2?t[2]:n;for(i&&yi(t[0],t[1],i)&&(o=1);++r<o;)for(var a=t[r],l=Rl(a),s=-1,c=l.length;++s<c;){var u=l[s],d=e[u];(d===n||Ha(d,Te[u])&&!_e.call(e,u))&&(e[u]=a[u])}return e}),kl=Ur(function(e){return e.push(n,Qo),Et(Al,n,e)});function Ml(e,t,r){var o=null==e?n:wr(e,t);return o===n?r:o}function $l(e,t){return null!=e&&pi(e,t,kr)}var Il=zo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n},ts(os)),Nl=zo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),_e.call(e,t)?e[t].push(n):e[t]=[n]},li),Tl=Ur($r);function Ll(e){return Xa(e)?Un(e):_r(e)}function Rl(e){return Xa(e)?Un(e,!0):Ar(e)}var _l=To(function(e,t,n){zr(e,t,n)}),Al=To(function(e,t,n,r){zr(e,t,n,r)}),Pl=ti(function(e,t){var n={};if(null==e)return n;var r=!1;t=Lt(t,function(t){return t=yo(t,e),r||(r=t.length>1),t}),Io(e,ri(e),n),r&&(n=ar(n,7,Jo));for(var o=t.length;o--;)co(n,t[o]);return n});var jl=ti(function(e,t){return null==e?{}:function(e,t){return Wr(e,t,function(t,n){return $l(e,n)})}(e,t)});function Bl(e,t){if(null==e)return{};var n=Lt(ri(e),function(e){return[e]});return t=li(t),Wr(e,n,function(e,n){return t(e,n[0])})}var Dl=Yo(Ll),zl=Yo(Rl);function Hl(e){return null==e?[]:Zt(e,Ll(e))}var Fl=Ao(function(e,t,n){return t=t.toLowerCase(),e+(n?Wl(t):t)});function Wl(e){return Zl(bl(e).toLowerCase())}function Gl(e){return(e=bl(e))&&e.replace(ye,tn).replace(Qe,"")}var Vl=Ao(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ql=Ao(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Xl=_o("toLowerCase");var Ul=Ao(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Yl=Ao(function(e,t,n){return e+(n?" ":"")+Zl(t)});var Kl=Ao(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Zl=_o("toUpperCase");function Ql(e,t,r){return e=bl(e),(t=r?n:t)===n?function(e){return nt.test(e)}(e)?function(e){return e.match(et)||[]}(e):function(e){return e.match(se)||[]}(e):e.match(t)||[]}var Jl=Ur(function(e,t){try{return Et(e,n,t)}catch(rw){return Za(rw)?rw:new Ce(rw)}}),es=ti(function(e,t){return kt(t,function(t){t=Bi(t),rr(e,t,Na(e[t],e))}),e});function ts(e){return function(){return e}}var ns=Bo(),rs=Bo(!0);function os(e){return e}function is(e){return Rr("function"==typeof e?e:ar(e,1))}var as=Ur(function(e,t){return function(n){return $r(n,e,t)}}),ls=Ur(function(e,t){return function(n){return $r(e,n,t)}});function ss(e,t,n){var r=Ll(t),o=xr(t,r);null!=n||tl(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=xr(t,Ll(t)));var i=!(tl(n)&&"chain"in n&&!n.chain),a=Qa(e);return kt(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=$o(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Rt([this.value()],arguments))})}),e}function cs(){}var us=Fo(Lt),ds=Fo($t),fs=Fo(Pt);function hs(e){return bi(e)?Gt(Bi(e)):function(e){return function(t){return wr(t,e)}}(e)}var ps=Go(),gs=Go(!0);function ms(){return[]}function vs(){return!1}var ys=Ho(function(e,t){return e+t},0),bs=Xo("ceil"),xs=Ho(function(e,t){return e/t},1),ws=Xo("floor");var Cs,Ss=Ho(function(e,t){return e*t},1),Es=Xo("round"),Os=Ho(function(e,t){return e-t},0);return Bn.after=function(e,t){if("function"!=typeof t)throw new $e(r);return e=gl(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=$a,Bn.assign=xl,Bn.assignIn=wl,Bn.assignInWith=Cl,Bn.assignWith=Sl,Bn.at=El,Bn.before=Ia,Bn.bind=Na,Bn.bindAll=es,Bn.bindKey=Ta,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},Bn.chain=ha,Bn.chunk=function(e,t,r){t=(r?yi(e,t,r):t===n)?1:mn(gl(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,a=0,l=oe(ht(o/t));i<o;)l[a++]=to(e,i,i+=t);return l},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=oe(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Rt(Va(n)?$o(n):[n],gr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?Lt(e,function(e){if("function"!=typeof e[1])throw new $e(r);return[n(e[0]),e[1]]}):[],Ur(function(n){for(var r=-1;++r<t;){var o=e[r];if(Et(o[0],this,n))return Et(o[1],this,n)}})},Bn.conforms=function(e){return function(e){var t=Ll(e);return function(n){return lr(n,e,t)}}(ar(e,1))},Bn.constant=ts,Bn.countBy=ma,Bn.create=function(e,t){var n=Dn(e);return null==t?n:nr(n,t)},Bn.curry=function e(t,r,o){var i=Ko(t,8,n,n,n,n,n,r=o?n:r);return i.placeholder=e.placeholder,i},Bn.curryRight=function e(t,r,o){var i=Ko(t,16,n,n,n,n,n,r=o?n:r);return i.placeholder=e.placeholder,i},Bn.debounce=La,Bn.defaults=Ol,Bn.defaultsDeep=kl,Bn.defer=Ra,Bn.delay=_a,Bn.difference=Hi,Bn.differenceBy=Fi,Bn.differenceWith=Wi,Bn.drop=function(e,t,r){var o=null==e?0:e.length;return o?to(e,(t=r||t===n?1:gl(t))<0?0:t,o):[]},Bn.dropRight=function(e,t,r){var o=null==e?0:e.length;return o?to(e,0,(t=o-(t=r||t===n?1:gl(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?fo(e,li(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?fo(e,li(t,3),!0):[]},Bn.fill=function(e,t,r,o){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&yi(e,t,r)&&(r=0,o=i),function(e,t,r,o){var i=e.length;for((r=gl(r))<0&&(r=-r>i?0:i+r),(o=o===n||o>i?i:gl(o))<0&&(o+=i),o=r>o?0:ml(o);r<o;)e[r++]=t;return e}(e,t,r,o)):[]},Bn.filter=function(e,t){return(Va(e)?It:pr)(e,li(t,3))},Bn.flatMap=function(e,t){return gr(Ea(e,t),1)},Bn.flatMapDeep=function(e,t){return gr(Ea(e,t),c)},Bn.flatMapDepth=function(e,t,r){return r=r===n?1:gl(r),gr(Ea(e,t),r)},Bn.flatten=qi,Bn.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,c):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===n?1:gl(t)):[]},Bn.flip=function(e){return Ko(e,512)},Bn.flow=ns,Bn.flowRight=rs,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Bn.functions=function(e){return null==e?[]:xr(e,Ll(e))},Bn.functionsIn=function(e){return null==e?[]:xr(e,Rl(e))},Bn.groupBy=wa,Bn.initial=function(e){return(null==e?0:e.length)?to(e,0,-1):[]},Bn.intersection=Ui,Bn.intersectionBy=Yi,Bn.intersectionWith=Ki,Bn.invert=Il,Bn.invertBy=Nl,Bn.invokeMap=Ca,Bn.iteratee=is,Bn.keyBy=Sa,Bn.keys=Ll,Bn.keysIn=Rl,Bn.map=Ea,Bn.mapKeys=function(e,t){var n={};return t=li(t,3),yr(e,function(e,r,o){rr(n,t(e,r,o),e)}),n},Bn.mapValues=function(e,t){var n={};return t=li(t,3),yr(e,function(e,r,o){rr(n,r,t(e,r,o))}),n},Bn.matches=function(e){return Br(ar(e,1))},Bn.matchesProperty=function(e,t){return Dr(e,ar(t,1))},Bn.memoize=Aa,Bn.merge=_l,Bn.mergeWith=Al,Bn.method=as,Bn.methodOf=ls,Bn.mixin=ss,Bn.negate=Pa,Bn.nthArg=function(e){return e=gl(e),Ur(function(t){return Hr(t,e)})},Bn.omit=Pl,Bn.omitBy=function(e,t){return Bl(e,Pa(li(t)))},Bn.once=function(e){return Ia(2,e)},Bn.orderBy=function(e,t,r,o){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(r=o?n:r)||(r=null==r?[]:[r]),Fr(e,t,r))},Bn.over=us,Bn.overArgs=ja,Bn.overEvery=ds,Bn.overSome=fs,Bn.partial=Ba,Bn.partialRight=Da,Bn.partition=Oa,Bn.pick=jl,Bn.pickBy=Bl,Bn.property=hs,Bn.propertyOf=function(e){return function(t){return null==e?n:wr(e,t)}},Bn.pull=Qi,Bn.pullAll=Ji,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,li(n,2)):e},Bn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Gr(e,t,n,r):e},Bn.pullAt=ea,Bn.range=ps,Bn.rangeRight=gs,Bn.rearg=za,Bn.reject=function(e,t){return(Va(e)?It:pr)(e,Pa(li(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Vr(e,o),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new $e(r);return Ur(e,t=t===n?t:gl(t))},Bn.reverse=ta,Bn.sampleSize=function(e,t,r){return t=(r?yi(e,t,r):t===n)?1:gl(t),(Va(e)?Kn:Kr)(e,t)},Bn.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Bn.setWith=function(e,t,r,o){return o="function"==typeof o?o:n,null==e?e:Zr(e,t,r,o)},Bn.shuffle=function(e){return(Va(e)?Zn:eo)(e)},Bn.slice=function(e,t,r){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&yi(e,t,r)?(t=0,r=o):(t=null==t?0:gl(t),r=r===n?o:gl(r)),to(e,t,r)):[]},Bn.sortBy=ka,Bn.sortedUniq=function(e){return e&&e.length?io(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?io(e,li(t,2)):[]},Bn.split=function(e,t,r){return r&&"number"!=typeof r&&yi(e,t,r)&&(t=r=n),(r=r===n?f:r>>>0)?(e=bl(e))&&("string"==typeof t||null!=t&&!al(t))&&!(t=lo(t))&&on(e)?xo(dn(e),0,r):e.split(t,r):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new $e(r);return t=null==t?0:mn(gl(t),0),Ur(function(n){var r=n[t],o=xo(n,0,t);return r&&Rt(o,r),Et(e,this,o)})},Bn.tail=function(e){var t=null==e?0:e.length;return t?to(e,1,t):[]},Bn.take=function(e,t,r){return e&&e.length?to(e,0,(t=r||t===n?1:gl(t))<0?0:t):[]},Bn.takeRight=function(e,t,r){var o=null==e?0:e.length;return o?to(e,(t=o-(t=r||t===n?1:gl(t)))<0?0:t,o):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?fo(e,li(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?fo(e,li(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new $e(r);return tl(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),La(e,t,{leading:o,maxWait:t,trailing:i})},Bn.thru=pa,Bn.toArray=hl,Bn.toPairs=Dl,Bn.toPairsIn=zl,Bn.toPath=function(e){return Va(e)?Lt(e,Bi):cl(e)?[e]:$o(ji(bl(e)))},Bn.toPlainObject=yl,Bn.transform=function(e,t,n){var r=Va(e),o=r||Ya(e)||ul(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:tl(e)&&Qa(i)?Dn(Ve(e)):{}}return(o?kt:yr)(e,function(e,r,o){return t(n,e,r,o)}),n},Bn.unary=function(e){return $a(e,1)},Bn.union=na,Bn.unionBy=ra,Bn.unionWith=oa,Bn.uniq=function(e){return e&&e.length?so(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?so(e,li(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?so(e,n,t):[]},Bn.unset=function(e,t){return null==e||co(e,t)},Bn.unzip=ia,Bn.unzipWith=aa,Bn.update=function(e,t,n){return null==e?e:uo(e,t,vo(n))},Bn.updateWith=function(e,t,r,o){return o="function"==typeof o?o:n,null==e?e:uo(e,t,vo(r),o)},Bn.values=Hl,Bn.valuesIn=function(e){return null==e?[]:Zt(e,Rl(e))},Bn.without=la,Bn.words=Ql,Bn.wrap=function(e,t){return Ba(vo(t),e)},Bn.xor=sa,Bn.xorBy=ca,Bn.xorWith=ua,Bn.zip=da,Bn.zipObject=function(e,t){return go(e||[],t||[],Jn)},Bn.zipObjectDeep=function(e,t){return go(e||[],t||[],Zr)},Bn.zipWith=fa,Bn.entries=Dl,Bn.entriesIn=zl,Bn.extend=wl,Bn.extendWith=Cl,ss(Bn,Bn),Bn.add=ys,Bn.attempt=Jl,Bn.camelCase=Fl,Bn.capitalize=Wl,Bn.ceil=bs,Bn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=vl(r))==r?r:0),t!==n&&(t=(t=vl(t))==t?t:0),ir(vl(e),t,r)},Bn.clone=function(e){return ar(e,4)},Bn.cloneDeep=function(e){return ar(e,5)},Bn.cloneDeepWith=function(e,t){return ar(e,5,t="function"==typeof t?t:n)},Bn.cloneWith=function(e,t){return ar(e,4,t="function"==typeof t?t:n)},Bn.conformsTo=function(e,t){return null==t||lr(e,t,Ll(t))},Bn.deburr=Gl,Bn.defaultTo=function(e,t){return null==e||e!=e?t:e},Bn.divide=xs,Bn.endsWith=function(e,t,r){e=bl(e),t=lo(t);var o=e.length,i=r=r===n?o:ir(gl(r),0,o);return(r-=t.length)>=0&&e.slice(r,i)==t},Bn.eq=Ha,Bn.escape=function(e){return(e=bl(e))&&U.test(e)?e.replace(q,nn):e},Bn.escapeRegExp=function(e){return(e=bl(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Bn.every=function(e,t,r){var o=Va(e)?$t:fr;return r&&yi(e,t,r)&&(t=n),o(e,li(t,3))},Bn.find=va,Bn.findIndex=Gi,Bn.findKey=function(e,t){return Bt(e,li(t,3),yr)},Bn.findLast=ya,Bn.findLastIndex=Vi,Bn.findLastKey=function(e,t){return Bt(e,li(t,3),br)},Bn.floor=ws,Bn.forEach=ba,Bn.forEachRight=xa,Bn.forIn=function(e,t){return null==e?e:mr(e,li(t,3),Rl)},Bn.forInRight=function(e,t){return null==e?e:vr(e,li(t,3),Rl)},Bn.forOwn=function(e,t){return e&&yr(e,li(t,3))},Bn.forOwnRight=function(e,t){return e&&br(e,li(t,3))},Bn.get=Ml,Bn.gt=Fa,Bn.gte=Wa,Bn.has=function(e,t){return null!=e&&pi(e,t,Or)},Bn.hasIn=$l,Bn.head=Xi,Bn.identity=os,Bn.includes=function(e,t,n,r){e=Xa(e)?e:Hl(e),n=n&&!r?gl(n):0;var o=e.length;return n<0&&(n=mn(o+n,0)),sl(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&zt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gl(n);return o<0&&(o=mn(r+o,0)),zt(e,t,o)},Bn.inRange=function(e,t,r){return t=pl(t),r===n?(r=t,t=0):r=pl(r),function(e,t,n){return e>=vn(t,n)&&e<mn(t,n)}(e=vl(e),t,r)},Bn.invoke=Tl,Bn.isArguments=Ga,Bn.isArray=Va,Bn.isArrayBuffer=qa,Bn.isArrayLike=Xa,Bn.isArrayLikeObject=Ua,Bn.isBoolean=function(e){return!0===e||!1===e||nl(e)&&Sr(e)==m},Bn.isBuffer=Ya,Bn.isDate=Ka,Bn.isElement=function(e){return nl(e)&&1===e.nodeType&&!il(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Xa(e)&&(Va(e)||"string"==typeof e||"function"==typeof e.splice||Ya(e)||ul(e)||Ga(e)))return!e.length;var t=hi(e);if(t==C||t==M)return!e.size;if(Ci(e))return!_r(e).length;for(var n in e)if(_e.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Nr(e,t)},Bn.isEqualWith=function(e,t,r){var o=(r="function"==typeof r?r:n)?r(e,t):n;return o===n?Nr(e,t,n,r):!!o},Bn.isError=Za,Bn.isFinite=function(e){return"number"==typeof e&&jt(e)},Bn.isFunction=Qa,Bn.isInteger=Ja,Bn.isLength=el,Bn.isMap=rl,Bn.isMatch=function(e,t){return e===t||Tr(e,t,ci(t))},Bn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Tr(e,t,ci(t),r)},Bn.isNaN=function(e){return ol(e)&&e!=+e},Bn.isNative=function(e){if(wi(e))throw new Ce("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=ol,Bn.isObject=tl,Bn.isObjectLike=nl,Bn.isPlainObject=il,Bn.isRegExp=al,Bn.isSafeInteger=function(e){return Ja(e)&&e>=-9007199254740991&&e<=u},Bn.isSet=ll,Bn.isString=sl,Bn.isSymbol=cl,Bn.isTypedArray=ul,Bn.isUndefined=function(e){return e===n},Bn.isWeakMap=function(e){return nl(e)&&hi(e)==N},Bn.isWeakSet=function(e){return nl(e)&&"[object WeakSet]"==Sr(e)},Bn.join=function(e,t){return null==e?"":Vt.call(e,t)},Bn.kebabCase=Vl,Bn.last=Zi,Bn.lastIndexOf=function(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var i=o;return r!==n&&(i=(i=gl(r))<0?mn(o+i,0):vn(i,o-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Dt(e,Ft,i,!0)},Bn.lowerCase=ql,Bn.lowerFirst=Xl,Bn.lt=dl,Bn.lte=fl,Bn.max=function(e){return e&&e.length?hr(e,os,Er):n},Bn.maxBy=function(e,t){return e&&e.length?hr(e,li(t,2),Er):n},Bn.mean=function(e){return Wt(e,os)},Bn.meanBy=function(e,t){return Wt(e,li(t,2))},Bn.min=function(e){return e&&e.length?hr(e,os,Pr):n},Bn.minBy=function(e,t){return e&&e.length?hr(e,li(t,2),Pr):n},Bn.stubArray=ms,Bn.stubFalse=vs,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=Ss,Bn.nth=function(e,t){return e&&e.length?Hr(e,gl(t)):n},Bn.noConflict=function(){return ft._===this&&(ft._=De),this},Bn.noop=cs,Bn.now=Ma,Bn.pad=function(e,t,n){e=bl(e);var r=(t=gl(t))?un(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Wo(pt(o),n)+e+Wo(ht(o),n)},Bn.padEnd=function(e,t,n){e=bl(e);var r=(t=gl(t))?un(e):0;return t&&r<t?e+Wo(t-r,n):e},Bn.padStart=function(e,t,n){e=bl(e);var r=(t=gl(t))?un(e):0;return t&&r<t?Wo(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bn(bl(e).replace(re,""),t||0)},Bn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&yi(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=pl(e),t===n?(t=e,e=0):t=pl(t)),e>t){var o=e;e=t,t=o}if(r||e%1||t%1){var i=xn();return vn(e+i*(t-e+st("1e-"+((i+"").length-1))),t)}return qr(e,t)},Bn.reduce=function(e,t,n){var r=Va(e)?_t:qt,o=arguments.length<3;return r(e,li(t,4),n,o,ur)},Bn.reduceRight=function(e,t,n){var r=Va(e)?At:qt,o=arguments.length<3;return r(e,li(t,4),n,o,dr)},Bn.repeat=function(e,t,r){return t=(r?yi(e,t,r):t===n)?1:gl(t),Xr(bl(e),t)},Bn.replace=function(){var e=arguments,t=bl(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,r){var o=-1,i=(t=yo(t,e)).length;for(i||(i=1,e=n);++o<i;){var a=null==e?n:e[Bi(t[o])];a===n&&(o=i,a=r),e=Qa(a)?a.call(e):a}return e},Bn.round=Es,Bn.runInContext=e,Bn.sample=function(e){return(Va(e)?Yn:Yr)(e)},Bn.size=function(e){if(null==e)return 0;if(Xa(e))return sl(e)?un(e):e.length;var t=hi(e);return t==C||t==M?e.size:_r(e).length},Bn.snakeCase=Ul,Bn.some=function(e,t,r){var o=Va(e)?Pt:no;return r&&yi(e,t,r)&&(t=n),o(e,li(t,3))},Bn.sortedIndex=function(e,t){return ro(e,t)},Bn.sortedIndexBy=function(e,t,n){return oo(e,t,li(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ro(e,t);if(r<n&&Ha(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return ro(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return oo(e,t,li(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ro(e,t,!0)-1;if(Ha(e[n],t))return n}return-1},Bn.startCase=Yl,Bn.startsWith=function(e,t,n){return e=bl(e),n=null==n?0:ir(gl(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},Bn.subtract=Os,Bn.sum=function(e){return e&&e.length?Xt(e,os):0},Bn.sumBy=function(e,t){return e&&e.length?Xt(e,li(t,2)):0},Bn.template=function(e,t,r){var o=Bn.templateSettings;r&&yi(e,t,r)&&(t=n),e=bl(e),t=Cl({},t,o,Zo);var i,a,l=Cl({},t.imports,o.imports,Zo),s=Ll(l),c=Zt(l,s),u=0,d=t.interpolate||be,f="__p += '",h=ke((t.escape||be).source+"|"+d.source+"|"+(d===Z?de:be).source+"|"+(t.evaluate||be).source+"|$","g"),p="//# sourceURL="+(_e.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(h,function(t,n,r,o,l,s){return r||(r=o),f+=e.slice(u,s).replace(xe,rn),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),l&&(a=!0,f+="';\n"+l+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=s+t.length,t}),f+="';\n";var g=_e.call(t,"variable")&&t.variable;if(g){if(ce.test(g))throw new Ce("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(F,""):f).replace(W,"$1").replace(G,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Jl(function(){return Se(s,p+"return "+f).apply(n,c)});if(m.source=f,Za(m))throw m;return m},Bn.times=function(e,t){if((e=gl(e))<1||e>u)return[];var n=f,r=vn(e,f);t=li(t),e-=f;for(var o=Ut(r,t);++n<e;)t(n);return o},Bn.toFinite=pl,Bn.toInteger=gl,Bn.toLength=ml,Bn.toLower=function(e){return bl(e).toLowerCase()},Bn.toNumber=vl,Bn.toSafeInteger=function(e){return e?ir(gl(e),-9007199254740991,u):0===e?e:0},Bn.toString=bl,Bn.toUpper=function(e){return bl(e).toUpperCase()},Bn.trim=function(e,t,r){if((e=bl(e))&&(r||t===n))return Yt(e);if(!e||!(t=lo(t)))return e;var o=dn(e),i=dn(t);return xo(o,Jt(o,i),en(o,i)+1).join("")},Bn.trimEnd=function(e,t,r){if((e=bl(e))&&(r||t===n))return e.slice(0,fn(e)+1);if(!e||!(t=lo(t)))return e;var o=dn(e);return xo(o,0,en(o,dn(t))+1).join("")},Bn.trimStart=function(e,t,r){if((e=bl(e))&&(r||t===n))return e.replace(re,"");if(!e||!(t=lo(t)))return e;var o=dn(e);return xo(o,Jt(o,dn(t))).join("")},Bn.truncate=function(e,t){var r=30,o="...";if(tl(t)){var i="separator"in t?t.separator:i;r="length"in t?gl(t.length):r,o="omission"in t?lo(t.omission):o}var a=(e=bl(e)).length;if(on(e)){var l=dn(e);a=l.length}if(r>=a)return e;var s=r-un(o);if(s<1)return o;var c=l?xo(l,0,s).join(""):e.slice(0,s);if(i===n)return c+o;if(l&&(s+=c.length-s),al(i)){if(e.slice(s).search(i)){var u,d=c;for(i.global||(i=ke(i.source,bl(fe.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var f=u.index;c=c.slice(0,f===n?s:f)}}else if(e.indexOf(lo(i),s)!=s){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+o},Bn.unescape=function(e){return(e=bl(e))&&X.test(e)?e.replace(V,hn):e},Bn.uniqueId=function(e){var t=++Ae;return bl(e)+t},Bn.upperCase=Kl,Bn.upperFirst=Zl,Bn.each=ba,Bn.eachRight=xa,Bn.first=Xi,ss(Bn,(Cs={},yr(Bn,function(e,t){_e.call(Bn.prototype,t)||(Cs[t]=e)}),Cs),{chain:!1}),Bn.VERSION="4.17.21",kt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Bn[e].placeholder=Bn}),kt(["drop","take"],function(e,t){Fn.prototype[e]=function(r){r=r===n?1:mn(gl(r),0);var o=this.__filtered__&&!t?new Fn(this):this.clone();return o.__filtered__?o.__takeCount__=vn(r,o.__takeCount__):o.__views__.push({size:vn(r,f),type:e+(o.__dir__<0?"Right":"")}),o},Fn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),kt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Fn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),kt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Fn.prototype[e]=function(){return this[n](1).value()[0]}}),kt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Fn.prototype[e]=function(){return this.__filtered__?new Fn(this):this[n](1)}}),Fn.prototype.compact=function(){return this.filter(os)},Fn.prototype.find=function(e){return this.filter(e).head()},Fn.prototype.findLast=function(e){return this.reverse().find(e)},Fn.prototype.invokeMap=Ur(function(e,t){return"function"==typeof e?new Fn(this):this.map(function(n){return $r(n,e,t)})}),Fn.prototype.reject=function(e){return this.filter(Pa(li(e)))},Fn.prototype.slice=function(e,t){e=gl(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Fn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=gl(t))<0?r.dropRight(-t):r.take(t-e)),r)},Fn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Fn.prototype.toArray=function(){return this.take(f)},yr(Fn.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),i=Bn[o?"take"+("last"==t?"Right":""):t],a=o||/^find/.test(t);i&&(Bn.prototype[t]=function(){var t=this.__wrapped__,l=o?[1]:arguments,s=t instanceof Fn,c=l[0],u=s||Va(t),d=function(e){var t=i.apply(Bn,Rt([e],l));return o&&f?t[0]:t};u&&r&&"function"==typeof c&&1!=c.length&&(s=u=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,g=s&&!h;if(!a&&u){t=g?t:new Fn(this);var m=e.apply(t,l);return m.__actions__.push({func:pa,args:[d],thisArg:n}),new Hn(m,f)}return p&&g?e.apply(this,l):(m=this.thru(d),p?o?m.value()[0]:m.value():m)})}),kt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Va(o)?o:[],e)}return this[n](function(n){return t.apply(Va(n)?n:[],e)})}}),yr(Fn.prototype,function(e,t){var n=Bn[t];if(n){var r=n.name+"";_e.call(In,r)||(In[r]=[]),In[r].push({name:t,func:n})}}),In[Do(n,2).name]=[{name:"wrapper",func:n}],Fn.prototype.clone=function(){var e=new Fn(this.__wrapped__);return e.__actions__=$o(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=$o(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=$o(this.__views__),e},Fn.prototype.reverse=function(){if(this.__filtered__){var e=new Fn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Fn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=vn(t,e+a);break;case"takeRight":e=mn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,l=i.end,s=l-a,c=r?l:a-1,u=this.__iteratees__,d=u.length,f=0,h=vn(s,this.__takeCount__);if(!n||!r&&o==s&&h==s)return ho(e,this.__actions__);var p=[];e:for(;s--&&f<h;){for(var g=-1,m=e[c+=t];++g<d;){var v=u[g],y=v.iteratee,b=v.type,x=y(m);if(2==b)m=x;else if(!x){if(1==b)continue e;break e}}p[f++]=m}return p},Bn.prototype.at=ga,Bn.prototype.chain=function(){return ha(this)},Bn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===n&&(this.__values__=hl(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,r=this;r instanceof zn;){var o=zi(r);o.__index__=0,o.__values__=n,t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Fn){var t=e;return this.__actions__.length&&(t=new Fn(this)),(t=t.reverse()).__actions__.push({func:pa,args:[ta],thisArg:n}),new Hn(t,this.__chain__)}return this.thru(ta)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return ho(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Ke&&(Bn.prototype[Ke]=function(){return this}),Bn}();pt?((pt.exports=pn)._=pn,ht._=pn):ft._=pn}).call(x)}(mY,mY.exports);var vY=mY.exports;let yY={zh_CN:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},en_US:{"":"Total","":"Total","":"(SUM)","":"items","":"selected","":"Index","":"Measure","":"Measure","":"Total","":"","":"Hide","":"Group ASC","":"Group DESC","":"ASC","":"DESC","":"No order","":"No Data","":", "},ru_RU:{"":" ","":" ","":"()","":"(-/-)","":"","":"","":"","":" ","":" ","":"","":"","":"","":"  ","":"  ","":" ","":" ","":" ","":", "}};const bY=(e,t=e)=>vY.get(yY,["zh_CN",e],t),xY="mergedCellsGroup",wY="rowIndexResizeAreaGroup",CY="rowResizeAreaGroup",SY="colResizeAreaGroup",EY="cornerResizeAreaGroup",OY="frozenSplitLine",kY="horizontal-resize-area-",MY="-";var $Y,IY;(IY=$Y||($Y={})).Line="line",IY.Bar="bar",IY.Bullet="bullet";const NY="antv-s2",TY="valueRanges",LY={},RY="#000000",_Y="#FFFFFF";var AY,PY;(PY=AY||(AY={}))[PY.ALL=0]="ALL",PY[PY.COL=1]="COL",PY[PY.ROW=2]="ROW";const jY={data:[],fields:{rows:[],columns:[],values:[],valueInCols:!0},meta:[],sortParams:[],filterParams:[]};var BY,DY,zY,HY;(DY=BY||(BY={})).ROW_CELL_HOVER="row-cell:hover",DY.ROW_CELL_CLICK="row-cell:click",DY.ROW_CELL_DOUBLE_CLICK="row-cell:double-click",DY.ROW_CELL_CONTEXT_MENU="row-cell:context-menu",DY.ROW_CELL_MOUSE_DOWN="row-cell:mouse-down",DY.ROW_CELL_MOUSE_UP="row-cell:mouse-up",DY.ROW_CELL_MOUSE_MOVE="row-cell:mouse-move",DY.ROW_CELL_SCROLL="row-cell:scroll",DY.ROW_CELL_BRUSH_SELECTION="row-cell:brush-selection",DY.ROW_CELL_COLLAPSED="row-cell:collapsed",DY.ROW_CELL_ALL_COLLAPSED="row-cell:all-collapsed",DY.ROW_CELL_RENDER="row-cell:render",DY.ROW_CELL_SELECTED="row-cell:selected",DY.ROW_CELL_COLLAPSED__PRIVATE="row-cell:collapsed__private",DY.ROW_CELL_ALL_COLLAPSED__PRIVATE="row-cell:all-collapsed__private",DY.DATA_CELL_HOVER_TRIGGERED_PRIVATE="data-cell:hover-trigger__private",DY.DATA_CELL_CLICK_TRIGGERED_PRIVATE="data-cell:click-trigger__private",DY.COL_CELL_HOVER="col-cell:hover",DY.COL_CELL_CLICK="col-cell:click",DY.COL_CELL_DOUBLE_CLICK="col-cell:double-click",DY.COL_CELL_CONTEXT_MENU="col-cell:context-menu",DY.COL_CELL_MOUSE_DOWN="col-cell:mouse-down",DY.COL_CELL_MOUSE_UP="col-cell:mouse-up",DY.COL_CELL_MOUSE_MOVE="col-cell:mouse-move",DY.COL_CELL_BRUSH_SELECTION="col-cell:brush-selection",DY.COL_CELL_EXPANDED="col-cell:expanded",DY.COL_CELL_EXPAND_ICON_HOVER="col-cell:expand-icon-hover",DY.COL_CELL_HIDDEN="col-cell:hidden",DY.COL_CELL_RENDER="col-cell:render",DY.COL_CELL_SELECTED="col-cell:selected",DY.DATA_CELL_HOVER="data-cell:hover",DY.DATA_CELL_CLICK="data-cell:click",DY.DATA_CELL_DOUBLE_CLICK="data-cell:double-click",DY.DATA_CELL_CONTEXT_MENU="data-cell:context-menu",DY.DATA_CELL_MOUSE_UP="data-cell:mouse-up",DY.DATA_CELL_MOUSE_DOWN="data-cell:mouse-down",DY.DATA_CELL_MOUSE_MOVE="data-cell:mouse-move",DY.DATA_CELL_BRUSH_SELECTION="data-cell:brush-selection",DY.DATA_CELL_SELECT_MOVE="data-cell:select-move",DY.DATA_CELL_RENDER="data-cell:render",DY.DATA_CELL_SELECTED="data-cell:selected",DY.CORNER_CELL_HOVER="corner-cell:hover",DY.CORNER_CELL_CLICK="corner-cell:click",DY.CORNER_CELL_DOUBLE_CLICK="corner-cell:double-click",DY.CORNER_CELL_CONTEXT_MENU="corner-cell:context-menu",DY.CORNER_CELL_MOUSE_DOWN="corner-cell:mouse-down",DY.CORNER_CELL_MOUSE_UP="corner-cell:mouse-up",DY.CORNER_CELL_MOUSE_MOVE="corner-cell:mouse-move",DY.CORNER_CELL_RENDER="corner-cell:render",DY.CORNER_CELL_SELECTED="corner-cell:selected",DY.MERGED_CELLS_HOVER="merged-cells:hover",DY.MERGED_CELLS_CLICK="merged-cells:click",DY.MERGED_CELLS_DOUBLE_CLICK="merged-cells:double-click",DY.MERGED_CELLS_CONTEXT_MENU="merged-cells:context-menu",DY.MERGED_CELLS_MOUSE_DOWN="merged-cells:mouse-down",DY.MERGED_CELLS_MOUSE_UP="merged-cells:mouse-up",DY.MERGED_CELLS_MOUSE_MOVE="merged-cells:mouse-move",DY.MERGED_CELLS_RENDER="merged-cells:render",DY.SERIES_NUMBER_CELL_RENDER="series-number-cell:render",DY.RANGE_SORT="sort:range-sort",DY.RANGE_SORTED="sort:range-sorted",DY.RANGE_FILTER="filter:range-filter",DY.RANGE_FILTERED="filter:range-filtered",DY.LAYOUT_AFTER_HEADER_LAYOUT="layout:after-header-layout",DY.LAYOUT_CELL_RENDER="layout:cell-render",DY.LAYOUT_PAGINATION="layout:pagination",DY.LAYOUT_AFTER_REAL_DATA_CELL_RENDER="layout:after-real-data-cell-render",DY.LAYOUT_AFTER_RENDER="layout:after-render",DY.LAYOUT_BEFORE_RENDER="layout:before-render",DY.LAYOUT_DESTROY="layout:destroy",DY.LAYOUT_RESIZE="layout:resize",DY.LAYOUT_RESIZE_SERIES_WIDTH="layout:resize-series-width",DY.LAYOUT_RESIZE_ROW_WIDTH="layout:resize-row-width",DY.LAYOUT_RESIZE_ROW_HEIGHT="layout:resize-row-height",DY.LAYOUT_RESIZE_COL_WIDTH="layout:resize-column-width",DY.LAYOUT_RESIZE_COL_HEIGHT="layout:resize-column-height",DY.LAYOUT_RESIZE_TREE_WIDTH="layout:resize-tree-width",DY.LAYOUT_RESIZE_MOUSE_DOWN="layout:resize:mouse-down",DY.LAYOUT_RESIZE_MOUSE_MOVE="layout:resize:mouse-move",DY.LAYOUT_RESIZE_MOUSE_UP="layout:resize-mouse-up",DY.GLOBAL_KEYBOARD_DOWN="global:keyboard-down",DY.GLOBAL_KEYBOARD_UP="global:keyboard-up",DY.GLOBAL_COPIED="global:copied",DY.GLOBAL_MOUSE_UP="global:mouse-up",DY.GLOBAL_MOUSE_MOVE="global:mouse-move",DY.GLOBAL_ACTION_ICON_CLICK="global:action-icon-click",DY.GLOBAL_ACTION_ICON_HOVER="global:action-icon-hover",DY.GLOBAL_ACTION_ICON_HOVER_OFF="global:action-icon-hover-off",DY.GLOBAL_CONTEXT_MENU="global:context-menu",DY.GLOBAL_CLICK="global:click",DY.GLOBAL_PREVIEW_CLICK="global:preview-click",DY.GLOBAL_DOUBLE_CLICK="global:double-click",DY.GLOBAL_SELECTED="global:selected",DY.GLOBAL_HOVER="global:hover",DY.GLOBAL_RESET="global:reset",DY.GLOBAL_LINK_FIELD_JUMP="global:link-field-jump",DY.GLOBAL_SCROLL="global:scroll",(HY=zY||(zY={})).MOUSE_DOWN="mousedown",HY.MOUSE_MOVE="mousemove",HY.MOUSE_UP="mouseup",HY.MOUSE_OUT="mouseout",HY.MOUSE_LEAVE="mouseleave",HY.TOUCH_START="touchstart",HY.TOUCH_END="touchend",HY.KEY_DOWN="keydown",HY.KEY_UP="keyup",HY.CLICK="click",HY.HOVER="hover",HY.CONTEXT_MENU="contextmenu",HY.POINTER_DOWN="pointerdown",HY.POINTER_MOVE="pointermove",HY.POINTER_OUT="pointerout",HY.POINTER_LEAVE="pointerleave",HY.POINTER_UP="pointerup",HY.POINTER_CANCEL="pointercancel",HY.POINTER_ENTER="pointerenter",HY.POINTER_OVER="pointerover",HY.RIGHT_DOWN="rightdown",HY.RIGHT_UP="rightup";const FY="$$value$$",WY="$$extra$$",GY="$$origin$$",VY="$$extra_column$$",qY="$$total$$",XY="$$multi$$",UY="$$series_number$$",YY="$$empty_field_value$$",KY="$$empty_extra_placeholder$$",ZY="$$null$$",QY="$$undefined$$";var JY,eK,tK,nK;(eK=JY||(JY={})).Row="frozenRow",eK.Col="frozenCol",eK.TrailingRow="frozenTrailingRow",eK.TrailingCol="frozenTrailingCol",(nK=tK||(tK={})).Row="frozenRowGroup",nK.Col="frozenColGroup",nK.TrailingCol="frozenTrailingColGroup",nK.TrailingRow="frozenTrailingRowGroup",nK.TopLeft="frozenTopLeftGroup",nK.TopRight="frozenTopRightGroup",nK.BottomLeft="frozenBottomLeftGroup",nK.BottomRight="frozenBottomRightGroup",nK.Scroll="scrollGroup";const rK={[JY.Row]:tK.Row,[JY.Col]:tK.Col,[JY.TrailingRow]:tK.TrailingRow,[JY.TrailingCol]:tK.TrailingCol};var oK,iK,aK,lK,sK,cK;(iK=oK||(oK={})).CORNER_CELL_CLICK="cornerCellClick",iK.DATA_CELL_CLICK="dataCellClick",iK.ROW_CELL_CLICK="rowCellClick",iK.COL_CELL_CLICK="colCellClick",iK.MERGED_CELLS_CLICK="mergedCellsClick",iK.ROW_COLUMN_CLICK="rowColumnClick",iK.HEADER_CELL_LINK_CLICK="headerCellLinkClick",iK.PREVIEW_CLICK="previewClick",iK.HOVER="hover",iK.DATA_CELL_BRUSH_SELECTION="dataCellBrushSelection",iK.ROW_CELL_BRUSH_SELECTION="rowCellBrushSelection",iK.COL_CELL_BRUSH_SELECTION="colCellBrushSelection",iK.COL_ROW_RESIZE="rowColResize",iK.DATA_CELL_MULTI_SELECTION="dataCellMultiSelection",iK.ROW_CELL_MULTI_SELECTION="rowCellMultiSelection",iK.COL_CELL_MULTI_SELECTION="colCellMultiSelection",iK.RANGE_SELECTION="rangeSelection",iK.SELECTED_CELL_MOVE="selectedCellMove",iK.GLOBAL_RESET="globalReset",(lK=aK||(aK={})).ALL_SELECTED="allSelected",lK.SELECTED="selected",lK.ROW_CELL_BRUSH_SELECTED="rowCellBrushSelected",lK.COL_CELL_BRUSH_SELECTED="colCellBrushSelected",lK.DATA_CELL_BRUSH_SELECTED="dataCellBrushSelected",lK.UNSELECTED="unselected",lK.HOVER="hover",lK.HOVER_FOCUS="hoverFocus",lK.HIGHLIGHT="highlight",lK.SEARCH_RESULT="searchResult",lK.PREPARE_SELECT="prepareSelect",(cK=sK||(sK={})).DATA_CELL="dataCell",cK.ROW_CELL="rowCell",cK.COL_CELL="colCell",cK.SERIES_NUMBER_CELL="seriesNumberCell",cK.CORNER_CELL="cornerCell",cK.MERGED_CELL="mergedCell";const uK={textOpacity:"fillOpacity",backgroundOpacity:"fillOpacity",backgroundColor:"fill",borderOpacity:"strokeOpacity",borderColor:"stroke",borderWidth:"lineWidth",opacity:"opacity"},dK={textShape:["textOpacity"],textShapes:["textOpacity"],linkFieldShape:["opacity"],interactiveBgShape:["backgroundColor","backgroundOpacity"],interactiveBorderShape:["borderColor","borderOpacity","borderWidth"]},fK="interactionStateInfo";var hK,pK,gK,mK,vK,yK,bK,xK;(pK=hK||(hK={})).CLICK="click",pK.UN_DRAGGED="unDragged",pK.DRAGGED="dragged",(mK=gK||(gK={})).SHIFT="Shift",mK.COPY="c",mK.ESC="Escape",mK.META="Meta",mK.CONTROL="Control",mK.ARROW_UP="ArrowUp",mK.ARROW_DOWN="ArrowDown",mK.ARROW_LEFT="ArrowLeft",mK.ARROW_RIGHT="ArrowRight",(yK=vK||(vK={})).ASC="ASC",yK.DESC="DESC",(xK=bK||(bK={})).HOVER="hover",xK.CLICK="click",xK.DATA_CELL_BRUSH_SELECTION="dataCellBrushSelection",xK.ROW_CELL_BRUSH_SELECTION="rowCellBrushSelection",xK.COL_CELL_BRUSH_SELECTION="colCellBrushSelection",xK.MULTI_SELECTION="multiSelection",xK.RESIZE="resize";const wK={x:{value:0,scroll:!1},y:{value:0,scroll:!1}};var CK,SK,EK,OK,kK,MK;(SK=CK||(CK={})).CONTENT="content",SK.CANVAS="canvas",(OK=EK||(EK={})).SCROLL_UP="scrollUp",OK.SCROLL_DOWN="scrollDown",OK.SCROLL_LEFT="scrollLeft",OK.SCROLL_RIGHT="scrollRight",(MK=kK||(kK={}))[MK.SCROLL_UP=-1]="SCROLL_UP",MK[MK.SCROLL_DOWN=1]="SCROLL_DOWN";const $K="root",IK="[&]",NK=40,TK=20;var LK,RK,_K,AK,PK,jK,BK,DK,zK,HK;(RK=LK||(LK={})).Horizontal="col",RK.Vertical="row",(AK=_K||(_K={})).Field="field",AK.Cell="cell",AK.Tree="tree",AK.Series="series",(jK=PK||(PK={})).ALL="all",jK.CURRENT="current",jK.SELECTED="selected",(DK=BK||(BK={})).PC="pc",DK.MOBILE="mobile",(HK=zK||(zK={})).Adaptive="adaptive",HK.ColAdaptive="colAdaptive",HK.Compact="compact";const FK={wordWrap:!0,maxLines:1,textOverflow:"ellipsis"},WK={layoutWidthType:zK.Adaptive,seriesNumberCell:FK,cornerCell:FK,rowCell:Object.assign(Object.assign({},FK),{showTreeLeafNodeAlignDot:!1}),colCell:Object.assign(Object.assign({},FK),{height:30}),dataCell:Object.assign(Object.assign({},FK),{width:96,height:30})},GK={rowCount:0,colCount:0,trailingRowCount:0,trailingColCount:0},VK={width:600,height:480,debug:!1,hierarchyType:"grid",device:BK.PC,conditions:{},totals:{},tooltip:{enable:!1,autoAdjustBoundary:"body",operation:{hiddenColumns:!1,sort:!1,menu:{items:[]}}},interaction:{copy:{enable:!0,withFormat:!0,withHeader:!1},linkFields:[],hiddenColumnFields:[],selectedCellsSpotlight:!1,hoverHighlight:!0,hoverFocus:{duration:800},scrollSpeedRatio:{horizontal:1,vertical:1},autoResetSheetStyle:!0,brushSelection:{dataCell:!0,rowCell:!0,colCell:!0},multiSelection:!0,rangeSelection:!0,scrollbarPosition:CK.CONTENT,resize:{rowCellVertical:!0,cornerCellHorizontal:!0,colCellHorizontal:!0,colCellVertical:!0,rowResizeType:PK.CURRENT,colResizeType:PK.CURRENT,minCellWidth:NK,minCellHeight:TK},eventListenerOptions:!1,selectedCellHighlight:!1,overscrollBehavior:"auto"},seriesNumber:{enable:!1},customSVGIcons:[],showDefaultHeaderActionIcon:!1,headerActionIcons:[],style:WK,frozen:Object.assign({rowHeader:!0},GK),hd:!0,cornerText:"",cornerExtraFieldText:"",placeholder:{cell:MY,empty:{icon:"Empty"}}},qK=1;var XK,UK;function YK(e){return(YK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(UK=XK||(XK={})).All="all",UK.DetailOnly="detailOnly";var KK=/^\s+/,ZK=/\s+$/;function QK(e,t){if(t=t||{},(e=e||"")instanceof QK)return e;if(!(this instanceof QK))return new QK(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,a=!1,l=!1;"string"==typeof e&&(e=function(e){e=e.replace(KK,"").replace(ZK,"").toLowerCase();var t,n=!1;if(gZ[e])e=gZ[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=$Z.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=$Z.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=$Z.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=$Z.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=$Z.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=$Z.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=$Z.hex8.exec(e))return{r:xZ(t[1]),g:xZ(t[2]),b:xZ(t[3]),a:EZ(t[4]),format:n?"name":"hex8"};if(t=$Z.hex6.exec(e))return{r:xZ(t[1]),g:xZ(t[2]),b:xZ(t[3]),format:n?"name":"hex"};if(t=$Z.hex4.exec(e))return{r:xZ(t[1]+""+t[1]),g:xZ(t[2]+""+t[2]),b:xZ(t[3]+""+t[3]),a:EZ(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=$Z.hex3.exec(e))return{r:xZ(t[1]+""+t[1]),g:xZ(t[2]+""+t[2]),b:xZ(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==YK(e)&&(IZ(e.r)&&IZ(e.g)&&IZ(e.b)?(s=e.r,c=e.g,u=e.b,t={r:255*yZ(s,255),g:255*yZ(c,255),b:255*yZ(u,255)},a=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):IZ(e.h)&&IZ(e.s)&&IZ(e.v)?(r=CZ(e.s),o=CZ(e.v),t=function(e,t,n){e=6*yZ(e,360),t=yZ(t,100),n=yZ(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),l=n*(1-(1-o)*t),s=r%6,c=[n,a,i,i,l,n][s],u=[l,n,n,a,i,i][s],d=[i,i,l,n,n,a][s];return{r:255*c,g:255*u,b:255*d}}(e.h,r,o),a=!0,l="hsv"):IZ(e.h)&&IZ(e.s)&&IZ(e.l)&&(r=CZ(e.s),i=CZ(e.l),t=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=yZ(e,360),t=yZ(t,100),n=yZ(n,100),0===t)r=o=i=n;else{var l=n<.5?n*(1+t):n+t-n*t,s=2*n-l;r=a(s,l,e+1/3),o=a(s,l,e),i=a(s,l,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,r,i),a=!0,l="hsl"),e.hasOwnProperty("a")&&(n=e.a));var s,c,u;return n=vZ(n),{ok:a,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function JK(e,t,n){e=yZ(e,255),t=yZ(t,255),n=yZ(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),l=(i+a)/2;if(i==a)r=o=0;else{var s=i-a;switch(o=l>.5?s/(2-i-a):s/(i+a),i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:o,l:l}}function eZ(e,t,n){e=yZ(e,255),t=yZ(t,255),n=yZ(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),l=i,s=i-a;if(o=0===i?0:s/i,i==a)r=0;else{switch(i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:o,v:l}}function tZ(e,t,n,r){var o=[wZ(Math.round(e).toString(16)),wZ(Math.round(t).toString(16)),wZ(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function nZ(e,t,n,r){return[wZ(SZ(r)),wZ(Math.round(e).toString(16)),wZ(Math.round(t).toString(16)),wZ(Math.round(n).toString(16))].join("")}function rZ(e,t){t=0===t?0:t||10;var n=QK(e).toHsl();return n.s-=t/100,n.s=bZ(n.s),QK(n)}function oZ(e,t){t=0===t?0:t||10;var n=QK(e).toHsl();return n.s+=t/100,n.s=bZ(n.s),QK(n)}function iZ(e){return QK(e).desaturate(100)}function aZ(e,t){t=0===t?0:t||10;var n=QK(e).toHsl();return n.l+=t/100,n.l=bZ(n.l),QK(n)}function lZ(e,t){t=0===t?0:t||10;var n=QK(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),QK(n)}function sZ(e,t){t=0===t?0:t||10;var n=QK(e).toHsl();return n.l-=t/100,n.l=bZ(n.l),QK(n)}function cZ(e,t){var n=QK(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,QK(n)}function uZ(e){var t=QK(e).toHsl();return t.h=(t.h+180)%360,QK(t)}function dZ(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=QK(e).toHsl(),r=[QK(e)],o=360/t,i=1;i<t;i++)r.push(QK({h:(n.h+i*o)%360,s:n.s,l:n.l}));return r}function fZ(e){var t=QK(e).toHsl(),n=t.h;return[QK(e),QK({h:(n+72)%360,s:t.s,l:t.l}),QK({h:(n+216)%360,s:t.s,l:t.l})]}function hZ(e,t,n){t=t||6,n=n||30;var r=QK(e).toHsl(),o=360/n,i=[QK(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(QK(r));return i}function pZ(e,t){t=t||6;for(var n=QK(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],l=1/t;t--;)a.push(QK({h:r,s:o,v:i})),i=(i+l)%1;return a}QK.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=vZ(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=eZ(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=eZ(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=JK(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=JK(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return tZ(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[wZ(Math.round(e).toString(16)),wZ(Math.round(t).toString(16)),wZ(Math.round(n).toString(16)),wZ(SZ(r))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*yZ(this._r,255))+"%",g:Math.round(100*yZ(this._g,255))+"%",b:Math.round(100*yZ(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*yZ(this._r,255))+"%, "+Math.round(100*yZ(this._g,255))+"%, "+Math.round(100*yZ(this._b,255))+"%)":"rgba("+Math.round(100*yZ(this._r,255))+"%, "+Math.round(100*yZ(this._g,255))+"%, "+Math.round(100*yZ(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(mZ[tZ(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+nZ(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=QK(e);n="#"+nZ(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return QK(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(aZ,arguments)},brighten:function(){return this._applyModification(lZ,arguments)},darken:function(){return this._applyModification(sZ,arguments)},desaturate:function(){return this._applyModification(rZ,arguments)},saturate:function(){return this._applyModification(oZ,arguments)},greyscale:function(){return this._applyModification(iZ,arguments)},spin:function(){return this._applyModification(cZ,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(hZ,arguments)},complement:function(){return this._applyCombination(uZ,arguments)},monochromatic:function(){return this._applyCombination(pZ,arguments)},splitcomplement:function(){return this._applyCombination(fZ,arguments)},triad:function(){return this._applyCombination(dZ,[3])},tetrad:function(){return this._applyCombination(dZ,[4])}},QK.fromRatio=function(e,t){if("object"==YK(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:CZ(e[r]));e=n}return QK(e,t)},QK.equals=function(e,t){return!(!e||!t)&&QK(e).toRgbString()==QK(t).toRgbString()},QK.random=function(){return QK.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},QK.mix=function(e,t,n){n=0===n?0:n||50;var r=QK(e).toRgb(),o=QK(t).toRgb(),i=n/100;return QK({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},QK.readability=function(e,t){var n=QK(e),r=QK(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},QK.isReadable=function(e,t,n){var r,o,i=QK.readability(e,t);switch(o=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},QK.mostReadable=function(e,t,n){var r,o,i,a,l=null,s=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=QK.readability(e,t[c]))>s&&(s=r,l=QK(t[c]));return QK.isReadable(e,l,{level:i,size:a})||!o?l:(n.includeFallbackColors=!1,QK.mostReadable(e,["#fff","#000"],n))};var gZ=QK.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},mZ=QK.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(gZ);function vZ(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function yZ(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function bZ(e){return Math.min(1,Math.max(0,e))}function xZ(e){return parseInt(e,16)}function wZ(e){return 1==e.length?"0"+e:""+e}function CZ(e){return e<=1&&(e=100*e+"%"),e}function SZ(e){return Math.round(255*parseFloat(e)).toString(16)}function EZ(e){return xZ(e)/255}var OZ,kZ,MZ,$Z=(kZ="[\\s|\\(]+("+(OZ="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+OZ+")[,|\\s]+("+OZ+")\\s*\\)?",MZ="[\\s|\\(]+("+OZ+")[,|\\s]+("+OZ+")[,|\\s]+("+OZ+")[,|\\s]+("+OZ+")\\s*\\)?",{CSS_UNIT:new RegExp(OZ),rgb:new RegExp("rgb"+kZ),rgba:new RegExp("rgba"+MZ),hsl:new RegExp("hsl"+kZ),hsla:new RegExp("hsla"+MZ),hsv:new RegExp("hsv"+kZ),hsva:new RegExp("hsva"+MZ),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function IZ(e){return!!$Z.CSS_UNIT.exec(e)}const NZ=[95,85,75,30,15,0,15,30,45,60,80],TZ=e=>QK(e).getLuminance()<=.5,LZ=[{fontColorIndex:0,bgColorIndex:3},{fontColorIndex:13,bgColorIndex:8},{fontColorIndex:14,bgColorIndex:1}],RZ=(e={})=>{const t=Array.from(Array(15)).fill(_Y),{basicColorRelations:n=[],brandColor:r}=e,o=(e=>{const t=[];for(let n=0;n<11;n++){const r=NZ[n];t.push(0===r?vY.toUpper(e):vY.toUpper(QK.mix(e,n<5?"#FFFFFF":"#000000",r).toHexString()))}return t})(r);return n.forEach(e=>{t[e.basicColorIndex]=o[e.standardColorIndex]}),LZ.forEach(({fontColorIndex:e,bgColorIndex:n})=>{t[e]=TZ(t[n])?_Y:RY}),Object.assign(Object.assign({},e),{basicColors:t})},_Z=RZ({brandColor:"#3471F9",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:5},{basicColorIndex:4,standardColorIndex:6},{basicColorIndex:5,standardColorIndex:6},{basicColorIndex:6,standardColorIndex:6},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:4},{basicColorIndex:11,standardColorIndex:4},{basicColorIndex:12,standardColorIndex:5}]}),AZ={default:RZ({brandColor:"#326EF4",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:5},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:5},{basicColorIndex:12,standardColorIndex:5}]}),colorful:_Z,gray:RZ({brandColor:"#9DA7B6",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:8},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:3},{basicColorIndex:12,standardColorIndex:3}]}),dark:{brandColor:"#255dff",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},basicColors:["#ffffff","#151a27","#213f94","#133aad","#213f94","#255dff","#4b91ff","#4b91ff","#191919","#1e2436","#0647b1","#7899ff","#7899ff","#f0f0f0","#dcdcdc"],basicColorRelations:[]}},PZ="Roboto, PingFangSC, Microsoft YaHei, Arial, sans-serif",jZ=`${NY}-dark-theme`,BZ={default:"light",colorful:"light",gray:"light",dark:"dark"},DZ=`${NY}-tooltip`,zZ=`${DZ}-container`,HZ=`${zZ}-show`,FZ=`${zZ}-hide`,WZ=15,GZ=10,VZ=(e,t,n,r)=>e.options.layoutArrange?e.options.layoutArrange(e,n,r,t):t,qZ=(e,t,n,r)=>{var o,i,a,l;if((null===(o=null==e?void 0:e.facet)||void 0===o?void 0:o.getHiddenColumnsInfo(n))&&(null===(l=null===(a=null===(i=null==e?void 0:e.dataSet)||void 0===i?void 0:i.fields)||void 0===a?void 0:a.columns)||void 0===l?void 0:l.find(e=>e===(null==n?void 0:n.field))))return!1;let s=!0;const c=(e,n=-1,o=-1)=>{-1===n?(t.children.push(e),r.pushNode(e)):(t.children.splice(n,0,e),r.pushNode(e,o))};if(e.options.layoutHierarchy){const o=e.options.layoutHierarchy(e,n);if(o){const e=!!vY.isBoolean(null==o?void 0:o.delete)&&(null==o?void 0:o.delete);s=!e;const{push:i,unshift:a}=o;let l=t.children.length,u=r.getNodes().length;vY.isEmpty(a)||(vY.each(a,e=>{c(e)}),l=t.children.length,u=r.getNodes().length),vY.isEmpty(i)||vY.each(i,e=>{c(e)}),e||c(n,l,u)}else c(n)}else c(n);return s},XZ=(e,t,n)=>{var r,o;(null===(r=e.options)||void 0===r?void 0:r.layoutCoordinate)&&((null==t?void 0:t.isLeaf)||(null==n?void 0:n.isLeaf))&&(null===(o=e.options)||void 0===o||o.layoutCoordinate(e,t,n))};class UZ{constructor(){this.debug=!1,this.debugCallback=(e,t)=>{if(this.debug){performance.now();t();performance.now()}else t()},this.logger=(e,...t)=>{this.debug}}static getInstance(){return UZ.instance||(UZ.instance=new UZ),UZ.instance}setDebug(e){this.debug=e}}const YZ=Object.freeze(Object.defineProperty({__proto__:null,ArrowDown:'\n<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="" fill="none">\n        <tspan x="-0.225097656" y="8.5"></tspan>\n    </text>\n</g>\n</svg>',ArrowUp:'<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="" fill="none">\n        <tspan x="-0.225097656" y="8.5"></tspan>\n    </text>\n</g>\n</svg>\n',CellDown:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>down</title>\n    <desc>Created with Sketch.</desc>\n    <g id="" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="down" fill="none" transform="translate(3.500000, 4.500000) scale(1, -1) translate(-3.500000, -4.500000) " points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg>',CellUp:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>up</title>\n    <desc>Created with Sketch.</desc>\n    <g id="" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="up" fill="none" points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg> ',DrillDownIcon:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1608030723688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21482" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M547.648 696a32 32 0 0 1 31.488 26.24l0.512 5.76v151.68l145.216-144.512a32 32 0 0 1 40.832-3.648l4.416 3.712a32 32 0 0 1 3.584 40.832l-3.712 4.48-203.072 202.24a32 32 0 0 1-40.768 3.648l-4.416-3.712-202.24-202.24a32 32 0 0 1 40.832-48.96l4.416 3.712 150.912 150.912v-158.144a32 32 0 0 1 32-32z m194.56-529.28l4.928 3.072 233.792 180.224a32 32 0 0 1 1.728 49.28l-4.864 3.52-409.792 245.568a32 32 0 0 1-27.328 2.624l-5.184-2.432-422.4-245.568a32 32 0 0 1-7.552-49.28l4.544-4.032 242.816-180.288a32 32 0 0 1 42.432 47.552l-4.288 3.84-203.84 151.296 364.16 211.648 353.28-211.712-196.608-151.552a32 32 0 0 1-8.896-40l3.136-4.864a32 32 0 0 1 40-8.96zM547.712 28.672a32 32 0 0 1 31.488 26.24l0.512 5.76v396.992a32 32 0 0 1-63.488 5.76l-0.512-5.76V60.736a32 32 0 0 1 32-32z" p-id="21483" fill="currentColor"></path></svg>\n',Empty:'<svg width="64" height="41" viewBox="0 0 64 41" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 1)" fill="none" fill-rule="evenodd"><ellipse fill="#f5f5f5" cx="32" cy="33" rx="32" ry="7"></ellipse><g fill-rule="nonzero" stroke="#d9d9d9"><path d="M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"></path><path d="M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z" fill="#fafafa"></path></g></g></svg>',ExpandColIcon:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="23px" height="12px" viewBox="0 0 23 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title> 8 3</title>\n    <g id="----" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="" transform="translate(-275.000000, -824.000000)">\n            <rect fill="#FFFFFF" x="0" y="0" width="1333" height="1167"></rect>\n            <g id="-8-3" transform="translate(275.000000, 824.000000)">\n                <rect id="" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="0.5" y="0.5" width="11" height="11"></rect>\n                <rect id="-9" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="11.5" y="0.5" width="11" height="11"></rect>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) " fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(17.000000, 6.000000) rotate(270.000000) translate(-17.000000, -6.000000) translate(11.000000, 0.000000)" fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n            </g>\n            <line x1="286.5" y1="813" x2="286.5" y2="864.5" id="-2-3" stroke="#000000" opacity="0.25"></line>\n        </g>\n    </g>\n</svg>',EyeOutlined:'<svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg>',GlobalAsc:'<svg t="1557124621626" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17452" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n<defs>\n  <style type="text/css"></style>\n</defs>\n<path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 626.944h176c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8h-176A8 8 0 0 1 384 857.984v-56c0-4.416 3.584-8 8-8z m0-424h368c4.416 0 8 3.648 8 8v56a8 8 0 0 1-8 8h-368A8 8 0 0 1 384 433.984v-56c0-4.352 3.584-8 8-8z m528-139.968h-528A8 8 0 0 1 384 222.016v-56c0-4.416 3.584-8 8-8h528c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z m-256 424h-272A8 8 0 0 1 384 646.016v-56c0-4.416 3.584-8 8-8h272c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z" p-id="17453"></path>\n</svg>',GlobalDesc:'<svg t="1557124685600" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17561" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h176A8 8 0 0 0 576 222.016v-56a8 8 0 0 0-8-8h-176A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h368a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-368A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m-256-424h-272A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h272a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17562"></path>\n</svg>',GroupAsc:'<svg t="1557124695786" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17670" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 62.976h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17671"></path>\n</svg>',GroupDesc:'<svg t="1557124710652" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17779" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17780"></path>\n</svg>',GroupNone:'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="" stroke="none" stroke-width="1" fill-opacity="0.25" fill-rule="evenodd">\n    <g id="--" transform="translate(-3275.000000, -724.000000)" fill-rule="nonzero">\n        <g id="-39" transform="translate(3064.500000, 667.000000)">\n            <g id="-36" transform="translate(80.500000, 44.000000)">\n                <g id="" transform="translate(130.000000, 13.000000)">\n                    <path d="M12.0009375,12.40625 C12.0696875,12.40625 12.1259375,12.4625 12.1259375,12.53125 L12.1259375,12.53125 L12.1259375,13.40625 C12.1259375,13.475 12.0696875,13.53125 12.0009375,13.53125 L12.0009375,13.53125 L6.25093747,13.53125 C6.18218747,13.53125 6.12593747,13.475 6.12593747,13.40625 L6.12593747,13.40625 L6.12593747,12.53125 C6.12593747,12.4625 6.18218747,12.40625 6.25093747,12.40625 L6.25093747,12.40625 Z M2.93949997,2.5801875 L2.97437497,2.6109375 L4.72437497,4.828125 C4.78062497,4.89776786 4.74503823,4.99725765 4.66779698,5.02426203 L4.62593747,5.03125 L3.438,5.03089062 L3.43843747,10.9691406 L4.62593747,10.9691406 C4.73062497,10.9691406 4.78999997,11.0910156 4.72437497,11.1722656 L2.97437497,13.3894531 C2.92437497,13.4535156 2.82749997,13.4535156 2.77749997,13.3894531 L1.02749997,11.1722656 C0.961874969,11.0894531 1.02124997,10.9691406 1.12593747,10.9691406 L2.31343747,10.9691406 L2.313,5.03089062 L1.12593747,5.03125 C1.03620533,5.03125 0.979764,4.94285714 1.00679571,4.8654519 L1.02749997,4.828125 L2.77749997,2.6109375 C2.81749997,2.5596875 2.88749997,2.5494375 2.93949997,2.5801875 Z M10.5009375,9.09375 C10.5696875,9.09375 10.6259375,9.15 10.6259375,9.21875 L10.6259375,9.21875 L10.6259375,10.09375 C10.6259375,10.1625 10.5696875,10.21875 10.5009375,10.21875 L10.5009375,10.21875 L6.25093747,10.21875 C6.18218747,10.21875 6.12593747,10.1625 6.12593747,10.09375 L6.12593747,10.09375 L6.12593747,9.21875 C6.12593747,9.15 6.18218747,9.09375 6.25093747,9.09375 L6.25093747,9.09375 Z M14.5009375,5.78125 C14.5696875,5.78125 14.6259375,5.8375 14.6259375,5.90625 L14.6259375,5.90625 L14.6259375,6.78125 C14.6259375,6.85 14.5696875,6.90625 14.5009375,6.90625 L14.5009375,6.90625 L6.25093747,6.90625 C6.18218747,6.90625 6.12593747,6.85 6.12593747,6.78125 L6.12593747,6.78125 L6.12593747,5.90625 C6.12593747,5.8375 6.18218747,5.78125 6.25093747,5.78125 L6.25093747,5.78125 Z M9.00093747,2.46875 C9.06968747,2.46875 9.12593747,2.525 9.12593747,2.59375 L9.12593747,2.59375 L9.12593747,3.46875 C9.12593747,3.5375 9.06968747,3.59375 9.00093747,3.59375 L9.00093747,3.59375 L6.25093747,3.59375 C6.18218747,3.59375 6.12593747,3.5375 6.12593747,3.46875 L6.12593747,3.46875 L6.12593747,2.59375 C6.12593747,2.525 6.18218747,2.46875 6.25093747,2.46875 L6.25093747,2.46875 Z" id=""></path>\n                </g>\n            </g>\n        </g>\n    </g>q\n</g>\n</svg>',InfoCircle:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1590389330617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19656" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M512 64c-247.4 0-448 200.6-448 448s200.6 448 448 448 448-200.6 448-448-200.6-448-448-448z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="" p-id="19657"></path><path d="M464 336c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zM536 448h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-272c0-4.4-3.6-8-8-8z" fill="" p-id="19658"></path></svg>',Minus:'<svg t="1557140120188" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16909" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="16910">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="16911">\n\t</path>\n</svg>',Play:'<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="M0 0h1024v1024H0z" fill="#000000" opacity=".01" p-id="5072"></path><path d="M520 128C736.496 128 912 303.504 912 520S736.496 912 520 912C303.6 911.76 128.24 736.4 128 520 128 303.504 303.504 128 520 128z m0 60.288c-183.12 0.192-331.52 148.592-331.712 331.712 0 183.2 148.496 331.712 331.712 331.712 183.2 0 331.712-148.512 331.712-331.712S703.2 188.288 520 188.288z m-84.528 176.576l233.776 155.264-233.76 155.024V364.864z" fill="#A8ADBB" p-id="5073"></path></svg>',Plus:'<svg t="1557140186692" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17025" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="17026">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="17027">\n\t</path>\n</svg>',SortDown:'<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',SortDownSelected:'<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',SortUp:'<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\n    p-id="17621"></path>\n</svg>\n',SortUpSelected:'<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n<defs>\n<style type="text/css"></style>\n</defs>\n<path\nd="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\np-id="17621"></path>\n</svg>\n',Trend:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1596433821690" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20229" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6c-3.1-3.1-8.2-3.1-11.3 0l-230 229.9L461.4 404c-3.1-3.1-8.2-3.1-11.3 0L266.3 586.7c-3.1 3.1-3.1 8.2 0 11.3l39.5 39.7z" p-id="20230"></path></svg>'},Symbol.toStringTag,{value:"Module"})),KZ={},ZZ=(e,t)=>{KZ[vY.lowerCase(e)]=t},QZ=e=>KZ[vY.lowerCase(e)];vY.keys(YZ).forEach(e=>{const t=vY.get(YZ,e);ZZ(e,t)});class JZ extends VX{constructor(e,t){super(t),this.imgType=e}}class eQ extends eU{constructor(e,t){super(e),this.appendInfo=t}}const tQ="<svg",nQ="data:image/svg+xml",rQ={};class oQ extends FX{constructor(e){super({name:e.name}),this.isOnlineLink=e=>/^(?:https?:)?(?:\/\/)/.test(e),this.cfg=e,this.render()}getCfg(){return this.cfg}getImage(e,t,n){return new Promise((r,o)=>{let i=QZ(e);if(!i)return;const a=new Image;a.onload=()=>{rQ[t]=a,r(a)},a.onerror=o,i&&(i.includes(nQ)||this.isOnlineLink(i))?(a.src=i,a.crossOrigin="anonymous"):(n&&(i=i.replace(/fill=[\'\"]#?\w+[\'\"]/g,""),i=i.replace(/fill>/g,">")),i=i.replace(tQ,`${tQ} fill="${n}"`),a.src=`${nQ};utf-8,${encodeURIComponent(i)}`)})}render(){const{name:e,fill:t}=this.cfg,n=vY.clone(this.cfg),r=new JZ(oQ.type,{style:vY.omit(n,"fill")});this.iconImageShape=r,this.setImageAttrs({name:e,fill:t})}setImageAttrs(e){let{name:t,fill:n}=e;const{iconImageShape:r}=this;t=t||this.cfg.name,n=n||this.cfg.fill;const o=`${t}-${n}`,i=rQ[o];i?(r.attr("src",i),this.appendChild(r)):this.getImage(t,o,n).then(e=>{this.destroyed?UZ.getInstance().logger(`GuiIcon ${t} destroyed.`):(r.attr("src",e),this.appendChild(r))}).catch(e=>{TypeError})}toggleVisibility(e){const t=e?"visible":"hidden";this.setAttribute("visibility",t),this.iconImageShape.setAttribute("visibility",t)}}var iQ,aQ,lQ,sQ,cQ,uQ,dQ,fQ,hQ,pQ;oQ.type="__GUI_ICON__",(aQ=iQ||(iQ={})).TOP="TOP",aQ.BOTTOM="BOTTOM",aQ.LEFT="LEFT",aQ.RIGHT="RIGHT",(sQ=lQ||(lQ={})).BORDER_BOX="borderBox",sQ.PADDING_BOX="paddingBox",sQ.CONTENT_BOX="contentBox",(uQ=cQ||(cQ={})).SUM="SUM",uQ.MIN="MIN",uQ.MAX="MAX",uQ.AVG="AVG",uQ.COUNT="COUNT",(fQ=dQ||(dQ={})).PLAIN="text/plain",fQ.HTML="text/html",(pQ=hQ||(hQ={})).Row="row",pQ.Col="col",pQ.Series="series";class gQ{constructor(){this.store=new Map}set(e,t){return this.store.set(e,t)}get(e,t){var n;return null!==(n=this.store.get(e))&&void 0!==n?n:t}clear(){this.store.clear()}size(){return this.store.size}}let mQ=class e{constructor(e){this.x=0,this.y=0,this.width=0,this.height=0,this.colIndex=-1,this.level=0,this.isLeaf=!1,this.children=[],this.padding=0,this.extra={},vY.assign(this,e)}static getFieldPath(e,t){if(e&&!e.isTotals||e&&t){let t=e.parent;const n=[e.field];for(;t&&t.id!==$K;)n.push(t.field),t=t.parent;return n.reverse()}return[]}static getAllLeaveNodes(e){const t=[];if(e.isLeaf)return[e];const n=[...e.children||[]];let r=n.shift();for(;r;)r.isLeaf?t.push(r):n.unshift(...r.children),r=n.shift();return t}static getAllChildrenNodes(e,t=e=>[e]){const n=[];if(e.isLeaf)return n.push(...t(e)),n;const r=[...e.children||[]];let o=r.shift();for(;o;)n.push(...t(o)),r.unshift(...o.children),o=r.shift();return n}static getBranchNodes(e){if(e&&!e.isTotals){let t=e.parent;const n=[e];for(;t&&t.id!==$K;)n.push(t),t=t.parent;return n.reverse()}return[]}static blankNode(){return new e({id:"",field:"",value:""})}static rootNode(){return new e({id:$K,field:"",value:""})}getHeadLeafChild(){let e=this;for(;!vY.isEmpty(null==e?void 0:e.children);)e=vY.head(null==e?void 0:e.children);return e}getTotalHeightForTreeHierarchy(){return 0===this.height||vY.isEmpty(this.children)?this.height:this.children.reduce((e,t)=>e+t.getTotalHeightForTreeHierarchy(),this.height)}isSeriesNumberNode(){return this.field===UY}clone(){return new e(Object.assign({},this))}get isFrozen(){return this.isFrozenHead||this.isFrozenTrailing}};class vQ{constructor(e){const{label:t,isSubTotals:n,isGrandTotals:r,isTotalRoot:o=!1}=e;this.label=t,this.isSubTotals=n,this.isGrandTotals=r,this.isTotalRoot=o}static isTotalClassInstance(e){return e instanceof vQ}}class yQ{constructor(e){this.label=e}static isTotalMeasureInstance(e){return e instanceof yQ}}const bQ=e=>vY.isUndefined(e)?QY:vY.isNull(e)?ZY:String(e),xQ=e=>e===ZY?null:e!==QY?e:void 0,wQ=(...e)=>e.map(bQ).join(IK),CQ=e=>{var t,n,r,o;const{spreadsheet:i,level:a,fields:l}=e,{options:s,dataSet:c}=i,u=c.moreThanOneValue(),d=null===(n=null===(t=i.dataCfg.fields)||void 0===t?void 0:t.valueInCols)||void 0===n||n,f=(null===(o=null===(r=null==s?void 0:s.style)||void 0===r?void 0:r.colCell)||void 0===o?void 0:o.hideValue)&&d&&!u&&vY.includes(l,WY)?2:1;return a===l.length-f},SQ=e=>{var t,n;const{currentField:r,fields:o,fieldValues:i,hierarchy:a,parentNode:l,level:s,query:c,addMeasureInTotalQuery:u,addTotalMeasureInTotal:d,spreadsheet:f,handler:h}=e,p=f.isTableMode();for(const[g,m]of i.entries()){const e=xQ(m),i=vQ.isTotalClassInstance(e),v=yQ.isTotalMeasureInstance(e);let y,b,x=!1,w=!1,C=!1,S=!1,E=r;i?(w=e.isGrandTotals,C=e.isSubTotals,S=e.isTotalRoot,y=bY(e.label),b=S?Object.assign({},c):Object.assign(Object.assign({},c),{[r]:y}),u&&(b[WY]=null===(t=null==f?void 0:f.dataSet)||void 0===t?void 0:t.fields.values[0]),x=CQ({spreadsheet:f,level:s,fields:o})):v?(y=bY(e.label),b=Object.assign(Object.assign({},c),{[WY]:y}),E=WY,w=l.isGrandTotals,C=l.isSubTotals,x=CQ({spreadsheet:f,level:s,fields:o})):p?(y=e,E=o[g],b=Object.assign(Object.assign({},c),{[E]:y}),x=!0):(y=e,b=y===YY?Object.assign({},c):Object.assign(Object.assign({},c),{[r]:y}),x=CQ({spreadsheet:f,level:s,fields:o}));const O=p?E:y,k=wQ(l.id,O);if(!k)return;const M=!1,$=new mQ({id:k,value:y,level:s,field:E,parent:l,isTotals:i||v,isGrandTotals:w,isSubTotals:C,isTotalMeasure:v,isCollapsed:M,isTotalRoot:S,hierarchy:a,query:b,spreadsheet:f,isLeaf:x||M}),I=qZ(f,l,$,a),N=null===(n=null==f?void 0:f.facet)||void 0===n?void 0:n.getHiddenColumnsInfo($);!(s>a.maxLevel)||w||l.isGrandTotals||l.isSubTotals||$.isSubTotals||N||(a.sampleNodesForAllLevels.push($),a.maxLevel=s,a.sampleNodeForLastLevel=$);x||M||!I?($.isLeaf=!0,a.pushIndexNode($),$.rowIndex=a.getIndexNodes().length-1):null==h||h({addTotalMeasureInTotal:d,addMeasureInTotalQuery:u,parentNode:$,currentField:o[s+1],fields:o,hierarchy:a,spreadsheet:f})}},EQ=(e=[])=>e.filter(e=>e!==qY&&e!==KY);function OQ(e,t){const n={};let r=e;for(;r&&r.field;)r.isTotalRoot&&!t||r.value===YY||(n[r.field]=r.value),r=r.parent;return n}const kQ=e=>{const{addTotalMeasureInTotal:t,parentNode:n,currentField:r,fields:o,hierarchy:i,spreadsheet:a}=e,l=o.indexOf(r),s=a.dataSet,{values:c=[]}=s.fields,u=[];let d={};const f=a.getTotalsConfig(r),h=n.isGrandTotals?f.grandTotalsGroupDimensions||[]:f.subTotalsGroupDimensions||[],p=s.isEmpty()?[]:h;if(null==p?void 0:p.includes(r)){d=OQ(n);const e=s.getDimensionValues(r,d);u.push(...(e||[]).map(e=>new vQ({label:e,isSubTotals:n.isSubTotals,isGrandTotals:n.isGrandTotals,isTotalRoot:!1}))),vY.isEmpty(u)&&r&&u.push(YY)}else{if(!t||r!==WY)return CQ({spreadsheet:a,level:l,fields:o})?(n.isLeaf=!0,i.pushIndexNode(n),void(n.rowIndex=i.getIndexNodes().length-1)):void kQ(Object.assign(Object.assign({},e),{currentField:o[l+1]}));d=OQ(n),u.push(...c.map(e=>new yQ(e)))}const g=EQ(u);SQ(Object.assign(Object.assign({},e),{fieldValues:g,level:l,parentNode:n,query:d,handler:$Q}))},MQ=e=>{const{parentNode:t,currentField:n,fields:r,spreadsheet:o}=e,i=o.dataSet,{values:a=[]}=i.fields,l=r.indexOf(n),s=[];let c={};c=OQ(t,!0);const u=i.getDimensionValues(n,c),d=VZ(o,u,t,n);s.push(...d||[]),vY.isEmpty(s)&&n&&(n===WY?s.push(...a):s.push(YY)),(e=>{var t;const{isFirstField:n,currentField:r,fieldValues:o,spreadsheet:i,lastField:a}=e,l=i.getTotalsConfig(n?r:a);let s,c;n?(null==l?void 0:l.showGrandTotals)&&(s=l.reverseGrandTotalsLayout?"unshift":"push",c=new vQ({label:l.grandTotalsLabel,isSubTotals:!1,isGrandTotals:!0,isTotalRoot:!0})):(null==l?void 0:l.showSubTotals)&&(vY.size(o)>1||!1!==vY.get(l,"showSubTotals.always"))&&r!==WY&&(s=l.reverseSubTotalsLayout?"unshift":"push",c=new vQ({label:l.subTotalsLabel,isSubTotals:!0,isGrandTotals:!1,isTotalRoot:!0})),s&&(null===(t=o[s])||void 0===t||t.call(o,c))})({currentField:n,lastField:r[l-1],isFirstField:0===l,fieldValues:s,spreadsheet:o});const f=EQ(s);SQ(Object.assign(Object.assign({},e),{fieldValues:f,level:l,parentNode:t,query:c,handler:$Q}))};function $Q(e){e.parentNode.isTotals?kQ(e):MQ(e)}class IQ{constructor(){this.width=0,this.height=0,this.maxLevel=-1,this.sampleNodesForAllLevels=[],this.sampleNodeForLastLevel=null,this.allNodesWithoutRoot=[],this.indexNode=[],this.isPlaceholder=!1,this.rootNode=mQ.rootNode()}getLeaves(){return this.allNodesWithoutRoot.filter(e=>e.isLeaf)}getNodes(e){return void 0!==e?this.allNodesWithoutRoot.filter(t=>t.level===e):this.allNodesWithoutRoot}getNodesLessThanLevel(e){return this.allNodesWithoutRoot.filter(t=>t.level<=e)}pushNode(e,t=-1){-1===t?this.allNodesWithoutRoot.push(e):this.allNodesWithoutRoot.splice(t,0,e)}pushIndexNode(e){this.indexNode.push(e)}getIndexNodes(){return this.indexNode}}var NQ,TQ;(TQ=NQ||(NQ={})).VIDEO="VIDEO",TQ.IMAGE="IMAGE";const LQ=new Error("Failed to load image and fallback");function RQ(e){const{src:t,fallback:n,timeout:r=1e4,mediaCache:o,crossOrigin:i="Anonymous"}=e;return new Promise((e,a)=>{if(null==o?void 0:o.has(t)){return void(o.get(t)?e(o.get(t)):a(LQ))}const l=n=>{null==o||o.set(t,n),e(n)},s=e=>{null==o||o.set(t,null),a(e)},c=()=>{n?RQ({src:n,timeout:r,mediaCache:o}).then(l).catch(s):s(LQ)},u=()=>{i?RQ({src:t,timeout:r,mediaCache:o,crossOrigin:null}).then(l).catch(c):c()},d=new Image;d.src=t,d.crossOrigin=i;const f=setTimeout(u,r);d.onload=()=>{clearTimeout(f),l(d)},d.onerror=()=>{clearTimeout(f),u()},d.onabort=()=>{clearTimeout(f),u()}})}function _Q(e){return Hz(this,arguments,void 0,function*(e,t=""){try{e&&(t=(yield e(t))||t)}catch(rw){}return t})}class AQ{getLoading(e){var t;const{x:n,y:r,height:o,width:i}=this.getCellInfo(e),a=.25*Math.min(o,i),l=n+i/2,s=r+o/2,c=new YX({style:{d:`M${l} ${s-a}\n           A${a} ${a} 0 0 1 ${l+a} ${s}`,stroke:null===(t=e.getIconStyle())||void 0===t?void 0:t.fill,transformOrigin:`${l} ${s}`}});return e.appendChild(c),setTimeout(()=>{c.animate([{transform:"rotate(0)"},{transform:"rotate(360deg)"}],{duration:1e3,iterations:1/0})}),c}process(e,t){return Hz(this,void 0,void 0,function*(){const n=this.getLoading(t),r=yield this.prepare(e,t),o=this.generateConfig(e,t,r);t.removeChild(n),n.destroy(),this.render(t,o)})}destroy(){}getCellInfo(e){var t;const n=e.getFieldValue(),r=null!==(t=null==n?void 0:n.toString())&&void 0!==t?t:"";return Object.assign({text:r},e.getBBoxByType(lQ.CONTENT_BOX))}prepareText(e,t){const{text:n}=this.getCellInfo(t);return _Q(e.prepareText,n)}}AQ.mediaCache=new Map;let PQ=class extends AQ{prepare(e,t){return Hz(this,void 0,void 0,function*(){return RQ({src:yield this.prepareText(e,t),fallback:e.fallback,timeout:e.timeout,mediaCache:AQ.mediaCache})})}generateConfig(e,t,n){const{y:r,height:o,width:i}=t.getBBoxByType(lQ.CONTENT_BOX),{width:a,height:l}=function(e,t,n,r){if(e<=0||t<=0)return{width:0,height:0};if(n<=0||r<=0)return{width:e,height:t};const o=e/n,i=t/r,a=Math.min(o,i);return{width:Math.floor(n*a),height:Math.floor(r*a)}}(i,o,n.naturalWidth,n.naturalHeight),{x:s}=t.getContentPosition({contentWidth:a});return{style:Object.assign({x:s,y:r,src:n,width:a,height:l},e.config)}}render(e,t){e.appendChild(new VX(t))}destroy(){}};const jQ={loop:!0,autoplay:!0,crossOrigin:!0,controls:!1,muted:!0};class BQ extends AQ{prepare(e,t){return Hz(this,void 0,void 0,function*(){const n=yield this.prepareText(e,t);return new Promise(r=>{const{height:o,width:i}=this.getCellInfo(t),{timeout:a=1e4,fallback:l=""}=e;if(AQ.mediaCache.has(n)){const e=AQ.mediaCache.get(n);return void r(e)}const s=document.createElement("video"),c=setTimeout(()=>{r(l)},a),u=Object.assign(Object.assign({height:o,width:i,src:n},jQ),e.videoConfig);Object.assign(s,u),s.onloadeddata=()=>{clearTimeout(c),AQ.mediaCache.set(n,s),r(s)};const d=()=>{clearTimeout(c),r(l)};["error","abort","stalled"].forEach(e=>{s.addEventListener(e,d)})})})}generateConfig(e,t,n){const{x:r,y:o,width:i,height:a}=this.getCellInfo(t);let l="";if(n instanceof HTMLVideoElement){l=`scale(${i/n.videoWidth}, ${a/n.videoHeight})`}return{style:Object.assign({x:r,y:o,width:i,height:a,fill:{image:n,repetition:"no-repeat",transform:l}},e.config)}}render(e,t){const n=new eU(t),{x:r,y:o,width:i,height:a}=this.getCellInfo(e),l=.25*Math.min(i,a);n.appendChild(new oQ({name:"Play",width:l,height:l,x:r+i/2-l/2,y:o+a/2-l/2,pointerEvents:"none",cursor:"pointer"})),e.appendChild(n)}}class DQ{static getInstance(e){if(!DQ.instances.has(e)){let t;switch(e){case NQ.IMAGE:t=new PQ;break;case NQ.VIDEO:t=new BQ;break;default:t=null}t&&DQ.instances.set(e,t)}return DQ.instances.get(e)}static render(e,t){return DQ.getInstance(e.type).process(e,t)}}DQ.instances=new Map;const zQ=(e=[],t="right")=>e.map(e=>"string"==typeof e?{name:e,position:t}:e),HQ=(e=[],t,n)=>{const r=((e=[])=>e.map(e=>Object.assign(Object.assign({},e),{icons:zQ(e.icons)})))(e),o=vY.find(r,e=>((e,t,n)=>{if(!e)return!1;const{icons:r,displayCondition:o,belongsCell:i}=e;return!vY.isEmpty(r)&&i===n&&r.some(e=>{var n,r,i;return null===(i=null!==(r=null===(n=e.displayCondition)||void 0===n?void 0:n.call(e,t,e.name))&&void 0!==r?r:null==o?void 0:o(t,e.name))||void 0===i||i})})(e,t,n));if(!o)return;const i=o.icons.filter(e=>{var n,r,i,a;return null===(a=null!==(r=null===(n=e.displayCondition)||void 0===n?void 0:n.call(e,t,e.name))&&void 0!==r?r:null===(i=o.displayCondition)||void 0===i?void 0:i.call(o,t,e.name))||void 0===a||a});return Object.assign(Object.assign({},o),{icons:i})},FQ=(e=[],t)=>{if(vY.isEmpty(e))return 0;const{margin:n,size:r}=t;return e.reduce((e,{position:t})=>e+r+("left"===t?n.right:n.left),0)},WQ=(e=[],t)=>{const n=vY.merge({left:[],right:[]},vY.groupBy(e,"position"));return t&&("left"===t.position?n.left.push(t):n.right.unshift(t)),n},GQ=(e,t)=>{const{value:n,field:r}=e;return vY.isEqual(r,WY)?{formattedValue:t||n,value:n}:{formattedValue:n,value:n}},VQ=(e,t)=>{const{y:n,height:r}=e;switch(t){case"top":return n;case"middle":return n+r/2;default:return n+r}},qQ=(e,t,n,r)=>{const o=(n-e)/2;switch(r){case"top":return t+o;case"middle":return t-e/2;default:return t-o-e}},XQ=e=>{const{bbox:t,textWidth:n,textAlign:r,groupedIcons:o,iconStyle:i,isCustomRenderer:a=!1}=e,{x:l,width:s}=t,c=FQ(o.left,i),u=FQ(o.right,i);let d,f,h;switch(r){case"left":f=l,d=l+c,h=d+n+(u&&i.margin.left);break;case"right":d=l+s-u-(a?n:0),f=d-(a?0:n)-c,h=l+s-u+(u&&i.margin.left);break;default:f=l+s/2-(c+n+u)/2,d=f+c+(a?0:n/2),h=f+c+n+(u&&i.margin.left)}return{textX:d,leftIconX:f,rightIconX:h}},UQ=(e,t,n)=>{const{x:r,y:o,width:i,height:a}=t||{},{horizontalBorderWidth:l=0,horizontalBorderColorOpacity:s,horizontalBorderColor:c,verticalBorderWidth:u=0,verticalBorderColor:d,verticalBorderColorOpacity:f,borderDash:h}=n||{},p=vY.isEmpty(h)?"":h,g=[iQ.TOP,iQ.BOTTOM].includes(e)?{lineWidth:l,stroke:c,strokeOpacity:s,lineDash:p}:{lineWidth:u,stroke:d,strokeOpacity:f,lineDash:p};let m=0,v=0,y=0,b=0;if(e===iQ.TOP||e===iQ.BOTTOM){let t=o;t=e===iQ.TOP?o+l/2:o+a-l/2,v=t,b=t,m=r,y=r+i}if(e===iQ.LEFT||e===iQ.RIGHT){let t=r;t=e===iQ.LEFT?r+u/2:r+i-u/2,m=t,y=t,v=o,b=o+a}return{position:{x1:m,x2:y,y1:v,y2:b},style:g}},YQ=e=>Number.parseFloat((vY.toNumber(e)||0).toPrecision(16)),KQ=e=>{var t;return null!==(t=null==e?void 0:e.position)&&void 0!==t?t:"right"},ZQ=(e=[],t)=>vY.findLast(vY.compact(e),e=>e.field instanceof RegExp?e.field.test(t):e.field===t);class QQ extends nU{constructor(e,t){super(e),this.appendInfo=t}}function JQ(e,t){return null==e?void 0:e.appendChild(new eU({style:t}))}function eJ(e,t){return null==e?void 0:e.appendChild(new BX({style:t}))}function tJ(e){const{group:t,textShape:n,style:r,appendInfo:o}=e;return n&&t&&t.contains(n)&&t.removeChild(n),null==t?void 0:t.appendChild(new QQ({style:Object.assign({fontVariant:"normal",fontStyle:"normal",lineWidth:1},r)},o||{}))}function nJ(e,t){return null==e?void 0:e.appendChild(new XX({style:Object.assign({zIndex:100},t)}))}function rJ(e,t,n){if(vY.isEmpty(e))return;(vY.isArray(e)?e:[e]).forEach(e=>{var r;null===(r=null==e?void 0:e.style)||void 0===r||r.setProperty(t,n)})}function oJ(e,t){const n=new oQ(t);return null==e||e.appendChild(n),n}function iJ(e){const{group:t,iconCfg:n,isCollapsed:r,onClick:o}=e,i=oJ(t,Object.assign(Object.assign({},n),{name:r?"Plus":"Minus",cursor:"pointer"}));return vY.isFunction(o)&&i.addEventListener("click",o),i}function aJ(e,t){for(const n in t)e.style[n]=t[n]}function lJ(e,t){const n=this,r=vY.get(n,e);r?aJ(r,t):vY.set(n,e,new eU({style:t}))}function sJ(e){return e===BK.MOBILE||/(?:iPhone|iPad|SymbianOS|Windows Phone|iPod|iOS|Android|Mobile|Phone|Tablet)/i.test(navigator.userAgent)}function cJ(){return/windows/i.test(navigator.userAgent)}const uJ=(e,t)=>{var n;const{data:r,encode:o,type:i}=e,{x:a,y:l,height:s,width:c}=t.getMeta(),u=t.getStyle(sK.DATA_CELL),{cell:d,miniChart:f}=u,h=[],p=vY.map(r,e=>(h.push(null==e?void 0:e[o.y]),{x:e[o.x],y:e[o.y]})),g=vY.max(h)||0,m=vY.min(h)||0;let v=g-m;const{left:y=0,right:b=0,top:x=0,bottom:w=0}=d.padding,C=a+y,S=a+c-b,E=l+x,O=l+s-w,k=O-E,M=null===(n=null==f?void 0:f.bar)||void 0===n?void 0:n.intervalPadding,$=i===$Y.Bar?(S-C-(h.length-1)*M)/h.length+M:(S-C)/(h.length-1)||0,I=[];return{points:vY.map(p,(e,t)=>{const n=C+t*$;let r;if(r=0!==v?O-((null==e?void 0:e.y)-m)/v*k:m>0?E:O,i===$Y.Bar){let t,n;m<0&&g>0&&0!==v?(t=O-(0-m)/v*k,n=Math.abs(r-t),(null==e?void 0:e.y)<0&&(r=t)):(v=vY.max([Math.abs(g),Math.abs(m)]),n=0===v&&0===m&&0===g?0:0===v?k:Math.abs((null==e?void 0:e.y)-0)/v*k,r=m<0?E:O-n);const o=$-M;I.push([o,n])}return[n,r]}),box:I}},dJ=(e,t)=>{if(vY.isEmpty(null==e?void 0:e.data)||vY.isEmpty(t))return;const n=t.getStyle(sK.DATA_CELL),{miniChart:r}=n,{point:o,linkLine:i}=null==r?void 0:r.line,{points:a}=uJ(e,t);var l,s;l=t,s={points:a,stroke:null==i?void 0:i.fill,lineWidth:null==i?void 0:i.size,opacity:null==i?void 0:i.opacity},null==l||l.appendChild(new JX({style:s}));for(let c=0;c<a.length;c++)eJ(t,{cx:a[c][0],cy:a[c][1],r:o.size,fill:o.fill,fillOpacity:null==o?void 0:o.opacity})},fJ=(e,t,n)=>{const r=Number(t)-Number(e);return Number.isNaN(r)||Number(e)<0?n.bad:r<=.1?n.good:r>.1&&r<=.2?n.satisfactory:n.bad},hJ=e=>{var t,n,r,o,i,a,l,s;if(vY.isEmpty(e))return;const{x:c,y:u,height:d,width:f}=e.getBBoxByType(lQ.PADDING_BOX),h=e.findFieldCondition(null===(t=e.cellConditions)||void 0===t?void 0:t.interval);if(null==h?void 0:h.mapping){const t=e.mappingValue(h);if(!t)return;const p=e.getValueRange(),g=t.isCompare?t:p,m=YQ(null!==(n=g.minValue)&&void 0!==n?n:p.minValue),v=YQ(null!==(r=g.maxValue)&&void 0!==r?r:p.maxValue),y=vY.isNil(null==t?void 0:t.fieldValue)?YQ(e.getMeta().fieldValue):YQ(null==t?void 0:t.fieldValue);if(y<m||y>v)return;const b=e.getStyle(),x=null===(i=null===(o=null==b?void 0:b.miniChart)||void 0===o?void 0:o.interval)||void 0===i?void 0:i.height,w=null===(l=null===(a=null==b?void 0:b.miniChart)||void 0===a?void 0:a.interval)||void 0===l?void 0:l.fill,C=((e=0,t=0)=>{if(e=YQ(e),t=YQ(t),e===t)return()=>({zeroScale:0,scale:0});const n=e>=0,r=t>=0&&e<=0,o=r?0:n?e:t,i=t-e;return t=>{const a=n?0:1;return{zeroScale:r?vY.clamp(Math.abs(0-e)/i,0,1):a,scale:vY.clamp((t-o)/i,-1,1)}}})(m,v),{zeroScale:S,scale:E}=C(y);return JQ(e,{x:c+f*S,y:u+d/2-x/2,width:f*E,height:x,fill:null!==(s=t.fill)&&void 0!==s?s:w})}},pJ=(e,t)=>{const n=t.getStyle(sK.DATA_CELL),{x:r,y:o,height:i,width:a}=t.getMeta();if(vY.isEmpty(e))return void t.renderTextShape(Object.assign(Object.assign({},n.text),{x:r+a-n.cell.padding.right,y:o+i/2,text:""}));const l=n.miniChart.bullet,{progressBar:s,comparativeMeasure:c,rangeColors:u,backgroundColor:d}=l,{measure:f,target:h}=e,p=Math.max(Number(f),0),g=Math.max(Number(h),0),m=((e,t={min:0,max:0})=>{var n,r;const o=Number(e);if(Number.isNaN(o))return e;const i=null!==(n=null==t?void 0:t.min)&&void 0!==n?n:t,a=null!==(r=null==t?void 0:t.max)&&void 0!==r?r:t;return new Intl.NumberFormat("en-US",{minimumFractionDigits:i,maximumFractionDigits:a,useGrouping:!1,style:"percent"}).format(o)})(f,2),v=(null==s?void 0:s.widthPercent)>1?(null==s?void 0:s.widthPercent)/100:null==s?void 0:s.widthPercent,y=n.cell.padding,b=a-y.left-y.right,x=v*b,w=b-x,C=r+a-y.right-x,S=o+i/2-s.height/2;JQ(t,{x:C,y:S,width:x,height:s.height,fill:d});const E=Math.max(Math.min(x*p,x),0);JQ(t,{x:C,y:S+(s.height-s.innerHeight)/2,width:E,height:s.innerHeight,fill:fJ(p,g,u)});const O=C+x*g;nJ(t,{x1:O,y1:o+(i-c.height)/2,x2:O,y2:o+(i-c.height)/2+c.height,stroke:null==c?void 0:c.fill,lineWidth:c.width,opacity:null==c?void 0:c.opacity});const k=w-y.right;t.renderTextShape(Object.assign(Object.assign({},n.text),{x:C-y.right,y:o+i/2,text:m,wordWrapWidth:k}))},gJ=(e,t)=>{switch(null==t?void 0:t.type){case $Y.Line:dJ(t,e);break;case $Y.Bar:((e,t)=>{if(vY.isEmpty(null==e?void 0:e.data)||vY.isEmpty(t))return;const n=t.getStyle(sK.DATA_CELL),{miniChart:r}=n,{bar:o}=r,{points:i,box:a}=uJ(e,t);for(let l=0;l<i.length;l++)JQ(t,{x:i[l][0],y:i[l][1],width:a[l][0],height:a[l][1],fill:o.fill,fillOpacity:o.opacity})})(t,e);break;default:pJ(t,e)}},mJ=(e,t)=>{const n=xQ(e),r=null!=t?t:MY,o=vY.isNumber(n)&&Number.isNaN(n),i=""===n||n===YY;return vY.isNil(n)||o||i?r:xQ(n)},vJ=e=>e===YY?MY:e,yJ=(e,t)=>(e=>vY.isNil(e)||""===e||0===Number(String(e).replace(/[^0-9.]+/g,"")))(e)||e===t,bJ=(e,t,n,r="left")=>{const{right:o=0,left:i=0}=t,a=n||0;return"left"===r?e+o/2+a:"right"===r?e-o/2-a:e+i/2+a},xJ=({rowIndex:e,colIndex:t,meta:n,data:r,textStyle:o,textCondition:i,cell:a})=>{var l;const s=null===(l=null==i?void 0:i.mapping)||void 0===l?void 0:l.call(i,r,{rowIndex:e,colIndex:t,meta:n},a);return Object.assign(Object.assign({},o),s)},wJ=(e,t)=>vY.isFunction(null==t?void 0:t.cell)?null==t?void 0:t.cell(e):null==t?void 0:t.cell,CJ=(e,t,n=!0)=>{var r,o,i,a,l,s,c,u,d,f;const{x:h,y:p,height:g,width:m}=e.getBBoxByType(lQ.CONTENT_BOX),v=e.getMeta(),y=t||v.fieldValue,{values:b}=y,{options:x}=v.spreadsheet,w=null===(o=null===(r=null==x?void 0:x.conditions)||void 0===r?void 0:r.text)||void 0===o?void 0:o[0],C=null===(a=null===(i=null==x?void 0:x.conditions)||void 0===i?void 0:i.icon)||void 0===a?void 0:a[0];if(!vY.isArray(b))return void gJ(e,b);const S=null===(c=null===(s=null===(l=x.style)||void 0===l?void 0:l.dataCell)||void 0===s?void 0:s.valuesCfg)||void 0===c?void 0:c.widthPercent;let E=0;if(null==y?void 0:y.label){const t=e.getStyle(sK.DATA_CELL).bolderText;E=g/(b.length+1),e.renderTextShape(Object.assign(Object.assign({},t),{x:h,y:p+E/2,text:y.label,maxLines:1,wordWrapWidth:m,wordWrap:!0,textOverflow:"ellipsis"}),{shallowRender:!0})}const{cellStyle:O,textStyle:k}=(e=>{var t,n;const{isTotals:r}=e.getMeta(),o=null===(n=(t=e).isMeasureField)||void 0===n?void 0:n.call(t),i=e.getStyle(e.cellType||sK.DATA_CELL);let a;return a=o?null==i?void 0:i.measureText:r?null==i?void 0:i.bolderText:null==i?void 0:i.text,{cellStyle:i,textStyle:a}})(e),M=null==O?void 0:O.icon,$=C&&C.mapping&&{name:"",size:null==M?void 0:M.size,margin:null==M?void 0:M.margin,position:KQ(C)};let I;const N=((e,t,n)=>{const{x:r,y:o,width:i,height:a}=e,l=a/vY.size(t),s=[];let c,u,d,f=0;const h=vY.map(n,e=>e>1?e/100:e);for(let p=0;p<vY.size(t);p++){u=o+l*p;const e=[];c=r,f=0;for(let n=0;n<vY.size(t[p]);n++)d=vY.isEmpty(h)?i/vY.size(t[0]):i*h[n],c=bJ(r,{left:0,right:0},f,"left"),f+=d,e.push({x:c,y:u,width:d,height:l});s.push(e)}return s})({x:h,y:p+E,height:g-E,width:m},b,S);for(let T=0;T<b.length;T++){const t=vY.clone(b[T]);for(let r=0;r<t.length;r++){I=t[r];const o=n?xJ({rowIndex:T,colIndex:r,meta:v,data:I,textStyle:k,textCondition:w,cell:e}):k,i=N[T][r].width-(null==M?void 0:M.size)-("left"===(null==$?void 0:$.position)?null===(u=null==M?void 0:M.margin)||void 0===u?void 0:u.right:null===(d=null==M?void 0:M.margin)||void 0===d?void 0:d.left),a={left:[],right:[]};$&&a[$.position].push($),e.renderTextShape(Object.assign(Object.assign({},o),{x:0,y:0,maxLines:1,text:I,wordWrapWidth:i}),{shallowRender:!0});const l=e.getActualTextWidth(),{textX:s,leftIconX:c,rightIconX:h}=XQ({bbox:N[T][r],textAlign:o.textAlign,textWidth:l,iconStyle:M,groupedIcons:a}),p=VQ(N[T][r],o.textBaseline);if(e.updateTextPosition({x:s,y:p}),C&&n){const t=null===(f=null==C?void 0:C.mapping)||void 0===f?void 0:f.call(C,I,{rowIndex:T,colIndex:r,meta:null==e?void 0:e.getMeta()},e),n="left"===(null==$?void 0:$.position)?c:h,i=qQ(M.size,p,o.fontSize,o.textBaseline);if(t){const r=oJ(e,{x:n,y:i,name:t.icon,width:null==M?void 0:M.size,height:null==M?void 0:M.size,fill:t.fill});e.addConditionIconShape(r)}}}}},SJ=(e,t=1)=>(null==e?void 0:e.width)*t;class EJ extends FX{get actualText(){return this.getMultiLineActualTexts().join("")}constructor(e,t,...n){super({}),this.textShapes=[],this.conditionIconShapes=[],this.stateShapes=new Map,this.meta=e,this.spreadsheet=t,this.theme=t.theme,this.conditions=this.spreadsheet.options.conditions,this.groupedIcons={left:[],right:[]},this.handleRestOptions(...n),this.shouldInit()&&this.initCell()}handleRestOptions(...e){}getResizedTextMaxLines(){}getMeta(){return this.meta}setMeta(e){this.meta=e}getIconStyle(){var e;return null===(e=this.theme[this.cellType])||void 0===e?void 0:e.icon}isShallowRender(){return!1}getCellTextWordWrapStyle(e){var t,n;const{wordWrap:r,maxLines:o,textOverflow:i}=(null===(n=null===(t=this.spreadsheet.options)||void 0===t?void 0:t.style)||void 0===n?void 0:n[e||this.cellType])||{};return{wordWrap:r,maxLines:o,textOverflow:i}}getActualText(){return this.getMultiLineActualTexts().join("")}getActualTextWidth(){var e;return(null===(e=this.textShape)||void 0===e?void 0:e.getComputedTextLength())||0}getActualTextHeight(){return this.getMultiLineActualTextHeight()}getMultiLineActualTexts(){var e,t,n;return null===(e=this.textShape)||void 0===e||e.getGeometryBounds(),(null===(n=null===(t=this.textShape)||void 0===t?void 0:t.parsedStyle.metrics)||void 0===n?void 0:n.lines)||[]}getMultiLineActualTextWidth(){return vY.sumBy(this.getTextLineBoundingRects(),"width")||0}getMultiLineActualTextHeight(){return vY.sumBy(this.getTextLineBoundingRects(),"height")||0}getOriginalText(){return this.originalText}isTextOverflowing(){var e;return null===(e=this.textShape)||void 0===e?void 0:e.isOverflowing()}isMultiLineText(){const{parsedStyle:e}=this.getTextShape();return(null==e?void 0:e.maxLines)>1&&this.getTextLineBoundingRects().length>1}getTextLineBoundingRects(){var e;return(null===(e=this.textShape)||void 0===e?void 0:e.getLineBoundingRects())||[]}getTextLineHeight(){var e,t,n;return(null===(n=null===(t=null===(e=this.textShape)||void 0===e?void 0:e.parsedStyle)||void 0===t?void 0:t.metrics)||void 0===n?void 0:n.lineHeight)||16}getEmptyPlaceholder(){const{options:{placeholder:e}}=this.spreadsheet;return wJ(this,e)}getFieldValue(){return this.getFormattedFieldValue().formattedValue}shouldInit(){const{width:e,height:t}=this.meta;return e>0&&t>0}getStyle(e){return vY.get(this.theme,e||this.cellType)}getLinkFieldShape(){return this.linkFieldShape}getBackgroundShape(){return this.backgroundShape}getStateShapes(){return this.stateShapes}getResizeAreaStyle(){return this.getStyle("resizeArea")}shouldDrawResizeAreaByType(e,t){const{resize:n}=this.spreadsheet.options.interaction;return vY.isBoolean(n)?n:vY.isFunction(null==n?void 0:n.visible)?null==n?void 0:n.visible(t):null==n?void 0:n[e]}getBBoxByType(e=lQ.BORDER_BOX){const t={x:this.meta.x,y:this.meta.y,height:this.meta.height,width:this.meta.width},n=this.getStyle()||this.theme.dataCell;return((e,t,n,r)=>{if(r===lQ.BORDER_BOX)return e;let{x:o,y:i,width:a,height:l}=e;const{padding:s,horizontalBorderWidth:c=0,verticalBorderWidth:u=0}=n;return t.forEach(e=>{const t=[iQ.BOTTOM,iQ.TOP].includes(e)?c:u;switch(e){case iQ.TOP:i+=t,l-=t;break;case iQ.BOTTOM:l-=t;break;case iQ.LEFT:o+=t,a-=t;break;default:a-=t}}),r===lQ.CONTENT_BOX&&(o+=null==s?void 0:s.left,i+=null==s?void 0:s.top,a-=(null==s?void 0:s.left)+(null==s?void 0:s.right),l-=(null==s?void 0:s.top)+(null==s?void 0:s.bottom)),{x:o,y:i,width:a,height:l}})(t,this.getBorderPositions(),null==n?void 0:n.cell,e)}drawBorders(){this.getBorderPositions().forEach(e=>{var t;const{position:n,style:r}=UQ(e,this.getBBoxByType(),null===(t=this.getStyle())||void 0===t?void 0:t.cell);nJ(this,Object.assign(Object.assign({},n),r))})}drawInteractiveBorderShape(){this.stateShapes.set("interactiveBorderShape",JQ(this,Object.assign(Object.assign({},this.getBBoxByType(lQ.PADDING_BOX)),{visibility:"hidden",pointerEvents:"none"})))}drawInteractiveBgShape(){this.stateShapes.set("interactiveBgShape",JQ(this,Object.assign(Object.assign({},this.getBBoxByType()),{visibility:"hidden",pointerEvents:"none"})))}drawBackgroundShape(){const{backgroundColor:e,backgroundColorOpacity:t}=this.getBackgroundColor();this.backgroundShape=JQ(this,Object.assign(Object.assign({},this.getBBoxByType()),{fill:e,fillOpacity:t}))}renderTextShape(e,t){const n=mJ(e.text,this.getEmptyPlaceholder()),r=(null==t?void 0:t.shallowRender)||this.isShallowRender();return this.textShape=tJ({group:this,textShape:r?void 0:this.textShape,style:Object.assign(Object.assign({},e),{text:`${n}`})}),this.addTextShape(this.textShape),r||(this.originalText=n),this.textShape}updateTextPosition(e){var t,n,r,o;const i=this.getTextPosition();null===(t=this.textShape)||void 0===t||t.attr("x",null!==(n=null==e?void 0:e.x)&&void 0!==n?n:null==i?void 0:i.x),null===(r=this.textShape)||void 0===r||r.attr("y",null!==(o=null==e?void 0:e.y)&&void 0!==o?o:null==i?void 0:i.y)}drawTextOrCustomRenderer(){const e=this.getRenderer();e?DQ.render(e,this).then(()=>{this.afterDrawText()}):(this.drawTextShape(),this.afterDrawText())}drawTextShape(){const e=Math.max(this.getMaxTextWidth(),0)+1,t=this.getTextStyle(),n=this.getResizedTextMaxLines()||(null==t?void 0:t.maxLines),r=this.getFieldValue();this.renderTextShape(Object.assign(Object.assign({},t),{x:0,y:0,text:r,wordWrapWidth:e,maxLines:n})),this.isShallowRender()||(this.updateTextPosition(),this.drawLinkField(this.meta))}drawLinkFieldShape(e,t){if(!e)return;const{device:n}=this.spreadsheet.options;if(!sJ(n)){const e=this.getTextStyle(),n=this.getTextPosition(),r=this.getActualTextWidth();let o=n.x;"center"===e.textAlign?o-=r/2:"right"===e.textAlign&&(o-=r);const{bottom:i}=this.textShape.getBBox();this.linkFieldShape=nJ(this,{x1:o,y1:i+1,x2:o+r,y2:i+1,stroke:t,lineWidth:1})}this.textShape.style.fill=t,this.textShape.style.cursor="pointer",this.textShape.appendInfo={isLinkFieldText:!0,meta:this.meta}}getLinkFieldStyle(){return this.getTextStyle().linkTextFill}drawLinkField(e){const{linkFields:t=[]}=this.spreadsheet.options.interaction,n=this.getLinkFieldStyle(),r=((e,t)=>vY.isFunction(e)?e(t):e.some(e=>e===t.field||e===t.id||e===t.valueField))(t,e);this.drawLinkFieldShape(r,n)}updateByState(e,t){this.spreadsheet.interaction.setInteractedCells(t);const n=vY.get(this.theme,`${this.cellType}.cell.interactionState.${e}`);vY.each(n,(e,t)=>{vY.keys(vY.pickBy(dK,e=>vY.includes(e,t))).forEach(n=>{const r=this.stateShapes.has(n),o=r?this.stateShapes.get(n):this[n],i=vY.isArray(o)?o:[o];if(r&&i.forEach(e=>{e.setAttribute("visibility","visible")}),"interactiveBorderShape"===n&&"borderWidth"===t&&vY.isNumber(e)){const t=this.getInteractiveBorderShapeStyle(e);vY.each(t,(e,t)=>{rJ(i,t,e)})}rJ(i,uK[t],e)})})}getInteractiveBorderShapeStyle(e){const{x:t,y:n,height:r,width:o}=this.getBBoxByType(lQ.PADDING_BOX),i=e/2;return{x:t+i,y:n+i,width:o-e,height:r-e}}hideInteractionShape(){this.stateShapes.forEach(e=>{rJ(e,uK.backgroundOpacity,0),rJ(e,uK.backgroundColor,"transparent"),rJ(e,uK.borderOpacity,0),rJ(e,uK.borderWidth,1),rJ(e,uK.borderColor,"transparent")})}clearUnselectedState(){rJ(this.backgroundShape,uK.backgroundOpacity,1),rJ(this.textShapes,uK.textOpacity,1),rJ(this.linkFieldShape,uK.opacity,1)}getTextShape(){return this.textShape}getTextShapes(){return this.textShapes||[this.textShape]}addTextShape(e){e&&this.textShapes.push(e)}getConditionIconShape(){return this.conditionIconShape}getConditionIconShapes(){return this.conditionIconShapes||[this.conditionIconShape]}addConditionIconShape(e){e&&this.conditionIconShapes.push(e)}resetTextAndConditionIconShapes(){this.textShapes=[],this.conditionIconShapes=[]}get cellConditions(){return this.conditions}drawConditionIconShapes(){const e=this.getIconConditionResult();if(e){const t=this.getIconPosition(),{size:n}=this.getStyle().icon;this.conditionIconShape=oJ(this,Object.assign(Object.assign({},t),{name:null==e?void 0:e.name,width:n,height:n,fill:null==e?void 0:e.fill})),this.addConditionIconShape(this.conditionIconShape)}}getTextConditionMappingResult(){var e;const t=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.text);return(null==t?void 0:t.mapping)?this.mappingValue(t):null}getContainConditionMappingResultTextStyle(e){const t=this.getDefaultTextFill(e.fill),n=this.getTextConditionMappingResult();return Object.assign(Object.assign(Object.assign({},e),n),{fill:(null==n?void 0:n.fill)||t})}getDefaultTextFill(e){const{backgroundColor:t,intelligentReverseTextColor:n}=this.getBackgroundColor();return!TZ(t)||e!==RY&&((e,t)=>QK.isReadable(e,t,{level:"AA",size:"small"}))(t,e)||!n||(e=_Y),e||""}getBackgroundConditionFill(){var e;const t=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.background);if(null==t?void 0:t.mapping){const e=this.mappingValue(t);if(e)return{backgroundColor:e.fill,backgroundColorOpacity:1,intelligentReverseTextColor:e.intelligentReverseTextColor||!1}}return{intelligentReverseTextColor:!1}}getIconConditionResult(){var e;const t=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.icon);if(null==t?void 0:t.mapping){const e=this.mappingValue(t);if(e&&e.icon)return{name:e.icon,position:KQ(t),fill:e.fill,isConditionIcon:!0}}}getActionAndConditionIconWidth(e){const{left:t,right:n}=this.groupedIcons,r=this.getStyle().icon;return e?FQ(this.groupedIcons[e],r):FQ(t,r)+FQ(n,r)}getCrossBackgroundColor(e){const{crossBackgroundColor:t,backgroundColorOpacity:n}=this.getStyle().cell;return t&&e%2==0?{backgroundColorOpacity:n,backgroundColor:t}:{backgroundColorOpacity:n,backgroundColor:this.getStyle().cell.backgroundColor}}getMaxLinesByCustomHeight(e){var t;const{targetCell:n=this,displayHeight:r=this.meta.height,isCustomHeight:o=!1}=e,i=n||this,a=null===(t=this.spreadsheet.options.style)||void 0===t?void 0:t[i.cellType];if(!((null==a?void 0:a.maxLines)>1&&(null==a?void 0:a.wordWrap))||!o)return;const{cell:l}=null==i?void 0:i.getStyle(),s=l.padding.top+l.padding.bottom,c=null==i?void 0:i.getTextLineHeight();return Math.max(1,Math.round((r-s)/c))}getRenderer(){var e,t;return null===(t=null===(e=this.spreadsheet.dataCfg.meta)||void 0===e?void 0:e.find(e=>e.field===this.getMetaField()))||void 0===t?void 0:t.renderer}}function OJ(e,t=2){return vY.floor(e,t)}function kJ(e){return vY.isNumber(e)?OJ(e,0):e}const MJ=(e,t)=>t>0&&e<t,$J=(e,t,n)=>t>0&&e>=n-t,IJ=(e,t,n)=>n>0&&e<t+n,NJ=(e,t,n)=>n>0&&e>=t+1-n,TJ=(e,t,n)=>{if(e){const[r,o]=e.getPosition();e.translate(t-r,n-o)}},LJ=(e=[])=>{const t=(e=>{const t=[],n=e=>{e.forEach(e=>{"string"!=typeof e&&e.children?n(e.children):t.push(e)})};return n(e),t})(e);return t.map(e=>"string"==typeof e?e:e.field)};let RJ=class e extends FX{constructor(e){super(),this.cfg=e,this.render()}layout(){this.addCornerBottomBorder(),this.addCornerRightBorder(),this.addSplitLineShadow()}render(){this.removeChildren(),this.layout()}static getHorizontalBorderWidth(e){var t;const{horizontalBorderWidth:n}=null===(t=e.theme)||void 0===t?void 0:t.splitLine;return n}static getVerticalBorderWidth(e){var t;const{splitLine:n,cornerCell:r,colCell:o,dataCell:i}=e.theme;return e.isPivotMode()?null==n?void 0:n.verticalBorderWidth:Math.max(i.cell.verticalBorderWidth,(null===(t=e.options.seriesNumber)||void 0===t?void 0:t.enable)?r.cell.verticalBorderWidth:o.cell.verticalBorderWidth)}onBorderScroll(e){if(e!==this.cfg.scrollX){this.cfg.scrollX=e;const{position:t}=this.cfg;TJ(this,t.x-e,0),this.render()}}onChangeShadowVisibility(e,t){const{colCount:n,trailingColCount:r}=this.cfg.spreadsheet.facet.getFrozenOptions(),o=0===n&&e>0,i=0===r&&OJ(e)<OJ(t);this.cfg.showViewportLeftShadow===o&&this.cfg.showViewportRightShadow===i||(this.cfg.showViewportLeftShadow=o,this.cfg.showViewportRightShadow=i,this.render())}getCornerRightBorderSizeForPivotMode(){var e;const{cornerHeight:t,viewportHeight:n,position:r,spreadsheet:o}=this.cfg,{horizontalBorderWidth:i}=null===(e=o.theme)||void 0===e?void 0:e.splitLine;return{y:r.y,height:t+i+n}}addCornerRightHeadBorder(){var t,n;const{cornerWidth:r,cornerHeight:o,position:i,spreadsheet:a}=this.cfg,{verticalBorderColor:l,verticalBorderColorOpacity:s}=null===(t=a.theme)||void 0===t?void 0:t.splitLine,c=e.getVerticalBorderWidth(a),u=e.getHorizontalBorderWidth(a),d=i.x+r+c/2,{verticalBorderColor:f,verticalBorderColorOpacity:h,backgroundColor:p,backgroundColorOpacity:g}=(null===(n=a.options.seriesNumber)||void 0===n?void 0:n.enable)||a.isPivotMode()?a.theme.cornerCell.cell:a.theme.colCell.cell;[{stroke:p,strokeOpacity:g},{stroke:l||f,strokeOpacity:s||h}].forEach(({stroke:e,strokeOpacity:t})=>{nJ(this,{x1:d,y1:i.y,x2:d,y2:i.y+o+u,lineWidth:c,stroke:e,strokeOpacity:t})})}addCornerRightBorder(){var t;const{cornerWidth:n,cornerHeight:r,viewportHeight:o,position:i,spreadsheet:a}=this.cfg,{verticalBorderColor:l,verticalBorderColorOpacity:s}=null===(t=a.theme)||void 0===t?void 0:t.splitLine,c=e.getVerticalBorderWidth(a),u=e.getHorizontalBorderWidth(a),d=i.x+n+c/2;this.addCornerRightHeadBorder();const{verticalBorderColor:f,verticalBorderColorOpacity:h,backgroundColor:p,backgroundColorOpacity:g}=a.theme.dataCell.cell;[{stroke:p,strokeOpacity:g},{stroke:l||f,strokeOpacity:s||h}].forEach(({stroke:e,strokeOpacity:t})=>{nJ(this,{x1:d,y1:i.y+r+u,x2:d,y2:i.y+r+u+o,lineWidth:c,stroke:e,strokeOpacity:t})})}addCornerBottomBorder(){var t,n;const r=this.cfg,{cornerWidth:o,cornerHeight:i,viewportWidth:a,position:l,scrollX:s=0,spreadsheet:c}=r,{horizontalBorderColor:u,horizontalBorderWidth:d,horizontalBorderColorOpacity:f}=null===(t=c.theme)||void 0===t?void 0:t.splitLine,{horizontalBorderColor:h,horizontalBorderColorOpacity:p}=(null===(n=c.options.seriesNumber)||void 0===n?void 0:n.enable)||c.isPivotMode()?c.theme.cornerCell.cell:c.theme.colCell.cell,g=l.x,m=g+o+e.getVerticalBorderWidth(c)+a+(c.isFrozenRowHeader()?0:s),v=l.y+i+d/2;this.cornerBottomBorder=nJ(this,{x1:g,y1:v,x2:m,y2:v,stroke:u||h,lineWidth:d,opacity:f||p})}addSplitLineShadow(){var e;const t=this.cfg,{spreadsheet:n}=t,r=null===(e=n.theme)||void 0===e?void 0:e.splitLine;n.isPivotMode()&&(null==r?void 0:r.showShadow)&&n.isFrozenRowHeader()&&(this.addSplitLineLeftShadow(),this.addSplitLineRightShadow())}addSplitLineLeftShadow(){var t;if(!this.cfg.showViewportLeftShadow)return;const{cornerWidth:n,cornerHeight:r,viewportHeight:o,position:i,spreadsheet:a}=this.cfg,{shadowColors:l,shadowWidth:s,horizontalBorderWidth:c}=null===(t=a.theme)||void 0===t?void 0:t.splitLine,u=i.x+n+e.getVerticalBorderWidth(a),d=i.y;this.appendChild(new eU({style:{x:u,y:d,width:s,height:r+c+o,fill:`l (0) 0:${null==l?void 0:l.left} 1:${null==l?void 0:l.right}`}}))}addSplitLineRightShadow(){var t;if(!this.cfg.showViewportRightShadow)return;const{cornerWidth:n,viewportWidth:r,position:o,spreadsheet:i}=this.cfg,{shadowColors:a,shadowWidth:l}=null===(t=i.theme)||void 0===t?void 0:t.splitLine,s=o.x+n+e.getVerticalBorderWidth(i)+r-l,{y:c,height:u}=this.getCornerRightBorderSizeForPivotMode();this.appendChild(new eU({style:{x:s,y:c,width:l,height:u,fill:`l (0) 0:${null==a?void 0:a.right} 1:${null==a?void 0:a.left}`}}))}};var _J,AJ;(AJ=_J||(_J={}))[AJ.Start=0]="Start",AJ[AJ.Center=1]="Center",AJ[AJ.End=2]="End";const PJ=e=>["left","top"].includes(e)?_J.Start:["center","middle"].includes(e)?_J.Center:_J.End,jJ=(e,t,n,r)=>{const{isCustomRenderer:o=!1}=r||{},{align:i,size:a,padding:l}=n,{textSize:s,iconStartSize:c=0,iconEndSize:u=0}=a;let{betweenTextAndEndIcon:d=0}=l;d=u?d:0;const f=s+c+u,h=t.start-l.start,p=h+(t.size+l.start+l.end),g=t.start+t.size,m=e.start+e.size;function v(e){switch(i){case _J.Start:return{iconStart:e.start,textStart:e.start+c,iconEnd:e.start+c+s+d};case _J.Center:const t=e.start+e.size/2-f/2;return{iconStart:t,textStart:t+c+(o?0:s/2),iconEnd:t+c+s+d};default:const n=e.start+e.size;return{iconStart:n-u-s-c,textStart:n-u-(o?s:0),iconEnd:n-u+d}}}if(h>=e.start&&p<=m)return v(t);if(h<e.start&&p<=m){const n={start:e.start+(i!==_J.End?l.start:0),size:t.size-(e.start-t.start)-(i!==_J.End?l.start:0)};return n.size<f&&(n.size=f,n.start=g-f),v(n)}if(h>=e.start&&p>m){const e={start:t.start,size:t.size-(g-m)-(i!==_J.Start?l.end:0)};return e.size<f&&(e.size=f,e.start=t.start),v(e)}const y={start:e.start+l.start,size:e.size-l.start-l.end};if(y.size<f){const e=t.start+t.size/2-f/2,n=e+f;e>y.start||(n>y.start+y.size?y.start=e:y.start-=f-y.size),y.size=f}return v(y)},BJ=e=>e.includes(IK)?"id":"field",DJ=(e,t=[])=>{const n=e.facet.getInitColIndexLeafNodes();return vY.compact(t.map(e=>{const t=BJ(e);return n.find(n=>n[t]===e)}))},zJ=(e,...t)=>Hz(void 0,[e,...t],void 0,function*(e,t=[],n=!1){const r=(...t)=>Hz(void 0,[...t],void 0,function*(t=[],n=[]){e.setOptions({interaction:{hiddenColumnFields:t}}),e.interaction.reset(),e.store.set("hiddenColumnsDetail",n),yield e.render({reloadData:!1,rebuildHiddenColumnsDetail:!1})});if(vY.isEmpty(t)&&n)return void(yield r());const o=e.store.get("hiddenColumnsDetail",[]),{hiddenColumnFields:i=[]}=e.options.interaction;if(vY.isEqual(t,i)&&!n)return;const a=vY.uniq([...t,...i]),l=DJ(e,a).every((e,t,n)=>{const r=n[t+1];return!r||1===Math.abs(e.colIndex-r.colIndex)}),s=((e,t=[])=>{if(vY.isEmpty(t))return{prev:null,next:null};const n=e.facet.getInitColIndexLeafNodes(),r=DJ(e,t).map(e=>n.findIndex(t=>t.id===e.id)),o=Math.max(...r),i=Math.min(...r),a=n.find((e,t)=>t===o+1);return{prev:n.find((e,t)=>t===i-1)||null,next:a||null}})(e,l?a:t),c={hideColumnNodes:DJ(e,t),displaySiblingNode:s},u=((e,t)=>t.findIndex(t=>e.hideColumnNodes.some(e=>{var n;return null===(n=t.hideColumnNodes)||void 0===n?void 0:n.find(t=>t.id===e.id)})))(c,o);let d=[];d=-1!==u?o.map((e,t)=>t===u?c:e):[...o,c],e.emit(BY.COL_CELL_HIDDEN,c,d),yield r(a,d)}),HJ=(e,...t)=>Hz(void 0,[e,...t],void 0,function*(e,t=[],n=!1){vY.isEmpty(t)&&n&&(yield zJ(e,t,!0));const r=(e=>{const{columns:t=[]}=e.dataCfg.fields;return e.isTableMode()&&!e.isCustomColumnFields()?t:e.facet.getInitColIndexLeafNodes().map(({id:e})=>e)})(e),o=((e,t)=>{if(vY.isEmpty(t))return[];let n=Number.NEGATIVE_INFINITY;return e.reduce((e,r,o)=>{if(!t.includes(r))return e;if(o===n+1){const t=vY.last(e);null==t||t.push(r)}else{const t=[r];e.push(t)}return n=o,e},[])})(LJ(r),t);yield Promise.all(o.map(t=>Hz(void 0,void 0,void 0,function*(){yield zJ(e,t,n)})))}),FJ=(e,t,n)=>((e,t)=>{const n=((e,t)=>t?null==e?void 0:e[t]:(null==e?void 0:e.next)||(null==e?void 0:e.prev))(e,t);return null==n?void 0:n.id})(e,n)===t,WJ=(e,t,n)=>{var r;const o=[],i=(null===(r=e.options.interaction)||void 0===r?void 0:r.hiddenColumnFields)||[],a=DJ(e,i),l=new Map(a.map(e=>[e.id,e])),s=e.facet.getInitColIndexLeafNodes(),c="prev"===n?1:-1;for(let u=s.findIndex(e=>e.id===t)+c;u<s.length;u+=c){const e=s[u];if(!e)break;if(!l.has(null==e?void 0:e.id))break;o.push(e)}return vY.sortBy(o,"colIndex")},GJ=e=>{const{type:t,theme:n,width:r,height:o}=e,i=zz(e,["type","theme","width","height"]),a=t===LK.Horizontal?n.size:void 0,l=t===LK.Vertical?n.size:void 0;return{style:{fill:n.background,fillOpacity:n.backgroundOpacity,cursor:`${t}-resize`,width:a,height:l},appendInfo:Object.assign(Object.assign({},i),{isResizeArea:!0,type:t,width:r,height:o,size:n.size})}},VJ=(e,t)=>{var n;if(!(null===(n=e.facet)||void 0===n?void 0:n.foregroundGroup))return;return e.facet.foregroundGroup.getElementById(t)||e.facet.foregroundGroup.appendChild(new FX({id:t,style:{zIndex:5}}))},qJ=(e,t,n)=>{const{scrollX:r=0,scrollY:o=0}=null!=n?n:{},i=!(e.x-r>t.x+t.width||e.x+e.width-r<t.x),a=!(e.y-o>t.y+t.height||e.y+e.height-o<t.y);return i&&a},XJ=(e,t)=>{const n=t.getMeta().id;return e.some(e=>vY.isEqual(e.id,n))},UJ=(e,t)=>`${e}-${t}`,YJ=e=>e.type===sK.DATA_CELL,KJ=(e,t,n)=>{var r;const{rowHeader:o,colHeader:i,currentRow:a,currentCol:l}=n.interaction.getSelectedCellHighlight(),s=t.cellType===sK.ROW_CELL,c=n.isTableMode()&&(null===(r=n.options.seriesNumber)||void 0===r?void 0:r.enable)&&o&&s;(a||c)&&((e,t)=>{vY.forEach(e,e=>{YJ(e)&&e.rowIndex===t.getMeta().rowIndex&&t.updateByState(aK.SELECTED)})})(e,t),l&&((e,t)=>{vY.forEach(e,e=>{YJ(e)&&e.colIndex===t.getMeta().colIndex&&t.updateByState(aK.SELECTED)})})(e,t),(o||i)&&((e,t)=>{vY.forEach(e,e=>{YJ(e)&&e.rowIndex===t.getMeta().rowIndex&&e.colIndex===t.getMeta().colIndex&&t.updateByState(aK.SELECTED)})})(e,t)};function ZJ(e=[]){return e.filter(e=>e!==WY)}function QJ(e){return e===XY}function JJ(e={},t=[],n=qY){return t.reduce((t,r)=>{const o=e[r];return r in e?t.push(bQ(o)):t.push(n),t},[])}function e0(e,t){const n=t.filter(t=>t in e);return vY.isEmpty(n)&&n.push(KY),n}function t0(e={},t=[],n){const r=[];function o(e,t,n){return t.reduce((t,r)=>{const o=e[r];return r in e?t.push(bQ(o)):r===WY&&n?t.push(n):t.push(qY),t},[])}return n?n.forEach(n=>{r.push(o(e,t,n))}):r.push(o(e,t)),r}function n0(e,t){return e.concat(t).filter(e=>e!==WY).join(IK)}function r0(e){const{rowDimensionValues:t,colDimensionValues:n,isFirstCreate:r,onFirstCreate:o,rowFields:i,colFields:a,rowPivotMeta:l,colPivotMeta:s,prefix:c=""}=e,u=(e,t,n,i)=>{let a=n;const l=[];for(let s=0;s<t.length;s++){const n=t[s];if(r&&a&&!(null==a?void 0:a.has(n))){const r=t.slice(0,s+1).map(e=>bQ(e)),l=r.join(IK);let c;c=n===qY?0:a.has(qY)?a.size:a.size+1,a.set(n,{id:l,dimensions:r,value:n,level:c,children:new Map}),null==o||o({dimension:null==e?void 0:e[s],dimensionPath:l,careRepeated:i})}const c=null==a?void 0:a.get(n);if(l.push(QJ(n)?n:null==c?void 0:c.level),c){const t=null==e?void 0:e[s+1];r&&c.childField!==t&&(c.childField=t),a=null==c?void 0:c.children}}return l};return[c,...u(i,t,l,!1),...u(a,n,s,!0)]}function o0(e=[]){return e.filter(vY.isString)}function i0(e,t){if(!e||!t)return;const n=t.split(IK),r=vY.last(n);let o=e;vY.forEach(n,(e,t)=>{const n=o.get(e);return n?(e===r?(n.children=new Map,n.childField=void 0):o=n.children,!0):0===t&&e===$K})}function a0(e,t,n){return{field:WY,name:t||n,formatter:t=>(t=>{const n=vY.find(e,({field:e})=>e===t);return vY.get(n,"name",t)})(t)}}function l0(e,t){return{isRowGrandTotal:e.isGrandTotals,isRowSubTotal:e.isSubTotals,isColGrandTotal:t.isGrandTotals,isColSubTotal:t.isSubTotals}}function s0(e){const{pivotMeta:t,dimensionValues:n,fieldIdx:r,queryType:o,fields:i,sortedDimensionValues:a}=e;let l=[{children:t}];function s(e,t){var n;const r=vY.flatMap(e,e=>{const t=[];for(const n of e.children.values())n.value===KY||o!==XK.All&&n.value===qY||t.push(n);return t});if(e.length>1){const e=null!==(n=a[t])&&void 0!==n?n:[],o=new Map(e.map((e,t)=>[e,t]));return r.sort((e,t)=>{var n,r;return(null!==(n=o.get(e.id))&&void 0!==n?n:0)-(null!==(r=o.get(t.id))&&void 0!==r?r:0)}),r}return r}for(let c=0;c<=r;c++){const e=n[c],t=i[c];l=QJ(e)?s(l,t):l.map(t=>t.children.get(e)).filter(Boolean)}return l}function c0(e){const{dimensionValues:t,pivotMeta:n,fields:r,sortedDimensionValues:o,queryType:i=XK.All}=e;if(!function(e){let t=null;for(let n=0;n<e.length;n++)if(QJ(e[n]))t=n;else if(!vY.isNull(t)&&t<n)return!0;return!1}(t))return[t];return s0({pivotMeta:n,dimensionValues:t,fieldIdx:t.length-1,queryType:i,fields:r,sortedDimensionValues:o}).map(e=>e.dimensions)}function u0(e,t){return e?vY.isArray(e)?vY.flatMap(e,e=>{if(!vY.isArray(e))return vY.compact([e]);const n=t===XK.DetailOnly?1:0;return vY.compact(e.slice(n))}):vY.compact([e]):[]}
/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var d0,f0,h0=9e15,p0=1e9,g0="0123456789abcdef",m0="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",v0="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",y0={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-h0,maxE:h0,crypto:!1},b0=!0,x0="[DecimalError] ",w0=x0+"Invalid argument: ",C0=x0+"Precision limit exceeded",S0=x0+"crypto unavailable",E0="[object Decimal]",O0=Math.floor,k0=Math.pow,M0=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,$0=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,I0=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,N0=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,T0=1e7,L0=m0.length-1,R0=v0.length-1,_0={toStringTag:E0};function A0(e){var t,n,r,o=e.length-1,i="",a=e[0];if(o>0){for(i+=a,t=1;t<o;t++)(n=7-(r=e[t]+"").length)&&(i+=q0(n)),i+=r;(n=7-(r=(a=e[t])+"").length)&&(i+=q0(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return i+a}function P0(e,t,n){if(e!==~~e||e<t||e>n)throw Error(w0+e)}function j0(e,t,n,r){var o,i,a,l;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=7,o=0):(o=Math.ceil((t+1)/7),t%=7),i=k0(10,7-t),l=e[o]%i|0,null==r?t<3?(0==t?l=l/100|0:1==t&&(l=l/10|0),a=n<4&&99999==l||n>3&&49999==l||5e4==l||0==l):a=(n<4&&l+1==i||n>3&&l+1==i/2)&&(e[o+1]/i/100|0)==k0(10,t-2)-1||(l==i/2||0==l)&&!(e[o+1]/i/100|0):t<4?(0==t?l=l/1e3|0:1==t?l=l/100|0:2==t&&(l=l/10|0),a=(r||n<4)&&9999==l||!r&&n>3&&4999==l):a=((r||n<4)&&l+1==i||!r&&n>3&&l+1==i/2)&&(e[o+1]/i/1e3|0)==k0(10,t-3)-1,a}function B0(e,t,n){for(var r,o,i=[0],a=0,l=e.length;a<l;){for(o=i.length;o--;)i[o]*=t;for(i[0]+=g0.indexOf(e.charAt(a++)),r=0;r<i.length;r++)i[r]>n-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}_0.absoluteValue=_0.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),z0(e)},_0.ceil=function(){return z0(new this.constructor(this),this.e+1,2)},_0.clampedTo=_0.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(w0+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},_0.comparedTo=_0.cmp=function(e){var t,n,r,o,i=this,a=i.d,l=(e=new i.constructor(e)).d,s=i.s,c=e.s;if(!a||!l)return s&&c?s!==c?s:a===l?0:!a^s<0?1:-1:NaN;if(!a[0]||!l[0])return a[0]?s:l[0]?-c:0;if(s!==c)return s;if(i.e!==e.e)return i.e>e.e^s<0?1:-1;for(t=0,n=(r=a.length)<(o=l.length)?r:o;t<n;++t)if(a[t]!==l[t])return a[t]>l[t]^s<0?1:-1;return r===o?0:r>o^s<0?1:-1},_0.cosine=_0.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,o;if(t.isZero())return t;r=t.d.length,r<32?o=(1/t1(4,n=Math.ceil(r/3))).toString():(n=16,o="2.3283064365386962890625e-10");e.precision+=n,t=e1(e,1,t.times(o),new e(1));for(var i=n;i--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(r,n1(r,n)),r.precision=e,r.rounding=t,z0(2==f0||3==f0?n.neg():n,e,t,!0)):new r(1):new r(NaN)},_0.cubeRoot=_0.cbrt=function(){var e,t,n,r,o,i,a,l,s,c,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(b0=!1,(i=u.s*k0(u.s*u,1/3))&&Math.abs(i)!=1/0?r=new d(i.toString()):(n=A0(u.d),(i=((e=u.e)-n.length+1)%3)&&(n+=1==i||-2==i?"0":"00"),i=k0(n,1/3),e=O0((e+1)/3)-(e%3==(e<0?-1:2)),(r=new d(n=i==1/0?"5e"+e:(n=i.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=u.s),a=(e=d.precision)+3;;)if(c=(s=(l=r).times(l).times(l)).plus(u),r=D0(c.plus(u).times(l),c.plus(s),a+2,1),A0(l.d).slice(0,a)===(n=A0(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(z0(r,e+1,1),t=!r.times(r).times(r).eq(u));break}if(!o&&(z0(l,e+1,0),l.times(l).times(l).eq(u))){r=l;break}a+=4,o=1}return b0=!0,z0(r,e,d.rounding,t)},_0.decimalPlaces=_0.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-O0(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},_0.dividedBy=_0.div=function(e){return D0(this,new this.constructor(e))},_0.dividedToIntegerBy=_0.divToInt=function(e){var t=this.constructor;return z0(D0(this,new t(e),0,1,1),t.precision,t.rounding)},_0.equals=_0.eq=function(e){return 0===this.cmp(e)},_0.floor=function(){return z0(new this.constructor(this),this.e+1,3)},_0.greaterThan=_0.gt=function(e){return this.cmp(e)>0},_0.greaterThanOrEqualTo=_0.gte=function(e){var t=this.cmp(e);return 1==t||0===t},_0.hyperbolicCosine=_0.cosh=function(){var e,t,n,r,o,i=this,a=i.constructor,l=new a(1);if(!i.isFinite())return new a(i.s?1/0:NaN);if(i.isZero())return l;n=a.precision,r=a.rounding,a.precision=n+Math.max(i.e,i.sd())+4,a.rounding=1,(o=i.d.length)<32?t=(1/t1(4,e=Math.ceil(o/3))).toString():(e=16,t="2.3283064365386962890625e-10"),i=e1(a,1,i.times(t),new a(1),!0);for(var s,c=e,u=new a(8);c--;)s=i.times(i),i=l.minus(s.times(u.minus(s.times(u))));return z0(i,a.precision=n,a.rounding=r,!0)},_0.hyperbolicSine=_0.sinh=function(){var e,t,n,r,o=this,i=o.constructor;if(!o.isFinite()||o.isZero())return new i(o);if(t=i.precision,n=i.rounding,i.precision=t+Math.max(o.e,o.sd())+4,i.rounding=1,(r=o.d.length)<3)o=e1(i,2,o,o,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,o=e1(i,2,o=o.times(1/t1(5,e)),o,!0);for(var a,l=new i(5),s=new i(16),c=new i(20);e--;)a=o.times(o),o=o.times(l.plus(a.times(s.times(a).plus(c))))}return i.precision=t,i.rounding=n,z0(o,t,n,!0)},_0.hyperbolicTangent=_0.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,D0(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},_0.inverseCosine=_0.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,o=t.rounding;return-1!==n?0===n?e.isNeg()?G0(t,r,o):new t(0):new t(NaN):e.isZero()?G0(t,r+4,o).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=o,e.times(2))},_0.inverseHyperbolicCosine=_0.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,b0=!1,n=n.times(n).minus(1).sqrt().plus(n),b0=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},_0.inverseHyperbolicSine=_0.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,b0=!1,n=n.times(n).plus(1).sqrt().plus(n),b0=!0,r.precision=e,r.rounding=t,n.ln())},_0.inverseHyperbolicTangent=_0.atanh=function(){var e,t,n,r,o=this,i=o.constructor;return o.isFinite()?o.e>=0?new i(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(e=i.precision,t=i.rounding,r=o.sd(),Math.max(r,e)<2*-o.e-1?z0(new i(o),e,t,!0):(i.precision=n=r-o.e,o=D0(o.plus(1),new i(1).minus(o),n+e,1),i.precision=e+4,i.rounding=1,o=o.ln(),i.precision=e,i.rounding=t,o.times(.5))):new i(NaN)},_0.inverseSine=_0.asin=function(){var e,t,n,r,o=this,i=o.constructor;return o.isZero()?new i(o):(t=o.abs().cmp(1),n=i.precision,r=i.rounding,-1!==t?0===t?((e=G0(i,n+4,r).times(.5)).s=o.s,e):new i(NaN):(i.precision=n+6,i.rounding=1,o=o.div(new i(1).minus(o.times(o)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,o.times(2)))},_0.inverseTangent=_0.atan=function(){var e,t,n,r,o,i,a,l,s,c=this,u=c.constructor,d=u.precision,f=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=R0)return(a=G0(u,d+4,f).times(.25)).s=c.s,a}else{if(!c.s)return new u(NaN);if(d+4<=R0)return(a=G0(u,d+4,f).times(.5)).s=c.s,a}for(u.precision=l=d+10,u.rounding=1,e=n=Math.min(28,l/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(b0=!1,t=Math.ceil(l/7),r=1,s=c.times(c),a=new u(c),o=c;-1!==e;)if(o=o.times(s),i=a.minus(o.div(r+=2)),o=o.times(s),void 0!==(a=i.plus(o.div(r+=2))).d[t])for(e=t;a.d[e]===i.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),b0=!0,z0(a,u.precision=d,u.rounding=f,!0)},_0.isFinite=function(){return!!this.d},_0.isInteger=_0.isInt=function(){return!!this.d&&O0(this.e/7)>this.d.length-2},_0.isNaN=function(){return!this.s},_0.isNegative=_0.isNeg=function(){return this.s<0},_0.isPositive=_0.isPos=function(){return this.s>0},_0.isZero=function(){return!!this.d&&0===this.d[0]},_0.lessThan=_0.lt=function(e){return this.cmp(e)<0},_0.lessThanOrEqualTo=_0.lte=function(e){return this.cmp(e)<1},_0.logarithm=_0.log=function(e){var t,n,r,o,i,a,l,s,c=this,u=c.constructor,d=u.precision,f=u.rounding;if(null==e)e=new u(10),t=!0;else{if(n=(e=new u(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new u(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(t)if(n.length>1)i=!0;else{for(o=n[0];o%10==0;)o/=10;i=1!==o}if(b0=!1,a=Z0(c,l=d+5),r=t?W0(u,l+10):Z0(e,l),j0((s=D0(a,r,l,1)).d,o=d,f))do{if(a=Z0(c,l+=10),r=t?W0(u,l+10):Z0(e,l),s=D0(a,r,l,1),!i){+A0(s.d).slice(o+1,o+15)+1==1e14&&(s=z0(s,d+1,0));break}}while(j0(s.d,o+=10,f));return b0=!0,z0(s,d,f)},_0.minus=_0.sub=function(e){var t,n,r,o,i,a,l,s,c,u,d,f,h=this,p=h.constructor;if(e=new p(e),!h.d||!e.d)return h.s&&e.s?h.d?e.s=-e.s:e=new p(e.d||h.s!==e.s?h:NaN):e=new p(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(c=h.d,f=e.d,l=p.precision,s=p.rounding,!c[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!c[0])return new p(3===s?-0:0);e=new p(h)}return b0?z0(e,l,s):e}if(n=O0(e.e/7),u=O0(h.e/7),c=c.slice(),i=u-n){for((d=i<0)?(t=c,i=-i,a=f.length):(t=f,n=u,a=c.length),i>(r=Math.max(Math.ceil(l/7),a)+2)&&(i=r,t.length=1),t.reverse(),r=i;r--;)t.push(0);t.reverse()}else{for((d=(r=c.length)<(a=f.length))&&(a=r),r=0;r<a;r++)if(c[r]!=f[r]){d=c[r]<f[r];break}i=0}for(d&&(t=c,c=f,f=t,e.s=-e.s),a=c.length,r=f.length-a;r>0;--r)c[a++]=0;for(r=f.length;r>i;){if(c[--r]<f[r]){for(o=r;o&&0===c[--o];)c[o]=T0-1;--c[o],c[r]+=T0}c[r]-=f[r]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=F0(c,n),b0?z0(e,l,s):e):new p(3===s?-0:0)},_0.modulo=_0.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?z0(new r(n),r.precision,r.rounding):(b0=!1,9==r.modulo?(t=D0(n,e.abs(),0,3,1)).s*=e.s:t=D0(n,e,0,r.modulo,1),t=t.times(e),b0=!0,n.minus(t))},_0.naturalExponential=_0.exp=function(){return K0(this)},_0.naturalLogarithm=_0.ln=function(){return Z0(this)},_0.negated=_0.neg=function(){var e=new this.constructor(this);return e.s=-e.s,z0(e)},_0.plus=_0.add=function(e){var t,n,r,o,i,a,l,s,c,u,d=this,f=d.constructor;if(e=new f(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new f(e.d||d.s===e.s?d:NaN)):e=new f(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(c=d.d,u=e.d,l=f.precision,s=f.rounding,!c[0]||!u[0])return u[0]||(e=new f(d)),b0?z0(e,l,s):e;if(i=O0(d.e/7),r=O0(e.e/7),c=c.slice(),o=i-r){for(o<0?(n=c,o=-o,a=u.length):(n=u,r=i,a=c.length),o>(a=(i=Math.ceil(l/7))>a?i+1:a+1)&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((a=c.length)-(o=u.length)<0&&(o=a,n=u,u=c,c=n),t=0;o;)t=(c[--o]=c[o]+u[o]+t)/T0|0,c[o]%=T0;for(t&&(c.unshift(t),++r),a=c.length;0==c[--a];)c.pop();return e.d=c,e.e=F0(c,r),b0?z0(e,l,s):e},_0.precision=_0.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(w0+e);return n.d?(t=V0(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},_0.round=function(){var e=this,t=e.constructor;return z0(new t(e),e.e+1,t.rounding)},_0.sine=_0.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:e1(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/t1(5,n)),t=e1(e,2,t,t);for(var o,i=new e(5),a=new e(16),l=new e(20);n--;)o=t.times(t),t=t.times(i.plus(o.times(a.times(o).minus(l))));return t}(r,n1(r,n)),r.precision=e,r.rounding=t,z0(f0>2?n.neg():n,e,t,!0)):new r(NaN)},_0.squareRoot=_0.sqrt=function(){var e,t,n,r,o,i,a=this,l=a.d,s=a.e,c=a.s,u=a.constructor;if(1!==c||!l||!l[0])return new u(!c||c<0&&(!l||l[0])?NaN:l?a:1/0);for(b0=!1,0==(c=Math.sqrt(+a))||c==1/0?(((t=A0(l)).length+s)%2==0&&(t+="0"),c=Math.sqrt(t),s=O0((s+1)/2)-(s<0||s%2),r=new u(t=c==1/0?"5e"+s:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new u(c.toString()),n=(s=u.precision)+3;;)if(r=(i=r).plus(D0(a,i,n+2,1)).times(.5),A0(i.d).slice(0,n)===(t=A0(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(z0(r,s+1,1),e=!r.times(r).eq(a));break}if(!o&&(z0(i,s+1,0),i.times(i).eq(a))){r=i;break}n+=4,o=1}return b0=!0,z0(r,s,u.rounding,e)},_0.tangent=_0.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=D0(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,z0(2==f0||4==f0?n.neg():n,e,t,!0)):new r(NaN)},_0.times=_0.mul=function(e){var t,n,r,o,i,a,l,s,c,u=this,d=u.constructor,f=u.d,h=(e=new d(e)).d;if(e.s*=u.s,!(f&&f[0]&&h&&h[0]))return new d(!e.s||f&&!f[0]&&!h||h&&!h[0]&&!f?NaN:f&&h?0*e.s:e.s/0);for(n=O0(u.e/7)+O0(e.e/7),(s=f.length)<(c=h.length)&&(i=f,f=h,h=i,a=s,s=c,c=a),i=[],r=a=s+c;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,o=s+r;o>r;)l=i[o]+h[r]*f[o-r-1]+t,i[o--]=l%T0|0,t=l/T0|0;i[o]=(i[o]+t)%T0|0}for(;!i[--a];)i.pop();return t?++n:i.shift(),e.d=i,e.e=F0(i,n),b0?z0(e,d.precision,d.rounding):e},_0.toBinary=function(e,t){return r1(this,2,e,t)},_0.toDecimalPlaces=_0.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(P0(e,0,p0),void 0===t?t=r.rounding:P0(t,0,8),z0(n,e+n.e+1,t))},_0.toExponential=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=H0(r,!0):(P0(e,0,p0),void 0===t?t=o.rounding:P0(t,0,8),n=H0(r=z0(new o(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},_0.toFixed=function(e,t){var n,r,o=this,i=o.constructor;return void 0===e?n=H0(o):(P0(e,0,p0),void 0===t?t=i.rounding:P0(t,0,8),n=H0(r=z0(new i(o),e+o.e+1,t),!1,e+r.e+1)),o.isNeg()&&!o.isZero()?"-"+n:n},_0.toFraction=function(e){var t,n,r,o,i,a,l,s,c,u,d,f,h=this,p=h.d,g=h.constructor;if(!p)return new g(h);if(c=n=new g(1),r=s=new g(0),a=(i=(t=new g(r)).e=V0(p)-h.e-1)%7,t.d[0]=k0(10,a<0?7+a:a),null==e)e=i>0?t:c;else{if(!(l=new g(e)).isInt()||l.lt(c))throw Error(w0+l);e=l.gt(t)?i>0?t:c:l}for(b0=!1,l=new g(A0(p)),u=g.precision,g.precision=i=7*p.length*2;d=D0(l,t,0,1,1),1!=(o=n.plus(d.times(r))).cmp(e);)n=r,r=o,o=c,c=s.plus(d.times(o)),s=o,o=t,t=l.minus(d.times(o)),l=o;return o=D0(e.minus(n),r,0,1,1),s=s.plus(o.times(c)),n=n.plus(o.times(r)),s.s=c.s=h.s,f=D0(c,r,i,1).minus(h).abs().cmp(D0(s,n,i,1).minus(h).abs())<1?[c,r]:[s,n],g.precision=u,b0=!0,f},_0.toHexadecimal=_0.toHex=function(e,t){return r1(this,16,e,t)},_0.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:P0(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(b0=!1,n=D0(n,e,0,t,1).times(e),b0=!0,z0(n)):(e.s=n.s,n=e),n},_0.toNumber=function(){return+this},_0.toOctal=function(e,t){return r1(this,8,e,t)},_0.toPower=_0.pow=function(e){var t,n,r,o,i,a,l=this,s=l.constructor,c=+(e=new s(e));if(!(l.d&&e.d&&l.d[0]&&e.d[0]))return new s(k0(+l,c));if((l=new s(l)).eq(1))return l;if(r=s.precision,i=s.rounding,e.eq(1))return z0(l,r,i);if((t=O0(e.e/7))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return o=X0(s,l,n,r),e.s<0?new s(1).div(o):z0(o,r,i);if((a=l.s)<0){if(t<e.d.length-1)return new s(NaN);if(1&e.d[t]||(a=1),0==l.e&&1==l.d[0]&&1==l.d.length)return l.s=a,l}return(t=0!=(n=k0(+l,c))&&isFinite(n)?new s(n+"").e:O0(c*(Math.log("0."+A0(l.d))/Math.LN10+l.e+1)))>s.maxE+1||t<s.minE-1?new s(t>0?a/0:0):(b0=!1,s.rounding=l.s=1,n=Math.min(12,(t+"").length),(o=K0(e.times(Z0(l,r+n)),r)).d&&j0((o=z0(o,r+5,1)).d,r,i)&&(t=r+10,+A0((o=z0(K0(e.times(Z0(l,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(o=z0(o,r+1,0))),o.s=a,b0=!0,s.rounding=i,z0(o,r,i))},_0.toPrecision=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=H0(r,r.e<=o.toExpNeg||r.e>=o.toExpPos):(P0(e,1,p0),void 0===t?t=o.rounding:P0(t,0,8),n=H0(r=z0(new o(r),e,t),e<=r.e||r.e<=o.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},_0.toSignificantDigits=_0.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(P0(e,1,p0),void 0===t?t=n.rounding:P0(t,0,8)),z0(new n(this),e,t)},_0.toString=function(){var e=this,t=e.constructor,n=H0(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},_0.truncated=_0.trunc=function(){return z0(new this.constructor(this),this.e+1,1)},_0.valueOf=_0.toJSON=function(){var e=this,t=e.constructor,n=H0(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var D0=function(){function e(e,t,n){var r,o=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+o,e[i]=r%n|0,o=r/n|0;return o&&e.unshift(o),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,i,a,l,s){var c,u,d,f,h,p,g,m,v,y,b,x,w,C,S,E,O,k,M,$,I=r.constructor,N=r.s==o.s?1:-1,T=r.d,L=o.d;if(!(T&&T[0]&&L&&L[0]))return new I(r.s&&o.s&&(T?!L||T[0]!=L[0]:L)?T&&0==T[0]||!L?0*N:N/0:NaN);for(s?(h=1,u=r.e-o.e):(s=T0,h=7,u=O0(r.e/h)-O0(o.e/h)),M=L.length,O=T.length,y=(v=new I(N)).d=[],d=0;L[d]==(T[d]||0);d++);if(L[d]>(T[d]||0)&&u--,null==i?(C=i=I.precision,a=I.rounding):C=l?i+(r.e-o.e)+1:i,C<0)y.push(1),p=!0;else{if(C=C/h+2|0,d=0,1==M){for(f=0,L=L[0],C++;(d<O||f)&&C--;d++)S=f*s+(T[d]||0),y[d]=S/L|0,f=S%L|0;p=f||d<O}else{for((f=s/(L[0]+1)|0)>1&&(L=e(L,f,s),T=e(T,f,s),M=L.length,O=T.length),E=M,x=(b=T.slice(0,M)).length;x<M;)b[x++]=0;($=L.slice()).unshift(0),k=L[0],L[1]>=s/2&&++k;do{f=0,(c=t(L,b,M,x))<0?(w=b[0],M!=x&&(w=w*s+(b[1]||0)),(f=w/k|0)>1?(f>=s&&(f=s-1),1==(c=t(g=e(L,f,s),b,m=g.length,x=b.length))&&(f--,n(g,M<m?$:L,m,s))):(0==f&&(c=f=1),g=L.slice()),(m=g.length)<x&&g.unshift(0),n(b,g,x,s),-1==c&&(c=t(L,b,M,x=b.length))<1&&(f++,n(b,M<x?$:L,x,s)),x=b.length):0===c&&(f++,b=[0]),y[d++]=f,c&&b[0]?b[x++]=T[E]||0:(b=[T[E]],x=1)}while((E++<O||void 0!==b[0])&&C--);p=void 0!==b[0]}y[0]||y.shift()}if(1==h)v.e=u,d0=p;else{for(d=1,f=y[0];f>=10;f/=10)d++;v.e=d+u*h-1,z0(v,l?i+v.e+1:i,a,p)}return v}}();function z0(e,t,n,r){var o,i,a,l,s,c,u,d,f,h=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(o=1,l=d[0];l>=10;l/=10)o++;if((i=t-o)<0)i+=7,a=t,s=(u=d[f=0])/k0(10,o-a-1)%10|0;else if((f=Math.ceil((i+1)/7))>=(l=d.length)){if(!r)break e;for(;l++<=f;)d.push(0);u=s=0,o=1,a=(i%=7)-7+1}else{for(u=l=d[f],o=1;l>=10;l/=10)o++;s=(a=(i%=7)-7+o)<0?0:u/k0(10,o-a-1)%10|0}if(r=r||t<0||void 0!==d[f+1]||(a<0?u:u%k0(10,o-a-1)),c=n<4?(s||r)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||r||6==n&&(i>0?a>0?u/k0(10,o-a):0:d[f-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,c?(t-=e.e+1,d[0]=k0(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==i?(d.length=f,l=1,f--):(d.length=f+1,l=k0(10,7-i),d[f]=a>0?(u/k0(10,o-a)%k0(10,a)|0)*l:0),c)for(;;){if(0==f){for(i=1,a=d[0];a>=10;a/=10)i++;for(a=d[0]+=l,l=1;a>=10;a/=10)l++;i!=l&&(e.e++,d[0]==T0&&(d[0]=1));break}if(d[f]+=l,d[f]!=T0)break;d[f--]=0,l=1}for(i=d.length;0===d[--i];)d.pop()}return b0&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function H0(e,t,n){if(!e.isFinite())return Q0(e);var r,o=e.e,i=A0(e.d),a=i.length;return t?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+q0(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):o<0?(i="0."+q0(-o-1)+i,n&&(r=n-a)>0&&(i+=q0(r))):o>=a?(i+=q0(o+1-a),n&&(r=n-o-1)>0&&(i=i+"."+q0(r))):((r=o+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(o+1===a&&(i+="."),i+=q0(r))),i}function F0(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function W0(e,t,n){if(t>L0)throw b0=!0,n&&(e.precision=n),Error(C0);return z0(new e(m0),t,1,!0)}function G0(e,t,n){if(t>R0)throw Error(C0);return z0(new e(v0),t,n,!0)}function V0(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function q0(e){for(var t="";e--;)t+="0";return t}function X0(e,t,n,r){var o,i=new e(1),a=Math.ceil(r/7+4);for(b0=!1;;){if(n%2&&o1((i=i.times(t)).d,a)&&(o=!0),0===(n=O0(n/2))){n=i.d.length-1,o&&0===i.d[n]&&++i.d[n];break}o1((t=t.times(t)).d,a)}return b0=!0,i}function U0(e){return 1&e.d[e.d.length-1]}function Y0(e,t,n){for(var r,o,i=new e(t[0]),a=0;++a<t.length;){if(!(o=new e(t[a])).s){i=o;break}((r=i.cmp(o))===n||0===r&&i.s===n)&&(i=o)}return i}function K0(e,t){var n,r,o,i,a,l,s,c=0,u=0,d=0,f=e.constructor,h=f.rounding,p=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(b0=!1,s=p):s=t,l=new f(.03125);e.e>-2;)e=e.times(l),d+=5;for(s+=r=Math.log(k0(2,d))/Math.LN10*2+5|0,n=i=a=new f(1),f.precision=s;;){if(i=z0(i.times(e),s,1),n=n.times(++u),A0((l=a.plus(D0(i,n,s,1))).d).slice(0,s)===A0(a.d).slice(0,s)){for(o=d;o--;)a=z0(a.times(a),s,1);if(null!=t)return f.precision=p,a;if(!(c<3&&j0(a.d,s-r,h,c)))return z0(a,f.precision=p,h,b0=!0);f.precision=s+=10,n=i=l=new f(1),u=0,c++}a=l}}function Z0(e,t){var n,r,o,i,a,l,s,c,u,d,f,h=1,p=e,g=p.d,m=p.constructor,v=m.rounding,y=m.precision;if(p.s<0||!g||!g[0]||!p.e&&1==g[0]&&1==g.length)return new m(g&&!g[0]?-1/0:1!=p.s?NaN:g?0:p);if(null==t?(b0=!1,u=y):u=t,m.precision=u+=10,r=(n=A0(g)).charAt(0),!(Math.abs(i=p.e)<15e14))return c=W0(m,u+2,y).times(i+""),p=Z0(new m(r+"."+n.slice(1)),u-10).plus(c),m.precision=y,null==t?z0(p,y,v,b0=!0):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=A0((p=p.times(e)).d)).charAt(0),h++;for(i=p.e,r>1?(p=new m("0."+n),i++):p=new m(r+"."+n.slice(1)),d=p,s=a=p=D0(p.minus(1),p.plus(1),u,1),f=z0(p.times(p),u,1),o=3;;){if(a=z0(a.times(f),u,1),A0((c=s.plus(D0(a,new m(o),u,1))).d).slice(0,u)===A0(s.d).slice(0,u)){if(s=s.times(2),0!==i&&(s=s.plus(W0(m,u+2,y).times(i+""))),s=D0(s,new m(h),u,1),null!=t)return m.precision=y,s;if(!j0(s.d,u-10,v,l))return z0(s,m.precision=y,v,b0=!0);m.precision=u+=10,c=a=p=D0(d.minus(1),d.plus(1),u,1),f=z0(p.times(p),u,1),o=l=1}s=c,o+=2}}function Q0(e){return String(e.s*e.s/0)}function J0(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(o=t.length;48===t.charCodeAt(o-1);--o);if(t=t.slice(r,o)){if(o-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=7;r<o;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=o;for(;r--;)t+="0";e.d.push(+t),b0&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function e1(e,t,n,r,o){var i,a,l,s,c=e.precision,u=Math.ceil(c/7);for(b0=!1,s=n.times(n),l=new e(r);;){if(a=D0(l.times(s),new e(t++*t++),c,1),l=o?r.plus(a):r.minus(a),r=D0(a.times(s),new e(t++*t++),c,1),void 0!==(a=l.plus(r)).d[u]){for(i=u;a.d[i]===l.d[i]&&i--;);if(-1==i)break}i=l,l=r,r=a,a=i}return b0=!0,a.d.length=u+1,a}function t1(e,t){for(var n=e;--t;)n*=e;return n}function n1(e,t){var n,r=t.s<0,o=G0(e,e.precision,1),i=o.times(.5);if((t=t.abs()).lte(i))return f0=r?4:1,t;if((n=t.divToInt(o)).isZero())f0=r?3:2;else{if((t=t.minus(n.times(o))).lte(i))return f0=U0(n)?r?2:3:r?4:1,t;f0=U0(n)?r?1:4:r?3:2}return t.minus(o).abs()}function r1(e,t,n,r){var o,i,a,l,s,c,u,d,f,h=e.constructor,p=void 0!==n;if(p?(P0(n,1,p0),void 0===r?r=h.rounding:P0(r,0,8)):(n=h.precision,r=h.rounding),e.isFinite()){for(p?(o=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):o=t,(a=(u=H0(e)).indexOf("."))>=0&&(u=u.replace(".",""),(f=new h(1)).e=u.length-a,f.d=B0(H0(f),10,o),f.e=f.d.length),i=s=(d=B0(u,10,o)).length;0==d[--s];)d.pop();if(d[0]){if(a<0?i--:((e=new h(e)).d=d,e.e=i,d=(e=D0(e,f,n,r,0,o)).d,i=e.e,c=d0),a=d[n],l=o/2,c=c||void 0!==d[n+1],c=r<4?(void 0!==a||c)&&(0===r||r===(e.s<0?3:2)):a>l||a===l&&(4===r||c||6===r&&1&d[n-1]||r===(e.s<0?8:7)),d.length=n,c)for(;++d[--n]>o-1;)d[n]=0,n||(++i,d.unshift(1));for(s=d.length;!d[s-1];--s);for(a=0,u="";a<s;a++)u+=g0.charAt(d[a]);if(p){if(s>1)if(16==t||8==t){for(a=16==t?4:3,--s;s%a;s++)u+="0";for(s=(d=B0(u,o,t)).length;!d[s-1];--s);for(a=1,u="1.";a<s;a++)u+=g0.charAt(d[a])}else u=u.charAt(0)+"."+u.slice(1);u=u+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)u="0"+u;u="0."+u}else if(++i>s)for(i-=s;i--;)u+="0";else i<s&&(u=u.slice(0,i)+"."+u.slice(i))}else u=p?"0p+0":"0";u=(16==t?"0x":2==t?"0b":8==t?"0o":"")+u}else u=Q0(e);return e.s<0?"-"+u:u}function o1(e,t){if(e.length>t)return e.length=t,!0}function i1(e){return new this(e).abs()}function a1(e){return new this(e).acos()}function l1(e){return new this(e).acosh()}function s1(e,t){return new this(e).plus(t)}function c1(e){return new this(e).asin()}function u1(e){return new this(e).asinh()}function d1(e){return new this(e).atan()}function f1(e){return new this(e).atanh()}function h1(e,t){e=new this(e),t=new this(t);var n,r=this.precision,o=this.rounding,i=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?G0(this,r,o):new this(0)).s=e.s:!e.d||t.isZero()?(n=G0(this,i,1).times(.5)).s=e.s:t.s<0?(this.precision=i,this.rounding=1,n=this.atan(D0(e,t,i,1)),t=G0(this,i,1),this.precision=r,this.rounding=o,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(D0(e,t,i,1)):(n=G0(this,i,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function p1(e){return new this(e).cbrt()}function g1(e){return z0(e=new this(e),e.e+1,2)}function m1(e,t,n){return new this(e).clamp(t,n)}function v1(e){if(!e||"object"!=typeof e)throw Error(x0+"Object expected");var t,n,r,o=!0===e.defaults,i=["precision",1,p0,"rounding",0,8,"toExpNeg",-h0,0,"toExpPos",0,h0,"maxE",0,h0,"minE",-h0,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(n=i[t],o&&(this[n]=y0[n]),void 0!==(r=e[n])){if(!(O0(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(w0+n+": "+r);this[n]=r}if(n="crypto",o&&(this[n]=y0[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(w0+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(S0);this[n]=!0}else this[n]=!1}return this}function y1(e){return new this(e).cos()}function b1(e){return new this(e).cosh()}function x1(e,t){return new this(e).div(t)}function w1(e){return new this(e).exp()}function C1(e){return z0(e=new this(e),e.e+1,3)}function S1(){var e,t,n=new this(0);for(b0=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return b0=!0,new this(1/0);n=t}return b0=!0,n.sqrt()}function E1(e){return e instanceof V1||e&&e.toStringTag===E0||!1}function O1(e){return new this(e).ln()}function k1(e,t){return new this(e).log(t)}function M1(e){return new this(e).log(2)}function $1(e){return new this(e).log(10)}function I1(){return Y0(this,arguments,-1)}function N1(){return Y0(this,arguments,1)}function T1(e,t){return new this(e).mod(t)}function L1(e,t){return new this(e).mul(t)}function R1(e,t){return new this(e).pow(t)}function _1(e){var t,n,r,o,i=0,a=new this(1),l=[];if(void 0===e?e=this.precision:P0(e,1,p0),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));i<r;)(o=t[i])>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:l[i++]=o%1e7;else{if(!crypto.randomBytes)throw Error(S0);for(t=crypto.randomBytes(r*=4);i<r;)(o=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((127&t[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,i):(l.push(o%1e7),i+=4);i=r/4}else for(;i<r;)l[i++]=1e7*Math.random()|0;for(e%=7,(r=l[--i])&&e&&(o=k0(10,7-e),l[i]=(r/o|0)*o);0===l[i];i--)l.pop();if(i<0)n=0,l=[0];else{for(n=-1;0===l[0];n-=7)l.shift();for(r=1,o=l[0];o>=10;o/=10)r++;r<7&&(n-=7-r)}return a.e=n,a.d=l,a}function A1(e){return z0(e=new this(e),e.e+1,this.rounding)}function P1(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function j1(e){return new this(e).sin()}function B1(e){return new this(e).sinh()}function D1(e){return new this(e).sqrt()}function z1(e,t){return new this(e).sub(t)}function H1(){var e=0,t=arguments,n=new this(t[e]);for(b0=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return b0=!0,z0(n,this.precision,this.rounding)}function F1(e){return new this(e).tan()}function W1(e){return new this(e).tanh()}function G1(e){return z0(e=new this(e),e.e+1,1)}_0[Symbol.for("nodejs.util.inspect.custom")]=_0.toString,_0[Symbol.toStringTag]="Decimal";var V1=_0.constructor=function e(t){var n,r,o;function i(e){var t,n,r,o=this;if(!(o instanceof i))return new i(e);if(o.constructor=i,E1(e))return o.s=e.s,void(b0?!e.d||e.e>i.maxE?(o.e=NaN,o.d=null):e.e<i.minE?(o.e=0,o.d=[0]):(o.e=e.e,o.d=e.d.slice()):(o.e=e.e,o.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return o.s=1/e<0?-1:1,o.e=0,void(o.d=[0]);if(e<0?(e=-e,o.s=-1):o.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(b0?t>i.maxE?(o.e=NaN,o.d=null):t<i.minE?(o.e=0,o.d=[0]):(o.e=t,o.d=[e]):(o.e=t,o.d=[e]))}return 0*e!=0?(e||(o.s=NaN),o.e=NaN,void(o.d=null)):J0(o,e.toString())}if("string"===r)return 45===(n=e.charCodeAt(0))?(e=e.slice(1),o.s=-1):(43===n&&(e=e.slice(1)),o.s=1),N0.test(e)?J0(o,e):function(e,t){var n,r,o,i,a,l,s,c,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),N0.test(t))return J0(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if($0.test(t))n=16,t=t.toLowerCase();else if(M0.test(t))n=2;else{if(!I0.test(t))throw Error(w0+t);n=8}for((i=t.search(/p/i))>0?(s=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),a=(i=t.indexOf("."))>=0,r=e.constructor,a&&(i=(l=(t=t.replace(".","")).length)-i,o=X0(r,new r(n),i,2*i)),i=u=(c=B0(t,n,T0)).length-1;0===c[i];--i)c.pop();return i<0?new r(0*e.s):(e.e=F0(c,u),e.d=c,b0=!1,a&&(e=D0(e,o,4*l)),s&&(e=e.times(Math.abs(s)<54?k0(2,s):V1.pow(2,s))),b0=!0,e)}(o,e);if("bigint"===r)return e<0?(e=-e,o.s=-1):o.s=1,J0(o,e.toString());throw Error(w0+e)}if(i.prototype=_0,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=v1,i.clone=e,i.isDecimal=E1,i.abs=i1,i.acos=a1,i.acosh=l1,i.add=s1,i.asin=c1,i.asinh=u1,i.atan=d1,i.atanh=f1,i.atan2=h1,i.cbrt=p1,i.ceil=g1,i.clamp=m1,i.cos=y1,i.cosh=b1,i.div=x1,i.exp=w1,i.floor=C1,i.hypot=S1,i.ln=O1,i.log=k1,i.log10=$1,i.log2=M1,i.max=I1,i.min=N1,i.mod=T1,i.mul=L1,i.pow=R1,i.random=_1,i.round=A1,i.sign=P1,i.sin=j1,i.sinh=B1,i.sqrt=D1,i.sub=z1,i.sum=H1,i.tan=F1,i.tanh=W1,i.trunc=G1,void 0===t&&(t={}),t&&!0!==t.defaults)for(o=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<o.length;)t.hasOwnProperty(r=o[n++])||(t[r]=this[r]);return i.config(t),i}(y0);m0=new V1(m0),v0=new V1(v0);class q1{constructor(e,t){this.raw=e,this.extraField=t}static getCellData(e,t){return new q1(e,t)}static getCellDataList(e,t){return t.map(t=>q1.getCellData(e,t))}static getFieldValue(e,t=""){return e instanceof q1?t?e.getValueByField(t):e[GY]:null==e?void 0:e[t]}get[GY](){return this.raw}get[WY](){return this.extraField}get[FY](){return this.raw[this.extraField]}getValueByField(e){return e===FY||e===WY?this[e]:this.raw[e]}}const X1=e=>"number"==typeof e?Number.isNaN(e):!e||("string"!=typeof e||Number.isNaN(Number(e))),U1=e=>!X1(e),Y1=(e,t,n=!1)=>(null==e?void 0:e.length)?e.reduce((e,r)=>{const o=q1.getFieldValue(r,t),i=X1(o);if(n&&i)return e;const a=i?0:o;return e.push(new V1(a)),e},[]):[],K1=(e,t)=>{const n=Y1(e,t);return n.length?V1.sum(...n).toNumber():0},Z1=(e,t,n)=>{const r=Y1(t,n,!0);if(null==r?void 0:r.length)return V1[e](...r).toNumber()},Q1={[cQ.SUM]:K1,[cQ.MIN]:(e,t)=>Z1("min",e,t),[cQ.MAX]:(e,t)=>Z1("max",e,t),[cQ.AVG]:(e,t)=>{const n=Y1(e,t);return(null==n?void 0:n.length)?V1.sum(...n).dividedBy(n.length).toNumber():0},[cQ.COUNT]:e=>(null==e?void 0:e.length)||0},J1=e=>"ASC"===vY.toUpper(e),e2=e=>"DESC"===vY.toUpper(e),t2=(e,t,n)=>{const r=J1(t)?1:-1,o=["-",void 0];return null==e?void 0:e.sort((e,t)=>{let i=e,a=t;if(n){if(i=e.getValueByField(n),a=t.getValueByField(n),U1(i)&&U1(a))return(Number(i)-Number(a))*r;if(i&&(null==o?void 0:o.includes(null==i?void 0:i.toString())))return-r;if(Number(i)&&(null==o?void 0:o.includes(null==a?void 0:a.toString())))return r}return vY.isNil(i)||vY.isNil(a)?i?r:-r:i.toString().localeCompare(a.toString(),"zh")*r})},n2=(e,t,n)=>{return n?(r=t,o=vY.uniq(e),null===(i=null==r?void 0:r.filter(e=>!(null==o?void 0:o.includes(e))))||void 0===i?void 0:i.concat(o)):[...new Set([...e,...t])];var r,o,i},r2=e=>{const{sortByValues:t=[],originValues:n=[]}=e,r=n.filter(e=>t.find(t=>vY.last(vY.split(e,IK))===t)).map(e=>{const t=e.split(IK);if(t.length>1){return[t.slice(0,t.length-1).join(IK),t[t.length-1]]}return t}),o=Array.from(new Set(r.map(e=>e[0])));r.sort((e,n)=>{const r=e.slice(0,e.length-1),i=n.slice(0,n.length-1);if(r.join()!==i.join()){return o.indexOf(r[0])-o.indexOf(i[0])}return t.indexOf(e[e.length-1])-t.indexOf(n[n.length-1])});const i=r.map(e=>e.join(IK));return a=i,n.sort((e,t)=>{const n=a.indexOf(e),r=a.indexOf(t);return-1===n&&-1===r?0:-1===n?1:-1===r?-1:n-r});var a},o2=e=>{const{sortParam:t,measureValues:n,originValues:r,dataSet:o}=e,{sortByMeasure:i,query:a,sortFieldId:l,sortMethod:s}=t,{rows:c=[],columns:u=[]}=o.fields,d=null==c?void 0:c.includes(l);let f;if(i){const e=t2(n,s,i===qY?null==a?void 0:a[WY]:i);f=function(e,t=[],n){var r;const o=t.slice(0,t.indexOf(e)+1);return null===(r=n.map(e=>o.map(t=>e.getValueByField(t)).join(`${IK}`)))||void 0===r?void 0:r.filter(Boolean)}(l,d?c:LJ(u),e)}else f=t2(n,s);return n2(f,r,J1(s))},i2=e=>{const{sortParam:t,originValues:n=[],measureValues:r,dataSet:o}=e,{sortFunc:i,sortMethod:a,sortBy:l}=t;let s=n;const c={originValues:n,measureValues:r,sortParam:t,dataSet:o};return i?s=(e=>{const{originValues:t=[],measureValues:n,sortParam:r,dataSet:o}=e,{sortFunc:i,sortFieldId:a,sortMethod:l}=r,s=null==i?void 0:i(Object.assign({data:n},r));return(null==s?void 0:s.length)?(o.fields.rows.indexOf(a)>0||o.fields.columns.indexOf(a)>0)&&!vY.includes(s[0],IK)?r2({sortByValues:s,originValues:t}):n2(s,t,J1(l)):t})(c):l?s=r2({sortByValues:l,originValues:n}):(J1(a)||e2(a))&&(s=o2(c)),s},a2=e=>{const{dataSet:t,sortParam:n,originValues:r}=e,{fields:o}=t,{sortByMeasure:i,query:a,sortFieldId:l}=n;if(i!==qY){return t.getCellMultiData({query:a,queryType:XK.DetailOnly})}const s=t.getCellMultiData({query:a,queryType:XK.All}),c=LJ(o.columns),u=vY.includes(o.rows,l),d=ZJ(u?o.rows:c),f=ZJ(u?c:o.rows),h=d[d.indexOf(l)+1],p=vY.keys(a),g=f.filter(e=>!p.includes(e)),m=s.filter(e=>{const t=new Set(vY.keys(e[GY]));if(!t.has(l))return!1;if(t.has(h))return!1;return g.every(e=>!t.has(e))});return vY.isEmpty(m)?vY.compact(vY.map(r,e=>{const n=((e,t,n)=>{var r;const o={};if(vY.includes(e,IK)){const i=vY.split(e,IK),a=(null===(r=null==t?void 0:t.rows)||void 0===r?void 0:r.includes(n))?t.rows:LJ(t.columns);for(let e=0;e<=vY.indexOf(a,n);e++)o[a[e]]=i[e]}else o[n]=e;return o})(e,o,l);return t.getTotalValue(Object.assign(Object.assign({},a),n))})):m},l2=(e,t)=>{if(null==e?void 0:e.sortMethod){if(J1(null==e?void 0:e.sortMethod))return"groupAsc";if(e2(null==e?void 0:e.sortMethod))return"groupDesc"}if(t)return"SortDown"},s2=e=>{const{pivotMeta:t,dimensions:n,sortedDimensionValues:r,sortFieldId:o}=e,i={children:t};let a=[i];for(const l of n){if(l===o){a.forEach(e=>{const t=[...e.children.values()],n=vY.sortBy(t,e=>vY.indexOf(r,e.id)).map(e=>[e.value,e]);e.children=new Map(n)});break}a=vY.flatMap(a,e=>[...e.children.values()])}return i.children};class c2 extends EJ{getHeaderConfig(){return this.headerConfig||{}}isShallowRender(){return super.isShallowRender()||this.headerConfig.shallowRender}shouldInit(){return super.shouldInit()&&!this.isShallowRender()}handleRestOptions(...[e]){this.headerConfig=Object.assign({},e);const{value:t,query:n}=this.meta,r=this.spreadsheet.dataCfg.sortParams||[],o=this.isSortCell(),i=vY.find([...r].reverse(),e=>o&&(null==e?void 0:e.sortByMeasure)===t&&vY.isEqual(vY.get(e,"query"),n)),a=l2(i,o);this.headerConfig.sortParam=Object.assign(Object.assign(Object.assign({},this.headerConfig.sortParam),i||{query:n}),{type:a})}initCell(){this.resetTextAndConditionIconShapes(),this.actionIcons=[],this.hasDefaultHiddenIcon=!1,this.generateIconConfig()}generateIconConfig(){var e,t;this.conditionIconMappingResult=this.getIconConditionResult();const{sortParam:n}=this.getHeaderConfig();this.showSortIcon()?this.actionIconConfig={icons:[{name:(null==n?void 0:n.type)||"none",position:"right"}],belongsCell:this.cellType,isSortIcon:!0}:this.actionIconConfig=HQ(this.spreadsheet.options.headerActionIcons,this.meta,this.cellType),this.groupedIcons=WQ(null!==(t=null===(e=this.actionIconConfig)||void 0===e?void 0:e.icons)&&void 0!==t?t:[],this.conditionIconMappingResult)}getFormattedFieldValue(){const{isTotalRoot:e,isGrandTotals:t,value:n}=this.meta,r=this.spreadsheet.dataSet.getFieldFormatter(this.meta.field);let o=!0;o=!this.spreadsheet.isTableMode()&&(this.spreadsheet.isHierarchyTreeType()?!(t&&e):!e);return{formattedValue:o&&r?r(n,void 0,this.meta):n,value:n}}showSortIcon(){const{options:e,dataCfg:t}=this.spreadsheet,n=vY.isEmpty(t.fields.values);if(e.showDefaultHeaderActionIcon&&!n){const{sortParam:e}=this.getHeaderConfig(),t=this.meta.query;return this.isShallowRender()?t:t&&vY.isEqual(null==e?void 0:e.query,t)&&(null==e?void 0:e.type)&&"none"!==(null==e?void 0:e.type)}return!1}getActionIconStyle(e){const{icon:t}=this.getStyle(),n=this.getTextConditionMappingResult(),r=(null==n?void 0:n.fill)||this.getTextStyle().fill;return{width:null==t?void 0:t.size,height:null==t?void 0:t.size,fill:null===e.fill?void 0:(null==e?void 0:e.fill)||(null==t?void 0:t.fill)||r,cursor:"pointer"}}hasDefaultHideActionIcon(){return this.hasDefaultHiddenIcon}addActionIcon(e){const{x:t,y:n,name:r,defaultHide:o,onClick:i,onHover:a,isSortIcon:l}=e,s=new oQ(Object.assign(Object.assign({},this.getActionIconStyle(e)),{name:r,x:t,y:n}));s.toggleVisibility(!o),s.addEventListener("mouseover",e=>{this.spreadsheet.emit(BY.GLOBAL_ACTION_ICON_HOVER,e),null==a||a({hovering:!0,name:r,meta:this.meta,event:e})}),s.addEventListener("mouseleave",e=>{this.spreadsheet.emit(BY.GLOBAL_ACTION_ICON_HOVER_OFF,e),null==a||a({hovering:!1,name:r,meta:this.meta,event:e})}),s.addEventListener("click",e=>{this.spreadsheet.emit(BY.GLOBAL_ACTION_ICON_CLICK,e),l?this.spreadsheet.handleGroupSort(e,this.meta):null==i||i({name:r,meta:this.meta,event:e})}),this.actionIcons.push(s),this.appendChild(s)}drawActionAndConditionIcons(){vY.isEmpty(this.groupedIcons.left)&&vY.isEmpty(this.groupedIcons.right)||this.leftIconPosition&&this.rightIconPosition&&vY.forEach(this.groupedIcons,(e,t)=>{const{size:n,margin:r}=this.getStyle().icon,o=r.right,i="left"===t?this.leftIconPosition:this.rightIconPosition;vY.forEach(e,(e,t)=>{var r,a,l;const s=i.x+(n+o)*t,c=i.y;if(e.isConditionIcon)return this.conditionIconShape=oJ(this,{x:s,y:c,name:e.name,width:n,height:n,fill:e.fill}),void this.addConditionIconShape(this.conditionIconShape);const{onClick:u,onHover:d,defaultHide:f,isSortIcon:h}=this.actionIconConfig,p=null!==(r=e.defaultHide)&&void 0!==r?r:f,g="function"==typeof p?p(this.meta,e.name):p;g&&(this.hasDefaultHiddenIcon=!0),this.addActionIcon({name:e.name,fill:e.fill,x:s,y:c,defaultHide:g,onClick:null!==(a=e.onClick)&&void 0!==a?a:u,onHover:null!==(l=e.onHover)&&void 0!==l?l:d,isSortIcon:h})})})}isSortCell(){var e,t,n;const r=null===(t=null===(e=this.spreadsheet)||void 0===e?void 0:e.isValueInCols)||void 0===t?void 0:t.call(e),o=this.meta.level===(null===(n=this.meta.hierarchy)||void 0===n?void 0:n.maxLevel);return r?o&&this.cellType===sK.COL_CELL:o&&this.cellType===sK.ROW_CELL}handleByStateName(e,t){XJ(e,this)&&this.updateByState(t)}handleSearchResult(e){if(!XJ(e,this))return;vY.find(e,e=>null==e?void 0:e.isTarget).id===this.getMeta().id?this.updateByState(aK.HIGHLIGHT):this.updateByState(aK.SEARCH_RESULT)}handleHover(e){var t;XJ(e,this)&&(this.updateByState(aK.HOVER),this.hasDefaultHideActionIcon()&&this.toggleActionIcon(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.id))}handleSelect(e,t=[]){XJ(e,this)&&this.updateByState(aK.SELECTED);const n=vY.map(t,"id");vY.includes(n,this.meta.id)&&this.updateByState(aK.SELECTED)}getTextStyle(){const e=this.getCellTextWordWrapStyle(),{text:t,bolderText:n,measureText:r}=this.getStyle();let o;return o=this.isMeasureField()?r||t:this.isBolderText()?n:t,this.getContainConditionMappingResultTextStyle(Object.assign(Object.assign({},e),o))}getBackgroundColor(){var e;const{backgroundColor:t,backgroundColorOpacity:n}=(null===(e=this.getStyle())||void 0===e?void 0:e.cell)||{};return vY.merge({backgroundColor:t,backgroundColorOpacity:n},this.getBackgroundConditionFill())}toggleActionIcon(e){if(this.getMeta().id===e){const e=[];vY.forEach(this.actionIcons,t=>{"visible"!==t.parsedStyle.visibility&&(t.toggleVisibility(!0),e.push(t))}),this.spreadsheet.store.set("visibleActionIcons",e)}}getIconPosition(){return this.leftIconPosition||this.rightIconPosition}getInteractedCells(){var e;return null===(e=this.spreadsheet.interaction)||void 0===e?void 0:e.getCells([sK.CORNER_CELL,sK.COL_CELL,sK.ROW_CELL,sK.SERIES_NUMBER_CELL])}update(){const{interaction:e}=this.spreadsheet,t=null==e?void 0:e.getState();if((null==t?void 0:t.stateName)===aK.ALL_SELECTED)return void this.updateByState(aK.SELECTED);const n=this.getInteractedCells();if(vY.first(n))switch(null==t?void 0:t.stateName){case aK.SELECTED:case aK.ROW_CELL_BRUSH_SELECTED:case aK.COL_CELL_BRUSH_SELECTED:this.handleSelect(n,null==t?void 0:t.nodes);break;case aK.HOVER_FOCUS:case aK.HOVER:this.handleHover(n);break;case aK.SEARCH_RESULT:this.handleSearchResult(n);break;default:this.handleByStateName(n,null==t?void 0:t.stateName)}}updateByState(e){super.updateByState(e,this)}hideInteractionShape(){super.hideInteractionShape()}isMeasureField(){return[WY,VY].includes(this.meta.field)}mappingValue(e){var t;const n=this.getMeta().value;return null===(t=e.mapping)||void 0===t?void 0:t.call(e,n,this.meta,this)}findFieldCondition(e=[]){return ZQ(e,this.meta.field)}getTreeIcon(){return this.treeIcon}getActionIcons(){return this.actionIcons||[]}getMetaField(){return this.meta.field}destroy(){this.meta.belongsCell=null,super.destroy()}}class u2 extends c2{get cellType(){return sK.COL_CELL}getBorderPositions(){return[iQ.TOP,iQ.RIGHT]}initCell(){super.initCell(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextOrCustomRenderer()}afterDrawText(){this.drawActionAndConditionIcons(),this.drawBorders(),this.drawResizeArea(),this.addExpandColumnIconShapes(),this.update()}getFormattedFieldValue(){var e;const{extra:t,value:n,field:r}=this.meta,{fields:o}=this.spreadsheet.dataSet;return(null==t?void 0:t.isCustomNode)&&(null===(e=null==o?void 0:o.values)||void 0===e?void 0:e.includes(r))?{formattedValue:n,value:n}:super.getFormattedFieldValue()}getMaxTextWidth(){const{width:e}=this.getBBoxByType(lQ.CONTENT_BOX);return e-this.getActionAndConditionIconWidth()}isBolderText(){const{isLeaf:e,isTotals:t}=this.meta;return!(!t&&e)}handleViewport(){if(this.meta.isFrozen)return{start:0,size:Number.POSITIVE_INFINITY};const{viewportWidth:e,cornerWidth:t=0,scrollX:n=0}=this.getHeaderConfig(),r=this.spreadsheet.facet.frozenGroupAreas,o=r[JY.Col].width,i=r[JY.TrailingCol].width;return this.spreadsheet.isFrozenRowHeader()?{start:n+o,size:e-o-i}:{start:o+Math.max(0,n-t),size:e-o-i+Math.min(n,t)}}getContentPosition({contentWidth:e=this.getActualTextWidth()}={}){var t,n,r;const{isLeaf:o}=this.meta,i=this.getTextStyle(),a=this.getBBoxByType(lQ.CONTENT_BOX),l=this.getIconStyle(),s=VQ(a,i.textBaseline),c=qQ(l.size,s,i.fontSize,i.textBaseline);if(o){const{textX:t,leftIconX:n,rightIconX:r}=XQ({bbox:a,textWidth:e,textAlign:i.textAlign,groupedIcons:this.groupedIcons,iconStyle:l,isCustomRenderer:!!this.getRenderer()});return this.leftIconPosition={x:n,y:c},this.rightIconPosition={x:r,y:c},{x:t,y:s}}const u=this.handleViewport(),{cell:d,icon:f}=this.getStyle(),{textAlign:h,textBaseline:p}=this.getTextStyle(),{textStart:g,iconStart:m,iconEnd:v}=jJ(u,{start:a.x,size:a.width},{align:PJ(h),size:{textSize:e,iconStartSize:this.getActionAndConditionIconWidth("left"),iconEndSize:this.getActionAndConditionIconWidth("right")},padding:{start:null===(t=null==d?void 0:d.padding)||void 0===t?void 0:t.left,end:null===(n=null==d?void 0:d.padding)||void 0===n?void 0:n.right,betweenTextAndEndIcon:null===(r=null==f?void 0:f.margin)||void 0===r?void 0:r.left}},{isCustomRenderer:!!this.getRenderer()}),y=VQ(a,p);return this.leftIconPosition={x:m,y:c},this.rightIconPosition={x:v,y:c},{x:g,y:y}}getTextPosition(){return this.getContentPosition()}getColResizeArea(){return VJ(this.spreadsheet,SY)}getHorizontalResizeAreaName(){return`${kY}${this.meta.field}`}isCrossColumnLeafNode(){var e;const{colsHierarchy:t}=this.spreadsheet.facet.getLayoutResult(),{level:n,isLeaf:r}=this.meta;return(null===(e=null==t?void 0:t.sampleNodeForLastLevel)||void 0===e?void 0:e.level)!==n&&r}drawHorizontalResizeArea(){var e,t;if(0===(null===(t=null===(e=this.spreadsheet.options.style)||void 0===e?void 0:e.colCell)||void 0===t?void 0:t.height)||!this.shouldDrawResizeAreaByType("colCellVertical",this))return;const{y:n,height:r}=this.meta,{position:o}=this.getHeaderConfig(),i=this.getResizeAreaStyle(),a=this.getColResizeArea();if(!a||this.isCrossColumnLeafNode())return;const l=this.getHorizontalResizeAreaName();if(null==a?void 0:a.find(e=>e.name===l))return;const s=o.y+n,c=this.getResizeAreaWidth(),u=GJ({theme:i,type:LK.Vertical,effect:_K.Field,offsetX:0,offsetY:s,width:c,height:r,meta:this.meta,cell:this});a.appendChild(new eQ({name:l,style:Object.assign(Object.assign({},u.style),{x:0,y:s+r-i.size,width:c})},u.appendInfo))}getResizeAreaWidth(){const{cornerWidth:e=0,viewportWidth:t}=this.getHeaderConfig();return RJ.getVerticalBorderWidth(this.spreadsheet)+e+t}shouldAddVerticalResizeArea(){if(this.getMeta().isFrozen)return!0;const{x:e,y:t,width:n,height:r}=this.meta,{scrollX:o=0,scrollY:i,cornerWidth:a=0,height:l,width:s}=this.getHeaderConfig(),c=this.getResizeAreaStyle(),u={x:e+n-c.size,y:t,width:c.size,height:r},d=this.spreadsheet.facet.frozenGroupAreas,f=d[JY.Col].width,h=d[JY.TrailingCol].width;let p;return p=this.spreadsheet.isFrozenRowHeader()?{x:f,y:0,width:s-f-h,height:l}:{x:f-a,y:0,width:s-f-h+a,height:l},qJ(u,p,{scrollX:o,scrollY:i})}getVerticalResizeAreaOffset(){const{x:e,y:t}=this.meta,{scrollX:n=0,position:r,cornerWidth:o=0,viewportWidth:i}=this.getHeaderConfig(),a=this.spreadsheet.isFrozenRowHeader(),l=this.spreadsheet.facet.frozenGroupAreas,s=l[JY.Col],c=l[JY.TrailingCol];let u=null==r?void 0:r.x;return this.getMeta().isFrozenHead?u+=e-s.x-(a?0:Math.min(n,o)):this.getMeta().isFrozenTrailing?u+=e-c.x+i-c.width:u+=e-n,{x:u,y:(null==r?void 0:r.y)+t}}drawVerticalResizeArea(){if(!this.meta.isLeaf||this.meta.hideColCellHorizontalResize||!this.shouldDrawResizeAreaByType("colCellHorizontal",this))return;const{width:e,height:t}=this.meta,n=this.getResizeAreaStyle(),r=this.getColResizeArea();if(!r||!this.shouldAddVerticalResizeArea())return;const{x:o,y:i}=this.getVerticalResizeAreaOffset(),a=GJ({theme:n,type:LK.Horizontal,effect:_K.Cell,offsetX:o,offsetY:i,width:e,height:t,meta:this.meta,cell:this});r.appendChild(new eQ({style:Object.assign(Object.assign({},a.style),{x:o+e-n.size,y:i,height:t})},a.appendInfo))}drawResizeArea(){this.drawHorizontalResizeArea(),this.drawVerticalResizeArea()}hasHiddenColumnCell(){const{interaction:e}=this.spreadsheet.options,t=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return!vY.isEmpty(t)&&!vY.isEmpty(null==e?void 0:e.hiddenColumnFields)&&!!t.find(e=>FJ(null==e?void 0:e.displaySiblingNode,this.meta.id,this.isLastColumn()?"prev":"next"))}getExpandIconTheme(){return this.getStyle().icon}addExpandColumnSplitLine(){const{x:e,y:t,width:n,height:r}=this.getBBoxByType(),{horizontalBorderColor:o,horizontalBorderColorOpacity:i}=this.theme.splitLine,a=this.isLastColumn()?e+n:e;nJ(this,{x1:a,y1:t,x2:a,y2:t+r,stroke:o,lineWidth:1,strokeOpacity:i})}addExpandColumnIconShapes(){this.hasHiddenColumnCell()&&(this.addExpandColumnSplitLine(),this.addExpandColumnIcons())}addExpandColumnIcons(){const e=this.isLastColumn();this.addExpandColumnIcon(e),this.isAllDisplaySiblingNodeHidden()&&e&&this.addExpandColumnIcon(!1)}addExpandColumnIcon(e){const t=this.getExpandColumnIconConfig(e),n=oJ(this,Object.assign(Object.assign({},t),{name:"ExpandColIcon",cursor:"pointer"}));n.addEventListener("click",()=>{this.spreadsheet.emit(BY.COL_CELL_EXPANDED,this.meta,e?"prev":"next")}),n.addEventListener("mouseenter",t=>{this.spreadsheet.emit(BY.COL_CELL_EXPAND_ICON_HOVER,{event:t,meta:this.meta,hiddenColumns:WJ(this.spreadsheet,this.meta.id,e?"prev":"next")})})}getExpandColumnIconConfig(e){const{size:t=0}=this.getExpandIconTheme(),{x:n,y:r,width:o,height:i}=this.getBBoxByType(),a=n-t;return{x:e?a+o:a,y:r+i/2-t/2,width:2*t,height:t}}isLastColumn(){return((e,t)=>{const n=e.facet.getColLeafNodes(),r=e.facet.getInitColIndexLeafNodes(),o=BJ(t);return vY.get(vY.last(n),o)===t&&vY.get(vY.last(r),o)!==t})(this.spreadsheet,this.meta.id)}isAllDisplaySiblingNodeHidden(){const{id:e}=this.meta,t=this.spreadsheet.store.get("hiddenColumnsDetail",[]),n=t.find(({displaySiblingNode:t})=>{var n;return(null===(n=null==t?void 0:t.next)||void 0===n?void 0:n.id)===e});return t.find(({displaySiblingNode:t})=>{var n;return(null===(n=null==t?void 0:t.prev)||void 0===n?void 0:n.id)===e})&&n}getResizedTextMaxLines(){var e,t,n,r,o;const{colCell:i}=this.spreadsheet.options.style;return null!==(r=null!==(t=null===(e=null==i?void 0:i.maxLinesByField)||void 0===e?void 0:e[this.meta.id])&&void 0!==t?t:null===(n=null==i?void 0:i.maxLinesByField)||void 0===n?void 0:n[this.meta.field])&&void 0!==r?r:this.getMaxLinesByCustomHeight({isCustomHeight:null===(o=this.meta.extra)||void 0===o?void 0:o.isCustomHeight})}}class d2 extends c2{get cellType(){return sK.CORNER_CELL}isBolderText(){const{cornerType:e}=this.meta;return e===hQ.Col}getBorderPositions(){return[iQ.TOP,iQ.LEFT]}initCell(){super.initCell(),this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawTreeIcon(),this.drawActionAndConditionIcons(),this.drawBorders(),this.drawResizeArea(),this.update()}afterDrawText(){}onTreeIconClick(e){sJ()||this.emitCollapseEvent(e)}emitCollapseEvent(e){this.spreadsheet.facet.resetScrollY(),this.spreadsheet.emit(BY.ROW_CELL_ALL_COLLAPSED__PRIVATE,e)}drawTreeIcon(){var e;if(!this.showTreeIcon())return;const{collapseFields:t={}}=null===(e=this.spreadsheet.options.style)||void 0===e?void 0:e.rowCell,{size:n=0}=this.getStyle().icon,{fill:r}=this.getTextStyle(),o=this.getBBoxByType(lQ.CONTENT_BOX),i=this.spreadsheet.facet.getRowNodes(0),a=vY.values(t).filter(Boolean).length===i.length||i.every(e=>e.isCollapsed);this.treeIcon=iJ({group:this,iconCfg:{x:o.x,y:this.getIconPosition().y,width:n,height:n,fill:r},isCollapsed:a,onClick:()=>{this.onTreeIconClick(a)}}),sJ()&&this.addEventListener("touchend",()=>{this.emitCollapseEvent(a)})}isLastRowCornerCell(){const{cornerType:e,field:t}=this.meta,{rows:n}=this.spreadsheet.dataSet.fields;return e===hQ.Row&&(this.spreadsheet.isHierarchyTreeType()||vY.last(n)===t)}getResizeAreaEffect(){const{cornerType:e}=this.meta;return e===hQ.Series?_K.Series:this.isLastRowCornerCell()&&this.spreadsheet.isHierarchyTreeType()?_K.Tree:_K.Field}drawResizeArea(){if(!this.shouldDrawResizeAreaByType("cornerCellHorizontal",this))return;const e=this.getResizeAreaStyle(),t=VJ(this.spreadsheet,EY);if(!t)return;const{position:n,scrollX:r=0,scrollY:o=0,width:i,height:a}=this.getHeaderConfig(),{x:l,y:s,width:c,height:u}=this.getBBoxByType(),{cornerType:d}=this.meta,f={x:l+c-e.size,y:s,width:e.size,height:u},h={x:0,y:0,width:i,height:a};if(d===hQ.Col||!qJ(f,h,{scrollX:r,scrollY:o}))return;const p=n.x+l-r,g=n.y+(this.isLastRowCornerCell()?0:s),m=GJ({theme:e,type:LK.Horizontal,effect:this.getResizeAreaEffect(),offsetX:p,offsetY:g,width:c,height:u,meta:this.meta,cell:this});t.appendChild(new eQ({style:Object.assign(Object.assign({},m.style),{x:p+c-e.size,y:g,height:this.isLastRowCornerCell()?a:u})},m.appendInfo))}showTreeIcon(){return this.spreadsheet.isHierarchyTreeType()&&this.meta.cornerType===hQ.Row}getTreeIconWidth(){const{size:e,margin:t}=this.getStyle().icon;return this.spreadsheet.isHierarchyTreeType()?e+t.right:0}getMaxTextWidth(){const{width:e}=this.getBBoxByType(lQ.CONTENT_BOX);return e-this.getTreeIconWidth()-this.getActionAndConditionIconWidth()}getContentPosition({contentWidth:e=this.getActualTextWidth()}={}){const t=this.getBBoxByType(lQ.CONTENT_BOX),{x:n,y:r,height:o,width:i}=t,a=this.getTextStyle(),{textX:l,leftIconX:s,rightIconX:c}=XQ({bbox:{x:n+this.getTreeIconWidth(),y:r,width:i-this.getTreeIconWidth(),height:o},textAlign:a.textAlign,textWidth:e,groupedIcons:this.groupedIcons,iconStyle:this.getIconStyle()}),u=VQ(t,a.textBaseline),{size:d=0}=this.getStyle().icon,f=qQ(d,u,a.fontSize,a.textBaseline);return this.leftIconPosition={x:s,y:f},this.rightIconPosition={x:c,y:f},{x:l,y:u}}getTextPosition(){return this.getContentPosition()}getFormattedFieldValue(){return GQ(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.field))}getResizedTextMaxLines(){var e,t,n,r,o;const{colCell:i}=this.spreadsheet.options.style;return null!==(r=null!==(t=null===(e=null==i?void 0:i.maxLinesByField)||void 0===e?void 0:e[this.meta.id])&&void 0!==t?t:null===(n=null==i?void 0:i.maxLinesByField)||void 0===n?void 0:n[this.meta.field])&&void 0!==r?r:this.getMaxLinesByCustomHeight({isCustomHeight:null===(o=this.meta.extra)||void 0===o?void 0:o.isCustomHeight})}}class f2 extends EJ{get cellType(){return sK.DATA_CELL}isShallowRender(){return super.isShallowRender()||this.meta.shallowRender||!1}isMultiData(){const e=this.getFieldValue();return vY.isObject(e)}getBorderPositions(){return[iQ.BOTTOM,iQ.RIGHT]}getValueRange(){return this.spreadsheet.dataSet.getValueRangeByField(this.meta.valueField)}handleByStateName(e,t){XJ(e,this)&&this.updateByState(t)}handleSearchResult(e){if(!XJ(e,this))return;vY.find(e,e=>null==e?void 0:e.isTarget).id===this.getMeta().id?this.updateByState(aK.HIGHLIGHT):this.updateByState(aK.SEARCH_RESULT)}handleSelect(e){var t,n;switch(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.type){case sK.COL_CELL:this.changeRowColSelectState("colIndex");break;case sK.ROW_CELL:this.changeRowColSelectState("rowIndex");break;case sK.DATA_CELL:(e=>{const{currentRow:t,currentCol:n,rowHeader:r,colHeader:o}=e.interaction.getSelectedCellHighlight();return t||n||r||o})(this.spreadsheet)?KJ(e,this,this.spreadsheet):XJ(e,this)?this.updateByState(aK.SELECTED):(null===(n=this.spreadsheet.options.interaction)||void 0===n?void 0:n.selectedCellsSpotlight)&&this.updateByState(aK.UNSELECTED)}}isDisableHover(e){return e.type!==sK.DATA_CELL}handleHover(e){const t=vY.first(e);if(this.isDisableHover(t))return void this.hideInteractionShape();const{currentRow:n,currentCol:r}=this.spreadsheet.interaction.getHoverHighlight();if(n||r){const e=this.meta.colIndex,o=this.meta.rowIndex;r&&e===(null==t?void 0:t.colIndex)||n&&o===(null==t?void 0:t.rowIndex)?this.updateByState(aK.HOVER):this.hideInteractionShape()}const{id:o,rowIndex:i,colIndex:a}=this.getMeta();vY.isEqual(t.id,o)&&vY.isEqual(t.rowIndex,i)&&vY.isEqual(t.colIndex,a)&&this.updateByState(aK.HOVER_FOCUS)}update(){const e=this.spreadsheet.interaction.getCurrentStateName();if(e===aK.ALL_SELECTED)return void this.updateByState(aK.SELECTED);const t=this.spreadsheet.interaction.getCells();if(!vY.isEmpty(t)&&e)switch(e){case aK.SELECTED:case aK.DATA_CELL_BRUSH_SELECTED:this.handleSelect(t);break;case aK.HOVER_FOCUS:case aK.HOVER:this.handleHover(t);break;case aK.SEARCH_RESULT:this.handleSearchResult(t);break;default:this.handleByStateName(t,e)}}setMeta(e){super.setMeta(e),this.isShallowRender()||this.initCell()}drawTextShape(){super.drawTextShape(),this.isShallowRender()||this.drawLinkField(this.meta)}initCell(){this.resetTextAndConditionIconShapes(),this.generateIconConfig(),this.shouldHideData=!!this.shouldHideRowSubtotalData(),this.conditionFill=this.getBackgroundConditionFill(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.shouldHideData||this.drawConditionIntervalShape(),this.shouldHideData?this.afterDrawText():this.drawTextOrCustomRenderer()}afterDrawText(){this.shouldHideData||this.drawConditionIconShapes(),this.drawBorders(),this.drawInteractiveBorderShape(),this.update()}generateIconConfig(){var e;const t=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.icon),n=t&&t.mapping&&{name:"",position:KQ(t)};this.groupedIcons=WQ([],n)}getTextStyle(){const e=this.getCellTextWordWrapStyle(),{isTotals:t}=this.meta,{dataCell:n}=this.theme,r=t?null==n?void 0:n.bolderText:null==n?void 0:n.text;return this.getContainConditionMappingResultTextStyle(Object.assign(Object.assign({},e),r))}drawConditionIntervalShape(){this.conditionIntervalShape=hJ(this)}shouldHideRowSubtotalData(){var e,t;if(!this.spreadsheet.isHierarchyTreeType())return!1;const{rowId:n,rowIndex:r}=this.meta,o=this.spreadsheet.store.get("drillDownIdPathMap");if(null==o?void 0:o.has(n))return!1;const{row:i={}}=null!==(e=this.spreadsheet.options.totals)&&void 0!==e?e:{},a=null===(t=this.spreadsheet.facet)||void 0===t?void 0:t.getRowLeafNodeByIndex(r),l=!(null==a?void 0:a.isGrandTotals)&&(null==a?void 0:a.isTotals);return!i.showSubTotals&&l}getFormattedFieldValue(){var e;if(this.shouldHideData)return{value:null,formattedValue:MY};const{rowId:t,valueField:n,fieldValue:r,data:o,id:i}=this.meta,a=null===(e=this.spreadsheet.dataSet.displayFormattedValueMap)||void 0===e?void 0:e.get(i),l=this.spreadsheet.dataSet.getFieldMeta(t)?t:n,s=this.spreadsheet.dataSet.getFieldFormatter(l);return{value:r,formattedValue:null!=a?a:s(r,o,this.meta)}}getMaxTextWidth(){const{width:e}=this.getBBoxByType(lQ.CONTENT_BOX);return e-this.getActionAndConditionIconWidth()}getContentPosition({contentWidth:e=this.getActualTextWidth()}={}){const t=this.getBBoxByType(lQ.CONTENT_BOX),n=this.getTextStyle(),r=this.getIconStyle(),{textX:o,leftIconX:i,rightIconX:a}=XQ({bbox:t,iconStyle:r,textWidth:e,textAlign:n.textAlign,groupedIcons:this.groupedIcons,isCustomRenderer:!!this.getRenderer()}),l=VQ(t,n.textBaseline),s=qQ(r.size,l,n.fontSize,n.textBaseline);return this.iconPosition={x:vY.isEmpty(this.groupedIcons.left)?a:i,y:s},{x:o,y:l}}getTextPosition(){return this.getContentPosition()}getIconPosition(){return this.iconPosition}getBackgroundColor(){const e=this.getCrossBackgroundColor(this.meta.rowIndex),t=e.backgroundColor,n=e.backgroundColorOpacity;return this.shouldHideData?{backgroundColor:t,backgroundColorOpacity:n,intelligentReverseTextColor:!1}:vY.merge({backgroundColor:t,backgroundColorOpacity:n},this.conditionFill)}changeRowColSelectState(e){var t,n,r;const{interaction:o}=this.spreadsheet,i=vY.get(this.meta,e),{nodes:a=[],cells:l=[]}=o.getState();let s=!1;if(this.spreadsheet.isTableMode()&&a.length){s=((null===(n=null===(t=a[0])||void 0===t?void 0:t.hierarchy)||void 0===n?void 0:n.getLeaves())||[]).some((e,t)=>!!a.some(t=>t===e)&&t===i)}else s=[...a,...l].some(t=>vY.get(t,e)===i);s?this.updateByState(aK.SELECTED):(null===(r=this.spreadsheet.options.interaction)||void 0===r?void 0:r.selectedCellsSpotlight)?this.updateByState(aK.UNSELECTED):this.hideInteractionShape()}drawBorders(){this.meta.isFrozenCorner&&EJ.prototype.drawBorders.call(this)}findFieldCondition(e=[]){return ZQ(e,this.meta.valueField)}mappingValue(e){var t;const n=this.meta.fieldValue,r=this.spreadsheet.isTableMode()?this.spreadsheet.dataSet.getCellData({query:{rowIndex:this.meta.rowIndex}}):q1.getFieldValue(this.meta.data);return null===(t=e.mapping)||void 0===t?void 0:t.call(e,n,r,this)}updateByState(e){if(super.updateByState(e,this),e===aK.UNSELECTED){const t=vY.get(this.theme,`${this.cellType}.cell.interactionState.${e}`);t&&this.toggleConditionIntervalShapeOpacity(t.opacity)}}clearUnselectedState(){super.clearUnselectedState(),this.toggleConditionIntervalShapeOpacity(1)}toggleConditionIntervalShapeOpacity(e){rJ(this.conditionIntervalShape,uK.backgroundOpacity,e),rJ(this.conditionIconShapes,uK.opacity,e)}getResizedTextMaxLines(){var e,t,n,r,o;const{rowCell:i}=this.spreadsheet.options.style;return null!==(r=null!==(t=null===(e=null==i?void 0:i.maxLinesByField)||void 0===e?void 0:e[this.meta.id])&&void 0!==t?t:null===(n=null==i?void 0:i.maxLinesByField)||void 0===n?void 0:n[this.meta.rowId])&&void 0!==r?r:this.getMaxLinesByCustomHeight({isCustomHeight:this.meta.height!==(null===(o=WK.dataCell)||void 0===o?void 0:o.height)})}getMetaField(){return this.meta.valueField}}const h2=(e,t)=>vY.find(t,t=>vY.isEqual(t[0],e[1])),p2=e=>{let t=[];e.forEach(e=>{const n=e.getMeta(),{x:r,y:o,width:i,height:a}=n;t=t.concat(((e,t,n,r)=>{const o=[e,t],i=[e+n,t],a=[e+n,t+r],l=[e,t+r];return[[o,i],[i,a],[a,l],[l,o]]})(r,o,i,a))}),t=(e=>{const t=[];return vY.forEach(e,n=>{const r=[n[1],n[0]];JSON.stringify(e).includes(JSON.stringify(r))||t.push(n)}),t})(t);let n=[];const r=t[0];let o=r,i=[];for(;!vY.isEqual(r,i);)n=n.concat(o),i=h2(o,t),o=i;return n};class g2 extends f2{get cellType(){return sK.MERGED_CELL}constructor(e,t,n){super(n,e,t)}handleRestOptions(...[e]){this.cells=e}update(){}initCell(){this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawTextOrCustomRenderer()}afterDrawText(){this.drawBorders()}drawBackgroundShape(){const e=p2(this.cells),t=this.theme.dataCell.cell;var n,r;this.backgroundShape=(n=this,r={points:e,fill:t.backgroundColor},null==n?void 0:n.appendChild(new ZX({style:r})))}drawTextShape(){if(!vY.isEmpty(this.meta))return this.isMultiData()?CJ(this):void super.drawTextShape()}drawBorders(){const{right:e,bottom:t,bottomRightCornerCell:n}=(e=>{const t=[],n=[],r=[];return e.forEach(r=>{const[o,i]=r.position||[];vY.find(e,e=>{var t,n;return(null===(t=e.position)||void 0===t?void 0:t[0])===o+1&&(null===(n=e.position)||void 0===n?void 0:n[1])===i})||n.push(r),vY.find(e,e=>{var t,n;return(null===(t=e.position)||void 0===t?void 0:t[1])===i+1&&(null===(n=e.position)||void 0===n?void 0:n[0])===o})||t.push(r)}),t.forEach(n=>{const[o,i]=n.position||[],a=vY.find(e,e=>{var t,n;return(null===(t=e.position)||void 0===t?void 0:t[0])===o-1&&(null===(n=e.position)||void 0===n?void 0:n[1])===i});a&&!vY.includes(t,a)&&r.push(a)}),{bottom:n,right:t,bottomRightCornerCell:r}})(this.cells);e.forEach(e=>{var t;const{position:n,style:r}=UQ(iQ.RIGHT,e.getBBoxByType(),null===(t=e.getStyle())||void 0===t?void 0:t.cell);nJ(this,Object.assign(Object.assign({},n),r))}),t.forEach(e=>{var t;const{position:n,style:r}=UQ(iQ.BOTTOM,e.getBBoxByType(),null===(t=e.getStyle())||void 0===t?void 0:t.cell);nJ(this,Object.assign(Object.assign({},n),r))}),n.forEach(e=>{var t;const{x:n,y:r,width:o,height:i}=e.getBBoxByType(),{horizontalBorderWidth:a=0,verticalBorderWidth:l=0,verticalBorderColor:s}=null===(t=e.getStyle())||void 0===t?void 0:t.cell,c=n+o-l/2;nJ(this,{x1:c,x2:c,y1:r+i-a,y2:r+i,lineWidth:l,stroke:s,strokeOpacity:l})})}}class m2 extends c2{get cellType(){return sK.ROW_CELL}getBorderPositions(){return[iQ.BOTTOM,iQ.LEFT]}initCell(){super.initCell(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextOrCustomRenderer()}afterDrawText(){this.drawActionAndConditionIcons(),this.drawTreeIcon(),this.drawTreeLeafNodeAlignDot(),this.drawBorders(),this.drawResizeAreaInLeaf(),this.update()}getBackgroundColor(){const{backgroundColor:e,backgroundColorOpacity:t}=this.getCrossBackgroundColor(this.meta.rowIndex);return vY.merge({backgroundColor:e,backgroundColorOpacity:t},this.getBackgroundConditionFill())}showTreeIcon(){return this.spreadsheet.isHierarchyTreeType()&&!this.meta.isLeaf}showTreeLeafNodeAlignDot(){var e,t;return(null===(t=null===(e=this.spreadsheet.options.style)||void 0===e?void 0:e.rowCell)||void 0===t?void 0:t.showTreeLeafNodeAlignDot)&&this.spreadsheet.isHierarchyTreeType()}getParentTreeIconCfg(){var e,t;if(!this.showTreeLeafNodeAlignDot()||!this.spreadsheet.isHierarchyTreeType()||!this.meta.isLeaf)return;const n=null===(t=null===(e=this.meta.parent)||void 0===e?void 0:e.belongsCell)||void 0===t?void 0:t.getTreeIcon();return null==n?void 0:n.style}onTreeIconClick(){const{isCollapsed:e,hierarchy:t}=this.meta;if(!sJ()){if(!e){const{scrollY:e}=this.spreadsheet.facet.getScrollOffset(),n=this.spreadsheet.facet.panelBBox.viewportHeight||0,r=(e=>{let t=0;const n=e.children;return null==n||n.forEach(e=>{t+=e.height||0}),t})(this.meta),o=t.height-r;if(e>0&&e+n>o){const e=o-n;this.spreadsheet.facet.setScrollOffset({scrollY:e>0?e:0})}}this.emitCollapseEvent()}}emitCollapseEvent(){this.spreadsheet.emit(BY.ROW_CELL_COLLAPSED__PRIVATE,{isCollapsed:!this.meta.isCollapsed,node:this.meta})}drawTreeIcon(){if(!this.showTreeIcon())return;const{isCollapsed:e}=this.meta,{x:t}=this.getBBoxByType(lQ.CONTENT_BOX),{fill:n}=this.getTextStyle(),{size:r}=this.getStyle().icon,o=t+this.getContentIndent(),i=this.getIconPosition().y;this.treeIcon=iJ({group:this,iconCfg:{x:o,y:i,width:r,height:r,fill:n},isCollapsed:e,onClick:()=>{this.onTreeIconClick()}}),sJ()&&this.addEventListener("touchend",()=>{this.emitCollapseEvent()})}drawTreeLeafNodeAlignDot(){const e=this.getParentTreeIconCfg();if(!e)return;const{size:t,margin:n}=this.getStyle().icon,r=e.x+t+n.right,o=this.getTextPosition().y,{fill:i,fontSize:a}=this.getTextStyle(),l=t/5;this.treeLeafNodeAlignDot=eJ(this,{cx:r+t/2,cy:o+(a-l)/2,r:l,fill:i,fillOpacity:.3})}isBolderText(){const{isLeaf:e,isTotals:t,level:n}=this.meta;return!e&&0===n||t}getResizesArea(){return VJ(this.spreadsheet,CY)}drawResizeAreaInLeaf(){if(!this.meta.isLeaf||this.meta.hideRowCellVerticalResize||!this.shouldDrawResizeAreaByType("rowCellVertical",this))return;const{x:e,y:t,width:n,height:r}=this.getBBoxByType(),o=this.getResizeAreaStyle(),i=this.getResizesArea();if(!i)return;const{position:a,width:l,viewportHeight:s,scrollX:c=0,scrollY:u=0}=this.getHeaderConfig(),d={x:e,y:t+r-o.size,width:n,height:o.size},f=this.meta.isFrozen,h=this.spreadsheet.facet.frozenGroupAreas,p=h[JY.Row],g=h[JY.TrailingRow],m={x:0,y:f?0:p.height,width:l,height:f?Number.POSITIVE_INFINITY:s-p.height-g.height};if(!qJ(d,m,{scrollX:c,scrollY:f?0:u}))return;const{offsetX:v,offsetY:y}=this.getHorizontalResizeAreaOffset(),b=this.spreadsheet.isFrozenRowHeader()?l-a.x-(e-c):n,x=GJ({theme:o,type:LK.Vertical,effect:_K.Cell,offsetX:v,offsetY:y,width:n,height:r,meta:this.meta,cell:this});i.appendChild(new eQ({style:Object.assign(Object.assign({},x.style),{x:v,y:y+r-o.size,width:b})},x.appendInfo))}getHorizontalResizeAreaOffset(){const{position:e,viewportHeight:t,scrollX:n=0,scrollY:r=0}=this.getHeaderConfig(),{x:o,y:i}=this.getBBoxByType(),a=this.spreadsheet.facet.frozenGroupAreas,l=a[JY.Row],s=a[JY.TrailingRow],c=e.x+o-n;let u=e.y;return this.meta.isFrozenHead?u+=i-l.y:this.meta.isFrozenTrailing?u+=t-s.height+i-s.y:u+=i-r,{offsetX:c,offsetY:u}}getContentIndent(){if(!this.spreadsheet.isHierarchyTreeType())return 0;const{icon:e,cell:t}=this.getStyle(),n=e.size+e.margin.right;let r=this.meta.parent,o=0;for(;r;)0!==r.height&&(o+=n),r=r.parent;return this.showTreeLeafNodeAlignDot()&&(o+=this.isTreeLevel()?0:t.padding.right+e.margin.right),o}getTextIndent(){const{size:e,margin:t}=this.getStyle().icon;return this.getContentIndent()+(this.showTreeIcon()||this.isTreeLevel()&&this.showTreeLeafNodeAlignDot()?e+t.right:0)}isTreeLevel(){return vY.find(vY.get(this.meta,"parent.children"),e=>!e.isLeaf)}getMaxTextWidth(){const{width:e}=this.getBBoxByType(lQ.CONTENT_BOX);return e-this.getTextIndent()-this.getActionAndConditionIconWidth()}getTextArea(){const e=this.getBBoxByType(lQ.CONTENT_BOX),t=this.getTextIndent();return Object.assign(Object.assign({},e),{x:e.x+t,width:e.width-t})}handleViewport(){if(this.meta.isFrozen)return{start:0,size:Number.POSITIVE_INFINITY};const{scrollY:e,viewportHeight:t}=this.getHeaderConfig(),n=this.spreadsheet.facet.frozenGroupAreas,r=n[JY.Row].height;return{start:e+r,size:t-r-n[JY.TrailingRow].height}}getContentPosition({contentWidth:e=this.getActualTextWidth()}={}){const t=this.getTextArea(),n=this.getTextStyle(),{cell:r,icon:o}=this.getStyle(),i=this.handleViewport(),a=this.getActualTextHeight(),{textStart:l}=jJ(i,{start:t.y,size:t.height},{align:PJ(n.textBaseline),size:{textSize:a},padding:{start:r.padding.top,end:r.padding.bottom}}),{textX:s,leftIconX:c,rightIconX:u}=XQ({bbox:t,textWidth:e,textAlign:n.textAlign,groupedIcons:this.groupedIcons,iconStyle:o,isCustomRenderer:!!this.getRenderer()}),d=qQ(null==o?void 0:o.size,l,a,n.textBaseline);return this.leftIconPosition={x:c,y:d},this.rightIconPosition={x:u,y:d},{x:s,y:l}}getTextPosition(){return this.getContentPosition()}getResizedTextMaxLines(){var e,t,n,r,o;const{rowCell:i}=this.spreadsheet.options.style;return null!==(r=null!==(t=null===(e=null==i?void 0:i.maxLinesByField)||void 0===e?void 0:e[this.meta.id])&&void 0!==t?t:null===(n=null==i?void 0:i.maxLinesByField)||void 0===n?void 0:n[this.meta.field])&&void 0!==r?r:this.getMaxLinesByCustomHeight({isCustomHeight:null===(o=this.meta.extra)||void 0===o?void 0:o.isCustomHeight})}}class v2 extends m2{get cellType(){return sK.ROW_CELL}getBorderPositions(){return[iQ.LEFT,iQ.BOTTOM]}initCell(){this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawBorders(),this.drawTextShape(),this.update()}getBackgroundColor(){const{backgroundColor:e,backgroundColorOpacity:t}=this.getCrossBackgroundColor(this.meta.rowIndex);return{backgroundColor:e,backgroundColorOpacity:t,intelligentReverseTextColor:!1}}getTextStyle(){var e;const t=this.getCellTextWordWrapStyle(sK.SERIES_NUMBER_CELL),n=null===(e=this.getStyle())||void 0===e?void 0:e.seriesText;return Object.assign(Object.assign({},t),n)}getFormattedFieldValue(){var e;const{value:t,field:n}=this.meta,r=this.spreadsheet.dataSet.getFieldFormatter(n);return{value:t,formattedValue:null!==(e=null==r?void 0:r(t,void 0,this.meta))&&void 0!==e?e:t}}getMaxTextWidth(){const{width:e}=this.getBBoxByType(lQ.CONTENT_BOX);return e}isBolderText(){return!1}findFieldCondition(){}mappingValue(){}getIconPosition(){return{x:0,y:0}}}class y2 extends u2{handleRestOptions(...[e]){this.headerConfig=Object.assign({},e);const{field:t}=this.meta,n=this.spreadsheet.dataCfg.sortParams,r=vY.find(n,e=>(null==e?void 0:e.sortFieldId)===t),o=l2(r,!0);this.headerConfig.sortParam=Object.assign(Object.assign(Object.assign({},this.headerConfig.sortParam),r||{}),{type:o})}getFormattedFieldValue(){return GQ(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.field))}isSortCell(){return!0}showSortIcon(){const{extra:e}=this.meta,{options:t}=this.spreadsheet,{showDefaultHeaderActionIcon:n}=t;return(null==e?void 0:e.isCustomNode)?n&&this.meta.isLeaf:n}getTextStyle(){var e;const t=this.getCellTextWordWrapStyle(),n=null===(e=this.getStyle())||void 0===e?void 0:e.bolderText;return Object.assign(Object.assign({},t),n)}getHorizontalResizeAreaName(){return`${kY}${this.meta.id}`}drawBackgroundShape(){const{backgroundColor:e,backgroundColorOpacity:t}=this.getStyle().cell||{};this.backgroundShape=JQ(this,Object.assign(Object.assign({},this.getBBoxByType()),{fill:e,fillOpacity:t}))}drawTextOrCustomRenderer(){this.drawTextShape(),this.afterDrawText()}}class b2 extends y2{getStyle(e){var t;return e?vY.get(this.theme,e):null===(t=this.theme)||void 0===t?void 0:t.cornerCell}showSortIcon(){return!1}}class x2 extends f2{getLinkFieldStyle(){return this.theme.rowCell.text.linkTextFill}shouldDrawResizeArea(){const e=`${this.meta.rowIndex}`,t=VJ(this.spreadsheet,CY);return!(null==t?void 0:t.getElementById(e))}drawResizeArea(){if(!this.shouldDrawResizeArea())return;const e=VJ(this.spreadsheet,CY);if(!e)return;const{rowIndex:t}=this.getMeta(),n=this.spreadsheet.facet.getCellRange(),{rowCount:r,trailingRowCount:o}=this.spreadsheet.facet.getFrozenOptions(),i=IJ(t,n.start,r),a=NJ(t,n.end,o),l=i||a,{y:s,height:c}=this.getBBoxByType(),{x:u,y:d,viewportWidth:f,viewportHeight:h}=this.spreadsheet.facet.panelBBox,{scrollY:p}=this.spreadsheet.facet.getScrollOffset(),g=this.spreadsheet.facet.getPaginationScrollY(),m=this.spreadsheet.facet.frozenGroupAreas,v=m[JY.Row],y=m[JY.TrailingRow],b=this.getResizeAreaStyle(),x=u+f,w={x:0,y:l?0:v.height,width:x,height:l?Number.POSITIVE_INFINITY:h-v.height-y.height},C={x:0,y:s+c-b.size,width:x,height:b.size};if(!qJ(C,w,{scrollX:0,scrollY:l?0:g+p}))return;let S=d;S+=i?s-v.y:a?h-y.height+s-y.y:s-g-p;const E=GJ({theme:b,type:LK.Vertical,effect:_K.Cell,offsetX:0,offsetY:S,width:x,height:c,meta:this.meta,cell:this});e.appendChild(new eQ({style:Object.assign(Object.assign({},E.style),{x:0,y:S+c-b.size,width:x})},E.appendInfo))}isDisableHover(e){return(null==e?void 0:e.type)===sK.COL_CELL}getResizedTextMaxLines(){var e,t,n,r,o;const{facet:i,options:a}=this.spreadsheet,{rowCell:l}=a.style,{id:s,rowId:c,rowIndex:u}=this.meta;return null!==(r=null!==(t=null===(e=null==l?void 0:l.maxLinesByField)||void 0===e?void 0:e[s])&&void 0!==t?t:null===(n=null==l?void 0:l.maxLinesByField)||void 0===n?void 0:n[c])&&void 0!==r?r:this.getMaxLinesByCustomHeight({isCustomHeight:null===(o=null==i?void 0:i.customRowHeightStatusMap)||void 0===o?void 0:o[u]})}}class w2 extends x2{get cellType(){return sK.DATA_CELL}getTextStyle(){const e=this.getCellTextWordWrapStyle(sK.SERIES_NUMBER_CELL),t=this.theme.rowCell.seriesText;return Object.assign(Object.assign({},e),t)}}class C2{constructor(e){this.displayFormattedValueMap=new Map,this.getField=e=>(vY.isString(e)?e:null==e?void 0:e.field)||e,this.getFieldMeta=vY.memoize((e,t)=>{const n=this.getField(e);return vY.find(this.meta||t,({field:e})=>e instanceof RegExp?e.test(n):vY.isArray(e)?e.includes(n):e===n)}),this.getCustomFieldDescription=e=>{var t,n;if(!e)return;const r=null===(t=e.getMeta)||void 0===t?void 0:t.call(e);if(!(null==r?void 0:r.isTotals)){if(e.cellType===sK.DATA_CELL){const e=vY.find(null==r?void 0:r.spreadsheet.dataCfg.meta,{field:(null==r?void 0:r.field)||(null==r?void 0:r.value)||(null==r?void 0:r.valueField)});return this.getFieldDescription(null==e?void 0:e.field)}return(null===(n=null==r?void 0:r.extra)||void 0===n?void 0:n.description)||this.getFieldDescription(null==r?void 0:r.field)}},this.spreadsheet=e}getFieldName(e,t){var n,r,o,i;if(e===UY)return null===(n=this.spreadsheet)||void 0===n?void 0:n.getSeriesNumberText();const a=this.getField(e);let l;(null===(r=this.spreadsheet)||void 0===r?void 0:r.isCustomHeaderFields())&&(l=null===(i=null===(o=this.spreadsheet)||void 0===o?void 0:o.facet)||void 0===i?void 0:i.getHeaderNodes().find(e=>{var t;return e.field===a&&(null===(t=null==e?void 0:e.extra)||void 0===t?void 0:t.isCustomNode)}));const s=(null==l?void 0:l.value)||(vY.isString(e)?e:null==e?void 0:e.title)||e;return vY.get(this.getFieldMeta(a,this.meta),"name",vJ(null!=t?t:s))}getCustomRowFieldName(e){var t;if(!e)return;const n=null===(t=e.getMeta)||void 0===t?void 0:t.call(e);if(e.cellType===sK.DATA_CELL){const e=this.spreadsheet.facet.getRowNodeByIndex(null==n?void 0:n.rowIndex);return(null==e?void 0:e.value)||this.getFieldName(null==e?void 0:e.field)}return(null==n?void 0:n.value)||this.getFieldName(null==n?void 0:n.field)}getFieldFormatter(e){const t=this.getField(e),n=vY.get(this.getFieldMeta(t,this.meta),"formatter",vY.identity);return(e,t,r)=>{var o,i;const a=wJ(r,null===(i=null===(o=this.spreadsheet)||void 0===o?void 0:o.options)||void 0===i?void 0:i.placeholder);return mJ(null==n?void 0:n(e,t,r),a)}}getFieldDescription(e){const t=this.getField(e);return vY.get(this.getFieldMeta(t,this.meta),"description")}setDataCfg(e){var t,n,r;null===(r=null===(n=null===(t=this.getFieldMeta)||void 0===t?void 0:t.cache)||void 0===n?void 0:n.clear)||void 0===r||r.call(n);const{fields:o,meta:i,data:a,sortParams:l,filterParams:s}=this.processDataCfg(e);this.fields=o,this.meta=i,this.originData=a,this.sortParams=l,this.filterParams=s,this.displayData=this.originData,this.indexesData={}}processMeta(e=[],t){var n,r;return[...e,a0(e,null===(r=null===(n=this.spreadsheet)||void 0===n?void 0:n.options)||void 0===r?void 0:r.cornerExtraFieldText,t)]}getDisplayDataSet(){return this.displayData||[]}isEmpty(){return vY.isEmpty(this.getDisplayDataSet())}getEmptyViewIndexes(){return[]}getValueRangeByField(e){const t=(n=this.spreadsheet,r=e,n.store.get(TY,LY)[r]);var n,r;if(t)return t;const o=vY.compact(vY.map(this.originData,t=>{const n=t[e];return vY.isNil(n)?null:Number.parseFloat(n)})),i={maxValue:vY.max(o),minValue:vY.min(o)};return((e,t)=>{const n=e.store.get(TY,LY);e.store.set(TY,Object.assign(Object.assign({},n),t))})(this.spreadsheet,{[e]:i}),i}moreThanOneValue(){var e,t;return(null===(t=null===(e=this.fields)||void 0===e?void 0:e.values)||void 0===t?void 0:t.length)>1}}const S2=`${NY}-offscreen-canvas`,E2=(e,t,n)=>{var r,o;const i=vY.get(n,"cell.padding"),a=null!==(o=null===(r=null==n?void 0:n.cell)||void 0===r?void 0:r.horizontalBorderWidth)&&void 0!==o?o:1,l=((e,t,n)=>{var r,o,i,a;const l=(null===(o=null===(r=n.icon)||void 0===r?void 0:r.margin)||void 0===o?void 0:o.left)||0,s=(null===(a=null===(i=n.icon)||void 0===i?void 0:i.margin)||void 0===a?void 0:a.right)||0,c=e.store.get("hiddenColumnsDetail",[]);let u=!1,d=!1;c.forEach(e=>{var n,r,o,i;(null===(r=null===(n=null==e?void 0:e.displaySiblingNode)||void 0===n?void 0:n.prev)||void 0===r?void 0:r.field)===t&&(u=!0),(null===(i=null===(o=null==e?void 0:e.displaySiblingNode)||void 0===o?void 0:o.next)||void 0===i?void 0:i.field)===t&&(d=!0)});const f=vY.get(n,"icon.size");return{left:d?f+s:0,right:u?f+l:0}})(e,t.field,n),s=((e,t,n,r)=>{var o,i;const a=null==r?void 0:r.size,l=null==r?void 0:r.margin;let s=0;return s=e.options.showDefaultHeaderActionIcon?1:null!==(i=null===(o=HQ(e.options.headerActionIcons,t,n))||void 0===o?void 0:o.icons.length)&&void 0!==i?i:0,s*(a+l.left)+(s>0?l.right:0)})(e,t,sK.COL_CELL,null==n?void 0:n.icon);return i.left+i.right+s+l.left+l.right+a},O2=e=>{try{return JSON.parse(e)}catch(t){return null}},k2=(e,t="\t")=>({type:dQ.PLAIN,content:vY.map(e,e=>e.join(t)).join("\r\n")}),M2=e=>{const t=(n="tr",e.map(e=>`<${n}>${function(e,t){return e.map(e=>`<${t}>${vY.escape(e)}</${t}>`).join("")}(e,"td")}</${n}>`).join(""));var n;return{type:dQ.HTML,content:`<meta charset="utf-8"><table><tbody>${t}</tbody></table>`}},$2={[dQ.PLAIN]:k2,[dQ.HTML]:M2},I2=({rowMatrix:e,colMatrix:t,dataMatrix:n,cornerMatrix:r})=>{var o,i,a,l,s,c;const u=null!==(i=null===(o=null==e?void 0:e[0])||void 0===o?void 0:o.length)&&void 0!==i?i:0,d=null!==(a=null==t?void 0:t.length)&&void 0!==a?a:0,f=null!==(s=null===(l=n[0])||void 0===l?void 0:l.length)&&void 0!==s?s:0,h=null!==(c=n.length)&&void 0!==c?c:0,p=u+f,g=d||(u>0?1:0),m=g+h;let v=Array.from(Array(m),()=>new Array(p));return v=vY.map(v,(o,i)=>vY.map(o,(o,a)=>{var l,s;return a>=0&&a<u&&i>=0&&i<g?null!==(s=null===(l=null==r?void 0:r[i])||void 0===l?void 0:l[a])&&void 0!==s?s:"":a>=u&&a<=p&&i>=0&&i<d?t[i][a-u]:a>=0&&a<u&&i>=g&&i<m?null==e?void 0:e[i-g][a]:a>=u&&a<=p&&i>=g&&i<m?n[i-g][a-u]:void 0})),v};function N2(e){var t;return null!==(t=vY.max(vY.map(e,e=>e.length)))&&void 0!==t?t:0}function T2({spreadsheet:{options:{interaction:e}},config:{formatOptions:t=!1,separator:n="\t",selectedCells:r=[],customTransformer:o,async:i=!1},isExport:a}){var l,s;const{copy:c}=e,{formatData:u,formatHeader:d}=a?(e=>{var t,n;return"object"==typeof e?{formatHeader:null!==(t=e.formatHeader)&&void 0!==t&&t,formatData:null!==(n=e.formatData)&&void 0!==n&&n}:{formatHeader:null!=e&&e,formatData:null!=e&&e}})(t):{formatData:null!==(l=null==c?void 0:c.withFormat)&&void 0!==l&&l,formatHeader:null!==(s=null==c?void 0:c.withFormat)&&void 0!==s&&s},f=function(e){if(!e)return $2;const t=e($2);return{[dQ.PLAIN]:t[dQ.PLAIN]||$2[dQ.PLAIN],[dQ.HTML]:t[dQ.HTML]||$2[dQ.HTML]}}(a?o:null==c?void 0:c.customTransformer);return{separator:n,selectedCells:r,transformers:f,formatData:u,formatHeader:d,async:i}}const L2=e=>{const t=[],n=e=>{var r,o,i;if(e.id===$K)return;const a=null===(i=null===(o=null===(r=e.spreadsheet)||void 0===r?void 0:r.dataSet)||void 0===o?void 0:o.getFieldFormatter)||void 0===i?void 0:i.call(o,e.field),l=e.isTotals||!a?e.value:a(e.value);return t.unshift(l),(null==e?void 0:e.parent)?n(e.parent):void 0};return n(e),t},R2=(e,t)=>{const{rowIndex:n,colIndex:r}=e,{facet:o}=t;return[o.getRowNodeByIndex(n),o.getColNodeByIndex(r)]},_2={timeout:3e3};function A2(e,t){return!(!e||!t)&&String(e).toLowerCase()===String(t).toLowerCase()}const P2=e=>{if("string"!=typeof e)return e;if(/[",\r\n\t]/.test(e)){return`"${e.replace(/"/g,'""').replace(/\r\n/g,"\n").replace(/\n/g,"\r\n")}"`}return e},j2=(e,t,n=!0)=>vY.map(e,e=>e===UY?t.getSeriesNumberText():n?t.dataSet.getFieldName(e):vY.flow(xQ,vJ)(e)),B2=(e,t)=>{const n=e.split(IK);return t?n.slice(n.length-t):(n.shift(),n)},D2=(e,t)=>e()?null==t?void 0:t.value:null==t?void 0:t.field,z2=e=>e.filter(({type:e})=>e===sK.COL_CELL),H2=e=>e.filter(({type:e})=>e===sK.ROW_CELL),F2=e=>new Promise((t,n)=>{let r;r=Array.isArray(e)?vY.get(e.filter(e=>e.type===dQ.PLAIN),"[0].content",""):e.content||"";const o=document.createElement("textarea");o.value=r,document.body.appendChild(o),o.focus({preventScroll:!0}),o.select();const i=document.execCommand("copy");document.body.removeChild(o),i?t():n()}),W2=(e,t=!0)=>{let n;return n="string"==typeof e?{content:e,type:dQ.PLAIN}:e,navigator.clipboard&&window.ClipboardItem&&t?(e=>navigator.clipboard.write([new ClipboardItem(vY.concat(e).reduce((e,t)=>{const{type:n,content:r}=t,o=r.replace(/\x00/g,"");return Object.assign(Object.assign({},e),{[n]:new Blob([o],{type:n})})},{}))]).catch(()=>F2(e)))(n):F2(n)};class G2{initIdleCallbackCount(e){this.idleCallbackCount=e>=5e3?5e3:e}constructor(e){this.matrixHtmlTransformer=e=>this.config.transformers[dQ.HTML](e);const{spreadsheet:t,isExport:n=!1,config:r}=e;this.spreadsheet=t,this.config=T2({config:r,spreadsheet:t,isExport:n})}getHeaderNodeMatrix(e){const{formatHeader:t}=this.config;return j2(B2(e.id),e.spreadsheet,t)}matrixPlainTextTransformer(e,t){const n=vY.map(e,e=>vY.map(e,P2));return this.config.transformers[dQ.PLAIN](n,t)}matrixTransformer(e,t="\t"){return[this.matrixPlainTextTransformer(e,t),this.matrixHtmlTransformer(e)]}getFormatter(e){const{field:t,rowIndex:n,colIndex:r}=e;if(this.config.formatData){const e=this.spreadsheet.facet.getCellMeta(n,r);return n=>{const r=this.spreadsheet.dataSet.getFieldFormatter(t);return null==r?void 0:r(n,null==e?void 0:e.data,e)}}return e=>e}isEnableASync(){return this.config.async&&!!window.requestIdleCallback}}class V2 extends G2{constructor(e){super(e),this.leafRowNodes=[],this.leafColNodes=[],this.compatibleHideMeasureColumn=()=>{var e,t,n,r;return(null===(n=null===(t=null===(e=this.spreadsheet.options)||void 0===e?void 0:e.style)||void 0===t?void 0:t.colCell)||void 0===n?void 0:n.hideValue)&&this.spreadsheet.isValueInCols()?{[WY]:null===(r=this.spreadsheet.dataCfg.fields.values)||void 0===r?void 0:r[0]}:{}},this.getDataMatrixByHeaderNode=()=>{const e=this.compatibleHideMeasureColumn();return vY.map(this.leafRowNodes,t=>this.leafColNodes.map(n=>this.getDataCellValue({rowNode:t,colNode:n,config:{measureQuery:e}})))},this.getDataMatrixByHeaderNodeRIC=()=>{const e=[];let t=0;const n=this.compatibleHideMeasureColumn();return new Promise((r,o)=>{try{const o=i=>{const a=this.leafRowNodes.length;for(this.initIdleCallbackCount(a);(i.timeRemaining()>0||i.didTimeout)&&t<=a-1&&this.idleCallbackCount>0;)for(let r=t;r<a&&this.idleCallbackCount>0;r++){const o=[],i=this.leafRowNodes[r];for(let e=0;e<this.leafColNodes.length;e++){const t=this.leafColNodes[e],r=this.getDataCellValue({rowNode:i,colNode:t,config:{measureQuery:n}});o.push(r)}t++,e.push(o),this.idleCallbackCount--}t===a?r(e):(this.initIdleCallbackCount(a),requestIdleCallback(o,_2))};requestIdleCallback(o,_2)}catch(rw){o(rw)}})},this.getDataCellValue=({rowNode:e,colNode:t,config:n})=>{var r;const{measureQuery:o}=n,i=Object.assign(Object.assign(Object.assign({},e.query),t.query),o),a=e.isTotals||e.isTotalMeasure||t.isTotals||t.isTotalMeasure,l=this.spreadsheet.dataSet.getCellData({query:i,rowNode:e,isTotals:a,totalStatus:l0(e,t)}),s=this.spreadsheet.isValueInCols()?t:e;let c=null!==(r=D2(this.spreadsheet.isPivotMode,s))&&void 0!==r?r:"";const{values:u}=this.spreadsheet.dataCfg.fields;c=(null==u?void 0:u.includes(c))?c:null==u?void 0:u[0];const d=this.getFormatter({field:null!=c?c:t.field,rowIndex:e.rowIndex,colIndex:t.colIndex}),f=null==l?void 0:l[FY],h=vY.isPlainObject(null==f?void 0:f.values)?"":f;return d(null!=h?h:"")},this.getCustomRowCornerMatrix=e=>{const t=N2(null!=e?e:[]),n=this.spreadsheet.facet.getCornerNodes(),r=vY.sortBy(n,e=>e.cornerType===hQ.Col?0:1);return this.spreadsheet.isHierarchyTreeType()?vY.map(r,e=>{const n=new Array(t).fill("");return n[t-1]=e.value,n}):Object.values(vY.groupBy(r,"y")).map(e=>[...new Array(t-e.length).fill(""),...e.map(e=>e.value)])},this.getFieldName=e=>this.config.formatHeader?this.spreadsheet.dataSet.getFieldName(e):this.spreadsheet.dataSet.getField(e),this.getCornerMatrix=e=>{if(this.spreadsheet.isCustomRowFields())return this.getCustomRowCornerMatrix(e);const{colsHierarchy:t}=this.spreadsheet.facet.getLayoutResult(),{fields:n}=this.spreadsheet.dataCfg,{columns:r=[],rows:o=[]}=n,i=this.spreadsheet.isCustomColumnFields()?t.getNodes().slice(0,t.sampleNodesForAllLevels.length).map(e=>e.field):[...r,""],a=this.spreadsheet.isHierarchyTreeType()?N2(null!=e?e:[]):o.length,l=vY.slice(o,0,a);return vY.map(i,(e,t)=>vY.map(l,(n,r)=>t===i.length-1?this.getFieldName(n):r===a-1?this.getFieldName(e):""))},this.getDataMatrixByDataCell=e=>{const{copy:t}=this.spreadsheet.options.interaction,n=this.compatibleHideMeasureColumn(),r=vY.map(e,e=>vY.map(e,e=>{const[t,r]=R2(e,this.spreadsheet);return this.getDataCellValue({rowNode:t,colNode:r,config:{measureQuery:n}})}));if(!(null==t?void 0:t.withHeader))return this.matrixTransformer(r,this.config.separator);const o=this.getRowMatrix(),i=this.getColMatrix();return this.matrixTransformer(I2({rowMatrix:o,colMatrix:i,dataMatrix:r}),this.config.separator)},this.getAsyncAllPivotCopyData=()=>Hz(this,void 0,void 0,function*(){const e=this.getRowMatrix(),t=this.getColMatrix(),n=this.getCornerMatrix(e);let r=[];r=this.isEnableASync()?yield this.getDataMatrixByHeaderNodeRIC():yield Promise.resolve(this.getDataMatrixByHeaderNode());return this.matrixTransformer(I2({rowMatrix:e,colMatrix:t,dataMatrix:r,cornerMatrix:n}),this.config.separator)}),this.getPivotAllCopyData=()=>{const e=this.getRowMatrix(),t=this.getColMatrix(),n=this.getCornerMatrix(e),r=this.getDataMatrixByHeaderNode();return this.matrixTransformer(I2({rowMatrix:e,colMatrix:t,dataMatrix:r,cornerMatrix:n}),this.config.separator)},this.leafRowNodes=this.getLeafRowNodes(),this.leafColNodes=this.getLeafColNodes()}getHeaderNodeMatrix(e){return this.config.formatHeader?L2(e):super.getHeaderNodeMatrix(e)}getLeafRowNodes(){const e=this.spreadsheet.facet.getRowLeafNodes(),t=H2(this.config.selectedCells),n=this.spreadsheet.isHierarchyTreeType();return vY.isEmpty(t)?e:this.getSelectedNode(t,e,n)}getLeafColNodes(){const e=this.spreadsheet.facet.getColLeafNodes(),t=z2(this.config.selectedCells);return vY.isEmpty(t)?e:this.getSelectedNode(t,e)}getSelectedNode(e,t,n=!1){return e.reduce((e,r)=>{const o=t.filter(e=>n?e.id===r.id:e.id.startsWith(r.id));return e.push(...o),e},[])}getColMatrix(){return vY.zip(...vY.map(this.leafColNodes,e=>this.getHeaderNodeMatrix(e)))}getRowMatrix(){return function(e){const t=N2(e);return vY.map(e,e=>{const n=t-e.length;return n?[...e,...new Array(n).fill("")]:e})}(vY.map(this.leafRowNodes,e=>this.getHeaderNodeMatrix(e)))}getPivotCopyData(){const{copy:e}=this.spreadsheet.options.interaction,t=this.getDataMatrixByHeaderNode();if(!(null==e?void 0:e.withHeader))return this.matrixTransformer(t,this.config.separator);const n=this.getRowMatrix(),r=this.getColMatrix();return this.matrixTransformer(I2({rowMatrix:n,colMatrix:r,dataMatrix:t}),this.config.separator)}}function q2(e){var t,n,r,o;const i=function(e){const t=new Set;return vY.forEach(e,e=>{const n=e.getMeta().level;t.has(n)||t.add(n)}),t}(e),a=null!==(t=vY.max(Array.from(i)))&&void 0!==t?t:0,l=function(e,t){return vY.filter(e,e=>{const n=e.getMeta(),r=n.level===t,o=n.isTotals&&vY.isEmpty(n.children);return r||o})}(e,a),s=e[0].cellType===sK.COL_CELL,{spreadsheet:c}=e[0].getMeta(),u=function(e,t,n,r){return vY.map(e,e=>{var o;const i=e.getMeta();if(r){const e=L2(i),r=null!==(o=vY.min(Array.from(n)))&&void 0!==o?o:0;return e.slice(r,t+1)}const{id:a,value:l,isTotals:s,level:c,spreadsheet:u}=i;let d=a;return s&&c!==t&&(d=a+IK+vY.repeat(l,t-c)),j2(B2(d,n.size),u,!1)})}(l,a,i,null!==(o=null===(r=null===(n=c.options.interaction)||void 0===n?void 0:n.copy)||void 0===r?void 0:r.withFormat)&&void 0!==o&&o),d=s?vY.zip(...u):u;return[k2(d),M2(d)]}class X2 extends G2{constructor(e){super(e),this.getValueFromMeta=e=>{var t;const[,n]=R2(e,this.spreadsheet),r=D2(this.spreadsheet.isPivotMode,n),o=this.isSeriesNumberField(r)?e.rowIndex+1:null===(t=this.displayData[e.rowIndex])||void 0===t?void 0:t[r];return this.getFormatter({field:r,rowIndex:e.rowIndex,colIndex:e.colIndex})(o)},this.displayData=this.getSelectedDisplayData(),this.columnNodes=this.getSelectedColNodes()}getHeaderNodeMatrix(e){return super.getHeaderNodeMatrix(e)}getSelectedColNodes(){const e=z2(this.config.selectedCells),t=this.spreadsheet.facet.getColLeafNodes();return 0===e.length?t:vY.map(e,e=>t[e.colIndex])}getSelectedDisplayData(){const e=H2(this.config.selectedCells),t=this.spreadsheet.dataSet.getDisplayDataSet();return 0===e.length?t:vY.map(e,e=>t[e.rowIndex])}getDataMatrix(){const{seriesNumber:e}=this.spreadsheet.options;return this.displayData.map((t,n)=>this.columnNodes.map((r,o)=>{const i=null==r?void 0:r.field;if(UY===i&&(null==e?void 0:e.enable))return(n+1).toString();return this.getFormatter({field:i,rowIndex:n,colIndex:o})(null==t?void 0:t[i])}))}getDataMatrixRIC(){const{seriesNumber:e}=this.spreadsheet.options,t=[];let n=0;return new Promise((r,o)=>{try{const o=i=>{const a=this.displayData.length;for(this.initIdleCallbackCount(a);(i.timeRemaining()>0||i.didTimeout)&&n<=a-1&&this.idleCallbackCount>0;)for(let r=n;r<a&&this.idleCallbackCount>0;r++){const o=this.displayData[r],i=[];for(let t=0;t<this.columnNodes.length;t++){const a=this.columnNodes[t].field;if(UY===a&&(null==e?void 0:e.enable)){i.push((r+1).toString());continue}const l=this.getFormatter({field:a,rowIndex:n,colIndex:t})(o[a]);i.push(l)}n++,t.push(i),this.idleCallbackCount--}n===a?r(t):(this.initIdleCallbackCount(a),requestIdleCallback(o,_2))};requestIdleCallback(o,_2)}catch(rw){o(rw)}})}isSeriesNumberField(e){const{seriesNumber:t}=this.spreadsheet.options;return UY===e&&(null==t?void 0:t.enable)}getColMatrix(){return vY.zip(...this.columnNodes.map(e=>this.getHeaderNodeMatrix(e)))}getDataMatrixByDataCell(e){const{copy:t}=this.spreadsheet.options.interaction,n=vY.map(e,e=>vY.map(e,e=>this.getValueFromMeta(e)));if(!(null==t?void 0:t.withHeader))return this.matrixTransformer(n,this.config.separator);const r=this.getColMatrix();return this.matrixTransformer(I2({colMatrix:r,dataMatrix:n}),this.config.separator)}processSelectedTable(e=!1){const t=this.getDataMatrix();if(!e)return this.matrixTransformer(t,this.config.separator);const n=this.getColMatrix();return this.matrixTransformer(I2({colMatrix:n,dataMatrix:t}),this.config.separator)}asyncProcessSelectedTable(){return Hz(this,arguments,void 0,function*(e=!1){const t=this.isEnableASync()?yield this.getDataMatrixRIC():yield Promise.resolve(this.getDataMatrix());if(!e)return this.matrixTransformer(t,this.config.separator);const n=this.getColMatrix();return this.matrixTransformer(I2({colMatrix:n,dataMatrix:t}),this.config.separator)})}}const U2=(e,t)=>e.isPivotMode()?function(e,t){return new V2({spreadsheet:e,config:{selectedCells:t}}).getPivotCopyData()}(e,t):((e,t)=>new X2({spreadsheet:e,config:{selectedCells:t}}).processSelectedTable())(e,t);function Y2(e,t,n,r){return r.isPivotMode()?(({spreadsheet:e,selectedCells:t,headerSelectedCells:n})=>new V2({spreadsheet:e,config:{selectedCells:n,formatOptions:!0}}).getDataMatrixByDataCell(t))({spreadsheet:r,selectedCells:e,headerSelectedCells:vY.concat(t,n)}):(({spreadsheet:e,selectedCells:t,headerSelectedCells:n})=>new X2({spreadsheet:e,config:{selectedCells:n,formatOptions:!0}}).getDataMatrixByDataCell(t))({spreadsheet:r,selectedCells:e,headerSelectedCells:t})}function K2(e,t){let n;const r=z2(t),o=H2(t);if(e.interaction.getCurrentStateName()===aK.ALL_SELECTED)n=U2(e,[]);else if(r.length)n=U2(e,r);else if(o.length)n=U2(e,o);else{if(!t.length)return[{type:dQ.PLAIN,content:""},{type:dQ.HTML,content:""}];const r=(e=>{if(!(null==e?void 0:e.length))return[];const[t,n]=[{row:1/0,col:1/0},{row:0,col:0}];e.forEach(e=>{const{rowIndex:r,colIndex:o}=e;t.col=Math.min(o,t.col),t.row=Math.min(r,t.row),n.col=Math.max(o,n.col),n.row=Math.max(r,n.row)});const[r,o]=[n.row-t.row+1,n.col-t.col+1],i=new Array(r).fill("").map(()=>new Array(o).fill(""));return e.forEach(e=>{const{rowIndex:n,colIndex:r}=e,[o,a]=[n-t.row,r-t.col];i[o][a]=e}),i})(t),o=r[0].map(e=>{var t;return Object.assign(Object.assign({},e),{id:(null==e?void 0:e.colId)||vY.last(null===(t=null==e?void 0:e.id)||void 0===t?void 0:t.split("-"))||"",type:sK.COL_CELL})}),i=r.map(e=>{var t,n,r;return Object.assign(Object.assign({},e[0]),{id:(null===(t=e[0])||void 0===t?void 0:t.rowId)||vY.first(null===(r=null===(n=e[0])||void 0===n?void 0:n.id)||void 0===r?void 0:r.split("-"))||"",type:sK.ROW_CELL})});n=Y2(r,o,i,e)}return n}const Z2=e=>{var t;const n=e.interaction,r=n.getState().cells||[],o=null!==(t=n.getInteractedCells())&&void 0!==t?t:[],i=function(e){return!vY.isEmpty(e)&&vY.every(e,e=>e.cellType===sK.ROW_CELL||e.cellType===sK.COL_CELL)}(o),a=i?q2(o):K2(e,r);return a&&W2(a),a},Q2=(e,t,n)=>{if(n<=0)return{start:0,end:0};let r=vY.findIndex(e,(n,r)=>t>=n&&t<e[r+1],0);r=Math.max(r,0);let o=n===t?r:vY.findIndex(e,(t,r)=>n>t&&n<=e[r+1],r);return o=Math.min(-1===o?1/0:o,e.length-2),{start:r,end:o}},J2=(e,t)=>{const{width:n,originalWidth:r}=t,o=Math.min(r-n,e);return o<0?0:o},e5=(e,t,n)=>{const r=Math.min(t-n,e);return r<0?0:r},t5=(e=[],t)=>{if(vY.isEmpty(e))return[];const n=[];return e.forEach(e=>{if(e instanceof t&&n.push(e),e instanceof FX){e.children.forEach(e=>{e instanceof t&&n.push(e)})}}),n},n5=e=>e&&"appendInfo"in e?e.appendInfo:{},r5=(e,t,n)=>{let r;const o=e.split(IK);if(n)r=[e];else{r=[wQ(o[0],o[1])];for(let e=2;e<o.length;e+=1)r.push(wQ(r[e-2],o[e]))}return vY.filter(t,e=>{var t;return r.includes(null===(t=e.getMeta())||void 0===t?void 0:t.id)})},o5=(e,t,n)=>{if(e){const r=r5(e,t);vY.forEach(r,e=>{e.updateByState(n)})}},i5=(e,t,n=[])=>{var r;const{cellsMeta:o,cells:i,invisibleCellInfo:a}=((e,t)=>{const n=[],r=[];let o;return vY.forEach(e,e=>{const i=vY.find(t,t=>{var n;const r=null===(n=null==t?void 0:t.getMeta)||void 0===n?void 0:n.call(t);if((null==r?void 0:r.colIndex)===(null==e?void 0:e.colIndex)&&(null==r?void 0:r.rowIndex)===(null==e?void 0:e.rowIndex))return t});i?(n.push(i),o=(null==e?void 0:e.showText)?null==i?void 0:i.getMeta():o):r.push(e)}),{cells:n,invisibleCellInfo:r,cellsMeta:o}})(n,e);let l=o,s=i;if((null==a?void 0:a.length)>0&&a.length<n.length){const{cells:e,cellsMeta:n}=((e,t)=>{const n=[];let r;return vY.forEach(e,e=>{var o,i;const a=null===(o=null==t?void 0:t.facet)||void 0===o?void 0:o.getCellMeta(e.rowIndex,e.colIndex),l=null===(i=null==t?void 0:t.facet)||void 0===i?void 0:i.createDataCell(a);l&&(n.push(l),r=(null==e?void 0:e.showText)?a:r)}),{cells:n,cellsMeta:r}})(a,t);l=l||n,s=i.concat(e)}return vY.isEmpty(i)||l||(l=null===(r=s[0])||void 0===r?void 0:r.getMeta()),{cells:s,viewMeta:l}},a5=(e,t,n)=>{var r;return(null===(r=e.options)||void 0===r?void 0:r.mergedCell)?e.options.mergedCell(e,t,n):new g2(e,t,n)},l5=(e,t,n)=>{var r;const o=t||(e=>{const{interaction:t}=e,n=t.getActiveCells(),r=[];return vY.forEach(n,(e,t)=>{const n=e.getMeta(),o=0===t?{showText:!0}:{};r.push(Object.assign(Object.assign({},o),{colIndex:null==n?void 0:n.colIndex,rowIndex:null==n?void 0:n.rowIndex}))}),r})(e);if((null==o?void 0:o.length)<=1)return;const i=e.facet.getDataCells(),{cells:a,viewMeta:l}=i5(i,e,o);if(!vY.isEmpty(a)){const t=(null===(r=e.options)||void 0===r?void 0:r.mergedCellsInfo)||[];t.push(o),e.setOptions({mergedCellsInfo:t});const i=n?void 0:l;e.facet.panelScrollGroup.addMergeCell(a5(e,a,i))}},s5=(e,t)=>{var n,r,o;if(!t||t.cellType!==sK.MERGED_CELL)return;const i=((e,t)=>{const n=vY.map(e.cells,e=>({colIndex:e.getMeta().colIndex,rowIndex:e.getMeta().rowIndex}));return vY.filter(t,e=>{const t=e.map(e=>e.showText?{colIndex:e.colIndex,rowIndex:e.rowIndex}:e);return!vY.isEqual(t,n)})})(t,(null===(n=e.options)||void 0===n?void 0:n.mergedCellsInfo)||[]);(null==i?void 0:i.length)!==(null===(o=null===(r=e.options)||void 0===r?void 0:r.mergedCellsInfo)||void 0===o?void 0:o.length)&&(e.setOptions({mergedCellsInfo:i}),t.remove())},c5=(e,t)=>vY.differenceWith(e,t,(e,t)=>vY.isEqual(e.viewMeta.id,t.viewMeta.id)),u5=(e,t)=>{var n;const r=null===(n=e.options)||void 0===n?void 0:n.mergedCellsInfo;if(vY.isEmpty(r))return;const o=e.facet.getDataCells();if(vY.isEmpty(o))return;const i=[];r.forEach(t=>{const n=i5(o,e,t);n.cells.length>0&&i.push(n)});const a=t.children,l=(e=>vY.map(e,e=>({cells:e.cells,viewMeta:e.getMeta()})))(a),s=c5(l,i),c=c5(i,l);vY.forEach(s,e=>{const t=vY.find(a,t=>vY.isEqual(t.getMeta().id,e.viewMeta.id));null==t||t.remove()}),vY.forEach(c,({cells:n,viewMeta:r})=>{t.appendChild(a5(e,n,r))})},d5=e=>[gK.META,gK.CONTROL].includes(e.key),f5=e=>e.ctrlKey||e.metaKey,h5=e=>{const t=e.getMeta(),{id:n,colIndex:r,rowIndex:o,rowQuery:i}=t||{};return{id:n,colIndex:r,rowIndex:o,rowQuery:i,type:e instanceof w2?sK.ROW_CELL:e.cellType}};function p5(e,t){const n=Math.min(e.rowIndex,t.rowIndex),r=Math.max(e.rowIndex,t.rowIndex);return{start:{rowIndex:n,colIndex:Math.min(e.colIndex,t.colIndex)},end:{rowIndex:r,colIndex:Math.max(e.colIndex,t.colIndex)}}}const g5=(e,t)=>{const{facet:n}=e.spreadsheet,{colHeader:r,rowHeader:o}=e.getSelectedCellHighlight();r&&e.updateCells(n.getColCells()),o&&e.updateCells(n.getRowCells()),t()},m5=e=>vY.mapValues(vY.groupBy(e,"type"),e=>vY.map(e,"id")),v5=e=>{var t;const n=e.store.get("visibleActionIcons"),r=e.interaction.getInteractedCells(),o=e.interaction.getState().cells;if(vY.isEmpty(r)&&vY.isEmpty(o)&&vY.isEmpty(n))return!1;if(vY.forEach(n,e=>{e.toggleVisibility(!1)}),e.store.set("visibleActionIcons",[]),vY.forEach(r,e=>{e.hideInteractionShape()}),e.interaction.resetState(),null===(t=e.options.interaction)||void 0===t?void 0:t.selectedCellsSpotlight){const t=e.interaction.getUnSelectedDataCells()||[];vY.forEach(t,e=>{e.clearUnselectedState()})}return!0},y5=(...e)=>{const t=[...e,(e,t)=>{if(vY.isArray(e)&&vY.isArray(t))return t}];return vY.mergeWith({},...t)},b5=(...e)=>{var t;const n=y5(jY,...e);n.fields=(e=>{const t=["rows","columns","values"].reduce((t,n)=>{const r=e[n],o=vY.uniq(r);return vY.isEqual(o,r),t[n]=o,t},{});return Object.assign(Object.assign({},e),t)})(n.fields);const r=null===(t=n.fields.rows)||void 0===t?void 0:t.some(e=>!vY.isString(e)),o=vY.isEmpty(n.fields.values);return(r||o)&&(n.fields.valueInCols=!1),n},x5=(...e)=>y5(VK,...e);function w5(e){Promise.resolve().then(()=>{e()})}const C5=e=>Object.assign(Object.assign({},null==e?void 0:e.colQuery),null==e?void 0:e.rowQuery),S5=(e,t)=>{if(!e)return;const{style:n,className:r=[],visible:o,dark:i=!1}=t;if(n&&Object.assign(e.style,n),r.length){const t=r.filter(Boolean);e.classList.add(...t)}e.classList.toggle(HZ,o),e.classList.toggle(FZ,!o),e.classList.toggle(jZ,i)},E5=(e,{data:t,field:n,valueField:r,useCompleteDataForFormatter:o=!0,targetCell:i})=>{var a,l;const s=null===(a=null==e?void 0:e.dataSet)||void 0===a?void 0:a.getFieldName(n),c=e.isCustomRowFields()&&(null==e?void 0:e.dataSet.getCustomRowFieldName(i))||s,u=null===(l=null==e?void 0:e.dataSet)||void 0===l?void 0:l.getFieldFormatter(n),d=q1.getFieldValue(t,n),f=vY.isObject(d)?null:d;return{name:c,value:u(r||f,o?t:void 0)}},O5=(e,t,n)=>{const r=vY.filter(vY.concat([],t),e=>e!==WY&&q1.getFieldValue(n,e));return vY.map(r,t=>E5(e,{data:n,field:t,useCompleteDataForFormatter:!1}))},k5=(e,t,n=!0)=>{const r=[];return vY.forEach(t,(t,o)=>{vY.forEach(e,e=>{n||-1===e.colIndex?n&&-1!==e.rowIndex&&r.push([e.rowIndex,o]):r.push([o,e.colIndex])})}),r},M5=(e,t,n)=>{const{facet:r}=e,o=e=>{if(!e)return!1;const n=null==t?void 0:t.getMeta(),o=null==n?void 0:n.isTotals,i=(null==t?void 0:t.cellType)===sK.COL_CELL,a=(null==t?void 0:t.cellType)===sK.ROW_CELL;if(!i&&!a)return!1;const l=r.getColNodeByIndex(e.colIndex),s=r.getRowNodeByIndex(e.rowIndex),c=i?null==s?void 0:s.isTotals:null==l?void 0:l.isTotals;return!o&&(null==e?void 0:e.isTotals)||o&&c};if(n){const t=(e=>{var t;const n=e.facet.getRowLeafNodes(),r=e.facet.getColLeafNodes(),{nodes:o=[],cells:i=[]}=e.interaction.getState(),a=null===(t=null==i?void 0:i[0])||void 0===t?void 0:t.type,l=e.isHierarchyTreeType()?o:o.filter(e=>null==e?void 0:e.isLeaf);return a===sK.COL_CELL?k5(l,n,!1):a===sK.ROW_CELL?k5(l,r):[]})(e);return vY.compact(vY.map(t,([e,t])=>{const n=r.getCellMeta(e,t);if(!o(n))return(null==n?void 0:n.data)||C5(n)}))}return e.interaction.getCells().filter(e=>{const t=r.getCellMeta(e.rowIndex,e.colIndex);return!o(t)}).map(e=>{const t=r.getCellMeta(e.rowIndex,e.colIndex);return(null==t?void 0:t.data)||C5(t)})},$5=e=>{const{spreadsheet:t,targetCell:n,options:r={}}=e,o=[],i={};if(t.isTableMode()&&(null==r?void 0:r.onlyShowCellText)){const e=null==n?void 0:n.getMeta();return[{selectedData:(null==e?void 0:e.field)?t.dataSet.getCellMultiData({query:{field:e.field}}):[t.dataSet.getRowData(e)],name:"",value:""}]}const a=M5(t,n,r.onlyShowCellText);return vY.forEach(a,e=>{var t;const n=null==e?void 0:e[WY];i[n]?null===(t=i[n])||void 0===t||t.push(e):i[n]=[e]}),vY.mapKeys(i,(e,a)=>{var l,s;const c=t.isCustomHeaderFields()?null==t?void 0:t.dataSet.getCustomRowFieldName(n):((e,t,n)=>{var r;if(n)return bY("");const o=null===(r=null==e?void 0:e.dataSet)||void 0===r?void 0:r.getFieldName(t);return o&&"undefined"!==o?o:""})(t,a,null==r?void 0:r.isTotals);let u="",d="";if(vY.every(e,e=>X1(vY.get(e,FY)))){const{placeholder:e}=t.options,n=wJ(i,e);u=n,d=n}else{const n=null===(l=null==t?void 0:t.dataSet)||void 0===l?void 0:l.getFieldFormatter(a),r=K1(e,FY);d=r,u=null!==(s=null==n?void 0:n(r,e))&&void 0!==s?s:parseFloat(r.toPrecision(16))}o.push({selectedData:e,name:c||"",value:u,originValue:d})}),t.isCustomHeaderFields()?(e=>{const t=vY.groupBy(e,"name");return Object.keys(t||{}).map(e=>{const n=t[e],r=vY.flatMap(n,e=>e.selectedData),o=n.filter(e=>vY.isNumber(e.value));return{name:e,selectedData:r,value:vY.isEmpty(o)?null:vY.sumBy(o,"value")}})})(o):o},I5=e=>{var t;const{spreadsheet:n,cellInfos:r=[],options:o={},targetCell:i}=e;let a=null,l=[],s=null,c=null;const u=n.dataSet.getCustomFieldDescription(i),d=r[0]||{};if(null==o?void 0:o.hideSummary)if(o.onlyShowCellText){const e=q1.getFieldValue(d,"value"),r=q1.getFieldValue(d,"valueField"),i=null===(t=null==n?void 0:n.dataSet)||void 0===t?void 0:t.getFieldFormatter(r),l=null==i?void 0:i(e),s=o.enableFormat?n.dataSet.getFieldName(e)||l:n.dataSet.getFieldName(r);a=vY.isString(s)?s:""}else s=((e,t,n)=>{var r,o,i,a;const{isTotals:l}=n||{};let s=[],c=[];if(t){const n=null===(o=null===(r=null==e?void 0:e.dataSet)||void 0===r?void 0:r.fields)||void 0===o?void 0:o.columns,l=null===(a=null===(i=null==e?void 0:e.dataSet)||void 0===i?void 0:i.fields)||void 0===a?void 0:a.rows;s=O5(e,LJ(n||[]),t),c=O5(e,l,t)}return vY.isEmpty(s)&&vY.isEmpty(c)&&l&&(s=[{value:bY("")}]),{cols:s,rows:c}})(n,d,o),c=((e,t,n,r)=>{if(!t)return[];const{isTotals:o}=n,i=t[WY],a=[];return o?a.push(E5(e,{data:t,field:i,targetCell:r,valueField:t[FY]})):a.push(E5(e,{data:t,field:i,targetCell:r})),a})(n,d,o,i);else l=$5({spreadsheet:n,options:o,targetCell:i});const{interpretation:f,infos:h,tips:p}=d||{};return{name:a,summaries:l,interpretation:f,infos:h,tips:p,headInfo:s,details:c,description:u}},N5=e=>{if(!e.interaction.isSelectedState())return[];const{valueInCols:t}=e.dataCfg.fields;return e.interaction.getCells().reduce((n,r)=>{const o=e.facet.getCellMeta(null==r?void 0:r.rowIndex,null==r?void 0:r.colIndex),i=C5(o);if(vY.isEmpty(o)||vY.isEmpty(i))return[];const a=Object.assign(Object.assign({},i),{colIndex:t?null==o?void 0:o.colIndex:null,rowIndex:t?null:null==o?void 0:o.rowIndex});return n.find(e=>vY.isEqual(a,e))||n.push(a),n},[])},T5=(e,t)=>{var n;if(!t||!e)return null;const{options:r,interaction:o}=e,i=null===(n=e.getCellType)||void 0===n?void 0:n.call(e,null==t?void 0:t.target),a=vY.last(o.getInteractedCells());return((e={},t)=>{const n=t=>y5(e,t),{colCell:r,rowCell:o,dataCell:i,cornerCell:a}=e;return t===sK.COL_CELL?n(r):t===sK.ROW_CELL?n(o):t===sK.DATA_CELL?n(i):t===sK.CORNER_CELL?n(a):Object.assign({},e)})(r.tooltip,i||(null==a?void 0:a.cellType))};class L5 extends C2{constructor(){super(...arguments),this.handleDimensionValuesSort=()=>{vY.each(this.sortParams,e=>{const{sortFieldId:t,sortByMeasure:n}=e;if(!t)return;const r=(e=>{const{dataSet:t,sortParam:n,originValues:r,isSortByMeasure:o}=e;let i;return i=o?a2(e):r,i2({sortParam:n,originValues:r,measureValues:i,dataSet:t})})({dataSet:this,sortParam:e,originValues:[...this.sortedDimensionValues[t]||[]],isSortByMeasure:!vY.isEmpty(n)});this.sortedDimensionValues[t]=r,this.handlePivotMetaSort(t,r)})},this.getTotalStatus=e=>{const{columns:t,rows:n}=this.fields,r=(t,n)=>{if(n){const n=vY.find(t,t=>!vY.has(e,t));return!(!n||n===vY.first(t))}return vY.every(t,t=>!vY.has(e,t))};return{isRowGrandTotal:r(ZJ(n)),isRowSubTotal:r(n,!0),isColGrandTotal:r(ZJ(t)),isColSubTotal:r(t,!0)}}}getExistValuesByDataItem(e,t){return e0(e,t)}setDataCfg(e){super.setDataCfg(e);const{rows:t}=this.fields;this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map,this.dimensionValuesCache=new Map,this.transformIndexesData(this.originData,t),this.handleDimensionValuesSort()}transformIndexesData(e,t){const{columns:n,values:r,valueInCols:o}=this.fields;let i;return UZ.getInstance().debugCallback("Transform Data",()=>{i=function(e){const{rows:t=[],columns:n=[],values:r,valueInCols:o,data:i=[],indexesData:a={},sortedDimensionValues:l,rowPivotMeta:s,colPivotMeta:c,getExistValuesByDataItem:u}=e,d=[],f=new Set(vY.intersection(t,n)),h=({dimension:e,dimensionPath:t,careRepeated:n=!0})=>{n&&f.has(e)||(l[e]||(l[e]=[])).push(t)},p=n0(t,n);return i.forEach(e=>{if(!e||vY.isEmpty(e))return;const i=u?u(e,r):e0(e,r),l=t0(e,t,o?null:i),f=t0(e,n,o?i:null);for(const r of l)for(const o of f){const i=r0({rowDimensionValues:r,colDimensionValues:o,rowPivotMeta:s,colPivotMeta:c,rowFields:t,colFields:n,isFirstCreate:!0,onFirstCreate:h,prefix:p});d.push(i),vY.set(a,i,e)}}),{paths:d,indexesData:a,rowPivotMeta:s,colPivotMeta:c,sortedDimensionValues:l}}({rows:o0(t),columns:o0(n),values:r,valueInCols:o,data:e,indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,getExistValuesByDataItem:this.getExistValuesByDataItem}),this.indexesData=i.indexesData,this.rowPivotMeta=i.rowPivotMeta,this.colPivotMeta=i.colPivotMeta,this.sortedDimensionValues=i.sortedDimensionValues}),i}transformDrillDownData(e,t,n){var r;const o=[...mQ.getFieldPath(n,!0),e],i=this.spreadsheet.store,a=null==n?void 0:n.id,l=null!==(r=i.get("drillDownIdPathMap"))&&void 0!==r?r:new Map;l.has(a)&&(vY.forEach(l.get(a),e=>{vY.unset(this.indexesData,e)}),i0(this.rowPivotMeta,a));const{paths:s}=this.transformIndexesData(t,o);l.set(a,s),i.set("drillDownIdPathMap",l)}clearDrillDownData(e){const t=this.spreadsheet.store,n=t.get("drillDownIdPathMap");if(!n)return!1;const r=t.get("drillDownDataCache",[]);if(e){const o=n.get(e);o&&vY.forEach(o,e=>{vY.unset(this.indexesData,e)}),i0(this.rowPivotMeta,e),n.delete(e);const i=vY.filter(r,e=>n.has(null==e?void 0:e.rowId));t.set("drillDownDataCache",i);const a=i.map(e=>null==e?void 0:e.drillLevel),l=t.get("drillDownFieldInLevel",[]).filter(e=>vY.includes(a,null==e?void 0:e.drillLevel));t.set("drillDownFieldInLevel",l)}else{n.clear();const e=this.spreadsheet.store.get("originalDataCfg");vY.isEmpty(e)||this.spreadsheet.setDataCfg(e),this.spreadsheet.store.set("drillItemsNum",-1),this.spreadsheet.store.set("drillDownDataCache",[]),this.spreadsheet.store.set("drillDownFieldInLevel",[])}return t.set("drillDownIdPathMap",n),!0}handlePivotMetaSort(e,t){const{rows:n,columns:r}=this.fields;vY.includes(n,e)?this.rowPivotMeta=s2({pivotMeta:this.rowPivotMeta,dimensions:n,sortFieldId:e,sortedDimensionValues:t}):vY.includes(r,e)&&(this.colPivotMeta=s2({pivotMeta:this.colPivotMeta,dimensions:r,sortFieldId:e,sortedDimensionValues:t}))}processDataCfg(e){const{data:t,meta:n=[],fields:r,sortParams:o=[]}=e,{columns:i=[],rows:a=[],values:l,valueInCols:s,customValueOrder:c}=r;let u=i,d=a;s?u=this.isCustomMeasuresPosition(c)?this.handleCustomMeasuresOrder(c,u):vY.uniq([...i,WY]):d=this.isCustomMeasuresPosition(c)?this.handleCustomMeasuresOrder(c,d):vY.uniq([...a,WY]);return{data:t,meta:this.processMeta(n,bY("")),fields:Object.assign(Object.assign({},r),{rows:d,columns:u,values:l}),sortParams:o}}getFieldsAndPivotMetaByField(e){const{rows:t=[],columns:n=[]}=this.fields||{};return t.includes(e)?{dimensions:o0(t),pivotMeta:this.rowPivotMeta}:n.includes(e)?{dimensions:o0(n),pivotMeta:this.colPivotMeta}:{}}getDimensionValues(e,t={}){var n;const{pivotMeta:r,dimensions:o}=this.getFieldsAndPivotMetaByField(e);if(!r||!o)return[];const i=vY.isEmpty(t);if(this.dimensionValuesCache.has(e)&&i)return null!==(n=this.dimensionValuesCache.get(e))&&void 0!==n?n:[];const a=s0({pivotMeta:r,dimensionValues:JJ(t,o,XY),fields:o,fieldIdx:vY.indexOf(o,e),queryType:XK.DetailOnly,sortedDimensionValues:this.sortedDimensionValues}),l=vY.uniq(a.map(e=>xQ(e.value)));return i&&this.dimensionValuesCache.set(e,l),l}getTotalValue(e,t){const{options:n}=this.spreadsheet,r=vY.some(t)?t:this.getTotalStatus(e),{aggregation:o,calcFunc:i}=function(e,t){const{isRowGrandTotal:n,isRowSubTotal:r,isColGrandTotal:o,isColSubTotal:i}=e,{row:a,col:l}=t||{},{calcGrandTotals:s={},calcSubTotals:c={}}=a||{},{calcGrandTotals:u={},calcSubTotals:d={}}=l||{},f=(e,t)=>{if((e.aggregation||e.calcFunc)&&t)return{aggregation:e.aggregation,calcFunc:e.calcFunc}};return f(u,o)||f(d,i)||f(s,n)||f(c,r)}(r,null==n?void 0:n.totals)||{},a=vY.isEmpty(null==n?void 0:n.totals)&&!this.spreadsheet.isHierarchyTreeType()?cQ.SUM:"",l=Q1[o||a];if(l||i){const t=this.getCellMultiData({query:e,queryType:XK.DetailOnly});let n=null;return i?n=i(e,t,this.spreadsheet):l&&(n=l(t,FY)),q1.getCellData(Object.assign(Object.assign({},vY.omit(e,[WY])),{[e[WY]]:n}),e[WY])}}getCellData(e){var t,n,r;const{query:o={},rowNode:i,isTotals:a=!1,totalStatus:l}=e||{},{rows:s,columns:c}=this.fields;let u=s;const d=null===(t=this.spreadsheet)||void 0===t?void 0:t.store.get("drillDownIdPathMap"),f=Array.from(null!==(n=null==d?void 0:d.keys())&&void 0!==n?n:[]).some(e=>null==i?void 0:i.id.startsWith(e));i&&f&&(u=null!==(r=mQ.getFieldPath(i,f))&&void 0!==r?r:s);const h=o0(u),p=o0(c),g=r0({rowDimensionValues:JJ(o,h),colDimensionValues:JJ(o,p),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,rowFields:h,colFields:p,prefix:n0(h,p)}),m=vY.get(this.indexesData,g);return m?q1.getCellData(m,o[WY]):a?this.getTotalValue(o,l):void 0}getQueryExtraFields(e){const{values:t=[]}=this.fields,n=e[WY];return n?vY.includes(t,n)?[n]:[]:t}getCellMultiData(e){const{query:t={},queryType:n=XK.All,drillDownFields:r=[]}=e||{};vY.isEmpty(t);const{rows:o,columns:i}=this.fields,a=o0(vY.isEmpty(r)?o:o.concat(r)),l=o0(i),s=JJ(t,a,XY),c=JJ(t,l,XY),{rowQueries:u,colQueries:d}=function(e){const{rowFields:t,rowDimensionValues:n,rowPivotMeta:r,colFields:o,colDimensionValues:i,colPivotMeta:a,queryType:l,sortedDimensionValues:s}=e;return{rowQueries:c0({dimensionValues:n,pivotMeta:r,fields:t,sortedDimensionValues:s,queryType:l}),colQueries:c0({dimensionValues:i,pivotMeta:a,fields:o,sortedDimensionValues:s,queryType:l})}}({rowDimensionValues:s,colDimensionValues:c,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,rowFields:a,colFields:l,sortedDimensionValues:this.sortedDimensionValues,queryType:n}),f=n0(a,l),h=[];for(const g of u)for(const e of d){const t=r0({rowDimensionValues:g,colDimensionValues:e,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,rowFields:a,colFields:l,prefix:f});let r=!1,o=this.indexesData;for(let e=0;e<t.length;e++){const i=t[e];r?o=QJ(i)?u0(o,n):vY.compact(vY.map(o,e=>null==e?void 0:e[i])):QJ(i)?(r=!0,o=vY.compact([o]),e--):o=null==o?void 0:o[i]}vY.isArray(o)?h.push(...o):o&&h.push(o)}const p=this.getQueryExtraFields(t);return vY.flatMap(vY.uniq(h),e=>e?q1.getCellDataList(e,p):[])}getFieldFormatter(e,t){return e===qY?this.getFieldFormatterForTotalValue(t):super.getFieldFormatter(e)}getFieldFormatterForTotalValue(e){let t="";return!this.spreadsheet.isValueInCols()&&e&&(t=vY.get(e.rowQuery,WY)),t=null!=t?t:vY.get(this.fields.values,0),super.getFieldFormatter(t)}handleCustomMeasuresOrder(e,t){const n=vY.uniq([...t]);return t.length>=e?(n.splice(e,0,WY),n):[...n,WY]}isCustomMeasuresPosition(e){return vY.isNumber(e)}getRowData(e){return this.getCellMultiData({query:e.rowQuery})}}class R5 extends L5{processDataCfg(e){const t=!this.spreadsheet.isCustomRowFields(),n=e.fields.rows||[],r=t?n:[...n,WY],o=this.processMeta(e.meta,bY(""));return Object.assign(Object.assign({},e),{meta:o,fields:Object.assign(Object.assign({},e.fields),{rows:r,valueInCols:t})})}}class _5 extends C2{constructor(){super(...arguments),this.handleDimensionValueFilter=()=>{vY.each(this.filterParams,({filterKey:e,filteredValues:t,customFilter:n})=>{const r=new Set(t),o=t=>!r.has(t[e]),i=vY.filter(this.displayData,e=>n?n(e)&&o(e):o(e));this.displayData=this.getDisplayData(i)})},this.handleDimensionValuesSort=()=>{vY.each(this.sortParams,e=>{var t;const{sortFieldId:n,sortBy:r,sortFunc:o,sortMethod:i,query:a}=e;if(!n)return;let l=this.displayData;const s=[];if(a){const e=[];l.forEach(t=>{const n=Object.keys(a);let r=!0;for(let e=0;e<n.length;e++){const o=n[e];if(t[o]!==a[o]){r=!1,s.push(t);break}}r&&e.push(t)}),l=e}let c=l;if(o)c=o(Object.assign(Object.assign({},e),{data:l}));else if(r&&!vY.isFunction(r)){const e=[...r].reverse();c=l.sort((t,r)=>{const o=e.indexOf(t[n]);return e.indexOf(r[n])-o})}else if(J1(i)||e2(i)){const e=wJ(this.spreadsheet,null===(t=this.spreadsheet.options)||void 0===t?void 0:t.placeholder),o=vY.isFunction(r)?r:null,a=t=>t[n]===e?Number.MIN_VALUE:t[n];c=vY.orderBy(l,[o||a],[null==i?void 0:i.toLocaleLowerCase()])}s.length&&(c=[...c,...s]),this.displayData=this.getDisplayData(c)})}}processDataCfg(e){return e}setDataCfg(e){super.setDataCfg(e),this.handleDimensionValueFilter(),this.handleDimensionValuesSort()}getStartFrozenRows(e){const{rowCount:t}=this.spreadsheet.options.frozen||{};return t?e.slice(0,t):[]}getEndFrozenRows(e){const{trailingRowCount:t}=this.spreadsheet.options.frozen||{};return t?e.slice(-t):[]}getDisplayData(e){const t=this.getStartFrozenRows(e),n=this.getEndFrozenRows(e),r=e.slice(t.length||0,-n.length||void 0);return[...t,...r,...n]}getDimensionValues(){return[]}getCellData({query:e={}}={}){if(0===this.displayData.length&&0===e.rowIndex)return;const t=this.displayData[e.rowIndex];return vY.hasIn(e,"field")&&vY.isObject(t)?t[e.field]:t}getCellMultiData({query:e={}}={}){if(!e)return this.displayData;const t=this.displayData[e.rowIndex]?[this.displayData[e.rowIndex]]:this.displayData;return vY.hasIn(e,"field")?t.map(t=>t[e.field]):t}getRowData(e){return this.getCellData({query:{rowIndex:e.rowIndex}})}}function A5(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function P5(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function j5(){}var B5=.7,D5=1/B5,z5="\\s*([+-]?\\d+)\\s*",H5="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",F5="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W5=/^#([0-9a-f]{3,8})$/,G5=new RegExp(`^rgb\\(${z5},${z5},${z5}\\)$`),V5=new RegExp(`^rgb\\(${F5},${F5},${F5}\\)$`),q5=new RegExp(`^rgba\\(${z5},${z5},${z5},${H5}\\)$`),X5=new RegExp(`^rgba\\(${F5},${F5},${F5},${H5}\\)$`),U5=new RegExp(`^hsl\\(${H5},${F5},${F5}\\)$`),Y5=new RegExp(`^hsla\\(${H5},${F5},${F5},${H5}\\)$`),K5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Z5(){return this.rgb().formatHex()}function Q5(){return this.rgb().formatRgb()}function J5(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=W5.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?e3(t):3===n?new o3(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?t3(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?t3(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=G5.exec(e))?new o3(t[1],t[2],t[3],1):(t=V5.exec(e))?new o3(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=q5.exec(e))?t3(t[1],t[2],t[3],t[4]):(t=X5.exec(e))?t3(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=U5.exec(e))?u3(t[1],t[2]/100,t[3]/100,1):(t=Y5.exec(e))?u3(t[1],t[2]/100,t[3]/100,t[4]):K5.hasOwnProperty(e)?e3(K5[e]):"transparent"===e?new o3(NaN,NaN,NaN,0):null}function e3(e){return new o3(e>>16&255,e>>8&255,255&e,1)}function t3(e,t,n,r){return r<=0&&(e=t=n=NaN),new o3(e,t,n,r)}function n3(e){return e instanceof j5||(e=J5(e)),e?new o3((e=e.rgb()).r,e.g,e.b,e.opacity):new o3}function r3(e,t,n,r){return 1===arguments.length?n3(e):new o3(e,t,n,null==r?1:r)}function o3(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function i3(){return`#${c3(this.r)}${c3(this.g)}${c3(this.b)}`}function a3(){const e=l3(this.opacity);return`${1===e?"rgb(":"rgba("}${s3(this.r)}, ${s3(this.g)}, ${s3(this.b)}${1===e?")":`, ${e})`}`}function l3(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function s3(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function c3(e){return((e=s3(e))<16?"0":"")+e.toString(16)}function u3(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new f3(e,t,n,r)}function d3(e){if(e instanceof f3)return new f3(e.h,e.s,e.l,e.opacity);if(e instanceof j5||(e=J5(e)),!e)return new f3;if(e instanceof f3)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new f3(a,l,s,e.opacity)}function f3(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function h3(e){return(e=(e||0)%360)<0?e+360:e}function p3(e){return Math.max(0,Math.min(1,e||0))}function g3(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}A5(j5,J5,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Z5,formatHex:Z5,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return d3(this).formatHsl()},formatRgb:Q5,toString:Q5}),A5(o3,r3,P5(j5,{brighter(e){return e=null==e?D5:Math.pow(D5,e),new o3(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?B5:Math.pow(B5,e),new o3(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new o3(s3(this.r),s3(this.g),s3(this.b),l3(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i3,formatHex:i3,formatHex8:function(){return`#${c3(this.r)}${c3(this.g)}${c3(this.b)}${c3(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:a3,toString:a3})),A5(f3,function(e,t,n,r){return 1===arguments.length?d3(e):new f3(e,t,n,null==r?1:r)},P5(j5,{brighter(e){return e=null==e?D5:Math.pow(D5,e),new f3(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?B5:Math.pow(B5,e),new f3(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new o3(g3(e>=240?e-240:e+120,o,r),g3(e,o,r),g3(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new f3(h3(this.h),p3(this.s),p3(this.l),l3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=l3(this.opacity);return`${1===e?"hsl(":"hsla("}${h3(this.h)}, ${100*p3(this.s)}%, ${100*p3(this.l)}%${1===e?")":`, ${e})`}`}}));const m3=Math.PI/180,v3=180/Math.PI;var y3=-.14861,b3=1.78277,x3=-.29227,w3=-.90649,C3=1.97294,S3=C3*w3,E3=C3*b3,O3=b3*x3-w3*y3;function k3(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof M3)return new M3(e.h,e.s,e.l,e.opacity);e instanceof o3||(e=n3(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(O3*r+S3*t-E3*n)/(O3+S3-E3),i=r-o,a=(C3*(n-o)-x3*i)/w3,l=Math.sqrt(a*a+i*i)/(C3*o*(1-o)),s=l?Math.atan2(a,i)*v3-120:NaN;return new M3(s<0?s+360:s,l,o,e.opacity)}(e):new M3(e,t,n,null==r?1:r)}function M3(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}A5(M3,k3,P5(j5,{brighter(e){return e=null==e?D5:Math.pow(D5,e),new M3(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?B5:Math.pow(B5,e),new M3(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*m3,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new o3(255*(t+n*(y3*r+b3*o)),255*(t+n*(x3*r+w3*o)),255*(t+n*(C3*r)),this.opacity)}}));const $3=e=>()=>e;function I3(e,t){return function(n){return e+n*t}}function N3(e){return 1===(e=+e)?T3:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):$3(isNaN(t)?n:t)}}function T3(e,t){var n=t-e;return n?I3(e,n):$3(isNaN(e)?t:e)}const L3=function e(t){var n=N3(t);function r(e,t){var r=n((e=r3(e)).r,(t=r3(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=T3(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);var R3,_3=(R3=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,l=r<t-1?e[r+2]:2*i-o;return function(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}((n-r/t)*t,a,o,i,l)}},function(e){var t,n,r=e.length,o=new Array(r),i=new Array(r),a=new Array(r);for(t=0;t<r;++t)n=r3(e[t]),o[t]=n.r||0,i[t]=n.g||0,a[t]=n.b||0;return o=R3(o),i=R3(i),a=R3(a),n.opacity=1,function(e){return n.r=o(e),n.g=i(e),n.b=a(e),n+""}});function A3(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function P3(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function j3(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=G3(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function B3(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function D3(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function z3(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=G3(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var H3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,F3=new RegExp(H3.source,"g");function W3(e,t){var n,r,o,i=H3.lastIndex=F3.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=H3.exec(e))&&(r=F3.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:D3(n,r)})),i=F3.lastIndex;return i<t.length&&(o=t.slice(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})}function G3(e,t){var n,r=typeof t;return null==t||"boolean"===r?$3(t):("number"===r?D3:"string"===r?(n=J5(t))?(t=n,L3):W3:t instanceof J5?L3:t instanceof Date?B3:P3(t)?A3:Array.isArray(t)?j3:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?z3:D3)(e,t)}function V3(e){return function t(n){function r(t,r){var o=e((t=k3(t)).h,(r=k3(r)).h),i=T3(t.s,r.s),a=T3(t.l,r.l),l=T3(t.opacity,r.opacity);return function(e){return t.h=o(e),t.s=i(e),t.l=a(Math.pow(e,n)),t.opacity=l(e),t+""}}return n=+n,r.gamma=t,r}(1)}V3(function(e,t){var n=t-e;return n?I3(e,n>180||n<-180?n-360*Math.round(n/360):n):$3(isNaN(e)?t:e)});var q3,X3,U3=V3(T3),Y3=0,K3=0,Z3=0,Q3=0,J3=0,e4=0,t4="object"==typeof performance&&performance.now?performance:Date,n4="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function r4(){return J3||(n4(o4),J3=t4.now()+e4)}function o4(){J3=0}function i4(){this._call=this._time=this._next=null}function a4(e,t,n){var r=new i4;return r.restart(e,t,n),r}function l4(){J3=(Q3=t4.now())+e4,Y3=K3=0;try{!function(){r4(),++Y3;for(var e,t=q3;t;)(e=J3-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Y3}()}finally{Y3=0,function(){var e,t,n=q3,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:q3=t);X3=e,c4(r)}(),J3=0}}function s4(){var e=t4.now(),t=e-Q3;t>1e3&&(e4-=t,Q3=e)}function c4(e){Y3||(K3&&(K3=clearTimeout(K3)),e-J3>24?(e<1/0&&(K3=setTimeout(l4,e-t4.now()-e4)),Z3&&(Z3=clearInterval(Z3))):(Z3||(Q3=t4.now(),Z3=setInterval(s4,1e3)),Y3=1,n4(l4)))}function u4(e){var t,n,r,o=e||1;function i(e,i){++t>o&&(r=n,a(1),++t),n[e]=i}function a(e){t=0,n=Object.create(null),e||(r=Object.create(null))}return a(),{clear:a,has:function(e){return void 0!==n[e]||void 0!==r[e]},get:function(e){var t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(i(e,t),t):void 0},set:function(e,t){void 0!==n[e]?n[e]=t:i(e,t)}}}i4.prototype=a4.prototype={constructor:i4,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?r4():+n)+(null==t?0:+t),this._next||X3===this||(X3?X3._next=this:q3=this,X3=this),this._call=e,this._time=n,c4()},stop:function(){this._call&&(this._call=null,this._time=1/0,c4())}};class d4 extends FX{constructor(e){const{name:t,s2:n}=e;super({name:t,style:zz(e,["name","s2"])}),this.gridInfo={cols:[],rows:[]},this.updateGrid=(e,t="gridGroup")=>{var n,r,o,i;this.gridGroup&&this.getElementById(t)||(this.gridGroup=this.appendChild(new FX({id:t,style:{zIndex:2}})));const a=null!==(n=vY.last(e.cols))&&void 0!==n?n:0,l=null!==(r=vY.last(e.rows))&&void 0!==r?r:0,{theme:s}=this.s2,c=s.dataCell.cell,u=null!==(o=null==c?void 0:c.verticalBorderWidth)&&void 0!==o?o:1,d=u/2,f={stroke:c.verticalBorderColor,strokeOpacity:c.verticalBorderColorOpacity,lineWidth:u},h=null!==(i=null==c?void 0:c.horizontalBorderWidth)&&void 0!==i?i:1,p=h/2,g={stroke:c.horizontalBorderColor,strokeOpacity:c.horizontalBorderColorOpacity,lineWidth:h},m=this.gridGroup.children;let v=0;e.cols.forEach(e=>{const t=Object.assign({x1:e-d,x2:e-d,y1:0,y2:l},f);v<m.length?aJ(m[v],t):nJ(this.gridGroup,t),v++}),e.rows.forEach(e=>{const t=Object.assign({x1:0,x2:a,y1:e-p,y2:e-p},g);v<m.length?aJ(m[v],t):nJ(this.gridGroup,t),v++});const y=v,b=m.length;if(y<b)for(let x=b-1;x>=y;x--)m[x].destroy();this.gridInfo=e},this.s2=n}}class f4 extends d4{constructor(e){super(e),this.initMergedCellsGroup()}getMergedCellsGroup(){return this.mergedCellsGroup}initMergedCellsGroup(){this.mergedCellsGroup&&this.getElementById(xY)||(this.mergedCellsGroup=this.appendChild(new FX({id:xY,style:{zIndex:3}})))}updateMergedCells(){this.initMergedCellsGroup(),u5(this.s2,this.mergedCellsGroup)}addMergeCell(e){var t;null===(t=this.mergedCellsGroup)||void 0===t||t.appendChild(e),this.s2.emit(BY.MERGED_CELLS_RENDER,e),this.s2.emit(BY.LAYOUT_CELL_RENDER,e)}update(e){this.updateGrid(e),this.updateMergedCells()}}const h4=12,p4=(e,t)=>{var n,r;const{basicColors:o,others:i}=e,a=null==t?void 0:t.isTableMode(),l=cJ()?"bold":700;return{text:{fontFamily:PZ,fontSize:h4,fontWeight:l,fill:o[0],opacity:1,textAlign:a?"center":"left",textBaseline:"middle"},bolderText:{fontFamily:PZ,fontSize:h4,fontWeight:l,fill:o[0],opacity:1,textAlign:a?"center":"right",textBaseline:"middle"},measureText:{fontFamily:PZ,fontSize:h4,fontWeight:l,fill:o[0],opacity:1,textAlign:"left",textBaseline:"middle"},cell:{backgroundColor:o[3],backgroundColorOpacity:1,horizontalBorderColor:o[10],horizontalBorderColorOpacity:1,verticalBorderColor:o[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,borderDash:[],padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:o[4],backgroundOpacity:.6},selected:{backgroundColor:o[4],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:o[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(n=null==i?void 0:i.results)&&void 0!==n?n:o[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(r=null==i?void 0:i.highlight)&&void 0!==r?r:o[6],backgroundOpacity:1}}},icon:{fill:o[0],size:10,margin:{right:4,left:4}}}},g4=(e,t)=>{var n,r;const{basicColors:o,others:i}=e,a=null==t?void 0:t.isTableMode(),l=cJ()?"bold":700;return{seriesText:{fontFamily:PZ,fontSize:h4,fontWeight:"normal",fill:o[14],linkTextFill:o[6],opacity:1,textBaseline:"middle",textAlign:"center"},measureText:{fontFamily:PZ,fontSize:h4,fontWeight:"normal",fill:o[14],linkTextFill:o[6],opacity:1,textAlign:a?"center":"left",textBaseline:"middle"},bolderText:{fontFamily:PZ,fontSize:h4,fontWeight:l,fill:o[14],linkTextFill:o[6],opacity:1,textAlign:a?"center":"left",textBaseline:"middle"},text:{fontFamily:PZ,fontSize:h4,fontWeight:"normal",fill:o[14],linkTextFill:o[6],opacity:1,textBaseline:"middle",textAlign:a?"center":"left"},cell:{backgroundColor:o[1],backgroundColorOpacity:1,horizontalBorderColor:o[9],horizontalBorderColorOpacity:1,verticalBorderColor:o[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,borderDash:[],padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:o[2],backgroundOpacity:.6},selected:{backgroundColor:o[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:o[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(n=null==i?void 0:i.results)&&void 0!==n?n:o[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(r=null==i?void 0:i.highlight)&&void 0!==r?r:o[6],backgroundOpacity:1}}},icon:{fill:o[14],size:10,margin:{right:4,left:4}},seriesNumberWidth:80}},m4=e=>{var t,n;const{basicColors:r,others:o}=e,i=cJ()?"bold":700;return{measureText:{fontFamily:PZ,fontSize:h4,fontWeight:"normal",fill:r[0],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:r[6]},bolderText:{fontFamily:PZ,fontSize:h4,fontWeight:i,fill:r[0],opacity:1,textAlign:"center",textBaseline:"middle",linkTextFill:r[6]},text:{fontFamily:PZ,fontSize:h4,fontWeight:"normal",fill:r[0],opacity:1,textAlign:"center",textBaseline:"middle",linkTextFill:r[6]},cell:{backgroundColor:r[3],backgroundColorOpacity:1,horizontalBorderColor:r[10],horizontalBorderColorOpacity:1,verticalBorderColor:r[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,borderDash:[],padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:r[4],backgroundOpacity:.6},selected:{backgroundColor:r[4],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:r[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(t=null==o?void 0:o.results)&&void 0!==t?t:r[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(n=null==o?void 0:o.highlight)&&void 0!==n?n:r[6],backgroundOpacity:1}}},icon:{fill:r[0],size:10,margin:{top:6,right:4,bottom:6,left:4}}}},v4=e=>{var t,n;const{basicColors:r,others:o,semanticColors:i}=e,a=cJ()?"bold":700;return{bolderText:{fontFamily:PZ,fontSize:h4,fontWeight:a,fill:r[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:r[6]},text:{fontFamily:PZ,fontSize:h4,fontWeight:"normal",fill:r[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:r[6]},cell:{crossBackgroundColor:r[1],backgroundColor:r[8],backgroundColorOpacity:1,horizontalBorderColor:r[9],horizontalBorderColorOpacity:1,verticalBorderColor:r[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:r[2],backgroundOpacity:.6},hoverFocus:{backgroundColor:r[2],backgroundOpacity:.6,borderColor:r[14],borderWidth:1,borderOpacity:1},selected:{backgroundColor:r[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},searchResult:{backgroundColor:null!==(t=null==o?void 0:o.results)&&void 0!==t?t:r[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(n=null==o?void 0:o.highlight)&&void 0!==n?n:r[6],backgroundOpacity:1},prepareSelect:{borderColor:r[14],borderOpacity:1,borderWidth:1}}},miniChart:{line:{point:{size:2.2,fill:r[6],opacity:1},linkLine:{size:1.5,fill:r[6],opacity:.6}},bar:{intervalPadding:4,fill:r[6],opacity:1},bullet:{progressBar:{widthPercent:.6,height:10,innerHeight:6},comparativeMeasure:{width:1,height:12,fill:r[13],opacity:.25},rangeColors:{good:null==i?void 0:i.green,satisfactory:i.yellow,bad:i.red},backgroundColor:"#E9E9E9"},interval:{height:12,fill:r[7]}},icon:{fill:r[13],size:10,margin:{right:4,left:4}}}},y4=e=>{var t;const n=(null==e?void 0:e.palette)||(r=null==e?void 0:e.name,AZ[r]||AZ.default);var r;const{basicColors:o}=n,i=null==e?void 0:e.spreadsheet,a=null===(t=null==e?void 0:e.getCustomTheme)||void 0===t?void 0:t.call(e,n,i);return vY.merge({cornerCell:p4(n,i),rowCell:g4(n,i),colCell:m4(n),dataCell:v4(n),mergedCell:v4(n),resizeArea:{size:3,background:o[7],backgroundOpacity:0,guideLineColor:o[7],guideLineDisableColor:"rgba(0,0,0,0.25)",guideLineDash:[3,3],interactionState:{hover:{backgroundColor:o[7],backgroundOpacity:1}}},scrollBar:{trackColor:"rgba(0,0,0,0.01)",thumbHoverColor:"rgba(0,0,0,0.25)",thumbColor:"rgba(0,0,0,0.15)",thumbHorizontalMinSize:32,thumbVerticalMinSize:32,size:sJ()?3:6,hoverSize:sJ()?4:8,lineCap:"round"},splitLine:{horizontalBorderColor:o[12],horizontalBorderColorOpacity:.2,horizontalBorderWidth:2,verticalBorderColor:o[11],verticalBorderColorOpacity:.25,verticalBorderWidth:2,showShadow:!0,shadowWidth:8,shadowColors:{left:"rgba(0,0,0,0.1)",right:"rgba(0,0,0,0)"},borderDash:[]},prepareSelectMask:{backgroundColor:o[5],backgroundOpacity:.3},background:{color:o[8],opacity:1},empty:{icon:{fill:"",width:64,height:41,margin:{top:0,right:0,bottom:24,left:0}},description:{fontFamily:PZ,fontSize:h4,fontWeight:"normal",fill:o[14],opacity:1}}},a)};var b4,x4;(x4=b4||(b4={})).ScrollChange="scroll-change",x4.ScrollEnd="scroll-end";class w4 extends FX{constructor(e){super(),this.eventHandlers=[],this.scrollFrameId=null,this.getCoordinatesName=()=>({from:this.isHorizontal?"x1":"y1",to:this.isHorizontal?"x2":"y2"}),this.getCoordinatesWithBBoxExtraPadding=()=>{const{lineCap:e="butt",size:t=0}=this.theme;if("butt"===e)return{start:this.thumbOffset,end:this.thumbOffset+this.thumbLen};const n=this.isHorizontal?0:t/2,r=this.isHorizontal?t:t/2;return{start:this.thumbOffset+n,end:this.thumbOffset+this.thumbLen-r}},this.current=()=>{const e=this.thumbLen/this.trackLen;return this.thumbOffset/this.trackLen/(1-e)},this.updateThumbLen=e=>{if(this.thumbLen===e)return;this.thumbLen=e;const t=this.getCoordinatesName();this.thumbShape.attr(t.to,this.thumbOffset+e),this.emitScrollChange(this.thumbOffset/(this.trackLen-this.thumbLen)*this.scrollTargetMaxOffset,!1)},this.updateThumbOffset=(e,t=!0)=>{const n=this.validateRange(e);if(this.thumbOffset===n&&0!==n)return;this.thumbOffset=n;const{from:r,to:o}=this.getCoordinatesName(),{start:i,end:a}=this.getCoordinatesWithBBoxExtraPadding();this.thumbShape.attr({[r]:i,[o]:a}),t&&this.emitScrollChange(n/(this.trackLen-this.thumbLen)*this.scrollTargetMaxOffset,!1)},this.onlyUpdateThumbOffset=e=>{this.updateThumbOffset(e,!1)},this.emitScrollChange=(e,t=!0)=>{cancelAnimationFrame(this.scrollFrameId),this.scrollFrameId=requestAnimationFrame(()=>{this.dispatchEvent(new Bq(b4.ScrollChange,{offset:e,updateThumbOffset:t}))})},this.bindEventListener=(e,t,n)=>(null==e||e.addEventListener(t,n,!1),{remove:()=>{null==e||e.removeEventListener(t,n,!1)}}),this.addEvent=(e,t,n)=>{e.addEventListener(t,n),this.eventHandlers.push({target:e,type:t,handler:n})},this.initScrollBar=()=>{this.scrollBarGroup=this.createScrollBarGroup(),this.scrollBarGroup.setPosition(this.position.x,this.position.y),this.bindEvents()},this.createScrollBarGroup=()=>{const e=this.appendChild(new FX({className:this.isHorizontal?"horizontalBar":"verticalBar"}));return this.trackShape=this.createTrackShape(e),this.thumbShape=this.createThumbShape(e),e},this.createTrackShape=e=>{const{lineCap:t="round",trackColor:n,size:r=0}=this.theme,o={lineWidth:r,stroke:n,lineCap:t};return this.isHorizontal?e.appendChild(new XX({style:Object.assign(Object.assign({},o),{x1:0,y1:r/2,x2:this.trackLen,y2:r/2})})):e.appendChild(new XX({style:Object.assign(Object.assign({},o),{x1:r/2,y1:0,x2:r/2,y2:this.trackLen})}))},this.createThumbShape=e=>{const{size:t=0,lineCap:n="round",thumbColor:r}=this.theme,o={lineWidth:t,stroke:r,lineCap:n,cursor:"default"},{start:i,end:a}=this.getCoordinatesWithBBoxExtraPadding();return this.isHorizontal?e.appendChild(new XX({style:Object.assign(Object.assign({},o),{x1:i,y1:t/2,x2:a,y2:t/2})})):e.appendChild(new XX({style:Object.assign(Object.assign({},o),{x1:t/2,y1:i,x2:t/2,y2:a})}))},this.bindEvents=()=>{this.addEventListener(zY.POINTER_DOWN,this.onStartEvent),this.addEventListener(zY.POINTER_UP,this.onPointerUp),this.trackShape.addEventListener("click",this.onTrackClick),this.thumbShape.addEventListener(zY.POINTER_OVER,this.onTrackPointerOver),this.thumbShape.addEventListener(zY.POINTER_OUT,this.onTrackPointerOut)},this.onStartEvent=e=>{e.preventDefault();const{clientX:t,clientY:n}=e;this.startPos=this.isHorizontal?t:n,this.bindLaterEvent()},this.bindLaterEvent=()=>{const e=this.ownerDocument.defaultView,t=document.body,n=[this.bindEventListener(t,zY.POINTER_MOVE,this.onPointerMove),this.bindEventListener(t,zY.POINTER_UP,this.onPointerUp),this.bindEventListener(t,zY.POINTER_LEAVE,this.onPointerUp)];this.addEvent(e,zY.POINTER_UP,this.onPointerUp),this.clearEvents=()=>{n.forEach(e=>{null==e||e.remove()}),vY.each(this.eventHandlers,e=>{var t;null===(t=e.target)||void 0===t||t.removeEventListener(e.type,e.handler)}),this.eventHandlers.length=0}},this.onTrackClick=e=>{const t=this.isHorizontal?e.x-this.position.x-this.thumbLen/2:e.y-this.position.y-this.thumbLen/2,n=this.validateRange(t);this.updateThumbOffset(n)},this.onPointerMove=e=>{e.preventDefault();const t=e.clientX,n=e.clientY,r=this.isHorizontal?t:n,o=r-this.startPos;this.startPos=r,this.updateThumbOffset(this.thumbOffset+o)},this.onPointerUp=e=>{var t;this.dispatchEvent(new Bq(b4.ScrollEnd,{})),e.preventDefault(),null===(t=this.clearEvents)||void 0===t||t.call(this)},this.onTrackPointerOver=()=>{const{thumbHoverColor:e,hoverSize:t}=this.theme;this.thumbShape.attr("stroke",e),this.thumbShape.attr("lineWidth",t)},this.onTrackPointerOut=()=>{const{thumbColor:e,size:t}=this.theme;this.thumbShape.attr("stroke",e),this.thumbShape.attr("lineWidth",t)},this.validateRange=e=>{let t=e;return e+this.thumbLen>this.trackLen?t=this.trackLen-this.thumbLen:e+this.thumbLen<this.thumbLen&&(t=0),t};const{isHorizontal:t=!1,trackLen:n,thumbLen:r,position:o,thumbOffset:i=0,theme:a,scrollTargetMaxOffset:l}=e;this.isHorizontal=t,this.thumbOffset=i,this.trackLen=n,this.thumbLen=r,this.position=o,this.theme=a,this.scrollTargetMaxOffset=l,this.initScrollBar()}}const C4=(e,t,n)=>n.slice(e,t+1).map(e=>e.x+e.width),S4=(e,t,n)=>{const r=[];for(let o=e;o<t+1;o++)r.push(n.getCellOffsetY(o+1));return r},E4=(e,t,n)=>{const[r,o,i,a]=n;return e>=r&&e<=o&&t>=i&&t<=a},O4=e=>{const[t,n,r,o]=e,i=[];for(let a=t;a<=n;a+=1)for(let e=r;e<=o;e+=1)i.push([a,e]);return i},k4=(e,t)=>{const n=[],r=[];return Object.keys(t||{}).forEach(o=>{const{add:i,remove:a}=((e,t)=>{const n=[],r=[];if(vY.isEmpty(e))return vY.isEmpty(t)?{add:n,remove:r}:{add:O4(t),remove:r};if(vY.isEmpty(t))return{add:n,remove:O4(e)};const[o,i,a,l]=e,[s,c,u,d]=t;for(let f=o;f<=i;f++)for(let e=a;e<=l;e++)E4(f,e,t)||r.push([f,e]);for(let f=s;f<=c;f+=1)for(let t=u;t<=d;t+=1)E4(f,t,e)||n.push([f,t]);return{add:n,remove:r}})((null==e?void 0:e[o])||[],t[o]);n.push(...i),r.push(...a)}),{add:n,remove:r}};class M4{constructor(e,t=!1){this.x=0,this.y=0,this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.originalWidth=0,this.originalHeight=0,this.viewportHeight=0,this.viewportWidth=0,this.facet=e,this.spreadsheet=e.spreadsheet,this.layoutResult=e.getLayoutResult(),t&&this.calculateBBox()}}let $4=class extends M4{calculateBBox(){const e=this.getWidth(),t=this.getHeight();this.width=e,this.height=t,this.maxX=e,this.maxY=t}calculateOriginalHeight(){var e;const{colsHierarchy:t}=this.layoutResult,{colCell:n}=this.spreadsheet.options.style;t.sampleNodeForLastLevel?this.originalHeight=OJ(t.height):this.originalHeight=null!==(e=this.facet.getCellCustomSize(null,null==n?void 0:n.height))&&void 0!==e?e:0}calculateOriginWidth(){const{rowsHierarchy:e}=this.layoutResult;this.originalWidth=OJ(e.width+this.facet.getSeriesNumberWidth())}getHeight(){return this.calculateOriginalHeight(),this.originalHeight}getWidth(){return this.calculateOriginWidth(),this.spreadsheet.isFrozenRowHeader()?this.adjustWidth():this.originalWidth}adjustWidth(){const{colsHierarchy:e}=this.layoutResult,{width:t,frozen:n}=this.spreadsheet.options,r=null==n?void 0:n.rowHeader,o=t*(vY.isBoolean(r)?.5:vY.clamp(r,0,1)),i=null==e?void 0:e.width,a=t-this.originalWidth;if(this.originalWidth<=o||i<=a)return this.originalWidth;let l=0;return l=i<=t-o?this.originalWidth-(i-a):o,OJ(l)}},I4=class extends M4{calculateBBox(){this.calculateOriginWidth(),this.calculateOriginalHeight();const{cornerBBox:e}=this.facet,t=OJ(e.maxX),n=OJ(e.maxY);this.x=t+RJ.getVerticalBorderWidth(this.spreadsheet),this.y=n+RJ.getHorizontalBorderWidth(this.spreadsheet),this.minX=this.x,this.minY=this.y,this.width=this.getPanelWidth(),this.height=this.getPanelHeight(),this.viewportHeight=Math.abs(OJ(Math.min(this.height,this.originalHeight))),this.viewportWidth=Math.abs(OJ(Math.min(this.width,this.originalWidth))),this.maxX=this.x+this.viewportWidth,this.maxY=this.y+this.viewportHeight}calculateOriginalHeight(){this.originalHeight=this.facet.getRealHeight()}calculateOriginWidth(){this.originalWidth=this.facet.getRealWidth()}getPanelWidth(){const{width:e}=this.spreadsheet.options;return Math.max(0,e-this.x)}getPanelHeight(){const e=this.spreadsheet.theme.scrollBar.size,{height:t}=this.spreadsheet.options;return Math.max(0,t-this.y-e)}};class N4 extends FX{constructor(e){super(),this.isHeaderCellInViewport=({cellPosition:e,cellSize:t,viewportPosition:n,viewportSize:r})=>e+t>=n&&n+r>=e,this.headerConfig=e,this.initGroups()}getHeaderConfig(){return this.headerConfig||{}}render(e){this.clearResizeAreaGroup(e),this.clear(),this.layout(),this.offset(),this.clip()}onScrollXY(e,t,n){this.headerConfig.scrollX===e&&this.headerConfig.scrollY===t||(this.headerConfig.scrollX=e,this.headerConfig.scrollY=t,this.render(n))}onRowScrollX(e,t){this.headerConfig.scrollX!==e&&(this.headerConfig.scrollX=e,this.render(t))}clearResizeAreaGroup(e){if(!e)return;const t=this.parentNode,n=null==t?void 0:t.getElementById(e);null==n||n.destroyChildren()}clear(){var e,t,n;null===(e=this.scrollGroup)||void 0===e||e.destroyChildren(),null===(t=this.frozenGroup)||void 0===t||t.destroyChildren(),null===(n=this.frozenTrailingGroup)||void 0===n||n.destroyChildren()}getNodes(){const{nodes:e}=this.getHeaderConfig();return e||[]}createOrUpdate(e,t){lJ.call(this,e,t)}}const T4=(e,t,n)=>{const r=n.isHierarchyTreeType();return e.getNodes(0).map((e,o)=>{const i=`${o+1}`,a=new mQ({id:i,field:"",rowIndex:o,value:i});return a.x=e.x,a.y=e.y,a.width=t,a.height=r?e.getTotalHeightForTreeHierarchy():e.height,a.isLeaf=!0,a.relatedNode=e,a.spreadsheet=n,a})},L4=e=>e.reduce((e,t)=>{let n=t.parent;for(;n&&n.id!==$K;)e.find(e=>e.id===n.id)||e.push(n),n=n.parent;return e},[]),R4=(e,{y:t=0,height:n=0})=>{e.y<t&&(e.height-=t-e.y,e.y=t),e.y+e.height>t+n&&(e.height-=e.y+e.height-t-n)},_4=(e,{y:t=0,height:n=0})=>{e.y+e.height>t+n&&(e.height-=e.y+e.height-t-n),e.y<t&&(e.height-=t-e.y,e.y=t)},A4=(e,t=0,n=0)=>e.spreadsheet.isFrozenRowHeader()?0:n<=t?n:t,P4=(e,t)=>{const n=e.frozenGroupAreas[JY.TrailingCol],r=n.x+n.width;return t>r?0:r-t},j4=(e,t,n)=>{const r=e.frozenGroupAreas[JY.TrailingRow],o=r.y+r.height-n;return t>o?n:n+o-t},B4=(e,t)=>{const n=e.spreadsheet.isFrozenRowHeader(),r=e.frozenGroupAreas,o=r[JY.Col].width,i=r[JY.TrailingCol].width;let a;a=n?t.x+o:o?RJ.getVerticalBorderWidth(e.spreadsheet)+o:0;const l=e.panelBBox.viewportWidth;return{x:a,width:(n?l:t.x+l)-o-i}};class D4 extends N4{initGroups(){this.scrollGroup=this.appendChild(new FX({name:"colScrollGroup",style:{zIndex:3}})),this.frozenGroup=this.appendChild(new FX({name:"colFrozenGroup",style:{zIndex:4}})),this.frozenTrailingGroup=this.appendChild(new FX({name:"colFrozenTrailingGroup",style:{zIndex:4}})),this.extraFrozenNodes=(e=>{const t=[],{colCount:n,trailingColCount:r}=e.getFrozenOptions();if(n){const{x:r,width:o}=e.frozenGroupAreas[JY.Col],i=e.getColLeafNodesByRange(0,n-1);i.forEach(e=>{const n=e.clone();n.isFrozenHead=!0,t.push(n)}),L4(i).forEach(e=>{const n=e.clone();n.isFrozenHead=!0,n.x<r&&(n.width-=r-n.x,n.x=r),n.x+n.width>r+o&&(n.width-=n.x+n.width-r-o),t.push(n)})}if(r){const{x:n,width:o}=e.frozenGroupAreas[JY.TrailingCol],i=e.getColLeafNodes().length,a=e.getColLeafNodesByRange(i-r,i-1);a.forEach(e=>{const n=e.clone();n.isFrozenTrailing=!0,t.push(n)}),L4(a).forEach(e=>{const r=e.clone();r.isFrozenTrailing=!0,r.x+r.width>n+o&&(r.width-=r.x+r.width-n-o),r.x<n&&(r.width-=n-r.x,r.x=n),t.push(r)})}return t})(this.headerConfig.spreadsheet.facet)}getCellGroup(e){return e.isFrozenHead?this.frozenGroup:e.isFrozenTrailing?this.frozenTrailingGroup:this.scrollGroup}getCellInstance(e){const t=this.getHeaderConfig(),{spreadsheet:n}=this.getHeaderConfig(),{colCell:r}=n.options;return(null==r?void 0:r(e,n,t))||new u2(e,n,t)}appendNode(e){const{spreadsheet:t}=this.getHeaderConfig(),n=this.getCellGroup(e),r=this.getCellInstance(e);e.belongsCell=r,null==n||n.appendChild(r),t.emit(BY.COL_CELL_RENDER,r),t.emit(BY.LAYOUT_CELL_RENDER,r)}layout(){const{nodes:e}=this.getHeaderConfig();vY.each(e,e=>{this.isColCellInRect(e)&&this.appendNode(e)}),vY.each(this.extraFrozenNodes,e=>{this.appendNode(e)})}onColScroll(e,t){this.headerConfig.scrollX!==e&&(this.headerConfig.scrollX=e,this.render(t))}clip(){const{height:e,spreadsheet:t,position:n,viewportWidth:r,cornerWidth:o=0,scrollX:i=0}=this.getHeaderConfig(),a=t.facet,l=a.frozenGroupAreas,s=l[JY.Col].width,c=l[JY.TrailingCol].width,{x:u,width:d}=B4(a,n);this.createOrUpdate("scrollGroup.style.clipPath",{x:u,y:n.y,width:d,height:e}),this.createOrUpdate("frozenGroup.style.clipPath",{x:n.x-A4(a,o,i),y:n.y,width:s,height:e}),this.createOrUpdate("frozenTrailingGroup.style.clipPath",{x:n.x+r-c,y:n.y,width:c,height:e})}isColCellInRect(e){const{spreadsheet:t,cornerWidth:n=0,viewportWidth:r,scrollX:o=0,position:i}=this.getHeaderConfig(),a=t.facet.frozenGroupAreas;let l;const s=a[JY.Col].width,c=a[JY.TrailingCol].width;return l=t.isFrozenRowHeader()?s:s?s-n:-i.x,r-c>=e.x-o&&l<=e.x+e.width-o}offset(){const{viewportWidth:e,scrollX:t=0,position:n,spreadsheet:r,cornerWidth:o}=this.getHeaderConfig();TJ(this.scrollGroup,n.x-t,n.y);const i=r.facet,a=A4(i,o,t),l=P4(i,e);TJ(this.frozenGroup,n.x-a,n.y),TJ(this.frozenTrailingGroup,n.x-l,n.y)}}let z4=class e extends N4{initGroups(){this.scrollGroup=this.appendChild(new FX({name:"cornerScrollGroup",style:{zIndex:3}}))}getCellInstance(e){const t=this.getHeaderConfig(),{spreadsheet:n}=t,{cornerCell:r}=n.options;return(null==r?void 0:r(e,n,t))||new d2(e,n,t)}static getCornerHeader(t){const{panelBBox:n,cornerBBox:r,seriesNumberWidth:o,layoutResult:i,spreadsheet:a}=t,{width:l,height:s}=n,{originalWidth:c,originalHeight:u,width:d,height:f}=r,h=this.getCornerNodes({position:{x:r.x,y:r.y},width:c,height:u,layoutResult:i,seriesNumberWidth:o,spreadsheet:a});return new e({nodes:h,position:{x:r.x,y:r.y},width:d,height:f,originalHeight:u,originalWidth:c,viewportWidth:l,viewportHeight:s,seriesNumberWidth:o,spreadsheet:a})}static getTreeCornerText(e){const{rows:t=[]}=e.dataSet.fields,{cornerText:n}=e.options;if(n)return n;const r=e.store.get("drillDownFieldInLevel",[]).map(e=>e.drillField),o=t.filter(e=>!vY.includes(r,e)).map(t=>e.dataSet.getFieldName(t)).join("/");return o||bY("")}static getCornerNodes(e){var t,n,r,o,i;const{position:a,width:l,layoutResult:s,seriesNumberWidth:c,spreadsheet:u}=e,{rowsHierarchy:d,colsHierarchy:f}=s,{rows:h=[],columns:p=[]}=(null===(t=null==u?void 0:u.dataSet)||void 0===t?void 0:t.fields)||{},{colCell:g}=u.options.style,m=[],v=null==f?void 0:f.sampleNodeForLastLevel;if(c){const e=new mQ({id:"",field:"",value:u.getSeriesNumberText()});e.x=null==a?void 0:a.x,e.y=null!==(n=null==v?void 0:v.y)&&void 0!==n?n:0,e.width=c,e.height=null!==(r=null==v?void 0:v.height)&&void 0!==r?r:null==g?void 0:g.height,e.isPivotMode=!0,e.spreadsheet=u,e.cornerType=hQ.Series,m.push(e)}if(u.isHierarchyTreeType()){const e=this.getTreeCornerText(u),t=new mQ({id:e,field:"",value:e});t.x=a.x+c,t.y=null!==(o=null==v?void 0:v.y)&&void 0!==o?o:0,t.width=l-c,t.height=null!==(i=null==v?void 0:v.height)&&void 0!==i?i:null==g?void 0:g.height,t.seriesNumberWidth=c,t.isPivotMode=!0,t.spreadsheet=u,t.cornerType=hQ.Row,m.push(t)}else{const e=d.sampleNodesForAllLevels||[],t=u.isCustomRowFields();e.forEach(e=>{var n,r,o;const i=t?e.field:h[e.level],a=u.dataSet.getFieldName(i),l=new mQ({id:i,field:i,value:a});l.x=e.x+c,l.y=null!==(n=null==v?void 0:v.y)&&void 0!==n?n:0,l.width=e.width,l.height=null!==(r=null==v?void 0:v.height)&&void 0!==r?r:null===(o=u.facet)||void 0===o?void 0:o.getCellCustomSize(null,null==g?void 0:g.height),l.isPivotMode=!0,l.cornerType=hQ.Row,l.spreadsheet=u,m.push(l)})}const y=f.sampleNodesForAllLevels||[],b=u.isCustomColumnFields();return y.forEach(e=>{if(e.level<f.maxLevel){const t=b?e.field:p[e.level],n=u.dataSet.getFieldName(t),r=new mQ({id:t,field:t,value:n});r.x=a.x,r.y=e.y,r.width=l,r.height=e.height,r.isPivotMode=!0,r.cornerType=hQ.Col,r.spreadsheet=u,m.push(r)}}),m}onCorScroll(e,t){this.headerConfig.scrollX!==e&&(this.headerConfig.scrollX=e,this.render(t))}layout(){var e,t;const{nodes:n,spreadsheet:r}=this.getHeaderConfig(),o=null===(e=r.options)||void 0===e?void 0:e.cornerHeader;if(o)return void o(this,r,this.headerConfig);const i=(null===(t=r.facet)||void 0===t?void 0:t.getColNodes())||[];n.forEach(e=>{var t;const n=null==i?void 0:i.find(t=>(null==e?void 0:e.y)===(null==t?void 0:t.y)&&(null==e?void 0:e.height)===(null==t?void 0:t.height));e.extra.isCustomHeight=null===(t=null==n?void 0:n.extra)||void 0===t?void 0:t.isCustomHeight;const o=this.getCellInstance(e);this.scrollGroup.appendChild(o),r.emit(BY.CORNER_CELL_RENDER,o),r.emit(BY.LAYOUT_CELL_RENDER,o)})}offset(){const{position:e,scrollX:t=0}=this.getHeaderConfig();TJ(this.scrollGroup,e.x-t,e.y)}clip(){const{width:e,height:t,position:n}=this.getHeaderConfig();this.createOrUpdate("scrollGroup.style.clipPath",{x:n.x,y:n.y,width:e,height:t})}};class H4 extends N4{initGroups(){this.scrollGroup=this.appendChild(new FX({name:"rowScrollGroup",style:{zIndex:3}})),this.frozenGroup=this.appendChild(new FX({name:"rowHeaderFrozenGroup",style:{zIndex:4}})),this.frozenTrailingGroup=this.appendChild(new FX({name:"rowHeaderFrozenTrailingGroup",style:{zIndex:4}}));const{spreadsheet:e}=this.getHeaderConfig();this.extraFrozenNodes=(e=>{const t=[],{start:n,end:r}=e.getCellRange(),{rowCount:o,trailingRowCount:i}=e.getFrozenOptions();if(o){const r=e.getRowLeafNodesByRange(n,n+o-1);r.forEach(e=>{const n=e.clone();n.isFrozenHead=!0,t.push(n)}),L4(r).forEach(n=>{const r=n.clone();r.isFrozenHead=!0,R4(r,e.frozenGroupAreas[JY.Row]),t.push(r)})}if(i){const n=e.getRowLeafNodesByRange(r-i+1,r);n.forEach(e=>{const n=e.clone();n.isFrozenTrailing=!0,t.push(n)}),L4(n).forEach(n=>{const r=n.clone();r.isFrozenTrailing=!0,_4(r,e.frozenGroupAreas[JY.TrailingRow]),t.push(r)})}return t})(e.facet)}getCellInstance(e){const t=this.getHeaderConfig(),{spreadsheet:n}=t,{rowCell:r}=n.options;return(null==r?void 0:r(e,n,t))||new m2(e,n,t)}isCellInRect(e){const{width:t,viewportHeight:n,position:r,scrollY:o=0,scrollX:i=0,spreadsheet:a}=this.getHeaderConfig(),l=a.facet.frozenGroupAreas;return n+o-l[JY.TrailingRow].height>e.y&&o+l[JY.Row].height<e.y+e.height&&t+i-r.x>e.x&&i-r.x<e.x+e.width}getCellGroup(e){return e.isFrozenHead?this.frozenGroup:e.isFrozenTrailing?this.frozenTrailingGroup:this.scrollGroup}layout(){const{nodes:e}=this.getHeaderConfig(),t=e=>{const t=this.getCellGroup(e),n=this.getCellInstance(e);e.belongsCell=n,t.appendChild(n),this.emitRenderEvent(n)};vY.each(e,e=>{this.isCellInRect(e)&&0!==e.height&&t(e)}),vY.each(this.extraFrozenNodes,e=>{0!==e.height&&t(e)})}emitRenderEvent(e){const{spreadsheet:t}=this.getHeaderConfig();t.emit(BY.ROW_CELL_RENDER,e),t.emit(BY.LAYOUT_CELL_RENDER,e)}offset(){const{scrollX:e=0,scrollY:t=0,position:n,spreadsheet:r,viewportHeight:o}=this.getHeaderConfig(),i=n.x-e,a=r.facet.getPaginationScrollY(),l=r.facet,s=j4(l,o,a);TJ(this.scrollGroup,i,n.y-t),TJ(this.frozenGroup,i,n.y-a),TJ(this.frozenTrailingGroup,i,n.y-s)}clip(){const{width:e,viewportHeight:t,position:n,spreadsheet:r}=this.getHeaderConfig(),o=r.facet.frozenGroupAreas,i=o[JY.Row].height,a=o[JY.TrailingRow].height;this.createOrUpdate("scrollGroup.style.clipPath",{x:r.facet.cornerBBox.x,y:n.y+i,width:e,height:t-i-a}),this.createOrUpdate("frozenGroup.style.clipPath",{x:r.facet.cornerBBox.x,y:n.y,width:e,height:i}),this.createOrUpdate("frozenTrailingGroup.style.clipPath",{x:r.facet.cornerBBox.x,y:n.y+t-a,width:e,height:a})}}class F4 extends H4{static getSeriesNumberHeader(e){var t,n;const{panelBBox:r,seriesNumberWidth:o,rowsHierarchy:i,spreadsheet:a,cornerWidth:l}=e,{height:s,viewportHeight:c}=r,u=null!==(n=null===(t=a.options)||void 0===t?void 0:t.layoutSeriesNumberNodes)&&void 0!==n?n:T4;return new F4({width:l,height:s,viewportWidth:l,viewportHeight:c,position:{x:0,y:r.y},nodes:u(i,o,a),spreadsheet:a})}initGroups(){this.scrollGroup=this.appendChild(new FX({name:"rowIndexScrollGroup",style:{zIndex:3}})),this.frozenGroup=this.appendChild(new FX({name:"rowIndexFrozenGroup",style:{zIndex:4}})),this.frozenTrailingGroup=this.appendChild(new FX({name:"rowIndexFrozenTrailingGroup",style:{zIndex:4}}));const{spreadsheet:e,nodes:t}=this.getHeaderConfig();this.extraFrozenNodes=((e,t)=>{const n=[],{start:r,end:o}=e.getCellRange(),{rowCount:i,trailingRowCount:a}=e.getFrozenOptions(),l=(e,t)=>{var n;const r=e.rowIndex;if(vY.isNumber(r)&&r>=t[0]&&r<=t[1])return!0;const o=null!==(n=e.children)&&void 0!==n?n:[];for(let i=0;i<o.length;i++)if(l(o[i],t))return!0;return!1};if(i){const o=[r,r+i-1];t.forEach(t=>{if(t.relatedNode&&!l(t.relatedNode,o))return;const r=t.clone();r.isFrozenHead=!0,R4(r,e.frozenGroupAreas[JY.Row]),n.push(r)})}if(a){const r=[o-a+1,o];t.forEach(t=>{if(t.relatedNode&&!l(t.relatedNode,r))return;const o=t.clone();o.isFrozenTrailing=!0,_4(o,e.frozenGroupAreas[JY.TrailingRow]),n.push(o)})}return n})(e.facet,t)}getCellInstance(e){const t=this.getHeaderConfig(),{spreadsheet:n}=t,{seriesNumberCell:r}=n.options;return(null==r?void 0:r(e,n,t))||new v2(e,n,t)}emitRenderEvent(e){const{spreadsheet:t}=this.getHeaderConfig();t.emit(BY.SERIES_NUMBER_CELL_RENDER,e),t.emit(BY.LAYOUT_CELL_RENDER,e)}}var W4=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[e]||[],i=this._events["*"]||[],a=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],l=a.callback;a.once&&(r.splice(i,1),0===r.length&&delete t._events[e],o--,i--),l.apply(t,n)}};a(o),a(i)},e.prototype.off=function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,o=0;o<r;o++)n[o].callback===t&&(n.splice(o,1),r--,o--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},e.prototype.getEvents=function(){return this._events},e}();const G4=()=>{var e;return null!==(e=null===performance||void 0===performance?void 0:performance.now())&&void 0!==e?e:Date.now()};class V4 extends W4{constructor(e){super(),this.bindPointerDown=e=>{window.cancelAnimationFrame(this.raf),this.panning=!0,this.preX=e.x,this.preY=e.y,this.speedX=0,this.speedY=0,this.lastMoveMS=G4()},this.bindPointerMove=e=>{if(this.panning){const t=G4(),n=t-this.lastMoveMS,r=this.preX-e.x,o=this.preY-e.y;this.speedX=r/n,this.speedY=o/n,this.preX=e.x,this.preY=e.y,this.lastMoveMS=t,this.emit("wheel",Object.assign(Object.assign({},e.clone()),{x:e.x,y:e.y,deltaX:r,deltaY:o}))}},this.bindPointerUp=e=>{this.panning=!1;const t=G4();if(!this.speedX||!this.speedY||t-this.lastMoveMS>=100)return;const n=()=>{const r=G4();this.raf=window.requestAnimationFrame(()=>{const o=G4(),i=(o-t)/800;if(i<1){const t=function(e){return e*e*e}(1-i),a=o-r;this.emit("wheel",Object.assign(Object.assign({},e.clone()),{x:e.x,y:e.y,deltaX:this.speedX*t*a,deltaY:this.speedY*t*a})),n()}})};n()},this.canvas=e,this.panning=!1,this.init()}init(){this.canvas.addEventListener(zY.POINTER_DOWN,this.bindPointerDown),this.canvas.addEventListener(zY.POINTER_MOVE,this.bindPointerMove),this.canvas.addEventListener(zY.POINTER_UP,this.bindPointerUp)}destroy(){this.canvas.removeEventListener(zY.POINTER_DOWN,this.bindPointerDown),this.canvas.removeEventListener(zY.POINTER_MOVE,this.bindPointerMove),this.canvas.removeEventListener(zY.POINTER_UP,this.bindPointerUp)}}class q4{get scrollBarTheme(){return this.spreadsheet.theme.scrollBar}get scrollBarSize(){var e;return null===(e=this.scrollBarTheme)||void 0===e?void 0:e.size}constructor(e){this.scrollFrameId=null,this.getLayoutResult=()=>Object.assign(Object.assign({},this.layoutResult),{cornerNodes:this.getCornerNodes(),seriesNumberNodes:this.getSeriesNumberNodes()}),this.hideScrollBar=()=>{var e,t,n;null===(e=this.hRowScrollBar)||void 0===e||e.setAttribute("visibility","hidden"),null===(t=this.hScrollBar)||void 0===t||t.setAttribute("visibility","hidden"),null===(n=this.vScrollBar)||void 0===n||n.setAttribute("visibility","hidden")},this.delayHideScrollBar=vY.debounce(this.hideScrollBar,1e3),this.delayHideScrollbarOnMobile=()=>{sJ()&&this.delayHideScrollBar()},this.showVerticalScrollBar=()=>{var e;null===(e=this.vScrollBar)||void 0===e||e.setAttribute("visibility","visible")},this.showHorizontalScrollBar=()=>{var e,t;null===(e=this.hRowScrollBar)||void 0===e||e.setAttribute("visibility","visible"),null===(t=this.hScrollBar)||void 0===t||t.setAttribute("visibility","visible")},this.onContainerWheelForMobileCompatibility=()=>{const e=this.spreadsheet.getCanvasElement();let t,n;e.addEventListener("touchstart",e=>{t=e.touches[0].clientY}),e.addEventListener("touchend",e=>{n=e.changedTouches[0].clientY,n<t?this.scrollDirection=EK.SCROLL_UP:n>t&&(this.scrollDirection=EK.SCROLL_DOWN)})},this.onContainerWheel=()=>{sJ()?this.onContainerWheelForMobile():this.onContainerWheelForPc()},this.getMobileWheelDeltaY=e=>this.scrollDirection===EK.SCROLL_UP?Math.max(0,e):this.scrollDirection===EK.SCROLL_DOWN?Math.min(0,e):e,this.onContainerWheelForPc=()=>{const e=this.spreadsheet.getCanvasElement();null==e||e.addEventListener("wheel",this.onWheel)},this.onContainerWheelForMobile=()=>{this.mobileWheel=new V4(this.spreadsheet.container),this.mobileWheel.on("wheel",e=>{this.spreadsheet.hideTooltip();const t=e.originalEvent,{deltaX:n,deltaY:r,x:o,y:i}=e,a=this.getMobileWheelDeltaY(r);this.onWheel(Object.assign(Object.assign({},t),{deltaX:n,deltaY:a,offsetX:o,offsetY:i}))}),this.onContainerWheelForMobileCompatibility()},this.bindEvents=()=>{this.onContainerWheel(),this.emitPaginationEvent()},this.setScrollOffset=e=>{Object.keys(e||{}).forEach(t=>{const n=vY.get(e,t);vY.isUndefined(n)||this.spreadsheet.store.set(t,OJ(n))})},this.getScrollOffset=()=>{const{store:e}=this.spreadsheet;return{scrollX:e.get("scrollX",0),scrollY:e.get("scrollY",0),rowHeaderScrollX:e.get("rowHeaderScrollX",0)}},this.resetScrollX=()=>{this.setScrollOffset({scrollX:0})},this.resetRowScrollX=()=>{this.setScrollOffset({rowHeaderScrollX:0})},this.resetScrollY=()=>{this.setScrollOffset({scrollY:0})},this.resetScrollOffset=()=>{this.setScrollOffset({scrollX:0,scrollY:0,rowHeaderScrollX:0})},this.emitPaginationEvent=()=>{const{pagination:e}=this.spreadsheet.options;if(e){const{current:t=qK,pageSize:n}=e,r=this.viewCellHeights.getTotalLength(),o=OJ((r-1)/n)+1;this.spreadsheet.emit(BY.LAYOUT_PAGINATION,{pageSize:n,pageCount:o,total:r,current:t})}},this.unbindEvents=()=>{var e;const t=this.spreadsheet.getCanvasElement();null==t||t.removeEventListener("wheel",this.onWheel),null===(e=this.mobileWheel)||void 0===e||e.destroy()},this.calculateCellWidthHeight=()=>{const{colLeafNodes:e}=this.layoutResult,t=vY.reduce(e,(e,t)=>{const n=vY.last(e)||0;return e.push(n+t.width),e},[0]);this.viewCellWidths=t,this.viewCellHeights=this.getViewCellHeights()},this.getRealScrollX=(e,t=0)=>this.spreadsheet.isFrozenRowHeader()?t:e,this.getRealWidth=()=>vY.last(this.viewCellWidths)||0,this.getRealHeight=()=>{const{pagination:e}=this.spreadsheet.options,t=this.viewCellHeights;if(e){const{start:e,end:n}=this.getCellRange();return t.getCellOffsetY(n+1)-t.getCellOffsetY(e)}return t.getTotalHeight()},this.scrollWithAnimation=(e={},t=200,n)=>{var r,o,i,a;const{scrollX:l,scrollY:s,rowHeaderScrollX:c}=this.getAdjustedScrollOffset({scrollX:(null===(r=e.offsetX)||void 0===r?void 0:r.value)||0,scrollY:(null===(o=e.offsetY)||void 0===o?void 0:o.value)||0,rowHeaderScrollX:(null===(i=e.rowHeaderOffsetX)||void 0===i?void 0:i.value)||0});null===(a=this.timer)||void 0===a||a.stop();const u=this.getScrollOffset(),d=[null!=l?l:u.scrollX,null!=s?s:u.scrollY,null!=c?c:u.rowHeaderScrollX],f=(h=Object.values(u),(P3(p=d)?A3:j3)(h,p));var h,p;this.timer=a4(r=>{try{const o=Math.min(r/t,1),[i,a,l]=f(o);this.setScrollOffset({rowHeaderScrollX:l,scrollX:i,scrollY:a}),this.startScroll(null==e?void 0:e.skipScrollEvent),r>t&&(this.timer.stop(),null==n||n())}catch(rw){this.timer.stop()}})},this.scrollImmediately=(e={})=>{var t,n,r;const{scrollX:o,scrollY:i,rowHeaderScrollX:a}=this.getAdjustedScrollOffset({scrollX:(null===(t=e.offsetX)||void 0===t?void 0:t.value)||0,scrollY:(null===(n=e.offsetY)||void 0===n?void 0:n.value)||0,rowHeaderScrollX:(null===(r=e.rowHeaderOffsetX)||void 0===r?void 0:r.value)||0});this.setScrollOffset({scrollX:o,scrollY:i,rowHeaderScrollX:a}),this.startScroll(null==e?void 0:e.skipScrollEvent)},this.startScroll=(e=!1)=>{var t,n,r;const{rowHeaderScrollX:o,scrollX:i,scrollY:a}=this.getScrollOffset();null===(t=this.hRowScrollBar)||void 0===t||t.onlyUpdateThumbOffset(this.getScrollBarOffset(o,this.hRowScrollBar)),null===(n=this.hScrollBar)||void 0===n||n.onlyUpdateThumbOffset(this.getScrollBarOffset(i,this.hScrollBar)),null===(r=this.vScrollBar)||void 0===r||r.onlyUpdateThumbOffset(this.getScrollBarOffset(a,this.vScrollBar)),this.dynamicRenderCell(e)},this.getRendererHeight=()=>{const{start:e,end:t}=this.getCellRange();return this.viewCellHeights.getCellOffsetY(t+1)-this.viewCellHeights.getCellOffsetY(e)},this.getAdjustedScrollOffset=({scrollX:e,scrollY:t,rowHeaderScrollX:n})=>({scrollX:e5(e,this.layoutResult.colsHierarchy.width,this.panelBBox.width),scrollY:e5(t,this.getRendererHeight(),this.panelBBox.height),rowHeaderScrollX:J2(n,this.cornerBBox)}),this.getScrollBarOffset=(e,t)=>{const{trackLen:n,thumbLen:r,scrollTargetMaxOffset:o}=t;return e*(n-r)/o},this.isScrollOverThePanelArea=({offsetX:e,offsetY:t})=>e>this.panelBBox.minX&&e<this.panelBBox.maxX&&t>this.panelBBox.minY&&t<this.panelBBox.maxY,this.isScrollOverTheCornerArea=({offsetX:e,offsetY:t})=>e>this.cornerBBox.minX&&e<this.cornerBBox.maxX&&t>this.cornerBBox.minY&&t<this.cornerBBox.maxY+this.panelBBox.height,this.updateHorizontalRowScrollOffset=({offset:e,offsetX:t,offsetY:n})=>{var r;this.isScrollOverTheCornerArea({offsetX:t,offsetY:n})&&(null===(r=this.hRowScrollBar)||void 0===r||r.emitScrollChange(e))},this.updateHorizontalScrollOffset=({offset:e,offsetX:t,offsetY:n})=>{var r;this.hRowScrollBar&&!this.isScrollOverThePanelArea({offsetX:t,offsetY:n})||null===(r=this.hScrollBar)||void 0===r||r.emitScrollChange(e)},this.isScrollToLeft=({deltaX:e,offsetX:t,offsetY:n})=>{if(!this.hScrollBar&&!this.hRowScrollBar)return!0;const r=!this.hRowScrollBar||this.isScrollOverThePanelArea({offsetY:n,offsetX:t})||this.hRowScrollBar.thumbOffset<=0,o=!this.hScrollBar||this.hScrollBar.thumbOffset<=0;return e<=0&&o&&r},this.isScrollToRight=({deltaX:e,offsetX:t,offsetY:n})=>{var r,o,i,a,l,s;if(!this.hScrollBar&&!this.hRowScrollBar)return!0;const c=this.spreadsheet.isFrozenRowHeader()?null===(r=this.panelBBox)||void 0===r?void 0:r.width:null===(o=this.panelBBox)||void 0===o?void 0:o.maxX,u=!this.hRowScrollBar||this.isScrollOverThePanelArea({offsetY:n,offsetX:t})||(null===(i=this.hRowScrollBar)||void 0===i?void 0:i.thumbOffset)+(null===(a=this.hRowScrollBar)||void 0===a?void 0:a.thumbLen)>=this.cornerBBox.width,d=this.hRowScrollBar&&this.isScrollOverTheCornerArea({offsetX:t,offsetY:n})||(null===(l=this.hScrollBar)||void 0===l?void 0:l.thumbOffset)+(null===(s=this.hScrollBar)||void 0===s?void 0:s.thumbLen)>=c;return e>=0&&d&&u},this.isScrollToTop=e=>{var t;return!this.vScrollBar||e<=0&&(null===(t=this.vScrollBar)||void 0===t?void 0:t.thumbOffset)<=0},this.isScrollToBottom=e=>{var t,n,r;return!this.vScrollBar||e>=0&&(null===(t=this.vScrollBar)||void 0===t?void 0:t.thumbOffset)+(null===(n=this.vScrollBar)||void 0===n?void 0:n.thumbLen)>=(null===(r=this.panelBBox)||void 0===r?void 0:r.height)},this.isVerticalScrollOverTheViewport=e=>!this.isScrollToTop(e)&&!this.isScrollToBottom(e),this.isHorizontalScrollOverTheViewport=e=>!this.isScrollToLeft(e)&&!this.isScrollToRight(e),this.isScrollOverTheViewport=e=>{const{deltaY:t,deltaX:n,offsetY:r}=e;return!(r<=this.cornerBBox.maxY)&&(0!==t?this.isVerticalScrollOverTheViewport(t):0!==n&&this.isHorizontalScrollOverTheViewport(e))},this.cancelScrollFrame=()=>(!sJ()||!this.scrollFrameId)&&(cancelAnimationFrame(this.scrollFrameId),!0),this.clearScrollFrameIdOnMobile=()=>{sJ()&&(this.scrollFrameId=null)},this.stopScrollChainingIfNeeded=e=>{const{interaction:t}=this.spreadsheet.options;"auto"!==(null==t?void 0:t.overscrollBehavior)&&(this.cancelScrollFrame(),this.stopScrollChaining(e))},this.stopScrollChaining=e=>{var t,n;(null==e?void 0:e.cancelable)&&(null===(t=null==e?void 0:e.preventDefault)||void 0===t||t.call(e));const r=(null==e?void 0:e.nativeEvent)||e;(null==r?void 0:r.cancelable)&&(null===(n=null==r?void 0:r.preventDefault)||void 0===n||n.call(r))},this.onWheel=e=>{const{interaction:t}=this.spreadsheet.options;let{deltaX:n,deltaY:r,offsetX:o,offsetY:i}=e;const{scrollX:a,rowHeaderScrollX:l}=this.getScrollOffset(),{shiftKey:s}=e;s&&cJ()&&(o=o-n+r,n=r,i-=r,r=0);const[c,u]=((e,t,n)=>{const r=Math.abs(e/t),o=r>2?0:t;return[(r<=.5?0:e)*n.horizontal,o*n.vertical]})(n,r,null==t?void 0:t.scrollSpeedRatio);if(this.spreadsheet.hideTooltip(),this.spreadsheet.interaction.clearHoverTimer(),this.isScrollOverTheViewport({deltaX:c,deltaY:u,offsetX:o,offsetY:i})){if(this.stopScrollChaining(e),this.spreadsheet.interaction.addIntercepts([bK.HOVER]),this.cancelScrollFrame()){if(void 0!==this.scrollDirection&&this.scrollDirection!==(c>0?EK.SCROLL_LEFT:EK.SCROLL_RIGHT))return this.scrollDirection=c>0?EK.SCROLL_LEFT:EK.SCROLL_RIGHT,this.updateHorizontalRowScrollOffset({offsetX:o,offsetY:i,offset:l}),void this.updateHorizontalScrollOffset({offsetX:o,offsetY:i,offset:a});this.scrollDirection=n>0?EK.SCROLL_LEFT:EK.SCROLL_RIGHT,this.scrollFrameId=requestAnimationFrame(()=>{var e;const{scrollX:t,scrollY:n,rowHeaderScrollX:r}=this.getScrollOffset();0!==c&&(this.showHorizontalScrollBar(),this.updateHorizontalRowScrollOffset({offsetX:o,offsetY:i,offset:c+r}),this.updateHorizontalScrollOffset({offsetX:o,offsetY:i,offset:c+t})),0!==u&&(this.showVerticalScrollBar(),null===(e=this.vScrollBar)||void 0===e||e.emitScrollChange(u+n)),this.delayHideScrollbarOnMobile(),this.clearScrollFrameIdOnMobile()})}}else this.stopScrollChainingIfNeeded(e)},this.realDataCellRender=(e,t)=>{const n=this.calculateXYIndexes(e,t);UZ.getInstance().logger("realDataCellRender:",this.preCellIndexes,n);const{add:r,remove:o}=k4(this.preCellIndexes,n);UZ.getInstance().debugCallback("Data Cell Render",()=>{vY.each(r,([e,t])=>{const n=this.getCellMeta(t,e),r=this.createDataCell(n);r&&this.addDataCell(r)});const e=this.getDataCells();vY.each(o,([t,n])=>{const r=vY.find(e,e=>e.name===`${n}-${t}`);null==r||r.destroy()}),UZ.getInstance().logger(`Render Cell Panel: ${null==e?void 0:e.length}, Add: ${null==r?void 0:r.length}, Remove: ${null==o?void 0:o.length}`)}),this.preCellIndexes=n,this.spreadsheet.emit(BY.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,{add:r,remove:o,spreadsheet:this.spreadsheet})},this.getGridInfo=()=>{const[e,t,n,r]=this.preCellIndexes.center;return{cols:C4(e,t,this.layoutResult.colLeafNodes),rows:S4(n,r,this.viewCellHeights)}},this.onAfterScroll=vY.debounce(()=>{const{interaction:e,container:t}=this.spreadsheet;if(!e.isSelectedState()&&(e.removeIntercepts([bK.HOVER]),e.getHoverAfterScroll())){const n=e.eventController.canvasMousemoveEvent;if(n){const{x:e,y:r}=n,o=t.document.elementFromPointSync(e,r);o&&t.emit(zY.POINTER_MOVE,Object.assign(Object.assign({},n),{shape:o,target:o,timestamp:performance.now()}))}}},300),this.getCellChildrenNodes=e=>{var t;const n=null===(t=null==e?void 0:e.getMeta)||void 0===t?void 0:t.call(e),r=(null==e?void 0:e.cellType)===sK.ROW_CELL;return this.spreadsheet.isHierarchyTreeType()&&r?mQ.getAllLeaveNodes(n).filter(e=>e.rowIndex===n.rowIndex):mQ.getAllChildrenNodes(n)},this.spreadsheet=e,this.init()}shouldRender(){return e=this.spreadsheet.dataCfg.fields,!(vY.isEmpty(e.rows)&&vY.isEmpty(e.columns)&&vY.isEmpty(e.values));var e}initTextWrapTemp(){var e;const t=[{},this.spreadsheet,{shallowRender:!0}];this.textWrapTempRowCell=this.getRowCellInstance(...t),this.textWrapTempColCell=this.getColCellInstance(...t),this.textWrapTempCornerCell=null===(e=this.getCornerCellInstance)||void 0===e?void 0:e.call(this,...t),this.textWrapNodeHeightCache=u4(500),this.customRowHeightStatusMap={}}initGroups(){this.initBackgroundGroup(),this.initPanelGroups(),this.initForegroundGroup()}initForegroundGroup(){this.foregroundGroup=this.spreadsheet.container.appendChild(new FX({name:"foreGroundGroup",style:{zIndex:3}}))}initBackgroundGroup(){this.backgroundGroup=this.spreadsheet.container.appendChild(new FX({name:"backGroundGroup",style:{zIndex:0}}))}initPanelGroups(){this.panelGroup=this.spreadsheet.container.appendChild(new FX({name:"panelGroup",style:{zIndex:1}})),this.panelScrollGroup=new f4({name:"panelScrollGroup",zIndex:1,s2:this.spreadsheet}),this.panelGroup.appendChild(this.panelScrollGroup)}getCellCustomSize(e,t){return vY.isFunction(t)?t(e):t}getRowCellDraggedWidth(e){var t,n,r;const{rowCell:o}=this.spreadsheet.options.style;return null!==(n=null===(t=null==o?void 0:o.widthByField)||void 0===t?void 0:t[null==e?void 0:e.id])&&void 0!==n?n:null===(r=null==o?void 0:o.widthByField)||void 0===r?void 0:r[null==e?void 0:e.field]}getRowCellDraggedHeight(e){var t,n,r;const{rowCell:o}=this.spreadsheet.options.style;return null!==(n=null===(t=null==o?void 0:o.heightByField)||void 0===t?void 0:t[null==e?void 0:e.id])&&void 0!==n?n:null===(r=null==o?void 0:o.heightByField)||void 0===r?void 0:r[null==e?void 0:e.field]}isCustomRowCellHeight(e){var t;const{dataCell:n}=this.spreadsheet.options.style,r=null===(t=WK.dataCell)||void 0===t?void 0:t.height;return vY.isNumber(this.getCustomRowCellHeight(e))||(null==n?void 0:n.height)!==r}getCustomRowCellHeight(e){var t;const{rowCell:n}=this.spreadsheet.options.style;return null!==(t=this.getRowCellDraggedHeight(e))&&void 0!==t?t:this.getCellCustomSize(e,null==n?void 0:n.height)}getRowCellHeight(e){var t;const{dataCell:n}=this.spreadsheet.options.style;return null!==(t=this.getCustomRowCellHeight(e))&&void 0!==t?t:null==n?void 0:n.height}getColCellDraggedWidth(e){var t,n,r,o,i,a;const{colCell:l}=this.spreadsheet.options.style;return null!==(o=null!==(n=null===(t=null==l?void 0:l.widthByField)||void 0===t?void 0:t[null==e?void 0:e.id])&&void 0!==n?n:null===(r=null==l?void 0:l.widthByField)||void 0===r?void 0:r[null==e?void 0:e.field])&&void 0!==o?o:null===(i=null==l?void 0:l.widthByField)||void 0===i?void 0:i[null===(a=null==e?void 0:e.query)||void 0===a?void 0:a[WY]]}getColCellDraggedHeight(e){var t,n,r,o,i,a;const{colCell:l}=this.spreadsheet.options.style;return null!==(o=null!==(n=null===(t=null==l?void 0:l.heightByField)||void 0===t?void 0:t[null==e?void 0:e.id])&&void 0!==n?n:null===(r=null==l?void 0:l.heightByField)||void 0===r?void 0:r[null==e?void 0:e.field])&&void 0!==o?o:null===(i=null==l?void 0:l.heightByField)||void 0===i?void 0:i[null===(a=null==e?void 0:e.query)||void 0===a?void 0:a[WY]]}getColNodeHeight(e){var t,n;const{colNode:r,colsHierarchy:o,useCache:i=!0,cornerNodes:a=[]}=e;if(!r)return 0;const{colCell:l,cornerCell:s}=this.spreadsheet.options.style,c=null!==(t=this.getColCellDraggedHeight(r))&&void 0!==t?t:this.getCellCustomSize(r,null==l?void 0:l.height);if(vY.isNumber(c)&&c!==(null===(n=WK.colCell)||void 0===n?void 0:n.height))return r.extra.isCustomHeight=!0,c;const u=(null==l?void 0:l.maxLines)>1&&(null==l?void 0:l.wordWrap)||this.spreadsheet.theme.colCell.text.fontSize>h4||this.spreadsheet.theme.colCell.bolderText.fontSize>h4,d=(null==s?void 0:s.maxLines)>1&&(null==s?void 0:s.wordWrap)||this.spreadsheet.theme.cornerCell.text.fontSize>h4||this.spreadsheet.theme.cornerCell.bolderText.fontSize>h4,f=this.getDefaultColNodeHeight(r,o);let h=f,p=f;if(u&&(h=this.getNodeAdaptiveHeight({meta:r,cell:this.textWrapTempColCell,defaultHeight:f,useCache:i})),d){const e=a.filter(e=>r.isLeaf?e.cornerType===hQ.Row:e.field===r.field);vY.isEmpty(e)||(p=vY.max(e.map(e=>this.getNodeAdaptiveHeight({meta:e,cell:this.textWrapTempCornerCell,defaultHeight:f,useCache:!1}))))}return kJ(Math.max(p,h,f))}getDefaultColNodeHeight(e,t){var n,r,o,i;if(!e)return 0;const{colCell:a}=this.spreadsheet.options.style,l=(null===(r=null===(n=null==t?void 0:t.sampleNodesForAllLevels)||void 0===n?void 0:n.find(t=>t.level===e.level))||void 0===r?void 0:r.height)||0,s=null!==(i=null!==(o=this.getColCellDraggedHeight(e))&&void 0!==o?o:this.getCellCustomSize(e,null==a?void 0:a.height))&&void 0!==i?i:0;return kJ(Math.max(s,l))}getNodeAdaptiveHeight(e){var t,n;const{meta:r,cell:o,defaultHeight:i=0,useCache:a=!0}=e;if(!r||!o)return i;o.setMeta(Object.assign(Object.assign({},r),{shallowRender:!0}));const l=String(o.getFieldValue());if(!l)return i;const s=Math.ceil(o.getMaxTextWidth());if(s<=0&&o.cellType===sK.COL_CELL)return i;const c=`${l}${IK}${s}`,u=this.textWrapNodeHeightCache.get(c);if(a&&vY.isNumber(u))return u||i;null===(n=(t=o).generateIconConfig)||void 0===n||n.call(t),o.drawTextShape();const{padding:d}=o.getStyle().cell,f=o.getActualTextHeight(),h=f+d.top+d.bottom,p=f>=i?h:i;return this.textWrapNodeHeightCache.set(c,p),p}calculateColParentNodeWidthAndX(e){var t;let n=null,r=0;const o=e.slice(0);for(;r<o.length;){const e=o[r++],i=null==e?void 0:e.parent;if(n!==i&&i){o.push(i);const e=null===(t=i.children)||void 0===t?void 0:t.find(e=>e.width),r=(null==e?void 0:e.x)||0,a=vY.sumBy(i.children,"width");i.x=r,i.width=a,n=i}}}updateColsHierarchySampleMaxHeightNodes(e,t){var n;const r=vY.isEmpty(e.sampleNodesForAllLevels),o=(r?e.allNodesWithoutRoot:e.sampleNodesForAllLevels).map(t=>vY.maxBy(e.getNodes(t.level).filter(e=>!e.isTotals||r),t=>this.getColNodeHeight({colNode:t,colsHierarchy:e})));r&&(e.sampleNodeForLastLevel=null!==(n=o[0])&&void 0!==n?n:null,e.maxLevel=0),e.sampleNodesForAllLevels=vY.compact(o);const i=t?z4.getCornerNodes({position:{x:0,y:0},width:t.width,height:e.height,layoutResult:{rowsHierarchy:t,colsHierarchy:e},seriesNumberWidth:this.getSeriesNumberWidth(),spreadsheet:this.spreadsheet}):[];e.sampleNodesForAllLevels.forEach(t=>{var n;if(t.height=this.getColNodeHeight({colNode:t,colsHierarchy:e,cornerNodes:i}),0===t.level)t.y=0;else{const r=null!==(n=e.sampleNodesForAllLevels[t.level-1])&&void 0!==n?n:{y:0,height:0};t.y=r.y+r.height}e.height+=t.height}),e.rootNode.height=e.height}render(){this.shouldRender()&&(this.adjustScrollOffset(),this.renderHeaders(),this.renderScrollBars(),this.renderBackground(),this.dynamicRenderCell(!0))}adjustScrollOffset(){const e=this.getAdjustedScrollOffset(this.getScrollOffset());this.setScrollOffset(e)}getSeriesNumberWidth(){var e,t;const{seriesNumber:n}=this.spreadsheet.options;return kJ((null==n?void 0:n.enable)&&null!==(t=null===(e=this.spreadsheet.theme.rowCell)||void 0===e?void 0:e.seriesNumberWidth)&&void 0!==t?t:0)}getCanvasSize(){const{width:e=0,height:t=0}=this.spreadsheet.options;return{width:e,height:t}}updateScrollOffset(e){var t,n,r;(null===(t=e.rowHeaderOffsetX)||void 0===t?void 0:t.animate)||(null===(n=e.offsetX)||void 0===n?void 0:n.animate)||(null===(r=e.offsetY)||void 0===r?void 0:r.animate)?this.scrollWithAnimation(e):this.scrollImmediately(e)}getPaginationScrollY(){const{pagination:e}=this.spreadsheet.options;if(e){const{current:t=qK,pageSize:n}=e,r=this.viewCellHeights,o=Math.max((t-1)*n,0);return r.getCellOffsetY(o)}return 0}destroy(){this.unbindEvents(),this.clearAllGroup(),this.preCellIndexes=null,this.customRowHeightStatusMap={},this.textWrapNodeHeightCache.clear(!1),cancelAnimationFrame(this.scrollFrameId)}calculateCornerBBox(){this.cornerBBox=new $4(this,!0)}calculatePanelBBox(){this.panelBBox=new I4(this,!0)}getCellRange(){const{pagination:e}=this.spreadsheet.options;return((e,t)=>{const n=e;let r=0,o=n.getTotalLength()-1;if(t){const{current:e=qK,pageSize:i}=t;r=Math.max((e-1)*i,0),o=Math.min(e*i-1,n.getTotalLength()-1)}return{start:r,end:o}})(this.viewCellHeights,e)}clearAllGroup(){this.panelGroup.remove(),this.foregroundGroup.remove(),this.backgroundGroup.remove()}renderRowScrollBar(e){if(this.spreadsheet.isFrozenRowHeader()&&this.cornerBBox.width<this.cornerBBox.originalWidth){const t=this.cornerBBox.originalWidth-this.cornerBBox.width,{maxY:n}=this.getScrollbarPosition(),{splitLine:r,scrollBar:o}=this.spreadsheet.theme,i=Math.max(this.cornerBBox.width*this.cornerBBox.width/this.cornerBBox.originalWidth,null==o?void 0:o.thumbHorizontalMinSize),a=i-(null==r?void 0:r.verticalBorderWidth);this.hRowScrollBar=new w4({isHorizontal:!0,trackLen:this.cornerBBox.width,thumbLen:a,position:{x:this.cornerBBox.minX+this.scrollBarSize/2,y:n},thumbOffset:e*(this.cornerBBox.width-i)/t,theme:this.scrollBarTheme,scrollTargetMaxOffset:t}),this.hRowScrollBar.addEventListener(b4.ScrollChange,({offset:e})=>{var n,r;const o=OJ(this.getValidScrollBarOffset(e,t));this.setScrollOffset({rowHeaderScrollX:o}),null===(n=this.rowHeader)||void 0===n||n.onRowScrollX(o,CY),null===(r=this.seriesNumberHeader)||void 0===r||r.onRowScrollX(o,wY),this.cornerHeader.onRowScrollX(o,EY);const i=this.getScrollBarOffset(o,this.hRowScrollBar),{scrollX:a,scrollY:l}=this.getScrollOffset(),s={scrollX:a,scrollY:l,rowHeaderScrollX:i};this.hRowScrollBar.updateThumbOffset(i,!1),this.spreadsheet.emit(BY.ROW_CELL_SCROLL,s),this.spreadsheet.emit(BY.GLOBAL_SCROLL,s)}),this.foregroundGroup.appendChild(this.hRowScrollBar)}}getValidScrollBarOffset(e,t){return vY.clamp(e,0,t)}renderHScrollBar(e,t,n){if(OJ(e)<OJ(t)){const r=this.scrollBarSize/2,{maxY:o}=this.getScrollbarPosition(),i=!this.spreadsheet.isFrozenRowHeader(),a=e+(i?Math.min(this.cornerBBox.width,this.getCanvasSize().width):0),l={x:this.panelBBox.minX+(i?-this.cornerBBox.width+r:r),y:o},s=t+(i?this.cornerBBox.width:0),{scrollBar:c}=this.spreadsheet.theme,u=s-a,d=Math.max(a/s*a,null==c?void 0:c.thumbHorizontalMinSize);this.hScrollBar=new w4({isHorizontal:!0,trackLen:a,thumbLen:d,position:l,thumbOffset:n*(a-d)/u,theme:this.scrollBarTheme,scrollTargetMaxOffset:u}),this.hScrollBar.addEventListener(b4.ScrollChange,({offset:e,updateThumbOffset:t})=>{const n=this.getValidScrollBarOffset(e,u);t&&this.hScrollBar.updateThumbOffset(this.getScrollBarOffset(n,this.hScrollBar),!1),this.setScrollOffset({scrollX:n}),this.dynamicRenderCell()}),this.foregroundGroup.appendChild(this.hScrollBar)}}getScrollbarPosition(){const{maxX:e,maxY:t}=this.panelBBox,{width:n,height:r}=this.getCanvasSize(),o=this.spreadsheet.options.interaction.scrollbarPosition===CK.CONTENT;return{maxX:(o?e:n)-this.scrollBarSize,maxY:(o?t:r)-this.scrollBarSize}}renderVScrollBar(e,t,n){if(e<t){const{scrollBar:r}=this.spreadsheet.theme,o=Math.max(e/t*e,null==r?void 0:r.thumbVerticalMinSize),i=t-e,{maxX:a}=this.getScrollbarPosition();this.vScrollBar=new w4({isHorizontal:!1,trackLen:e,thumbLen:o,thumbOffset:n*(e-o)/i,position:{x:a,y:this.panelBBox.minY},theme:this.scrollBarTheme,scrollTargetMaxOffset:i}),this.vScrollBar.addEventListener(b4.ScrollChange,({offset:e,updateThumbOffset:t})=>{const n=this.getValidScrollBarOffset(e,i);t&&this.vScrollBar.updateThumbOffset(this.getScrollBarOffset(n,this.vScrollBar),!1),this.setScrollOffset({scrollY:n}),this.dynamicRenderCell()}),this.foregroundGroup.appendChild(this.vScrollBar)}}translateRelatedGroups(e,t,n){var r,o,i,a,l,s;TJ(this.panelScrollGroup,this.panelBBox.x-e,this.panelBBox.y-t),null===(r=this.rowHeader)||void 0===r||r.onScrollXY(this.getRealScrollX(e,n),t,CY),null===(o=this.seriesNumberHeader)||void 0===o||o.onScrollXY(this.getRealScrollX(e,n),t,wY),null===(i=this.cornerHeader)||void 0===i||i.onCorScroll(this.getRealScrollX(e,n),EY),null===(a=this.centerFrame)||void 0===a||a.onChangeShadowVisibility(e,this.getRealWidth()-this.panelBBox.width),null===(l=this.centerFrame)||void 0===l||l.onBorderScroll(this.getCenterFrameScrollX(e)),null===(s=this.columnHeader)||void 0===s||s.onColScroll(e,SY)}getCenterFrameScrollX(e){return this.getRealScrollX(e)}createDataCell(e){var t,n;if(!e)return;const r=null===(n=(t=this.spreadsheet.options).dataCell)||void 0===n?void 0:n.call(t,e,this.spreadsheet);if(!r)return;const{rowIndex:o,colIndex:i}=e;return r.position=[o,i],r.name=`${o}-${i}`,r}init(){this.initTextWrapTemp(),this.initGroups(),UZ.getInstance().debugCallback("Header Layout",()=>{this.layoutResult=this.doLayout(),this.saveInitColumnLeafNodes(this.layoutResult.colLeafNodes),this.spreadsheet.emit(BY.LAYOUT_AFTER_HEADER_LAYOUT,this.layoutResult)}),this.calculateCellWidthHeight(),this.calculateRowOffsets(),this.calculateCornerBBox(),this.calculatePanelBBox(),this.bindEvents()}renderBackground(){const{width:e,height:t}=this.getCanvasSize(),{color:n,opacity:r}=this.spreadsheet.theme.background;this.backgroundGroup.appendChild(new eU({style:{fill:n,opacity:r,x:0,y:0,width:e,height:t}}))}renderScrollBars(){const{scrollX:e,scrollY:t,rowHeaderScrollX:n}=this.getScrollOffset(),{width:r,height:o}=this.panelBBox,i=this.layoutResult.colsHierarchy.width,a=this.getRealHeight();this.renderRowScrollBar(n),this.renderHScrollBar(r,i,e),this.renderVScrollBar(o,a,t)}renderHeaders(){const e=this.getSeriesNumberWidth();this.rowHeader=this.getRowHeader(),this.columnHeader=this.getColHeader(),e>0&&!this.seriesNumberHeader&&(this.seriesNumberHeader=this.getSeriesNumberHeader()),this.cornerHeader=this.getCornerHeader(),this.centerFrame=this.getCenterFrame(),this.seriesNumberHeader&&this.foregroundGroup.appendChild(this.seriesNumberHeader),this.rowHeader&&this.foregroundGroup.appendChild(this.rowHeader),this.foregroundGroup.appendChild(this.columnHeader),this.foregroundGroup.appendChild(this.cornerHeader),this.foregroundGroup.appendChild(this.centerFrame)}getRowHeaderCfg(){const{y:e,viewportHeight:t,viewportWidth:n,height:r}=this.panelBBox,o=this.getSeriesNumberWidth();return{width:this.cornerBBox.width,height:r,viewportWidth:n,viewportHeight:t,position:{x:o,y:e},nodes:this.layoutResult.rowNodes,spreadsheet:this.spreadsheet}}getRowHeader(){return this.rowHeader?this.rowHeader:new H4(this.getRowHeaderCfg())}getColHeader(){if(!this.columnHeader){const{x:e,width:t,viewportHeight:n,viewportWidth:r}=this.panelBBox;return new D4({width:t,cornerWidth:this.cornerBBox.width,height:this.cornerBBox.height,viewportWidth:r,viewportHeight:n,position:{x:e,y:0},nodes:this.layoutResult.colNodes,sortParam:this.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader}getCornerHeader(){return this.cornerHeader||z4.getCornerHeader({panelBBox:this.panelBBox,cornerBBox:this.cornerBBox,seriesNumberWidth:this.getSeriesNumberWidth(),layoutResult:this.layoutResult,spreadsheet:this.spreadsheet})}getSeriesNumberHeader(){return this.seriesNumberHeader||F4.getSeriesNumberHeader({spreadsheet:this.spreadsheet,panelBBox:this.panelBBox,cornerWidth:this.cornerBBox.width,seriesNumberWidth:this.getSeriesNumberWidth(),rowsHierarchy:this.layoutResult.rowsHierarchy})}getCenterFrame(){var e;if(!this.centerFrame){const{viewportWidth:t,viewportHeight:n}=this.panelBBox,r=this.cornerBBox.width,o=this.cornerBBox.height,i=null===(e=this.spreadsheet.options)||void 0===e?void 0:e.frame,a={position:{x:this.cornerBBox.x,y:this.cornerBBox.y},cornerWidth:r,cornerHeight:o,viewportWidth:t,viewportHeight:n,showViewportLeftShadow:!1,showViewportRightShadow:!1,spreadsheet:this.spreadsheet};return i?i(a):new RJ(a)}return this.centerFrame}updatePanelScrollGroup(){this.gridInfo=this.getGridInfo(),this.panelScrollGroup.update(this.gridInfo)}dynamicRenderCell(e){const{scrollX:t,scrollY:n,rowHeaderScrollX:r}=this.getScrollOffset(),o=n+this.getPaginationScrollY();this.spreadsheet.hideTooltip(),this.spreadsheet.interaction.clearHoverTimer(),this.realDataCellRender(t,o),this.updatePanelScrollGroup(),this.translateRelatedGroups(t,o,r),this.clip(t,o),e||this.emitScrollEvent({scrollX:t,scrollY:o,rowHeaderScrollX:r}),this.onAfterScroll()}emitScrollEvent(e){this.spreadsheet.emit(BY.GLOBAL_SCROLL,e)}saveInitColumnLeafNodes(e=[]){const{store:t,options:n}=this.spreadsheet,{hiddenColumnFields:r=[]}=n.interaction,o=e.length+r.length,i=this.getInitColLeafNodes();o!==(null==i?void 0:i.length)&&t.set("initColLeafNodes",e)}getHiddenColumnsInfo(e){const t=this.spreadsheet.store.get("hiddenColumnsDetail",[]);if(!vY.isEmpty(t))return t.find(t=>{var n;return null===(n=null==t?void 0:t.hideColumnNodes)||void 0===n?void 0:n.some(t=>t.id===e.id)})}updateCustomFieldsSampleNodes(e){var t;if(!this.spreadsheet.isCustomColumnFields())return;const n=(null===(t=e.sampleNodeForLastLevel)||void 0===t?void 0:t.id.split(IK))||[],r=e.getNodes().filter(t=>{var r;return(null===(r=e.sampleNodeForLastLevel)||void 0===r?void 0:r.id.includes(t.id))&&n.includes(t.field)});e.sampleNodesForAllLevels=r,e.height=vY.sumBy(r,"height")}adjustCustomRowLeafNodesWidth(e){this.spreadsheet.isCustomRowFields()&&this.adjustLeafNodesSize("width")(e)}adjustCustomColLeafNodesHeight(e){this.spreadsheet.isCustomColumnFields()&&this.adjustLeafNodesSize("height")(e)}adjustLeafNodesSize(e){return({leafNodes:t,hierarchy:n})=>{const{sampleNodeForLastLevel:r,sampleNodesForAllLevels:o}=n;t.forEach(t=>{if(t.level>(null==r?void 0:r.level))return;const n=vY.sumBy(o,n=>n.level<t.level?0:n[e]);t[e]=n})}}getHeaderNodes(e){const t=vY.concat(this.getCornerNodes(),this.getSeriesNumberNodes(),this.getRowNodes(),this.getColNodes());return e?t.filter(t=>e.includes(t.id)):t}getCornerNodes(){var e;return(null===(e=this.cornerHeader)||void 0===e?void 0:e.getNodes())||[]}getSeriesNumberNodes(){var e;return(null===(e=this.seriesNumberHeader)||void 0===e?void 0:e.getNodes())||[]}getColNodes(e){const{colNodes:t=[]}=this.layoutResult;return vY.isNil(e)?t:t.filter(t=>t.level===e)}getTopLevelColNodes(){return this.getColNodes(0)}getColNodeById(e){return this.getColNodes().find(t=>t.id===e)}getColNodeByIndex(e){return this.getColNodes().find(t=>t.colIndex===e)}getColLeafNodesByRange(e,t){return this.getColLeafNodes().filter(n=>n.colIndex>=e&&n.colIndex<=t)}getColLeafNodeByIndex(e){return this.getColLeafNodes().find(t=>t.colIndex===e)}getColNodesByField(e){return this.getColNodes().filter(t=>t.field===e)}getColLeafNodes(){var e;return(null===(e=this.layoutResult)||void 0===e?void 0:e.colLeafNodes)||[]}getColTotalsNodes(e){return this.getColNodes(e).filter(e=>e.isTotals)}getColSubTotalsNodes(e){return this.getColTotalsNodes(e).filter(e=>e.isSubTotals)}getColGrandTotalsNodes(e){return this.getColTotalsNodes(e).filter(e=>e.isGrandTotals)}getRowNodes(e){const{rowNodes:t=[]}=this.layoutResult;return vY.isNil(e)?t:t.filter(t=>t.level===e)}getRowNodeById(e){return this.getRowNodes().find(t=>t.id===e)}getRowNodeByIndex(e){return this.getRowNodes().find(t=>t.rowIndex===e)}getRowLeafNodeByIndex(e){return this.getRowLeafNodes().find(t=>t.rowIndex===e)}getRowLeafNodesByRange(e,t){return this.getRowLeafNodes().filter(n=>n.rowIndex>=e&&n.rowIndex<=t)}getRowNodesByField(e){return this.getRowNodes().filter(t=>t.field===e)}getRowLeafNodes(){var e;return(null===(e=this.layoutResult)||void 0===e?void 0:e.rowLeafNodes)||[]}getRowTotalsNodes(e){return this.getRowNodes(e).filter(e=>e.isTotals)}getRowSubTotalsNodes(e){return this.getRowTotalsNodes(e).filter(e=>e.isSubTotals)}getRowGrandTotalsNodes(e){return this.getRowTotalsNodes(e).filter(e=>e.isGrandTotals)}getDataCells(){var e;return t5(null===(e=this.panelGroup)||void 0===e?void 0:e.children,f2)}getRowCells(){var e;const t=(null===(e=this.getRowHeader())||void 0===e?void 0:e.children)||[];return t5(t,m2).filter(e=>e.cellType===sK.ROW_CELL)}getRowLeafCells(){return this.getRowCells().filter(e=>e.getMeta().isLeaf)}getColCells(){var e;const t=(null===(e=this.getColHeader())||void 0===e?void 0:e.children)||[];return t5(t,u2).filter(e=>e.cellType===sK.COL_CELL)}getColLeafCells(){return this.getColCells().filter(e=>e.getMeta().isLeaf)}getMergedCells(){return vY.filter(this.panelScrollGroup.getMergedCellsGroup().children,e=>e instanceof g2)}getCornerCells(){var e;const t=(null===(e=this.getCornerHeader())||void 0===e?void 0:e.children)||[];return t5(t,d2).filter(e=>e.cellType===sK.CORNER_CELL)}filterCells(e,t){return vY.isEmpty(t)?e:vY.isArray(t)?e.filter(e=>vY.includes(t,e.getMeta().id)):e.filter(e=>{const n=t[e.cellType];return!!n&&n.includes(e.getMeta().id)})}getHeaderCells(e){const t=vY.concat(this.getCornerCells(),this.getSeriesNumberCells(),this.getRowCells(),this.getColCells());return this.filterCells(t,e)}getCellById(e){return this.getCells().find(t=>t.getMeta().id===e)}getCellsByField(e){return this.getCells().filter(t=>t.getMeta().field===e)}getCells(e){const t=vY.concat(this.getHeaderCells(),this.getDataCells());return e?t.filter(t=>e.includes(t.getMeta().id)):t}getInitColIndexLeafNodes(){return this.layoutResult.colsHierarchy.getIndexNodes()||[]}getInitColLeafNodes(){return this.spreadsheet.store.get("initColLeafNodes",[])}clearInitColLeafNodes(){this.spreadsheet.store.set("initColLeafNodes",void 0)}measureTextWidth(e,t){return Math.ceil(this.spreadsheet.measureTextWidth(e,t))+1}}class X4 extends d4{}class U4 extends q4{constructor(){super(...arguments),this.frozenGroupAreas={[JY.Col]:{width:0,x:0,range:[]},[JY.TrailingCol]:{width:0,x:0,range:[]},[JY.Row]:{height:0,y:0,range:[]},[JY.TrailingRow]:{height:0,y:0,range:[]}},this.panelScrollGroupIndexes=[0,0,0,0],this.addDataCell=e=>{const t=this.getColLeafNodes().length,n=this.getCellRange(),r=((e,t,n,r)=>{const{colCount:o=0,rowCount:i=0,trailingColCount:a=0,trailingRowCount:l=0}=t,{colIndex:s,rowIndex:c}=e;return IJ(c,r.start,i)?tK.Row:NJ(c,r.end,l)?tK.TrailingRow:MJ(s,o)?tK.Col:$J(s,a,n)?tK.TrailingCol:tK.Scroll})(e.getMeta(),this.getFrozenOptions(),t,n);r===tK.Scroll?this.panelScrollGroup.appendChild(e):this.frozenGroups[r].appendChild(e),w5(()=>{this.spreadsheet.emit(BY.DATA_CELL_RENDER,e),this.spreadsheet.emit(BY.LAYOUT_CELL_RENDER,e)})},this.addFrozenCell=(e,t,n)=>{const r=this.getCellMeta(t,e);if(r){r.isFrozenCorner=!0;const e=this.createDataCell(r);n.appendChild(e)}},this.translateFrozenGroups=()=>{const{scrollY:e,scrollX:t}=this.getScrollOffset(),n=this.getPaginationScrollY(),{x:r,y:o,viewportWidth:i,viewportHeight:a}=this.panelBBox,l=A4(this,this.cornerBBox.width,t),s=P4(this,i),c=j4(this,a,n);TJ(this.frozenGroups[tK.TopLeft],r-l,o-n),TJ(this.frozenGroups[tK.TopRight],r-s,o-n),TJ(this.frozenGroups[tK.BottomLeft],r-l,o-c),TJ(this.frozenGroups[tK.BottomRight],r-s,o-c),TJ(this.frozenGroups[tK.Row],r-t,o-n),TJ(this.frozenGroups[tK.TrailingRow],r-t,o-c),TJ(this.frozenGroups[tK.Col],r-l,o-e-n),TJ(this.frozenGroups[tK.TrailingCol],r-s,o-e-n)},this.renderFrozenGroupSplitLine=(e,t)=>{var n;const r=Math.floor(t-this.getPaginationScrollY());null===(n=this.foregroundGroup.getElementById(OY))||void 0===n||n.remove();const{splitLine:o}=this.spreadsheet.theme,i=this.foregroundGroup.appendChild(new FX({id:OY,style:{zIndex:4}})),a={lineWidth:1,stroke:null==o?void 0:o.verticalBorderColor,opacity:null==o?void 0:o.verticalBorderColorOpacity},l={lineWidth:1,stroke:null==o?void 0:o.horizontalBorderColor,opacity:null==o?void 0:o.horizontalBorderColorOpacity};this.renderFrozenColSplitLine(i,o,a,e),this.renderFrozenTrailingColSplitLine(i,o,a,e),this.renderFrozenRowSplitLine(i,o,l,r),this.renderFrozenTrailingRowSplitLine(i,o,l,r)},this.renderFrozenPanelCornerGroup=()=>{const e=this.getCellRange(),t=((e,t,n)=>{const{colCount:r=0,rowCount:o=0,trailingColCount:i=0,trailingRowCount:a=0}=e,l={[tK.TopLeft]:[],[tK.TopRight]:[],[tK.BottomLeft]:[],[tK.BottomRight]:[]};for(let s=0;s<r;s++){for(let e=n.start;e<n.start+o;e++)l[tK.TopLeft].push({x:s,y:e});if(a>0)for(let e=0;e<a;e++){const t=n.end-e;l[tK.BottomLeft].push({x:s,y:t})}}for(let s=0;s<i;s++){const e=t-1-s;for(let t=n.start;t<n.start+o;t++)l[tK.TopRight].push({x:e,y:t});if(a>0)for(let t=0;t<a;t++){const r=n.end-t;l[tK.BottomRight].push({x:e,y:r})}}return l})(this.getFrozenOptions(),this.getColLeafNodes().length,e);Object.keys(t||{}).forEach(e=>{const n=t[e],r=this.frozenGroups[e];r&&n.forEach(e=>{this.addFrozenCell(e.x,e.y,r)})})},this.getTotalHeightForRange=(e,t)=>{if(e<0||t<0)return 0;if(this.rowOffsets)return this.rowOffsets[t+1]-this.rowOffsets[e];let n=0;for(let r=e;r<t+1;r++){n+=this.getDefaultCellHeight()}return n},this.getShadowFill=e=>{var t,n;const{splitLine:r}=this.spreadsheet.theme;return`l (${e}) 0:${null===(t=null==r?void 0:r.shadowColors)||void 0===t?void 0:t.left} 1:${null===(n=null==r?void 0:r.shadowColors)||void 0===n?void 0:n.right}`}}initPanelGroups(){super.initPanelGroups(),this.frozenGroups=[tK.Row,tK.Col,tK.TrailingRow,tK.TrailingCol,tK.TopLeft,tK.TopRight,tK.BottomLeft,tK.BottomRight].reduce((e,t)=>{const n=new X4({name:t,zIndex:4,s2:this.spreadsheet});return this.panelGroup.appendChild(n),e[t]=n,e},{})}getFrozenOptions(){if(!this.validFrozenOptions){const e=this.getColLeafNodes().length,t=this.getCellRange();this.validFrozenOptions=((e={},t,n=0)=>{const r=Object.assign(Object.assign({},GK),e);r.colCount>=t&&(r.colCount=t);const o=t-r.colCount;r.trailingColCount>o&&(r.trailingColCount=o),r.rowCount>=n&&(r.rowCount=n);const i=n-r.rowCount;return r.trailingRowCount>i&&(r.trailingRowCount=i),r})(this.spreadsheet.options.frozen,e,t.end-t.start+1)}return this.validFrozenOptions}calculateFrozenGroupInfo(){const{colCount:e,rowCount:t,trailingColCount:n,trailingRowCount:r}=this.getFrozenOptions(),o=this.viewCellHeights,i=this.getCellRange(),a=this.getColLeafNodes();e>0&&(this.frozenGroupAreas[JY.Col].width=a[e-1].x+a[e-1].width,this.frozenGroupAreas[JY.Col].x=0,this.frozenGroupAreas[JY.Col].range=[0,e-1]),t>0&&(this.frozenGroupAreas[JY.Row].height=o.getCellOffsetY(i.start+t)-o.getCellOffsetY(i.start),this.frozenGroupAreas[JY.Row].y=o.getCellOffsetY(i.start),this.frozenGroupAreas[JY.Row].range=[i.start,i.start+t-1]),n>0&&(this.frozenGroupAreas[JY.TrailingCol].width=a[a.length-1].x-a[a.length-n].x+a[a.length-1].width,this.frozenGroupAreas[JY.TrailingCol].x=a[a.length-n].x,this.frozenGroupAreas[JY.TrailingCol].range=[a.length-n,a.length-1]),r>0&&(this.frozenGroupAreas[JY.TrailingRow].height=o.getCellOffsetY(i.end+1)-o.getCellOffsetY(i.end+1-r),this.frozenGroupAreas[JY.TrailingRow].y=o.getCellOffsetY(i.end+1-r),this.frozenGroupAreas[JY.TrailingRow].range=[i.end-r+1,i.end])}getFinalViewport(){const{viewportHeight:e,viewportWidth:t}=this.panelBBox,{colCount:n,rowCount:r,trailingColCount:o,trailingRowCount:i}=this.getFrozenOptions(),a={width:t,height:e,x:0,y:0};return(n>0||o>0)&&(a.width-=this.frozenGroupAreas[JY.Col].width+this.frozenGroupAreas[JY.TrailingCol].width,a.x+=this.frozenGroupAreas[JY.Col].width),(r>0||i>0)&&(a.height<this.frozenGroupAreas[JY.Row].height+this.frozenGroupAreas[JY.TrailingRow].height?(a.height=0,a.y=0):(a.height-=this.frozenGroupAreas[JY.Row].height+this.frozenGroupAreas[JY.TrailingRow].height,a.y+=this.frozenGroupAreas[JY.Row].height)),a}calculateXYIndexes(e,t){var n,r;const o=this.getFinalViewport(),i=this.spreadsheet.isTableMode()&&(null===(r=null===(n=this.spreadsheet.dataSet)||void 0===n?void 0:n.isEmpty)||void 0===r?void 0:r.call(n))?this.spreadsheet.dataSet.getEmptyViewIndexes():(e=>{const{scrollX:t,scrollY:n,widths:r,heights:o,viewport:i,rowRemainWidth:a}=e;let l=vY.findIndex(r,(e,n)=>{const o=t-(vY.isNil(a)?0:a)+i.x;return o>=e&&o<r[n+1]},0);l=Math.max(l,0);let s=vY.findIndex(r,(e,n)=>{const o=i.width+t+i.x;return o>=e&&o<r[n+1]},l);s=Math.min(-1===s?1/0:s,r.length-2);const{start:c,end:u}=o.getIndexRange(n+i.y,i.height+n+i.y);return[l,s,c,u]})({scrollX:e,scrollY:t,widths:this.viewCellWidths,heights:this.viewCellHeights,viewport:o,rowRemainWidth:this.getRealScrollX(this.cornerBBox.width)});this.panelScrollGroupIndexes=i;const a=this.getColLeafNodes().length,l=this.getCellRange();return((e,t,n,r)=>{const{colCount:o=0,rowCount:i=0,trailingColCount:a=0,trailingRowCount:l=0}=t,s=[...e];MJ(s[0],o)&&(s[0]=o),$J(s[1],a,n)&&(s[1]=n-a-1),IJ(s[2],r.start,i)&&(s[2]=r.start+i),NJ(s[3],r.end,l)&&(s[3]=r.end-l);const c=[...s];c[2]=r.start,c[3]=r.start+i-1;const u=[...s];u[0]=0,u[1]=o-1;const d=[...s];d[2]=r.end+1-l,d[3]=r.end;const f=[...s];return f[0]=n-a,f[1]=n-1,{center:s,frozenRow:c,frozenCol:u,frozenTrailingCol:f,frozenTrailingRow:d}})(i,this.getFrozenOptions(),a,l)}updateFrozenGroupGrid(){[JY.Col,JY.Row,JY.TrailingCol,JY.TrailingRow].forEach(e=>{if(!this.frozenGroupAreas[e].range)return;let t=[],n=[];if(e.toLowerCase().includes("row")){const[r,o]=this.frozenGroupAreas[e].range||[];if(t=this.gridInfo.cols,n=S4(r,o,this.viewCellHeights),e===JY.TrailingRow){n=((e,t,n,r)=>{const o=S4(e,t,r),i=r.getCellOffsetY(e);return o.map(e=>e-i+n)})(r,o,this.frozenGroupAreas[JY.TrailingRow].y,this.viewCellHeights)}}else{const[r,o]=this.frozenGroupAreas[e].range||[],i=this.getColLeafNodes();t=C4(r,o,i),n=this.gridInfo.rows}const r=rK[e];this.frozenGroups[r].updateGrid({cols:t,rows:n},r)})}updatePanelScrollGroup(){super.updatePanelScrollGroup(),this.updateFrozenGroupGrid()}translateRelatedGroups(e,t,n){super.translateRelatedGroups(e,t,n),this.translateFrozenGroups(),this.renderRowResizeArea(),this.renderFrozenGroupSplitLine(e,t)}renderRowResizeArea(){}getFrozenColSplitLineSize(){const{viewportHeight:e,y:t}=this.panelBBox;return{y:0,height:e+t}}renderFrozenColSplitLine(e,t,n,r){const{colCount:o}=this.getFrozenOptions(),{x:i}=this.panelBBox;if(o>0){const o=this.cornerBBox.width,a=A4(this,o,r),l=i+this.frozenGroupAreas[JY.Col].width-a,{y:s,height:c}=this.getFrozenColSplitLineSize();nJ(e,Object.assign(Object.assign({},n),{x1:l,x2:l,y1:s,y2:s+c})),(null==t?void 0:t.showShadow)&&r>0&&(this.spreadsheet.isFrozenRowHeader()||a>=o)&&e.appendChild(new eU({style:{x:l,y:s,width:null==t?void 0:t.shadowWidth,height:c,fill:this.getShadowFill(0)}}))}}renderFrozenTrailingColSplitLine(e,t,n,r){const{trailingColCount:o}=this.getFrozenOptions(),{viewportWidth:i,x:a}=this.panelBBox;if(o>0){const o=i-this.frozenGroupAreas[JY.TrailingCol].width+a,{y:l,height:s}=this.getFrozenColSplitLineSize(),c=Math.max(0,vY.last(this.viewCellWidths)-i);nJ(e,Object.assign(Object.assign({},n),{x1:o,x2:o,y1:l,y2:l+s})),(null==t?void 0:t.showShadow)&&OJ(r)<OJ(c)&&e.appendChild(new eU({style:{x:o-t.shadowWidth,y:l,width:t.shadowWidth,height:s,fill:this.getShadowFill(180)}}))}}getFrozenRowSplitLineSize(){const{viewportWidth:e,x:t}=this.panelBBox;return{x:0,width:t+e}}renderFrozenRowSplitLine(e,t,n,r){const{rowCount:o}=this.getFrozenOptions(),{y:i}=this.panelBBox;if(o>0){const o=i+this.frozenGroupAreas[JY.Row].height,{x:a,width:l}=this.getFrozenRowSplitLineSize();nJ(e,Object.assign(Object.assign({},n),{x1:a,x2:a+l,y1:o,y2:o})),(null==t?void 0:t.showShadow)&&r>0&&e.appendChild(new eU({style:{x:a,y:o,width:l,height:null==t?void 0:t.shadowWidth,fill:this.getShadowFill(90)}}))}}renderFrozenTrailingRowSplitLine(e,t,n,r){const{trailingRowCount:o}=this.getFrozenOptions(),{viewportHeight:i}=this.panelBBox;if(o>0){const o=this.panelBBox.maxY-this.frozenGroupAreas[JY.TrailingRow].height,{x:a,width:l}=this.getFrozenRowSplitLineSize(),s=this.getCellRange(),c=Math.max(0,this.viewCellHeights.getCellOffsetY(s.end+1)-this.viewCellHeights.getCellOffsetY(s.start)-i);nJ(e,Object.assign(Object.assign({},n),{x1:a,x2:a+l,y1:o,y2:o})),(null==t?void 0:t.showShadow)&&r<OJ(c)&&e.appendChild(new eU({style:{x:a,y:o-t.shadowWidth,width:l,height:t.shadowWidth,fill:this.getShadowFill(270)}}))}}render(){this.shouldRender()&&(this.calculateFrozenGroupInfo(),this.renderFrozenPanelCornerGroup(),super.render())}getCenterFrameScrollX(e){return this.getFrozenOptions().colCount>0?A4(this,this.cornerBBox.width,e):super.getCenterFrameScrollX(e)}getDefaultCellHeight(){var e;return null!==(e=this.getRowCellHeight(null))&&void 0!==e?e:0}createOrUpdate(e,t){lJ.call(this,e,t)}clip(){const{colCount:e,rowCount:t,trailingColCount:n,trailingRowCount:r}=this.getFrozenOptions(),{scrollX:o}=this.getScrollOffset(),{x:i,width:a}=B4(this,this.panelBBox),l=this.frozenGroupAreas[JY.Col].width,s=this.frozenGroupAreas[JY.TrailingCol].width,c=this.frozenGroupAreas[JY.Row].height,u=this.frozenGroupAreas[JY.TrailingRow].height,d=this.panelBBox.y+c,f=this.panelBBox.viewportHeight-c-u;this.createOrUpdate("panelScrollGroup.style.clipPath",{x:i,y:d,width:a,height:f}),e>0?this.createOrUpdate(`frozenGroups.${tK.Col}.style.clipPath`,{x:this.panelBBox.x-A4(this,this.cornerBBox.width,o),y:d,width:l,height:f}):this.frozenGroups[tK.Col].style.clipPath=null,n>0?this.createOrUpdate(`frozenGroups.${tK.TrailingCol}.style.clipPath`,{x:this.panelBBox.x+this.panelBBox.viewportWidth-s,y:d,width:s,height:f}):this.frozenGroups[tK.TrailingCol].style.clipPath=null,t>0?this.createOrUpdate(`frozenGroups.${tK.Row}.style.clipPath`,{x:i,y:this.panelBBox.y,width:a,height:c}):this.frozenGroups[tK.Row].style.clipPath=null,r>0?this.createOrUpdate(`frozenGroups.${tK.TrailingRow}.style.clipPath`,{x:i,y:this.panelBBox.y+this.panelBBox.viewportHeight-u,width:a,height:u}):this.frozenGroups[tK.TrailingRow].style.clipPath=null}}const Y4=e=>{var t;const{tree:n=[],level:r,parentNode:o,hierarchy:i,spreadsheet:a,isRowHeader:l}=e,{collapseFields:s,collapseAll:c,expandDepth:u}=null===(t=a.options.style)||void 0===t?void 0:t.rowCell,d=a.store.get("hiddenColumnsDetail")||[];n.forEach(e=>{var t,n;const{field:f,title:h,collapsed:p,children:g}=e,m=zz(e,["field","title","collapsed","children"]),v=d.some(({hideColumnNodes:e})=>e.find(e=>e.field===f)),y={[WY]:f},b=wQ(o.id,f),x=null!=p&&p,w=null!==(t=null==s?void 0:s[b])&&void 0!==t?t:null==s?void 0:s[f],C=vY.isNumber(u)?r>u:null,S=null!==(n=null!=w?w:C)&&void 0!==n?n:c||x,E=a.isHierarchyTreeType()&&l&&S,O=vY.isEmpty(g),k=new mQ({id:b,field:f,value:h,level:r,parent:o,isTotals:!1,isCollapsed:E,hierarchy:i,query:y,spreadsheet:a,isLeaf:O,extra:Object.assign(Object.assign({},m),{isCustomNode:!0})});if((O||v||E)&&i.pushIndexNode(k),v)return;r>i.maxLevel&&!k.isSeriesNumberNode()&&(i.maxLevel=r,i.sampleNodesForAllLevels.push(k),i.sampleNodeForLastLevel=k,i.maxLevel=r);const M=qZ(a,o,k,i);vY.isEmpty(g)||E||!M||Y4({spreadsheet:a,parentNode:k,level:r+1,hierarchy:i,tree:g||[],isRowHeader:l})})},K4=e=>{var t,n,r,o,i,a,l;const{spreadsheet:s,parentNode:c,currentField:u,level:d,hierarchy:f,pivotMeta:h}=e,{query:p,id:g}=c,m=(null===(r=null===(n=null===(t=s.dataCfg)||void 0===t?void 0:t.fields)||void 0===n?void 0:n.rows)||void 0===r?void 0:r.length)<=d,v=EQ(Array.from(h.keys()));let y=VZ(s,v,c,u);const b=s.store.get("drillItemsNum");m&&b>0&&(y=y.slice(0,b)),0===d&&((e,t,n)=>{const r=e.getTotalsConfig(t);(null==r?void 0:r.showGrandTotals)&&n[r.reverseGrandTotalsLayout?"unshift":"push"](new vQ({label:r.grandTotalsLabel,isGrandTotals:!0,isSubTotals:!1,isTotalRoot:!1}))})(s,u,y);for(const x of y){const e=x instanceof vQ,t=e?null:h.get(x);let n,r=p,m=!1,v=!1;if(e){const e=x;m=e.isGrandTotals,v=e.isSubTotals,n=bY(x.label),r=p}else n=x,r=Object.assign(Object.assign({},p),{[u]:n});const y=wQ(g,n),{collapseFields:b,collapseAll:w,expandDepth:C}=null===(o=s.options.style)||void 0===o?void 0:o.rowCell,S=null!==(i=null==b?void 0:b[y])&&void 0!==i?i:null==b?void 0:b[u],E=vY.isNumber(C)?d>C:null,O=null!==(a=null!=S?S:E)&&void 0!==a?a:w,k=new mQ({id:y,value:n,level:d,parent:c,field:u,isTotals:e,isGrandTotals:m,isSubTotals:v,isCollapsed:O,hierarchy:f,query:r,spreadsheet:s});d>f.maxLevel&&(f.maxLevel=d);const M=[...(null===(l=null==t?void 0:t.children)||void 0===l?void 0:l.keys())||[]].filter(e=>e!==qY),$=vY.isEmpty(M);($||e)&&(k.isLeaf=!0),$||(k.isTotals=!0);const I=qZ(s,c,k,f);$||O||e||!I||K4({level:d+1,currentField:t.childField,pivotMeta:t.children,parentNode:k,hierarchy:f,spreadsheet:s})}},Z4=e=>{const{rootNode:t,hierarchy:n,fields:r,spreadsheet:o,isRowHeader:i}=e,a=vY.filter(r,e=>e!==WY);Y4({spreadsheet:o,tree:a,level:0,parentNode:t,hierarchy:n,isRowHeader:i})},Q4=e=>{const{isValueInCols:t,moreThanOneValue:n,rootNode:r,hierarchy:o,fields:i,isRowHeader:a,isCustomTreeFields:l,spreadsheet:s}=e;let c,u;a?(c=!t&&n,u=!t&&!n):(c=t&&n,u=t&&!n),l?Z4(e):$Q({spreadsheet:s,addTotalMeasureInTotal:c,addMeasureInTotalQuery:u,parentNode:r,currentField:i[0],fields:i,hierarchy:o})},J4=e=>{const{spreadsheet:t}=e;t.isHierarchyTreeType()?(e=>{const{spreadsheet:t,rootNode:n,hierarchy:r,isCustomTreeFields:o}=e,{rows:i}=t.dataSet.fields;t.isHierarchyTreeType()&&!o?K4({level:0,currentField:null==i?void 0:i[0],pivotMeta:t.dataSet.rowPivotMeta,parentNode:n,hierarchy:r,spreadsheet:t}):Z4(e)})(e):Q4(e)},e6=e=>{var t;const{isCustomTreeFields:n,spreadsheet:r}=e,{enable:o}=null!==(t=r.options.seriesNumber)&&void 0!==t?t:{};if(n){const t={field:UY,title:r.getSeriesNumberText()},n=o?[t,...e.fields]:e.fields.filter(e=>(null==e?void 0:e.field)!==UY);return void Z4(Object.assign(Object.assign({},e),{fields:n}))}(e=>{var t;const{spreadsheet:n,rootNode:r,fields:o,hierarchy:i}=e,{columns:a=[]}=n.dataSet.fields,{enable:l}=null!==(t=n.options.seriesNumber)&&void 0!==t?t:{},s=n.getSeriesNumberText(),c=a.map(e=>e===UY?s:n.dataSet.getFieldName(e));l&&!o.includes(UY)&&(o.unshift(UY),c.unshift(s)),SQ({spreadsheet:n,currentField:o[0],fields:o,fieldValues:c,hierarchy:i,parentNode:r,level:0,query:{},addMeasureInTotalQuery:!1,addTotalMeasureInTotal:!1,handler:$Q})})(e)},t6=e=>{const{isRowHeader:t,spreadsheet:n}=e,{rows:r=[],columns:o=[]}=n.dataSet.fields,i=n.isValueInCols(),a=n.dataSet.moreThanOneValue(),l=new IQ,s=t?r:o,c=n.isCustomHeaderFields(t?"rows":"columns"),u={isValueInCols:i,moreThanOneValue:a,rootNode:l.rootNode,hierarchy:l,spreadsheet:n,fields:s,isRowHeader:t,isCustomTreeFields:c};t?J4(u):(e=>{const{spreadsheet:t}=e;t.isPivotMode()?Q4(e):e6(e)})(u);return{hierarchy:l,leafNodes:t&&n.isHierarchyTreeType()?l.getNodes():l.getLeaves()}};class n6 extends U4{get rowCellTheme(){return this.spreadsheet.theme.rowCell.cell}getCornerCellInstance(...e){var t,n;return(null===(n=(t=this.spreadsheet.options).cornerCell)||void 0===n?void 0:n.call(t,...e))||new d2(...e)}getRowCellInstance(...e){var t,n;return(null===(n=(t=this.spreadsheet.options).rowCell)||void 0===n?void 0:n.call(t,...e))||new m2(...e)}getColCellInstance(...e){var t,n;return(null===(n=(t=this.spreadsheet.options).colCell)||void 0===n?void 0:n.call(t,...e))||new u2(...e)}doLayout(){const{rowLeafNodes:e,colLeafNodes:t,rowsHierarchy:n,colsHierarchy:r}=this.buildAllHeaderHierarchy();return this.calculateHeaderNodesCoordinate({rowLeafNodes:e,rowsHierarchy:n,colLeafNodes:t,colsHierarchy:r}),{colNodes:r.getNodes(),colsHierarchy:r,rowNodes:n.getNodes(),rowsHierarchy:n,rowLeafNodes:e,colLeafNodes:t}}buildAllHeaderHierarchy(){const{leafNodes:e,hierarchy:t}=t6({isRowHeader:!0,spreadsheet:this.spreadsheet}),{leafNodes:n,hierarchy:r}=t6({isRowHeader:!1,spreadsheet:this.spreadsheet});return{rowLeafNodes:e,colLeafNodes:n,rowsHierarchy:t,colsHierarchy:r}}getDataQueryInfo(e,t){var n,r,o,i;const{options:a,dataSet:l}=this.spreadsheet,s=null!==(o=null===(r=null===(n=a.style)||void 0===n?void 0:n.colCell)||void 0===r?void 0:r.hideValue)&&void 0!==o&&o?{[WY]:null===(i=l.fields.values)||void 0===i?void 0:i[0]}:{},c=vY.merge({},e,t,s);return{dataQuery:c,valueField:c[WY]}}getCellMeta(e=0,t=0){var n,r;const{options:o,dataSet:i}=this.spreadsheet,{rowLeafNodes:a,colLeafNodes:l}=this.getLayoutResult(),s=a[e],c=l[t];if(!s||!c)return null;const u=s.query,d=c.query,f=s.isTotals||s.isTotalMeasure||c.isTotals||c.isTotalMeasure,h=l0(s,c),{dataQuery:p,valueField:g}=this.getDataQueryInfo(u,d),m=i.getCellData({query:p,rowNode:s,isTotals:f,totalStatus:h}),v=vY.get(m,FY,null),y={spreadsheet:this.spreadsheet,x:c.x,y:s.y,width:c.width,height:s.height,data:m,rowIndex:e,colIndex:t,isTotals:f,valueField:g,fieldValue:v,rowQuery:u,colQuery:d,query:Object.assign(Object.assign({},u),d),rowId:s.id,colId:c.id,id:UJ(s.id,c.id)};return null!==(r=null===(n=o.layoutCellMeta)||void 0===n?void 0:n.call(o,y))&&void 0!==r?r:y}getPreLevelSampleNode(e,t){return t.getNodes(e.level-1).find(e=>!e.isTotals)}calculateHeaderNodesCoordinate(e){this.calculateRowNodesCoordinate(e),this.calculateColNodesCoordinate(e)}calculateColNodesCoordinate(e){const{colLeafNodes:t,colsHierarchy:n,rowsHierarchy:r}=e;this.calculateColLeafNodesWidth(e),this.calculateColParentNodeWidthAndX(t),this.updateColsHierarchySampleMaxHeightNodes(n,r),this.calculateColNodesHeight(n),this.updateCustomFieldsSampleNodes(n),this.adjustCustomColLeafNodesHeight({leafNodes:t,hierarchy:n}),this.adjustColTotalNodesCoordinate(n)}calculateRowOffsets(){}adjustColTotalNodesCoordinate(e){var t;vY.isEmpty(null===(t=this.spreadsheet.options.totals)||void 0===t?void 0:t.col)||(this.adjustTotalNodesCoordinate({hierarchy:e,isRowHeader:!1,isSubTotal:!0}),this.adjustTotalNodesCoordinate({hierarchy:e,isRowHeader:!1,isSubTotal:!1}))}calculateColLeafNodesWidth(e){const{rowLeafNodes:t,colLeafNodes:n,rowsHierarchy:r,colsHierarchy:o}=e;let i=mQ.blankNode(),a=0;o.getLeaves().forEach(e=>{e.colIndex=a,a++,e.x=i.x+i.width,e.width=this.getColLeafNodesWidth(e,n,t,r.width),o.width+=e.width,i=e})}calculateColNodesHeight(e){e.getNodes().forEach(t=>{if(0===t.level)t.y=0;else{const n=this.getPreLevelSampleNode(t,e);t.y=(null==n?void 0:n.y)+(null==n?void 0:n.height)||0}const n=this.getColNodeHeight({colNode:t,colsHierarchy:e,useCache:!1});t.height=t.isGrandTotals&&!t.isTotalMeasure&&t.isLeaf?e.height:n,XZ(this.spreadsheet,null,t)})}getMultipleMap(e,t,n){const{maxLevel:r}=e,o=this.spreadsheet.dataSet,{totals:i}=this.spreadsheet.options,a=o.moreThanOneValue(),{rows:l,columns:s}=o.fields,c=t?l:s,u=t?i.row:i.col,d=n?(null==u?void 0:u.subTotalsGroupDimensions)||[]:(null==u?void 0:u.grandTotalsGroupDimensions)||[],f=o.isEmpty()?[]:d,h=Array.from({length:r+1},()=>1);for(let p=r;p>0;p--){const e=c[p],t=e===WY&&a;f.includes(e)||t||(h[p-1]+=h[p],h[p]=0)}return h}adjustTotalNodesCoordinate(e){const{hierarchy:t,isRowHeader:n,isSubTotal:r}=e,o=this.getMultipleMap(t,n,r),i=vY.filter(t.getNodes(),e=>r?e.isSubTotals:e.isGrandTotals),a=n?"width":"height";vY.forEach(i,e=>{var n;let i=o[e.level];if(!i&&r){let t=1;for(;i<1;)i=o[e.level-t]-t,t++}let l=0;for(let r=0;r<i;r++)l+=vY.get(null===(n=t.sampleNodesForAllLevels)||void 0===n?void 0:n.find(t=>t.level===e.level+r),[a],0);e[a]=l})}getColLeafNodesWidth(e,t,n,r){const{colCell:o}=this.spreadsheet.options.style,i=this.getColCellDraggedWidth(e);if(vY.isNumber(i))return kJ(i);const a=this.getCellCustomSize(e,null==o?void 0:o.width);return vY.isNumber(a)?kJ(a):this.spreadsheet.getLayoutWidthType()===zK.Compact?this.getCompactGridColNodeWidth(e,n):this.spreadsheet.isHierarchyTreeType()?this.getAdaptTreeColWidth(e,t,n):this.getAdaptGridColWidth(t,e,r)}getRowNodeHeight(e){if(!e)return 0;const{rowCell:t}=this.spreadsheet.options.style,n=this.getRowCellHeight(e),r=(null==t?void 0:t.maxLines)>1&&(null==t?void 0:t.wordWrap)||this.spreadsheet.theme.rowCell.text.fontSize>h4||this.spreadsheet.theme.rowCell.measureText.fontSize>h4||this.spreadsheet.theme.rowCell.seriesText.fontSize>h4||this.spreadsheet.theme.rowCell.bolderText.fontSize>h4;return this.isCustomRowCellHeight(e)||!r?(e.extra.isCustomHeight=!0,n||0):this.getNodeAdaptiveHeight({meta:e,cell:this.textWrapTempRowCell,defaultHeight:n})}getExpectedCellIconWidth(e,t,n){var r,o;let i=0;if(t)i=1;else{const t=vY.map(this.spreadsheet.options.headerActionIcons,e=>Object.assign(Object.assign({},e),{displayCondition:()=>!0})),n=HQ(t,null,e);i=(null==n?void 0:n.icons.length)||0}return i?i*(n.size+(null===(r=n.margin)||void 0===r?void 0:r.left))+(null===(o=n.margin)||void 0===o?void 0:o.right):0}calculateRowNodesAllLevelSampleNodes(e){const{rowsHierarchy:t,colLeafNodes:n}=e,r=this.spreadsheet.isHierarchyTreeType(),o=t.sampleNodesForAllLevels||[];r?t.width=this.getTreeRowHeaderWidth():o.forEach(e=>{var r;e.width=this.getGridRowNodesWidth(e,n),t.width+=e.width;const i=null!==(r=o[e.level-1])&&void 0!==r?r:{x:0,width:0};e.x=(null==i?void 0:i.x)+(null==i?void 0:i.width)}),t.rootNode.width=t.width}getRowLeafNodeHeight(e){var t;const{rowCell:n}=this.spreadsheet.options.style,r=(null==n?void 0:n.maxLines)>1&&(null==n?void 0:n.wordWrap)?mQ.getBranchNodes(e).map(e=>this.getRowNodeHeight(e)):[],o=this.getRowNodeHeight(e);return kJ(this.isCustomRowCellHeight(e)?o:null!==(t=vY.max(r))&&void 0!==t?t:o)}calculateRowNodesBBox(e){const t=this.spreadsheet.isHierarchyTreeType(),n=e.sampleNodesForAllLevels||[];let r=mQ.blankNode();e.getNodes().forEach(o=>{var i,a;const l=t||!t&&o.isLeaf;if(t)o.width=this.getTreeRowHeaderWidth();else{const e=n[o.level];o.width=null==e?void 0:e.width}if(l){const t=(null!==(i=null==r?void 0:r.rowIndex)&&void 0!==i?i:-1)+1;null!==(a=o.rowIndex)&&void 0!==a||(o.rowIndex=t),o.y=r.y+r.height,o.height=this.getRowLeafNodeHeight(o),r=o,e.height+=o.height}if(t||0===o.level)o.x=0;else{const e=n[o.level-1];o.x=(null==e?void 0:e.x)+(null==e?void 0:e.width)}XZ(this.spreadsheet,o,null)})}calculateRowNodesCoordinate(e){const{rowsHierarchy:t,rowLeafNodes:n}=e,r=this.spreadsheet.isHierarchyTreeType();this.calculateRowNodesAllLevelSampleNodes(e),this.calculateRowNodesBBox(t),r||(this.adjustCustomRowLeafNodesWidth({leafNodes:n,hierarchy:t}),this.calculateRowNodeHeightAndY(n),this.adjustRowTotalNodesCoordinate(t))}adjustRowTotalNodesCoordinate(e){var t;vY.isEmpty(null===(t=this.spreadsheet.options.totals)||void 0===t?void 0:t.row)||(this.adjustTotalNodesCoordinate({hierarchy:e,isRowHeader:!0,isSubTotal:!1}),this.adjustTotalNodesCoordinate({hierarchy:e,isRowHeader:!0,isSubTotal:!0}))}calculateRowNodeHeightAndY(e){let t=null,n=0;const r=e.slice(0);for(;n<r.length;){const e=r[n++],o=null==e?void 0:e.parent;t!==o&&o&&(r.push(o),o.y=o.children[0].y,o.height=vY.sumBy(o.children,"height"),t=o)}}getGridRowNodesWidth(e,t){const{rowCell:n}=this.spreadsheet.options.style,r=this.getRowCellDraggedWidth(e);if(vY.isNumber(r))return kJ(r);const o=this.getCellCustomSize(e,null==n?void 0:n.width);return vY.isNumber(o)?kJ(o):this.spreadsheet.getLayoutWidthType()!==zK.Adaptive?this.getCompactGridRowNodeWidth(e):this.getAdaptGridColWidth(t)}getAdaptTreeColWidth(e,t,n){const r=this.getCanvasSize().width-this.getSeriesNumberWidth()-RJ.getVerticalBorderWidth(this.spreadsheet),o=Math.min(r/2,this.getTreeRowHeaderWidth()),i=Math.max(1,t.length),{dataCell:a}=this.spreadsheet.options.style;return kJ(Math.max(SJ(a,this.getColLabelLength(e,n)),OJ((r-o)/i)))}getColLabelLength(e,t){const n=O2(null==e?void 0:e.value);if(vY.isArray(n))return n.length;let r=1;for(let o=0;o<50;o++){const n=t[o];if(!n)return r;const i=this.spreadsheet.dataSet.getCellData({query:Object.assign(Object.assign({},e.query),n.query),rowNode:n,isTotals:e.isTotals||e.isTotalMeasure||n.isTotals||n.isTotalMeasure}),a=vY.keys(i);for(let e=0;e<a.length;e++){const t=vY.get(i,a[e]),n=vY.size(vY.get(null==t?void 0:t.values,"0"));n>r&&(r=n)}}return r}getAdaptGridColWidth(e,t,n){const{rows:r=[]}=this.spreadsheet.dataSet.fields,{dataCell:o}=this.spreadsheet.options.style,i=r.length,a=e.length,{width:l}=this.getCanvasSize(),s=l-this.getSeriesNumberWidth()-RJ.getVerticalBorderWidth(this.spreadsheet),c=Math.max(1,i+a);return kJ(n?Math.max(SJ(o),OJ((s-n)/a)):Math.max(SJ(o),OJ(s/c)))}getTreeRowHeaderWidth(){var e,t,n,r;const{rowCell:o}=this.spreadsheet.options.style;if(vY.isNumber(null==o?void 0:o.treeWidth))return kJ(o.treeWidth);const i=this.getCellCustomSize(null,null==o?void 0:o.width);if(vY.isNumber(i))return kJ(i);const a=z4.getTreeCornerText(this.spreadsheet),{bolderText:l,icon:s}=this.spreadsheet.theme.cornerCell,c=this.measureTextWidth(a,l)+2*s.size+(null===(e=s.margin)||void 0===e?void 0:e.left)+(null===(t=s.margin)||void 0===t?void 0:t.right)+(null===(n=this.rowCellTheme.padding)||void 0===n?void 0:n.left)+(null===(r=this.rowCellTheme.padding)||void 0===r?void 0:r.right),u=Math.max(null!=i?i:120,c);return Number.isNaN(u)?120:kJ(u)}getCompactGridRowNodeWidth(e){var t;const{bolderText:n,icon:r,cell:o}=this.spreadsheet.theme.rowCell,{bolderText:i,icon:a,cell:l}=this.spreadsheet.theme.cornerCell,{field:s,isLeaf:c}=e,u=this.getExpectedCellIconWidth(sK.ROW_CELL,!this.spreadsheet.isValueInCols()&&c&&this.spreadsheet.options.showDefaultHeaderActionIcon,r),d=null===(t=this.spreadsheet.dataSet.getDimensionValues(s))||void 0===t?void 0:t.slice(0,50).map(t=>{var n,r;return null!==(r=null===(n=this.spreadsheet.dataSet.getFieldFormatter(s))||void 0===n?void 0:n(t,void 0,e))&&void 0!==r?r:t}),f=vY.maxBy(d,e=>`${e}`.length),h=this.measureTextWidth(f,n)+u+o.padding.left+o.padding.right+o.verticalBorderWidth,p=this.spreadsheet.dataSet.getFieldName(s),g=this.getExpectedCellIconWidth(sK.CORNER_CELL,!1,a),m=this.measureTextWidth(p,i)+g+l.padding.left+l.padding.right;return UZ.getInstance().logger("Max Label In Row:",s,h>m?f:p),kJ(Math.max(h,m))}getCompactGridColNodeWidth(e,t){var n,r,o,i,a,l;const{bolderText:s,cell:c,icon:u}=this.spreadsheet.theme.colCell,{text:d,icon:f}=this.spreadsheet.theme.dataCell,h=this.spreadsheet.dataSet.getFieldFormatter(e.field),p=null!==(n=null==h?void 0:h(e.value,void 0,e))&&void 0!==n?n:e.value,g=this.getExpectedCellIconWidth(sK.COL_CELL,this.spreadsheet.isValueInCols()&&this.spreadsheet.options.showDefaultHeaderActionIcon,u),m=this.measureTextWidth(p,s)+g;let v="",y=0,b=0;for(let S=0;S<50;S++){const n=t[S];if(n){const{valueField:t,dataQuery:s}=this.getDataQueryInfo(n.query,e.query),c=this.spreadsheet.dataSet.getCellData({query:s,rowNode:n,isTotals:e.isTotals||e.isTotalMeasure||n.isTotals||n.isTotalMeasure});if(c){const n=null==c?void 0:c[FY],s=null!==(o=null===(r=this.spreadsheet.dataSet.getFieldFormatter(c[WY]))||void 0===r?void 0:r(n,c,e))&&void 0!==o?o:n,u=ZQ(null===(i=this.spreadsheet.options.conditions)||void 0===i?void 0:i.icon,t)?(null==f?void 0:f.size)+(null===(a=null==f?void 0:f.margin)||void 0===a?void 0:a.left)+(null===(l=null==f?void 0:f.margin)||void 0===l?void 0:l.right):0,h=this.measureTextWidth(s,d)+u;h>y&&(v=s,y=h,b=u)}}}const x=m>y,w=x?p:v,C=x?g:b;UZ.getInstance().logger("Max Label In Col:",e.field,w,y,b);return kJ(this.measureTextWidth(w,Object.assign(Object.assign({},s),{fontSize:Math.max(d.fontSize,s.fontSize)}))+c.padding.left+c.padding.right+2*c.verticalBorderWidth+C)}getViewCellHeights(){const e=this.getRowLeafNodes(),t=vY.reduce(e,(e,t)=>{const n=vY.last(e)||0;return e.push(n+t.height),e},[0]);return{getTotalHeight:()=>vY.last(t)||0,getCellOffsetY:e=>t[e]||0,getTotalLength:()=>t.length-1,getIndexRange:(e,n)=>Q2(t,e,n)}}getSeriesNumberCells(){var e;const t=(null===(e=this.getSeriesNumberHeader())||void 0===e?void 0:e.children)||[];return t5(t,v2)}getFrozenOptions(){return this.validFrozenOptions||(this.validFrozenOptions=((e,t)=>{const{seriesNumber:n,layoutSeriesNumberNodes:r}=t;return(null==n?void 0:n.enable)&&r?Object.assign(Object.assign({},e),{rowCount:0,trailingRowCount:0}):e})(super.getFrozenOptions(),this.spreadsheet.options)),this.validFrozenOptions}getContentWidth(){const{rowsHierarchy:e,colsHierarchy:t}=this.layoutResult;return kJ(e.width+t.width+RJ.getVerticalBorderWidth(this.spreadsheet))}getContentHeight(){const{rowsHierarchy:e,colsHierarchy:t}=this.layoutResult;return kJ(e.height+t.height+RJ.getHorizontalBorderWidth(this.spreadsheet))}}class r6 extends D4{getCellInstance(e){const t=this.getHeaderConfig(),{spreadsheet:n}=t,{seriesNumberCell:r,colCell:o}=n.options,i=[e,n,t];return e.field===UY?(null==r?void 0:r(...i))||new b2(...i):(null==o?void 0:o(...i))||new y2(...i)}}class o6 extends U4{constructor(e){super(e),this.onSortHandler=e=>Hz(this,void 0,void 0,function*(){const t=this.spreadsheet;let n=e;Array.isArray(e)||(n=[e]);const r=t.dataCfg.sortParams||[];n=n.map(e=>{var t,n;const o=Object.assign(Object.assign({},e),{sortFieldId:null!==(t=e.sortKey)&&void 0!==t?t:e.sortFieldId}),i=null!==(n=r.find(e=>e.sortFieldId===o.sortFieldId))&&void 0!==n?n:{};return Object.assign(Object.assign({},i),o)});const o=r.filter(e=>!n.find(t=>t.sortFieldId===e.sortFieldId));vY.set(t.dataCfg,"sortParams",[...o,...n]),t.setDataCfg(t.dataCfg),yield t.render(!0),t.emit(BY.RANGE_SORTED,t.dataSet.getDisplayDataSet())}),this.onFilterHandler=e=>Hz(this,void 0,void 0,function*(){const t=this.spreadsheet,n=!e.filteredValues||0===e.filteredValues.length,r=t.dataCfg.filterParams||[],o=r.findIndex(t=>t.filterKey===e.filterKey);-1!==o?n?r.splice(o,1):r[o]=e:r.push(e),vY.set(t.dataCfg,"filterParams",r),yield t.render(!0),t.emit(BY.RANGE_FILTERED,t.dataSet.getDisplayDataSet())}),this.spreadsheet.on(BY.RANGE_SORT,this.onSortHandler),this.spreadsheet.on(BY.RANGE_FILTER,this.onFilterHandler)}getCornerCellInstance(){return null}getRowCellInstance(e){const{dataCell:t}=this.spreadsheet.options;return(null==t?void 0:t(e,this.spreadsheet))||new x2(e,this.spreadsheet)}getColCellInstance(...e){const{colCell:t}=this.spreadsheet.options;return(null==t?void 0:t(...e))||new y2(...e)}initGroups(){super.initGroups(),this.initEmptyPlaceholderGroup()}shouldRender(){var e;const{fields:t}=this.spreadsheet.dataSet,n=null===(e=null==t?void 0:t.columns)||void 0===e?void 0:e.every(e=>e===UY);return super.shouldRender()&&!n}render(){this.shouldRender()&&(super.render(),this.renderEmptyPlaceholder())}clearAllGroup(){super.clearAllGroup(),this.emptyPlaceholderGroup.remove()}initEmptyPlaceholderGroup(){this.emptyPlaceholderGroup=this.spreadsheet.container.appendChild(new FX({name:"emptyPlaceholderGroup",style:{zIndex:4}}))}renderEmptyPlaceholder(){var e,t,n;if(!(null===(e=this.spreadsheet.dataSet)||void 0===e?void 0:e.isEmpty()))return;const{empty:r}=this.spreadsheet.options.placeholder,{background:o}=this.spreadsheet.theme,{icon:i,description:a}=this.spreadsheet.theme.empty,{horizontalBorderWidth:l,horizontalBorderColor:s,horizontalBorderColorOpacity:c}=this.spreadsheet.theme.dataCell.cell,{maxY:u,viewportWidth:d,height:f}=this.panelBBox,h=d/2-i.width/2,p=f/2+u-i.height/2+i.margin.top,g=null!==(t=null==r?void 0:r.description)&&void 0!==t?t:bY(""),m=d/2-this.measureTextWidth(g,a)/2,v=p+i.height+i.margin.bottom,y=new eU({style:{x:0,y:u,width:d,height:f,stroke:s,strokeWidth:l,strokeOpacity:c,fill:null==o?void 0:o.color,fillOpacity:null!==(n=null==o?void 0:o.opacity)&&void 0!==n?n:1}});this.emptyPlaceholderGroup.appendChild(y),oJ(this.emptyPlaceholderGroup,Object.assign(Object.assign({},i),{name:null==r?void 0:r.icon,x:h,y:p,width:i.width,height:i.height})),tJ({group:this.emptyPlaceholderGroup,style:Object.assign(Object.assign({},a),{text:g,x:m,y:v})}),this.emptyPlaceholderGroup.toFront()}getDataCellAdaptiveHeight(e){const t={id:String(null==e?void 0:e.rowIndex)},n=this.getRowCellHeight(t);if(this.isCustomRowCellHeight(t))return this.customRowHeightStatusMap[null==e?void 0:e.rowIndex]=!0,n||0;const r=this.getCellHeightByRowIndex(null==e?void 0:e.rowIndex);return this.getNodeAdaptiveHeight({meta:e,cell:this.textWrapTempRowCell,defaultHeight:r})}getCellHeightByRowIndex(e){var t;return this.rowOffsets?null!==(t=this.getRowCellHeight({id:String(e)}))&&void 0!==t?t:0:this.getDefaultCellHeight()}presetRowCellHeightIfNeeded(e){var t;const{style:n}=this.spreadsheet.options,r=this.getColLeafNodes();if((vY.isEmpty(r)||(null===(t=null==n?void 0:n.dataCell)||void 0===t?void 0:t.maxLines)<=1)&&this.spreadsheet.theme.dataCell.text.fontSize<=h4&&this.spreadsheet.theme.dataCell.bolderText.fontSize<=h4)return;const o=vY.max(r.map(t=>{const n=this.getCellMeta(e,t.colIndex);return this.getDataCellAdaptiveHeight(n)}))||this.getDefaultCellHeight();vY.set(this.spreadsheet.options,`style.rowCell.heightByField.${e}`,o)}calculateRowOffsets(){var e,t,n;const{style:r}=this.spreadsheet.options,o=null===(e=null==r?void 0:r.rowCell)||void 0===e?void 0:e.heightByField,i=(null===(t=null==r?void 0:r.dataCell)||void 0===t?void 0:t.maxLines)>1&&(null===(n=null==r?void 0:r.dataCell)||void 0===n?void 0:n.wordWrap)||this.spreadsheet.theme.dataCell.text.fontSize>h4||this.spreadsheet.theme.dataCell.bolderText.fontSize>h4;if(vY.keys(o).length||i){const e=this.spreadsheet.dataSet.getDisplayDataSet();this.textWrapNodeHeightCache.clear(!1),this.customRowHeightStatusMap={},this.rowOffsets=[0],this.lastRowOffset=0,e.forEach((e,t)=>{this.presetRowCellHeightIfNeeded(t);const n=this.getCellHeightByRowIndex(t),r=this.lastRowOffset+n;this.rowOffsets.push(r),this.lastRowOffset=r})}}destroy(){super.destroy(),this.spreadsheet.off(BY.RANGE_SORT,this.onSortHandler),this.spreadsheet.off(BY.RANGE_FILTER,this.onFilterHandler)}calculateCornerBBox(){const{colsHierarchy:e}=this.getLayoutResult(),t=OJ(e.height);this.cornerBBox=new $4(this),this.cornerBBox.height=t,this.cornerBBox.maxY=t}doLayout(){const e=new IQ,{colLeafNodes:t,colsHierarchy:n}=this.buildColHeaderHierarchy();return this.calculateColNodesCoordinate(t,n),{colNodes:n.getNodes(),colLeafNodes:t,colsHierarchy:n,rowNodes:[],rowsHierarchy:e,rowLeafNodes:[],cornerNodes:[]}}buildColHeaderHierarchy(){const e=t6({isRowHeader:!1,spreadsheet:this.spreadsheet});return{colLeafNodes:e.leafNodes,colsHierarchy:e.hierarchy}}getCellMeta(e=0,t=0){var n,r,o;const{options:i,dataSet:a}=this.spreadsheet,l=this.getColLeafNodes()[t];if(!l)return null;let s;const c=l.x,u=this.viewCellHeights.getCellOffsetY(e),d=this.getCellHeightByRowIndex(e);s=(null===(n=i.seriesNumber)||void 0===n?void 0:n.enable)&&l.field===UY?e+1:a.getCellData({query:{field:l.field,rowIndex:e}});const f=l.field,h=s,p={rowIndex:e},g={colIndex:t},m={spreadsheet:this.spreadsheet,x:c,y:u,width:l.width,height:d,data:{[l.field]:s},rowIndex:e,colIndex:t,isTotals:!1,colId:l.id,rowId:String(e),valueField:f,fieldValue:h,id:UJ(String(e),l.id),rowQuery:p,colQuery:g,query:Object.assign(Object.assign({},p),g)};return null!==(o=null===(r=i.layoutCellMeta)||void 0===r?void 0:r.call(i,m))&&void 0!==o?o:m}getAdaptiveColWidth(e){var t;const{dataCell:n}=this.spreadsheet.options.style,{seriesNumber:r}=this.spreadsheet.options;if(this.spreadsheet.getLayoutWidthType()!==zK.Compact){const t=this.getSeriesNumberWidth(),o=e.length-((null==r?void 0:r.enable)?1:0),i=this.getCanvasSize().width-t-RJ.getVerticalBorderWidth(this.spreadsheet);return Math.max(null==n?void 0:n.width,OJ(i/Math.max(1,o)))}return kJ(null!==(t=null==n?void 0:n.width)&&void 0!==t?t:0)}calculateColLeafNodesWidth(e,t){let n=mQ.blankNode(),r=0;const o=this.getAdaptiveColWidth(e);t.getLeaves().forEach(e=>{e.colIndex=r,r+=1,e.x=n.x+n.width,e.width=this.getColLeafNodesWidth(e,o),XZ(this.spreadsheet,null,e),t.width+=e.width,n=e})}calculateColNodesHeight(e){e.getNodes().forEach(t=>{var n,r;0===t.level?t.y=0:t.y=(null===(n=null==t?void 0:t.parent)||void 0===n?void 0:n.y)+(null===(r=null==t?void 0:t.parent)||void 0===r?void 0:r.height)||0,t.height=this.getColNodeHeight({colNode:t,colsHierarchy:e,useCache:!1})})}calculateColNodesCoordinate(e,t){this.calculateColLeafNodesWidth(e,t),this.calculateColParentNodeWidthAndX(e),this.updateColsHierarchySampleMaxHeightNodes(t),this.calculateColNodesHeight(t),this.updateCustomFieldsSampleNodes(t),this.adjustCustomColLeafNodesHeight({leafNodes:e,hierarchy:t})}getCompactColNodeWidth(e){const{theme:t,dataSet:n}=this.spreadsheet,{bolderText:r}=t.colCell,{text:o,cell:i}=t.dataCell,a=n.getDisplayDataSet(),l=n.getFieldFormatter(e.field),s=vY.maxBy(null==a?void 0:a.slice(0,50).map(t=>{var n;return`${null!==(n=null==l?void 0:l(t[e.field]))&&void 0!==n?n:t[e.field]}`}),e=>this.measureTextWidth(e,o));UZ.getInstance().logger("Max Label In Col:",e.field,s);const c=this.measureTextWidth(s,o)+i.padding.left+i.padding.right,u=this.measureTextWidth(e.value,r)+E2(this.spreadsheet,e,t.colCell);return kJ(Math.max(u,c))}getColLeafNodesWidth(e,t){const{colCell:n}=this.spreadsheet.options.style,r=this.spreadsheet.getLayoutWidthType(),o=this.getColCellDraggedWidth(e);if(vY.isNumber(o))return kJ(o);const i=this.getCellCustomSize(e,null==n?void 0:n.width);return vY.isNumber(i)?kJ(i):e.field===UY?this.getSeriesNumberWidth():r===zK.Compact?this.getCompactColNodeWidth(e):kJ(t)}getViewCellHeights(){const e=this.getDefaultCellHeight();return{getTotalHeight:()=>this.rowOffsets?vY.last(this.rowOffsets)||0:e*this.spreadsheet.dataSet.getDisplayDataSet().length,getCellOffsetY:t=>t<=0?0:this.rowOffsets?this.rowOffsets[t]:t*e,getTotalLength:()=>this.spreadsheet.dataSet.getDisplayDataSet().length,getIndexRange:(t,n)=>{if(this.rowOffsets)return Q2(this.rowOffsets,t,n);const r=OJ(t/e,0),o=n%e===0?n/e-1:OJ(n/e,0);return{start:Math.max(0,r),end:Math.max(0,o)}}}}renderRowResizeArea(){const{resize:e}=this.spreadsheet.options.interaction;if(!(vY.isBoolean(e)?e:null==e?void 0:e.rowCellVertical))return;const t=this.foregroundGroup.getElementById(CY);t&&t.removeChildren();t5(this.panelGroup.children,x2).forEach(e=>{e.drawResizeArea()})}getRowHeader(){return null}getColHeader(){if(!this.columnHeader){const{x:e,width:t,viewportHeight:n,viewportWidth:r}=this.panelBBox;return new r6({width:t,height:this.cornerBBox.height,viewportWidth:r,viewportHeight:n,cornerWidth:this.cornerBBox.width,position:{x:e,y:0},nodes:this.getColNodes(),sortParam:this.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader}getSeriesNumberHeader(){return null}getScrollbarPosition(){const{height:e}=this.getCanvasSize(),t=super.getScrollbarPosition(),n=this.spreadsheet.dataSet.isEmpty()?e-this.scrollBarSize:t.maxY;return Object.assign(Object.assign({},t),{maxY:n})}getSeriesNumberCells(){return this.getDataCells().filter(e=>e.getMeta().valueField===UY)}getContentWidth(){const{colsHierarchy:e}=this.layoutResult;return kJ(e.width)}getContentHeight(){const{getTotalHeight:e}=this.getViewCellHeights(),{colsHierarchy:t}=this.layoutResult;return kJ(e()+t.height+RJ.getHorizontalBorderWidth(this.spreadsheet))}}class i6{constructor(e){this.isLinkFieldText=e=>{const t=this.getCellAppendInfo(e);return null==t?void 0:t.isLinkFieldText},this.spreadsheet=e,this.bindEvents()}getCellAppendInfo(e){return n5(e)}getTooltipOperator(e,t=[]){const n=this.spreadsheet.getCell(e.target),{operation:r}=T5(this.spreadsheet,e);return((e,t)=>{var n;const{defaultMenus:r=[],cell:o}=t,i=(e=[])=>e.filter(e=>{var t;return vY.isFunction(e.visible)?e.visible(o):null===(t=e.visible)||void 0===t||t}).map(e=>(e.children&&(e.children=i(e.children)),e)),a=i(null===(n=null==e?void 0:e.menu)||void 0===n?void 0:n.items);return{menu:Object.assign(Object.assign({},null==e?void 0:e.menu),{items:vY.compact([...r,...a])})}})(r,{defaultMenus:t,cell:n})}reset(){}}class a6 extends i6{bindEvents(){this.bindCornerCellClick()}bindCornerCellClick(){this.spreadsheet.on(BY.CORNER_CELL_CLICK,e=>{const t=this.spreadsheet.getCell(e.target);if(!t)return;const n=t.getMeta();switch(null==n?void 0:n.cornerType){case hQ.Row:this.onRowCornerClick(null==n?void 0:n.field,e);break;case hQ.Col:this.onColCornerClick(null==n?void 0:n.field,e);break;case hQ.Series:this.onSeriesCornerClick(null==n?void 0:n.field,e)}})}onRowCornerClick(e,t){const n=this.getSelectedRowNodes(e);this.selectCells(n,t)}onColCornerClick(e,t){const n=this.getSelectedColNodes(e);this.selectCells(n,t)}onSeriesCornerClick(e,t){const n=this.spreadsheet.facet.getSeriesNumberNodes();this.selectCells(n,t)}getSelectedRowNodes(e){const{facet:t}=this.spreadsheet;if(this.spreadsheet.isHierarchyTreeType())return t.getRowNodes();if(!this.spreadsheet.isCustomRowFields())return t.getRowNodesByField(e);const n=t.getRowNodesByField(e)[0];return t.getRowNodes(null==n?void 0:n.level)}getSelectedColNodes(e){const{facet:t}=this.spreadsheet;if(!this.spreadsheet.isCustomColumnFields())return t.getColNodesByField(e);const n=t.getColNodesByField(e)[0];return t.getColNodes(null==n?void 0:n.level)}getCellMetas(e,t){return e.map(e=>({id:e.id,colIndex:-1,rowIndex:-1,type:t}))}emitSelectEvent(e,t){this.spreadsheet.interaction.emitSelectEvent({event:e,targetCell:t,interactionName:oK.CORNER_CELL_CLICK})}selectCells(e,t){var n;const{interaction:r}=this.spreadsheet,o=null===(n=e[0])||void 0===n?void 0:n.belongsCell,i=this.getCellMetas(e,null==o?void 0:o.cellType),a=this.spreadsheet.getCell(t.target);if(o&&r.isSelectedCell(o))return r.reset(),void this.emitSelectEvent(t,a);vY.isEmpty(e)||vY.isEmpty(i)||(r.addIntercepts([bK.HOVER]),r.changeState({cells:i,stateName:aK.SELECTED}),r.highlightNodes(e,aK.SELECTED),null==a||a.updateByState(aK.SELECTED),this.showTooltip(t),this.emitSelectEvent(t,a))}showTooltip(e){const t=this.spreadsheet.interaction.getActiveCells(),n=this.getTooltipOperator(e);this.spreadsheet.showTooltipWithInfo(e,[],{operator:n,data:{summaries:[{selectedData:t,name:"",value:null}]}})}}class l6 extends i6{bindEvents(){this.bindDataCellClick()}bindDataCellClick(){this.spreadsheet.on(BY.DATA_CELL_CLICK,e=>{var t,n;e.stopPropagation();const{interaction:r}=this.spreadsheet;if(r.clearHoverTimer(),r.hasIntercepts([bK.CLICK]))return;if(this.isLinkFieldText(e.target))return void this.emitLinkFieldClickEvent(e);const o=this.spreadsheet.getCell(e.target),i=o.getMeta();i&&(r.addIntercepts([bK.HOVER]),r.isSelectedCell(o)?(1===e.detail||1===(null===(t=e.nativeEvent)||void 0===t?void 0:t.detail)||1===(null===(n=e.originalEvent)||void 0===n?void 0:n.detail)||sJ())&&(r.reset(),r.emitSelectEvent({event:e,targetCell:o,interactionName:oK.DATA_CELL_CLICK})):(r.changeState({cells:[h5(o)],stateName:aK.SELECTED,onUpdateCells:g5}),r.emitSelectEvent({event:e,targetCell:o,interactionName:oK.DATA_CELL_CLICK,cells:[o]}),this.showTooltip(e,i),r.updateDataCellRelevantHeaderCells(aK.SELECTED,i),this.spreadsheet.emit(BY.DATA_CELL_CLICK_TRIGGERED_PRIVATE,o)))})}showTooltip(e,t){const{data:n,isTotals:r=!1,fieldValue:o,valueField:i}=t,a=this.spreadsheet.isTableMode(),l=[(a?Object.assign(Object.assign({},n),{value:o,valueField:i}):n)||Object.assign(Object.assign({},t.rowQuery),t.colQuery)],s=this.getTooltipOperator(e);this.spreadsheet.showTooltipWithInfo(e,l,{isTotals:r,operator:s,hideSummary:!0,onlyShowCellText:a})}emitLinkFieldClickEvent(e){const{meta:t}=this.getCellAppendInfo(e.target),{valueField:n,data:r}=t;this.spreadsheet.emit(BY.GLOBAL_LINK_FIELD_JUMP,{meta:t,field:n,record:Object.assign({rowIndex:null==t?void 0:t.rowIndex},r)})}}class s6 extends i6{constructor(){super(...arguments),this.getCellData=e=>{var t,n;const r=e.getHeadLeafChild(),o=this.spreadsheet.dataSet.getCellMultiData({query:null==r?void 0:r.query})[0],i=q1.getFieldValue(o);return Object.assign(Object.assign({},i),{rowIndex:null!==(t=e.rowIndex)&&void 0!==t?t:null==r?void 0:r.rowIndex,colIndex:null!==(n=e.colIndex)&&void 0!==n?n:null==r?void 0:r.colIndex})}}bindEvents(){this.bindRowCellClick(),this.bindColCellClick()}onHeaderCellClick(e){if(this.spreadsheet.interaction.hasIntercepts([bK.CLICK]))return;if(!this.isLinkFieldText(e.target))return;const{meta:t}=this.getCellAppendInfo(e.target),n=t.field,r=this.getCellData(t);this.spreadsheet.emit(BY.GLOBAL_LINK_FIELD_JUMP,{field:n,meta:t,record:r})}bindRowCellClick(){this.spreadsheet.on(BY.ROW_CELL_CLICK,e=>{this.onHeaderCellClick(e)})}bindColCellClick(){this.spreadsheet.on(BY.COL_CELL_CLICK,e=>{this.onHeaderCellClick(e)})}}class c6 extends i6{bindEvents(){this.bindDataCellClick()}bindDataCellClick(){this.spreadsheet.on(BY.MERGED_CELLS_CLICK,e=>{e.stopPropagation();const{interaction:t}=this.spreadsheet;t.hasIntercepts([bK.CLICK])||t.addIntercepts([bK.HOVER])})}}const u6=(e,t)=>{const n=window.matchMedia("(orientation: portrait)").matches,r=n?"90vw":"90vh",o=n?"60vw":"60vh";Object.assign(e.style,Object.assign({maxWidth:r,maxHeight:r,minHeight:o,minWidth:o,objectFit:"contain"},t))},d6=e=>Hz(void 0,void 0,void 0,function*(){const t=e.getRenderer(),{type:n,prepareText:r}=t,o=yield _Q(r,e.getFieldValue().toString());if(!1===t.clickToPreview||![NQ.IMAGE,NQ.VIDEO].includes(t.type))return;const i=e.getStyle("preview"),a=(e=>{const t=document.createElement("div");return Object.assign(t.style,Object.assign({width:"100vw",height:"100vh",position:"fixed",top:"0",left:"0",backgroundColor:"rgba(30, 30, 30, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",zIndex:"9999",cursor:"pointer",touchAction:"none",backdropFilter:"blur(2px)",pointerEvents:"auto"},e)),t.className=`${NY}-preview-overlay`,t})(null==i?void 0:i.overlay),l=n===NQ.IMAGE?yield(s={src:o,mediaContainerStyle:null==i?void 0:i.mediaContainer,config:t},Hz(void 0,void 0,void 0,function*(){const{src:e,mediaContainerStyle:t,config:n}=s,r=yield RQ({src:e,fallback:null==n?void 0:n.fallback,timeout:null==n?void 0:n.timeout});return u6(r,t),r.alt="preview",r})):((e,t)=>{const n=document.createElement("video");return n.src=e,n.controls=!0,n.preload="auto",n.playsInline=!0,n.setAttribute("webkit-playsinline","true"),n.setAttribute("playsinline","true"),u6(n,t),n})(o,null==i?void 0:i.mediaContainer);var s;const c=e=>{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),e.target===a&&(document.body.removeChild(a),l.remove(),document.body.style.overflow="auto")};setTimeout(()=>{["click","touchstart","touchend"].forEach(e=>{a.addEventListener(e,c,{passive:!1})})},500),document.body.style.overflow="hidden",a.appendChild(l),document.body.appendChild(a)});class f6 extends i6{bindEvents(){[BY.DATA_CELL_CLICK,BY.ROW_CELL_CLICK,BY.COL_CELL_CLICK].forEach(e=>{this.spreadsheet.on(e,e=>this.bindMediaCellClick(e))})}bindMediaCellClick(e){var t,n,r,o;const i=this.spreadsheet.getCell(e.target);(null===(n=null===(t=null==i?void 0:i.getRenderer)||void 0===t?void 0:t.call(i))||void 0===n?void 0:n.type)===NQ.IMAGE&&"image"!==vY.get(e.target,"nodeName")||(null===(o=null===(r=null==i?void 0:i.getRenderer)||void 0===r?void 0:r.call(i))||void 0===o?void 0:o.type)&&(this.spreadsheet.isPivotMode()||i.cellType!==sK.COL_CELL)&&(this.spreadsheet.emit(BY.GLOBAL_PREVIEW_CLICK,e),d6(i))}}class h6 extends i6{constructor(){super(...arguments),this.isMultiSelection=!1,this.handleRowColClick=e=>{if(e.stopPropagation(),this.isLinkFieldText(e.target))return;const{interaction:t,options:n}=this.spreadsheet,r=this.spreadsheet.getCell(e.target);if(r instanceof v2)return;const{multiSelection:o}=n.interaction,i=!(!o||!this.isMultiSelection),a=r.cellType===sK.ROW_CELL?oK.ROW_CELL_MULTI_SELECTION:oK.COL_CELL_MULTI_SELECTION,l=r.cellType===sK.ROW_CELL?oK.ROW_CELL_CLICK:oK.COL_CELL_CLICK;t.changeCell({event:e,cell:r,isMultiSelection:i,interactionName:i?a:l,scrollIntoView:!1})&&this.showTooltip(e)},this.getHideColumnField=e=>{var t;return(null===(t=e.extra)||void 0===t?void 0:t.isCustomNode)?e.id:this.spreadsheet.isTableMode()?e.field:e.id}}bindEvents(){this.bindKeyboardDown(),this.bindKeyboardUp(),this.bindColCellClick(),this.bindRowCellClick(),this.bindTableColExpand(),this.bindMouseMove()}reset(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([bK.CLICK])}bindKeyboardDown(){this.spreadsheet.on(BY.GLOBAL_KEYBOARD_DOWN,e=>{d5(e)&&(this.isMultiSelection=!0)})}bindKeyboardUp(){this.spreadsheet.on(BY.GLOBAL_KEYBOARD_UP,e=>{d5(e)&&this.reset()})}bindMouseMove(){this.spreadsheet.on(BY.GLOBAL_MOUSE_MOVE,e=>{this.isMultiSelection&&!f5(e)&&this.reset()})}bindRowCellClick(){this.spreadsheet.on(BY.ROW_CELL_CLICK,e=>{this.handleRowColClick(e)})}bindColCellClick(){this.spreadsheet.on(BY.COL_CELL_CLICK,e=>{this.handleRowColClick(e)})}showTooltip(e){const{operation:t,enable:n}=T5(this.spreadsheet,e);if(!n)return;const{interaction:r}=this.spreadsheet,o=r.isSelectedState()?(i=r.getActiveCells(),vY.map(i,e=>{const t=e.getMeta();return vY.assign({},t.query||{},vY.pick(t,["colIndex","rowIndex"]))})):[];var i;const a=this.getHeaderTooltipOperator(e,t);this.spreadsheet.showTooltipWithInfo(e,o,{onlyShowCellText:!0,operator:a})}getHeaderTooltipOperator(e,t){const n=this.spreadsheet.getCell(e.target),r=n.getMeta(),o=n.cellType===sK.COL_CELL,i=1===this.spreadsheet.facet.getColLeafNodes().length,a={key:"hiddenColumns",label:bY(""),icon:"EyeOutlined"},l=o&&!i&&r.isLeaf&&t.hiddenColumns,s=Object.assign(Object.assign({},a),{onClick:()=>{this.hideSelectedColumns()}}),c=l?[s]:[];return this.getTooltipOperator(e,c)}bindTableColExpand(){this.spreadsheet.on(BY.COL_CELL_EXPANDED,(e,t)=>{this.handleExpandIconClick(e,t)})}hideSelectedColumns(){return Hz(this,void 0,void 0,function*(){const{interaction:e}=this.spreadsheet,t=e.getActiveCells().map(e=>e.getMeta()).map(this.getHideColumnField);yield HJ(this.spreadsheet,t,!0)})}handleExpandIconClick(e,t){return Hz(this,void 0,void 0,function*(){const n=this.spreadsheet.store.get("hiddenColumnsDetail",[]),{hideColumnNodes:r=[]}=vY.findLast(n,({displaySiblingNode:n})=>FJ(n,e.id,t))||{},{hiddenColumnFields:o}=this.spreadsheet.options.interaction,i=r.map(this.getHideColumnField),a=vY.difference(o,i),l=n.filter(({displaySiblingNode:n})=>!FJ(n,e.id,t));this.spreadsheet.setOptions({interaction:{hiddenColumnFields:a}}),this.spreadsheet.store.set("hiddenColumnsDetail",l),this.spreadsheet.interaction.reset(),yield this.spreadsheet.render({reloadData:!1,rebuildHiddenColumnsDetail:!1})})}}class p6 extends i6{bindEvents(){this.bindDataCellHover(),this.bindHeaderCellHover()}changeStateToHoverFocus(e,t){var n;if(!e)return;const r=e.getMeta(),{interaction:o}=this.spreadsheet,{interaction:i}=this.spreadsheet.options,{hoverFocus:a}=i;o.clearHoverTimer();const l=()=>{if(o.hasIntercepts([bK.HOVER]))return;o.changeState({cells:[h5(e)],stateName:aK.HOVER_FOCUS});const n=this.spreadsheet.isTableMode(),a={isTotals:r.isTotals,hideSummary:!0,onlyShowCellText:n};(null==i?void 0:i.hoverHighlight)&&o.updateDataCellRelevantHeaderCells(aK.HOVER,r),this.spreadsheet.emit(BY.DATA_CELL_HOVER_TRIGGERED_PRIVATE,e);const l=this.getCellData(r,n);this.spreadsheet.showTooltipWithInfo(t,l,a)},s=vY.isBoolean(a)?800:null!==(n=null==a?void 0:a.duration)&&void 0!==n?n:800;if(0===s)l();else{const e=window.setTimeout(()=>l(),s);o.setHoverTimer(e)}}handleHeaderHover(e){var t;const n=this.spreadsheet.getCell(e.target);if(vY.isEmpty(n))return;const{interaction:r,facet:o}=this.spreadsheet;r.clearHoverTimer(),r.isActiveCell(n)||(r.changeState({cells:[h5(n)],stateName:aK.HOVER}),n.update(),this.showEllipsisTooltip(e,n),null===(t=o.centerFrame)||void 0===t||t.toFront())}showEllipsisTooltip(e,t){if(!t||!t.isTextOverflowing())return void this.spreadsheet.hideTooltip();const n=t.getMeta(),r={isTotals:n.isTotals,hideSummary:!0,onlyShowCellText:!0,enableFormat:!0},o=this.getCellData(n,r.onlyShowCellText);this.spreadsheet.showTooltipWithInfo(e,o,r)}getCellData(e={},t){const{data:n,query:r,value:o,field:i,fieldValue:a,valueField:l,rowQuery:s,colQuery:c}=e,u=n;return t?[Object.assign(Object.assign({},r),{value:o||a,valueField:i||l})]:[u||Object.assign(Object.assign({},s),c)]}bindDataCellHover(){this.spreadsheet.on(BY.DATA_CELL_HOVER,e=>{const t=this.spreadsheet.getCell(e.target);if(vY.isEmpty(t))return;const{interaction:n,options:r}=this.spreadsheet;if(n.isActiveCell(t))return;const{interaction:o}=r,i=null==t?void 0:t.getMeta();n.changeState({cells:[h5(t)],stateName:aK.HOVER}),(null==o?void 0:o.hoverHighlight)&&n.updateDataCellRelevantHeaderCells(aK.HOVER,i),(null==o?void 0:o.hoverFocus)&&this.changeStateToHoverFocus(t,e),this.spreadsheet.emit(BY.DATA_CELL_HOVER_TRIGGERED_PRIVATE,t)})}bindHeaderCellHover(){[BY.ROW_CELL_HOVER,BY.COL_CELL_HOVER,BY.CORNER_CELL_HOVER].forEach(e=>{this.spreadsheet.on(e,e=>{this.handleHeaderHover(e)})})}}class g6 extends i6{constructor(){super(...arguments),this.displayedCells=[],this.brushRangeCells=[],this.brushSelectionStage=hK.UN_DRAGGED,this.brushSelectionMinimumMoveDistance=5,this.scrollAnimationComplete=!0,this.mouseMoveDistanceFromCanvas=0,this.setMoveDistanceFromCanvas=(e,t,n)=>{let r=0;if(t&&(r=e.x),n){const n=e.y;r=t?Math.max(n,r):n}this.mouseMoveDistanceFromCanvas=Math.abs(r)},this.formatBrushPointForScroll=(e,t=!1)=>{var n,r,o,i;const{x:a,y:l}=e,{facet:s}=this.spreadsheet,{minX:c,maxX:u}=t?s.cornerBBox:s.panelBBox,{minY:d,maxY:f}=s.panelBBox;let h=(null===(n=this.endBrushPoint)||void 0===n?void 0:n.x)+a,p=(null===(r=this.endBrushPoint)||void 0===r?void 0:r.y)+l,g=t?!!s.hRowScrollBar:!!s.hScrollBar,m=!!s.vScrollBar;const v=null===(i=null===(o=s.vScrollBar)||void 0===o?void 0:o.getBBox())||void 0===i?void 0:i.width;return h>u?h=u-v-2:h<c?h=c+2:g=!1,p>f?p=f-2:p<=d?p=d+2:m=!1,{x:{value:h,needScroll:g},y:{value:p,needScroll:m}}},this.autoScrollIntervalId=null,this.rectanglesIntersect=(e,t)=>e.maxX>t.minX&&e.minX<t.maxX&&e.minY<t.maxY&&e.maxY>t.minY,this.autoScrollConfig=vY.cloneDeep(wK),this.validateYIndex=e=>{var t,n;const{facet:r}=this.spreadsheet,o=r.frozenGroupAreas;let i=0;const a=null===(t=null==o?void 0:o.frozenRow)||void 0===t?void 0:t.range;if((null==a?void 0:a[1])&&(i=a[1]+1),e<i)return null;let l=r.getCellRange().end;const s=null===(n=null==o?void 0:o.frozenTrailingRow)||void 0===n?void 0:n.range;return(null==s?void 0:s[0])&&(l=s[0]-1),e>l?null:e},this.validateXIndex=e=>{const{facet:t}=this.spreadsheet,n=t.frozenGroupAreas;let r=0;const o=n[JY.Col].range;if((null==o?void 0:o[1])&&(r=o[1]+1),e<r)return null;let i=t.getColLeafNodes().length-1;const a=n[JY.TrailingCol].range;return(null==a?void 0:a[0])&&(i=a[0]-1),e>i?null:e},this.adjustNextColIndexWithFrozen=(e,t)=>{const{facet:n}=this.spreadsheet,r=n.getColLeafNodes().length,{colCount:o,trailingColCount:i}=n.getFrozenOptions(),a=n.panelScrollGroupIndexes;return o>0&&t===EK.SCROLL_UP&&MJ(e,o)?a[0]:i>0&&t===EK.SCROLL_DOWN&&$J(e,i,r)?a[1]:e},this.adjustNextRowIndexWithFrozen=(e,t)=>{const{facet:n}=this.spreadsheet,r=n.getCellRange(),{rowCount:o,trailingRowCount:i}=n.getFrozenOptions(),a=n.panelScrollGroupIndexes;return o>0&&t===EK.SCROLL_UP&&IJ(e,r.start,o)?a[2]:i>0&&t===EK.SCROLL_DOWN&&NJ(e,r.end,i)?a[3]:e},this.getWillScrollRowIndexDiff=e=>e===EK.SCROLL_DOWN?kK.SCROLL_DOWN:kK.SCROLL_UP,this.getDefaultWillScrollToRowIndex=e=>{const t=this.adjustNextRowIndexWithFrozen(this.endBrushPoint.rowIndex,e)+this.getWillScrollRowIndexDiff(e);return this.validateYIndex(t)},this.getWillScrollToRowIndex=e=>this.getDefaultWillScrollToRowIndex(e),this.getNextScrollDelta=e=>{const{scrollX:t=0,scrollY:n=0}=this.spreadsheet.facet.getScrollOffset();let r=0,o=0;if(e.y.scroll){const t=e.y.value>0?EK.SCROLL_DOWN:EK.SCROLL_UP,r=this.getWillScrollToRowIndex(t);if(vY.isNil(r))o=0;else{const e=((e,t,n)=>{const{facet:r}=n,{getCellOffsetY:o}=r.viewCellHeights,{viewportHeight:i}=r.panelBBox,a=o(e+1);if(vY.isNil(a))return 0;const l=null==r?void 0:r.frozenGroupAreas,s=l[JY.Row].height,c=l[JY.TrailingRow].height;return t===EK.SCROLL_UP?o(e)-s:a-(i-c)})(r,t,this.spreadsheet)-n;o=vY.isNil(e)||Number.isNaN(e)?0:e}}if(e.x.scroll){const n=e.x.value>0?EK.SCROLL_DOWN:EK.SCROLL_UP,o=this.adjustNextColIndexWithFrozen(this.endBrushPoint.colIndex,n),i=this.validateXIndex(o+(e.x.value>0?1:-1));r=vY.isNil(i)?0:((e,t,n)=>{const{facet:r}=n,{viewportWidth:o}=r.panelBBox,i=null==r?void 0:r.frozenGroupAreas,a=i[JY.Col].width,l=i[JY.TrailingCol].width,s=r.getColLeafNodes()[e];return t===EK.SCROLL_UP?s.x-a:s.x+s.width-(o-l)})(i,n,this.spreadsheet)-t}return{x:r,y:o}},this.onScrollAnimationComplete=()=>{this.scrollAnimationComplete=!0,this.brushSelectionStage!==hK.UN_DRAGGED&&this.renderPrepareSelected(this.endBrushPoint)},this.autoScroll=(e=!1)=>{if(this.brushSelectionStage===hK.UN_DRAGGED||!this.scrollAnimationComplete)return;const t=this.autoScrollConfig,n=this.spreadsheet.facet.getScrollOffset(),r=e?"rowHeaderOffsetX":"offsetX",o={rowHeaderOffsetX:{value:n.rowHeaderScrollX,animate:!0},offsetX:{value:n.scrollX,animate:!0},offsetY:{value:n.scrollY,animate:!0}},{x:i,y:a}=this.getNextScrollDelta(t);if(0===a&&0===i)return void this.clearAutoScroll();if(t.y.scroll&&(o.offsetY.value+=a),t.x.scroll){const e=o[r];e.value+=i,e.value<0&&(e.value=0)}this.scrollAnimationComplete=!1;const l=t.x.scroll?1:3,s=Math.max(16,300-this.mouseMoveDistanceFromCanvas*l);this.spreadsheet.facet.scrollWithAnimation(o,s,this.onScrollAnimationComplete)},this.handleScroll=vY.throttle((e,t,n=!1)=>{if(this.brushSelectionStage===hK.UN_DRAGGED)return;const{x:{value:r,needScroll:o},y:{value:i,needScroll:a}}=this.formatBrushPointForScroll({x:e,y:t},n),l=this.autoScrollConfig;a&&(l.y.value=t,l.y.scroll=!0),o&&(l.x.value=e,l.x.scroll=!0),this.setMoveDistanceFromCanvas({x:e,y:t},o,a),this.renderPrepareSelected({x:r,y:i}),(a||o)&&(this.clearAutoScroll(),this.autoScroll(n),this.autoScrollIntervalId=setInterval(()=>{this.autoScroll(n)},16))},30),this.clearAutoScroll=()=>{this.autoScrollIntervalId&&(clearInterval(this.autoScrollIntervalId),this.autoScrollIntervalId=null,this.resetScrollDelta())},this.onUpdateCells=(e,t)=>t(),this.showPrepareSelectedCells=()=>{this.brushRangeCells=this.getBrushRangeCells(),this.spreadsheet.interaction.changeState({cells:vY.map(this.brushRangeCells,e=>h5(e)),stateName:aK.PREPARE_SELECT,force:!0,onUpdateCells:this.onUpdateCells})},this.renderPrepareSelected=e=>{const{x:t,y:n}=e,r=this.spreadsheet.container.document.elementsFromPointSync(t,n).map(e=>this.spreadsheet.getCell(e)).find(Boolean);if(!r||!(r instanceof f2||r instanceof m2||r instanceof u2))return;const{rowIndex:o,colIndex:i}=r.getMeta();this.endBrushPoint={x:t,y:n,rowIndex:o,colIndex:i};const{interaction:a}=this.spreadsheet;a.addIntercepts([bK.HOVER]),a.clearStyleIndependent(),this.isValidBrushSelection()&&(this.showPrepareSelectedCells(),this.updatePrepareSelectMask())}}bindEvents(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()}getPrepareSelectMaskTheme(){var e;return null===(e=this.spreadsheet.theme)||void 0===e?void 0:e.prepareSelectMask}initPrepareSelectMaskShape(){var e;const{foregroundGroup:t}=this.spreadsheet.facet;if(!t)return;null===(e=this.prepareSelectMaskShape)||void 0===e||e.remove();const n=this.getPrepareSelectMaskTheme();this.prepareSelectMaskShape=t.appendChild(new eU({style:{width:0,height:0,x:0,y:0,fill:null==n?void 0:n.backgroundColor,fillOpacity:null==n?void 0:n.backgroundOpacity,zIndex:5,visibility:"hidden",pointerEvents:"none"}}))}setBrushSelectionStage(e){this.brushSelectionStage=e}isPointInCanvas(e){const{height:t,width:n}=this.spreadsheet.facet.getCanvasSize(),{minX:r,minY:o}=this.spreadsheet.facet.panelBBox;return(null==e?void 0:e.x)>r&&(null==e?void 0:e.x)<n&&(null==e?void 0:e.y)>o&&(null==e?void 0:e.y)<t}resetDrag(){this.hidePrepareSelectMaskShape(),this.setBrushSelectionStage(hK.UN_DRAGGED)}isValidBrushSelection(){const{start:e,end:t}=this.getBrushRange();return t.x-e.x>this.brushSelectionMinimumMoveDistance||t.y-e.y>this.brushSelectionMinimumMoveDistance}setDisplayedCells(){this.displayedCells=this.spreadsheet.facet.getDataCells()}updatePrepareSelectMask(){const e=this.getBrushRange(),{x:t,y:n}=this.getPrepareSelectMaskPosition(e);this.prepareSelectMaskShape.attr({x:t,y:n,width:e.width,height:e.height}),this.prepareSelectMaskShape.setAttribute("visibility","visible")}hidePrepareSelectMaskShape(){var e;null===(e=this.prepareSelectMaskShape)||void 0===e||e.setAttribute("visibility","hidden")}resetScrollDelta(){this.autoScrollConfig=vY.cloneDeep(wK)}getBrushPoint(e){const{scrollY:t,scrollX:n}=this.spreadsheet.facet.getScrollOffset(),r={x:null==e?void 0:e.x,y:null==e?void 0:e.y},o=this.spreadsheet.getCell(e.target),{colIndex:i,rowIndex:a}=o.getMeta();return Object.assign(Object.assign({},r),{rowIndex:a,colIndex:i,scrollY:t,scrollX:n})}getBrushRange(){var e,t,n,r,o,i,a,l;const{scrollX:s=0,scrollY:c=0}=this.spreadsheet.facet.getScrollOffset(),u=Math.min(this.startBrushPoint.rowIndex,null===(e=this.endBrushPoint)||void 0===e?void 0:e.rowIndex),d=Math.max(this.startBrushPoint.rowIndex,null===(t=this.endBrushPoint)||void 0===t?void 0:t.rowIndex),f=Math.min(this.startBrushPoint.colIndex,null===(n=this.endBrushPoint)||void 0===n?void 0:n.colIndex),h=Math.max(this.startBrushPoint.colIndex,null===(r=this.endBrushPoint)||void 0===r?void 0:r.colIndex),p=this.startBrushPoint.x+this.startBrushPoint.scrollX-s,g=this.startBrushPoint.y+this.startBrushPoint.scrollY-c,m=Math.min(p,null===(o=this.endBrushPoint)||void 0===o?void 0:o.x),v=Math.max(p,null===(i=this.endBrushPoint)||void 0===i?void 0:i.x),y=Math.min(g,null===(a=this.endBrushPoint)||void 0===a?void 0:a.y),b=Math.max(g,null===(l=this.endBrushPoint)||void 0===l?void 0:l.y);return{start:{rowIndex:u,colIndex:f,x:m,y:y},end:{rowIndex:d,colIndex:h,x:v,y:b},width:v-m,height:b-y}}getBrushRangeCells(){return this.setDisplayedCells(),this.displayedCells.filter(e=>{const t=e.getMeta();return this.isInBrushRange(t)})}mouseDown(e){var t;null===(t=null==e?void 0:e.preventDefault)||void 0===t||t.call(e),this.spreadsheet.interaction.hasIntercepts([bK.CLICK])||(this.setBrushSelectionStage(hK.CLICK),this.initPrepareSelectMaskShape(),this.setDisplayedCells(),this.startBrushPoint=this.getBrushPoint(e))}addBrushIntercepts(){this.spreadsheet.interaction.addIntercepts([bK.DATA_CELL_BRUSH_SELECTION])}bindMouseUp(e=!1){this.spreadsheet.on(BY.GLOBAL_MOUSE_UP,t=>{if(this.brushSelectionStage===hK.DRAGGED){if(e&&this.clearAutoScroll(),this.isValidBrushSelection()){this.addBrushIntercepts(),this.updateSelectedCells(t);const e=N5(this.spreadsheet);this.spreadsheet.showTooltipWithInfo(t,e)}this.spreadsheet.interaction.getCurrentStateName()===aK.PREPARE_SELECT&&this.spreadsheet.interaction.reset(),this.resetDrag()}else this.resetDrag()}),this.spreadsheet.on(BY.GLOBAL_CONTEXT_MENU,()=>{this.brushSelectionStage!==hK.UN_DRAGGED&&(this.spreadsheet.interaction.removeIntercepts([bK.HOVER]),this.resetDrag())})}autoBrushScroll(e,t=!1){var n,r;if(this.clearAutoScroll(),!this.isPointInCanvas(e)){const o=(null==e?void 0:e.x)-(null===(n=this.endBrushPoint)||void 0===n?void 0:n.x),i=(null==e?void 0:e.y)-(null===(r=this.endBrushPoint)||void 0===r?void 0:r.y);return this.handleScroll(o,i,t),!0}return!1}emitBrushSelectionEvent(e,t,n){this.spreadsheet.emit(e,t,n),this.spreadsheet.emit(BY.GLOBAL_SELECTED,t,n),vY.isEmpty(t)&&this.spreadsheet.interaction.removeIntercepts([bK.HOVER])}getVisibleBrushRangeCells(e){return this.brushRangeCells.find(t=>{const n=t.getMeta();return(null==n?void 0:n.id)===e})}isInBrushRange(e){return!1}bindMouseDown(){}bindMouseMove(){}updateSelectedCells(e){}getPrepareSelectMaskPosition(e){return{x:e.start.x,y:e.start.y}}}class m6 extends g6{constructor(){super(...arguments),this.displayedCells=[],this.brushRangeCells=[],this.onUpdateCells=e=>e.updateCells(this.spreadsheet.facet.getColCells())}bindEvents(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()}bindMouseDown(){this.spreadsheet.on(BY.COL_CELL_MOUSE_DOWN,e=>{this.spreadsheet.interaction.getBrushSelection().colCell&&super.mouseDown(e)})}isPointInCanvas(e){const{width:t}=this.spreadsheet.facet.getCanvasSize(),{width:n,minY:r,maxY:o}=this.spreadsheet.facet.cornerBBox;return e.x>=n&&e.x<=t&&e.y>=r&&e.y<=o}bindMouseMove(){this.spreadsheet.on(BY.COL_CELL_MOUSE_MOVE,e=>{var t;if(this.brushSelectionStage===hK.UN_DRAGGED)return;this.setBrushSelectionStage(hK.DRAGGED);const n=null===(t=this.spreadsheet.interaction.eventController)||void 0===t?void 0:t.getViewportPoint(e);this.isPointInCanvas(n)&&this.renderPrepareSelected(n)})}setDisplayedCells(){this.displayedCells=this.spreadsheet.facet.getColCells()}isInBrushRange(e){const{start:t,end:n}=this.getBrushRange(),{scrollX:r=0}=this.spreadsheet.facet.getScrollOffset(),o=this.spreadsheet.facet.cornerBBox,{x:i=0,y:a=0,width:l=0,height:s=0}=e;return this.rectanglesIntersect({minX:t.x-o.width+r,minY:t.y,maxX:n.x-o.width+r,maxY:n.y},{minX:i,maxX:i+l,minY:a,maxY:a+s})}updateSelectedCells(e){const{interaction:t,facet:n}=this.spreadsheet;t.changeState({cells:vY.map(this.brushRangeCells,h5),onUpdateCells:e=>{e.updateCells(n.getColCells())},stateName:aK.COL_CELL_BRUSH_SELECTED}),this.emitBrushSelectionEvent(BY.COL_CELL_BRUSH_SELECTION,this.brushRangeCells,{event:e,targetCell:this.brushRangeCells[0],interactionName:oK.COL_CELL_BRUSH_SELECTION})}addBrushIntercepts(){this.spreadsheet.interaction.addIntercepts([bK.COL_CELL_BRUSH_SELECTION])}}class v6 extends g6{constructor(){super(...arguments),this.displayedCells=[],this.brushRangeCells=[],this.getSelectedCellMetas=e=>{const{facet:t}=this.spreadsheet,n=[],r=t.getRowLeafNodes(),o=t.getColLeafNodes(),i=vY.range(e.start.rowIndex,e.end.rowIndex+1),a=vY.range(e.start.colIndex,e.end.colIndex+1);return i.forEach(e=>{a.forEach(t=>{const i=String(o[t].id),a=vY.isEmpty(r)?String(e):String(r[e].id);n.push({colIndex:t,rowIndex:e,id:UJ(a,i),type:sK.DATA_CELL,rowId:a,colId:i,spreadsheet:this.spreadsheet})})}),n}}bindMouseDown(){this.spreadsheet.on(BY.DATA_CELL_MOUSE_DOWN,e=>{this.spreadsheet.interaction.getBrushSelection().dataCell&&(super.mouseDown(e),this.resetScrollDelta())})}bindMouseMove(){this.spreadsheet.on(BY.GLOBAL_MOUSE_MOVE,e=>{if(this.brushSelectionStage===hK.UN_DRAGGED)return;this.setBrushSelectionStage(hK.DRAGGED);const t=this.spreadsheet.interaction.eventController.getViewportPoint(e);this.autoBrushScroll(t)||this.renderPrepareSelected(t)})}isInBrushRange(e){const{start:t,end:n}=this.getBrushRange(),{rowIndex:r,colIndex:o}=e;return r>=t.rowIndex&&r<=n.rowIndex&&o>=t.colIndex&&o<=n.colIndex}updateSelectedCells(e){const t=this.getBrushRange(),n=this.getSelectedCellMetas(t);this.spreadsheet.interaction.changeState({cells:n,stateName:aK.DATA_CELL_BRUSH_SELECTED,onUpdateCells:g5});const r=this.getScrollBrushRangeCells(n);this.emitBrushSelectionEvent(BY.DATA_CELL_BRUSH_SELECTION,r,{event:e,targetCell:r[0],interactionName:oK.DATA_CELL_BRUSH_SELECTION})}getScrollBrushRangeCells(e){return e.map(e=>{const t=this.getVisibleBrushRangeCells(e.id);if(t)return t;const n=this.spreadsheet.facet.getCellMeta(e.rowIndex,e.colIndex);return this.spreadsheet.facet.createDataCell(n)})}bindMouseUp(){super.bindMouseUp(!0)}getPrepareSelectMaskPosition(e){const{minX:t,minY:n}=this.spreadsheet.facet.panelBBox;return{x:Math.max(e.start.x,t),y:Math.max(e.start.y,n)}}}class y6 extends g6{constructor(){super(...arguments),this.displayedCells=[],this.brushRangeCells=[],this.isInBrushRange=e=>{const{start:t,end:n}=this.getBrushRange(),{scrollY:r,rowHeaderScrollX:o}=this.spreadsheet.facet.getScrollOffset(),{cornerBBox:i}=this.spreadsheet.facet,{x:a=0,y:l=0,width:s=0,height:c=0}=e;return this.rectanglesIntersect({minX:t.x+o,minY:t.y-i.height+r,maxX:n.x+o,maxY:n.y-i.height+r},{minX:a,maxX:a+s,minY:l,maxY:l+c})},this.onUpdateCells=e=>e.updateCells(this.spreadsheet.facet.getRowCells()),this.getSelectedRowNodes=()=>this.spreadsheet.facet.getRowNodes().filter(this.isInBrushRange),this.getVisibleRowLeafCellByScrollDirection=e=>{const t=this.spreadsheet.facet.getRowCells();return e===EK.SCROLL_DOWN?vY.last(t):t.find(e=>e.getMeta().isLeaf)},this.getWillScrollToRowIndex=e=>{var t,n;if(!vY.isNil(this.endBrushPoint.rowIndex))return this.getDefaultWillScrollToRowIndex(e);const r=this.getVisibleRowLeafCellByScrollDirection(e),o=(null!==(n=null===(t=null==r?void 0:r.getMeta())||void 0===t?void 0:t.rowIndex)&&void 0!==n?n:0)+this.getWillScrollRowIndexDiff(e);return this.validateYIndex(o)}}bindMouseDown(){this.spreadsheet.on(BY.ROW_CELL_MOUSE_DOWN,e=>{this.spreadsheet.interaction.getBrushSelection().rowCell&&super.mouseDown(e)})}isPointInCanvas(e){const{height:t}=this.spreadsheet.facet.getCanvasSize(),{minX:n,height:r,maxX:o}=this.spreadsheet.facet.cornerBBox;return e.x>=n&&e.x<=o&&e.y>=r&&e.y<=t}bindMouseMove(){this.spreadsheet.on(BY.GLOBAL_MOUSE_MOVE,e=>{if(this.brushSelectionStage===hK.UN_DRAGGED)return;this.setBrushSelectionStage(hK.DRAGGED);const t=this.spreadsheet.interaction.eventController.getViewportPoint(e);this.autoBrushScroll(t,!0)||this.renderPrepareSelected(t)})}setDisplayedCells(){this.displayedCells=this.spreadsheet.facet.getRowCells()}updateSelectedCells(e){const t=this.getSelectedRowNodes(),n=this.getScrollBrushRangeCells(t),r=vY.map(n,h5);this.spreadsheet.interaction.changeState({cells:r,stateName:aK.ROW_CELL_BRUSH_SELECTED,onUpdateCells:this.onUpdateCells}),this.emitBrushSelectionEvent(BY.ROW_CELL_BRUSH_SELECTION,n,{event:e,targetCell:n[0],interactionName:oK.ROW_CELL_BRUSH_SELECTION})}addBrushIntercepts(){this.spreadsheet.interaction.addIntercepts([bK.ROW_CELL_BRUSH_SELECTION])}getScrollBrushRangeCells(e){return e.map(e=>{const t=this.getVisibleBrushRangeCells(e.id);return t||this.spreadsheet.facet.rowHeader.getCellInstance(e)})}getPrepareSelectMaskPosition(e){const{minY:t}=this.spreadsheet.facet.panelBBox;return{x:e.start.x,y:Math.max(e.start.y,t)}}}class b6 extends i6{constructor(){super(...arguments),this.isMultiSelection=!1}bindEvents(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindKeyboardUp(),this.bindMouseMove()}reset(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([bK.CLICK])}bindKeyboardDown(){this.spreadsheet.on(BY.GLOBAL_KEYBOARD_DOWN,e=>{d5(e)&&(this.isMultiSelection=!0,this.spreadsheet.interaction.addIntercepts([bK.CLICK]))})}bindKeyboardUp(){this.spreadsheet.on(BY.GLOBAL_KEYBOARD_UP,e=>{d5(e)&&this.reset()})}bindMouseMove(){this.spreadsheet.on(BY.GLOBAL_MOUSE_MOVE,e=>{this.isMultiSelection&&!f5(e)&&this.reset()})}getSelectedCells(e){const t=e.getMeta().id,{interaction:n}=this.spreadsheet;let r=n.getCells([sK.DATA_CELL]),o=[];return n.getCurrentStateName()!==aK.SELECTED&&(r=[]),o=r.find(e=>e.id===t)?r.filter(e=>e.id!==t):[...r,h5(e)],o}bindDataCellClick(){this.spreadsheet.on(BY.DATA_CELL_CLICK,e=>{e.stopPropagation();const t=this.spreadsheet.getCell(e.target),n=t.getMeta(),{interaction:r}=this.spreadsheet;if(this.isMultiSelection&&n){const n=this.getSelectedCells(t);if(vY.isEmpty(n))return r.clearState(),this.spreadsheet.hideTooltip(),void r.emitSelectEvent({event:e,targetCell:t,interactionName:oK.DATA_CELL_MULTI_SELECTION});r.addIntercepts([bK.CLICK,bK.HOVER]),this.spreadsheet.hideTooltip(),r.changeState({cells:n,stateName:aK.SELECTED,onUpdateCells:g5}),r.emitSelectEvent({event:e,targetCell:t,interactionName:oK.DATA_CELL_MULTI_SELECTION}),this.spreadsheet.showTooltipWithInfo(e,N5(this.spreadsheet))}})}}class x6{constructor(e){this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[],this.isCanvasEffect=!1,this.isGuiIconShape=e=>e instanceof JZ&&e.imgType===oQ.type,this.isConditionIconShape=(e,t)=>t.getConditionIconShapes().some(t=>{var n;return(null==t?void 0:t.name)===(null===(n=null==e?void 0:e.attributes)||void 0===n?void 0:n.name)}),this.onCanvasMousedown=e=>{if(this.target=e.target,this.spreadsheet.interaction.clearHoverTimer(),this.isResizeArea(e)){this.spreadsheet.emit(BY.LAYOUT_RESIZE_MOUSE_DOWN,e);const t=e=>{if(!this.spreadsheet.getCanvasElement())return!1;this.spreadsheet.getCanvasElement()!==e.target&&this.spreadsheet.emit(BY.LAYOUT_RESIZE_MOUSE_MOVE,e)};return window.addEventListener(zY.POINTER_MOVE,t),void window.addEventListener(zY.POINTER_UP,()=>{window.removeEventListener(zY.POINTER_MOVE,t)},{once:!0})}switch(this.spreadsheet.getCellType(e.target)){case sK.DATA_CELL:this.spreadsheet.emit(BY.DATA_CELL_MOUSE_DOWN,e);break;case sK.ROW_CELL:this.spreadsheet.emit(BY.ROW_CELL_MOUSE_DOWN,e);break;case sK.COL_CELL:this.spreadsheet.emit(BY.COL_CELL_MOUSE_DOWN,e);break;case sK.CORNER_CELL:this.spreadsheet.emit(BY.CORNER_CELL_MOUSE_DOWN,e);break;case sK.MERGED_CELL:this.spreadsheet.emit(BY.MERGED_CELLS_MOUSE_DOWN,e)}},this.onCanvasMousemove=e=>{if(this.canvasMousemoveEvent=e,this.isResizeArea(e))return this.activeResizeArea(e),void this.spreadsheet.emit(BY.LAYOUT_RESIZE_MOUSE_MOVE,e.nativeEvent);this.resetResizeArea();const t=this.spreadsheet.getCell(e.target);if(t){const n=t.cellType;switch(n){case sK.DATA_CELL:this.spreadsheet.emit(BY.DATA_CELL_MOUSE_MOVE,e);break;case sK.ROW_CELL:this.spreadsheet.emit(BY.ROW_CELL_MOUSE_MOVE,e);break;case sK.COL_CELL:this.spreadsheet.emit(BY.COL_CELL_MOUSE_MOVE,e);break;case sK.CORNER_CELL:this.spreadsheet.emit(BY.CORNER_CELL_MOUSE_MOVE,e);break;case sK.MERGED_CELL:this.spreadsheet.emit(BY.MERGED_CELLS_MOUSE_MOVE,e)}if(!this.hasBrushSelectionIntercepts())switch(this.spreadsheet.emit(BY.GLOBAL_HOVER,e),n){case sK.DATA_CELL:this.spreadsheet.emit(BY.DATA_CELL_HOVER,e);break;case sK.ROW_CELL:this.spreadsheet.emit(BY.ROW_CELL_HOVER,e);break;case sK.COL_CELL:this.spreadsheet.emit(BY.COL_CELL_HOVER,e);break;case sK.CORNER_CELL:this.spreadsheet.emit(BY.CORNER_CELL_HOVER,e);break;case sK.MERGED_CELL:this.spreadsheet.emit(BY.MERGED_CELLS_HOVER,e)}}},this.onCanvasMouseup=e=>{if(this.isResizeArea(e))return void this.spreadsheet.emit(BY.LAYOUT_RESIZE_MOUSE_UP,e);const t=this.spreadsheet.getCell(e.target);if(t){switch(t.cellType){case sK.DATA_CELL:this.spreadsheet.emit(BY.DATA_CELL_MOUSE_UP,e);break;case sK.ROW_CELL:this.spreadsheet.emit(BY.ROW_CELL_MOUSE_UP,e);break;case sK.COL_CELL:this.spreadsheet.emit(BY.COL_CELL_MOUSE_UP,e);break;case sK.CORNER_CELL:this.spreadsheet.emit(BY.CORNER_CELL_MOUSE_UP,e);break;case sK.MERGED_CELL:this.spreadsheet.emit(BY.MERGED_CELLS_MOUSE_UP,e)}sJ()&&this.onCanvasSingleClick(e)}},this.onCanvasClick=e=>{const t=this.spreadsheet;if(1===e.detail&&!sJ())return void this.onCanvasSingleClick(e);if(2!==e.detail)return;if(this.isResizeArea(e))return void t.emit(BY.LAYOUT_RESIZE_MOUSE_UP,e);t.emit(BY.GLOBAL_DOUBLE_CLICK,e);const n=t.getCell(e.target);if(n){const r=n.cellType;if(this.target===e.target)switch(r){case sK.DATA_CELL:t.emit(BY.DATA_CELL_DOUBLE_CLICK,e);break;case sK.ROW_CELL:t.emit(BY.ROW_CELL_DOUBLE_CLICK,e);break;case sK.COL_CELL:t.emit(BY.COL_CELL_DOUBLE_CLICK,e);break;case sK.CORNER_CELL:t.emit(BY.CORNER_CELL_DOUBLE_CLICK,e);break;case sK.MERGED_CELL:t.emit(BY.MERGED_CELLS_DOUBLE_CLICK,e)}}},this.onCanvasMouseout=e=>{if(!this.isAutoResetSheetStyle(e)||this.isMouseOnTheCanvasContainer(e))return;const{interaction:t}=this.spreadsheet;t.isSelectedState()||t.intercepts.size>0||t.reset()},this.onCanvasContextMenu=e=>{const t=this.spreadsheet;if(this.isResizeArea(e))return void t.emit(BY.LAYOUT_RESIZE_MOUSE_UP,e);t.emit(BY.GLOBAL_CONTEXT_MENU,e);switch(this.spreadsheet.getCellType(e.target)){case sK.DATA_CELL:this.spreadsheet.emit(BY.DATA_CELL_CONTEXT_MENU,e);break;case sK.ROW_CELL:this.spreadsheet.emit(BY.ROW_CELL_CONTEXT_MENU,e);break;case sK.COL_CELL:this.spreadsheet.emit(BY.COL_CELL_CONTEXT_MENU,e);break;case sK.CORNER_CELL:this.spreadsheet.emit(BY.CORNER_CELL_CONTEXT_MENU,e);break;case sK.MERGED_CELL:this.spreadsheet.emit(BY.MERGED_CELLS_CONTEXT_MENU,e)}},this.spreadsheet=e,this.bindEvents()}get canvasContainer(){return this.spreadsheet.container}isAutoResetSheetStyle(e){var t;const{interaction:n}=this.spreadsheet.options;return vY.isFunction(null==n?void 0:n.autoResetSheetStyle)?null===(t=null==n?void 0:n.autoResetSheetStyle)||void 0===t?void 0:t.call(n,e,this.spreadsheet):null==n?void 0:n.autoResetSheetStyle}bindEvents(){this.clearAllEvents(),this.addCanvasEvent(zY.MOUSE_DOWN,this.onCanvasMousedown),this.addCanvasEvent(zY.TOUCH_START,e=>{this.target=e.target});const e=sJ()?zY.TOUCH_END:zY.POINTER_UP;this.addCanvasEvent(zY.POINTER_MOVE,this.onCanvasMousemove),this.addCanvasEvent(zY.MOUSE_OUT,this.onCanvasMouseout),this.addCanvasEvent(e,this.onCanvasMouseup),this.addCanvasEvent(zY.CLICK,this.onCanvasClick),this.addCanvasEvent(zY.RIGHT_DOWN,this.onCanvasContextMenu),this.addS2Event(BY.GLOBAL_ACTION_ICON_CLICK,()=>{this.spreadsheet.interaction.addIntercepts([bK.HOVER]),this.spreadsheet.interaction.clearState()}),this.addDomEventListener(window,zY.CLICK,e=>{this.resetSheetStyle(e),this.isCanvasEffect=this.isMouseOnTheCanvasContainer(e)}),this.addDomEventListener(window,zY.KEY_DOWN,e=>{this.onKeyboardCopy(e),this.onKeyboardEsc(e),this.spreadsheet.emit(BY.GLOBAL_KEYBOARD_DOWN,e)}),this.addDomEventListener(window,zY.KEY_UP,e=>{this.spreadsheet.emit(BY.GLOBAL_KEYBOARD_UP,e)}),this.addDomEventListener(window,zY.POINTER_UP,e=>{this.spreadsheet.emit(BY.GLOBAL_MOUSE_UP,e)}),this.addDomEventListener(window,zY.POINTER_MOVE,e=>{this.spreadsheet.emit(BY.GLOBAL_MOUSE_MOVE,e)})}onKeyboardCopy(e){const{copy:t}=this.spreadsheet.options.interaction;if(this.isCanvasEffect&&(null==t?void 0:t.enable)&&A2(e.key,gK.COPY)&&(e.metaKey||e.ctrlKey)){const e=Z2(this.spreadsheet);vY.isNil(e)||this.spreadsheet.emit(BY.GLOBAL_COPIED,e)}}onKeyboardEsc(e){this.isCanvasEffect&&A2(e.key,gK.ESC)&&this.resetSheetStyle(e)}resetSheetStyle(e){var t,n;if(!this.isAutoResetSheetStyle(e)||!this.spreadsheet)return;const{interaction:r}=this.spreadsheet;(null===(t=null==r?void 0:r.hasIntercepts)||void 0===t?void 0:t.call(r,[bK.DATA_CELL_BRUSH_SELECTION,bK.COL_CELL_BRUSH_SELECTION,bK.ROW_CELL_BRUSH_SELECTION]))?null===(n=null==r?void 0:r.removeIntercepts)||void 0===n||n.call(r,[bK.DATA_CELL_BRUSH_SELECTION,bK.ROW_CELL_BRUSH_SELECTION,bK.COL_CELL_BRUSH_SELECTION]):this.isMouseOnTheTooltip(e)||this.isMouseOnTheCanvasContainer(e)||(r.reset(),this.spreadsheet.emit(BY.GLOBAL_RESET,e),this.spreadsheet.emit(BY.GLOBAL_SELECTED,r.getActiveCells(),{event:e,targetCell:null,interactionName:oK.GLOBAL_RESET}))}isMouseEvent(e){return vY.hasIn(e,"clientX")&&vY.hasIn(e,"clientY")}isMatchElement(e){const t=this.spreadsheet.getCanvasElement(),{target:n}=e;return n===t||n instanceof jX||n instanceof vU}isMatchPoint(e){const t=this.spreadsheet.getCanvasElement(),{width:n,height:r}=this.getContainerRect(),{x:o,y:i}=t.getBoundingClientRect()||{},{clientX:a,clientY:l}=e;return a<=o+n&&a>=o&&l<=i+r&&l>=i}isMouseOnTheCanvasContainer(e){if(this.isMouseEvent(e)){return!!this.spreadsheet.getCanvasElement()&&(this.spreadsheet.getCanvasConfig().supportsCSSTransform?this.isMatchElement(e):this.isMatchElement(e)&&this.isMatchPoint(e))}return!1}getContainerRect(){var e;const{facet:t,options:n}=this.spreadsheet,r=(null==t?void 0:t.hRowScrollBar)||(null==t?void 0:t.hScrollBar),{maxX:o,maxY:i}=(null==t?void 0:t.panelBBox)||{},{width:a=0,height:l=0}=n,s=(null===(e=null==r?void 0:r.theme)||void 0===e?void 0:e.size)||0;return{width:Math.min(a,o),height:Math.min(l,i+s)}}isMouseOnTheTooltip(e){var t,n,r,o;const{tooltip:i}=this.spreadsheet;if(!(null==i?void 0:i.visible))return!1;const{x:a,y:l,width:s,height:c}=(null===(r=null===(n=null===(t=this.spreadsheet.tooltip)||void 0===t?void 0:t.container)||void 0===n?void 0:n.getBoundingClientRect)||void 0===r?void 0:r.call(n))||{};return e.target instanceof Node?((e,t)=>{let n=!1,r=t;for(;r&&r!==document.body;){if(e===r){n=!0;break}r=r.parentElement}return n})(null===(o=this.spreadsheet.tooltip)||void 0===o?void 0:o.container,e.target):!!this.isMouseEvent(e)&&(e.clientX>=a&&e.clientX<=a+s&&e.clientY>=l&&e.clientY<=l+c)}isResizeArea(e){const t=n5(e.target);return null==t?void 0:t.isResizeArea}activeResizeArea(e){var t,n,r;const o=vY.get(e.target,"attrs.appendInfo");if(null==o?void 0:o.isResizeMask)return;this.resetResizeArea();const i=e.target;this.spreadsheet.store.set("activeResizeArea",i),i.attr(uK.backgroundOpacity,null===(r=null===(n=null===(t=this.spreadsheet.theme.resizeArea)||void 0===t?void 0:t.interactionState)||void 0===n?void 0:n.hover)||void 0===r?void 0:r.backgroundOpacity)}resetResizeArea(){var e;const t=this.spreadsheet.store.get("activeResizeArea");vY.isEmpty(t)||t.attr(uK.backgroundOpacity,null===(e=this.spreadsheet.theme.resizeArea)||void 0===e?void 0:e.backgroundOpacity),this.spreadsheet.store.set("activeResizeArea",t)}hasBrushSelectionIntercepts(){return this.spreadsheet.interaction.hasIntercepts([bK.HOVER,bK.DATA_CELL_BRUSH_SELECTION,bK.ROW_CELL_BRUSH_SELECTION,bK.COL_CELL_BRUSH_SELECTION])}onCanvasSingleClick(e){const t=this.spreadsheet.getCell(e.target);if(this.target===e.target&&t){if(this.isGuiIconShape(e.target)&&!this.isConditionIconShape(e.target,t))return;switch(this.spreadsheet.emit(BY.GLOBAL_CLICK,e),t.cellType){case sK.DATA_CELL:this.spreadsheet.emit(BY.DATA_CELL_CLICK,e);break;case sK.ROW_CELL:this.spreadsheet.emit(BY.ROW_CELL_CLICK,e);break;case sK.COL_CELL:this.spreadsheet.emit(BY.COL_CELL_CLICK,e);break;case sK.CORNER_CELL:this.spreadsheet.emit(BY.CORNER_CELL_CLICK,e);break;case sK.MERGED_CELL:this.spreadsheet.emit(BY.MERGED_CELLS_CLICK,e)}}}clear(){this.unbindEvents()}unbindEvents(){this.clearAllEvents()}addCanvasEvent(e,t){var n;null===(n=this.canvasContainer)||void 0===n||n.on(e,t),this.canvasEventHandlers.push({type:e,handler:t})}addS2Event(e,t){this.spreadsheet.on(e,t),this.s2EventHandlers.push({type:e,handler:t})}addDomEventListener(e,t,n){if(e.addEventListener){const{eventListenerOptions:r}=this.spreadsheet.options.interaction;e.addEventListener(t,n,r),this.domEventListeners.push({target:e,type:t,handler:n,options:r})}}clearAllEvents(){vY.each(this.canvasEventHandlers,({type:e,handler:t})=>{var n;null===(n=this.canvasContainer)||void 0===n||n.removeEventListener(e,t)}),vY.each(this.s2EventHandlers,({type:e,handler:t})=>{this.spreadsheet.off(e,t)}),vY.each(this.domEventListeners,e=>{e.target.removeEventListener(e.type,e.handler,e.options)}),this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[]}getViewportPoint(e){return!this.spreadsheet.getCanvasConfig().supportsCSSTransform||vY.isNil(e.offsetX)||vY.isNil(e.offsetY)?this.spreadsheet.container.client2Viewport({x:e.clientX,y:e.clientY}):{x:e.offsetX,y:e.offsetY}}}class w6 extends i6{constructor(){super(...arguments),this.isRangeSelection=!1,this.handleColClick=e=>{e.stopPropagation();const{interaction:t,facet:n}=this.spreadsheet,r=this.spreadsheet.getCell(e.target),o=null==r?void 0:r.getMeta();if(!vY.isNil(null==o?void 0:o.x)){t.addIntercepts([bK.HOVER]);let i=[h5(r)];const a=this.spreadsheet.store.get("lastClickedCell");if(this.isRangeSelection&&a&&a.cellType===r.cellType&&a.getMeta().level===o.level){const{rowsHierarchy:l,colsHierarchy:s}=n.getLayoutResult(),[c,u]=[l.maxLevel,s.maxLevel],{start:d,end:f}=p5(a.getMeta(),o);r instanceof f2?i=this.handleSeriesNumberRowSelected(d.rowIndex,f.rowIndex,r):(null==r?void 0:r.cellType)===sK.ROW_CELL&&o.level===c?i=this.handleRowSelected(d.rowIndex,f.rowIndex,r):(null==r?void 0:r.cellType)===sK.COL_CELL&&o.level===u&&(i=this.handleColSelected(d.colIndex,f.colIndex,r)),t.changeState({cells:i,stateName:aK.SELECTED});const h=m5(i);t.updateCells(n.getHeaderCells(h)),t.emitSelectEvent({event:e,targetCell:r,interactionName:oK.RANGE_SELECTION})}else vY.isEmpty(t.getCells())&&t.reset(),this.spreadsheet.store.set("lastClickedCell",r)}}}bindEvents(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindColCellClick(),this.bindKeyboardUp(),this.bindMouseMove()}reset(){this.isRangeSelection=!1,this.spreadsheet.interaction.removeIntercepts([bK.CLICK])}bindKeyboardDown(){this.spreadsheet.on(BY.GLOBAL_KEYBOARD_DOWN,e=>{e.key===gK.SHIFT&&(this.isRangeSelection=!0,this.spreadsheet.interaction.addIntercepts([bK.CLICK]))})}bindKeyboardUp(){this.spreadsheet.on(BY.GLOBAL_KEYBOARD_UP,e=>{e.key===gK.SHIFT&&this.reset()})}bindMouseMove(){this.spreadsheet.on(BY.GLOBAL_MOUSE_MOVE,e=>{this.isRangeSelection&&!e.shiftKey&&this.reset()})}bindColCellClick(){this.spreadsheet.on(BY.COL_CELL_CLICK,e=>{this.handleColClick(e)})}bindDataCellClick(){this.spreadsheet.on(BY.DATA_CELL_CLICK,e=>{e.stopPropagation();const t=this.spreadsheet.getCell(e.target),n=t.getMeta(),{interaction:r}=this.spreadsheet;if(!n)return;const o=this.spreadsheet.store.get("lastClickedCell");if(!(this.isRangeSelection&&(null==o?void 0:o.cellType)===t.cellType))return void this.spreadsheet.store.set("lastClickedCell",t);const{start:i,end:a}=p5(o.getMeta(),t.getMeta()),l=vY.range(i.colIndex,a.colIndex+1).flatMap(e=>{const n=this.spreadsheet.facet.getColLeafNodes()[e].id;return vY.range(i.rowIndex,a.rowIndex+1).map(r=>({id:`${this.spreadsheet.facet.getSeriesNumberWidth()||this.spreadsheet.isTableMode()?String(r):this.spreadsheet.facet.getRowLeafNodes()[r].id}-${n}`,colIndex:e,rowIndex:r,type:t.cellType}))});r.addIntercepts([bK.CLICK,bK.HOVER]),r.changeState({cells:l,stateName:aK.SELECTED}),this.spreadsheet.showTooltipWithInfo(e,N5(this.spreadsheet)),r.emitSelectEvent({targetCell:t,event:e,interactionName:oK.RANGE_SELECTION})})}handleSeriesNumberRowSelected(e,t,n){const r=this.spreadsheet.facet.getColLeafNodes()[0].id;return vY.range(e,t+1).map(e=>({id:`${String(e)}-${r}`,colIndex:0,rowIndex:e,type:n.cellType}))}handleRowSelected(e,t,n){return this.spreadsheet.facet.getRowNodes().filter(({rowIndex:n})=>vY.inRange(n,e,t+1)).map(e=>({id:e.id,colIndex:e.colIndex,rowIndex:e.rowIndex,type:n.cellType}))}handleColSelected(e,t,n){return this.spreadsheet.facet.getColLeafNodes().filter(({colIndex:n})=>vY.inRange(n,e,t+1)).map(e=>({id:e.id,colIndex:e.colIndex,rowIndex:e.rowIndex,type:n.cellType}))}}class C6 extends i6{constructor(){super(...arguments),this.resizeStartPosition={}}bindEvents(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()}initResizeGroup(){if(this.resizeReferenceGroup)return;this.resizeReferenceGroup=this.spreadsheet.facet.foregroundGroup.appendChild(new FX);const{width:e,height:t}=this.spreadsheet.options,{guideLineColor:n,guideLineDash:r,size:o}=this.getResizeAreaTheme(),i={d:"",lineDash:r,stroke:n,lineWidth:o};this.resizeReferenceGroup.appendChild(new YX({id:"RESIZE_START_GUIDE_LINE",style:i})),this.resizeReferenceGroup.appendChild(new YX({id:"RESIZE_END_GUIDE_LINE",style:i})),this.resizeReferenceGroup.appendChild(new eQ({id:"RESIZE_MASK",style:{x:0,y:0,width:e,height:t,fill:"transparent"}},{isResizeArea:!0,isResizeMask:!0}))}getResizeAreaTheme(){return this.spreadsheet.theme.resizeArea}setResizeTarget(e){this.resizeTarget=e}getGuideLineWidthAndHeight(){const{width:e,height:t}=this.spreadsheet.options,{maxY:n,maxX:r}=this.spreadsheet.facet.panelBBox;return{width:Math.min(r,e),height:Math.min(n,t)}}getResizeShapes(){var e;return(null===(e=this.resizeReferenceGroup)||void 0===e?void 0:e.children)||[]}setResizeMaskCursor(e){const[,,t]=this.getResizeShapes();null==t||t.attr("cursor",e)}updateResizeGuideLinePosition(e,t){const n=this.getResizeShapes();if(vY.isEmpty(n))return;const[r,o]=n,{type:i,offsetX:a,offsetY:l,width:s,height:c,size:u}=t,{width:d,height:f}=this.getGuideLineWidthAndHeight();this.cursorType=`${i}-resize`,this.setResizeMaskCursor(this.cursorType);const h=u/2;if(i===LK.Horizontal)return r.attr("d",[["M",a+h,l],["L",a+h,f]]),o.attr("d",[["M",a+s-h,l],["L",a+s-h,f]]),this.resizeStartPosition.offsetX=e.offsetX,void(this.resizeStartPosition.clientX=e.clientX);r.attr("d",[["M",a,l+h],["L",d,l+h]]),o.attr("d",[["M",a,l+c-h],["L",d,l+c-h]]),this.resizeStartPosition.offsetY=e.offsetY,this.resizeStartPosition.clientY=e.clientY}bindMouseDown(){this.spreadsheet.on(BY.LAYOUT_RESIZE_MOUSE_DOWN,e=>{var t;null===(t=null==e?void 0:e.preventDefault)||void 0===t||t.call(e);const n=e.target,r=this.getCellAppendInfo(e.target);this.spreadsheet.store.set("resized",!1),(null==r?void 0:r.isResizeArea)&&(this.spreadsheet.hideTooltip(),this.spreadsheet.interaction.addIntercepts([bK.RESIZE]),this.setResizeTarget(n),this.showResizeGroup(),this.updateResizeGuideLinePosition(e,r))})}bindMouseMove(){this.spreadsheet.on(BY.LAYOUT_RESIZE_MOUSE_MOVE,vY.throttle(this.resizeMouseMove.bind(this),33))}getResizeGuideLinePosition(){var e;const[t,n]=(null===(e=this.resizeReferenceGroup)||void 0===e?void 0:e.children)||[],r=(null==t?void 0:t.attr("d"))||[],o=(null==n?void 0:n.attr("d"))||[],[,i=0,a=0]=r[0]||[],[,l=0,s=0]=o[0]||[];return{start:{x:+i,y:+a},end:{x:+l,y:+s}}}getDisAllowResizeInfo(){var e;const t=this.getResizeInfo(),{resize:n}=this.spreadsheet.options.interaction,{width:r,height:o,resizedWidth:i=0,resizedHeight:a=0}=t,l=null===(e=null==n?void 0:n.disable)||void 0===e?void 0:e.call(n,t);return{displayWidth:l?r:i,displayHeight:l?o:a,isDisabled:l}}getResizeCellField(e){var t,n,r,o,i;const a=e.type===LK.Vertical,l=a?!this.isEffectRowOf(PK.ALL):!this.isEffectColOf(PK.ALL);return this.spreadsheet.isTableMode()?a?(null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.rowId)||String(null===(n=null==e?void 0:e.meta)||void 0===n?void 0:n.rowIndex):null===(r=null==e?void 0:e.meta)||void 0===r?void 0:r.field:l?null===(o=null==e?void 0:e.meta)||void 0===o?void 0:o.id:null===(i=null==e?void 0:e.meta)||void 0===i?void 0:i.field}isEffectRowOf(e){var t,n;return(null===(n=null===(t=this.spreadsheet.options.interaction)||void 0===t?void 0:t.resize)||void 0===n?void 0:n.rowResizeType)===e}isEffectColOf(e){var t,n;return(null===(n=null===(t=this.spreadsheet.options.interaction)||void 0===t?void 0:t.resize)||void 0===n?void 0:n.colResizeType)===e}getCellStyleByField(e){const{interaction:t}=this.spreadsheet,n=this.getResizeInfo(),r=n.type===LK.Vertical?t.getActiveRowCells():t.getActiveColCells(),o=t.isSelectedState()&&r.length>1;return(this.isEffectRowOf(PK.SELECTED)||this.isEffectColOf(PK.SELECTED))&&o?r.reduce((t,r)=>(mQ.getAllLeaveNodes(r.getMeta()).forEach(r=>{const o=Object.assign(Object.assign({},n),{meta:r});t[this.getResizeCellField(o)]=e}),t),{}):{[this.getResizeCellField(n)]:e}}getResizeWidthDetail(){const e=this.getResizeInfo(),{displayWidth:t}=this.getDisAllowResizeInfo();switch(e.effect){case _K.Field:return{eventType:BY.LAYOUT_RESIZE_ROW_WIDTH,style:{rowCell:{widthByField:{[e.meta.field]:t}}}};case _K.Tree:return{eventType:BY.LAYOUT_RESIZE_TREE_WIDTH,style:{rowCell:{treeWidth:t}}};case _K.Cell:return{eventType:BY.LAYOUT_RESIZE_COL_WIDTH,style:{colCell:{width:this.isEffectColOf(PK.ALL)?t:void 0,widthByField:this.getCellStyleByField(t)}}};case _K.Series:return{eventType:BY.LAYOUT_RESIZE_SERIES_WIDTH,seriesNumberWidth:t};default:return null}}getResizeHeightDetail(){const{style:e}=this.spreadsheet.options,t=this.getResizeInfo(),{displayHeight:n}=this.getDisAllowResizeInfo();switch(t.effect){case _K.Field:return{eventType:BY.LAYOUT_RESIZE_COL_HEIGHT,style:{colCell:this.getResizedCellStyleByField(this.getColCellHeightByField(t,n),null==e?void 0:e.colCell,n)}};case _K.Cell:return{eventType:BY.LAYOUT_RESIZE_ROW_HEIGHT,style:{rowCell:Object.assign(Object.assign({},this.getResizedCellStyleByField(this.getCellStyleByField(n),null==e?void 0:e.rowCell,n)),{height:this.isEffectRowOf(PK.ALL)?n:void 0})}};default:return null}}getResizedCellStyleByField(e,t,n){if(!((null==t?void 0:t.maxLines)>1&&(null==t?void 0:t.wordWrap)))return{heightByField:e};const{cell:r}=this.getResizeInfo(),o=r.getMaxLinesByCustomHeight({targetCell:r,displayHeight:n,isCustomHeight:!0});return{heightByField:e,maxLinesByField:Object.keys(e||{}).reduce((e,t)=>(e[t]=o,e),{})}}getColCellHeightByField(e,t){return this.spreadsheet.isCustomColumnFields()||this.spreadsheet.isTableMode()?this.spreadsheet.facet.getColNodes().filter(t=>{var n,r;return t.level===(null===(n=e.meta)||void 0===n?void 0:n.level)&&t.height===(null===(r=e.meta)||void 0===r?void 0:r.height)}).reduce((e,n)=>(e[n.field]=t,e),{}):{[e.meta.field]:t}}getResizeDetail(){return this.getResizeInfo().type===LK.Horizontal?this.getResizeWidthDetail():this.getResizeHeightDetail()}showResizeGroup(){var e;this.initResizeGroup(),null===(e=this.resizeReferenceGroup)||void 0===e||e.setAttribute("visibility","visible")}hideResizeGroup(){var e;null===(e=this.resizeReferenceGroup)||void 0===e||e.setAttribute("visibility","hidden")}bindMouseUp(){this.spreadsheet.on(BY.GLOBAL_MOUSE_UP,()=>{var e;this.cursorType="default",this.setResizeMaskCursor(this.cursorType),this.resizeReferenceGroup&&!vY.isEmpty(null===(e=this.resizeReferenceGroup)||void 0===e?void 0:e.children)&&(this.hideResizeGroup(),this.renderResizedResult())})}resizeMouseMove(e){var t,n;if("visible"!==(null===(t=this.resizeReferenceGroup)||void 0===t?void 0:t.parsedStyle.visibility))return;const r=this.getResizeInfo(),o=(null===(n=this.resizeReferenceGroup)||void 0===n?void 0:n.children)||[];if(vY.isEmpty(o))return;const[,i]=o,[a,l]=vY.clone(i.attr("d"));r.type===LK.Horizontal?this.updateHorizontalResizingEndGuideLinePosition(e.offsetX,r,{start:a,end:l}):this.updateVerticalResizingEndGuideLinePosition(e.offsetY,r,{start:a,end:l}),this.updateResizeGuideLineTheme(i),i.attr("d",[a,l])}updateResizeGuideLineTheme(e){const{guideLineColor:t,guideLineDisableColor:n}=this.getResizeAreaTheme(),{isDisabled:r}=this.getDisAllowResizeInfo();e.attr("stroke",r?n:t),this.setResizeMaskCursor(r?"no-drop":this.cursorType)}updateHorizontalResizingEndGuideLinePosition(e,t,n){var r,o;const{minCellWidth:i=NK}=(null===(r=this.spreadsheet.options.interaction)||void 0===r?void 0:r.resize)||{};let a=e-this.resizeStartPosition.offsetX;t.width+a<i&&(a=-(t.width-i));const l=t.offsetX+t.width+a,s=t.size/2;n.start[1]=l-s,n.end[1]=l-s,null===(o=this.resizeTarget)||void 0===o||o.attr({x:l-t.size})}updateVerticalResizingEndGuideLinePosition(e,t,n){var r,o;const{minCellHeight:i=TK}=(null===(r=this.spreadsheet.options.interaction)||void 0===r?void 0:r.resize)||{};let a=e-this.resizeStartPosition.offsetY;t.height+a<i&&(a=-(t.height-i));const l=t.offsetY+t.height+a,s=t.size/2;n.start[2]=l-s,n.end[2]=l-s,null===(o=this.resizeTarget)||void 0===o||o.attr({y:l-t.size})}renderResizedResult(){return Hz(this,void 0,void 0,function*(){const e=this.getResizeInfo(),{style:t,seriesNumberWidth:n,eventType:r}=this.getResizeDetail()||{},o={info:e,style:t};this.spreadsheet.emit(BY.LAYOUT_RESIZE,o),this.spreadsheet.emit(r,o),t&&this.spreadsheet.setOptions({style:t}),n&&this.spreadsheet.setTheme({rowCell:{seriesNumberWidth:n}}),this.spreadsheet.store.set("resized",!0),yield this.render()})}getResizeInfo(){const e=this.getCellAppendInfo(this.resizeTarget),{start:t,end:n}=this.getResizeGuideLinePosition(),r=kJ(n.x-t.x+(e.type===LK.Horizontal?e.size:0)),o=kJ(n.y-t.y+(e.type===LK.Vertical?e.size:0));return Object.assign(Object.assign({},e),{resizedWidth:r,resizedHeight:o})}render(){return Hz(this,void 0,void 0,function*(){this.resizeStartPosition={},this.resizeTarget=null,this.resizeReferenceGroup=null,yield this.spreadsheet.render(!1)})}}const S6=[gK.ARROW_LEFT,gK.ARROW_RIGHT,gK.ARROW_UP,gK.ARROW_DOWN];class E6 extends i6{constructor(e){super(e)}isCanvasEffect(){return this.spreadsheet.interaction.eventController.isCanvasEffect}bindEvents(){this.spreadsheet.on(BY.GLOBAL_KEYBOARD_DOWN,e=>{if(!this.isCanvasEffect())return;const t=e.shiftKey,n=e.metaKey;let r=!1,o=!1,i=!1;S6.includes(e.key)&&(n&&t?(r=!1,o=!0,i=!1):n?(r=!0,o=!0,i=!0):t?(r=!1,o=!1,i=!1):(r=!0,o=!1,i=!0),this.handleMove({event:e,changeStartCell:r,isJumpMode:o,isSingleSelection:i}))}),this.spreadsheet.on(BY.DATA_CELL_CLICK,e=>{const t=this.spreadsheet.getCell(e.target),n=null==t?void 0:t.getMeta();n&&(this.startCell=this.getCellMetaByViewMeta(n),this.endCell=this.startCell)})}getCellMetaByViewMeta(e){return{rowIndex:e.rowIndex,colIndex:e.colIndex,id:e.id,type:sK.DATA_CELL}}handleMove({event:e,changeStartCell:t,isJumpMode:n,isSingleSelection:r}){const{spreadsheet:o,startCell:i,endCell:a}=this,l=t?i:a,s=this.getMoveInfo(e.key,l,n);if(!s)return;const[c,u]=[s.row,s.col];this.scrollToActiveCell(o,c,u);const d=this.generateCellMeta(o,c,u),f=r?[d]:this.getRangeCells(o,i,d);t&&(this.startCell=d),this.endCell=d,o.interaction.changeState({stateName:aK.SELECTED,cells:f}),o.interaction.emitSelectEvent({event:e,interactionName:oK.SELECTED_CELL_MOVE}),this.spreadsheet.emit(BY.DATA_CELL_SELECT_MOVE,f)}generateCellMeta(e,t,n){const{isTableMode:r,facet:o}=e,i=o.getRowLeafNodes(),a=o.getColLeafNodes(),l=r()?String(t):i[t].id,s=a[n].id;return{rowIndex:t,colIndex:n,id:UJ(l,s),type:sK.DATA_CELL}}getRangeCells(e,t,n){const{start:{rowIndex:r,colIndex:o},end:{rowIndex:i,colIndex:a}}=p5(t,n),l=[];for(let s=r;s<=i;s++)for(let t=o;t<=a;t++)l.push(this.generateCellMeta(e,s,t));return l}getMoveInfo(e,t,n){const{spreadsheet:r}=this,{rowCount:o,trailingRowCount:i,colCount:a,trailingColCount:l}=r.facet.getFrozenOptions(),{start:s,end:c}=r.facet.getCellRange(),u=r.facet.getColLeafNodes(),[d,f]=[0+a,u.length-l-1],[h,p]=[s+o,c-i];if(t)switch(e){case gK.ARROW_RIGHT:if(t.colIndex+1>f)return;return{row:t.rowIndex,col:n?f:t.colIndex+1};case gK.ARROW_LEFT:if(t.colIndex-1<d)return;return{row:t.rowIndex,col:n?d:t.colIndex-1};case gK.ARROW_UP:if(t.rowIndex-1<h)return;return{row:n?h:t.rowIndex-1,col:t.colIndex};case gK.ARROW_DOWN:if(t.rowIndex+1>p)return;return{row:n?p:t.rowIndex+1,col:t.colIndex}}}calculateOffset(e,t,n){const r=e.facet,{rowCount:o}=r.getFrozenOptions(),i=r.getColLeafNodes(),{viewportHeight:a,viewportWidth:l}=r.panelBBox,s=r.frozenGroupAreas,c=s[JY.Col].width,u=s[JY.TrailingCol].width,d=s[JY.TrailingRow].height,f=r.panelScrollGroupIndexes,h=i.find(e=>e.colIndex===n);let p=null,g=null;if(n<=f[0]?p=(null==h?void 0:h.x)-c:n>=f[1]&&(p=(null==h?void 0:h.x)+(null==h?void 0:h.width)-l+u),t<=f[2])g=r.viewCellHeights.getCellOffsetY(t-o);else if(t>=f[3]){g=r.viewCellHeights.getCellOffsetY(t+1)-a+d}return{offsetX:p,offsetY:g}}scrollToActiveCell(e,t,n){const{offsetX:r,offsetY:o}=this.calculateOffset(e,t,n),{facet:i}=e,{scrollX:a,scrollY:l}=e.facet.getScrollOffset();i.scrollWithAnimation({offsetX:{value:null!=r?r:a},offsetY:{value:null!=o?o:l}})}}let O6=class{constructor(e){this.interactions=new Map,this.intercepts=new Set,this.hoverTimer=null,this.drawRafId=null,this.defaultState={cells:[],force:!1},this.onTriggerInteractionsResetEffect=()=>{this.interactions.forEach(e=>{e.reset()})},this.shouldForbidHeaderCellSelected=e=>vY.unionBy(e,"type").length>1,this.highlightNodes=(e=[],t=aK.HOVER)=>{e.forEach(e=>{var n;null===(n=null==e?void 0:e.belongsCell)||void 0===n||n.updateByState(t,e.belongsCell)})},this.mergeCells=(e,t)=>{l5(this.spreadsheet,e,t)},this.unmergeCell=e=>{s5(this.spreadsheet,e)},this.spreadsheet=e,this.registerEventController(),this.registerInteractions(),window.addEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)}destroy(){this.interactions.clear(),this.intercepts.clear(),this.eventController.clear(),this.clearHoverTimer(),this.resetState(),window.removeEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)}reset(){this.clearState(),this.clearHoverTimer(),this.intercepts.clear(),this.spreadsheet.hideTooltip()}setState(e){((e,t)=>{const n=null==t?void 0:t.stateName;e.interaction.isEqualStateName(n)||(v5(e),e.hideTooltip(),e.store.set(fK,t))})(this.spreadsheet,e)}getState(){return this.spreadsheet.store.get(fK)||this.defaultState}setInteractedCells(e){const t=this.getInteractedCells().concat([e]),n=this.getState();n.interactedCells=t,this.setState(n)}getInteractedCells(){const e=this.getState();return(null==e?void 0:e.interactedCells)||[]}resetState(){this.spreadsheet.store.set(fK,this.defaultState)}getCurrentStateName(){return this.getState().stateName}isEqualStateName(e){return this.getCurrentStateName()===e}isStateOf(e){const t=this.getState();return(null==t?void 0:t.stateName)===e}isSelectedState(){return this.isBrushSelectedState()||[aK.SELECTED,aK.ALL_SELECTED].some(e=>this.isStateOf(e))}isBrushSelectedState(){return[aK.ROW_CELL_BRUSH_SELECTED,aK.COL_CELL_BRUSH_SELECTED,aK.DATA_CELL_BRUSH_SELECTED].some(e=>this.isStateOf(e))}isAllSelectedState(){return this.isStateOf(aK.ALL_SELECTED)}isHoverFocusState(){return this.isStateOf(aK.HOVER_FOCUS)}isHoverState(){return this.isStateOf(aK.HOVER)}isActiveCell(e){return!!this.getCells().find(t=>e.getMeta().id===t.id&&e.cellType===t.type)}isSelectedCell(e){return this.isSelectedState()&&this.isActiveCell(e)}getCells(e){const t=this.getState(),n=(null==t?void 0:t.cells)||[];return vY.isNil(e)?n:n.filter(t=>e.includes(t.type))}getActiveCells(){var e;const t=this.getCells().map(e=>e.id),n=null===(e=this.spreadsheet.facet)||void 0===e?void 0:e.getCells();return vY.map(t,e=>vY.find(n,t=>{var n;return(null===(n=null==t?void 0:t.getMeta())||void 0===n?void 0:n.id)===e})).filter(Boolean)}getActiveDataCells(){return this.getActiveCells().filter(e=>e.cellType===sK.DATA_CELL)}getActiveRowCells(){return this.getActiveCells().filter(e=>e.cellType===sK.ROW_CELL)}getActiveColCells(){return this.getActiveCells().filter(e=>e.cellType===sK.COL_CELL)}clearStyleIndependent(){(this.isSelectedState()||this.isHoverState()||this.isAllSelectedState())&&this.spreadsheet.facet.getDataCells().forEach(e=>{e.hideInteractionShape()})}getUnSelectedDataCells(){return this.spreadsheet.facet.getDataCells().filter(e=>!this.isActiveCell(e))}scrollToCellByMeta(e,t={animate:!0}){if(!e)return;const{skipScrollEvent:n,animate:r}=t,{facet:o}=this.spreadsheet;(o.hRowScrollBar||o.hScrollBar||o.vScrollBar)&&this.scrollTo({skipScrollEvent:n,rowHeaderOffsetX:{value:e.x,animate:r},offsetX:{value:e.x-vY.get(o,"frozenGroupAreas.frozenCol.width",0),animate:r},offsetY:{value:e.y-vY.get(o,"frozenGroupAreas.frozenRow.height",0),animate:r}})}scrollTo(e){const{facet:t}=this.spreadsheet,{scrollX:n,scrollY:r,rowHeaderScrollX:o}=t.getScrollOffset(),i={skipScrollEvent:!1,offsetX:{value:n,animate:!1},offsetY:{value:r,animate:!1},rowHeaderOffsetX:{value:o,animate:!1}};t.updateScrollOffset(y5(i,e))}scrollToNode(e,t){this.scrollToCellByMeta(e,t)}scrollToCell(e,t){this.scrollToCellByMeta(e.getMeta(),t)}scrollToCellById(e,t){if(!e)return;const n=[...this.spreadsheet.facet.getHeaderNodes(),...this.spreadsheet.facet.getDataCells().map(e=>e.getMeta())].find(t=>t.id===e);n&&this.scrollToCellByMeta(n,t)}scrollToTop(e){this.scrollTo({skipScrollEvent:null==e?void 0:e.skipScrollEvent,offsetY:{value:0,animate:null==e?void 0:e.animate}})}scrollToRight(e){this.scrollTo({skipScrollEvent:null==e?void 0:e.skipScrollEvent,offsetX:{value:this.spreadsheet.facet.panelBBox.maxX,animate:null==e?void 0:e.animate}})}scrollToBottom(e){this.scrollTo({skipScrollEvent:null==e?void 0:e.skipScrollEvent,offsetY:{value:this.spreadsheet.facet.panelBBox.maxY,animate:null==e?void 0:e.animate}})}scrollToLeft(e){this.scrollTo({skipScrollEvent:null==e?void 0:e.skipScrollEvent,offsetX:{value:0,animate:null==e?void 0:e.animate}})}selectAll(){const e=this.spreadsheet.facet.getCells().map(h5);this.changeState({cells:e,stateName:aK.ALL_SELECTED}),this.addIntercepts([bK.HOVER]),this.updateCells(this.spreadsheet.facet.getCells())}highlightCell(e,t){this.changeCell(Object.assign(Object.assign({},t),{cell:e,stateName:aK.HOVER}))}selectCell(e,t){this.changeCell(Object.assign(Object.assign({},t),{cell:e,stateName:aK.SELECTED}))}changeCell(e={}){var t,n;const{event:r,cell:o,stateName:i=aK.SELECTED,interactionName:a,scrollIntoView:l=!0,animate:s=!0,skipScrollEvent:c=!0}=e;if(vY.isEmpty(o))return;const u=null===(t=null==o?void 0:o.getMeta)||void 0===t?void 0:t.call(o);if(!u||vY.isNil(null==u?void 0:u.x))return;this.addIntercepts([bK.HOVER]);const d=this.spreadsheet.isHierarchyTreeType(),f=(null==o?void 0:o.cellType)===sK.COL_CELL,h=this.getState(),p=this.isSelectedCell(o),g=(null==e?void 0:e.isMultiSelection)&&this.isSelectedState();let m=p?[]:this.spreadsheet.facet.getCellChildrenNodes(o),v=p?[]:[h5(o)];if(g&&(v=vY.concat((null==h?void 0:h.cells)||[],v),m=vY.concat((null==h?void 0:h.nodes)||[],m),p&&(v=v.filter(({id:e})=>e!==u.id),m=m.filter(e=>!(null==e?void 0:e.id.includes(u.id))))),vY.isEmpty(v))return this.reset(),void this.emitSelectEvent({event:r,targetCell:o,interactionName:a});if(this.shouldForbidHeaderCellSelected(v))return;const y=vY.isEmpty(m)?[o.getMeta()]:m;this.changeState({cells:v,nodes:y,stateName:i});const b=m5(v);return this.updateCells(this.spreadsheet.facet.getHeaderCells(b)),d&&!f||this.highlightNodes(m,i),l&&this.scrollToCell(o,{skipScrollEvent:c,animate:s}),null===(n=this.spreadsheet.facet.centerFrame)||void 0===n||n.toFront(),this.emitSelectEvent({event:r,targetCell:o,interactionName:a}),!0}hideColumns(){return Hz(this,arguments,void 0,function*(e=[],t=!0){yield HJ(this.spreadsheet,e,t)})}getBrushSelectionInfo(e){var t,n,r;return vY.isBoolean(e)?{dataCellBrushSelection:e,rowCellBrushSelection:e,colCellBrushSelection:e}:{dataCellBrushSelection:null!==(t=null==e?void 0:e.dataCell)&&void 0!==t&&t,rowCellBrushSelection:null!==(n=null==e?void 0:e.rowCell)&&void 0!==n&&n,colCellBrushSelection:null!==(r=null==e?void 0:e.colCell)&&void 0!==r&&r}}getDefaultInteractions(){const{resize:e,brushSelection:t,multiSelection:n,rangeSelection:r,selectedCellMove:o}=this.spreadsheet.options.interaction,{dataCellBrushSelection:i,rowCellBrushSelection:a,colCellBrushSelection:l}=this.getBrushSelectionInfo(t);return[{key:oK.CORNER_CELL_CLICK,interaction:a6},{key:oK.DATA_CELL_CLICK,interaction:l6},{key:oK.ROW_COLUMN_CLICK,interaction:h6},{key:oK.HEADER_CELL_LINK_CLICK,interaction:s6},{key:oK.MERGED_CELLS_CLICK,interaction:c6},{key:oK.PREVIEW_CLICK,interaction:f6},{key:oK.HOVER,interaction:p6,enable:!sJ()},{key:oK.DATA_CELL_BRUSH_SELECTION,interaction:v6,enable:!sJ()&&i},{key:oK.ROW_CELL_BRUSH_SELECTION,interaction:y6,enable:!sJ()&&a},{key:oK.COL_CELL_BRUSH_SELECTION,interaction:m6,enable:!sJ()&&l},{key:oK.COL_ROW_RESIZE,interaction:C6,enable:!sJ()&&e},{key:oK.DATA_CELL_MULTI_SELECTION,interaction:b6,enable:!sJ()&&n},{key:oK.RANGE_SELECTION,interaction:w6,enable:!sJ()&&r},{key:oK.SELECTED_CELL_MOVE,interaction:E6,enable:!sJ()&&o}]}registerInteractions(){const{customInteractions:e}=this.spreadsheet.options.interaction;this.interactions.clear();this.getDefaultInteractions().forEach(({key:e,interaction:t,enable:n})=>{!1!==n&&this.interactions.set(e,new t(this.spreadsheet))}),vY.isEmpty(e)||vY.forEach(e,e=>{const t=e.interaction;t&&this.interactions.set(e.key,new t(this.spreadsheet))})}registerEventController(){this.eventController=new x6(this.spreadsheet)}draw(){null!==this.drawRafId&&cancelAnimationFrame(this.drawRafId),this.drawRafId=requestAnimationFrame(()=>{this.spreadsheet.container.render(),this.drawRafId=null})}clearState(){v5(this.spreadsheet)&&this.draw()}changeState(e){const{interaction:t}=this.spreadsheet,{cells:n=[],force:r,stateName:o,onUpdateCells:i}=e;if(vY.isEmpty(n)&&o===aK.SELECTED)return void(r&&t.changeState({cells:[],stateName:aK.UNSELECTED}));this.getCurrentStateName()===aK.ALL_SELECTED&&this.clearStyleIndependent(),this.clearState(),this.setState(e);const a=()=>{this.updateAllDataCells()};i?i(this,a):a(),this.draw()}updateAllDataCells(){this.updateCells(this.spreadsheet.facet.getDataCells())}updateCells(e=[]){e.forEach(e=>{e.update()})}addIntercepts(e=[]){e.forEach(e=>{this.intercepts.add(e)})}hasIntercepts(e=[]){return e.some(e=>this.intercepts.has(e))}removeIntercepts(e=[]){e.forEach(e=>{this.intercepts.delete(e)})}clearHoverTimer(){clearTimeout(this.hoverTimer)}setHoverTimer(e){this.hoverTimer=e}getHoverTimer(){return this.hoverTimer}getSelectedCellHighlight(){var e;const{selectedCellHighlight:t}=this.spreadsheet.options.interaction;if(vY.isBoolean(t))return{rowHeader:t,colHeader:t,currentRow:t,currentCol:t};const{rowHeader:n=!1,colHeader:r=!1,currentRow:o=!1,currentCol:i=!1}=null!==(e=t)&&void 0!==e?e:{};return{rowHeader:n,colHeader:r,currentRow:o,currentCol:i}}getHoverAfterScroll(){return this.spreadsheet.options.interaction.hoverAfterScroll}getHoverHighlight(){const{hoverHighlight:e}=this.spreadsheet.options.interaction;if(vY.isBoolean(e))return{rowHeader:e,colHeader:e,currentRow:e,currentCol:e};const{rowHeader:t=!1,colHeader:n=!1,currentRow:r=!1,currentCol:o=!1}=null!=e?e:{};return{rowHeader:t,colHeader:n,currentRow:r,currentCol:o}}getBrushSelection(){const{brushSelection:e}=this.spreadsheet.options.interaction;if(vY.isBoolean(e))return{dataCell:e,rowCell:e,colCell:e};const{dataCell:t=!1,rowCell:n=!1,colCell:r=!1}=null!=e?e:{};return{dataCell:t,rowCell:n,colCell:r}}updateDataCellRelevantHeaderCells(e,t){this.updateDataCellRelevantColCells(e,t),this.updateDataCellRelevantRowCells(e,t)}updateDataCellRelevantRowCells(e,t){const{rowId:n}=t,{facet:r,interaction:o}=this.spreadsheet,i=e===aK.HOVER,{rowHeader:a}=i?o.getHoverHighlight():o.getSelectedCellHighlight();if(a&&n){const o=i?r5(n,r.getRowCells(),this.spreadsheet.isHierarchyTreeType()):function(e,t){var n;const{facet:r,options:o}=t;if(t.isTableMode()){if(!(null===(n=o.seriesNumber)||void 0===n?void 0:n.enable))return[];const t=r.getColLeafNodes()[0].id,i=UJ(String(e.rowIndex),t),a=[],l=r.getCellById(i);return l&&l instanceof w2&&a.push(l),a}return r5(e.rowId,r.getRowCells(),t.isHierarchyTreeType())}(t,this.spreadsheet),a=[...r.getSeriesNumberCells().filter(e=>o.find(t=>t.getMeta().y===e.getMeta().y)),...o];vY.forEach(a,t=>{t.updateByState(e)})}}updateDataCellRelevantColCells(e,t){const{colId:n}=t,{facet:r,interaction:o}=this.spreadsheet,{colHeader:i}=e===aK.HOVER?o.getHoverHighlight():o.getSelectedCellHighlight();i&&n&&o5(n,r.getColCells(),e)}emitSelectEvent(e){const{interaction:t}=this.spreadsheet,{cells:n}=e,r=zz(e,["cells"]),o=n||t.getActiveCells(),i=(null==r?void 0:r.targetCell)||o[0],a=Object.assign(Object.assign({},r),{targetCell:i}),l=null==i?void 0:i.cellType,s={[sK.CORNER_CELL]:BY.CORNER_CELL_SELECTED,[sK.ROW_CELL]:BY.ROW_CELL_SELECTED,[sK.COL_CELL]:BY.COL_CELL_SELECTED,[sK.DATA_CELL]:BY.DATA_CELL_SELECTED}[l];s&&(this.spreadsheet.emit(s,o,a),this.spreadsheet.emit(BY.GLOBAL_SELECTED,o,a))}};const k6=`${NY}-strategy-sheet-tooltip`,M6={zh_CN:{"":"","":"","":"","":"","":"","":"","":"","":""," {} ":" {} ","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""," ()":" ()"," ()":" ()","":"","":"","":"","":"","":"","":"","":"","":""},en_US:{"":"Select Analysis Information","":"Switch indicator","":"Ok","":"Cancel","":"Reset","":"Please enter a keyword search","":"Search","":"Recover"," {} ":"selected {} item","":"selected items","":"Select drill down dimension","":"Restore default","":"Search field","":"Switch Dimensions","":"Rows","":"Cols","":"Values","":"Expand Children","":"Alphabetical order","":"Custom order","":"Other field","":"Advanced order","":"SetManual","":"Fields","":"Order according to the following rules (from low to high priority)","":"By","":"Description: ","":"Copy raw data","":"Copy formatted data","":"Download raw data","":"Download formatted data","":"Operation successful","":"Operation failed","":"Date","":"Measure","":"Target Value","":"Custom color","":"Grid","":"Tree","":"Default","":"Colorful","":"Normal","":"Basic","":"Zebra","":"Thematic style","":"Theme type","":"Theme color","":"Primary color","":"Dark theme","":"Light theme","":"Gray","":"Custom","":"Text align","":"Align left","":"Align center","":"Align right","":"Header"," ()":"Body(dimension)"," ()":"Body(measure)","":"Frozen header","":"Row","":"Column","":"Frozen row","":"Frozen column","":"Frozen","":"Freeze the first","":"Freeze the last"},ru_RU:{"":"   ","":" ","":"","":"","":"","":",     ","":"","":""," {} ":"(-) {} (-/-)","":" ","":"  ","":"   ","":" ","":"  ,   ","":"","":"","":"","":"  ","":" ","":" ","":" ","":" ","":" ","":" ","":",    (    )","":"","":": ","":"  ","":"  ","":"  ","":"  ","":"  ","":"  ","":"","":"","":" "}},$6={tooltip:{enable:!0,autoAdjustBoundary:"body",operation:{hiddenColumns:!0,sort:!0}},showDefaultHeaderActionIcon:!0},I6=e=>e?`${k6}-${e}`:k6,N6=(e,t)=>{const n=e.store.get("drillDownDataCache",[]),r=null==n?void 0:n.find(({rowId:e})=>e===t.id);return{drillDownDataCache:n,drillDownCurrentCache:r}},T6=e=>{const t=e.spreadsheet,{fields:n}=t.dataCfg,r=vY.size(n.rows)-1,o=!!vY.isEmpty(n.values)||t.isValueInCols();return r<=e.level&&t.isHierarchyTreeType()&&o&&!e.isGrandTotals},L6=(e,t,n)=>{var r;const o=(null===(r=null==e?void 0:e.headerActionIcons)||void 0===r?void 0:r.length)?[...e.headerActionIcons]:[];if(!vY.isEmpty(t)){const e={icons:[{name:"DrillDownIcon",position:"right",onClick:({meta:e,event:t})=>{e.spreadsheet.store.set("drillDownNode",e),(e=>{const{meta:t,event:n,callback:r}=e,{spreadsheet:o}=t;o.store.set("drillDownNode",t);const{drillDownDataCache:i,drillDownCurrentCache:a}=N6(o,t),l=(null==a?void 0:a.drillField)?[null==a?void 0:a.drillField]:[],s=[];i.forEach(e=>{t.id.includes(e.rowId)&&t.id!==e.rowId&&s.push(e.drillField)}),n&&o.emit(BY.GLOBAL_ACTION_ICON_CLICK,n),r({sheetInstance:o,cacheDrillFields:l,disabledFields:s,event:n})})({meta:e,event:t,callback:n})}}],belongsCell:"rowCell",defaultHide:!0,displayCondition:(null==t?void 0:t.displayCondition)||T6};o.push(e)}return Object.assign(Object.assign({},e),{headerActionIcons:o})},R6=e=>{let t=!0;const{s2:n,adaptive:r,container:o,wrapper:i}=e,{container:a,adaptiveWidth:l,adaptiveHeight:s}=((e,t)=>{var n,r,o;return vY.isBoolean(t)?{container:e,adaptiveWidth:!0,adaptiveHeight:!1}:{container:(null===(n=null==t?void 0:t.getContainer)||void 0===n?void 0:n.call(t))||e,adaptiveWidth:null===(r=null==t?void 0:t.width)||void 0===r||r,adaptiveHeight:null===(o=null==t?void 0:t.height)||void 0===o||o}})(i,r);if(!(a&&o&&r&&n))return;const c=(e,t)=>Hz(void 0,void 0,void 0,function*(){null==n||n.changeSheetSize(e,t),yield null==n?void 0:n.render(!1)}),u=vY.debounce(c,200),d=new ResizeObserver(([e]=[])=>{e&&Hz(void 0,void 0,void 0,function*(){const{clientWidth:e,clientHeight:r}=o,i=l?OJ(null!=e?e:n.options.width):n.options.width,a=s?OJ(null!=r?r:n.options.height):n.options.height;if(l||s)return t?(yield c(i,a),void(t=!1)):void u(i,a)})});return d.observe(a,{box:"border-box"}),()=>{d.unobserve(a)}};
/*!
 * @antv/g-plugin-canvas-path-generator
 * @description A G plugin of path generator with Canvas2D API
 * @version 2.1.22
 * @date 7/30/2025, 1:35:25 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */
function _6(e,t){var n=t.cx,r=void 0===n?0:n,o=t.cy,i=void 0===o?0:o,a=t.r;e.arc(r,i,a,0,2*Math.PI,!1)}function A6(e,t){var n=t.cx,r=void 0===n?0:n,o=t.cy,i=void 0===o?0:o,a=t.rx,l=t.ry;if(e.ellipse)e.ellipse(r,i,a,l,0,0,2*Math.PI,!1);else{var s=a>l?a:l,c=a>l?1:a/l,u=a>l?l/a:1;e.save(),e.scale(c,u),e.arc(r,i,s,0,2*Math.PI)}}function P6(e,t){var n,r,o=t.x1,i=t.y1,a=t.x2,l=t.y2,s=t.markerStart,c=t.markerEnd,u=t.markerStartOffset,d=t.markerEndOffset,f=0,h=0,p=0,g=0,m=0;s&&LX(s)&&u&&(n=a-o,r=l-i,m=Math.atan2(r,n),f=Math.cos(m)*(u||0),h=Math.sin(m)*(u||0)),c&&LX(c)&&d&&(n=o-a,r=i-l,m=Math.atan2(r,n),p=Math.cos(m)*(d||0),g=Math.sin(m)*(d||0)),e.moveTo(o+f,i+h),e.lineTo(a+p,l+g)}function j6(e,t){var n,r,o=t.markerStart,i=t.markerEnd,a=t.markerStartOffset,l=t.markerEndOffset,s=t.d,c=s.absolutePath,u=s.segments,d=0,f=0,h=0,p=0,g=0;if(o&&LX(o)&&a){var m=pt(o.parentNode.getStartTangent(),2),v=m[0],y=m[1];n=v[0]-y[0],r=v[1]-y[1],g=Math.atan2(r,n),d=Math.cos(g)*(a||0),f=Math.sin(g)*(a||0)}if(i&&LX(i)&&l){var b=pt(i.parentNode.getEndTangent(),2),x=b[0],w=b[1];n=x[0]-w[0],r=x[1]-w[1],g=Math.atan2(r,n),h=Math.cos(g)*(l||0),p=Math.sin(g)*(l||0)}for(var C=0;C<c.length;C++){var S=c[C],E=S[0],O=c[C+1],k=0===C&&(0!==d||0!==f),M=(C===c.length-1||O&&("M"===O[0]||"Z"===O[0]))&&0!==h&&0!==p,$=pt(k?[d,f]:[0,0],2),I=$[0],N=$[1],T=pt(M?[h,p]:[0,0],2),L=T[0],R=T[1];switch(E){case"M":e.moveTo(S[1]+I,S[2]+N);break;case"L":e.lineTo(S[1]+L,S[2]+R);break;case"Q":e.quadraticCurveTo(S[1],S[2],S[3]+L,S[4]+R);break;case"C":e.bezierCurveTo(S[1],S[2],S[3],S[4],S[5]+L,S[6]+R);break;case"A":var _=u[C].arcParams,A=_.cx,P=_.cy,j=_.rx,B=_.ry,D=_.startAngle,z=_.endAngle,H=_.xRotation,F=_.sweepFlag;if(e.ellipse)e.ellipse(A,P,j,B,H,D,z,!!(1-F));else{var W=j>B?j:B,G=j>B?1:j/B,V=j>B?B/j:1;e.translate(A,P),e.rotate(H),e.scale(G,V),e.arc(0,0,W,D,z,!!(1-F)),e.scale(1/G,1/V),e.rotate(-H),e.translate(-A,-P)}M&&e.lineTo(S[6]+h,S[7]+p);break;case"Z":e.closePath()}}}function B6(e,t){var n,r,o=t.markerStart,i=t.markerEnd,a=t.markerStartOffset,l=t.markerEndOffset,s=t.points.points,c=s.length,u=s[0][0],d=s[0][1],f=s[c-1][0],h=s[c-1][1],p=0,g=0,m=0,v=0,y=0;o&&LX(o)&&a&&(n=s[1][0]-s[0][0],r=s[1][1]-s[0][1],y=Math.atan2(r,n),p=Math.cos(y)*(a||0),g=Math.sin(y)*(a||0)),i&&LX(i)&&l&&(n=s[c-1][0]-s[0][0],r=s[c-1][1]-s[0][1],y=Math.atan2(r,n),m=Math.cos(y)*(l||0),v=Math.sin(y)*(l||0)),e.moveTo(u+(p||m),d+(g||v));for(var b=1;b<c-1;b++){var x=s[b];e.lineTo(x[0],x[1])}e.lineTo(f,h)}function D6(e,t){var n,r,o=t.markerStart,i=t.markerEnd,a=t.markerStartOffset,l=t.markerEndOffset,s=t.points.points,c=s.length,u=s[0][0],d=s[0][1],f=s[c-1][0],h=s[c-1][1],p=0,g=0,m=0,v=0,y=0;o&&LX(o)&&a&&(n=s[1][0]-s[0][0],r=s[1][1]-s[0][1],y=Math.atan2(r,n),p=Math.cos(y)*(a||0),g=Math.sin(y)*(a||0)),i&&LX(i)&&l&&(n=s[c-2][0]-s[c-1][0],r=s[c-2][1]-s[c-1][1],y=Math.atan2(r,n),m=Math.cos(y)*(l||0),v=Math.sin(y)*(l||0)),e.moveTo(u+p,d+g);for(var b=1;b<c-1;b++){var x=s[b];e.lineTo(x[0],x[1])}e.lineTo(f+m,h+v)}function z6(e,t){var n=t.x,r=void 0===n?0:n,o=t.y,i=void 0===o?0:o,a=t.radius,l=t.width,s=t.height,c=l,u=s;if(a&&a.some(function(e){return 0!==e})){var d=l>0?1:-1,f=s>0?1:-1,h=d+f===0,p=pt(a.map(function(e){return cz(e,0,Math.min(Math.abs(c)/2,Math.abs(u)/2))}),4),g=p[0],m=p[1],v=p[2],y=p[3];e.moveTo(d*g+r,i),e.lineTo(c-d*m+r,i),0!==m&&e.arc(c-d*m+r,f*m+i,m,-f*Math.PI/2,d>0?0:Math.PI,h),e.lineTo(c+r,u-f*v+i),0!==v&&e.arc(c-d*v+r,u-f*v+i,v,d>0?0:Math.PI,f>0?Math.PI/2:1.5*Math.PI,h),e.lineTo(d*y+r,u+i),0!==y&&e.arc(d*y+r,u-f*y+i,y,f>0?Math.PI/2:-Math.PI/2,d>0?Math.PI:0,h),e.lineTo(r,f*g+i),0!==g&&e.arc(d*g+r,f*g+i,g,d>0?Math.PI:0,f>0?1.5*Math.PI:Math.PI/2,h)}else e.rect(r,i,c,u)}var H6=function(){function e(){var t;He(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=yl(this,e,[].concat(r))).name="canvas-path-generator",t}return Ve(e,tF),We(e,[{key:"init",value:function(){var e,t=(j(j(j(j(j(j(j(j(j(j(e={},JH.CIRCLE,_6),JH.ELLIPSE,A6),JH.RECT,z6),JH.LINE,P6),JH.POLYLINE,D6),JH.POLYGON,B6),JH.PATH,j6),JH.TEXT,void 0),JH.GROUP,void 0),JH.IMAGE,void 0),j(j(j(e,JH.HTML,void 0),JH.MESH,void 0),JH.FRAGMENT,void 0));this.context.pathGeneratorFactory=t}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(),F6=pD(),W6=pD(),G6=pD(),V6=TB(),q6=function(){function e(){var t=this;He(this,e),this.isHit=function(e,n,r,o){var i=t.context.pointInPathPickerFactory[e.nodeName];if(i){var a=BB(V6,r),l=MD(W6,bD(G6,n[0],n[1],0),a);if(i(e,new hF(l[0],l[1]),o,t.isPointInPath,t.context,t.runtime))return!0}return!1},this.isPointInPath=function(e,n){var r=t.runtime.offscreenCanvasCreator.getOrCreateContext(t.context.config.offscreenCanvas),o=t.context.pathGeneratorFactory[e.nodeName];return o&&(r.beginPath(),o(r,e.parsedStyle),r.closePath()),r.isPointInPath(n.x,n.y)}}return We(e,[{key:"apply",value:function(t,n){var r,o=this,i=t.renderingService,a=t.renderingContext;this.context=t,this.runtime=n;var l=null===(r=a.root)||void 0===r?void 0:r.ownerDocument;i.hooks.pick.tapPromise(e.tag,function(){var e=ms(ps().mark(function e(t){return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.pick(l,t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),i.hooks.pickSync.tap(e.tag,function(e){return o.pick(l,e)})}},{key:"pick",value:function(e,t){var n,r=t.topmost,o=t.position,i=o.x,a=o.y,l=bD(F6,i,a,0),s=[],c=lT(e.elementsFromBBox(l[0],l[1],l[0],l[1]));try{for(c.s();!(n=c.n()).done;){var u=n.value,d=u.getWorldTransform();if(this.isHit(u,l,d,!1)){var f=HV(u);if(f){var h=f.parsedStyle.clipPath;if(this.isHit(h,l,h.getWorldTransform(),!0)){if(r)return t.picked=[u],t;s.push(u)}}else{if(r)return t.picked=[u],t;s.push(u)}}}}catch(p){c.e(p)}finally{c.f()}return t.picked=s,t}}])}();
/*!
 * @antv/g-plugin-canvas-picker
 * @description A G plugin for picking in canvas
 * @version 2.1.27
 * @date 7/30/2025, 1:37:32 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function X6(e,t,n){var r=e.parsedStyle,o=r.cx,i=void 0===o?0:o,a=r.cy,l=void 0===a?0:a,s=r.r,c=r.fill,u=r.stroke,d=r.lineWidth,f=void 0===d?1:d,h=r.increasedLineWidthForHitTesting,p=void 0===h?0:h,g=r.pointerEvents,m=void 0===g?"auto":g,v=(f+p)/2,y=RH(i,l,t.x,t.y),b=pt(qV(m,c,u),2),x=b[0],w=b[1];return x&&w||n?y<=s+v:x?y<=s:!!w&&(y>=s-v&&y<=s+v)}function U6(e,t,n,r){return e/(n*n)+t/(r*r)}function Y6(e,t,n){var r=e.parsedStyle,o=r.cx,i=void 0===o?0:o,a=r.cy,l=void 0===a?0:a,s=r.rx,c=r.ry,u=r.fill,d=r.stroke,f=r.lineWidth,h=void 0===f?1:f,p=r.increasedLineWidthForHitTesting,g=void 0===p?0:p,m=r.pointerEvents,v=void 0===m?"auto":m,y=t.x,b=t.y,x=pt(qV(v,u,d),2),w=x[0],C=x[1],S=(h+g)/2,E=(y-i)*(y-i),O=(b-l)*(b-l);return w&&C||n?U6(E,O,s+S,c+S)<=1:w?U6(E,O,s,c)<=1:!!C&&(U6(E,O,s-S,c-S)>=1&&U6(E,O,s+S,c+S)<=1)}function K6(e,t,n,r,o,i){return o>=e&&o<=e+n&&i>=t&&i<=t+r}function Z6(e,t,n,r,o,i,a,l){var s=(Math.atan2(l-t,a-e)+2*Math.PI)%(2*Math.PI),c={x:e+n*Math.cos(s),y:t+n*Math.sin(s)};return RH(c.x,c.y,a,l)<=i/2}function Q6(e,t,n,r,o,i,a){var l=Math.min(e,n),s=Math.max(e,n),c=Math.min(t,r),u=Math.max(t,r),d=o/2;return i>=l-d&&i<=s+d&&a>=c-d&&a<=u+d&&HH(e,t,n,r,i,a)<=o/2}function J6(e,t,n,r,o){var i=e.length;if(i<2)return!1;for(var a=0;a<i-1;a++){if(Q6(e[a][0],e[a][1],e[a+1][0],e[a+1][1],t,n,r))return!0}if(o){var l=e[0],s=e[i-1];if(Q6(l[0],l[1],s[0],s[1],t,n,r))return!0}return!1}q6.tag="CanvasPicker";function e8(e){return Math.abs(e)<1e-6?0:e<0?-1:1}function t8(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function n8(e,t,n){var r=!1,o=e.length;if(o<=2)return!1;for(var i=0;i<o;i++){var a=e[i],l=e[(i+1)%o];if(t8(a,l,[t,n]))return!0;e8(a[1]-n)>0!=e8(l[1]-n)>0&&e8(t-(n-a[1])*(a[0]-l[0])/(a[1]-l[1])-a[0])<0&&(r=!r)}return r}function r8(e,t,n){for(var r=!1,o=0;o<e.length;o++){if(r=n8(e[o],t,n))break}return r}function o8(e,t,n){var r=e.parsedStyle,o=r.x1,i=r.y1,a=r.x2,l=r.y2,s=r.lineWidth,c=void 0===s?1:s,u=r.increasedLineWidthForHitTesting,d=void 0===u?0:u,f=r.pointerEvents;return!(!pt(qV(void 0===f?"auto":f,r.fill,r.stroke),2)[1]&&!n||!c)&&Q6(o,i,a,l,c+d,t.x,t.y)}function i8(e,t,n,r,o,i){var a=e.parsedStyle,l=a.lineWidth,s=void 0===l?1:l,c=a.increasedLineWidthForHitTesting,u=void 0===c?0:c,d=a.stroke,f=a.fill,h=a.d,p=a.pointerEvents,g=void 0===p?"auto":p,m=h.segments,v=h.hasArc,y=h.polylines,b=h.polygons,x=pt(qV(g,(null==b?void 0:b.length)&&f,d),2),w=x[0],C=x[1],S=TG(e),E=!1;return w||n?E=v?r(e,t):r8(b,t.x,t.y)||r8(y,t.x,t.y):((C||n)&&(E=function(e,t,n,r,o){for(var i=!1,a=t/2,l=0;l<e.length;l++){var s=e[l],c=s.currentPoint,u=s.params,d=s.prePoint,f=s.box;if(!f||K6(f.x-a,f.y-a,f.width+t,f.height+t,n,r))switch(s.command){case"L":case"Z":if(i=Q6(d[0],d[1],c[0],c[1],t,n,r))return!0;break;case"Q":if(i=KH(d[0],d[1],u[1],u[2],u[3],u[4],n,r)<=t/2)return!0;break;case"C":if(i=VH(d[0],d[1],u[1],u[2],u[3],u[4],u[5],u[6],n,r,o)<=t/2)return!0;break;case"A":s.cubicParams||(s.cubicParams=fH(d[0],d[1],u[1],u[2],u[3],u[4],u[5],u[6],u[7],void 0));for(var h=s.cubicParams,p=d,g=0;g<h.length;g+=6){var m=VH(p[0],p[1],h[g],h[g+1],h[g+2],h[g+3],h[g+4],h[g+5],n,r,o);if(p=[h[g+4],h[g+5]],i=m<=t/2)return!0}}}return i}(m,s+u,t.x,t.y,S)),E)}function a8(e,t,n){var r=e.parsedStyle,o=r.stroke,i=r.fill,a=r.lineWidth,l=void 0===a?1:a,s=r.increasedLineWidthForHitTesting,c=void 0===s?0:s,u=r.points,d=r.pointerEvents,f=pt(qV(void 0===d?"auto":d,i,o),2),h=f[0],p=!1;return(f[1]||n)&&(p=J6(u.points,l+c,t.x,t.y,!0)),p||!h&&!n||(p=n8(u.points,t.x,t.y)),p}function l8(e,t,n){var r=e.parsedStyle,o=r.lineWidth,i=void 0===o?1:o,a=r.increasedLineWidthForHitTesting,l=void 0===a?0:a,s=r.points,c=r.pointerEvents;return!(!pt(qV(void 0===c?"auto":c,r.fill,r.stroke),2)[1]&&!n||!i)&&J6(s.points,i+l,t.x,t.y,!1)}function s8(e,t,n,r,o){var i=e.parsedStyle,a=i.radius,l=i.fill,s=i.stroke,c=i.lineWidth,u=void 0===c?1:c,d=i.increasedLineWidthForHitTesting,f=void 0===d?0:d,h=i.x,p=void 0===h?0:h,g=i.y,m=void 0===g?0:g,v=i.width,y=i.height,b=i.pointerEvents,x=pt(qV(void 0===b?"auto":b,l,s),2),w=x[0],C=x[1],S=u+f;if(a&&a.some(function(e){return 0!==e})){var E=!1;return(C||n)&&(E=function(e,t,n,r,o,i,a,l){var s=pt(o,4),c=s[0],u=s[1],d=s[2],f=s[3];return Q6(e+c,t,e+n-u,t,i,a,l)||Q6(e+n,t+u,e+n,t+r-d,i,a,l)||Q6(e+n-d,t+r,e+f,t+r,i,a,l)||Q6(e,t+r-f,e,t+c,i,a,l)||Z6(e+n-u,t+u,u,Math.PI,Math.PI,i,a,l)||Z6(e+n-d,t+r-d,d,0,Math.PI,i,a,l)||Z6(e+f,t+r-f,f,Math.PI,Math.PI,i,a,l)||Z6(e+c,t+c,c,Math.PI,Math.PI,i,a,l)}(p,m,v,y,a.map(function(e){return cz(e,0,Math.min(Math.abs(v)/2,Math.abs(y)/2))}),S,t.x,t.y)),E||!w&&!n||(E=r(e,t)),E}var O=S/2;return w&&C||n?K6(p-O,m-O,v+O,y+O,t.x,t.y):w?K6(p,m,v,y,t.x,t.y):!!C&&function(e,t,n,r,o,i,a){var l=o/2;return K6(e-l,t-l,n,o,i,a)||K6(e+n-l,t-l,o,r,i,a)||K6(e+l,t+r-l,n,o,i,a)||K6(e-l,t+l,o,r,i,a)}(p,m,v,y,S,t.x,t.y)}function c8(e,t,n,r,o,i){var a=e.parsedStyle,l=a.pointerEvents,s=void 0===l?"auto":l,c=a.x,u=void 0===c?0:c,d=a.y,f=void 0===d?0:d,h=a.width,p=a.height;if("non-transparent-pixel"===s){var g=o.config.offscreenCanvas,m=i.offscreenCanvasCreator.getOrCreateCanvas(g),v=i.offscreenCanvasCreator.getOrCreateContext(g,{willReadFrequently:!0});return m.width=h,m.height=p,o.defaultStyleRendererFactory[JH.IMAGE].render(v,EB(EB({},e.parsedStyle),{},{x:0,y:0}),e,void 0,void 0,void 0),v.getImageData(t.x-u,t.y-f,1,1).data.every(function(e){return 0!==e})}return!0}function u8(e,t,n,r){var o=e.getGeometryBounds();return t.x>=o.min[0]&&t.y>=o.min[1]&&t.x<=o.max[0]&&t.y<=o.max[1]}var d8=function(){function e(){var t;He(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=yl(this,e,[].concat(r))).name="canvas-picker",t}return Ve(e,tF),We(e,[{key:"init",value:function(){var e,t=(j(j(j(j(j(j(j(j(j(j(e={},JH.CIRCLE,X6),JH.ELLIPSE,Y6),JH.RECT,s8),JH.LINE,o8),JH.POLYLINE,l8),JH.POLYGON,a8),JH.PATH,i8),JH.TEXT,u8),JH.GROUP,null),JH.IMAGE,c8),j(j(e,JH.HTML,null),JH.MESH,null));this.context.pointInPathPickerFactory=t,this.addRenderingPlugin(new q6)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}();function f8(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var h8=0;function p8(e){return"__private_"+h8+++"_"+e}
/*!
 * @antv/g-plugin-image-loader
 * @description A G plugin for loading image
 * @version 2.1.26
 * @date 7/30/2025, 1:35:52 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var g8=function(){return We(function e(){He(this,e),this.cacheStore=new Map},[{key:"onRefAdded",value:function(e){}},{key:"has",value:function(e){return this.cacheStore.has(e)}},{key:"put",value:function(e,t,n){return!this.cacheStore.has(e)&&(this.cacheStore.set(e,{value:t,counter:new Set([n.entity])}),this.onRefAdded(n),!0)}},{key:"get",value:function(e,t){var n=this.cacheStore.get(e);return n?(n.counter.has(t.entity)||(n.counter.add(t.entity),this.onRefAdded(t)),n.value):null}},{key:"update",value:function(e,t,n){var r=this.cacheStore.get(e);return!!r&&(r.value=EB(EB({},r.value),t),r.counter.has(n.entity)||(r.counter.add(n.entity),this.onRefAdded(n)),!0)}},{key:"release",value:function(e,t){var n=this.cacheStore.get(e);return!!n&&(n.counter.delete(t.entity),n.counter.size<=0&&this.cacheStore.delete(e),!0)}},{key:"releaseRef",value:function(e){var t=this;Array.from(this.cacheStore.keys()).forEach(function(n){t.release(n,e)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),m8=[],v8=[],y8=function(){function e(){He(this,e)}return We(e,null,[{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.api;e.rafId&&(t.cancelAnimationFrame(e.rafId),e.rafId=null)}},{key:"executeTask",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.api;m8.length<=0&&v8.length<=0||(v8.forEach(function(e){return e()}),v8=m8.splice(0,e.TASK_NUM_PER_FRAME),e.rafId=t.requestAnimationFrame(function(){e.executeTask(t)}))}},{key:"sliceImage",value:function(t,n,r,o){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.api,l=t.naturalWidth||t.width,s=t.naturalHeight||t.height,c=n-i,u=r-i,d=Math.ceil(l/c),f=Math.ceil(s/u),h={tileSize:[n,r],gridSize:[f,d],tiles:Array(f).fill(null).map(function(){return Array(d).fill(null)})},p=function(e){for(var i=function(i){m8.push(function(){var d=i*c,f=e*u,p=[Math.min(n,l-d),Math.min(r,s-f)],g=p[0],m=p[1],v=a.createCanvas();v.width=n,v.height=r,v.getContext("2d").drawImage(t,d,f,g,m,0,0,g,m),h.tiles[e][i]={x:d,y:f,tileX:i,tileY:e,data:v},o()})},f=0;f<d;f++)i(f)},g=0;g<f;g++)p(g);return e.stop(),e.executeTask(),h}}])}();y8.TASK_NUM_PER_FRAME=10;var b8=new g8;b8.onRefAdded=function(e){var t=this;e.addEventListener(Xq.DESTROY,function(){t.releaseRef(e)},{once:!0})};var x8=function(){return We(function e(t,n){He(this,e),this.gradientCache={},this.patternCache={},this.context=t,this.runtime=n},[{key:"getImageSync",value:function(e,t,n){var r=lz(e)?e:e.src;if(b8.has(r)){var o=b8.get(r,t);if(o.img.complete)return null==n||n(o),o}return this.getOrCreateImage(e,t).then(function(e){null==n||n(e)}).catch(function(e){}),null}},{key:"getOrCreateImage",value:function(e,t){var n=this,r=lz(e)?e:e.src;if(!lz(e)&&!b8.has(r)){var o={img:e,size:[e.naturalWidth||e.width,e.naturalHeight||e.height],tileSize:w8(e)};b8.put(r,o,t)}if(b8.has(r)){var i=b8.get(r,t);return i.img.complete?Promise.resolve(i):new Promise(function(e,t){i.img.addEventListener("load",function(){i.size=[i.img.naturalWidth||i.img.width,i.img.naturalHeight||i.img.height],i.tileSize=w8(i.img),e(i)}),i.img.addEventListener("error",function(e){t(e)})})}return new Promise(function(e,o){var i=n.context.config.createImage();if(i){var a={img:i,size:[0,0],tileSize:w8(i)};b8.put(r,a,t),i.onload=function(){a.size=[i.naturalWidth||i.width,i.naturalHeight||i.height],a.tileSize=w8(a.img),e(a)},i.onerror=function(e){o(e)},i.crossOrigin="Anonymous",i.src=r}})}},{key:"createDownSampledImage",value:(t=ms(ps().mark(function e(t,n){var r,o,i,a,l,s,c,u,d,f,h,p,g,m;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,this.getOrCreateImage(t,n);case 1:if(void 0===(r=e.sent).downSamplingRate){e.next=2;break}return e.abrupt("return",r);case 2:if(o=this.context.config.enableLargeImageOptimization,a=(i="boolean"==typeof o?{}:o).maxDownSampledImageSize,l=void 0===a?2048:a,s=i.downSamplingRateThreshold,c=void 0===s?.5:s,u=this.runtime.globalThis.createImageBitmap,d=pt(r.size,2),f=d[0],h=d[1],p=r.img,g=Math.min((l+l)/(f+h),Math.max(.01,Math.min(c,.5))),m=EB(EB({},r),{},{downSamplingRate:g}),b8.update(r.img.src,m,n),!u){e.next=7;break}return e.prev=3,e.next=4,u(r.img,{resizeWidth:f*g,resizeHeight:h*g});case 4:p=e.sent,e.next=6;break;case 5:e.prev=5,e.catch(3),g=1;case 6:e.next=8;break;case 7:g=1;case 8:return m=EB(EB({},this.getImageSync(t,n)),{},{downSampled:p,downSamplingRate:g}),b8.update(r.img.src,m,n),e.abrupt("return",m);case 9:case"end":return e.stop()}},e,this,[[3,5]])})),function(e,n){return t.apply(this,arguments)})},{key:"createImageTiles",value:(e=ms(ps().mark(function e(t,n,r,o){var i,a,l,s,c;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,this.getOrCreateImage(t,o);case 1:return i=e.sent,a=o.ownerDocument.defaultView,l=a.requestAnimationFrame,s=a.cancelAnimationFrame,y8.api={requestAnimationFrame:l,cancelAnimationFrame:s,createCanvas:function(){return Fq.createCanvas()}},c=EB(EB({},i),y8.sliceImage(i.img,i.tileSize[0],i.tileSize[0],r)),b8.update(i.img.src,c,o),e.abrupt("return",c);case 2:case"end":return e.stop()}},e,this)})),function(t,n,r,o){return e.apply(this,arguments)})},{key:"releaseImage",value:function(e,t){b8.release(lz(e)?e:e.src,t)}},{key:"releaseImageRef",value:function(e){b8.releaseRef(e)}},{key:"getOrCreatePatternSync",value:function(e,t,n,r,o,i,a){var l=this.generatePatternKey(t);if(l&&this.patternCache[l])return this.patternCache[l];var s,c=t.image,u=t.repetition,d=t.transform,f=!1;if(lz(c)){var h=this.getImageSync(c,e,a);s=null==h?void 0:h.img}else r?(s=r,f=!0):s=c;var p,g=s&&n.createPattern(s,u);g&&(p=d?wq(tV(d),new jX({})):PB(TB()),f&&FB(p,p,[1/o,1/o,1]),g.setTransform({a:p[0],b:p[1],c:p[4],d:p[5],e:p[12]+i[0],f:p[13]+i[1]}));return l&&g&&(this.patternCache[l]=g),g}},{key:"getOrCreateGradient",value:function(e,t){var n=this.generateGradientKey(e),r=e.type,o=e.steps,i=e.min,a=e.width,l=e.height,s=e.angle,c=e.cx,u=e.cy,d=e.size;if(this.gradientCache[n])return this.gradientCache[n];var f=null;if(r===DW.LinearGradient){var h=function(e,t,n,r){var o=wF(r.value),i=0+t/2,a=0+n/2,l=Math.abs(t*Math.cos(o))+Math.abs(n*Math.sin(o));return{x1:e[0]+i-Math.cos(o)*l/2,y1:e[1]+a-Math.sin(o)*l/2,x2:e[0]+i+Math.cos(o)*l/2,y2:e[1]+a+Math.sin(o)*l/2}}(i,a,l,s),p=h.x1,g=h.y1,m=h.x2,v=h.y2;f=t.createLinearGradient(p,g,m,v)}else if(r===DW.RadialGradient){var y=function(e,t,n,r,o,i){var a=r.value,l=o.value;r.unit===$W.kPercentage&&(a=r.value/100*t),o.unit===$W.kPercentage&&(l=o.value/100*n);var s=Math.max(vH([0,0],[a,l]),vH([0,n],[a,l]),vH([t,n],[a,l]),vH([t,0],[a,l]));return i&&(i instanceof WW?s=i.value:i instanceof HW&&("closest-side"===i.value?s=Math.min(a,t-a,l,n-l):"farthest-side"===i.value?s=Math.max(a,t-a,l,n-l):"closest-corner"===i.value&&(s=Math.min(vH([0,0],[a,l]),vH([0,n],[a,l]),vH([t,n],[a,l]),vH([t,0],[a,l]))))),{x:a+e[0],y:l+e[1],r:s}}(i,a,l,c,u,d),b=y.x,x=y.y,w=y.r;f=t.createRadialGradient(b,x,0,b,x,w)}return f&&(o.forEach(function(e){var t,n=e.offset,r=e.color;n.unit===$W.kPercentage&&(null===(t=f)||void 0===t||t.addColorStop(n.value/100,r.toString()))}),this.gradientCache[n]=f),this.gradientCache[n]}},{key:"generateGradientKey",value:function(e){var t=e.type,n=e.min,r=e.width,o=e.height,i=e.steps,a=e.angle,l=e.cx,s=e.cy,c=e.size;return"gradient-".concat(t,"-").concat((null==a?void 0:a.toString())||0,"-").concat((null==l?void 0:l.toString())||0,"-").concat((null==s?void 0:s.toString())||0,"-").concat((null==c?void 0:c.toString())||0,"-").concat(n[0],"-").concat(n[1],"-").concat(r,"-").concat(o,"-").concat(i.map(function(e){var t=e.offset,n=e.color;return"".concat(t).concat(n)}).join("-"))}},{key:"generatePatternKey",value:function(e){var t=e.image,n=e.repetition;return lz(t)?"pattern-".concat(t,"-").concat(n):"rect"===t.nodeName?"pattern-".concat(t.entity,"-").concat(n):void 0}}]);var e,t}();function w8(e){if(!e.complete)return[0,0];var t=e.naturalWidth||e.width,n=e.naturalHeight||e.height,r=256;return[256,512].forEach(function(e){Math.ceil(n/e)*Math.ceil(t/e)<1e3&&(r=e)}),[r,r]}x8.isSupportTile=!!Fq.createCanvas();var C8=function(){function e(){He(this,e)}return We(e,[{key:"apply",value:function(t){var n=t.renderingService,r=t.renderingContext,o=t.imagePool,i=r.root.ownerDocument.defaultView,a=function(e,t,n){var r=e.parsedStyle,o=r.width,i=r.height;o&&!i?e.setAttribute("height",n/t*o):!o&&i&&e.setAttribute("width",t/n*i)},l=function(e){var t=e.target,r=t.nodeName,i=t.attributes;if(r===JH.IMAGE){var l=i.src,s=i.keepAspectRatio;o.getImageSync(l,t,function(e){var r=e.img,o=r.width,i=r.height;s&&a(t,o,i),t.renderable.dirty=!0,n.dirtify()})}},s=function(e){var t=e.target,r=e.attrName,i=e.prevValue,l=e.newValue;t.nodeName===JH.IMAGE&&"src"===r&&(i!==l&&o.releaseImage(i,t),lz(l)&&o.getOrCreateImage(l,t).then(function(e){var r=e.img,o=r.width,i=r.height;t.attributes.keepAspectRatio&&a(t,o,i),t.renderable.dirty=!0,n.dirtify()}).catch(function(){}))};n.hooks.init.tap(e.tag,function(){i.addEventListener(Xq.MOUNTED,l),i.addEventListener(Xq.ATTR_MODIFIED,s)}),n.hooks.destroy.tap(e.tag,function(){i.removeEventListener(Xq.MOUNTED,l),i.removeEventListener(Xq.ATTR_MODIFIED,s)})}}])}();C8.tag="LoadImage";var S8=function(){function e(){var t;He(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=yl(this,e,[].concat(r))).name="image-loader",t}return Ve(e,tF),We(e,[{key:"init",value:function(e){this.context.imagePool=new x8(this.context,e),this.addRenderingPlugin(new C8)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(),E8=p8("renderState"),O8=function(){function e(t){He(this,e),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,E8,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=TB(),this.dprMatrix=TB(),this.tmpMat4=TB(),this.vec3a=pD(),this.vec3b=pD(),this.vec3c=pD(),this.vec3d=pD(),this.canvasRendererPluginOptions=t}return We(e,[{key:"apply",value:function(t,n){var r=this;this.context=t;var o=this.context,i=o.config,a=o.camera,l=o.renderingService,s=o.renderingContext,c=o.rBushRoot,u=o.pathGeneratorFactory,d=i.renderer.getConfig().enableRenderingOptimization;i.renderer.getConfig().enableDirtyCheck=!1,i.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=c,this.pathGeneratorFactory=u;var f=t.contextService,h=s.root.ownerDocument.defaultView,p=function(e){var t=e.target.rBushNode;null!=t&&t.aabb&&r.removedRBushNodeAABBs.push(t.aabb)},g=function(e){var t=e.target.rBushNode;t.aabb&&r.removedRBushNodeAABBs.push(t.aabb)};l.hooks.init.tap(e.tag,function(){h.addEventListener(Xq.UNMOUNTED,p),h.addEventListener(Xq.CULLED,g);var e=f.getDPR(),t=i.width,n=i.height,o=f.getContext();r.clearRect(o,0,0,t*e,n*e,i.background)}),l.hooks.destroy.tap(e.tag,function(){h.removeEventListener(Xq.UNMOUNTED,p),h.removeEventListener(Xq.CULLED,g),r.renderQueue=[],r.removedRBushNodeAABBs=[],f8(r,E8)[E8]={restoreStack:[],prevObject:null,currentContext:null}});var m=function(e,t){for(var o=[e];o.length>0;){var i,a=o.pop();a.isVisible()&&!a.isCulled()&&(d?r.renderDisplayObjectOptimized(a,t,r.context,f8(r,E8)[E8],n):r.renderDisplayObject(a,t,r.context,f8(r,E8)[E8],n));for(var l=(null===(i=a.sortable)||void 0===i||null===(i=i.sorted)||void 0===i?void 0:i.length)>0?a.sortable.sorted:a.childNodes,s=l.length-1;s>=0;s--)o.push(l[s])}};l.hooks.endFrame.tap(e.tag,function(){if(function(){var e,t=f.getContext(),n=f.getDPR(),o=i.width,a=i.height,s=r.canvasRendererPluginOptions,c=s.dirtyObjectNumThreshold,u=s.dirtyObjectRatioThreshold,d=l.getStats(),p=d.total,g=d.rendered,m=g/p;r.clearFullScreen=r.clearFullScreenLastFrame||!(null!==(e=h.context.renderingPlugins[1])&&void 0!==e&&e.isFirstTimeRenderingFinished)||l.disableDirtyRectangleRendering()||g>c&&m>u,t&&("function"==typeof t.resetTransform?t.resetTransform():t.setTransform(1,0,0,1,0,0),r.clearFullScreen&&r.clearRect(t,0,0,o*n,a*n,i.background))}(),0!==s.root.childNodes.length){d=i.renderer.getConfig().enableRenderingOptimization,f8(r,E8)[E8]={restoreStack:[],prevObject:null,currentContext:f8(r,E8)[E8].currentContext},f8(r,E8)[E8].currentContext.clear(),r.clearFullScreenLastFrame=!1;var e=f.getContext(),t=f.getDPR();if(qB(r.dprMatrix,[t,t,1]),zB(r.vpMatrix,r.dprMatrix,a.getOrthoMatrix()),r.clearFullScreen)d?(e.save(),m(s.root,e),e.restore()):m(s.root,e),r.removedRBushNodeAABBs=[];else{var o=r.safeMergeAABB.apply(r,[r.mergeDirtyAABBs(r.renderQueue)].concat(it(r.removedRBushNodeAABBs.map(function(e){var t=e.minX,n=e.minY,r=e.maxX,o=e.maxY,i=new cF;return i.setMinMax([t,n,0],[r,o,0]),i}))));if(r.removedRBushNodeAABBs=[],cF.isEmpty(o))return void(r.renderQueue=[]);var c=r.convertAABB2Rect(o),u=c.x,p=c.y,g=c.width,v=c.height,y=MD(r.vec3a,[u,p,0],r.vpMatrix),b=MD(r.vec3b,[u+g,p,0],r.vpMatrix),x=MD(r.vec3c,[u,p+v,0],r.vpMatrix),w=MD(r.vec3d,[u+g,p+v,0],r.vpMatrix),C=Math.min(y[0],b[0],w[0],x[0]),S=Math.min(y[1],b[1],w[1],x[1]),E=Math.max(y[0],b[0],w[0],x[0]),O=Math.max(y[1],b[1],w[1],x[1]),k=Math.floor(C),M=Math.floor(S),$=Math.ceil(E-C),I=Math.ceil(O-S);e.save(),r.clearRect(e,k,M,$,I,i.background),e.beginPath(),e.rect(k,M,$,I),e.clip(),e.setTransform(r.vpMatrix[0],r.vpMatrix[1],r.vpMatrix[4],r.vpMatrix[5],r.vpMatrix[12],r.vpMatrix[13]),i.renderer.getConfig().enableDirtyRectangleRenderingDebug&&h.dispatchEvent(new Bq(dU.DIRTY_RECTANGLE,{dirtyRect:{x:k,y:M,width:$,height:I}})),r.searchDirtyObjects(o).sort(function(e,t){return e.sortable.renderOrder-t.sortable.renderOrder}).forEach(function(t){t&&t.isVisible()&&!t.isCulled()&&r.renderDisplayObject(t,e,r.context,f8(r,E8)[E8],n)}),e.restore(),r.renderQueue.forEach(function(e){r.saveDirtyAABB(e)}),r.renderQueue=[]}f8(r,E8)[E8].restoreStack.forEach(function(){e.restore()}),f8(r,E8)[E8].restoreStack=[]}else r.clearFullScreenLastFrame=!0}),l.hooks.render.tap(e.tag,function(e){r.clearFullScreen||r.renderQueue.push(e)})}},{key:"clearRect",value:function(e,t,n,r,o,i){e.clearRect(t,n,r,o),i&&(e.fillStyle=i,e.fillRect(t,n,r,o))}},{key:"renderDisplayObjectOptimized",value:function(e,t,n,r,o){var i=e.nodeName,a=!1,l=this.context.styleRendererFactory[i],s=this.pathGeneratorFactory[i],c=e.parsedStyle.clipPath;if(c){(!r.prevObject||!uD(c.getWorldTransform(),r.prevObject.getWorldTransform()))&&(this.applyWorldTransform(t,c),r.prevObject=null);var u=this.pathGeneratorFactory[c.nodeName];u&&(t.save(),a=!0,t.beginPath(),u(t,c.parsedStyle),t.closePath(),t.clip())}if(l){(!r.prevObject||!uD(e.getWorldTransform(),r.prevObject.getWorldTransform()))&&this.applyWorldTransform(t,e);var d=!r.prevObject;if(!d){var f=r.prevObject.nodeName;d=i===JH.TEXT?f!==JH.TEXT:i===JH.IMAGE?f!==JH.IMAGE:f===JH.TEXT||f===JH.IMAGE}l.applyStyleToContext(t,e,d,r),r.prevObject=e}s&&(t.beginPath(),s(t,e.parsedStyle),i!==JH.LINE&&i!==JH.PATH&&i!==JH.POLYLINE&&t.closePath()),l&&l.drawToContext(t,e,f8(this,E8)[E8],this,o),a&&t.restore(),e.dirty(!1)}},{key:"renderDisplayObject",value:function(e,t,n,r,o){var i=e.nodeName,a=r.restoreStack[r.restoreStack.length-1];!a||e.compareDocumentPosition(a)&zq.DOCUMENT_POSITION_CONTAINS||(t.restore(),r.restoreStack.pop());var l=this.context.styleRendererFactory[i],s=this.pathGeneratorFactory[i],c=e.parsedStyle.clipPath;if(c){this.applyWorldTransform(t,c);var u=this.pathGeneratorFactory[c.nodeName];u&&(t.save(),r.restoreStack.push(e),t.beginPath(),u(t,c.parsedStyle),t.closePath(),t.clip())}l&&(this.applyWorldTransform(t,e),t.save(),this.applyAttributesToContext(t,e)),s&&(t.beginPath(),s(t,e.parsedStyle),i!==JH.LINE&&i!==JH.PATH&&i!==JH.POLYLINE&&t.closePath()),l&&(l.render(t,e.parsedStyle,e,n,this,o),t.restore()),e.dirty(!1)}},{key:"applyAttributesToContext",value:function(e,t){var n=t.parsedStyle,r=n.stroke,o=n.fill,i=n.opacity,a=n.lineDash,l=n.lineDashOffset;a&&e.setLineDash(a),YD(l)||(e.lineDashOffset=l),YD(i)||(e.globalAlpha*=i),YD(r)||Array.isArray(r)||r.isNone||(e.strokeStyle=t.attributes.stroke),YD(o)||Array.isArray(o)||o.isNone||(e.fillStyle=t.attributes.fill)}},{key:"convertAABB2Rect",value:function(e){var t=e.getMin(),n=e.getMax(),r=Math.floor(t[0]),o=Math.floor(t[1]);return{x:r,y:o,width:Math.ceil(n[0])-r,height:Math.ceil(n[1])-o}}},{key:"mergeDirtyAABBs",value:function(e){var t=new cF;return e.forEach(function(e){var n=e.getRenderBounds();t.add(n);var r=e.renderable.dirtyRenderBounds;r&&t.add(r)}),t}},{key:"searchDirtyObjects",value:function(e){var t=pt(e.getMin(),2),n=t[0],r=t[1],o=pt(e.getMax(),2),i=o[0],a=o[1];return this.rBush.search({minX:n,minY:r,maxX:i,maxY:a}).map(function(e){return e.displayObject})}},{key:"saveDirtyAABB",value:function(e){var t=e.renderable;t.dirtyRenderBounds||(t.dirtyRenderBounds=new cF);var n=e.getRenderBounds();n&&t.dirtyRenderBounds.update(n.center,n.halfExtents)}},{key:"applyWorldTransform",value:function(e,t,n){n?(RB(this.tmpMat4,t.getLocalTransform()),zB(this.tmpMat4,n,this.tmpMat4),zB(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(RB(this.tmpMat4,t.getWorldTransform()),zB(this.tmpMat4,this.vpMatrix,this.tmpMat4)),e.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var e=new cF,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e.add(t)}),e}}])}();
/*!
 * @antv/g-plugin-canvas-renderer
 * @description A G plugin of renderer implementation with Canvas2D API
 * @version 2.3.3
 * @date 7/30/2025, 1:36:40 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function k8(e,t,n,r,o,i,a){var l,s;if("rect"===e.image.nodeName){var c=e.image.parsedStyle,u=c.width,d=c.height;s=r.contextService.getDPR();var f=r.config.offscreenCanvas;(l=i.offscreenCanvasCreator.getOrCreateCanvas(f)).width=u*s,l.height=d*s;var h=i.offscreenCanvasCreator.getOrCreateContext(f),p={restoreStack:[],prevObject:null,currentContext:new Map};e.image.forEach(function(e){o.renderDisplayObject(e,h,r,p,i)}),p.restoreStack.forEach(function(){h.restore()})}return a.getOrCreatePatternSync(t,e,n,l,s,t.getGeometryBounds().min,function(){t.dirty(),r.renderingService.dirtify()})}function M8(e,t,n,r){var o;if(e.type===DW.LinearGradient||e.type===DW.RadialGradient){var i=t.getGeometryBounds(),a=i&&2*i.halfExtents[0]||1,l=i&&2*i.halfExtents[1]||1,s=i&&i.min||[0,0];o=r.getOrCreateGradient(EB(EB({type:e.type},e.value),{},{min:s,width:a,height:l}),n)}return o}O8.tag="CanvasRenderer";var $8=["shadowBlur","shadowOffsetX","shadowOffsetY"],I8=["lineCap","lineJoin","miterLimit"],N8={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},T8={};function L8(e,t,n,r){var o=r.has(t)?r.get(t):N8[t];return o!==n&&("lineDash"===t?e.setLineDash(n):e[t]=n,r.set(t,n)),o}var R8=function(){return We(function e(t){He(this,e),this.imagePool=t},[{key:"applyAttributesToContext",value:function(e,t){}},{key:"render",value:function(e,t,n,r,o,i){}},{key:"applyCommonStyleToContext",value:function(e,t,n,r){var o=n?T8:r.prevObject.parsedStyle,i=t.parsedStyle;(n||i.opacity!==o.opacity)&&L8(e,"globalAlpha",YD(i.opacity)?N8.globalAlpha:i.opacity,r.currentContext),(n||i.blend!==o.blend)&&L8(e,"globalCompositeOperation",YD(i.blend)?N8.globalCompositeOperation:i.blend,r.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(e,t,n,r){var o=n?T8:r.prevObject.parsedStyle,i=t.parsedStyle,a=i.lineWidth,l=void 0===a?N8.lineWidth:a,s=i.fill&&!i.fill.isNone;if(i.stroke&&!i.stroke.isNone&&l>0){if(n||t.attributes.stroke!==r.prevObject.attributes.stroke)L8(e,"strokeStyle",YD(i.stroke)||Array.isArray(i.stroke)||i.stroke.isNone?N8.strokeStyle:t.attributes.stroke,r.currentContext);(n||i.lineWidth!==o.lineWidth)&&L8(e,"lineWidth",YD(i.lineWidth)?N8.lineWidth:i.lineWidth,r.currentContext),(n||i.lineDash!==o.lineDash)&&L8(e,"lineDash",i.lineDash||N8.lineDash,r.currentContext),(n||i.lineDashOffset!==o.lineDashOffset)&&L8(e,"lineDashOffset",YD(i.lineDashOffset)?N8.lineDashOffset:i.lineDashOffset,r.currentContext);for(var c=0;c<I8.length;c++){var u=I8[c];(n||i[u]!==o[u])&&L8(e,u,YD(i[u])?N8[u]:i[u],r.currentContext)}}s&&(n||t.attributes.fill!==r.prevObject.attributes.fill)&&L8(e,"fillStyle",YD(i.fill)||Array.isArray(i.fill)||i.fill.isNone?N8.fillStyle:t.attributes.fill,r.currentContext)}},{key:"applyStyleToContext",value:function(e,t,n,r){var o=t.nodeName;this.applyCommonStyleToContext(e,t,n,r),o===JH.IMAGE||this.applyStrokeFillStyleToContext(e,t,n,r)}},{key:"applyShadowAndFilterStyleToContext",value:function(e,t,n,r){var o=t.parsedStyle;if(n){L8(e,"shadowColor",o.shadowColor.toString(),r.currentContext);for(var i=0;i<$8.length;i++){var a=$8[i];L8(e,a,o[a]||N8[a],r.currentContext)}}o.filter&&o.filter.length&&L8(e,"filter",t.attributes.filter,r.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t){L8(e,"shadowColor",N8.shadowColor,r.currentContext);for(var i=0;i<$8.length;i++){var a=$8[i];L8(e,a,N8[a],r.currentContext)}}if(n)if(t&&o){var l=e.filter;!YD(l)&&l.indexOf("drop-shadow")>-1&&L8(e,"filter",l.replace(/drop-shadow\([^)]*\)/,"").trim()||N8.filter,r.currentContext)}else L8(e,"filter",N8.filter,r.currentContext)}},{key:"fillToContext",value:function(e,t,n,r,o){var i=this,a=t.parsedStyle,l=a.fill,s=a.fillRule,c=null;if(Array.isArray(l)&&l.length>0)l.forEach(function(r){var o=L8(e,"fillStyle",M8(r,t,e,i.imagePool),n.currentContext);c=null!=c?c:o,s?e.fill(s):e.fill()});else{if(cG(l)){var u=k8(l,t,e,t.ownerDocument.defaultView.context,r,o,this.imagePool);u&&(e.fillStyle=u,c=!0)}s?e.fill(s):e.fill()}null!==c&&L8(e,"fillStyle",c,n.currentContext)}},{key:"strokeToContext",value:function(e,t,n,r,o){var i=this,a=t.parsedStyle.stroke,l=null;if(Array.isArray(a)&&a.length>0)a.forEach(function(r){var o=L8(e,"strokeStyle",M8(r,t,e,i.imagePool),n.currentContext);l=null!=l?l:o,e.stroke()});else{if(cG(a)){var s=k8(a,t,e,t.ownerDocument.defaultView.context,r,o,this.imagePool);if(s){var c=L8(e,"strokeStyle",s,n.currentContext);l=null!=l?l:c}}e.stroke()}null!==l&&L8(e,"strokeStyle",l,n.currentContext)}},{key:"drawToContext",value:function(e,t,n,r,o){var i,a=t.nodeName,l=t.parsedStyle,s=l.opacity,c=void 0===s?N8.globalAlpha:s,u=l.fillOpacity,d=void 0===u?N8.fillOpacity:u,f=l.strokeOpacity,h=void 0===f?N8.strokeOpacity:f,p=l.lineWidth,g=void 0===p?N8.lineWidth:p,m=l.fill&&!l.fill.isNone,v=l.stroke&&!l.stroke.isNone&&g>0;if(m||v){var y=!YD(l.shadowColor)&&l.shadowBlur>0,b="inner"===l.shadowType,x=0===(null===(i=l.fill)||void 0===i?void 0:i.alpha),w=!(!l.filter||!l.filter.length),C=y&&v&&(a===JH.PATH||a===JH.LINE||a===JH.POLYLINE||x||b),S=null;if(m)C||this.applyShadowAndFilterStyleToContext(e,t,y,n),S=L8(e,"globalAlpha",c*d,n.currentContext),this.fillToContext(e,t,n,r,o),C||this.clearShadowAndFilterStyleForContext(e,y,w,n);if(v){var E=!1,O=L8(e,"globalAlpha",c*h,n.currentContext);if(S=m?S:O,C&&(this.applyShadowAndFilterStyleToContext(e,t,y,n),E=!0,b)){var k=e.globalCompositeOperation;e.globalCompositeOperation="source-atop",this.strokeToContext(e,t,n,r,o),e.globalCompositeOperation=k,this.clearShadowAndFilterStyleForContext(e,y,w,n,!0)}this.strokeToContext(e,t,n,r,o),E&&this.clearShadowAndFilterStyleForContext(e,y,w,n)}null!==S&&L8(e,"globalAlpha",S,n.currentContext)}}}])}(),_8=function(){function e(){return He(this,e),yl(this,e,arguments)}return Ve(e,R8),We(e,[{key:"render",value:function(e,t,n,r,o,i){var a=t.fill,l=t.fillRule,s=t.opacity,c=void 0===s?1:s,u=t.fillOpacity,d=void 0===u?1:u,f=t.stroke,h=t.strokeOpacity,p=void 0===h?1:h,g=t.lineWidth,m=void 0===g?1:g,v=t.lineCap,y=t.lineJoin,b=t.shadowType,x=t.shadowColor,w=t.shadowBlur,C=t.filter,S=t.miterLimit,E=a&&!a.isNone,O=f&&!f.isNone&&m>0,k=0===(null==a?void 0:a.alpha),M=!(!C||!C.length),$=!YD(x)&&w>0,I=n.nodeName,N="inner"===b,T=O&&$&&(I===JH.PATH||I===JH.LINE||I===JH.POLYLINE||k||N);E&&(e.globalAlpha=c*d,T||A8(n,e,$),P8(e,n,a,l,r,o,i,this.imagePool),T||this.clearShadowAndFilter(e,M,$)),O&&(e.globalAlpha=c*p,e.lineWidth=m,YD(S)||(e.miterLimit=S),YD(v)||(e.lineCap=v),YD(y)||(e.lineJoin=y),T&&(N&&(e.globalCompositeOperation="source-atop"),A8(n,e,!0),N&&(j8(e,n,f,r,o,i,this.imagePool),e.globalCompositeOperation=N8.globalCompositeOperation,this.clearShadowAndFilter(e,M,!0))),j8(e,n,f,r,o,i,this.imagePool))}},{key:"clearShadowAndFilter",value:function(e,t,n){if(n&&(e.shadowColor="transparent",e.shadowBlur=0),t){var r=e.filter;!YD(r)&&r.indexOf("drop-shadow")>-1&&(e.filter=r.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}();function A8(e,t,n){var r=e.parsedStyle,o=r.filter,i=r.shadowColor,a=r.shadowBlur,l=r.shadowOffsetX,s=r.shadowOffsetY;o&&o.length&&(t.filter=e.style.filter),n&&(t.shadowColor=i.toString(),t.shadowBlur=a||0,t.shadowOffsetX=l||0,t.shadowOffsetY=s||0)}function P8(e,t,n,r,o,i,a,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8];Array.isArray(n)?n.forEach(function(n){e.fillStyle=M8(n,t,e,l),s||(r?e.fill(r):e.fill())}):(cG(n)&&(e.fillStyle=k8(n,t,e,o,i,a,l)),s||(r?e.fill(r):e.fill()))}function j8(e,t,n,r,o,i,a){var l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Array.isArray(n)?n.forEach(function(n){e.strokeStyle=M8(n,t,e,a),l||e.stroke()}):(cG(n)&&(e.strokeStyle=k8(n,t,e,r,o,i,a)),l||e.stroke())}var B8=function(){function e(){return He(this,e),yl(this,e,arguments)}return Ve(e,_8),We(e,[{key:"renderDownSampled",value:function(e,t,n,r){var o=r.src,i=r.imageCache;i.downSampled?e.drawImage(i.downSampled,Math.floor(r.drawRect[0]),Math.floor(r.drawRect[1]),Math.ceil(r.drawRect[2]),Math.ceil(r.drawRect[3])):this.imagePool.createDownSampledImage(o,n).then(function(){n.ownerDocument&&(n.dirty(),n.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(e){})}},{key:"renderTile",value:function(e,t,n,r){var o=r.src,i=r.imageCache,a=r.imageRect,l=r.drawRect,s=i.size,c=e.getTransform(),u=c.a,d=c.b,f=c.c,h=c.d,p=c.e,g=c.f;if(e.resetTransform(),null!=i&&i.gridSize){for(var m=[s[0]/a[2],s[1]/a[3]],v=[i.tileSize[0]/m[0],i.tileSize[1]/m[1]],y=[Math.floor((l[0]-a[0])/v[0]),Math.ceil((l[0]+l[2]-a[0])/v[0])],b=y[0],x=y[1],w=[Math.floor((l[1]-a[1])/v[1]),Math.ceil((l[1]+l[3]-a[1])/v[1])],C=w[1],S=w[0];S<=C;S++)for(var E=b;E<=x;E++){var O=i.tiles[S][E];if(O){var k=[Math.floor(a[0]+O.tileX*v[0]),Math.floor(a[1]+O.tileY*v[1]),Math.ceil(v[0]),Math.ceil(v[1])];e.drawImage(O.data,k[0],k[1],k[2],k[3])}}e.setTransform(u,d,f,h,p,g)}else this.imagePool.createImageTiles(o,[],function(){n.ownerDocument&&(n.dirty(),n.ownerDocument.defaultView.context.renderingService.dirtify())},n).catch(function(e){})}},{key:"render",value:function(t,n,r){var o=n.x,i=void 0===o?0:o,a=n.y,l=void 0===a?0:a,s=n.width,c=n.height,u=n.src,d=n.shadowColor,f=n.shadowBlur,h=this.imagePool.getImageSync(u,r),p=null==h?void 0:h.img,g=s,m=c;if(p){var v,y,b,x,w,C;g||(g=p.width),m||(m=p.height),A8(r,t,!YD(d)&&f>0);try{var S=r.ownerDocument.defaultView.getContextService().getDomElement(),E=S.width,O=S.height,k=t.getTransform(),M=k.a,$=k.b,I=_B(M,k.c,0,0,$,k.d,0,0,0,0,1,0,k.e,k.f,0,1),N=(v=[i,l,g,m],y=I,b=MD(pD(),[v[0],v[1],0],y),x=MD(pD(),[v[0]+v[2],v[1],0],y),w=MD(pD(),[v[0],v[1]+v[3],0],y),C=MD(pD(),[v[0]+v[2],v[1]+v[3],0],y),[Math.min(b[0],x[0],w[0],C[0]),Math.min(b[1],x[1],w[1],C[1]),Math.max(b[0],x[0],w[0],C[0])-Math.min(b[0],x[0],w[0],C[0]),Math.max(b[1],x[1],w[1],C[1])-Math.min(b[1],x[1],w[1],C[1])]),T=function(e,t){var n=pt(e,4),r=n[0],o=n[1],i=n[2],a=n[3],l=pt(t,4),s=l[0],c=l[1],u=l[2],d=l[3],f=Math.max(r,s),h=Math.max(o,c),p=Math.min(r+i,s+u),g=Math.min(o+a,c+d);return p<=f||g<=h?null:[f,h,p-f,g-h]}([0,0,E,O],N);if(!T)return;if(!r.ownerDocument.defaultView.getConfig().enableLargeImageOptimization)return void e.renderFull(t,n,r,{image:p,drawRect:[i,l,g,m]});if(N[2]/h.size[0]<(h.downSamplingRate||.5))return void this.renderDownSampled(t,n,r,{src:u,imageCache:h,drawRect:[i,l,g,m]});if(!x8.isSupportTile)return void e.renderFull(t,n,r,{image:p,drawRect:[i,l,g,m]});this.renderTile(t,n,r,{src:u,imageCache:h,imageRect:N,drawRect:T})}catch(L){}}}},{key:"drawToContext",value:function(e,t,n,r,o){this.render(e,t.parsedStyle,t)}}],[{key:"renderFull",value:function(e,t,n,r){e.drawImage(r.image,Math.floor(r.drawRect[0]),Math.floor(r.drawRect[1]),Math.ceil(r.drawRect[2]),Math.ceil(r.drawRect[3]))}}])}(),D8=function(){function e(){return He(this,e),yl(this,e,arguments)}return Ve(e,_8),We(e,[{key:"render",value:function(e,t,n,r,o,i){n.getBounds();var a=t.lineWidth,l=void 0===a?1:a,s=t.textAlign,c=void 0===s?"start":s,u=t.textBaseline,d=void 0===u?"alphabetic":u,f=t.lineJoin,h=void 0===f?"miter":f,p=t.miterLimit,g=void 0===p?10:p,m=t.letterSpacing,v=void 0===m?0:m,y=t.stroke,b=t.fill,x=t.fillRule,w=t.fillOpacity,C=void 0===w?1:w,S=t.strokeOpacity,E=void 0===S?1:S,O=t.opacity,k=void 0===O?1:O,M=t.metrics,$=t.x,I=void 0===$?0:$,N=t.y,T=void 0===N?0:N,L=t.dx,R=t.dy,_=t.shadowColor,A=t.shadowBlur,P=M.font,j=M.lines,B=M.height,D=M.lineHeight,z=M.lineMetrics;e.font=P,e.lineWidth=l,e.textAlign="middle"===c?"center":c;var H=d;"alphabetic"===H&&(H="bottom"),e.lineJoin=h,YD(g)||(e.miterLimit=g);var F=T;"middle"===d?F+=-B/2-D/2:"bottom"===d||"alphabetic"===d||"ideographic"===d?F+=-B:"top"!==d&&"hanging"!==d||(F+=-D);var W=I+(L||0);F+=R||0,1===j.length&&("bottom"===H?(H="middle",F-=.5*B):"top"===H&&(H="middle",F+=.5*B)),e.textBaseline=H,A8(n,e,!YD(_)&&A>0);for(var G=0;G<j.length;G++){var V=l/2+W;F+=D,YD(y)||y.isNone||!l||this.drawLetterSpacing(e,n,j[G],z[G],c,V,F,v,b,x,C,y,E,k,!0,r,o,i),YD(b)||this.drawLetterSpacing(e,n,j[G],z[G],c,V,F,v,b,x,C,y,E,k,!1,r,o,i)}}},{key:"drawLetterSpacing",value:function(e,t,n,r,o,i,a,l,s,c,u,d,f,h,p,g,m,v){if(0!==l){var y=e.textAlign;e.textAlign="left";var b=i;"center"===o||"middle"===o?b=i-r.width/2:"right"!==o&&"end"!==o||(b=i-r.width);for(var x=Array.from(n),w=e.measureText(n).width,C=0,S=0;S<x.length;++S){var E=x[S];p?this.strokeText(e,t,E,b,a,d,f,g,m,v):this.fillText(e,t,E,b,a,s,c,u,h,g,m,v),b+=w-(C=e.measureText(n.substring(S+1)).width)+l,w=C}e.textAlign=y}else p?this.strokeText(e,t,n,i,a,d,f,g,m,v):this.fillText(e,t,n,i,a,s,c,u,h,g,m,v)}},{key:"fillText",value:function(e,t,n,r,o,i,a,l,s,c,u,d){var f;P8(e,t,i,a,c,u,d,this.imagePool,!0);var h=!YD(l)&&1!==l;h&&(f=e.globalAlpha,e.globalAlpha=l*s),e.fillText(n,r,o),h&&(e.globalAlpha=f)}},{key:"strokeText",value:function(e,t,n,r,o,i,a,l,s,c){var u;j8(e,t,i,l,s,c,this.imagePool,!0);var d=!YD(a)&&1!==a;d&&(u=e.globalAlpha,e.globalAlpha=a),e.strokeText(n,r,o),d&&(e.globalAlpha=u)}},{key:"drawToContext",value:function(e,t,n,r,o){this.render(e,t.parsedStyle,t,t.ownerDocument.defaultView.context,r,o)}}])}(),z8=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return He(this,e),(t=yl(this,e)).name="canvas-renderer",t.options=n,t}return Ve(e,tF),We(e,[{key:"init",value:function(){var e,t=EB({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),n=this.context.imagePool,r=new _8(n),o=(j(j(j(j(j(j(j(j(j(j(e={},JH.CIRCLE,r),JH.ELLIPSE,r),JH.RECT,r),JH.IMAGE,new B8(n)),JH.TEXT,new D8(n)),JH.LINE,r),JH.POLYLINE,r),JH.POLYGON,r),JH.PATH,r),JH.GROUP,void 0),j(j(j(e,JH.HTML,void 0),JH.MESH,void 0),JH.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=o,this.context.styleRendererFactory=o,this.addRenderingPlugin(new O8(t))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(),H8=function(){function e(){He(this,e)}return We(e,[{key:"apply",value:function(t,n){var r=this,o=t.renderingService,i=t.renderingContext,a=t.config;this.context=t;var l=i.root.ownerDocument.defaultView,s=function(e){o.hooks.pointerMove.call(e)},c=function(e){o.hooks.pointerUp.call(e)},u=function(e){o.hooks.pointerDown.call(e)},d=function(e){o.hooks.pointerOver.call(e)},f=function(e){o.hooks.pointerOut.call(e)},h=function(e){o.hooks.pointerCancel.call(e)},p=function(e){o.hooks.pointerWheel.call(e)},g=function(e){o.hooks.click.call(e)};o.hooks.init.tap(e.tag,function(){var e=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(e.style.msContentZooming="none",e.style.msTouchAction="none"):l.supportsPointerEvents&&(e.style.touchAction="none"),l.supportsPointerEvents?function(e){n.globalThis.document.addEventListener("pointermove",s,!0),e.addEventListener("pointerdown",u,!0),e.addEventListener("pointerleave",f,!0),e.addEventListener("pointerover",d,!0),n.globalThis.addEventListener("pointerup",c,!0),n.globalThis.addEventListener("pointercancel",h,!0)}(e):function(e){n.globalThis.document.addEventListener("mousemove",s,!0),e.addEventListener("mousedown",u,!0),e.addEventListener("mouseout",f,!0),e.addEventListener("mouseover",d,!0),n.globalThis.addEventListener("mouseup",c,!0)}(e),l.supportsTouchEvents&&function(e){e.addEventListener("touchstart",u,!0),e.addEventListener("touchend",c,!0),e.addEventListener("touchmove",s,!0),e.addEventListener("touchcancel",h,!0)}(e),a.useNativeClickEvent&&e.addEventListener("click",g,!0),e.addEventListener("wheel",p,{passive:!0,capture:!0})}),o.hooks.destroy.tap(e.tag,function(){var e=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(e.style.msContentZooming="",e.style.msTouchAction=""):l.supportsPointerEvents&&(e.style.touchAction=""),l.supportsPointerEvents?function(e){n.globalThis.document.removeEventListener("pointermove",s,!0),e.removeEventListener("pointerdown",u,!0),e.removeEventListener("pointerleave",f,!0),e.removeEventListener("pointerover",d,!0),n.globalThis.removeEventListener("pointerup",c,!0),n.globalThis.removeEventListener("pointercancel",h,!0)}(e):function(e){n.globalThis.document.removeEventListener("mousemove",s,!0),e.removeEventListener("mousedown",u,!0),e.removeEventListener("mouseout",f,!0),e.removeEventListener("mouseover",d,!0),n.globalThis.removeEventListener("mouseup",c,!0)}(e),l.supportsTouchEvents&&function(e){e.removeEventListener("touchstart",u,!0),e.removeEventListener("touchend",c,!0),e.removeEventListener("touchmove",s,!0),e.removeEventListener("touchcancel",h,!0)}(e),a.useNativeClickEvent&&e.removeEventListener("click",g,!0),e.removeEventListener("wheel",p,!0)})}}])}();H8.tag="DOMInteraction";var F8=function(){function e(){var t;He(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=yl(this,e,[].concat(r))).name="dom-interaction",t}return Ve(e,tF),We(e,[{key:"init",value:function(){this.addRenderingPlugin(new H8)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(),W8=function(){function e(){He(this,e),this.displayObjectHTMLElementMap=new WeakMap}return We(e,[{key:"joinTransformMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return"matrix(".concat([e[0],e[1],e[4],e[5],e[12]+t[0],e[13]+t[1]].join(","),")")}},{key:"apply",value:function(t,n){var r=this,o=t.camera,i=t.renderingContext,a=t.renderingService;this.context=t;var l=i.root.ownerDocument.defaultView,s=l.context.eventService.nativeHTMLMap,c=function(e,t){t.style.transform=r.joinTransformMatrix(e.getWorldTransform(),e.getOrigin())},u=function(e){var t=e.target;if(t.nodeName===JH.HTML){r.$camera||(r.$camera=r.createCamera(o));var n=r.getOrCreateEl(t);r.$camera.appendChild(n),Object.keys(t.attributes).forEach(function(e){r.updateAttribute(e,t)}),c(t,n),s.set(n,t)}},d=function(e){var t=e.target;if(t.nodeName===JH.HTML&&r.$camera){var n=r.getOrCreateEl(t);n&&(n.remove(),s.delete(n))}},f=function(e){var t=e.target;if(t.nodeName===JH.HTML){var n=e.attrName;r.updateAttribute(n,t)}},h=function(e){var t=e.target;(t.nodeName===JH.FRAGMENT?t.childNodes:[t]).forEach(function(e){if(e.nodeName===JH.HTML){var t=r.getOrCreateEl(e);c(e,t)}})},p=function(){if(r.$camera){var e=r.context.config,t=e.width,n=e.height;r.$camera.parentElement.style.width="".concat(t||0,"px"),r.$camera.parentElement.style.height="".concat(n||0,"px")}};a.hooks.init.tap(e.tag,function(){l.addEventListener(dU.RESIZE,p),l.addEventListener(Xq.MOUNTED,u),l.addEventListener(Xq.UNMOUNTED,d),l.addEventListener(Xq.ATTR_MODIFIED,f),l.addEventListener(Xq.BOUNDS_CHANGED,h)}),a.hooks.endFrame.tap(e.tag,function(){r.$camera&&i.renderReasons.has(Wq.CAMERA_CHANGED)&&(r.$camera.style.transform=r.joinTransformMatrix(o.getOrthoMatrix()))}),a.hooks.destroy.tap(e.tag,function(){r.$camera&&r.$camera.remove(),l.removeEventListener(dU.RESIZE,p),l.removeEventListener(Xq.MOUNTED,u),l.removeEventListener(Xq.UNMOUNTED,d),l.removeEventListener(Xq.ATTR_MODIFIED,f),l.removeEventListener(Xq.BOUNDS_CHANGED,h)})}},{key:"createCamera",value:function(e){var t=this.context.config,n=t.document,r=t.width,o=t.height,i=this.context.contextService.getDomElement(),a=i.parentNode;if(a){var l="g-canvas-camera",s=a.querySelector("#".concat(l));if(!s){var c=(n||document).createElement("div");c.style.overflow="hidden",c.style.pointerEvents="none",c.style.position="absolute",c.style.left="0px",c.style.top="0px",c.style.width="".concat(r||0,"px"),c.style.height="".concat(o||0,"px");var u=(n||document).createElement("div");s=u,u.id=l,u.style.position="absolute",u.style.left="".concat(i.offsetLeft||0,"px"),u.style.top="".concat(i.offsetTop||0,"px"),u.style.transformOrigin="left top",u.style.transform=this.joinTransformMatrix(e.getOrthoMatrix()),u.style.pointerEvents="none",u.style.width="100%",u.style.height="100%",c.appendChild(u),a.appendChild(c)}return s}return null}},{key:"getOrCreateEl",value:function(e){var t=this.context.config.document,n=this.displayObjectHTMLElementMap.get(e);return n||(n=(t||document).createElement("div"),e.parsedStyle.$el=n,this.displayObjectHTMLElementMap.set(e,n),e.id&&(n.id=e.id),e.name&&n.setAttribute("name",e.name),e.className&&(n.className=e.className),n.style.position="absolute",n.style["will-change"]="transform",n.style.transform=this.joinTransformMatrix(e.getWorldTransform(),e.getOrigin())),n}},{key:"updateAttribute",value:function(e,t){var n=this.getOrCreateEl(t);switch(e){case"innerHTML":var r=t.parsedStyle.innerHTML;lz(r)?n.innerHTML=r:(n.innerHTML="",n.appendChild(r));break;case"x":n.style.left="".concat(t.parsedStyle.x,"px");break;case"y":n.style.top="".concat(t.parsedStyle.y,"px");break;case"transformOrigin":var o=t.parsedStyle.transformOrigin;n.style["transform-origin"]="".concat(o[0].buildCSSText(null,null,"")," ").concat(o[1].buildCSSText(null,null,""));break;case"width":var i=t.parsedStyle.width;n.style.width=uz(i)?"".concat(i,"px"):i.toString();break;case"height":var a=t.parsedStyle.height;n.style.height=uz(a)?"".concat(a,"px"):a.toString();break;case"zIndex":var l=t.parsedStyle.zIndex;n.style["z-index"]="".concat(l);break;case"visibility":var s=t.parsedStyle.visibility;n.style.visibility=s;break;case"pointerEvents":var c=t.parsedStyle.pointerEvents,u=void 0===c?"auto":c;n.style.pointerEvents=u;break;case"opacity":var d=t.parsedStyle.opacity;n.style.opacity="".concat(d);break;case"fill":var f=t.parsedStyle.fill,h="";uG(f)?h=f.isNone?"transparent":t.getAttribute("fill"):Array.isArray(f)?h=t.getAttribute("fill"):cG(f),n.style.background=h;break;case"stroke":var p=t.parsedStyle.stroke,g="";uG(p)?g=p.isNone?"transparent":t.getAttribute("stroke"):Array.isArray(p)?g=t.getAttribute("stroke"):cG(p),n.style["border-color"]=g,n.style["border-style"]="solid";break;case"lineWidth":var m=t.parsedStyle.lineWidth;n.style["border-width"]="".concat(m||0,"px");break;case"lineDash":n.style["border-style"]="dashed";break;case"filter":var v=t.style.filter;n.style.filter=v;break;default:YD(t.style[e])||""===t.style[e]||(n.style[e]=t.style[e])}}}])}();
/*!
 * @antv/g-plugin-html-renderer
 * @description A G plugin for rendering HTML
 * @version 2.1.27
 * @date 7/30/2025, 1:35:48 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */W8.tag="HTMLRendering";var G8=function(){function e(){var t;He(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=yl(this,e,[].concat(r))).name="html-renderer",t}return Ve(e,tF),We(e,[{key:"init",value:function(){this.addRenderingPlugin(new W8)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(),V8=function(){return We(function e(t){He(this,e),this.renderingContext=t.renderingContext,this.canvasConfig=t.config},[{key:"init",value:function(){var e=this.canvasConfig,t=e.container,n=e.canvas;if(n)this.$canvas=n,t&&n.parentElement!==t&&t.appendChild(n),this.$container=n.parentElement,this.canvasConfig.container=this.$container;else if(t&&(this.$container=lz(t)?document.getElementById(t):t,this.$container)){var r=document.createElement("canvas");this.$container.appendChild(r),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=r}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(e,t){var n=this.canvasConfig.devicePixelRatio;this.dpr=n,this.$canvas&&(this.$canvas.width=this.dpr*e,this.$canvas.height=this.dpr*t,function(e,t,n){BV&&e.style&&(e.style.width=t+"px",e.style.height=n+"px")}(this.$canvas,e,t)),this.renderingContext.renderReasons.add(Wq.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(e){this.$container&&this.$container.style&&(this.$container.style.cursor=e)}},{key:"toDataURL",value:(e=ms(ps().mark(function e(){var t,n,r,o=arguments;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=o.length>0&&void 0!==o[0]?o[0]:{}).type,r=t.encoderOptions,e.abrupt("return",this.context.canvas.toDataURL(n,r));case 1:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]);var e}(),q8=function(){function e(){var t;He(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=yl(this,e,[].concat(r))).name="canvas-context-register",t}return Ve(e,tF),We(e,[{key:"init",value:function(){this.context.ContextService=V8}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(),X8=function(){function e(t){var n;return He(this,e),(n=yl(this,e,[t])).registerPlugin(new q8),n.registerPlugin(new S8),n.registerPlugin(new H6),n.registerPlugin(new z8),n.registerPlugin(new F8),n.registerPlugin(new d8),n.registerPlugin(new G8),n}return Ve(e,nF),We(e)}();
/*!
 * @antv/g-canvas
 * @description A renderer implemented by Canvas 2D API
 * @version 2.0.48
 * @date 7/30/2025, 1:38:18 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */class U8{constructor(e){this.viewport=window,this.init=()=>{this.initDevicePixelRatioListener(),this.initDeviceZoomListener()},this.destroy=()=>{this.removeDevicePixelRatioListener(),this.removeDeviceZoomListener()},this.removeDevicePixelRatioListener=()=>{var e;(null===(e=this.devicePixelRatioMedia)||void 0===e?void 0:e.removeEventListener)?this.devicePixelRatioMedia.removeEventListener("change",this.renderByDevicePixelRatioChanged):this.devicePixelRatioMedia.removeListener(this.renderByDevicePixelRatioChanged)},this.initDeviceZoomListener=()=>{var e,t;sJ()||null===(t=null===(e=this.viewport)||void 0===e?void 0:e.visualViewport)||void 0===t||t.addEventListener("resize",this.renderByZoomScaleWithoutResizeEffect)},this.removeDeviceZoomListener=()=>{var e,t;sJ()||null===(t=null===(e=this.viewport)||void 0===e?void 0:e.visualViewport)||void 0===t||t.removeEventListener("resize",this.renderByZoomScaleWithoutResizeEffect)},this.renderByZoomScaleWithoutResizeEffect=e=>Hz(this,void 0,void 0,function*(){this.isDevicePixelRatioChange=!1,yield this.renderByZoomScale(e)}),this.renderByDevicePixelRatioChanged=()=>Hz(this,void 0,void 0,function*(){this.isDevicePixelRatioChange=!0,yield this.renderByDevicePixelRatio()}),this.renderByDevicePixelRatio=(...e)=>Hz(this,[...e],void 0,function*(e=window.devicePixelRatio){var t;if(this.spreadsheet.destroyed)return;const{container:n,options:{width:r,height:o}}=this.spreadsheet,i=this.spreadsheet.getCanvasElement(),a=Math.ceil(e);(null!==(t=n.getConfig().devicePixelRatio)&&void 0!==t?t:1)!==a&&i&&(n.getConfig().devicePixelRatio=a,n.resize(r,o),yield this.spreadsheet.render(!1))}),this.renderByZoomScale=vY.debounce(e=>Hz(this,void 0,void 0,function*(){if(this.spreadsheet.destroyed)return;const t=e.target,n=Math.ceil(null==t?void 0:t.scale),r=(this.zoomOffsetLeft||0)!==((null==t?void 0:t.offsetLeft)||0);if(n>=1&&r&&!this.isDevicePixelRatioChange){const e=Math.max(n,window.devicePixelRatio);yield this.renderByDevicePixelRatio(e),this.zoomOffsetLeft=t.offsetLeft}}),350),this.spreadsheet=e,this.isDevicePixelRatioChange=!1,this.zoomOffsetLeft=0}initDevicePixelRatioListener(){var e;this.devicePixelRatioMedia=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),(null===(e=this.devicePixelRatioMedia)||void 0===e?void 0:e.addEventListener)?this.devicePixelRatioMedia.addEventListener("change",this.renderByDevicePixelRatioChanged):this.devicePixelRatioMedia.addListener(this.renderByDevicePixelRatioChanged)}}class Y8{constructor(e){this.visible=!1,this.position={x:0,y:0},this.spreadsheet=e}show(e){var t,n,r;const{position:o,content:i,event:a}=e,{autoAdjustBoundary:l,adjustPosition:s}=this.spreadsheet.options.tooltip||{};this.visible=!0,this.options=e;const c=this.getContainer();this.renderContent(i);const{x:u,y:d}=(({spreadsheet:e,position:t,tooltipContainer:n,autoAdjustBoundary:r})=>{const o=e.getCanvasElement();let i=t.x+WZ,a=t.y+GZ;if(!r||!o)return{x:i,y:a};const l="body"===r,{maxX:s,maxY:c}=e.facet.panelBBox,{width:u,height:d}=e.options,{top:f,left:h}=o.getBoundingClientRect(),{width:p,height:g}=n.getBoundingClientRect(),{width:m,height:v}=document.body.getBoundingClientRect(),y=l?m:Math.min(u,s)+h,b=l?v:Math.min(d,c)+f;return i+p>=y&&(i=y-p),a+g>=b&&(a=b-g),{x:i,y:a}})({spreadsheet:this.spreadsheet,position:o,tooltipContainer:c,autoAdjustBoundary:l});this.position=null!==(t=null==s?void 0:s({position:{x:u,y:d},event:a}))&&void 0!==t?t:{x:u,y:d},S5(c,{style:{left:`${null===(n=this.position)||void 0===n?void 0:n.x}px`,top:`${null===(r=this.position)||void 0===r?void 0:r.y}px`,pointerEvents:"all"},visible:!0,dark:"dark"===this.spreadsheet.getThemeName()})}hide(){this.visible=!1,this.container&&(S5(this.container,{style:{pointerEvents:"none"},visible:!1}),this.resetPosition())}destroy(){var e,t;this.visible=!1,this.container&&(this.resetPosition(),null===(t=(e=this.container).remove)||void 0===t||t.call(e),this.container=null)}renderContent(e){var t,n,r,o;if(!this.container)return;this.clearContent();const{content:i}=this.spreadsheet.options.tooltip||{},a=null!=e?e:i;return vY.isNil(a)?void 0:"string"==typeof a?(this.container.innerHTML=a,void(null===(n=(t=this.options).onMounted)||void 0===n||n.call(t))):void(a instanceof Element&&(this.container.appendChild(a),null===(o=(r=this.options).onMounted)||void 0===o||o.call(r)))}clearContent(){this.container&&(this.container.innerHTML="")}disablePointerEvent(){this.container&&"none"!==this.container.style.pointerEvents&&S5(this.container,{style:{pointerEvents:"none"}})}resetPosition(){this.position={x:0,y:0}}getContainer(){var e;if(!this.container){const{tooltip:t}=this.spreadsheet.options,n=(null===(e=null==t?void 0:t.getContainer)||void 0===e?void 0:e.call(t))||document.body,r=document.createElement("div");return S5(r,{style:null==t?void 0:t.style,className:[zZ].concat(null==t?void 0:t.className)}),n.appendChild(r),this.container=r,this.container}return this.container}}class K8 extends W4{constructor(e,t,n){super(),this.store=new gQ,this.destroyed=!1,this.measureText=vY.memoize((e,t)=>{if(!t)return null;const n=(()=>{let e=document.getElementById(S2);return e||(e=document.createElement("canvas"),e.id=S2,e.style.display="none",document.body.appendChild(e),e)})()||this.getCanvasElement(),r=null==n?void 0:n.getContext("2d"),{fontSize:o,fontFamily:i,fontWeight:a,fontStyle:l,fontVariant:s}=t;return r.font=[l,s,a,`${o}px`,i].join(" ").trim(),r.measureText(String(e))},(e,t)=>[e,...vY.values(t)].join("")),this.measureTextWidth=(e,t)=>{const n=this.measureText(e,t);return(null==n?void 0:n.width)||0},this.measureTextHeight=(e,t)=>{const n=this.measureText(e,t);return n?n.actualBoundingBoxAscent+n.actualBoundingBoxDescent:0},this.measureTextWidthRoughly=(e,t)=>{const n=this.measureTextWidth("a",t),r=this.measureTextWidth("",t);let o=0;if(!e)return o;for(const i of String(e)){const e=i.charCodeAt(0);o+=e>=0&&e<=255?n:r}return o},this.setupDataConfig(t),this.setupOptions(n),this.dataSet=this.getDataSet(),this.setDebug(),this.initTooltip(),this.initContainer(e),this.bindEvents(),this.initInteraction(),this.initTheme(),this.initHdAdapter(),this.registerIcons(),this.setOverscrollBehavior(),this.mountSheetInstance()}setupDataConfig(e){this.dataCfg=b5(e)}setupOptions(e){this.options=x5(e)}isCustomHeaderFields(e){const{fields:t}=this.dataCfg;return e?vY.some(null==t?void 0:t[e],e=>!vY.isString(e)):vY.some([...null==t?void 0:t.rows,...null==t?void 0:t.columns],e=>!vY.isString(e))}isCustomColumnFields(){return this.isCustomHeaderFields("columns")}setOverscrollBehavior(){const{overscrollBehavior:e}=this.options.interaction,t=window.getComputedStyle(document.body).getPropertyValue("overscroll-behavior");t&&"auto"!==t?this.store.set("initOverscrollBehavior",t):e&&(document.body.style.overscrollBehavior=e)}restoreOverscrollBehavior(){document.body.style.overscrollBehavior=this.store.get("initOverscrollBehavior")||""}setDebug(){UZ.getInstance().setDebug(this.options.debug)}initTheme(){this.setThemeCfg({name:"default"})}getMountContainer(e){const t=vY.isString(e)?document.querySelector(e):e;if(!t)throw new Error("Target mount container is not a DOM element");return t}initHdAdapter(){this.options.hd&&(this.hdAdapter=new U8(this),this.hdAdapter.init())}initInteraction(){var e,t;null===(t=null===(e=this.interaction)||void 0===e?void 0:e.destroy)||void 0===t||t.call(e),this.interaction=new O6(this)}initTooltip(){var e,t;null===(t=null===(e=this.tooltip)||void 0===e?void 0:e.destroy)||void 0===t||t.call(e),this.tooltip=this.renderTooltip(),this.tooltip}renderTooltip(){var e,t;return(null===(t=null===(e=this.options.tooltip)||void 0===e?void 0:e.render)||void 0===t?void 0:t.call(e,this))||new Y8(this)}getTargetCell(e){return this.getCell(e)||vY.last(this.interaction.getInteractedCells())}showTooltip(e){const{content:t,event:n}=e,r=this.getTargetCell(null==n?void 0:n.target),o=vY.isFunction(t)?t(r,e):t;return new Promise(t=>{var n,r;const i=Object.assign(Object.assign({},e),{content:o,onMounted:t});null===(r=null===(n=this.tooltip)||void 0===n?void 0:n.show)||void 0===r||r.call(n,i)})}showTooltipWithInfo(e,t,n){var r;const{enable:o,content:i}=T5(this,e);if(!o)return;const a=this.getTargetCell(null==e?void 0:e.target),l=null!==(r=null==n?void 0:n.data)&&void 0!==r?r:I5({spreadsheet:this,cellInfos:t,targetCell:a,options:Object.assign({enableFormat:!0},n)});return this.showTooltip({data:l,position:{x:e.clientX,y:e.clientY},options:n,event:e,content:i})}hideTooltip(){var e,t;null===(t=null===(e=this.tooltip)||void 0===e?void 0:e.hide)||void 0===t||t.call(e)}destroyTooltip(){var e,t;null===(t=null===(e=this.tooltip)||void 0===e?void 0:e.destroy)||void 0===t||t.call(e)}registerIcons(){const e=this.options.customSVGIcons;vY.isEmpty(e)||vY.forEach(e,e=>{ZZ(e.name,e.src)})}setDataCfg(e,t){this.store.set("originalDataCfg",e),this.dataCfg=t?b5(e):b5(this.dataCfg,e),this.store.set(TY,LY)}setOptions(e,t){var n;this.hideTooltip(),t?this.setupOptions(e):this.options=y5(this.options,e),(t||(null===(n=null==e?void 0:e.tooltip)||void 0===n?void 0:n.render))&&this.initTooltip(),this.resetHiddenColumnsDetailInfoIfNeeded(),this.registerIcons()}resetDataCfg(){this.setDataCfg(null,!0)}resetOptions(){this.setOptions(null,!0)}resetHiddenColumnsDetailInfoIfNeeded(){var e;vY.isEmpty(null===(e=this.options.interaction)||void 0===e?void 0:e.hiddenColumnFields)||this.store.set("hiddenColumnsDetail",[])}doRender(e){return Hz(this,void 0,void 0,function*(){const t=this.getCanvasElement();if(!t||!t.isConnected)return;const{reloadData:n=!0,rebuildDataSet:r=!1,rebuildHiddenColumnsDetail:o=!0}=e||{};this.emit(BY.LAYOUT_BEFORE_RENDER),r&&(this.dataSet=this.getDataSet()),n&&(this.clearDrillDownData("",!0),this.dataSet.setDataCfg(this.dataCfg)),this.buildFacet(),o&&(yield this.initHiddenColumnsDetail()),this.emit(BY.LAYOUT_AFTER_RENDER)})}render(e){return Hz(this,void 0,void 0,function*(){if(this.destroyed)return;const t="boolean"==typeof e?{reloadData:e}:e;yield this.container.ready,yield this.doRender(t)})}mountSheetInstance(){const e=this.getCanvasElement();e&&(e.__s2_instance__=this)}unmountSheetInstance(){const e=this.getCanvasElement();e&&delete e.__s2_instance__}destroy(){var e,t,n,r,o;this.destroyed||(this.destroyed=!0,this.restoreOverscrollBehavior(),this.emit(BY.LAYOUT_DESTROY),null===(e=this.facet)||void 0===e||e.destroy(),null===(t=this.hdAdapter)||void 0===t||t.destroy(),null===(n=this.interaction)||void 0===n||n.destroy(),null===(r=this.store)||void 0===r||r.clear(),this.destroyTooltip(),this.clearCanvasEvent(),this.unmountSheetInstance(),null===(o=this.container)||void 0===o||o.destroy(),(()=>{var e;null===(e=document.getElementById(S2))||void 0===e||e.remove()})())}setThemeName(e){this.themeName=e}setThemeCfg(e={},t){const n=(null==e?void 0:e.theme)||{},r=y4(Object.assign(Object.assign({},e),{spreadsheet:this,getCustomTheme:t}));this.theme=y5(r,n),this.setThemeName(null==e?void 0:e.name)}setTheme(e){this.theme=y5(this.theme,e)}getTheme(){return this.theme}getThemeName(){return this.themeName}updatePagination(e){this.options=y5(this.options,{pagination:e}),this.facet.resetScrollOffset()}changeSheetSize(e=this.options.width,t=this.options.height){const n=this.getCanvasElement(),{width:r,height:o}=this.container.getConfig();(e!==r||t!==o)&&n&&(this.options=y5(this.options,{width:e,height:t}),this.container.resize(e,t))}on(e,t){return super.on(e,t)}emit(e,...t){super.emit(e,...t)}getCanvas(){return this.container}getCanvasConfig(){return this.getCanvas().getConfig()}getCanvasElement(){return this.getCanvas().getContextService().getDomElement()}getLayoutWidthType(){var e;return null===(e=this.options.style)||void 0===e?void 0:e.layoutWidthType}isCellType(e){return e instanceof EJ}getCell(e){let t=e;for(;t&&!(t instanceof vU);){if(this.isCellType(t))return t;t=null==t?void 0:t.parentNode}return null}getCellType(e){const t=this.getCell(e);return null==t?void 0:t.cellType}getTotalsConfig(e){const{totals:t}=this.options,{rows:n}=this.dataSet.fields,r=vY.get(t,vY.includes(n,e)?"row":"col",{}),o=!(!r.showSubTotals||!vY.includes(r.subTotalsDimensions,e))&&r.showSubTotals;return Object.assign(Object.assign({grandTotalsLabel:bY(""),subTotalsLabel:bY(""),grandTotalsGroupDimensions:[],subTotalsGroupDimensions:[]},r),{showSubTotals:o})}initContainer(e){const{width:t,height:n,device:r,transformCanvasConfig:o,rendererConfig:i}=this.options,a=new X8(i),l=null==o?void 0:o(a,this),s=!sJ(r);this.container=new vU(Object.assign({container:this.getMountContainer(e),width:t,height:n,renderer:a,supportsPointerEvents:s,future:{experimentalRICSyncRTree:!0,experimentalCancelEventPropagation:!0}},l)),this.setupContainerStyle()}setupContainerStyle(){const e=this.getCanvasElement();e&&(e.style.display="block",e.style.userSelect="none")}initHiddenColumnsDetail(){return Hz(this,void 0,void 0,function*(){const{hiddenColumnFields:e}=this.options.interaction,t=this.store.get("hiddenColumnsDetail");vY.isEmpty(e)&&vY.isEmpty(t)||(yield HJ(this,e,!0))})}clearCanvasEvent(){const e=this.getEvents();vY.forIn(e,(e,t)=>{this.off(t)})}updateSortMethodMap(e,t,n=!1){const r=n?null:this.store.get("sortMethodMap");this.store.set("sortMethodMap",Object.assign(Object.assign({},r),{[e]:t}))}getMenuDefaultSelectedKeys(e){const t=this.store.get("sortMethodMap"),n=vY.get(t,e);return n?[n]:[]}handleGroupSort(e,t){e.stopPropagation(),this.interaction.addIntercepts([bK.HOVER]);const n={menu:{selectedKeys:this.getMenuDefaultSelectedKeys(null==t?void 0:t.id),items:this.isTableMode()?[{key:"asc",icon:"groupAsc",label:bY("")},{key:"desc",icon:"groupDesc",label:bY("")},{key:"none",label:bY("")}]:[{key:"asc",icon:"groupAsc",label:bY("")},{key:"desc",icon:"groupDesc",label:bY("")},{key:"none",label:bY("")}],onClick:n=>Hz(this,[n],void 0,function*({key:n}){yield this.groupSortByMethod(n,t),this.emit(BY.RANGE_SORTED,e)})}};this.showTooltipWithInfo(e,[],{operator:n,onlyShowOperator:!0})}getSeriesNumberText(){var e;const{text:t,enable:n}=null!==(e=this.options.seriesNumber)&&void 0!==e?e:{};return n?null!=t?t:bY(""):""}enableAsyncExport(){return!0}}let Z8=class extends K8{isCustomRowFields(){return this.isCustomHeaderFields("rows")}getDataSet(){const{dataSet:e}=this.options;return e?e(this):this.isCustomRowFields()?new R5(this):new L5(this)}getContentHeight(){return this.facet.getContentHeight()}isPivotMode(){return!0}isTableMode(){return!1}isHierarchyTreeType(){return"tree"===this.options.hierarchyType}isFrozenRowHeader(){var e,t;return!!(null===(t=null===(e=this.options)||void 0===e?void 0:e.frozen)||void 0===t?void 0:t.rowHeader)}isValueInCols(){var e,t;return null===(t=null===(e=this.dataSet)||void 0===e?void 0:e.fields)||void 0===t?void 0:t.valueInCols}clearDrillDownData(e,t){return Hz(this,void 0,void 0,function*(){if(this.dataSet instanceof L5){this.dataSet.clearDrillDownData(e)&&!t&&(this.interaction.reset(),yield this.render(!1))}})}buildFacet(){var e,t,n,r,o,i;null!==(e=(i=this.options).dataCell)&&void 0!==e||(i.dataCell=e=>new f2(e,this)),null===(t=this.facet)||void 0===t||t.destroy(),this.facet=null!==(o=null===(r=(n=this.options).facet)||void 0===r?void 0:r.call(n,this))&&void 0!==o?o:new n6(this),this.facet.render()}bindEvents(){this.off(BY.ROW_CELL_COLLAPSED__PRIVATE),this.off(BY.ROW_CELL_ALL_COLLAPSED__PRIVATE),this.on(BY.ROW_CELL_COLLAPSED__PRIVATE,this.handleRowCellCollapsed),this.on(BY.ROW_CELL_ALL_COLLAPSED__PRIVATE,this.handleRowCellToggleCollapseAll)}handleRowCellCollapsed(e){return Hz(this,void 0,void 0,function*(){var t;const{isCollapsed:n,node:r}=e,{collapseFields:o}=null===(t=this.options.style)||void 0===t?void 0:t.rowCell,i=Object.assign(Object.assign({},o),{[r.id]:n});this.setOptions({style:{rowCell:{collapseFields:i}}}),yield this.render(!1),this.emit(BY.ROW_CELL_COLLAPSED,{isCollapsed:n,collapseFields:i,node:r})})}handleRowCellToggleCollapseAll(e){return Hz(this,void 0,void 0,function*(){const t=!e;this.setOptions({style:{rowCell:{collapseAll:t,collapseFields:null,expandDepth:null}}}),yield this.render(!1),this.emit(BY.ROW_CELL_ALL_COLLAPSED,t)})}groupSortByMethod(e,t){return Hz(this,void 0,void 0,function*(){var n;const{rows:r,columns:o}=this.dataCfg.fields,{hideValue:i}=this.options.style.colCell,a=this.isValueInCols()?vY.last(r):vY.last(o),{query:l,field:s,value:c,extra:u}=t,d=vY.clone(l);let f=(null==u?void 0:u.isCustomNode)?s:c;i&&this.isValueInCols()&&(f=this.dataSet.fields.values[0],d[WY]=f);const h={sortFieldId:vY.isString(a)?a:a.field,sortMethod:e,sortByMeasure:f,query:d},p=null===(n=this.dataCfg.sortParams)||void 0===n?void 0:n.filter(e=>(null==e?void 0:e.sortFieldId)!==a);this.updateSortMethodMap(t.id,e,!0);const g=[...p,h];this.emit(BY.RANGE_SORT,g),this.setDataCfg(Object.assign(Object.assign({},this.dataCfg),{sortParams:g})),yield this.render()})}},Q8=class extends K8{isCustomRowFields(){return!1}getDataSet(){const{dataSet:e}=this.options;return e?e(this):new _5(this)}isPivotMode(){return!1}isTableMode(){return!0}isHierarchyTreeType(){return!1}isFrozenRowHeader(){return!1}clearDrillDownData(){return Hz(this,void 0,void 0,function*(){})}isValueInCols(){return!1}bindEvents(){}buildFacet(){var e,t,n,r,o,i;null!==(e=(i=this.options).dataCell)&&void 0!==e||(i.dataCell=e=>{var t;return(null===(t=this.options.seriesNumber)||void 0===t?void 0:t.enable)&&0===e.colIndex?new w2(e,this):new x2(e,this)}),null===(t=this.facet)||void 0===t||t.destroy(),this.facet=null!==(o=null===(r=(n=this.options).facet)||void 0===r?void 0:r.call(n,this))&&void 0!==o?o:new o6(this),this.facet.render()}destroy(){super.destroy(),this.off(BY.RANGE_SORT),this.off(BY.RANGE_FILTER)}groupSortByMethod(e,t){const{field:n}=t,r={sortFieldId:n,sortMethod:e};this.updateSortMethodMap(t.id,e),this.emit(BY.RANGE_SORT,[r])}};var J8;J8=M6,yY=vY.merge({},yY,J8);const e7=()=>[["cartesian"]];e7.props={};const t7=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,outerRadius:1},n=Object.assign(Object.assign({},t),e);return Object.assign(Object.assign({},n),(r=n.startAngle,o=n.endAngle,r%=2*Math.PI,o%=2*Math.PI,r<0&&(r=2*Math.PI+r),o<0&&(o=2*Math.PI+o),r>=o&&(o+=2*Math.PI),{startAngle:r,endAngle:o}));var r,o},n7=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:o}=t7(e);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",t,n,r,o]]};n7.props={};const r7=({startAngle:e=0,endAngle:t=6*Math.PI,innerRadius:n=0,outerRadius:r=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",e,t,n,r]];r7.props={};const o7=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];o7.props={transform:!0};const i7=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:o}=((e={})=>{const t={startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},t),e)})(e);return[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5],...n7({startAngle:t,endAngle:n,innerRadius:r,outerRadius:o})]};i7.props={};const a7=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},t),e)},l7=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:o}=a7(e);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...n7({startAngle:t,endAngle:n,innerRadius:r,outerRadius:o})]};l7.props={};const s7=()=>[["parallel",0,1,0,1]];s7.props={};const c7=({focusX:e=0,focusY:t=0,distortionX:n=2,distortionY:r=2,visual:o=!1})=>[["fisheye",e,t,n,r,o]];c7.props={transform:!0};const u7=e=>{const{startAngle:t=-Math.PI/2,endAngle:n=3*Math.PI/2,innerRadius:r=0,outerRadius:o=1}=e;return[["parallel",0,1,0,1],...n7({startAngle:t,endAngle:n,innerRadius:r,outerRadius:o})]};u7.props={};const d7=({value:e})=>t=>t.map(()=>e);d7.props={};const f7=({value:e})=>t=>t.map(e);f7.props={};const h7=({value:e})=>t=>t.map(t=>t[e]);h7.props={};const p7=({value:e})=>()=>e;function g7(e,t){if(null!==e)return{type:"column",value:e,field:t}}function m7(e,t){const n=g7(e,t);return Object.assign(Object.assign({},n),{inferred:!0})}function v7(e,t){if(null!==e)return{type:"column",value:e,field:t,visual:!0}}function y7(e,t){const n=g7(e,t);return Object.assign(Object.assign({},n),{constant:!1})}function b7(e,t){const n=[];for(const r of e)n[r]=t;return n}function x7(e,t){const n=e[t];if(!n)return[null,null];const{value:r,field:o=null}=n;return[r,o]}function w7(e,...t){for(const n of t){if("string"!=typeof n)return[n,null];{const[t,r]=x7(e,n);if(null!==t)return[t,r]}}return[null,null]}function C7(e){return!(e instanceof Date)&&"object"==typeof e}p7.props={};const S7=()=>(e,t)=>{const{encode:n}=t,{y1:r}=n;return void 0!==r?[e,t]:[e,kz({},t,{encode:{y1:m7(b7(e,0))}})]};function E7(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function O7(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function k7(e){let t,n,r;function o(e,r,o=0,i=e.length){if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<0?o=t+1:i=t}while(o<i)}return o}return 2!==e.length?(t=E7,n=(t,n)=>E7(e(t),n),r=(t,n)=>e(t)-n):(t=e===E7||e===O7?e:M7,n=e,r=e),{left:o,center:function(e,t,n=0,i=e.length){const a=o(e,t,n,i-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r,o=0,i=e.length){if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<=0?o=t+1:i=t}while(o<i)}return o}}}function M7(){return 0}function $7(e){return null===e?NaN:+e}S7.props={};const I7=k7(E7),N7=I7.right,T7=I7.left,L7=k7($7).center;function R7(e,t){let n=0;for(let r of e)null!=r&&(r=+r)>=r&&++n;return n}function _7(e,t){const n=function(e,t){let n,r=0,o=0,i=0;if(void 0===t)for(let a of e)null!=a&&(a=+a)>=a&&(n=a-o,o+=n/++r,i+=n*(a-o));else{let a=-1;for(let l of e)null!=(l=t(l,++a,e))&&(l=+l)>=l&&(n=l-o,o+=n/++r,i+=n*(l-o))}if(r>1)return i/(r-1)}(e,t);return n?Math.sqrt(n):n}function A7(e,t){let n,r;if(void 0===t)for(const o of e)null!=o&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let i of e)null!=(i=t(i,++o,e))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class P7{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const o=t[r],i=e+o,a=Math.abs(e)<Math.abs(o)?e-(i-o):o-(i-e);a&&(t[n++]=a),e=i}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,o=this._n,i=0;if(o>0){for(i=e[--o];o>0&&(t=i,n=e[--o],i=t+n,r=n-(i-t),!r););o>0&&(r<0&&e[o-1]<0||r>0&&e[o-1]>0)&&(n=2*r,t=i+n,n==t-i&&(i=t))}return i}}let j7=class extends Map{constructor(e,t=D7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(B7(this,e))}has(e){return super.has(B7(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}};function B7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function D7(e){return null!==e&&"object"==typeof e?e.valueOf():e}function z7(e){return e}function H7(e,...t){return V7(e,z7,z7,t)}function F7(e,...t){return V7(e,Array.from,z7,t)}function W7(e,t,...n){return V7(e,z7,t,n)}function G7(e,t,...n){return V7(e,Array.from,t,n)}function V7(e,t,n,r){return function e(o,i){if(i>=r.length)return n(o);const a=new j7,l=r[i++];let s=-1;for(const t of o){const e=l(t,++s,o),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[t,n]of a)a.set(t,e(n,i));return t(a)}(e,0)}function q7(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&2!==n.length||t.length>1){const i=Uint32Array.from(e,(e,t)=>t);return t.length>1?(t=t.map(t=>e.map(t)),i.sort((e,n)=>{for(const r of t){const t=U7(r[e],r[n]);if(t)return t}})):(n=e.map(n),i.sort((e,t)=>U7(n[e],n[t]))),r=e,o=i,Array.from(o,e=>r[e])}var r,o;return e.sort(X7(n))}function X7(e=E7){if(e===E7)return U7;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function U7(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}var Y7=Array.prototype.slice;function K7(e){return()=>e}const Z7=Math.sqrt(50),Q7=Math.sqrt(10),J7=Math.sqrt(2);function e9(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=Z7?10:i>=Q7?5:i>=J7?2:1;let l,s,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(e*c),s=Math.round(t*c),l/c<e&&++l,s/c>t&&--s,c=-c):(c=Math.pow(10,o)*a,l=Math.round(e/c),s=Math.round(t/c),l*c<e&&++l,s*c>t&&--s),s<l&&.5<=n&&n<2?e9(e,t,2*n):[l,s,c]}function t9(e,t,n){return e9(e=+e,t=+t,n=+n)[2]}function n9(e){return Math.max(1,Math.ceil(Math.log(R7(e))/Math.LN2)+1)}function r9(){var e=z7,t=A7,n=n9;function r(r){Array.isArray(r)||(r=Array.from(r));var o,i,a,l=r.length,s=new Array(l);for(o=0;o<l;++o)s[o]=e(r[o],o,r);var c=t(s),u=c[0],d=c[1],f=n(s,u,d);if(!Array.isArray(f)){const e=d,n=+f;if(t===A7&&([u,d]=function(e,t,n){let r;for(;;){const o=t9(e,t,n);if(o===r||0===o||!isFinite(o))return[e,t];o>0?(e=Math.floor(e/o)*o,t=Math.ceil(t/o)*o):o<0&&(e=Math.ceil(e*o)/o,t=Math.floor(t*o)/o),r=o}}(u,d,n)),f=function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[o,i,a]=r?e9(t,e,n):e9(e,t,n);if(!(i>=o))return[];const l=i-o+1,s=new Array(l);if(r)if(a<0)for(let c=0;c<l;++c)s[c]=(i-c)/-a;else for(let c=0;c<l;++c)s[c]=(i-c)*a;else if(a<0)for(let c=0;c<l;++c)s[c]=(o+c)/-a;else for(let c=0;c<l;++c)s[c]=(o+c)*a;return s}(u,d,n),f[0]<=u&&(a=t9(u,d,n)),f[f.length-1]>=d)if(e>=d&&t===A7){const e=t9(u,d,n);isFinite(e)&&(e>0?d=(Math.floor(d/e)+1)*e:e<0&&(d=(Math.ceil(d*-e)+1)/-e))}else f.pop()}for(var h=f.length,p=0,g=h;f[p]<=u;)++p;for(;f[g-1]>d;)--g;(p||g<h)&&(f=f.slice(p,g),h=g-p);var m,v=new Array(h+1);for(o=0;o<=h;++o)(m=v[o]=[]).x0=o>0?f[o-1]:u,m.x1=o<h?f[o]:d;if(isFinite(a)){if(a>0)for(o=0;o<l;++o)null!=(i=s[o])&&u<=i&&i<=d&&v[Math.min(h,Math.floor((i-u)/a))].push(r[o]);else if(a<0)for(o=0;o<l;++o)if(null!=(i=s[o])&&u<=i&&i<=d){const e=Math.floor((u-i)*a);v[Math.min(h,e+(f[e]<=i))].push(r[o])}}else for(o=0;o<l;++o)null!=(i=s[o])&&u<=i&&i<=d&&v[N7(f,i,0,h)].push(r[o]);return v}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:K7(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:K7([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:K7(Array.isArray(e)?Y7.call(e):e),r):n},r}function o9(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function i9(e,t){let n,r=-1,o=-1;if(void 0===t)for(const i of e)++o,null!=i&&(n<i||void 0===n&&i>=i)&&(n=i,r=o);else for(let i of e)null!=(i=t(i,++o,e))&&(n<i||void 0===n&&i>=i)&&(n=i,r=o);return r}function a9(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function l9(e,t){let n,r=-1,o=-1;if(void 0===t)for(const i of e)++o,null!=i&&(n>i||void 0===n&&i>=i)&&(n=i,r=o);else for(let i of e)null!=(i=t(i,++o,e))&&(n>i||void 0===n&&i>=i)&&(n=i,r=o);return r}function s9(e,t,n=0,r=1/0,o){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(o=void 0===o?U7:X7(o);r>n;){if(r-n>600){const i=r-n+1,a=t-n+1,l=Math.log(i),s=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*s*(i-s)/i)*(a-i/2<0?-1:1);s9(e,t,Math.max(n,Math.floor(t-a*s/i+c)),Math.min(r,Math.floor(t+(i-a)*s/i+c)),o)}const i=e[t];let a=n,l=r;for(c9(e,n,t),o(e[r],i)>0&&c9(e,n,r);a<l;){for(c9(e,a,l),++a,--l;o(e[a],i)<0;)++a;for(;o(e[l],i)>0;)--l}0===o(e[n],i)?c9(e,n,l):(++l,c9(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function c9(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function u9(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return a9(e);if(t>=1)return o9(e);var r,o=(r-1)*t,i=Math.floor(o),a=o9(s9(e,i).subarray(0,i+1));return a+(a9(e.subarray(i+1))-a)*(o-i)}}function d9(e,t,n=$7){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(t,r)=>$7(n(e[r],r,e))),t<=0)return l9(r);if(t>=1)return i9(r);var r,o=Uint32Array.from(e,(e,t)=>t),i=r.length-1,a=Math.floor(i*t);return s9(o,a,0,i,(e,t)=>U7(r[e],r[t])),a=function(e,t=E7){let n,r=!1;if(1===t.length){let o;for(const i of e){const e=t(i);(r?E7(e,o)>0:0===E7(e,e))&&(n=i,o=e,r=!0)}}else for(const o of e)(r?t(o,n)>0:0===t(o,o))&&(n=o,r=!0);return n}(o.subarray(0,a+1),e=>r[e]),a>=0?a:-1}}function f9(e,t){let n=0,r=0;if(void 0===t)for(let o of e)null!=o&&(o=+o)>=o&&(++n,r+=o);else{let o=-1;for(let i of e)null!=(i=t(i,++o,e))&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function h9(e,t){return u9(e,.5,t)}function p9(e){return Array.from(function*(e){for(const t of e)yield*f(t)}(e))}function g9(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}function m9(e,t){let n=0;if(void 0===t)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let o of e)(o=+t(o,++r,e))&&(n+=o)}return n}function v9(e,...t){return t.reduce((e,t)=>n=>e(t(n)),e)}function y9(e,t){return t-e?n=>(n-e)/(t-e):e=>.5}function b9(e,t,n,r,o){let i=n||0,a=r||e.length;const l=o||(e=>e);for(;i<a;){const n=Math.floor((i+a)/2);l(e[n])>t?a=n:i=n+1}return i}const x9=Math.sqrt(50),w9=Math.sqrt(10),C9=Math.sqrt(2);function S9(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/l(10,o);return o>=0?(i>=x9?10:i>=w9?5:i>=C9?2:1)*l(10,o):-l(10,-o)/(i>=x9?10:i>=w9?5:i>=C9?2:1)}function E9(e,t,n){const r=Math.abs(t-e)/Math.max(0,n);let o=l(10,Math.floor(Math.log(r)/Math.LN10));const i=r/o;return i>=x9?o*=10:i>=w9?o*=5:i>=C9&&(o*=2),t<e?-o:o}const O9=(e,t,n=5)=>{const r=[e,t];let o,i=0,a=r.length-1,l=r[i],s=r[a];return s<l&&([l,s]=[s,l],[i,a]=[a,i]),o=S9(l,s,n),o>0?(l=Math.floor(l/o)*o,s=Math.ceil(s/o)*o,o=S9(l,s,n)):o<0&&(l=Math.ceil(l*o)/o,s=Math.floor(s*o)/o,o=S9(l,s,n)),o>0?(r[i]=Math.floor(l/o)*o,r[a]=Math.ceil(s/o)*o):o<0&&(r[i]=Math.ceil(l*o)/o,r[a]=Math.floor(s*o)/o),r},k9=1e3,M9=6e4,$9=36e5,I9=864e5,N9=6048e5,T9=2592e6,L9=31536e6;function R9(e,t,n,r){const o=(e,o)=>{o&&((e,t)=>{const o=e=>r(e)%t===0;let i=t;for(;i&&!o(e);)n(e,-1),i-=1})(e,o),t(e)},i=(e,t)=>{const r=new Date(+e-1);return o(r,t),n(r,t),o(r),r};return{ceil:i,floor:(e,t)=>{const n=new Date(+e);return o(n,t),n},range:(e,t,r,a)=>{const l=[],s=Math.floor(r);for(let c=a?i(e,r):i(e);c<t;n(c,s),o(c))l.push(new Date(+c));return l},duration:e}}const _9=R9(1,e=>e,(e,t=1)=>{e.setTime(+e+t)},e=>e.getTime()),A9=R9(k9,e=>{e.setMilliseconds(0)},(e,t=1)=>{e.setTime(+e+k9*t)},e=>e.getSeconds()),P9=R9(M9,e=>{e.setSeconds(0,0)},(e,t=1)=>{e.setTime(+e+M9*t)},e=>e.getMinutes()),j9=R9($9,e=>{e.setMinutes(0,0,0)},(e,t=1)=>{e.setTime(+e+$9*t)},e=>e.getHours()),B9=R9(I9,e=>{e.setHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+I9*t)},e=>e.getDate()-1),D9=R9(T9,e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t=1)=>{const n=e.getMonth();e.setMonth(n+t)},e=>e.getMonth()),z9=R9(N9,e=>{e.setDate(e.getDate()-e.getDay()%7),e.setHours(0,0,0,0)},(e,t=1)=>{e.setDate(e.getDate()+7*t)},e=>{const t=D9.floor(e),n=new Date(+e);return Math.floor((+n-+t)/N9)}),H9=R9(L9,e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t=1)=>{const n=e.getFullYear();e.setFullYear(n+t)},e=>e.getFullYear()),F9={millisecond:_9,second:A9,minute:P9,hour:j9,day:B9,week:z9,month:D9,year:H9},W9=R9(1,e=>e,(e,t=1)=>{e.setTime(+e+t)},e=>e.getTime()),G9=R9(k9,e=>{e.setUTCMilliseconds(0)},(e,t=1)=>{e.setTime(+e+k9*t)},e=>e.getUTCSeconds()),V9=R9(M9,e=>{e.setUTCSeconds(0,0)},(e,t=1)=>{e.setTime(+e+M9*t)},e=>e.getUTCMinutes()),q9=R9($9,e=>{e.setUTCMinutes(0,0,0)},(e,t=1)=>{e.setTime(+e+$9*t)},e=>e.getUTCHours()),X9=R9(I9,e=>{e.setUTCHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+I9*t)},e=>e.getUTCDate()-1),U9=R9(T9,e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t=1)=>{const n=e.getUTCMonth();e.setUTCMonth(n+t)},e=>e.getUTCMonth()),Y9=R9(N9,e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7)%7),e.setUTCHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+N9*t)},e=>{const t=U9.floor(e),n=new Date(+e);return Math.floor((+n-+t)/N9)}),K9=R9(L9,e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t=1)=>{const n=e.getUTCFullYear();e.setUTCFullYear(n+t)},e=>e.getUTCFullYear()),Z9={millisecond:W9,second:G9,minute:V9,hour:q9,day:X9,week:Y9,month:U9,year:K9};function Q9(e,t,n,r,o){const i=+e,a=+t,{tickIntervals:l,year:s,millisecond:c}=function(e){const t=e?Z9:F9,{year:n,month:r,week:o,day:i,hour:a,minute:l,second:s,millisecond:c}=t;return{tickIntervals:[[s,1],[s,5],[s,15],[s,30],[l,1],[l,5],[l,15],[l,30],[a,1],[a,3],[a,6],[a,12],[i,1],[i,2],[o,1],[r,1],[r,3],[n,1]],year:n,millisecond:c}}(o),u=([e,t])=>e.duration*t,d=r?(a-i)/r:n||5,f=r||(a-i)/d,h=l.length,p=b9(l,f,0,h,u);let g;if(p===h){g=[s,E9(i/s.duration,a/s.duration,d)]}else if(p){const e=f/u(l[p-1])<u(l[p])/f,[t,n]=e?l[p-1]:l[p];g=[t,r?Math.ceil(r/t.duration):n]}else{g=[c,Math.max(E9(i,a,d),1)]}return g}const J9=(e,t,n,r,o)=>{const i=e>t,a=i?t:e,l=i?e:t,[s,c]=Q9(a,l,n,r,o),u=[s.floor(a,c),s.ceil(l,c)];return i?u.reverse():u};function eee(e){return!xz(e)&&!bz(e)&&!Number.isNaN(e)}const tee=e=>t=>-e(-t),nee=(e,t)=>{const n=Math.log(e),r=e===Math.E?Math.log:10===e?Math.log10:2===e?Math.log2:e=>Math.log(e)/n;return t?tee(r):r},ree=(e,t)=>{const n=e===Math.E?Math.exp:t=>l(e,t);return t?tee(n):n},oee=(e,t,n,r)=>{const o=e<0,i=nee(r,o),a=ree(r,o),l=e>t,s=l?t:e,c=l?e:t,u=[a(Math.floor(i(s))),a(Math.ceil(i(c)))];return l?u.reverse():u};var iee={exports:{}},aee={exports:{}},lee=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))},see=Array.prototype.concat,cee=Array.prototype.slice,uee=aee.exports=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];lee(o)?t=see.call(t,cee.call(o)):t.push(o)}return t};uee.wrap=function(e){return function(){return e(uee(arguments))}};var dee=aee.exports,fee={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},hee=dee,pee=Object.hasOwnProperty,gee=Object.create(null);for(var mee in fee)pee.call(fee,mee)&&(gee[fee[mee]]=mee);var vee=iee.exports={to:{},get:{}};function yee(e,t,n){return Math.min(Math.max(t,e),n)}function bee(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}vee.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=vee.get.hsl(e),n="hsl";break;case"hwb":t=vee.get.hwb(e),n="hwb";break;default:t=vee.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},vee.get.rgb=function(e){if(!e)return null;var t,n,r,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=t[2],t=t[1],n=0;n<3;n++){var i=2*n;o[n]=parseInt(t.slice(i,i+2),16)}r&&(o[3]=parseInt(r,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(r=(t=t[1])[3],n=0;n<3;n++)o[n]=parseInt(t[n]+t[n],16);r&&(o[3]=parseInt(r+r,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(t[n+1],0);t[4]&&(t[5]?o[3]=.01*parseFloat(t[4]):o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:pee.call(fee,t[1])?((o=fee[t[1]])[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?o[3]=.01*parseFloat(t[4]):o[3]=parseFloat(t[4]))}for(n=0;n<3;n++)o[n]=yee(o[n],0,255);return o[3]=yee(o[3],0,1),o},vee.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,yee(parseFloat(t[2]),0,100),yee(parseFloat(t[3]),0,100),yee(isNaN(n)?1:n,0,1)]}return null},vee.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,yee(parseFloat(t[2]),0,100),yee(parseFloat(t[3]),0,100),yee(isNaN(n)?1:n,0,1)]}return null},vee.to.hex=function(){var e=hee(arguments);return"#"+bee(e[0])+bee(e[1])+bee(e[2])+(e[3]<1?bee(Math.round(255*e[3])):"")},vee.to.rgb=function(){var e=hee(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},vee.to.rgb.percent=function(){var e=hee(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},vee.to.hsl=function(){var e=hee(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},vee.to.hwb=function(){var e=hee(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},vee.to.keyword=function(e){return gee[e.slice(0,3)]};const xee=h(iee.exports);function wee(e,t,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Cee(e){const t=xee.get(e);if(!t)return null;const{model:n,value:r}=t;return"rgb"===n?r:"hsl"===n?function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100,o=e[3];if(0===n)return[255*r,255*r,255*r,o];const i=r<.5?r*(1+n):r+n-r*n,a=2*r-i;return[255*wee(a,i,t+1/3),255*wee(a,i,t),255*wee(a,i,t-1/3),o]}(r):null}const See=(e,t)=>n=>e*(1-n)+t*n,Eee=(e,t)=>"number"==typeof e&&"number"==typeof t?See(e,t):"string"==typeof e&&"string"==typeof t?((e,t)=>{const n=Cee(e),r=Cee(t);return null===n||null===r?n?()=>e:()=>t:e=>{const t=new Array(4);for(let s=0;s<4;s+=1){const o=n[s],i=r[s];t[s]=o*(1-e)+i*e}const[o,i,a,l]=t;return`rgba(${Math.round(o)}, ${Math.round(i)}, ${Math.round(a)}, ${l})`}})(e,t):()=>e,Oee=(e,t)=>{const n=See(e,t);return e=>Math.round(n(e))};function kee({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Mee(e){return"object"==typeof e?e.valueOf():e}let $ee=class extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=Mee,null!==e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(kee({map:this.map,initKey:this.initKey},e))}has(e){return super.has(kee({map:this.map,initKey:this.initKey},e))}set(e,t){return super.set(function({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}({map:this.map,initKey:this.initKey},e),t)}delete(e){return super.delete(function({map:e,initKey:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}({map:this.map,initKey:this.initKey},e))}},Iee=class{transformBreaks(e){return e}constructor(e){var t;this.options=kz({},this.getDefaultOptions()),this.update((null===(t=null==e?void 0:e.breaks)||void 0===t?void 0:t.length)?this.transformBreaks(e):e)}getOptions(){return this.options}update(e={}){const t=e.breaks?this.transformBreaks(e):e;this.options=kz({},this.options,t),this.rescale(t)}rescale(e){}};const Nee=Symbol("defaultUnknown");function Tee(e,t,n){for(let r=0;r<t.length;r+=1)e.has(t[r])||e.set(n(t[r]),r)}function Lee(e){const{value:t,from:n,to:r,mapper:o,notFoundReturn:i}=e;let a=o.get(t);if(void 0===a){if(i!==Nee)return i;a=n.push(t)-1,o.set(t,a)}return r[a%r.length]}function Ree(e){return e instanceof Date?e=>`${e}`:"object"==typeof e?e=>JSON.stringify(e):e=>e}let _ee=class e extends Iee{getDefaultOptions(){return{domain:[],range:[],unknown:Nee}}constructor(e){super(e)}map(e){return 0===this.domainIndexMap.size&&Tee(this.domainIndexMap,this.getDomain(),this.domainKey),Lee({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return 0===this.rangeIndexMap.size&&Tee(this.rangeIndexMap,this.getRange(),this.rangeKey),Lee({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[t]=this.options.domain,[n]=this.options.range;if(this.domainKey=Ree(t),this.rangeKey=Ree(n),!this.rangeIndexMap)return this.rangeIndexMap=new Map,void(this.domainIndexMap=new Map);e&&!e.range||this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new e(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:t}=this.options;return this.sortedDomain=t?[...e].sort(t):e,this.sortedDomain}};function Aee(e){return Math.round(1e12*e)/1e12}function Pee(e){const{domain:t,range:n,paddingOuter:r,paddingInner:o,flex:i,round:a,align:l}=e,s=t.length,c=function(e,t){const n=t-e.length;return n>0?[...e,...new Array(n).fill(1)]:n<0?e.slice(0,t):e}(i,s),[u,d]=n,f=d-u,h=f/(2/s*r+1-1/s*o),p=h*o/s,g=h-s*p,m=function(e){const t=e.reduce((e,t)=>Math.min(e,t),1/0);return t===1/0?[]:e.map(e=>e/t)}(c),v=g/m.reduce((e,t)=>e+t),y=new $ee(t.map((e,t)=>{const n=m[t]*v;return[e,a?Math.floor(n):n]})),b=new $ee(t.map((e,t)=>{const n=m[t]*v+p;return[e,a?Math.floor(n):n]})),x=Array.from(b.values()).reduce((e,t)=>e+t),w=u+(f-(x-x/s*o))*l;let C=a?Math.round(w):w;const S=new Array(s);for(let E=0;E<s;E+=1){S[E]=Aee(C);const e=t[E];C+=b.get(e)}return{valueBandWidth:y,valueStep:b,adjustedRange:S}}let jee=class e extends _ee{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:Nee,flex:[]}}constructor(e){super(e)}clone(){return new e(this.options)}getStep(e){return void 0===this.valueStep?1:"number"==typeof this.valueStep?this.valueStep:void 0===e?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return void 0===this.valueBandWidth?1:"number"==typeof this.valueBandWidth?this.valueBandWidth:void 0===e?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:t}=this.options;return e>0?e:t}getPaddingOuter(){const{padding:e,paddingOuter:t}=this.options;return e>0?e:t}rescale(){super.rescale();const{align:e,domain:t,range:n,round:r,flex:o}=this.options,{adjustedRange:i,valueBandWidth:a,valueStep:l}=function(e){var t;const{domain:n}=e,r=n.length;if(0===r)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(null===(t=e.flex)||void 0===t?void 0:t.length)return Pee(e);const{range:o,paddingOuter:i,paddingInner:a,round:l,align:s}=e;let c,u,d=o[0];const f=o[1]-d,h=2*i,p=r-a;c=f/Math.max(1,h+p),l&&(c=Math.floor(c)),d+=(f-c*(r-a))*s,u=c*(1-a),l&&(d=Math.round(d),u=Math.round(u));const g=new Array(r).fill(0).map((e,t)=>d+t*c);return{valueStep:c,valueBandWidth:u,adjustedRange:g}}({align:e,range:n,round:r,flex:o,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:t});this.valueStep=l,this.valueBandWidth=a,this.adjustedRange=i}};const Bee=(e,t,n,r)=>{let o,i,a=e,l=t;if(a===l&&n>0)return[a];let s=S9(a,l,n);if(0===s||!Number.isFinite(s))return[];if(s>0){a=Math.ceil(a/s),l=Math.floor(l/s),i=new Array(o=Math.ceil(l-a+1));for(let e=0;e<o;e+=1)i[e]=(a+e)*s}else{s=-s,a=Math.ceil(a*s),l=Math.floor(l*s),i=new Array(o=Math.ceil(l-a+1));for(let e=0;e<o;e+=1)i[e]=(a+e)/s}return((e,t)=>{if(!(null==t?void 0:t.length))return e;const n=[...e,...t.flatMap(e=>[e.start,e.end])],r=Array.from(new Set(n)).sort((e,t)=>e-t).filter(e=>!t.some(({start:t,end:n})=>e>t&&e<n));return r.length?r:e})(i,r)};let Dee=class e extends Iee{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:Bee}}map(e){const[t]=this.options.range;return void 0!==t?t:this.options.unknown}invert(e){const[t]=this.options.range;return e===t&&void 0!==t?this.options.domain:[]}getTicks(){const{tickMethod:e,domain:t,tickCount:n}=this.options,[r,o]=t;return uz(r)&&uz(o)?e(r,o,n):[]}clone(){return new e(this.options)}};function zee(e){return Math.abs(e)<1e-14?e:parseFloat(e.toFixed(14))}const Hee=[1,5,2,2.5,4,3],Fee=100*Number.EPSILON;function Wee(e,t,n,r,o,i){const a=Pz(t),l=Mz(t,e);let s=0;const c=function(e,t){return(e%t+t)%t}(r,i);return(c<Fee||i-c<Fee)&&r<=0&&o>=0&&(s=1),1-l/(a-1)-n+s}function Gee(e,t,n){const r=Pz(t);return 1-Mz(t,e)/(r-1)-n+1}function Vee(e,t,n,r,o,i){const a=(e-1)/(i-o),l=(t-1)/(Math.max(i,r)-Math.min(n,o));return 2-Math.max(a/l,l/a)}function qee(e,t){return e>=t?2-(e-1)/(t-1):1}function Xee(e,t,n,r){const o=t-e;return 1-.5*(l(t-r,2)+l(e-n,2))/l(.1*o,2)}function Uee(e,t,n){const r=t-e;if(n>r){return 1-l((n-r)/2,2)/l(.1*r,2)}return 1}function Yee(){return 1}const Kee=(e,t,n=5,r=!0,o=Hee,i=[.25,.2,.5,.05])=>{const a=n<0?0:Math.round(n);if(Number.isNaN(e)||Number.isNaN(t)||"number"!=typeof e||"number"!=typeof t||!a)return[];if(t-e<1e-15||1===a)return[e];const s={score:-2,lmin:0,lmax:0,lstep:0};let c=1;for(;c<1/0;){for(let n=0;n<o.length;n+=1){const u=o[n],d=Gee(u,o,c);if(i[0]*d+i[1]+i[2]+i[3]<s.score){c=1/0;break}let f=2;for(;f<1/0;){const n=qee(f,a);if(i[0]*d+i[1]+i[2]*n+i[3]<s.score)break;const h=(t-e)/(f+1)/c/u;let p=Math.ceil(Math.log10(h));for(;p<1/0;){const h=c*u*l(10,p),g=Uee(e,t,h*(f-1));if(i[0]*d+i[1]*g+i[2]*n+i[3]<s.score)break;const m=Math.floor(t/h)*c-(f-1)*c,v=Math.ceil(e/h)*c;if(m<=v){const n=v-m;for(let l=0;l<=n;l+=1){const n=(m+l)*(h/c),d=n+h*(f-1),p=h,g=Wee(u,o,c,n,d,p),v=Xee(e,t,n,d),y=Vee(f,a,e,t,n,d),b=Yee(),x=i[0]*g+i[1]*v+i[2]*y+i[3]*b;x>s.score&&(!r||n<=e&&d>=t)&&(s.lmin=n,s.lmax=d,s.lstep=p,s.score=x)}}p+=1}f+=1}}c+=1}const u=zee(s.lmax),d=zee(s.lmin),f=zee(s.lstep),h=Math.floor(function(e){return Math.round(1e12*e)/1e12}((u-d)/f))+1,p=new Array(h);p[0]=zee(d);for(let l=1;l<h;l+=1)p[l]=zee(p[l-1]+f);return p};let Zee=class e extends Iee{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:Kee}}map(e){return eee(e)?e:this.options.unknown}invert(e){return this.map(e)}clone(){return new e(this.options)}getTicks(){const{domain:e,tickCount:t,tickMethod:n}=this.options,[r,o]=e;return uz(r)&&uz(o)?n(r,o,t):[]}};const Qee=(e,t,n)=>{const[r,o]=e,[i,a]=t;let l,s;return r<o?(l=y9(r,o),s=n(i,a)):(l=y9(o,r),s=n(a,i)),v9(s,l)},Jee=(e,t,n)=>{const r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=e[0]>e[r],l=a?[...e].reverse():e,s=a?[...t].reverse():t;for(let c=0;c<r;c+=1)o[c]=y9(l[c],l[c+1]),i[c]=n(s[c],s[c+1]);return t=>{const n=b9(e,t,1,r)-1,a=o[n];return v9(i[n],a)(t)}},ete=(e,t,n,r)=>(Math.min(e.length,t.length)>2?Jee:Qee)(e,t,r?Oee:n);let tte=class extends Iee{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:See,tickCount:5}}map(e){return eee(e)?this.output(e):this.options.unknown}invert(e){return eee(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice||KD(this.options.breaks))return;const[e,t,n,...r]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,t,n,...r)}getTicks(){const{tickMethod:e}=this.options,[t,n,r,...o]=this.getTickMethodOptions();return e(t,n,r,...o)}getTickMethodOptions(){const{domain:e,tickCount:t}=this.options;return[e[0],e[e.length-1],t]}chooseNice(){return O9}rescale(){this.nice();const[e,t]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,t,this.chooseClamp(t))}chooseClamp(e){const{clamp:t,range:n}=this.options,r=this.options.domain.map(e),o=Math.min(r.length,n.length);return t?function(e,t){const n=t<e?t:e,r=e>t?e:t;return e=>Math.min(Math.max(n,e),r)}(r[0],r[o-1]):Az}composeOutput(e,t){const{domain:n,range:r,round:o,interpolate:i}=this.options,a=ete(n.map(e),r,i,o);this.output=v9(a,t,e)}composeInput(e,t,n){const{domain:r,range:o}=this.options,i=ete(o,r.map(e),See);this.input=v9(t,n,i)}},nte=class e extends tte{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Eee,tickMethod:Bee,tickCount:5}}removeUnsortedValues(e,t,n){let r=-1/0;return t.reduce((e,o,i)=>{if(0===i)return e;const a=r>0?r:o;if(r>0&&(n?o>r:o<r))e.push(i);else{(a-t[i-1])*(n?-1:1)<0?(r<0&&(r=t[i-1]),e.push(i)):r=-1/0}return e},[]).slice().reverse().forEach(n=>{e.splice(n,1),t.splice(n,1)}),{breaksDomain:e,breaksRange:t}}transformDomain(e){const{domain:t=[],range:n=[1,0],breaks:r=[],tickCount:o=5,nice:i}=e,[a,l]=[Math.min(...t),Math.max(...t)];let s=a,c=l;if(i&&r.length<2){const e=this.chooseNice()(a,l,o);s=e[0],c=e[e.length-1]}const u=Math.min(s,a);let d=Math.max(c,l);const f=r.filter(({end:e})=>e<d).sort((e,t)=>e.start-t.start),h=Bee(u,d,o,f);if(sz(h)<d){const e=O9(0,d-sz(h),3);h.push(sz(h)+sz(e)),d=sz(h)}const[p,g]=[n[0],sz(n)],m=d-u,v=Math.abs(g-p),y=p>g,b=h.map(e=>{const t=(e-u)/m;return y?p-t*v:p+t*v}),[x,w]=[.2,.8];return f.forEach(({start:e,end:t,gap:n=.03,compress:r="middle"})=>{const o=h.indexOf(e),i=h.indexOf(t);let a=(b[o]+b[i])/2;"start"===r&&(a=b[o]),"end"===r&&(a=b[i]);const l=n*v/2;let s=y?a+l:a-l,c=y?a-l:a+l;s<x&&(c+=x-s,s=x),c>w&&(s-=c-w,c=w),s>w&&(c-=s-w,s=w),c<x&&(s+=x-c,c=x),b[o]=s,b[i]=c}),this.removeUnsortedValues(h,b,y)}transformBreaks(e){const{domain:t,breaks:n=[]}=e;if(!KD(e.breaks))return e;const r=Math.max(...t),o=n.filter(({end:e})=>e<r),i=u(c({},e),{breaks:o}),{breaksDomain:a,breaksRange:l}=this.transformDomain(i);return u(c({},e),{domain:a,range:l,breaks:o,tickMethod:()=>[...a]})}chooseTransforms(){return[Az,Az]}clone(){return new e(this.options)}},rte=class e extends jee{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:Nee,paddingInner:1,paddingOuter:0}}constructor(e){super(e)}getPaddingInner(){return 1}clone(){return new e(this.options)}update(e){super.update(e)}getPaddingOuter(){return this.options.padding}};const ote=e=>e<0?-Math.sqrt(-e):Math.sqrt(e);let ite=class e extends tte{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:Eee,tickMethod:Bee,tickCount:5}}constructor(e){super(e)}chooseTransforms(){const{exponent:e}=this.options;if(1===e)return[Az,Az];const t=.5===e?ote:(e=>t=>t<0?-l(-t,e):l(t,e))(e),n=(e=>t=>t<0?-l(-t,1/e):l(t,1/e))(e);return[t,n]}clone(){return new e(this.options)}},ate=class e extends ite{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Eee,tickMethod:Bee,tickCount:5,exponent:.5}}constructor(e){super(e)}update(e){super.update(e)}clone(){return new e(this.options)}},lte=class e extends Iee{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(e){super(e)}map(e){if(!eee(e))return this.options.unknown;const t=b9(this.thresholds,e,0,this.n);return this.options.range[t]}invert(e){const{range:t}=this.options,n=t.indexOf(e),r=this.thresholds;return[r[n-1],r[n]]}clone(){return new e(this.options)}rescale(){const{domain:e,range:t}=this.options;this.n=Math.min(e.length,t.length-1),this.thresholds=e}};const ste=(e,t,n,r=10)=>{const o=e<0,i=ree(r,o),a=nee(r,o),l=t<e,s=l?t:e,c=l?e:t;let u=a(s),d=a(c),f=[];if(!(r%1)&&d-u<n){if(u=Math.floor(u),d=Math.ceil(d),o)for(;u<=d;u+=1){const e=i(u);for(let t=r-1;t>=1;t-=1){const n=e*t;if(n>c)break;n>=s&&f.push(n)}}else for(;u<=d;u+=1){const e=i(u);for(let t=1;t<r;t+=1){const n=e*t;if(n>c)break;n>=s&&f.push(n)}}2*f.length<n&&(f=Bee(s,c,n))}else{const e=-1===n?d-u:Math.min(d-u,n);f=Bee(u,d,e).map(i)}return l?f.reverse():f};let cte=class e extends tte{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:Eee,tickMethod:ste,tickCount:5}}chooseNice(){return oee}getTickMethodOptions(){const{domain:e,tickCount:t,base:n}=this.options;return[e[0],e[e.length-1],t,n]}chooseTransforms(){const{base:e,domain:t}=this.options,n=t[0]<0;return[nee(e,n),ree(e,n)]}clone(){return new e(this.options)}},ute=class e extends lte{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:Kee}}constructor(e){super(e)}nice(){const{nice:e}=this.options;if(e){const[e,t,n]=this.getTickMethodOptions();this.options.domain=O9(e,t,n)}}getTicks(){const{tickMethod:e}=this.options,[t,n,r]=this.getTickMethodOptions();return e(t,n,r)}getTickMethodOptions(){const{domain:e,tickCount:t}=this.options;return[e[0],e[e.length-1],t]}rescale(){this.nice();const{range:e,domain:t}=this.options,[n,r]=t;this.n=e.length-1,this.thresholds=new Array(this.n);for(let o=0;o<this.n;o+=1)this.thresholds[o]=((o+1)*r-(o-this.n)*n)/(this.n+1)}invert(e){const[t,n]=super.invert(e),[r,o]=this.options.domain;return void 0===t&&void 0===n?[t,n]:[t||r,n||o]}getThresholds(){return this.thresholds}clone(){return new e(this.options)}};function dte(e,t){const n=e.length;if(!n)return;if(n<2)return e[n-1];const r=(n-1)*t,o=Math.floor(r),i=e[o];return i+(e[o+1]-i)*(r-o)}let fte=class e extends lte{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:Kee}}constructor(e){super(e)}rescale(){const{domain:e,range:t}=this.options;this.n=t.length-1,this.thresholds=function(e,t,n=!1){const r=e;n||r.sort((e,t)=>e-t);const o=[];for(let i=1;i<t;i+=1)o.push(dte(r,i/t));return o}(e,this.n+1,!1)}invert(e){const[t,n]=super.invert(e),{domain:r}=this.options,o=r[0],i=r[r.length-1];return void 0===t&&void 0===n?[t,n]:[t||o,n||i]}getThresholds(){return this.thresholds}clone(){return new e(this.options)}getTicks(){const{tickCount:e,domain:t,tickMethod:n}=this.options,r=t.length-1;return n(t[0],t[r],e)}};var hte=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,pte=/\[([^]*?)\]/gm;function gte(e,t){for(var n=[],r=0,o=e.length;r<o;r++)n.push(e[r].substr(0,t));return n}function mte(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];for(var a in i)e[a]=i[a]}return e}var vte=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],yte=["January","February","March","April","May","June","July","August","September","October","November","December"],bte=gte(yte,3),xte=mte({},{dayNamesShort:gte(vte,3),dayNames:vte,monthNamesShort:bte,monthNames:yte,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10?1:0)*e%10]}}),wte=function(e,t){for(void 0===t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},Cte={D:function(e){return String(e.getDate())},DD:function(e){return wte(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return wte(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return wte(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return wte(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return wte(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return wte(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return wte(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return wte(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return wte(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return wte(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return wte(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+wte(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+wte(Math.floor(Math.abs(t)/60),2)+":"+wte(Math.abs(t)%60,2)}},Ste={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"};const Ete=(e,t,n,r,o)=>{const i=e>t,a=i?t:e,l=i?e:t,[s,c]=Q9(a,l,n,r,o),u=s.range(a,new Date(+l+1),c,!0);return i?u.reverse():u};function Ote(e){const t=e.getTimezoneOffset(),n=new Date(e);return n.setMinutes(n.getMinutes()+t,n.getSeconds(),n.getMilliseconds()),n}let kte=class e extends tte{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:Ete,interpolate:See,mask:void 0,utc:!1}}chooseTransforms(){return[e=>+e,e=>new Date(e)]}chooseNice(){return J9}getTickMethodOptions(){const{domain:e,tickCount:t,tickInterval:n,utc:r}=this.options;return[e[0],e[e.length-1],t,n,r]}getFormatter(){const{mask:e,utc:t}=this.options,n=t?Z9:F9,r=t?Ote:Az;return t=>function(e,t,n){if(void 0===t&&(t=Ste.default),void 0===n&&(n={}),"number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var r=[];t=(t=Ste[t]||t).replace(pte,function(e,t){return r.push(t),"@@@"});var o=mte(mte({},xte),n);return(t=t.replace(hte,function(t){return Cte[t](e,o)})).replace(/@@@/g,function(){return r.shift()})}(r(t),e||function(e,t){const{second:n,minute:r,hour:o,day:i,week:a,month:l,year:s}=t;return n.floor(e)<e?".SSS":r.floor(e)<e?":ss":o.floor(e)<e?"hh:mm":i.floor(e)<e?"hh A":l.floor(e)<e?a.floor(e)<e?"MMM DD":"ddd DD":s.floor(e)<e?"MMMM":"YYYY"}(t,n))}clone(){return new e(this.options)}};var Mte;let $te=Mte=class extends nte{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:Az,tickMethod:Bee,tickCount:5}}constructor(e){super(e)}clone(){return new Mte(this.options)}};var Ite,Nte;$te=Mte=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([(Ite=function(e){return[e(0),e(1)]},Nte=e=>{const[t,n]=e;return v9(See(0,1),y9(t,n))},e=>{e.prototype.rescale=function(){this.initRange(),this.nice();const[e]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e))},e.prototype.initRange=function(){const{interpolator:e}=this.options;this.options.range=Ite(e)},e.prototype.composeOutput=function(e,t){const{domain:n,interpolator:r,round:o}=this.getOptions(),i=Nte(n.map(e)),a=o?(e=>t=>{const n=e(t);return uz(n)?Math.round(n):n})(r):r;this.output=v9(a,i,t,e)},e.prototype.invert=void 0})],$te);var Tte=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};function Lte(e){const{markType:t,nodeName:n}=e;return"heatmap"===t&&"image"===n}function Rte(e,t){const n=null!=t?t:function(e){var t;let n=e;for(;n;){if("view"===(null===(t=n.attributes)||void 0===t?void 0:t.class))return n;n=n.parentNode}return null}(e).__data__,r=e.__data__,{markKey:o,index:i,seriesIndex:a,normalized:l={x:0}}=r,{markState:s}=n,c=Array.from(s.keys()).find(e=>e.key===o);if(c)return a?a.map(e=>c.data[e]):Lte(e)?c.data[Math.round(c.data.length*l.x)]:c.data[i]}function _te(e,t){const{color:n,facet:r=!1}=e,{color:o,series:i}=t,a=function(e,t){var n,r,o,i;const a=null!==(n=t.markKey)&&void 0!==n?n:null===(o=null===(r=t.element)||void 0===r?void 0:r.__data__)||void 0===o?void 0:o.markKey,l=Object.keys(e).find(t=>{if(t.startsWith("series")){const n=e[t].getOptions();return"series"===n.name&&n.markerKey===a}});return null!==(i=e[l])&&void 0!==i?i:e.series}(e,t),l=e=>e&&e.invert&&!(e instanceof jee)&&!(e instanceof Dee);if(l(a)){return a.clone().invert(i)}if(i&&a instanceof jee&&a.invert(i)!==o&&!r)return a.invert(i);if(l(n)){const e=n.invert(o);return Array.isArray(e)?null:e}return null}function Ate(e){return e}function Pte(e){return e.reduce((e,t)=>(n,...r)=>t(e(n,...r),...r),Ate)}function jte(e){return e.replace(/( |^)[a-z]/g,e=>e.toUpperCase())}function Bte(e=""){throw new Error(e)}function Dte(e,t){const{attributes:n}=t,r=new Set(["id","className"]);for(const[o,i]of Object.entries(n))r.has(o)||e.attr(o,i)}function zte(e){return null!=e&&!Number.isNaN(e)}function Hte(e){const t=new Map;return n=>{if(t.has(n))return t.get(n);const r=e(n);return t.set(n,r),r}}function Fte(e,t){return Wte(e,t)||{}}function Wte(e,t){const n=Object.entries(e||{}).filter(([e])=>e.startsWith(t)).map(([e,n])=>[mz(e.replace(t,"").trim()),n]).filter(([e])=>!!e);return 0===n.length?null:Object.fromEntries(n)}function Gte(e,...t){return Object.fromEntries(Object.entries(e).filter(([e])=>t.every(t=>!e.startsWith(t))))}function Vte(e,t){if(void 0===e)return null;if("number"==typeof e)return e;const n=+e.replace("%","");return Number.isNaN(n)?null:n/100*t}function qte(e){return!("object"!=typeof e||e instanceof Date||null===e||Array.isArray(e))}function Xte(e){return null===e||!1===e}function Ute(e,t){return Object.entries(e).reduce((n,[r,o])=>(n[r]=t(o,r,e),n),{})}function Yte(e){return e.map((e,t)=>t)}function Kte(e){return e[0]}function Zte(e){return e[e.length-1]}function Qte(e,t){const n=[[],[]];return e.forEach(e=>{n[t(e)?0:1].push(e)}),n}function Jte(e,t=e.length){if(1===t)return e.map(e=>[e]);const n=[];for(let r=0;r<e.length;r++){Jte(e.slice(r+1),t-1).forEach(t=>{n.push([e[r],...t])})}return n}function ene(e,t,n){const{encode:r}=n;if(null===e)return[t];const o=function(e){return Array.isArray(e)?e:[e]}(e).map(e=>{var t;return[e,null===(t=x7(r,e))||void 0===t?void 0:t[0]]}).filter(([,e])=>zte(e));return Array.from(H7(t,e=>o.map(([,t])=>t[e]).join("-")).values())}function tne(e){return Array.isArray(e)?function(e){return(t,n,r)=>(n,r)=>e.reduce((e,o)=>0!==e?e:E7(t[n][o],t[r][o]),0)}(e):"function"==typeof e?function(e){return(t,n,r)=>sne(n=>e(t[n]))}(e):"series"===e?one:"value"===e?ine:"sum"===e?ane:"maxIndex"===e?lne:null}function nne(e,t){for(const n of e)n.sort(t)}function rne(e,t){return(null==t?void 0:t.domain)||Array.from(new Set(e))}function one(e,t,n){return sne(e=>n[e])}function ine(e,t,n){return sne(e=>t[e])}function ane(e,t,n){const r=Yte(e),o=Array.from(H7(r,e=>n[+e]).entries()),i=new Map(o.map(([e,n])=>[e,n.reduce((e,n)=>e+ +t[n])]));return sne(e=>i.get(n[e]))}function lne(e,t,n){const r=Yte(e),o=Array.from(H7(r,e=>n[+e]).entries()),i=new Map(o.map(([e,n])=>[e,i9(n,e=>t[e])]));return sne(e=>i.get(n[e]))}function sne(e){return(t,n)=>E7(e(t),e(n))}const cne=(e={})=>{const{groupBy:t="x",orderBy:n=null,reverse:r=!1,y:o="y",y1:i="y1",series:a=!0}=e;return(e,l)=>{var s;const{data:c,encode:u,style:d={}}=l,[f,h]=x7(u,"y"),[p,g]=x7(u,"y1"),[m]=a?w7(u,"series","color"):x7(u,"color"),v=ene(t,e,l),y=(null!==(s=tne(n))&&void 0!==s?s:()=>null)(c,f,m);y&&nne(v,y);const b=new Array(e.length),x=new Array(e.length),w=new Array(e.length),C=[],S=[];for(const t of v){r&&t.reverse();const e=p?+p[t[0]]:0,n=[],o=[];for(const r of t){const t=w[r]=+f[r]-e;t<0?o.push(r):t>=0&&n.push(r)}const i=n.length>0?n:o,a=o.length>0?o:n;let l=n.length-1,s=0;for(;l>0&&0===f[i[l]];)l--;for(;s<a.length-1&&0===f[a[s]];)s++;C.push(i[l]),S.push(a[s]);let c=e;for(const t of o.reverse()){const e=w[t];c=b[t]=(x[t]=c)+e}let u=e;for(const t of n){const e=w[t];e>0?u=b[t]=(x[t]=u)+e:b[t]=x[t]=u}}const E=new Set(C),O=new Set(S),k="y"===o?b:x,M="y"===i?b:x;let $;return $="point"===l.type?{y0:m7(f,h),y:g7(k,h)}:{y0:m7(f,h),y:g7(k,h),y1:g7(M,g)},[e,kz({},l,{encode:Object.assign({},$),style:Object.assign({first:(e,t)=>E.has(t),last:(e,t)=>O.has(t)},d)})]}};function une(e){return Math.abs(e)>10?String(e):e.toString().padStart(2,"0")}function dne(e){const t=`${e.getFullYear()}-${une(e.getMonth()+1)}-${une(e.getDate())}`,n=e.getHours(),r=e.getMinutes(),o=e.getSeconds();return n||r||o?`${t} ${une(n)}:${une(r)}:${une(o)}`:t}cne.props={};const fne=(e={})=>{const{channel:t="x"}=e;return(e,n)=>{const{encode:r}=n,{tooltip:o}=n;if(Xte(o))return[e,n];const{title:i}=o;if(void 0!==i)return[e,n];const a=Object.keys(r).filter(e=>e.startsWith(t)).filter(e=>!r[e].inferred).map(e=>x7(r,e)).filter(([e])=>e).map(e=>e[0]);if(0===a.length)return[e,n];const l=[];for(const t of e)l[t]={value:a.map(e=>e[t]instanceof Date?dne(e[t]):e[t]).join(", ")};return[e,kz({},n,{tooltip:{title:l}})]}};fne.props={};const hne=()=>(e,t)=>{const{encode:n}=t,{x:r}=n;return void 0!==r?[e,t]:[e,kz({},t,{encode:{x:m7(b7(e,0))},scale:{x:{guide:null}}})]};hne.props={};const pne=()=>(e,t)=>{const{encode:n}=t,{y:r}=n;return void 0!==r?[e,t]:[e,kz({},t,{encode:{y:m7(b7(e,0))},scale:{y:{guide:null}}})]};pne.props={};const gne=()=>(e,t)=>{const{encode:n}=t,{size:r}=n;return void 0!==r?[e,t]:[e,kz({},t,{encode:{size:v7(b7(e,3))}})]};gne.props={};const mne=()=>(e,t)=>{const{encode:n}=t,{key:r}=n,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["key"]);if(void 0!==r)return[e,t];const i=Object.values(o).map(({value:e})=>e),a=e.map(e=>i.filter(Array.isArray).map(t=>t[e]).join("-"));return[e,kz({},t,{encode:{key:g7(a)}})]};mne.props={};const vne=()=>(e,t)=>{const{encode:n}=t,{series:r,color:o}=n;if(void 0!==r||void 0===o)return[e,t];const[i,a]=x7(n,"color");return[e,kz({},t,{encode:{series:g7(i,a)}})]};vne.props={};const yne=()=>(e,t)=>{const{data:n}=t;return!Array.isArray(n)||n.some(C7)?[e,t]:[e,kz({},t,{encode:{y:g7(n)}})]};yne.props={};const bne=()=>(e,t)=>{const{data:n}=t;return!Array.isArray(n)||n.some(C7)?[e,t]:[e,kz({},t,{encode:{x:g7(n)}})]};bne.props={};const xne=()=>(e,t)=>{const{encode:n}=t,{y1:r}=n;if(r)return[e,t];const[o]=x7(n,"y");return[e,kz({},t,{encode:{y1:g7([...o])}})]};xne.props={};const wne=()=>(e,t)=>{const{encode:n}=t,{x1:r}=n;if(r)return[e,t];const[o]=x7(n,"x");return[e,kz({},t,{encode:{x1:g7([...o])}})]};wne.props={};const Cne=()=>(e,t)=>{const{data:n}=t;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(C7))){const r=(e,t)=>Array.isArray(e[0])?e.map(e=>e[t]):[e[t]];return[e,kz({},t,{encode:{x:g7(r(n,0)),x1:g7(r(n,1))}})]}return[e,t]};Cne.props={};const Sne=()=>(e,t)=>{const{data:n}=t;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(C7))){const r=(e,t)=>Array.isArray(e[0])?e.map(e=>e[t]):[e[t]];return[e,kz({},t,{encode:{y:g7(r(n,0)),y1:g7(r(n,1))}})]}return[e,t]};Sne.props={};const Ene=e=>{const{channel:t}=e;return(e,n)=>{const{encode:r,tooltip:o}=n;if(Xte(o))return[e,n];const{items:i=[]}=o;if(!i||i.length>0)return[e,n];const a=(Array.isArray(t)?t:[t]).flatMap(e=>Object.keys(r).filter(t=>t.startsWith(e)).map(e=>{const{field:t,value:n,inferred:o=!1,aggregate:i}=r[e];return o?null:i&&n?{channel:e}:t?{field:t}:n?{channel:e}:null}).filter(e=>null!==e));return[e,kz({},n,{tooltip:{items:a}})]}};Ene.props={};const One=()=>(e,t)=>[e,kz({scale:{x:{padding:0},y:{padding:0}}},t)];One.props={};var kne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Mne=()=>(e,t)=>{const{data:n,style:r={}}=t,o=kne(t,["data","style"]),{x:i,y:a}=r,l=kne(r,["x","y"]);if(null==i||null==a)return[e,t];const s=a||0;return[[0],kz({},o,{data:[0],cartesian:!0,encode:{x:g7([i||0]),y:g7([s])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:l})]};Mne.props={};const $ne=()=>(e,t)=>{const{style:n={}}=t;return[e,kz({},t,{style:Object.assign(Object.assign({},n),Object.fromEntries(Object.entries(n).filter(([,e])=>"function"==typeof e).map(([e,t])=>[e,()=>t])))})]};$ne.props={};const Ine=()=>(e,t)=>{const{data:n}=t;if(!Array.isArray(n)||n.some(C7))return[e,t];const r=Array.isArray(n[0])?n:[n],o=r.map(e=>e[0]),i=r.map(e=>e[1]);return[e,kz({},t,{encode:{x:g7(o),y:g7(i)}})]};Ine.props={};const Nne=()=>(e,t)=>{const{style:n={},encode:r}=t,{series:o}=r,{gradient:i}=n;return!i||o?[e,t]:[e,kz({},t,{encode:{series:v7(b7(e,void 0))}})]};Nne.props={};const Tne=(e={})=>{const{groupBy:t="x",reverse:n=!1,orderBy:r,padding:o}=e;return function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}}(e,["groupBy","reverse","orderBy","padding"]),(e,i)=>{const{data:a,encode:l,scale:s}=i,{series:c}=s,[u]=x7(l,"y"),[d]=w7(l,"series","color"),f=rne(d,c),h=kz({},i,{scale:{series:{domain:f,paddingInner:o}}}),p=ene(t,e,i),g=tne(r);if(!g)return[e,kz(h,{encode:{series:g7(d)}})];const m=g(a,u,d);m&&nne(p,m);const v=new Array(e.length);for(const t of p){n&&t.reverse();for(let e=0;e<t.length;e++)v[t[e]]=f[e]}return[e,kz(h,{encode:{series:g7(r?v:d)}})]}};Tne.props={};const Lne=e=>{const{groupBy:t=["x"],reducer:n=(e,t)=>t[e[0]],orderBy:r=null,reverse:o=!1,duration:i}=e;return(e,a)=>{const{encode:l}=a,s=(Array.isArray(t)?t:[t]).map(e=>[e,x7(l,e)[0]]);if(0===s.length)return[e,a];let c=[e];for(const[,t]of s){const e=[];for(const n of c){const r=Array.from(H7(n,e=>t[e]).values());e.push(...r)}c=e}if(r){const[e]=x7(l,r);e&&c.sort((t,r)=>n(t,e)-n(r,e)),o&&c.reverse()}const u=(i||3e3)/c.length,[d]=i?[b7(e,u)]:w7(l,"enterDuration",b7(e,u)),[f]=w7(l,"enterDelay",b7(e,0)),h=new Array(e.length);for(let t=0,n=0;t<c.length;t++){const e=c[t],r=o9(e,e=>+d[e]);for(const t of e)h[t]=+f[t]+n;n+=r}return[e,kz({},a,{encode:{enterDuration:v7(d),enterDelay:v7(h)}})]}};Lne.props={};const Rne=(e={})=>{const{groupBy:t="x",basis:n="max"}=e;return(e,r)=>{const{encode:o,tooltip:i}=r,{x:a}=o,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(o,["x"]),s=Object.entries(l).filter(([e])=>e.startsWith("y")).map(([e])=>[e,x7(o,e)[0]]),[,c]=s.find(([e])=>"y"===e),u=s.map(([t])=>[t,new Array(e.length)]),d=ene(t,e,r),f=function(e){return"function"==typeof e?e:{min:(e,t)=>a9(e,e=>t[+e]),max:(e,t)=>o9(e,e=>t[+e]),first:(e,t)=>t[e[0]],last:(e,t)=>t[e[e.length-1]],mean:(e,t)=>f9(e,e=>t[+e]),median:(e,t)=>h9(e,e=>t[+e]),sum:(e,t)=>m9(e,e=>t[+e]),deviation:(e,t)=>_7(e,e=>t[+e])}[e]||o9}(n);for(const t of d){const e=f(t,c);for(const n of t)for(let t=0;t<s.length;t++){const[,r]=s[t],[,o]=u[t];o[n]=+r[n]/e}}const h=Xte(i)||(null==i?void 0:i.items)&&0!==(null==i?void 0:i.items.length);return[e,kz({},r,Object.assign({encode:Object.fromEntries(u.map(([e,t])=>[e,g7(t,x7(o,e)[1])]))},!h&&o.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};function _ne(e,t,n){if(null===e)return[-.5,.5];const r=rne(e,t),o=new jee({domain:r,range:[0,1],padding:n}).getBandWidth();return[-o/2,o/2]}function Ane(e,t,n){return t*(1-e)+n*e}Rne.props={};const Pne=(e={})=>{const{padding:t=0,paddingX:n=t,paddingY:r=t,random:o=Math.random}=e;return(e,t)=>{const{encode:i,scale:a}=t,{x:l,y:s}=a,[c]=x7(i,"x"),[u]=x7(i,"y"),d=_ne(c,l,n),f=_ne(u,s,r),h=e.map(()=>Ane(o(),...f)),p=e.map(()=>Ane(o(),...d));return[e,kz({scale:{x:{padding:.5},y:{padding:.5}}},t,{encode:{dy:g7(h),dx:g7(p)}})]}};Pne.props={};const jne=(e={})=>{const{padding:t=0,random:n=Math.random}=e;return(e,r)=>{const{encode:o,scale:i}=r,{x:a}=i,[l]=x7(o,"x"),s=_ne(l,a,t),c=e.map(()=>Ane(n(),...s));return[e,kz({scale:{x:{padding:.5}}},r,{encode:{dx:g7(c)}})]}};jne.props={};const Bne=(e={})=>{const{padding:t=0,random:n=Math.random}=e;return(e,r)=>{const{encode:o,scale:i}=r,{y:a}=i,[l]=x7(o,"y"),s=_ne(l,a,t),c=e.map(()=>Ane(n(),...s));return[e,kz({scale:{y:{padding:.5}}},r,{encode:{dy:g7(c)}})]}};Bne.props={};const Dne=(e={})=>{const{groupBy:t="x"}=e;return(e,n)=>{const{encode:r}=n,{x:o}=r,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(r,["x"]),a=Object.entries(i).filter(([e])=>e.startsWith("y")).map(([e])=>[e,x7(r,e)[0]]),l=a.map(([t])=>[t,new Array(e.length)]),s=ene(t,e,n),c=new Array(s.length);for(let t=0;t<s.length;t++){const e=s[t].flatMap(e=>a.map(([,t])=>+t[e])),[n,r]=A7(e);c[t]=(n+r)/2}const u=Math.max(...c);for(let t=0;t<s.length;t++){const e=u-c[t],n=s[t];for(const t of n)for(let n=0;n<a.length;n++){const[,r]=a[n],[,o]=l[n];o[t]=+r[t]+e}}return[e,kz({},n,{encode:Object.fromEntries(l.map(([e,t])=>[e,g7(t,x7(r,e)[1])]))})]}};Dne.props={};const zne=(e={})=>{const{groupBy:t="x"}=e;return(e,n)=>{const{encode:r}=n,[o]=x7(r,"y"),[i,a]=x7(r,"y1"),l=ene(t,e,n),s=new Array(e.length);for(const t of l){const e=t.map(e=>+o[e]);for(let n=0;n<t.length;n++){const r=t[n],i=Math.max(...e.filter((e,t)=>t!==n));s[r]=+o[r]>i?i:o[r]}}return[e,kz({},n,{encode:{y1:g7(s,a)}})]}};function Hne(e,t){return[e[0]]}function Fne(e,t){return[e[e.length-1]]}function Wne(e,t){return[e[i9(e,e=>t[e])]]}function Gne(e,t){return[e[l9(e,e=>t[e])]]}zne.props={};const Vne=(e={})=>{const{groupBy:t="series",channel:n,selector:r}=e;return(e,o)=>{const{encode:i}=o,a=ene(t,e,o),[l]=x7(i,n),s=function(e){return"function"==typeof e?e:{first:Hne,last:Fne,max:Wne,min:Gne}[e]||Hne}(r);return[a.flatMap(e=>s(e,l)),o]}};Vne.props={};const qne=(e={})=>{const{selector:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["selector"]);return Vne(Object.assign({channel:"x",selector:t},n))};qne.props={};const Xne=(e={})=>{const{selector:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["selector"]);return Vne(Object.assign({channel:"y",selector:t},n))};Xne.props={};function Une(e){return t=>null===t?e:`${e} of ${t}`}function Yne(){return[(e,t)=>f9(e,e=>+t[e]),Une("mean")]}function Kne(){return[(e,t)=>h9(e,e=>+t[e]),Une("median")]}function Zne(){return[(e,t)=>o9(e,e=>+t[e]),Une("max")]}function Qne(){return[(e,t)=>a9(e,e=>+t[e]),Une("min")]}function Jne(){return[(e,t)=>e.length,Une("count")]}function ere(){return[(e,t)=>m9(e,e=>+t[e]),Une("sum")]}function tre(){return[(e,t)=>t[e[0]],Une("first")]}function nre(){return[(e,t)=>t[e[e.length-1]],Une("last")]}const rre=(e={})=>{const{groupBy:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["groupBy"]);return(e,r)=>{const{data:o,encode:i}=r,a=t(e,r);if(!a)return[e,r];const l=Object.entries(n).map(([e,t])=>{const[n,r]=function(e){if("function"==typeof e)return[e,null];const t={mean:Yne,max:Zne,count:Jne,first:tre,last:nre,sum:ere,min:Qne,median:Kne}[e];if(!t)throw new Error(`Unknown reducer: ${e}.`);return t()}(t),[l,s]=x7(i,e),c=((e,t)=>{if(e)return e;const{from:n}=t;if(!n)return e;const[,r]=x7(i,n);return r})(s,t),u=a.map(e=>n(e,null!=l?l:o));return[e,Object.assign(Object.assign({},y7(u,(null==r?void 0:r(c))||c)),{aggregate:!0})]}),s=Object.keys(i).map(e=>{const[t,n]=x7(i,e);return[e,g7(a.map(e=>t[e[0]]),n)]}),c=a.map(e=>o[e[0]]);return[Yte(a),kz({},r,{data:c,encode:Object.fromEntries([...s,...l])})]}};rre.props={};const ore=(e={})=>{const{channels:t=["x","y"]}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["channels"]);return rre(Object.assign(Object.assign({},n),{groupBy:(e,n)=>ene(t,e,n)}))};ore.props={};const ire=(e={})=>ore(Object.assign(Object.assign({},e),{channels:["x","color","series"]}));ire.props={};const are=(e={})=>ore(Object.assign(Object.assign({},e),{channels:["y","color","series"]}));are.props={};const lre=(e={})=>ore(Object.assign(Object.assign({},e),{channels:["color"]}));lre.props={};const sre=(e={})=>(t,n)=>{const{reverse:r,slice:o,channel:i,by:a,ordinal:l=!0,reducer:s}=e,{encode:c,scale:u={}}=n,d=u[i].domain,[f]=x7(c,null!=a?a:i),[h]=x7(c,i),p=function(e,t,n){const{by:r=e,reducer:o="max"}=t,[i]=x7(n,r);if("function"==typeof o)return e=>o(e,i);if("max"===o)return e=>o9(e,e=>+i[e]);if("min"===o)return e=>a9(e,e=>+i[e]);if("sum"===o)return e=>m9(e,e=>+i[e]);if("median"===o)return e=>h9(e,e=>+i[e]);if("mean"===o)return e=>f9(e,e=>+i[e]);if("first"===o)return e=>i[e[0]];if("last"===o)return e=>i[e[e.length-1]];throw new Error(`Unknown reducer: ${o}`)}(i,{by:a,reducer:s},c),g=function(e,t,n){if(!Array.isArray(n))return e;const r=new Set(n);return e.filter(e=>r.has(t[e]))}(t,h,d),m=(v=g,b=e=>h[e],(2!==(y=p).length?q7(W7(v,y,b),([e,t],[n,r])=>E7(t,r)||E7(e,n)):q7(H7(v,b),([e,t],[n,r])=>y(t,r)||E7(e,n))).map(([e])=>e));var v,y,b;const x=l?t:q7(t,e=>f[e]);r&&(!l&&x.reverse(),m.reverse());const w="number"==typeof o?[0,o]:o,C=o?m.slice(...w):m;return[x,kz(n,{scale:{[i]:{domain:C}}})]};sre.props={};const cre=(e={})=>sre(Object.assign(Object.assign({},e),{channel:"x"}));cre.props={};const ure=(e={})=>sre(Object.assign(Object.assign({},e),{channel:"color"}));ure.props={};const dre=(e={})=>sre(Object.assign(Object.assign({},e),{channel:"y"}));dre.props={};const fre=(e={})=>{const{field:t,channel:n="y",reducer:r="sum"}=e;return(e,o)=>{const{data:i,encode:a}=o,[l]=x7(a,"x"),s=t?function(e,t){return"string"==typeof t?e.map(e=>e[t]):e.map(t)}(i,t):x7(a,n)[0],c=function(e,t){if("function"==typeof e)return n=>e(n,t);if("sum"===e)return e=>m9(e,e=>+t[e]);throw new Error(`Unknown reducer: ${e}`)}(r,s),u=G7(e,c,e=>l[e]).map(e=>e[1]);return[e,kz({},o,{scale:{x:{flex:u}}})]}};function hre([e,t],[n,r]){return[e-n,t-r]}function pre([e,t],[n,r]){return[e+n,t+r]}function gre([e,t],[n,r]){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2))}function mre([e,t]){return Math.atan2(t,e)}function vre([e,t]){return mre([e,t])+Math.PI/2}function yre(e,t){const n=mre(e),r=mre(t);return n<r?r-n:2*Math.PI-(n-r)}function bre(e){let t=1/0,n=-1/0,r=1/0,o=-1/0;for(const[i,a]of e)t=Math.min(i,t),n=Math.max(i,n),r=Math.min(a,r),o=Math.max(a,o);return[t,r,n-t,o-r]}function xre([e,t],[n,r]){return[(e+n)/2,(t+r)/2]}function wre(e){const{padding:t=0,direction:n="col"}=e;return(e,r,o)=>{const i=e.length;if(0===i)return[];const{innerWidth:a,innerHeight:l}=o,s=l/a;let c=Math.ceil(Math.sqrt(r/s)),u=a/c,d=Math.ceil(r/c),f=d*u;for(;f>l;)c+=1,u=a/c,d=Math.ceil(r/c),f=d*u;const h=l-d*u,p=d<=1?0:h/(d-1),[g,m]=d<=1?[(a-i*u)/(i-1),(l-u)/2]:[0,0];return e.map((e,r)=>{const[o,i,a,l]=bre(e),s="col"===n?r%c:Math.floor(r/d),f="col"===n?Math.floor(r/c):r%d;return`translate(${s*u-o+g*s+.5*t}, ${(d-f-1)*u+h-i-p*f-m+.5*t}) scale(${(u-t)/a}, ${(u-t)/l})`})}}fre.props={};const Cre=e=>(t,n)=>[t,kz({},n,{modifier:wre(e),axis:!1})];Cre.props={};const Sre="thresholds";function Ere(e){const[t,n]=A7(e);return Math.min(200,function(e,t,n){const r=R7(e),o=_7(e);return r&&o?Math.ceil((n-t)*Math.cbrt(r)/(3.49*o)):1}(e,t,n))}const Ore=(e={})=>{const{groupChannels:t=["color"],binChannels:n=["x","y"]}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["groupChannels","binChannels"]),o={};return rre(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(r).filter(([e])=>!e.startsWith(Sre)))),Object.fromEntries(n.flatMap(e=>{const t=([t])=>+o[e].get(t).split(",")[1];return t.from=e,[[e,([t])=>+o[e].get(t).split(",")[0]],[`${e}1`,t]]}))),{groupBy:(e,i)=>{const{encode:a}=i,l=n.map(e=>{const[t]=x7(a,e);return t}),s=Fte(r,Sre),c=e.filter(e=>l.every(t=>zte(t[e]))),u=[...t.map(e=>{const[t]=x7(a,e);return t}).filter(zte).map(e=>t=>e[t]),...n.map((e,t)=>{const n=l[t],r=s[e]||Ere(n),i=r9().thresholds(r).value(e=>+n[e])(c),a=new Map(i.flatMap(e=>{const{x0:t,x1:n}=e,r=`${t},${n}`;return e.map(e=>[e,r])}));return o[e]=a,e=>a.get(e)})];return Array.from(H7(c,e=>u.map(t=>t(e)).join("-")).values())}}))};Ore.props={};const kre=(e={})=>{const{thresholds:t}=e;return Ore(Object.assign(Object.assign({},e),{thresholdsX:t,groupChannels:["color"],binChannels:["x"]}))};function Mre(e,t,n,r){const o=e.length;if(r>=o||0===r)return e;const i=n=>1*t[e[n]],a=t=>1*n[e[t]],l=[],s=(o-2)/(r-2);let c,u,d,f=0;l.push(f);for(let h=0;h<r-2;h++){let e=0,t=0,n=Math.floor((h+1)*s)+1,r=Math.floor((h+2)*s)+1;r=Math.min(r,o);const p=r-n;for(;n<r;n++)e+=i(n),t+=a(n);e/=p,t/=p;let g=Math.floor((h+0)*s)+1;const m=Math.floor((h+1)*s)+1,v=[i(f),a(f)];for(c=u=-1;g<m;g++)u=.5*Math.abs((v[0]-e)*(i(g)-v[1])-(v[0]-a(g))*(t-v[0])),u>c&&(c=u,d=g);l.push(d),f=d}return l.push(o-1),l.map(t=>e[t])}kre.props={};const $re=(e={})=>{const{strategy:t="median",thresholds:n=2e3,groupBy:r=["series","color"]}=e,o=function(e){if("function"==typeof e)return e;if("lttb"===e)return Mre;const t={first:e=>[e[0]],last:e=>[e[e.length-1]],min:(e,t,n)=>[e[l9(e,e=>n[e])]],max:(e,t,n)=>[e[i9(e,e=>n[e])]],median:(e,t,n)=>{return[e[(r=e,o=e=>n[e],d9(r,.5,o))]];var r,o}},n=t[e]||t.median;return(e,t,r,o)=>{const i=function(e,t){const n=e.length,r=[];let o=0;for(;o<n;)r.push(e.slice(o,o+=t));return r}(e,Math.max(1,Math.floor(e.length/o)));return i.flatMap(e=>n(e,t,r))}}(t);return(e,t)=>{const{encode:i}=t,a=ene(r,e,t),[l]=x7(i,"x"),[s]=x7(i,"y");return[a.flatMap(e=>o(e,l,s,n)),t]}};$re.props={};const Ire=(e={})=>(t,n)=>{const{encode:r,data:o}=n,i=Object.entries(e).map(([e,t])=>{const[n]=x7(r,e);if(!n)return null;const[o,i=!0]=function(e){return"object"==typeof e?[e.value,e.ordinal]:[e,!0]}(t);if("function"==typeof o)return e=>o(n[e]);if(i){const e=Array.isArray(o)?o:[o];return 0===e.length?null:t=>e.includes(n[t])}{const[e,t]=o;return r=>n[r]>=e&&n[r]<=t}}).filter(zte),a=t.filter(e=>i.every(t=>t(e))),l=a.map((e,t)=>t);if(0===i.length){const e=function(e){var t;const{encode:n}=e,r=Object.assign(Object.assign({},e),{encode:Object.assign(Object.assign({},e.encode),{y:Object.assign(Object.assign({},e.encode.y),{value:[]})})}),o=null===(t=null==n?void 0:n.color)||void 0===t?void 0:t.field;if(!n||!o)return r;let i;for(const[a,l]of Object.entries(n))"x"!==a&&"y"!==a||l.field!==o||(i=Object.assign(Object.assign({},i),{[a]:Object.assign(Object.assign({},l),{value:[]})}));return i?Object.assign(Object.assign({},e),{encode:Object.assign(Object.assign({},e.encode),i)}):r}(n);return[t,e]}const s=Object.entries(r).map(([e,t])=>[e,Object.assign(Object.assign({},t),{value:l.map(e=>t.value[a[e]]).filter(e=>void 0!==e)})]);return[l,kz({},n,{encode:Object.fromEntries(s),data:a.map(e=>o[e])})]};function Nre(e){return function(){return e}}Ire.props={};const Tre=Math.abs,Lre=Math.atan2,Rre=Math.cos,_re=Math.max,Are=Math.min,Pre=Math.sin,jre=Math.sqrt,Bre=1e-12,Dre=Math.PI,zre=Dre/2,Hre=2*Dre;function Fre(e){return e>=1?zre:e<=-1?-zre:Math.asin(e)}const Wre=Math.PI,Gre=2*Wre,Vre=1e-6,qre=Gre-Vre;function Xre(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}let Ure=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Xre:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Xre;const n=l(10,t);return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,o,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+o},${this._y1=+i}`}arcTo(e,t,n,r,o){if(e=+e,t=+t,n=+n,r=+r,(o=+o)<0)throw new Error(`negative radius: ${o}`);let i=this._x1,a=this._y1,l=n-e,s=r-t,c=i-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Vre)if(Math.abs(u*l-s*c)>Vre&&o){let f=n-i,h=r-a,p=l*l+s*s,g=f*f+h*h,m=Math.sqrt(p),v=Math.sqrt(d),y=o*Math.tan((Wre-Math.acos((p+d-g)/(2*m*v)))/2),b=y/v,x=y/m;Math.abs(b-1)>Vre&&this._append`L${e+b*c},${t+b*u}`,this._append`A${o},${o},0,0,${+(u*f>c*h)},${this._x1=e+x*l},${this._y1=t+x*s}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,o,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),l=n*Math.sin(r),s=e+a,c=t+l,u=1^i,d=i?r-o:o-r;null===this._x1?this._append`M${s},${c}`:(Math.abs(this._x1-s)>Vre||Math.abs(this._y1-c)>Vre)&&this._append`L${s},${c}`,n&&(d<0&&(d=d%Gre+Gre),d>qre?this._append`A${n},${n},0,1,${u},${e-a},${t-l}A${n},${n},0,1,${u},${this._x1=s},${this._y1=c}`:d>Vre&&this._append`A${n},${n},0,${+(d>=Wre)},${u},${this._x1=e+n*Math.cos(o)},${this._y1=t+n*Math.sin(o)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function Yre(){return new Ure}function Kre(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new Ure(t)}function Zre(e){return e.innerRadius}function Qre(e){return e.outerRadius}function Jre(e){return e.startAngle}function eoe(e){return e.endAngle}function toe(e){return e&&e.padAngle}function noe(e,t,n,r,o,i,a){var l=e-n,s=t-r,c=(a?i:-i)/jre(l*l+s*s),u=c*s,d=-c*l,f=e+u,h=t+d,p=n+u,g=r+d,m=(f+p)/2,v=(h+g)/2,y=p-f,b=g-h,x=y*y+b*b,w=o-i,C=f*g-p*h,S=(b<0?-1:1)*jre(_re(0,w*w*x-C*C)),E=(C*b-y*S)/x,O=(-C*y-b*S)/x,k=(C*b+y*S)/x,M=(-C*y+b*S)/x,$=E-m,I=O-v,N=k-m,T=M-v;return $*$+I*I>N*N+T*T&&(E=k,O=M),{cx:E,cy:O,x01:-u,y01:-d,x11:E*(o/w-1),y11:O*(o/w-1)}}function roe(){var e=Zre,t=Qre,n=Nre(0),r=null,o=Jre,i=eoe,a=toe,l=null,s=Kre(c);function c(){var c,u,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),p=o.apply(this,arguments)-zre,g=i.apply(this,arguments)-zre,m=Tre(g-p),v=g>p;if(l||(l=c=s()),h<f&&(u=h,h=f,f=u),h>Bre)if(m>Hre-Bre)l.moveTo(h*Rre(p),h*Pre(p)),l.arc(0,0,h,p,g,!v),f>Bre&&(l.moveTo(f*Rre(g),f*Pre(g)),l.arc(0,0,f,g,p,v));else{var y,b,x=p,w=g,C=p,S=g,E=m,O=m,k=a.apply(this,arguments)/2,M=k>Bre&&(r?+r.apply(this,arguments):jre(f*f+h*h)),$=Are(Tre(h-f)/2,+n.apply(this,arguments)),I=$,N=$;if(M>Bre){var T=Fre(M/f*Pre(k)),L=Fre(M/h*Pre(k));(E-=2*T)>Bre?(C+=T*=v?1:-1,S-=T):(E=0,C=S=(p+g)/2),(O-=2*L)>Bre?(x+=L*=v?1:-1,w-=L):(O=0,x=w=(p+g)/2)}var R=h*Rre(x),_=h*Pre(x),A=f*Rre(S),P=f*Pre(S);if($>Bre){var j,B=h*Rre(w),D=h*Pre(w),z=f*Rre(C),H=f*Pre(C);if(m<Dre)if(j=function(e,t,n,r,o,i,a,l){var s=n-e,c=r-t,u=a-o,d=l-i,f=d*s-u*c;if(!(f*f<Bre))return[e+(f=(u*(t-i)-d*(e-o))/f)*s,t+f*c]}(R,_,z,H,B,D,A,P)){var F=R-j[0],W=_-j[1],G=B-j[0],V=D-j[1],q=1/Pre(((d=(F*G+W*V)/(jre(F*F+W*W)*jre(G*G+V*V)))>1?0:d<-1?Dre:Math.acos(d))/2),X=jre(j[0]*j[0]+j[1]*j[1]);I=Are($,(f-X)/(q-1)),N=Are($,(h-X)/(q+1))}else I=N=0}O>Bre?N>Bre?(y=noe(z,H,R,_,h,N,v),b=noe(B,D,A,P,h,N,v),l.moveTo(y.cx+y.x01,y.cy+y.y01),N<$?l.arc(y.cx,y.cy,N,Lre(y.y01,y.x01),Lre(b.y01,b.x01),!v):(l.arc(y.cx,y.cy,N,Lre(y.y01,y.x01),Lre(y.y11,y.x11),!v),l.arc(0,0,h,Lre(y.cy+y.y11,y.cx+y.x11),Lre(b.cy+b.y11,b.cx+b.x11),!v),l.arc(b.cx,b.cy,N,Lre(b.y11,b.x11),Lre(b.y01,b.x01),!v))):(l.moveTo(R,_),l.arc(0,0,h,x,w,!v)):l.moveTo(R,_),f>Bre&&E>Bre?I>Bre?(y=noe(A,P,B,D,f,-I,v),b=noe(R,_,z,H,f,-I,v),l.lineTo(y.cx+y.x01,y.cy+y.y01),I<$?l.arc(y.cx,y.cy,I,Lre(y.y01,y.x01),Lre(b.y01,b.x01),!v):(l.arc(y.cx,y.cy,I,Lre(y.y01,y.x01),Lre(y.y11,y.x11),!v),l.arc(0,0,f,Lre(y.cy+y.y11,y.cx+y.x11),Lre(b.cy+b.y11,b.cx+b.x11),v),l.arc(b.cx,b.cy,I,Lre(b.y11,b.x11),Lre(b.y01,b.x01),!v))):l.arc(0,0,f,S,C,v):l.lineTo(A,P)}else l.moveTo(0,0);if(l.closePath(),c)return l=null,c+""||null}return c.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-Dre/2;return[Rre(r)*n,Pre(r)*n]},c.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Nre(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Nre(+e),c):t},c.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Nre(+e),c):n},c.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Nre(+e),c):r},c.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:Nre(+e),c):o},c.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:Nre(+e),c):i},c.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:Nre(+e),c):a},c.context=function(e){return arguments.length?(l=null==e?null:e,c):l},c}function ooe(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function ioe(e){this._context=e}function aoe(e){return new ioe(e)}function loe(e){return e[0]}function soe(e){return e[1]}function coe(e,t){var n=Nre(!0),r=null,o=aoe,i=null,a=Kre(l);function l(l){var s,c,u,d=(l=ooe(l)).length,f=!1;for(null==r&&(i=o(u=a())),s=0;s<=d;++s)!(s<d&&n(c=l[s],s,l))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(c,s,l),+t(c,s,l));if(u)return i=null,u+""||null}return e="function"==typeof e?e:void 0===e?loe:Nre(e),t="function"==typeof t?t:void 0===t?soe:Nre(t),l.x=function(t){return arguments.length?(e="function"==typeof t?t:Nre(+t),l):e},l.y=function(e){return arguments.length?(t="function"==typeof e?e:Nre(+e),l):t},l.defined=function(e){return arguments.length?(n="function"==typeof e?e:Nre(!!e),l):n},l.curve=function(e){return arguments.length?(o=e,null!=r&&(i=o(r)),l):o},l.context=function(e){return arguments.length?(null==e?r=i=null:i=o(r=e),l):r},l}function uoe(e,t,n){var r=null,o=Nre(!0),i=null,a=aoe,l=null,s=Kre(c);function c(c){var u,d,f,h,p,g=(c=ooe(c)).length,m=!1,v=new Array(g),y=new Array(g);for(null==i&&(l=a(p=s())),u=0;u<=g;++u){if(!(u<g&&o(h=c[u],u,c))===m)if(m=!m)d=u,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=u-1;f>=d;--f)l.point(v[f],y[f]);l.lineEnd(),l.areaEnd()}m&&(v[u]=+e(h,u,c),y[u]=+t(h,u,c),l.point(r?+r(h,u,c):v[u],n?+n(h,u,c):y[u]))}if(p)return l=null,p+""||null}function u(){return coe().defined(o).curve(a).context(i)}return e="function"==typeof e?e:void 0===e?loe:Nre(+e),t="function"==typeof t?t:Nre(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?soe:Nre(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Nre(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Nre(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Nre(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Nre(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Nre(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Nre(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(o="function"==typeof e?e:Nre(!!e),c):o},c.curve=function(e){return arguments.length?(a=e,null!=i&&(l=a(i)),c):a},c.context=function(e){return arguments.length?(null==e?i=l=null:l=a(i=e),c):i},c}Yre.prototype=Ure.prototype,ioe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var doe=hoe(aoe);function foe(e){this._curve=e}function hoe(e){function t(t){return new foe(e(t))}return t._curve=e,t}function poe(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(hoe(e)):t()._curve},e}function goe(){}function moe(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function voe(e,t){this._context=e,this._k=(1-t)/6}function yoe(e,t){this._context=e,this._k=(1-t)/6}function boe(e,t,n){var r=e._x1,o=e._y1,i=e._x2,a=e._y2;if(e._l01_a>Bre){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,o=(o*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>Bre){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*c+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,o,i,a,e._x2,e._y2)}function xoe(e,t){this._context=e,this._alpha=t}function woe(e,t){this._context=e,this._alpha=t}foe.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}},voe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:moe(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:moe(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new voe(e,t)}return n.tension=function(t){return e(+t)},n}(0),yoe.prototype={areaStart:goe,areaEnd:goe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:moe(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new yoe(e,t)}return n.tension=function(t){return e(+t)},n}(0),xoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:boe(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return t?new xoe(e,t):new voe(e,0)}return n.alpha=function(t){return e(+t)},n}(.5),woe.prototype={areaStart:goe,areaEnd:goe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:boe(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Coe=function e(t){function n(e){return t?new woe(e,t):new yoe(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Soe(e){this._context=e}function Eoe(e){return new Soe(e)}function Ooe(e){return e<0?-1:1}function koe(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),a=(n-e._y1)/(o||r<0&&-0),l=(i*o+a*r)/(r+o);return(Ooe(i)+Ooe(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(l))||0}function Moe(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function $oe(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,o+l*t,i-l,a-l*n,i,a)}function Ioe(e){this._context=e}function Noe(e){this._context=new Toe(e)}function Toe(e){this._context=e}function Loe(e){return new Ioe(e)}function Roe(e){return new Noe(e)}function _oe(e,t){this._context=e,this._t=t}function Aoe(e){return new _oe(e,.5)}function Poe(e){return new _oe(e,0)}function joe(e){return new _oe(e,1)}function Boe(e){const{transformations:t}=e.getOptions();return t.map(([e])=>e).filter(e=>"transpose"===e).length%2!=0}function Doe(e){const{transformations:t}=e.getOptions();return t.some(([e])=>"polar"===e)}function zoe(e){const{transformations:t}=e.getOptions();return t.some(([e])=>"reflect"===e)&&t.some(([e])=>e.startsWith("transpose"))}function Hoe(e){const{transformations:t}=e.getOptions();return t.some(([e])=>"helix"===e)}function Foe(e){const{transformations:t}=e.getOptions();return t.some(([e])=>"parallel"===e)}function Woe(e){const{transformations:t}=e.getOptions();return t.some(([e])=>"fisheye"===e)}function Goe(e){return Hoe(e)||Doe(e)}function Voe(e){const{transformations:t}=e.getOptions(),[,,,n,r]=t.find(e=>"polar"===e[0]);return[+n,+r]}function qoe(e,t=!0){const{transformations:n}=e.getOptions(),[,r,o]=n.find(e=>"polar"===e[0]);return t?[180*+r/Math.PI,180*+o/Math.PI]:[r,o]}function Xoe(e){return new Uoe([e],null,e,e.ownerDocument)}Soe.prototype={areaStart:goe,areaEnd:goe,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Ioe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$oe(this,this._t0,Moe(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$oe(this,Moe(this,n=koe(this,e,t)),n);break;default:$oe(this,this._t0,n=koe(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Noe.prototype=Object.create(Ioe.prototype)).point=function(e,t){Ioe.prototype.point.call(this,t,e)},Toe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}},_oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};let Uoe=class e{constructor(e=null,t=null,n=null,r=null,o=[null,null,null,null,null],i=[],a=[]){this._elements=Array.from(e),this._data=t,this._parent=n,this._document=r,this._enter=o[0],this._update=o[1],this._exit=o[2],this._merge=o[3],this._split=o[4],this._transitions=i,this._facetElements=a}selectAll(t){const n="string"==typeof t?this._parent.querySelectorAll(t):t;return new e(n,null,this._elements[0],this._document)}selectFacetAll(t){const n="string"==typeof t?this._parent.querySelectorAll(t):t;return new e(this._elements,null,this._parent,this._document,void 0,void 0,n)}select(t){const n="string"==typeof t?this._parent.querySelectorAll(t)[0]||null:t;return new e([n],null,n,this._document)}append(t){const n="function"==typeof t?t:()=>this.createElement(t),r=[];if(null!==this._data){for(let e=0;e<this._data.length;e++){const t=this._data[e],[o,i]=Array.isArray(t)?t:[t,null],a=n(o,e);a.__data__=o,null!==i&&(a.__fromElements__=i),this._parent.appendChild(a),r.push(a)}return new e(r,null,this._parent,this._document)}for(let e=0;e<this._elements.length;e++){const t=this._elements[e],o=n(t.__data__,e);t.appendChild(o),r.push(o)}return new e(r,null,r[0],this._document)}maybeAppend(t,n,r){const o=this._elements[0],i=o.getElementById(t);if(i)return new e([i],null,this._parent,this._document);const a="string"==typeof n?this.createElement(n):n();return a.id=t,r&&(a.className=r),o.appendChild(a),new e([a],null,this._parent,this._document)}data(t,n=e=>e,r=()=>null){const o=[],i=[],a=new Set(this._elements),l=[],s=new Set,c=new Map(this._elements.map((e,t)=>[n(e.__data__,t),e])),u=new Map(this._facetElements.map((e,t)=>[n(e.__data__,t),e])),d=H7(this._elements,e=>r(e.__data__));for(let e=0;e<t.length;e++){const f=t[e],h=n(f,e),p=r(f,e);if(c.has(h)){const e=c.get(h);e.__data__=f,e.__facet__=!1,i.push(e),a.delete(e),c.delete(h)}else if(u.has(h)){const e=u.get(h);e.__data__=f,e.__facet__=!0,i.push(e),u.delete(h)}else if(d.has(h)){const e=d.get(h);l.push([f,e]);for(const t of e)a.delete(t);d.delete(h)}else if(c.has(p)){const e=c.get(p);e.__toData__?e.__toData__.push(f):e.__toData__=[f],s.add(e),a.delete(e)}else o.push(f)}const f=[new e([],o,this._parent,this._document),new e(i,null,this._parent,this._document),new e(a,null,this._parent,this._document),new e([],l,this._parent,this._document),new e(s,null,this._parent,this._document)];return new e(this._elements,null,this._parent,this._document,f)}merge(t){const n=[...this._elements,...t._elements],r=[...this._transitions,...t._transitions];return new e(n,null,this._parent,this._document,void 0,r)}createElement(t){if(this._document)return this._document.createElement(t,{});const n=e.registry[t];return n?new n:Bte(`Unknown node type: ${t}`)}join(e=e=>e,t=e=>e,n=e=>e.remove(),r=e=>e,o=e=>e.remove()){const i=e(this._enter),a=t(this._update),l=n(this._exit),s=r(this._merge),c=o(this._split);return a.merge(i).merge(l).merge(s).merge(c)}remove(){for(let e=0;e<this._elements.length;e++){const t=this._transitions[e];if(this._elements[e].__removed__=!0,t){const n=Array.isArray(t)?t:[t];Promise.all(n.map(e=>e.finished)).then(()=>{const t=this._elements[e];t.__removed__&&t.remove()})}else{const t=this._elements[e];t.__removed__&&t.remove()}}return new e([],null,this._parent,this._document,void 0,this._transitions)}each(e){for(let t=0;t<this._elements.length;t++){const n=this._elements[t];e(n.__data__,t,n)}return this}attr(e,t){const n="function"!=typeof t?()=>t:t;return this.each(function(r,o,i){void 0!==t&&(i[e]=n(r,o,i))})}style(e,t){const n="function"!=typeof t?()=>t:t;return this.each(function(r,o,i){void 0!==t&&(i.style[e]=n(r,o,i))})}transition(e){const t="function"!=typeof e?()=>e:e,{_transitions:n}=this;return this.each(function(e,r,o){n[r]=t(e,r,o)})}on(e,t){return this.each(function(n,r,o){o.addEventListener(e,t)}),this}call(e,...t){return e(this,...t),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}};function Yoe(e,t,n){return Math.max(t,Math.min(e,n))}function Koe(e,t=10){return"number"!=typeof e||Math.abs(e)<1e-15?e:parseFloat(e.toFixed(t))}function Zoe(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}function Qoe(e,t,n,r,o){const i=mre(hre(r,t))+Math.PI,a=mre(hre(r,n))+Math.PI;return e.arc(r[0],r[1],o,i,a,a-i<0),e}function Joe(e,t,n,r="y",o="between",i=!1){const a="y"===r||!0===r?n:t,l=(c=i,"y"===(s=r)||!0===s?c?180:90:c?90:0);var s,c;const u=Yte(a),[d,f]=A7(u,e=>a[e]),h=new nte({domain:[d,f],range:[0,100]}),p=e=>uz(a[e])&&!Number.isNaN(a[e])?h.map(a[e]):0,g={between:t=>`${e[t]} ${p(t)}%`,start:t=>0===t?`${e[t]} ${p(t)}%`:`${e[t-1]} ${p(t)}%, ${e[t]} ${p(t)}%`,end:t=>t===e.length-1?`${e[t]} ${p(t)}%`:`${e[t]} ${p(t)}%, ${e[t+1]} ${p(t)}%`};return`linear-gradient(${l}deg, ${u.sort((e,t)=>p(e)-p(t)).map(g[o]||g.between).join(",")})`}function eie(e){const[t,n,r,o]=e;return[o,t,n,r]}function tie(e,t,n){const[r,o,,i]=Boe(e)?eie(t):t,[a,l]=n,s=e.getCenter(),c=vre(hre(r,s)),u=vre(hre(o,s)),d=u===c&&a!==l?u+2*Math.PI:u,f=1e-4;return{startAngle:c+f,endAngle:(d-c>=0?d:2*Math.PI+d)-f,innerRadius:gre(i,s),outerRadius:gre(r,s)}}function nie(e){const{colorAttribute:t,opacityAttribute:n=t}=e;return`${n}Opacity`}function rie(e,t){if(!Doe(e))return"";const n=e.getCenter(),{transform:r}=t;return`translate(${n[0]}, ${n[1]}) ${r||""}`}function oie(e){if(1===e.length)return e[0];const[[t,n,r=0],[o,i,a=0]]=e;return[(t+o)/2,(n+i)/2,(r+a)/2]}Uoe.registry={g:FX,rect:eU,circle:BX,path:YX,text:nU,ellipse:HX,image:VX,line:XX,polygon:ZX,polyline:JX,html:GX};var iie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function aie(e,t,n,r,o={}){const{inset:i=0,radius:a=0,insetLeft:l=i,insetTop:s=i,insetRight:c=i,insetBottom:u=i,radiusBottomLeft:d=a,radiusBottomRight:f=a,radiusTopLeft:h=a,radiusTopRight:p=a,minWidth:g=-1/0,maxWidth:m=1/0,minHeight:v=-1/0}=o,y=iie(o,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!Doe(r)&&!Hoe(r)){const n=!!Boe(r),[o,,i]=n?eie(t):t,[a,b]=o,[x,w]=hre(i,o),C=(x>0?a:a+x)+l,S=(w>0?b:b+w)+s,E=Math.abs(x)-(l+c),O=Math.abs(w)-(s+u),k=n?Yoe(E,v,1/0):Yoe(E,g,m),M=n?Yoe(O,g,m):Yoe(O,v,1/0),$=n?C:C-(k-E)/2,I=n?S-(M-O)/2:S-(M-O);return Xoe(e.createElement("rect",{})).style("x",$).style("y",I).style("width",k).style("height",M).style("radius",[h,p,f,d]).call(Zoe,y).node()}const{y:b,y1:x}=n,w=r.getCenter(),C=tie(r,t,[b,x]),S=roe().cornerRadius(a).padAngle(i*Math.PI/180);return Xoe(e.createElement("path",{})).style("d",S(C)).style("transform",`translate(${w[0]}, ${w[1]})`).style("radius",a).style("inset",i).call(Zoe,y).node()}const lie=(e,t)=>{const{colorAttribute:n,opacityAttribute:r="fill",first:o=!0,last:i=!0}=e,a=iie(e,["colorAttribute","opacityAttribute","first","last"]),{coordinate:l,document:s}=t;return(t,r,c)=>{const{color:u,radius:d=0}=c,f=iie(c,["color","radius"]),h=f.lineWidth||1,{stroke:p,radius:g=d,radiusTopLeft:m=g,radiusTopRight:v=g,radiusBottomRight:y=g,radiusBottomLeft:b=g,innerRadius:x=0,innerRadiusTopLeft:w=x,innerRadiusTopRight:C=x,innerRadiusBottomRight:S=x,innerRadiusBottomLeft:E=x,lineWidth:O=("stroke"===n||p?h:0),inset:k=0,insetLeft:M=k,insetRight:$=k,insetBottom:I=k,insetTop:N=k,minWidth:T,maxWidth:L,minHeight:R}=a,_=iie(a,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:A=u,opacity:P}=r,j=[o?m:w,o?v:C,i?y:S,i?b:E],B=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];Boe(l)&&B.push(B.shift());const D=Object.assign(Object.assign({radius:g},Object.fromEntries(B.map((e,t)=>[e,j[t]]))),{inset:k,insetLeft:M,insetRight:$,insetBottom:I,insetTop:N,minWidth:T,maxWidth:L,minHeight:R});return Xoe(aie(s,t,r,l,D)).call(Zoe,f).style("fill","transparent").style(n,A).style(nie(e),P).style("lineWidth",O).style("stroke",void 0===p?A:p).call(Zoe,_).node()}};lie.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const sie=(e,t)=>lie(Object.assign({colorAttribute:"fill"},e),t);sie.props=Object.assign(Object.assign({},lie.props),{defaultMarker:"square"});const cie=(e,t)=>lie(Object.assign({colorAttribute:"stroke"},e),t);cie.props=Object.assign(Object.assign({},lie.props),{defaultMarker:"hollowSquare"});var uie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function die(e,t,n){const[r,o,i,a]=e;if(Boe(n)){return[r,[t?t[0][0]:o[0],o[1]],[t?t[3][0]:i[0],i[1]],a]}return[r,[o[0],t?t[0][1]:o[1]],[i[0],t?t[3][1]:i[1]],a]}const fie=(e,t)=>{const{adjustPoints:n=die}=e,r=uie(e,["adjustPoints"]),{coordinate:o,document:i}=t;return(e,t,a,l)=>{const{index:s}=t,{color:c}=a,u=uie(a,["color"]),d=l[s+1],f=n(e,d,o),h=!!Boe(o),[p,g,m,v]=h?eie(f):f,{color:y=c,opacity:b}=t,x=coe().curve(Eoe)([p,g,m,v]);return Xoe(i.createElement("path",{})).call(Zoe,u).style("d",x).style("fill",y).style("fillOpacity",b).call(Zoe,r).node()}};function hie(e,t,n){const[r,o,i,a]=e;if(Boe(n)){return[r,[t?t[0][0]:(o[0]+i[0])/2,o[1]],[t?t[3][0]:(o[0]+i[0])/2,i[1]],a]}return[r,[o[0],t?t[0][1]:(o[1]+i[1])/2],[i[0],t?t[3][1]:(o[1]+i[1])/2],a]}fie.props={defaultMarker:"square"};const pie=(e,t)=>fie(Object.assign({adjustPoints:hie},e),t);function gie(e){const t="function"==typeof e?e:e.render;return class extends zX{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){t(this)}}}pie.props={defaultMarker:"square"};var mie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const vie=gie(e=>{const{d1:t,d2:n,style1:r,style2:o}=e.attributes,i=e.ownerDocument;Xoe(e).maybeAppend("line",()=>i.createElement("path",{})).style("d",t).call(Zoe,r),Xoe(e).maybeAppend("line1",()=>i.createElement("path",{})).style("d",n).call(Zoe,o)});const yie=(e,t)=>{const{curve:n,gradient:r=!1,gradientColor:o="between",defined:i=e=>!Number.isNaN(e)&&null!=e,connect:a=!1}=e,l=mie(e,["curve","gradient","gradientColor","defined","connect"]),{coordinate:s,document:c}=t;return(e,t,u)=>{const{color:d,lineWidth:f}=u,h=mie(u,["color","lineWidth"]),{color:p=d,size:g=f,seriesColor:m,seriesX:v,seriesY:y}=t,b=rie(s,t),x=Boe(s),w=r&&m?Joe(m,v,y,r,o,x):p,C=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},h),w&&{stroke:w}),g&&{lineWidth:g}),b&&{transform:b}),l);let S;if(Doe(s)){const e=s.getCenter();S=t=>poe(coe().curve(doe)).angle((n,r)=>vre(hre(t[r],e))).radius((n,r)=>gre(t[r],e)).defined(([e,t])=>i(e)&&i(t)).curve(n)(t)}else S=coe().x(e=>e[0]).y(e=>e[1]).defined(([e,t])=>i(e)&&i(t)).curve(n);const[E,O]=function(e,t){const n=[],r=[];let o=!1,i=null;for(const a of e)t(a[0])&&t(a[1])?(n.push(a),o&&(o=!1,r.push([i,a])),i=a):o=!0;return[n,r]}(e,i),k=Fte(C,"connect"),M=!!O.length;if(!M||a&&!Object.keys(k).length)return Xoe(c.createElement("path",{})).style("d",S(E)||[]).call(Zoe,C).node();if(M&&!a)return Xoe(c.createElement("path",{})).style("d",S(e)).call(Zoe,C).node();return Xoe(new vie).style("style1",Object.assign(Object.assign({},C),k)).style("style2",C).style("d1",($=O,$.map(S).join(","))).style("d2",S(e)).node();var $}};yie.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const bie=(e,t)=>{const{coordinate:n}=t;return(...r)=>{const o=Doe(n)?Eoe:aoe;return yie(Object.assign({curve:o},e),t)(...r)}};bie.props=Object.assign(Object.assign({},yie.props),{defaultMarker:"line"});const xie=(e,t)=>{const n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,[]),{coordinate:r}=t;return(...e)=>{const o=Doe(r)?Coe:Boe(r)?Roe:Loe;return yie(Object.assign({curve:o},n),t)(...e)}};xie.props=Object.assign(Object.assign({},yie.props),{defaultMarker:"smooth"});const wie=(e,t)=>yie(Object.assign({curve:joe},e),t);wie.props=Object.assign(Object.assign({},yie.props),{defaultMarker:"hv"});const Cie=(e,t)=>yie(Object.assign({curve:Poe},e),t);Cie.props=Object.assign(Object.assign({},yie.props),{defaultMarker:"vh"});const Sie=(e,t)=>yie(Object.assign({curve:Aoe},e),t);Sie.props=Object.assign(Object.assign({},yie.props),{defaultMarker:"hvh"});function Eie(e,t,n,r,o){const i=mre(hre(n,t)),a=i+Math.PI/2,l=[r/2*Math.cos(a),r/2*Math.sin(a)],s=[o/2*Math.cos(a),o/2*Math.sin(a)],c=[o/2*Math.cos(i),o/2*Math.sin(i)],u=[r/2*Math.cos(i),r/2*Math.sin(i)],d=pre(t,l),f=pre(n,s),h=pre(f,c),p=pre(n,c),g=hre(p,s),m=hre(n,s),v=hre(t,l),y=hre(v,u),b=hre(t,u),x=hre(d,u);e.moveTo(...d),e.lineTo(...f),e.arcTo(...h,...p,o/2),e.arcTo(...g,...m,o/2),e.lineTo(...v),e.arcTo(...y,...b,r/2),e.arcTo(...x,...d,r/2),e.closePath()}const Oie=(e,t)=>{const{document:n}=t;return(t,r,o)=>{const{seriesSize:i,color:a}=r,{color:l}=o,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(o,["color"]),c=Yre();for(let e=0;e<t.length-1;e++){const n=t[e],r=t[e+1],o=i[e],a=i[e+1];[...n,...r].every(zte)&&Eie(c,n,r,o,a)}return Xoe(n.createElement("path",{})).call(Zoe,s).style("fill",a||l).style("d",c.toString()).call(Zoe,e).node()}};Oie.props=Object.assign(Object.assign({},yie.props),{defaultMarker:"line"});const kie=(e,t,n)=>[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"]];kie.style=["fill"];const Mie=kie.bind(void 0);Mie.style=["stroke","lineWidth"];const $ie=(e,t,n)=>[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]];$ie.style=["fill"];const Iie=$ie.bind(void 0);Iie.style=["fill"];const Nie=$ie.bind(void 0);Nie.style=["stroke","lineWidth"];const Tie=(e,t,n)=>{const r=.618*n;return[["M",e-r,t],["L",e,t-n],["L",e+r,t],["L",e,t+n],["Z"]]};Tie.style=["fill"];const Lie=Tie.bind(void 0);Lie.style=["stroke","lineWidth"];const Rie=(e,t,n)=>{const r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]};Rie.style=["fill"];const _ie=Rie.bind(void 0);_ie.style=["stroke","lineWidth"];const Aie=(e,t,n)=>{const r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]};Aie.style=["fill"];const Pie=Aie.bind(void 0);Pie.style=["stroke","lineWidth"];const jie=(e,t,n)=>{const r=n/2*Math.sqrt(3);return[["M",e,t-n],["L",e+r,t-n/2],["L",e+r,t+n/2],["L",e,t+n],["L",e-r,t+n/2],["L",e-r,t-n/2],["Z"]]};jie.style=["fill"];const Bie=jie.bind(void 0);Bie.style=["stroke","lineWidth"];const Die=(e,t,n)=>{const r=n-1.5;return[["M",e-n,t-r],["L",e+n,t+r],["L",e+n,t-r],["L",e-n,t+r],["Z"]]};Die.style=["fill"];const zie=Die.bind(void 0);zie.style=["stroke","lineWidth"];const Hie=(e,t,n)=>[["M",e,t+n],["L",e,t-n]];Hie.style=["stroke","lineWidth"];const Fie=(e,t,n)=>[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]];Fie.style=["stroke","lineWidth"];const Wie=(e,t,n)=>[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]];Wie.style=["stroke","lineWidth"];const Gie=(e,t,n)=>[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]];Gie.style=["stroke","lineWidth"];const Vie=(e,t,n)=>[["M",e-n,t],["L",e+n,t]];Vie.style=["stroke","lineWidth"];const qie=(e,t,n)=>[["M",e-n,t],["L",e+n,t]];qie.style=["stroke","lineWidth"];const Xie=qie.bind(void 0);Xie.style=["stroke","lineWidth"];const Uie=(e,t,n)=>[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]];Uie.style=["stroke","lineWidth"];const Yie=(e,t,n)=>[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]];Yie.style=["stroke","lineWidth"];const Kie=(e,t,n)=>[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]];Kie.style=["stroke","lineWidth"];const Zie=(e,t,n)=>[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]];Zie.style=["stroke","lineWidth"];const Qie=(e,t,n)=>[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]];Qie.style=["stroke","lineWidth"];const Jie=new Map([["bowtie",Die],["cross",Fie],["dash",Xie],["diamond",Tie],["dot",qie],["hexagon",jie],["hollowBowtie",zie],["hollowDiamond",Lie],["hollowHexagon",Bie],["hollowPoint",Mie],["hollowSquare",Nie],["hollowTriangle",_ie],["hollowTriangleDown",Pie],["hv",Yie],["hvh",Zie],["hyphen",Vie],["line",Hie],["plus",Gie],["point",kie],["rect",Iie],["smooth",Uie],["square",$ie],["tick",Wie],["triangleDown",Aie],["triangle",Rie],["vh",Kie],["vhv",Qie]]);function eae(e,t){var{d:n,fill:r,lineWidth:o,path:i,stroke:a,color:l}=t,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["d","fill","lineWidth","path","stroke","color"]);const c=Jie.get(e)||Jie.get("point");return(...e)=>new YX({style:Object.assign(Object.assign({},s),{d:c(...e),stroke:c.style.includes("stroke")?l||a:"",fill:c.style.includes("fill")?l||r:"",lineWidth:c.style.includes("lineWidth")?o||o||2:0})})}function tae(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function nae(e,t,n,r){if(1===t.length)return;const{size:o}=n;if("fixed"===e)return o;if("normal"===e||Woe(r)){const[[e,n],[r,o]]=t,i=Math.abs((r-e)/2),a=Math.abs((o-n)/2);return Math.max(0,(i+a)/2)}return o}const rae=(e,t)=>{const{colorAttribute:n,symbol:r,mode:o="auto"}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["colorAttribute","symbol","mode"]),a=Jie.get(tae(r))||Jie.get("point"),{coordinate:l,document:s}=t;return(t,r,c)=>{const{lineWidth:u,color:d}=c,f=i.stroke?u||1:u,{color:h=d,transform:p,opacity:g}=r,[m,v]=oie(t),y=nae(o,t,r,l)||i.r||c.r;return Xoe(s.createElement("path",{})).call(Zoe,c).style("fill","transparent").style("d",a(m,v,y)).style("lineWidth",f).style("transform",p).style("transformOrigin",`${m-y} ${v-y}`).style("stroke",h).style(nie(e),g).style(n,h).call(Zoe,i).node()}};rae.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const oae=(e,t)=>rae(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},e),t);oae.props=Object.assign({defaultMarker:"hollowBowtie"},rae.props);const iae=(e,t)=>rae(Object.assign({colorAttribute:"stroke",symbol:"diamond"},e),t);iae.props=Object.assign({defaultMarker:"hollowDiamond"},rae.props);const aae=(e,t)=>rae(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},e),t);aae.props=Object.assign({defaultMarker:"hollowHexagon"},rae.props);const lae=(e,t)=>rae(Object.assign({colorAttribute:"stroke",symbol:"point"},e),t);lae.props=Object.assign({defaultMarker:"hollowPoint"},rae.props);const sae=(e,t)=>rae(Object.assign({colorAttribute:"stroke",symbol:"square"},e),t);sae.props=Object.assign({defaultMarker:"hollowSquare"},rae.props);const cae=(e,t)=>rae(Object.assign({colorAttribute:"stroke",symbol:"triangle"},e),t);cae.props=Object.assign({defaultMarker:"hollowTriangle"},rae.props);const uae=(e,t)=>rae(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},e),t);uae.props=Object.assign({defaultMarker:"hollowTriangleDown"},rae.props);const dae=(e,t)=>{const{colorAttribute:n,mode:r="auto"}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["colorAttribute","mode"]),{coordinate:i,document:a}=t;return(t,l,s)=>{const{lineWidth:c,color:u}=s,d=o.stroke?c||1:c,{color:f=u,transform:h,opacity:p}=l,[g,m]=oie(t),v=nae(r,t,l,i)||o.r||s.r;return Xoe(a.createElement("circle",{})).call(Zoe,s).style("fill","transparent").style("cx",g).style("cy",m).style("r",v).style("lineWidth",d).style("transform",h).style("transformOrigin",`${g} ${m}`).style("stroke",f).style(nie(e),p).style(n,f).call(Zoe,o).node()}},fae=(e,t)=>dae(Object.assign({colorAttribute:"fill"},e),t);fae.props={defaultMarker:"circle",defaultEnterAnimation:"fadeIn",defaultExitAnimation:"fadeOut"};const hae=(e,t)=>dae(Object.assign({colorAttribute:"stroke"},e),t);hae.props=Object.assign({defaultMarker:"hollowPoint"},fae.props);const pae=(e,t)=>rae(Object.assign({colorAttribute:"fill",symbol:"bowtie"},e),t);pae.props=Object.assign({defaultMarker:"bowtie"},rae.props);const gae=(e,t)=>rae(Object.assign({colorAttribute:"stroke",symbol:"cross"},e),t);gae.props=Object.assign({defaultMarker:"cross"},rae.props);const mae=(e,t)=>rae(Object.assign({colorAttribute:"fill",symbol:"diamond"},e),t);mae.props=Object.assign({defaultMarker:"diamond"},rae.props);const vae=(e,t)=>rae(Object.assign({colorAttribute:"fill",symbol:"hexagon"},e),t);vae.props=Object.assign({defaultMarker:"hexagon"},rae.props);const yae=(e,t)=>rae(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},e),t);yae.props=Object.assign({defaultMarker:"hyphen"},rae.props);const bae=(e,t)=>rae(Object.assign({colorAttribute:"stroke",symbol:"line"},e),t);bae.props=Object.assign({defaultMarker:"line"},rae.props);const xae=(e,t)=>rae(Object.assign({colorAttribute:"stroke",symbol:"plus"},e),t);xae.props=Object.assign({defaultMarker:"plus"},rae.props);const wae=(e,t)=>rae(Object.assign({colorAttribute:"fill",symbol:"point"},e),t);wae.props=Object.assign({defaultMarker:"point"},rae.props);const Cae=(e,t)=>rae(Object.assign({colorAttribute:"fill",symbol:"square"},e),t);Cae.props=Object.assign({defaultMarker:"square"},rae.props);const Sae=(e,t)=>rae(Object.assign({colorAttribute:"stroke",symbol:"tick"},e),t);Sae.props=Object.assign({defaultMarker:"tick"},rae.props);const Eae=(e,t)=>rae(Object.assign({colorAttribute:"fill",symbol:"triangle"},e),t);Eae.props=Object.assign({defaultMarker:"triangle"},rae.props);const Oae=(e,t)=>rae(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},e),t);Oae.props=Object.assign({defaultMarker:"triangleDown"},rae.props);var kae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Mae=(e,t)=>{const{arrow:n=!0,arrowSize:r="40%"}=e,o=kae(e,["arrow","arrowSize"]),{document:i}=t;return(e,t,a)=>{const{defaultColor:l}=a,s=kae(a,["defaultColor"]),{color:c=l,transform:u}=t,[d,f]=e,h=Yre();if(h.moveTo(...d),h.lineTo(...f),n){const[e,t]=function(e,t,n){const{arrowSize:r}=n,o="string"==typeof r?+parseFloat(r)/100*gre(e,t):r,i=Math.PI/6,a=Math.atan2(t[1]-e[1],t[0]-e[0]),l=Math.PI/2-a-i,s=a-i;return[[t[0]-o*Math.sin(l),t[1]-o*Math.cos(l)],[t[0]-o*Math.cos(s),t[1]-o*Math.sin(s)]]}(d,f,{arrowSize:r});h.moveTo(...e),h.lineTo(...f),h.lineTo(...t)}return Xoe(i.createElement("path",{})).call(Zoe,s).style("d",h.toString()).style("stroke",c).style("transform",u).call(Zoe,o).node()}};function $ae(e,t){t(e),e.children&&e.children.forEach(function(e){e&&$ae(e,t)})}function Iae(e){Tae(e,!0)}function Nae(e){Tae(e,!1)}function Tae(e,t){var n=t?"visible":"hidden";$ae(e,function(e){e.attr("visibility",n)})}Mae.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Lae=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(this,Gz([],Wz(t),!1))||this;return r.isMutationObserved=!0,r.addEventListener(Xq.INSERTED,function(){Nae(r)}),r}return Bz(t,e),t}(FX);function Rae(e){var t=e.appendChild(new Lae({class:"offscreen"}));return Nae(t),t}var _ae=function(e){function t(t){void 0===t&&(t={});var n=t.style,r=zz(t,["style"]);return e.call(this,Dz({style:Dz({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},n)},r))||this}return Bz(t,e),Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=Rae(this)),this._offscreen},enumerable:!1,configurable:!0}),t.prototype.disconnectedCallback=function(){var e;null===(e=this._offscreen)||void 0===e||e.destroy()},t}(nU);function Aae(e){return e*Math.PI/180}function Pae(e){return Number((180*e/Math.PI).toPrecision(5))}var jae=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=t,this.width=n,this.height=r}return Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},e.prototype.isPointIn=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom},e}();function Bae(e,t){return UD(e)?e.apply(void 0,Gz([],Wz(t),!1)):e}var Dae,zae,Hae,Fae,Wae=function(e,t){var n=function(e){return"".concat(t,"-").concat(e)},r=Object.fromEntries(Object.entries(e).map(function(e){var t=Wz(e,2),r=t[0],o=t[1],i=n(o);return[r,{name:i,class:".".concat(i),id:"#".concat(i),toString:function(){return i}}]}));return Object.assign(r,{prefix:n}),r},Gae=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=5),Object.entries(t).forEach(function(o){var i=Wz(o,2),a=i[0],l=i[1],s=e;Object.prototype.hasOwnProperty.call(t,a)&&(l?rz(l)?(rz(e[a])||(s[a]={}),n<r?Gae(e[a],l,n+1,r):s[a]=t[a]):KD(l)?(s[a]=[],s[a]=s[a].concat(l)):s[a]=l:s[a]=l)})},Vae=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)Gae(e,t[r]);return e},qae=function(e){return void 0!==e&&null!=e&&!Number.isNaN(e)},Xae=(zae=function(e,t){var n=t.fontSize,r=t.fontFamily,o=t.fontWeight,i=t.fontStyle,a=t.fontVariant;return Dae||(Dae=EX.offscreenCanvasCreator.getOrCreateContext(void 0)),Dae.font=[i,a,o,"".concat(n,"px"),r].join(" "),Dae.measureText(e).width},Hae=function(e,t){return[e,Object.values(t||Uae(e)).join()].join("")},Fae=4096,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Hae?Hae.apply(this,e):e[0];Sz.has(zae)||Sz.set(zae,function(e){var t,n,r,o=e;function i(e,i){++t>o&&(r=n,a(1),++t),n[e]=i}function a(e){t=0,n=Object.create(null),e||(r=Object.create(null))}return a(),{clear:a,has:function(e){return void 0!==n[e]||void 0!==r[e]},get:function(e){var t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(i(e,t),t):void 0},set:function(e,t){void 0!==n[e]?n[e]=t:i(e,t)}}}(Fae));var r=Sz.get(zae);if(r.has(n))return r.get(n);var o=zae.apply(this,e);return r.set(n,o),o}),Uae=function(e){var t=e.style.fontFamily||"sans-serif",n=e.style.fontWeight||"normal",r=e.style.fontStyle||"normal",o=e.style.fontVariant,i=e.style.fontSize;return{fontSize:i="object"==typeof i?i.value:i,fontFamily:t,fontWeight:n,fontStyle:r,fontVariant:o}};function Yae(e){return"text"===e.nodeName?e:"g"===e.nodeName&&1===e.children.length&&"text"===e.children[0].nodeName?e.children[0]:null}function Kae(e,t){var n=Yae(e);n&&n.attr(t)}function Zae(e,t,n){void 0===n&&(n="..."),Kae(e,{wordWrap:!0,wordWrapWidth:t,maxLines:1,textOverflow:n})}function Qae(e){var t=e.canvas,n=e.touches,r=e.offsetX,o=e.offsetY;if(t)return[t.x,t.y];if(n){var i=n[0];return[i.clientX,i.clientY]}return r&&o?[r,o]:[0,0]}function Jae(e){return"function"==typeof e?e():lz(e)||uz(e)?new _ae({style:{text:String(e)}}):e}function ele(e,t,n,r,o){return void 0===r&&(r=!0),void 0===o&&(o=function(e){e.node().removeChildren()}),e?n(t):(r&&o(t),null)}function tle(e,t,n,r,o){return void 0===r&&(r=!0),void 0===o&&(o=!1),!!(r&&e===t||o&&e===n)||e>t&&e<n}function nle(e,t){return"number"==typeof e&&"number"==typeof t?function(e,t){return function(n){return e*(1-n)+t*n}}(e,t):Array.isArray(e)&&Array.isArray(t)?function(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0;return function(o){var i=new Array(r),a=new Array(n),l=0;for(l=0;l<r;++l)i[l]=nle(e[l],t[l]);for(;l<n;++l)a[l]=t[l];for(l=0;l<r;++l)a[l]=i[l](o);return a}}(e,t):"object"==typeof e&&"object"==typeof t?function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n={},r={};return Object.entries(t).forEach(function(t){var o=Wz(t,2),i=o[0],a=o[1];i in e?n[i]=nle(e[i],a):r[i]=a}),function(e){return Object.entries(n).forEach(function(t){var n=Wz(t,2),o=n[0],i=n[1];return r[o]=i(e)}),r}}(e,t):function(t){return e}}function rle(e){for(var t=1/0,n=1/0,r=-1/0,o=-1/0,i=0;i<e.length;i++){var a=e[i],l=a.x,s=a.y,c=Wz([l+a.width,s+a.height],2),u=c[0],d=c[1];l<t&&(t=l),s<n&&(n=s),u>r&&(r=u),d>o&&(o=d)}return new jae(t,n,r-t,o-n)}var ole=function(e,t,n){var r=e.width,o=e.height,i=n.flexDirection,a=void 0===i?"row":i;n.flexWrap;var l=n.justifyContent,s=void 0===l?"flex-start":l;n.alignContent;var c=n.alignItems,u=void 0===c?"flex-start":c,d="row"===a,f="row"===a||"column"===a,h=d?f?[1,0]:[-1,0]:f?[0,1]:[0,-1],p=Wz([0,0],2),g=p[0],m=p[1],v=t.map(function(e){var t,n=e.width,r=e.height,o=Wz([g,m],2),i=o[0],a=o[1];return t=Wz([g+n*h[0],m+r*h[1]],2),g=t[0],m=t[1],new jae(i,a,n,r)}),y=rle(v),b={"flex-start":0,"flex-end":d?r-y.width:o-y.height,center:d?(r-y.width)/2:(o-y.height)/2},x=v.map(function(e){var t=e.x,n=e.y,r=jae.fromRect(e);return r.x=d?t+b[s]:t,r.y=d?n:n+b[s],r});rle(x);var w=function(e){var t=Wz(d?["height",o]:["width",r],2),n=t[0],i=t[1];switch(u){case"flex-start":default:return 0;case"flex-end":return i-e[n];case"center":return i/2-e[n]/2}};return x.map(function(e){var t=e.x,n=e.y,r=jae.fromRect(e);return r.x=d?t:t+w(r),r.y=d?n+w(r):n,r}).map(function(t){var n,r,o=jae.fromRect(t);return o.x+=null!==(n=e.x)&&void 0!==n?n:0,o.y+=null!==(r=e.y)&&void 0!==r?r:0,o})},ile=function(e,t,n){return[]};function ale(e,t){return[e[0]*t,e[1]*t]}function lle(e,t){return[e[0]+t[0],e[1]+t[1]]}function sle(e,t){return[e[0]-t[0],e[1]-t[1]]}function cle(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]}function ule(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}function dle(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function fle(e){if(0===e[0]&&0===e[1])return[0,0];var t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/t,e[1]/t]}function hle(e,t){return+e.toPrecision(t)}function ple(e,t){var n={},r=Array.isArray(t)?t:[t];for(var o in e)r.includes(o)||(n[o]=e[o]);return n}function gle(e,t,n){void 0===n&&(n=[[0,0],[1,1]]);for(var r=[],o=0,i=e.length;o<i;o+=2)r.push([e[o],e[o+1]]);var a,l,s,c=function(e,t,n,r){var o,i,a,l,s,c,u=[],d=!!r,f=[1/0,1/0],h=[-1/0,-1/0];if(d){f=(o=Wz(r,2))[0],h=o[1];for(var p=0,g=e.length;p<g;p+=1)f=cle(f,v=e[p]),h=ule(h,v)}p=0;for(var m=e.length;p<m;p+=1){var v=e[p];if(0===p)c=v;else if(p===m-1)s=v,u.push(c),u.push(s);else{i=e[p-1];var y=[0,0];y=ale(y=sle(a=e[p+1],i),t);var b=dle(v,i),x=dle(v,a),w=b+x;0!==w&&(b/=w,x/=w);var C=ale(y,-b),S=ale(y,x);s=lle(v,C),l=cle(l=lle(v,S),ule(a,v)),l=ule(l,cle(a,v)),s=cle(s=lle(v,C=ale(C=sle(l,v),-b/x)),ule(i,v)),l=lle(v,S=ale(S=sle(v,s=ule(s,cle(i,v))),x/b)),d&&(s=cle(s=ule(s,f),h),l=cle(l=ule(l,f),h)),u.push(c),u.push(s),c=l}}return u}(r,.4,0,n),u=r.length,d=[];for(o=0;o<u-1;o+=1)a=c[2*o],l=c[2*o+1],s=r[o+1],d.push(["C",a[0],a[1],l[0],l[1],s[0],s[1]]);return d}var mle=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function vle(e){return mle.includes(e)}function yle(e){var t={};for(var n in e)vle(n)&&(t[n]=e[n]);return t}function ble(e,t,n){var r=e.getBBox(),o=r.width,i=r.height,a=t/Math.max(o,i);return e.style.transform="scale(".concat(a,")"),a}var xle=function(){function e(e,n,r,o,i,a,l){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===i&&(i=[null,null,null,null,null]),void 0===a&&(a=[]),void 0===l&&(l=[]),t.add(this),this._elements=Array.from(e),this._data=n,this._parent=r,this._document=o,this._enter=i[0],this._update=i[1],this._exit=i[2],this._merge=i[3],this._split=i[4],this._transitions=a,this._facetElements=l}var t,n,r;return e.prototype.selectAll=function(e){var t="string"==typeof e?this._parent.querySelectorAll(e):e;return new n(t,null,this._elements[0],this._document)},e.prototype.selectFacetAll=function(e){var t="string"==typeof e?this._parent.querySelectorAll(e):e;return new n(this._elements,null,this._parent,this._document,void 0,void 0,t)},e.prototype.select=function(e){var t="string"==typeof e?this._parent.querySelectorAll(e)[0]||null:e;return new n([t],null,t,this._document)},e.prototype.append=function(e){var t=this,r="function"==typeof e?e:function(){return t.createElement(e)},o=[];if(null!==this._data){for(var i=0;i<this._data.length;i++){var a=this._data[i],l=Wz(Array.isArray(a)?a:[a,null],2),s=l[0],c=l[1];(d=r(s,i)).__data__=s,null!==c&&(d.__fromElements__=c),this._parent.appendChild(d),o.push(d)}return new n(o,null,this._parent,this._document)}for(i=0;i<this._elements.length;i++){var u=this._elements[i],d=r(s=u.__data__,i);u.appendChild(d),o.push(d)}return new n(o,null,o[0],this._document)},e.prototype.maybeAppend=function(e,n){var o=Vz(this,t,"m",r).call(this,"#"===e[0]?e:"#".concat(e),n);return o.attr("id",e),o},e.prototype.maybeAppendByClassName=function(e,n){var o=e.toString(),i=Vz(this,t,"m",r).call(this,"."===o[0]?o:".".concat(o),n);return i.attr("className",o),i},e.prototype.maybeAppendByName=function(e,n){var o=Vz(this,t,"m",r).call(this,'[name="'.concat(e,'"]'),n);return o.attr("name",e),o},e.prototype.data=function(e,t,r){var o,i;void 0===t&&(t=function(e){return e}),void 0===r&&(r=function(){return null});for(var a,l,s,c=[],u=[],d=new Set(this._elements),f=[],h=new Set,p=new Map(this._elements.map(function(e,n){return[t(e.__data__,n),e]})),g=new Map(this._facetElements.map(function(e,n){return[t(e.__data__,n),e]})),m=(a=this._elements,l=function(e){return r(e.__data__)},s=new Map,a.forEach(function(e){var t=l(e);s.has(t)||s.set(t,[]),s.get(t).push(e)}),s),v=0;v<e.length;v++){var y=e[v],b=t(y,v),x=r(y,v);if(p.has(b))(E=p.get(b)).__data__=y,E.__facet__=!1,u.push(E),d.delete(E),p.delete(b);else if(g.has(b)){(E=g.get(b)).__data__=y,E.__facet__=!0,u.push(E),g.delete(b)}else if(m.has(b)){var w=m.get(b);f.push([y,w]);try{for(var C=(o=void 0,Fz(w)),S=C.next();!S.done;S=C.next()){var E=S.value;d.delete(E)}}catch(k){o={error:k}}finally{try{S&&!S.done&&(i=C.return)&&i.call(C)}finally{if(o)throw o.error}}m.delete(b)}else if(p.has(x)){(E=p.get(x)).__toData__?E.__toData__.push(y):E.__toData__=[y],h.add(E),d.delete(E)}else c.push(y)}var O=[new n([],c,this._parent,this._document),new n(u,null,this._parent,this._document),new n(d,null,this._parent,this._document),new n([],f,this._parent,this._document),new n(h,null,this._parent,this._document)];return new n(this._elements,null,this._parent,this._document,O)},e.prototype.merge=function(e){var t=Gz(Gz([],Wz(this._elements),!1),Wz(e._elements),!1),r=Gz(Gz([],Wz(this._transitions),!1),Wz(e._transitions),!1);return new n(t,null,this._parent,this._document,void 0,r)},e.prototype.createElement=function(e){if(this._document)return this._document.createElement(e,{});var t=n.registry[e];return t?new t:function(e){throw new Error(e)}("Unknown node type: ".concat(e))},e.prototype.join=function(e,t,n,r,o){void 0===e&&(e=function(e){return e}),void 0===t&&(t=function(e){return e}),void 0===n&&(n=function(e){return e.remove()}),void 0===r&&(r=function(e){return e}),void 0===o&&(o=function(e){return e.remove()});var i=e(this._enter),a=t(this._update),l=n(this._exit),s=r(this._merge),c=o(this._split);return a.merge(i).merge(l).merge(s).merge(c)},e.prototype.remove=function(){for(var e=function(e){var n=t._elements[e],r=t._transitions[e];r?r.then(function(){return n.remove()}):n.remove()},t=this,r=0;r<this._elements.length;r++)e(r);return new n([],null,this._parent,this._document,void 0,this._transitions)},e.prototype.each=function(e){for(var t=0;t<this._elements.length;t++){var n=this._elements[t],r=n.__data__;e.call(n,r,t)}return this},e.prototype.attr=function(e,t){var n="function"!=typeof t?function(){return t}:t;return this.each(function(r,o){void 0!==t&&(this[e]=n.call(this,r,o))})},e.prototype.style=function(e,t,n){void 0===n&&(n=!0);var r="function"==typeof t&&n?t:function(){return t};return this.each(function(n,o){void 0!==t&&(this.style[e]=r.call(this,n,o))})},e.prototype.styles=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=!0),this.each(function(n,r){var o=this;Object.entries(e).forEach(function(e){var i=Wz(e,2),a=i[0],l=i[1],s="function"==typeof l&&t?l:function(){return l};void 0!==l&&o.attr(a,s.call(o,n,r))})})},e.prototype.update=function(e,t){void 0===t&&(t=!0);var n="function"==typeof e&&t?e:function(){return e};return this.each(function(t,r){e&&this.update&&this.update(n.call(this,t,r))})},e.prototype.maybeUpdate=function(e,t){void 0===t&&(t=!0);var n="function"==typeof e&&t?e:function(){return e};return this.each(function(t,r){e&&this.update&&this.update(n.call(this,t,r))})},e.prototype.transition=function(e){this._transitions;var t=new Array(this._elements.length);return this.each(function(n,r){t[r]=e.call(this,n,r)}),this._transitions=function(e){if(!KD(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t}(t),this},e.prototype.on=function(e,t){return this.each(function(){this.addEventListener(e,t)}),this},e.prototype.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.call.apply(e,Gz([this._parent,this],Wz(t),!1)),this},e.prototype.node=function(){return this._elements[0]},e.prototype.nodes=function(){return this._elements},e.prototype.transitions=function(){return this._transitions.filter(function(e){return!!e})},e.prototype.parent=function(){return this._parent},n=e,t=new WeakSet,r=function(e,t){var r=this._elements[0],o=r.querySelector(e);if(o)return new n([o],null,this._parent,this._document);var i="string"==typeof t?this.createElement(t):t();return r.appendChild(i),new n([i],null,this._parent,this._document)},e.registry={g:FX,rect:eU,circle:BX,path:YX,text:_ae,ellipse:HX,image:VX,line:XX,polygon:ZX,polyline:JX,html:GX},e}();function wle(e){return new xle([e],null,e,e.ownerDocument)}function Cle(e){if(uz(e))return[e,e,e,e];if(KD(e)){var t=e.length;if(1===t)return[e[0],e[0],e[0],e[0]];if(2===t)return[e[0],e[1],e[0],e[1]];if(3===t)return[e[0],e[1],e[2],e[1]];if(4===t)return e}return[0,0,0,0]}function Sle(e){var t=e.getLocalBounds(),n=Wz([t.min,t.max],2),r=Wz(n[0],2),o=r[0],i=r[1],a=Wz(n[1],2),l=a[0],s=a[1];return{x:o,y:i,width:l-o,height:s-i,left:o,bottom:s,top:i,right:l}}function Ele(e,t){var n=Wz(e,2),r=n[0],o=n[1],i=Wz(t,2),a=i[0],l=i[1];return r!==a&&o===l}function Ole(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}function kle(e,t,n){var r;void 0===n&&(n=!0);var o=t||(null===(r=e.match(/^([a-z][a-z0-9]+)/))||void 0===r?void 0:r[0])||"",i=e.replace(new RegExp("^(".concat(o,")")),"");return n?function(e){return e.toString().charAt(0).toLowerCase()+e.toString().slice(1)}(i):i}var Mle=function(e,t){if(!(null==e?void 0:e.startsWith(t)))return!1;var n=e[t.length];return n>="A"&&n<="Z"};function $le(e,t,n){void 0===n&&(n=!1);var r={};return Object.entries(e).forEach(function(e){var o=Wz(e,2),i=o[0],a=o[1];if("className"===i||"class"===i);else if(Mle(i,"show")&&Mle(kle(i,"show"),t)!==n)i===function(e,t){return"".concat(t).concat(Ole(e))}(t,"show")?r[i]=a:r[i.replace(new RegExp(Ole(t)),"")]=a;else if(!Mle(i,"show")&&Mle(i,t)!==n){var l=kle(i,t);"filter"===l&&"function"==typeof a||(r[l]=a)}}),r}function Ile(e,t){return Object.entries(e).reduce(function(e,n){var r=Wz(n,2),o=r[0],i=r[1];return o.startsWith("show")?e["show".concat(t).concat(o.slice(4))]=i:e["".concat(t).concat(Ole(o))]=i,e},{})}function Nle(e,t){void 0===t&&(t=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},o={};return Object.entries(e).forEach(function(e){var i=Wz(e,2),a=i[0],l=i[1];t.includes(a)||(-1!==n.indexOf(a)?o[a]=l:r[a]=l)}),[r,o]}function Tle(e,t){if(t)try{var n=t.replace(/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,function(t,n,r){return"translate(".concat(function(e,t,n){var r=e.getBBox(),o=r.width,i=r.height,a=Wz([t,n].map(function(e,t){var n;return e.includes("%")?parseFloat((null===(n=e.match(/[+-]?([0-9]*[.])?[0-9]+/))||void 0===n?void 0:n[0])||"0")/100*(0===t?o:i):e}),2);return[a[0],a[1]]}(e,n,r),")")});e.attr("transform",n)}catch(rw){}}var Lle=function(e,t){null!=t?e.replaceChildren?Array.isArray(t)?e.replaceChildren.apply(e,Gz([],Wz(t),!1)):e.replaceChildren(t):(e.innerHTML="",Array.isArray(t)?t.forEach(function(t){return e.appendChild(t)}):e.appendChild(t)):e.innerHTML=""};function Rle(e){return/\S+-\S+/g.test(e)?e.split("-").map(function(e){return e[0]}):e.length>2?[e[0]]:e.split("")}function _le(){Tae(this,"hidden"!==this.attributes.visibility)}var Ale=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this,Vae({},{style:n},t))||this;return r.initialized=!1,r._defaultOptions=n,r}return Bz(t,e),Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=Rae(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},t.prototype.disconnectedCallback=function(){var e;null===(e=this._offscreen)||void 0===e||e.destroy()},t.prototype.attributeChangedCallback=function(e){"visibility"===e&&_le.call(this)},t.prototype.update=function(e,t){var n;return this.attr(Vae({},this.attributes,e||{})),null===(n=this.render)||void 0===n?void 0:n.call(this,this.attributes,this,t)},t.prototype.clear=function(){this.removeChildren()},t.prototype.bindEvents=function(e,t){},t.prototype.getSubShapeStyle=function(e){return e.x,e.y,e.transform,e.transformOrigin,e.class,e.className,e.zIndex,zz(e,["x","y","transform","transformOrigin","class","className","zIndex"])},t}(zX),Ple=function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"]]},jle=Ple,Ble=function(e,t,n){return[["M",e,t+n],["L",e,t-n]]},Dle=function(e,t,n){return[["M",e-n,t],["L",e+n,t]]},zle=Dle;function Hle(e){var t=function(e){var t="default";if(ZD(e)&&e instanceof Image)t="image";else if(UD(e))t="symbol";else if(lz(e)){var n=new RegExp("data:(image|text)");t=e.match(n)?"base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(e)?"url":"symbol"}return t}(e);return["base64","url","image"].includes(t)?"image":e&&"symbol"===t?"path":null}var Fle=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bz(t,e),t.prototype.render=function(e,n){var r=e.x,o=void 0===r?0:r,i=e.y,a=void 0===i?0:i,l=this.getSubShapeStyle(e),s=l.symbol,c=l.size,u=void 0===c?16:c,d=zz(l,["symbol","size"]),f=Hle(s);ele(!!f,wle(n),function(e){e.maybeAppendByClassName("marker",f).attr("className","marker ".concat(f,"-marker")).call(function(e){if("image"===f){var n=2*u;e.styles({img:s,width:n,height:n,x:o-u,y:a-u})}else{n=u/2;var r=UD(s)?s:t.getSymbol(s);e.styles(Dz({d:null==r?void 0:r(o,a,n)},d))}})})},t.MARKER_SYMBOL_MAP=new Map,t.registerSymbol=function(e,n){t.MARKER_SYMBOL_MAP.set(e,n)},t.getSymbol=function(e){return t.MARKER_SYMBOL_MAP.get(e)},t.getSymbols=function(){return Array.from(t.MARKER_SYMBOL_MAP.keys())},t}(Ale);function Wle(e,...t){return t.reduce((e,t)=>n=>e(t(n)),e)}function Gle(e,t){return t-e?n=>(n-e)/(t-e):e=>.5}Fle.registerSymbol("cross",function(e,t,n){return[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]]}),Fle.registerSymbol("hyphen",function(e,t,n){return[["M",e-n,t],["L",e+n,t]]}),Fle.registerSymbol("line",Ble),Fle.registerSymbol("plus",function(e,t,n){return[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]]}),Fle.registerSymbol("tick",function(e,t,n){return[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]]}),Fle.registerSymbol("circle",Ple),Fle.registerSymbol("point",jle),Fle.registerSymbol("bowtie",function(e,t,n){var r=n-1.5;return[["M",e-n,t-r],["L",e+n,t+r],["L",e+n,t-r],["L",e-n,t+r],["Z"]]}),Fle.registerSymbol("hexagon",function(e,t,n){var r=n/2*Math.sqrt(3);return[["M",e,t-n],["L",e+r,t-n/2],["L",e+r,t+n/2],["L",e,t+n],["L",e-r,t+n/2],["L",e-r,t-n/2],["Z"]]}),Fle.registerSymbol("square",function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]}),Fle.registerSymbol("diamond",function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]}),Fle.registerSymbol("triangle",function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]}),Fle.registerSymbol("triangle-down",function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}),Fle.registerSymbol("line",Ble),Fle.registerSymbol("dot",Dle),Fle.registerSymbol("dash",zle),Fle.registerSymbol("smooth",function(e,t,n){return[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]]}),Fle.registerSymbol("hv",function(e,t,n){return[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]]}),Fle.registerSymbol("vh",function(e,t,n){return[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]]}),Fle.registerSymbol("hvh",function(e,t,n){return[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]]}),Fle.registerSymbol("vhv",function(e,t){return[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]]}),Fle.registerSymbol("focus",function(e,t,n){var r=.2*n,o=.7*n;return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"],["M",e-o,t],["L",e-r,t],["M",e+r,t],["L",e+o,t],["M",e,t-o],["L",e,t-r],["M",e,t+r],["L",e,t+o]]});const Vle=Math.sqrt(50),qle=Math.sqrt(10),Xle=Math.sqrt(2);function Ule(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/l(10,o);return o>=0?(i>=Vle?10:i>=qle?5:i>=Xle?2:1)*l(10,o):-l(10,-o)/(i>=Vle?10:i>=qle?5:i>=Xle?2:1)}const Yle=(e,t,n=5)=>{const r=[e,t];let o,i=0,a=r.length-1,l=r[i],s=r[a];return s<l&&([l,s]=[s,l],[i,a]=[a,i]),o=Ule(l,s,n),o>0?(l=Math.floor(l/o)*o,s=Math.ceil(s/o)*o,o=Ule(l,s,n)):o<0&&(l=Math.ceil(l*o)/o,s=Math.floor(s*o)/o,o=Ule(l,s,n)),o>0?(r[i]=Math.floor(l/o)*o,r[a]=Math.ceil(s/o)*o):o<0&&(r[i]=Math.ceil(l*o)/o,r[a]=Math.floor(s*o)/o),r};function Kle(e){return!xz(e)&&!bz(e)&&!Number.isNaN(e)}function Zle(e,t,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Qle(e){const t=xee.get(e);if(!t)return null;const{model:n,value:r}=t;return"rgb"===n?r:"hsl"===n?function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100,o=e[3];if(0===n)return[255*r,255*r,255*r,o];const i=r<.5?r*(1+n):r+n-r*n,a=2*r-i;return[255*Zle(a,i,t+1/3),255*Zle(a,i,t),255*Zle(a,i,t-1/3),o]}(r):null}const Jle=(e,t)=>n=>e*(1-n)+t*n,ese=(e,t)=>"number"==typeof e&&"number"==typeof t?Jle(e,t):"string"==typeof e&&"string"==typeof t?((e,t)=>{const n=Qle(e),r=Qle(t);return null===n||null===r?n?()=>e:()=>t:e=>{const t=new Array(4);for(let s=0;s<4;s+=1){const o=n[s],i=r[s];t[s]=o*(1-e)+i*e}const[o,i,a,l]=t;return`rgba(${Math.round(o)}, ${Math.round(i)}, ${Math.round(a)}, ${l})`}})(e,t):()=>e,tse=(e,t)=>{const n=Jle(e,t);return e=>Math.round(n(e))};function nse({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):n}function rse(e){return"object"==typeof e?e.valueOf():e}let ose=class extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=rse,null!==e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(nse({map:this.map,initKey:this.initKey},e))}has(e){return super.has(nse({map:this.map,initKey:this.initKey},e))}set(e,t){return super.set(function({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}({map:this.map,initKey:this.initKey},e),t)}delete(e){return super.delete(function({map:e,initKey:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}({map:this.map,initKey:this.initKey},e))}},ise=class{constructor(e){this.options=kz({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=kz({},this.options,e),this.rescale(e)}rescale(e){}};const ase=Symbol("defaultUnknown");function lse(e,t,n){for(let r=0;r<t.length;r+=1)e.has(t[r])||e.set(n(t[r]),r)}function sse(e){const{value:t,from:n,to:r,mapper:o,notFoundReturn:i}=e;let a=o.get(t);if(void 0===a){if(i!==ase)return i;a=n.push(t)-1,o.set(t,a)}return r[a%r.length]}function cse(e){return e instanceof Date?e=>`${e}`:"object"==typeof e?e=>JSON.stringify(e):e=>e}let use=class e extends ise{getDefaultOptions(){return{domain:[],range:[],unknown:ase}}constructor(e){super(e)}map(e){return 0===this.domainIndexMap.size&&lse(this.domainIndexMap,this.getDomain(),this.domainKey),sse({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return 0===this.rangeIndexMap.size&&lse(this.rangeIndexMap,this.getRange(),this.rangeKey),sse({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[t]=this.options.domain,[n]=this.options.range;if(this.domainKey=cse(t),this.rangeKey=cse(n),!this.rangeIndexMap)return this.rangeIndexMap=new Map,void(this.domainIndexMap=new Map);e&&!e.range||this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new e(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:t}=this.options;return this.sortedDomain=t?[...e].sort(t):e,this.sortedDomain}};function dse(e){return Math.round(1e12*e)/1e12}function fse(e){const{domain:t,range:n,paddingOuter:r,paddingInner:o,flex:i,round:a,align:l}=e,s=t.length,c=function(e,t){const n=t-e.length;return n>0?[...e,...new Array(n).fill(1)]:n<0?e.slice(0,t):e}(i,s),[u,d]=n,f=d-u,h=f/(2/s*r+1-1/s*o),p=h*o/s,g=h-s*p,m=function(e){const t=Math.min(...e);return e.map(e=>e/t)}(c),v=g/m.reduce((e,t)=>e+t),y=new ose(t.map((e,t)=>{const n=m[t]*v;return[e,a?Math.floor(n):n]})),b=new ose(t.map((e,t)=>{const n=m[t]*v+p;return[e,a?Math.floor(n):n]})),x=Array.from(b.values()).reduce((e,t)=>e+t),w=u+(f-(x-x/s*o))*l;let C=a?Math.round(w):w;const S=new Array(s);for(let E=0;E<s;E+=1){S[E]=dse(C);const e=t[E];C+=b.get(e)}return{valueBandWidth:y,valueStep:b,adjustedRange:S}}let hse=class e extends use{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:ase,flex:[]}}constructor(e){super(e)}clone(){return new e(this.options)}getStep(e){return void 0===this.valueStep?1:"number"==typeof this.valueStep?this.valueStep:void 0===e?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return void 0===this.valueBandWidth?1:"number"==typeof this.valueBandWidth?this.valueBandWidth:void 0===e?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:t}=this.options;return e>0?e:t}getPaddingOuter(){const{padding:e,paddingOuter:t}=this.options;return e>0?e:t}rescale(){super.rescale();const{align:e,domain:t,range:n,round:r,flex:o}=this.options,{adjustedRange:i,valueBandWidth:a,valueStep:l}=function(e){var t;const{domain:n}=e,r=n.length;if(0===r)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(null===(t=e.flex)||void 0===t?void 0:t.length)return fse(e);const{range:o,paddingOuter:i,paddingInner:a,round:l,align:s}=e;let c,u,d=o[0];const f=o[1]-d,h=2*i,p=r-a;c=f/Math.max(1,h+p),l&&(c=Math.floor(c)),d+=(f-c*(r-a))*s,u=c*(1-a),l&&(d=Math.round(d),u=Math.round(u));const g=new Array(r).fill(0).map((e,t)=>d+t*c);return{valueStep:c,valueBandWidth:u,adjustedRange:g}}({align:e,range:n,round:r,flex:o,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:t});this.valueStep=l,this.valueBandWidth=a,this.adjustedRange=i}};const pse=(e,t,n)=>{let r,o,i=e,a=t;if(i===a&&n>0)return[i];let l=Ule(i,a,n);if(0===l||!Number.isFinite(l))return[];if(l>0){i=Math.ceil(i/l),a=Math.floor(a/l),o=new Array(r=Math.ceil(a-i+1));for(let e=0;e<r;e+=1)o[e]=(i+e)*l}else{l=-l,i=Math.ceil(i*l),a=Math.floor(a*l),o=new Array(r=Math.ceil(a-i+1));for(let e=0;e<r;e+=1)o[e]=(i+e)/l}return o},gse=(e,t,n)=>{const[r,o]=e,[i,a]=t;let l,s;return r<o?(l=Gle(r,o),s=n(i,a)):(l=Gle(o,r),s=n(a,i)),Wle(s,l)},mse=(e,t,n)=>{const r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=e[0]>e[r],l=a?[...e].reverse():e,s=a?[...t].reverse():t;for(let c=0;c<r;c+=1)o[c]=Gle(l[c],l[c+1]),i[c]=n(s[c],s[c+1]);return t=>{const n=function(e,t,n,r){let o=n,i=r||e.length;const a=e=>e;for(;o<i;){const n=Math.floor((o+i)/2);a(e[n])>t?i=n:o=n+1}return o}(e,t,1,r)-1,a=o[n];return Wle(i[n],a)(t)}},vse=(e,t,n,r)=>(Math.min(e.length,t.length)>2?mse:gse)(e,t,r?tse:n);let yse=class extends ise{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Jle,tickCount:5}}map(e){return Kle(e)?this.output(e):this.options.unknown}invert(e){return Kle(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,t,n,...r]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,t,n,...r)}getTicks(){const{tickMethod:e}=this.options,[t,n,r,...o]=this.getTickMethodOptions();return e(t,n,r,...o)}getTickMethodOptions(){const{domain:e,tickCount:t}=this.options;return[e[0],e[e.length-1],t]}chooseNice(){return Yle}rescale(){this.nice();const[e,t]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,t,this.chooseClamp(t))}chooseClamp(e){const{clamp:t,range:n}=this.options,r=this.options.domain.map(e),o=Math.min(r.length,n.length);return t?function(e,t){const n=t<e?t:e,r=e>t?e:t;return e=>Math.min(Math.max(n,e),r)}(r[0],r[o-1]):Az}composeOutput(e,t){const{domain:n,range:r,round:o,interpolate:i}=this.options,a=vse(n.map(e),r,i,o);this.output=Wle(a,t,e)}composeInput(e,t,n){const{domain:r,range:o}=this.options,i=vse(o,r.map(e),Jle);this.input=Wle(t,n,i)}},bse=class e extends yse{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:ese,tickMethod:pse,tickCount:5}}chooseTransforms(){return[Az,Az]}clone(){return new e(this.options)}};var xse=function(e){function t(t){var n=this,r=t.style,o=zz(t,["style"]);return(n=e.call(this,kz({},{type:"column"},Dz({style:r},o)))||this).columnsGroup=new FX({name:"columns"}),n.appendChild(n.columnsGroup),n.render(),n}return Bz(t,e),t.prototype.render=function(){var e=this.attributes,t=e.columns,n=e.x,r=e.y;this.columnsGroup.style.transform="translate(".concat(n,", ").concat(r,")"),wle(this.columnsGroup).selectAll(".column").data(t.flat()).join(function(e){return e.append("rect").attr("className","column").each(function(e){this.attr(e)})},function(e){return e.each(function(e){this.attr(e)})},function(e){return e.remove()})},t.prototype.update=function(e){this.attr(Vae({},this.attributes,e)),this.render()},t.prototype.clear=function(){this.removeChildren()},t}(jX),wse=function(e){function t(t){var n=this,r=t.style,o=zz(t,["style"]);return(n=e.call(this,kz({},{type:"lines"},Dz({style:r},o)))||this).linesGroup=n.appendChild(new FX),n.areasGroup=n.appendChild(new FX),n.render(),n}return Bz(t,e),t.prototype.render=function(){var e=this.attributes,t=e.lines,n=e.areas,r=e.x,o=e.y;this.style.transform="translate(".concat(r,", ").concat(o,")"),t&&this.renderLines(t),n&&this.renderAreas(n)},t.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},t.prototype.update=function(e){this.attr(Vae({},this.attributes,e)),this.render()},t.prototype.renderLines=function(e){wle(this.linesGroup).selectAll(".line").data(e).join(function(e){return e.append("path").attr("className","line").each(function(e){this.attr(e)})},function(e){return e.each(function(e){this.attr(e)})},function(e){return e.remove()})},t.prototype.renderAreas=function(e){wle(this.linesGroup).selectAll(".area").data(e).join(function(e){return e.append("path").attr("className","area").each(function(e){this.attr(e)})},function(e){return e.each(function(e){this.style(e)})},function(e){return e.remove()})},t}(jX);function Cse(e,t){void 0===t&&(t=!1);var n=t?e.length-1:0,r=e.map(function(e,t){return Gz([t===n?"M":"L"],Wz(e),!1)});return t?r.reverse():r}function Sse(e,t){if(void 0===t&&(t=!1),e.length<=2)return Cse(e);for(var n=[],r=e.length,o=0;o<r;o+=1){var i=t?e[r-o-1]:e[o];$z(i,n.slice(-2))||n.push.apply(n,Gz([],Wz(i),!1))}var a=gle(n);return t?a.unshift(Gz(["M"],Wz(e[r-1]),!1)):a.unshift(Gz(["M"],Wz(e[0]),!1)),a}function Ese(e,t,n){var r=Cz(e);return r.push(["L",t,n],["L",0,n],["Z"]),r}function Ose(e){return 0===e.length?[0,0]:[az(hz(e,function(e){return az(e)||0})),iz(fz(e,function(e){return iz(e)||0}))]}function kse(e){for(var t=Cz(e),n=t[0].length,r=Wz([Array(n).fill(0),Array(n).fill(0)],2),o=r[0],i=r[1],a=0;a<t.length;a+=1)for(var l=t[a],s=0;s<n;s+=1)l[s]>=0?(l[s]+=o[s],o[s]=l[s]):(l[s]+=i[s],i[s]=l[s]);return t}var Mse=function(e){function t(t){return e.call(this,t,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Bz(t,e),Object.defineProperty(t.prototype,"rawData",{get:function(){var e=this.attributes.data;if(!e||0===(null==e?void 0:e.length))return[[]];var t=Cz(e);return uz(t[0])?[t]:t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.attributes.isStack?kse(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseline",{get:function(){var e=this.scales.y,t=Wz(e.getOptions().domain||[0,0],2),n=t[0],r=t[1];return r<0?e.map(r):e.map(n<0?0:n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerShape",{get:function(){var e=this.attributes;return{width:e.width,height:e.height}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linesStyle",{get:function(){var e=this,t=this.attributes,n=t.type,r=t.isStack,o=t.smooth;if("line"!==n)throw new Error("linesStyle can only be used in line type");var i=$le(this.attributes,"area"),a=$le(this.attributes,"line"),l=this.containerShape.width,s=this.data;if(0===s[0].length)return{lines:[],areas:[]};var c=this.scales,u=function(e,t){var n,r=t.x,o=t.y,i=Wz(o.getOptions().range||[0,0],2),a=i[0],l=i[1];return l>a&&(n=Wz([a,l],2),l=n[0],a=n[1]),e.map(function(e){return e.map(function(e,t){return[r.map(t),cz(o.map(e),l,a)]})})}(s,{x:c.x,y:c.y}),d=[];if(i){var f=this.baseline;d=r?o?function(e,t,n){for(var r=[],o=e.length-1;o>=0;o-=1){var i=e[o],a=Sse(i),l=void 0;if(0===o)l=Ese(a,t,n);else{var s=Sse(e[o-1],!0),c=i[0];s[0][0]="L",l=Gz(Gz(Gz([],Wz(a),!1),Wz(s),!1),[Gz(["M"],Wz(c),!1),["Z"]],!1)}r.push(l)}return r}(u,l,f):function(e,t,n){for(var r=[],o=e.length-1;o>=0;o-=1){var i=Cse(e[o]),a=void 0;if(0===o)a=Ese(i,t,n);else{var l=Cse(e[o-1],!0);l[0][0]="L",a=Gz(Gz(Gz([],Wz(i),!1),Wz(l),!1),[["Z"]],!1)}r.push(a)}return r}(u,l,f):function(e,t,n,r){return e.map(function(e){return Ese(t?Sse(e):Cse(e),n,r)})}(u,o,l,f)}return{lines:u.map(function(t,n){return Dz({stroke:e.getColor(n),d:o?Sse(t):Cse(t)},a)}),areas:d.map(function(t,n){return Dz({d:t,fill:e.getColor(n)},i)})}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsStyle",{get:function(){var e=this,t=$le(this.attributes,"column"),n=this.attributes,r=n.isStack,o=n.type,i=n.scale;if("column"!==o)throw new Error("columnsStyle can only be used in column type");var a=this.containerShape.height,l=this.rawData;if(!l)return{columns:[]};r&&(l=kse(l));var s=this.createScales(l),c=s.x,u=s.y,d=Wz(Ose(l),2),f=d[0],h=d[1],p=new bse({domain:[0,h-(f>0?0:f)],range:[0,a*i]}),g=c.getBandWidth(),m=this.rawData;return{columns:l.map(function(n,o){return n.map(function(n,i){var a=g/l.length;return Dz(Dz({fill:e.getColor(o)},t),r?{x:c.map(i),y:u.map(n),width:g,height:p.map(m[o][i])}:{x:c.map(i)+a*o,y:n>=0?u.map(n):u.map(0),width:a,height:p.map(Math.abs(n))})})})}},enumerable:!1,configurable:!0}),t.prototype.render=function(e,t){var n,r,o;(n=t,r=".container",o="rect",n.querySelector(r)?wle(n).select(r):wle(n).append(o)).attr("className","container").node();var i=e.type,a=e.x,l=e.y,s="spark".concat(i),c=Dz({x:a,y:l},"line"===i?this.linesStyle:this.columnsStyle);wle(t).selectAll(".spark").data([i]).join(function(e){return e.append(function(e){return"line"===e?new wse({className:s,style:c}):new xse({className:s,style:c})}).attr("className","spark ".concat(s))},function(e){return e.update(c)},function(e){return e.remove()})},t.prototype.getColor=function(e){var t=this.attributes.color;return KD(t)?t[e%t.length]:UD(t)?t.call(null,e):t},t.prototype.createScales=function(e){var t,n,r=this.attributes,o=r.type,i=r.scale,a=r.range,l=void 0===a?[]:a,s=r.spacing,c=this.containerShape,u=c.width,d=c.height,f=Wz(Ose(e),2),h=f[0],p=f[1],g=new bse({domain:[null!==(t=l[0])&&void 0!==t?t:h,null!==(n=l[1])&&void 0!==n?n:p],range:[d,d*(1-i)]});return"line"===o?{type:o,x:new bse({domain:[0,e[0].length-1],range:[0,u]}),y:g}:{type:o,x:new hse({domain:e[0].map(function(e,t){return t}),range:[0,u],paddingInner:s,paddingOuter:s/2,align:.5}),y:g}},t.tag="sparkline",t}(Ale);function $se(e){if(!e)return{enter:!1,update:!1,exit:!1};var t=["enter","update","exit"],n=Object.fromEntries(Object.entries(e).filter(function(e){var n=Wz(e,1)[0];return!t.includes(n)}));return Object.fromEntries(t.map(function(t){return function(e){return"boolean"!=typeof e&&"enter"in e&&"update"in e&&"exit"in e}(e)?!1===e[t]?[t,!1]:[t,Dz(Dz({},e[t]),n)]:[t,n]}))}function Ise(e,t){e?e.finished.then(t):t()}function Nse(e,t){"update"in e?e.update(t):e.attr(t)}function Tse(e,t,n){return 0===t.length?null:n?e.animate(t,n):(Nse(e,{style:t.slice(-1)[0]}),null)}function Lse(e,t,n){var r={},o={};return Object.entries(t).forEach(function(t){var n=Wz(t,2),i=n[0],a=n[1];if(!YD(a)){var l=e.style[i]||e.parsedStyle[i]||0;l!==a&&(r[i]=l,o[i]=a)}}),n?Tse(e,[r,o],Dz({fill:"both"},n)):(Nse(e,o),null)}function Rse(e,t){return e.style.opacity||(e.style.opacity=1),Lse(e,{opacity:0},t)}var _se={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},Ase={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},Pse={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},jse=Wae({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),Bse=Wae({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),Dse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bz(t,e),t.prototype.render=function(e,t){var n=e.x,r=e.y,o=e.size,i=void 0===o?10:o,a=e.radius,l=void 0===a?i/4:a,s=e.orientation,c=zz(e,["x","y","size","radius","orientation"]),u=i,d=2.4*u,f=wle(t).maybeAppendByClassName(Bse.iconRect,"rect").styles(Dz(Dz({},c),{width:u,height:d,radius:l,x:n-u/2,y:r-d/2,transformOrigin:"center"})),h=n+1/3*u-u/2,p=n+2/3*u-u/2,g=r+1/4*d-d/2,m=r+3/4*d-d/2;f.maybeAppendByClassName("".concat(Bse.iconLine,"-1"),"line").styles(Dz({x1:h,x2:h,y1:g,y2:m},c)),f.maybeAppendByClassName("".concat(Bse.iconLine,"-2"),"line").styles(Dz({x1:p,x2:p,y1:g,y2:m},c)),"vertical"===s&&(f.node().style.transform="rotate(90)")},t}(Ale),zse=function(e){function t(t){return e.call(this,t,Pse)||this}return Bz(t,e),t.prototype.renderLabel=function(e){var t=this,n=this.attributes,r=n.x,o=n.y,i=n.showLabel,a=$le(this.attributes,"label"),l=a.x,s=void 0===l?0:l,c=a.y,u=void 0===c?0:c,d=a.transform,f=a.transformOrigin,h=Wz(Nle(zz(a,["x","y","transform","transformOrigin"]),[]),2),p=h[0],g=h[1],m=wle(e).maybeAppendByClassName(Bse.labelGroup,"g").styles(g),v=Dz(Dz({},Ase),p),y=v.text,b=zz(v,["text"]);ele(!!i,m,function(e){t.label=e.maybeAppendByClassName(Bse.label,"text").styles(Dz(Dz({},b),{x:r+s,y:o+u,transform:d,transformOrigin:f,text:"".concat(y)})),t.label.on("mousedown",function(e){e.stopPropagation()}),t.label.on("touchstart",function(e){e.stopPropagation()})})},t.prototype.renderIcon=function(e){var t=this.attributes,n=t.x,r=t.y,o=t.orientation,i=t.type,a=Dz(Dz({x:n,y:r,orientation:o},_se),$le(this.attributes,"icon")),l=this.attributes.iconShape,s=void 0===l?function(){return new Dse({style:a})}:l;wle(e).maybeAppendByClassName(Bse.iconGroup,"g").selectAll(Bse.icon.class).data([s]).join(function(e){return e.append("string"==typeof s?s:function(){return s(i)}).attr("className",Bse.icon.name)},function(e){return e.update(a)},function(e){return e.remove()})},t.prototype.render=function(e,t){this.renderIcon(t),this.renderLabel(t)},t}(Ale),Hse=function(e){function t(t){var n=e.call(this,t,Dz(Dz(Dz({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(e){return e.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},Ile(Pse,"handle")),Ile(_se,"handleIcon")),Ile(Ase,"handleLabel")))||this;return n.range=[0,1],n.onDragStart=function(e){return function(t){t.stopPropagation(),n.target=e,n.prevPos=n.getOrientVal(Qae(t));var r=n.availableSpace,o=r.x,i=r.y,a=n.getBBox(),l=a.x,s=a.y;n.selectionStartPos=n.getRatio(n.prevPos-n.getOrientVal([o,i])-n.getOrientVal([+l,+s])),n.selectionWidth=0,document.addEventListener("pointermove",n.onDragging),document.addEventListener("pointerup",n.onDragEnd)}},n.onDragging=function(e){var t=n.attributes,r=t.slidable,o=t.brushable,i=t.type;e.stopPropagation();var a=n.getOrientVal(Qae(e)),l=a-n.prevPos;if(l){var s=n.getRatio(l);switch(n.target){case"start":r&&n.setValuesOffset(s);break;case"end":r&&n.setValuesOffset(0,s);break;case"selection":r&&n.setValuesOffset(s,s);break;case"track":if(!o)return;n.selectionWidth+=s,"range"===i?n.innerSetValues([n.selectionStartPos,n.selectionStartPos+n.selectionWidth].sort(),!0):n.innerSetValues([0,n.selectionStartPos+n.selectionWidth],!0)}n.prevPos=a}},n.onDragEnd=function(){document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointerup",n.onDragEnd),n.target="",n.updateHandlesPosition(!1)},n.onValueChange=function(e){var t=n.attributes,r=t.onChange,o=t.type,i="range"===o?e:e[1],a="range"===o?n.getValues():n.getValues()[1],l=new Bq("valuechange",{detail:{oldValue:i,value:a}});n.dispatchEvent(l),null==r||r(a)},n.selectionStartPos=0,n.selectionWidth=0,n.prevPos=0,n.target="",n}return Bz(t,e),Object.defineProperty(t.prototype,"values",{get:function(){return this.attributes.values},set:function(e){this.attributes.values=this.clampValues(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sparklineStyle",{get:function(){if("horizontal"!==this.attributes.orientation)return null;var e=$le(this.attributes,"sparkline");return Dz(Dz({zIndex:0},this.availableSpace),e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var e=this.attributes,t=e.trackLength,n=e.trackSize,r=Wz(this.getOrientVal([[t,n],[n,t]]),2);return{width:r[0],height:r[1]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var e=this.attributes;e.x,e.y;var t=Wz(Cle(e.padding),4),n=t[0],r=t[1],o=t[2],i=t[3],a=this.shape;return{x:i,y:n,width:a.width-(i+r),height:a.height-(n+o)}},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.values},t.prototype.setValues=function(e,t){void 0===e&&(e=[0,0]),void 0===t&&(t=!1),this.attributes.values=e;var n=!1!==t&&this.attributes.animate;this.updateSelectionArea(n),this.updateHandlesPosition(n)},t.prototype.updateSelectionArea=function(e){var t=this.calcSelectionArea();this.foregroundGroup.selectAll(jse.selection.class).each(function(n,r){Lse(this,t[r],e)})},t.prototype.updateHandlesPosition=function(e){this.attributes.showHandle&&(this.startHandle&&Lse(this.startHandle,this.getHandleStyle("start"),e),this.endHandle&&Lse(this.endHandle,this.getHandleStyle("end"),e))},t.prototype.innerSetValues=function(e,t){void 0===e&&(e=[0,0]),void 0===t&&(t=!1);var n=this.values,r=this.clampValues(e);this.attributes.values=r,this.setValues(r),t&&this.onValueChange(n)},t.prototype.renderTrack=function(e){var t=this.attributes,n=t.x,r=t.y,o=$le(this.attributes,"track");this.trackShape=wle(e).maybeAppendByClassName(jse.track,"rect").styles(Dz(Dz({x:n,y:r},this.shape),o))},t.prototype.renderBrushArea=function(e){var t=this.attributes,n=t.x,r=t.y,o=t.brushable;this.brushArea=wle(e).maybeAppendByClassName(jse.brushArea,"rect").styles(Dz({x:n,y:r,fill:"transparent",cursor:o?"crosshair":"default"},this.shape))},t.prototype.renderSparkline=function(e){var t=this,n=this.attributes,r=n.x,o=n.y;ele("horizontal"===n.orientation,wle(e).maybeAppendByClassName(jse.sparklineGroup,"g"),function(e){var n=Dz(Dz({},t.sparklineStyle),{x:r,y:o});e.maybeAppendByClassName(jse.sparkline,function(){return new Mse({style:n})}).update(n)})},t.prototype.renderHandles=function(){var e,t=this,n=this.attributes,r=n.showHandle,o=n.type,i=r?"range"===o?["start","end"]:["end"]:[],a=this;null===(e=this.foregroundGroup)||void 0===e||e.selectAll(jse.handle.class).data(i.map(function(e){return{type:e}}),function(e){return e.type}).join(function(e){return e.append(function(e){var n=e.type;return new zse({style:t.getHandleStyle(n)})}).each(function(e){var t=e.type;this.attr("class","".concat(jse.handle.name," ").concat(t,"-handle"));var n="".concat(t,"Handle");a[n]=this,this.addEventListener("pointerdown",a.onDragStart(t))})},function(e){return e.each(function(e){var t=e.type;this.update(a.getHandleStyle(t))})},function(e){return e.each(function(e){var t=e.type,n="".concat(t,"Handle");a[n]=void 0}).remove()})},t.prototype.renderSelection=function(e){var t=this.attributes,n=t.x,r=t.y,o=t.type,i=t.selectionType;this.foregroundGroup=wle(e).maybeAppendByClassName(jse.foreground,"g");var a=$le(this.attributes,"selection"),l=function(e){return e.style("visibility",function(e){return e.show?"visible":"hidden"}).style("cursor",function(e){return"select"===i?"grab":"invert"===i?"crosshair":"default"}).styles(Dz(Dz({},a),{transform:"translate(".concat(n,", ").concat(r,")")}))},s=this;this.foregroundGroup.selectAll(jse.selection.class).data("value"===o?[]:this.calcSelectionArea().map(function(e,t){return{style:Dz({},e),index:t,show:"select"===i?1===t:1!==t}}),function(e){return e.index}).join(function(e){return e.append("rect").attr("className",jse.selection.name).call(l).each(function(e,t){var n=this;1===t?(s.selectionShape=wle(this),this.on("pointerdown",function(e){n.attr("cursor","grabbing"),s.onDragStart("selection")(e)}),s.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),s.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),s.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){n.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){n.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){n.attr("cursor","pointer")})):this.on("pointerdown",s.onDragStart("track"))})},function(e){return e.call(l)},function(e){return e.remove()}),this.updateSelectionArea(!1),this.renderHandles()},t.prototype.render=function(e,t){this.renderTrack(t),this.renderSparkline(t),this.renderBrushArea(t),this.renderSelection(t)},t.prototype.clampValues=function(e,t){var n;void 0===t&&(t=4);var r=Wz(this.range,2),o=r[0],i=r[1],a=Wz(this.getValues().map(function(e){return hle(e,t)}),2),l=a[0],s=a[1],c=Wz(((Array.isArray(e)?e:[l,null!=e?e:s])||[l,s]).map(function(e){return hle(e,t)}),2),u=c[0],d=c[1];if("value"===this.attributes.type)return[0,cz(d,o,i)];u>d&&(u=(n=Wz([d,u],2))[0],d=n[1]);var f=d-u;return f>i-o?[o,i]:u<o?l===o&&s===d?[o,d]:[o,f+o]:d>i?s===i&&l===u?[u,i]:[i-f,i]:[u,d]},t.prototype.calcSelectionArea=function(e){var t=Wz(this.clampValues(e),2),n=t[0],r=t[1],o=this.availableSpace,i=o.x,a=o.y,l=o.width,s=o.height;return this.getOrientVal([[{y:a,height:s,x:i,width:n*l},{y:a,height:s,x:n*l+i,width:(r-n)*l},{y:a,height:s,x:r*l,width:(1-r)*l}],[{x:i,width:l,y:a,height:n*s},{x:i,width:l,y:n*s+a,height:(r-n)*s},{x:i,width:l,y:r*s,height:(1-r)*s}]])},t.prototype.calcHandlePosition=function(e){var t=this.attributes.handleIconOffset,n=this.availableSpace,r=n.x,o=n.y,i=n.width,a=n.height,l=Wz(this.clampValues(),2),s=l[0],c=l[1],u="start"===e?-t:t,d=("start"===e?s:c)*this.getOrientVal([i,a])+u;return{x:r+this.getOrientVal([d,i/2]),y:o+this.getOrientVal([a/2,d])}},t.prototype.inferTextStyle=function(e){return"horizontal"===this.attributes.orientation?{}:"start"===e?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:"end"===e?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},t.prototype.calcHandleText=function(e){var t,n=this.attributes,r=n.type,o=n.orientation,i=n.formatter,a=n.autoFitLabel,l=$le(this.attributes,"handle"),s=$le(l,"label"),c=l.spacing,u=this.getHandleSize(),d=this.clampValues(),f=i("start"===e?d[0]:d[1]),h=new _ae({style:Dz(Dz(Dz({},s),this.inferTextStyle(e)),{text:f})}),p=h.getBBox(),g=p.width,m=p.height;if(h.destroy(),!a){if("value"===r)return{text:f,x:0,y:-m-c};var v=c+u+("horizontal"===o?g/2:0);return(t={text:f})["horizontal"===o?"x":"y"]="start"===e?-v:v,t}var y=0,b=0,x=this.availableSpace,w=x.width,C=x.height,S=this.calcSelectionArea()[1],E=S.x,O=S.y,k=S.width,M=S.height,$=c+u;if("horizontal"===o){var I=$+g/2;if("start"===e)y=E-$-g>0?-I:I;else y=w-E-k-$>g?I:-I}else{var N=m+$;b="start"===e?O-u>m?-N:$:C-(O+M)-u>m?N:-$}return{x:y,y:b,text:f}},t.prototype.getHandleLabelStyle=function(e){var t=$le(this.attributes,"handleLabel");return Dz(Dz(Dz({},t),this.calcHandleText(e)),this.inferTextStyle(e))},t.prototype.getHandleIconStyle=function(){var e=this.attributes.handleIconShape,t=$le(this.attributes,"handleIcon"),n=this.getOrientVal(["ew-resize","ns-resize"]),r=this.getHandleSize();return Dz({cursor:n,shape:e,size:r},t)},t.prototype.getHandleStyle=function(e){var t=this.attributes,n=t.x,r=t.y,o=t.showLabel,i=t.showLabelOnInteraction,a=t.orientation,l=this.calcHandlePosition(e),s=l.x,c=l.y,u=this.calcHandleText(e),d=o;return!o&&i&&(d=!!this.target),Dz(Dz(Dz({},Ile(this.getHandleIconStyle(),"icon")),Ile(Dz(Dz({},this.getHandleLabelStyle(e)),u),"label")),{transform:"translate(".concat(s+n,", ").concat(c+r,")"),orientation:a,showLabel:d,type:e,zIndex:3})},t.prototype.getHandleSize=function(){var e=this.attributes,t=e.handleIconSize,n=e.width,r=e.height;return t||Math.floor((this.getOrientVal([+r,+n])+4)/2.4)},t.prototype.getOrientVal=function(e){var t=Wz(e,2),n=t[0],r=t[1];return"horizontal"===this.attributes.orientation?n:r},t.prototype.setValuesOffset=function(e,t){void 0===t&&(t=0);var n=this.attributes.type,r=Wz(this.getValues(),2),o=[r[0]+("range"===n?e:0),r[1]+t].sort();this.innerSetValues(o,!0)},t.prototype.getRatio=function(e){var t=this.availableSpace,n=t.width,r=t.height;return e/this.getOrientVal([n,r])},t.prototype.dispatchCustomEvent=function(e,t,n){var r=this;e.on(t,function(e){e.stopPropagation(),r.dispatchEvent(new Bq(n,{detail:e}))})},t.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var e=this.brushArea;this.dispatchCustomEvent(e,"click","trackClick"),this.dispatchCustomEvent(e,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(e,"pointerleave","trackMouseleave"),e.on("pointerdown",this.onDragStart("track"))},t.prototype.onScroll=function(e){if(this.attributes.scrollable){var t=e.deltaX,n=e.deltaY||t,r=this.getRatio(n);this.setValuesOffset(r,r)}},t.tag="slider",t}(Ale),Fse=function(e){function t(t){var n=e.call(this,t,{x:0,y:0,isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return n.range=[0,1],n.onValueChange=function(e){var t=n.attributes.value;if(e!==t){var r={detail:{oldValue:e,value:t}};n.dispatchEvent(new Bq("scroll",r)),n.dispatchEvent(new Bq("valuechange",r))}},n.onTrackClick=function(e){if(n.attributes.slidable){var t=Wz(n.getLocalPosition(),2),r=t[0],o=t[1],i=Wz(n.padding,4),a=i[0],l=i[3],s=n.getOrientVal([r+l,o+a]),c=(n.getOrientVal(Qae(e))-s)/n.trackLength;n.setValue(c,!0)}},n.onThumbMouseenter=function(e){n.dispatchEvent(new Bq("thumbMouseenter",{detail:e.detail}))},n.onTrackMouseenter=function(e){n.dispatchEvent(new Bq("trackMouseenter",{detail:e.detail}))},n.onThumbMouseleave=function(e){n.dispatchEvent(new Bq("thumbMouseleave",{detail:e.detail}))},n.onTrackMouseleave=function(e){n.dispatchEvent(new Bq("trackMouseleave",{detail:e.detail}))},n}return Bz(t,e),Object.defineProperty(t.prototype,"padding",{get:function(){return Cle(this.attributes.padding)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var e=this.attributes.value,t=Wz(this.range,2),n=t[0],r=t[1];return cz(e,n,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackLength",{get:function(){var e=this.attributes,t=e.viewportLength,n=e.trackLength;return void 0===n?t:n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var e=this.attributes.trackSize,t=this.trackLength,n=Wz(this.padding,4),r=n[0],o=n[1],i=n[2],a=n[3],l=Wz(this.getOrientVal([[t,e],[e,t]]),2);return{x:a,y:r,width:+l[0]-(a+o),height:+l[1]-(r+i)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackRadius",{get:function(){var e=this.attributes,t=e.isRound,n=e.trackSize;return t?n/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thumbRadius",{get:function(){var e=this.attributes,t=e.isRound,n=e.thumbRadius;if(!t)return 0;var r=this.availableSpace,o=r.width,i=r.height;return n||this.getOrientVal([i,o])/2},enumerable:!1,configurable:!0}),t.prototype.getValues=function(e){void 0===e&&(e=this.value);var t=this.attributes,n=t.viewportLength/t.contentLength,r=Wz(this.range,2),o=r[0],i=e*(r[1]-o-n);return[i,i+n]},t.prototype.getValue=function(){return this.value},t.prototype.renderSlider=function(e){var t=this.attributes,n=t.x,r=t.y,o=t.orientation,i=t.trackSize,a=t.padding,l=t.slidable,s=$le(this.attributes,"track"),c=$le(this.attributes,"thumb"),u=Dz(Dz({x:n,y:r,brushable:!1,orientation:o,padding:a,selectionRadius:this.thumbRadius,showHandle:!1,slidable:l,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:i,values:this.getValues()},Ile(s,"track")),Ile(c,"selection"));this.slider=wle(e).maybeAppendByClassName("scrollbar",function(){return new Hse({style:u})}).update(u).node()},t.prototype.render=function(e,t){this.renderSlider(t)},t.prototype.setValue=function(e,t){void 0===t&&(t=!1);var n=this.attributes.value,r=Wz(this.range,2),o=r[0],i=r[1];this.slider.setValues(this.getValues(cz(e,o,i)),t),this.onValueChange(n)},t.prototype.bindEvents=function(){var e=this;this.slider.addEventListener("trackClick",function(t){t.stopPropagation(),e.onTrackClick(t.detail)}),this.onHover()},t.prototype.getOrientVal=function(e){return"horizontal"===this.attributes.orientation?e[0]:e[1]},t.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},t.tag="scrollbar",t}(Ale),Wse={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new YX({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};kz({},Wse,{style:{type:"arc"}}),kz({},Wse,{style:{}});var Gse=Wae({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),Vse=Wae({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function qse(e){return e.reduce(function(e,t,n){return e.push(Gz([0===n?"M":"L"],Wz(t),!1)),e},[])}function Xse(e,t,n){return"surround"===t.type?function(e,t,n){var r=t.connect,o=void 0===r?"line":r,i=t.center;if("line"===o)return qse(e);if(!i)return[];var a=dle(e[0],i),l=n?0:1;return e.reduce(function(e,t,n){return 0===n?e.push(Gz(["M"],Wz(t),!1)):e.push(Gz(["A",a,a,0,0,l],Wz(t),!1)),e},[])}(e,t,n):qse(e)}function Use(e,t,n){var r=n.type,o=n.connect,i=n.center,a=n.closed?[["Z"]]:[],l=Wz([Xse(e,n),Xse(t.slice().reverse(),n,!0)],2),s=l[0],c=l[1],u=Wz([e[0],t.slice(-1)[0]],2),d=u[0],f=u[1],h=function(e,t){return[s,e,c,t,a].flat()};if("line"===o||"surround"===r)return h([Gz(["L"],Wz(f),!1)],[Gz(["L"],Wz(d),!1)]);if(!i)throw new Error("Arc grid need to specified center");var p=Wz([dle(f,i),dle(d,i)],2),g=p[0],m=p[1];return h([Gz(["A",g,g,0,0,1],Wz(f),!1),Gz(["L"],Wz(f),!1)],[Gz(["A",m,m,0,0,0],Wz(d),!1),Gz(["L"],Wz(d),!1)])}var Yse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bz(t,e),t.prototype.render=function(e,t){e.type,e.center,e.areaFill,e.closed;var n=zz(e,["type","center","areaFill","closed"]),r=function(e){var t=e.data,n=void 0===t?[]:t;return e.closed?n.map(function(e){var t=e.points,n=Wz(t,1)[0];return Dz(Dz({},e),{points:Gz(Gz([],Wz(t),!1),[n],!1)})}):n}(e),o=wle(t).maybeAppendByClassName(Vse.lineGroup,"g"),i=wle(t).maybeAppendByClassName(Vse.regionGroup,"g"),a=function(e,t,n,r){var o=n.animate,i=n.isBillboard,a=t.map(function(e,t){return{id:e.id||"grid-line-".concat(t),d:Xse(e.points,n)}});return e.selectAll(Vse.line.class).data(a,function(e){return e.id}).join(function(e){return e.append("path").each(function(e,t){var n=Bae(yle(Dz({d:e.d},r)),[e,t,a]);this.attr(Dz({class:Vse.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:i},n))})},function(e){return e.transition(function(e,t){return Lse(this,Bae(yle(Dz({d:e.d},r)),[e,t,a]),o.update)})},function(e){return e.transition(function(){var e=this,t=Rse(this,o.exit);return Ise(t,function(){return e.remove()}),t})}).transitions()}(o,r,e,n),l=function(e,t,n){var r=n.animate,o=n.connect,i=n.areaFill;if(t.length<2||!i||!o)return[];for(var a=Array.isArray(i)?i:[i,"transparent"],l=function(e){return a[e%a.length]},s=[],c=0;c<t.length-1;c++){var u=Wz([t[c].points,t[c+1].points],2),d=Use(u[0],u[1],n);s.push({d:d,fill:l(c)})}return e.selectAll(Vse.region.class).data(s,function(e,t){return t}).join(function(e){return e.append("path").each(function(e,t){var n=Bae(e,[e,t,s]);this.attr(n)}).attr("className",Vse.region.name)},function(e){return e.transition(function(e,t){return Lse(this,Bae(e,[e,t,s]),r.update)})},function(e){return e.transition(function(){var e=this,t=Rse(this,r.exit);return Ise(t,function(){return e.remove()}),t})}).transitions()}(i,r,e);return Gz(Gz([],Wz(a),!1),Wz(l),!1)},t}(Ale);function Kse(e,t){return Object.fromEntries(Object.entries(e).map(function(e){var n=Wz(e,2);return[n[0],Bae(n[1],t)]}))}function Zse(e,t){return t&&UD(t)?e.filter(t):e}function Qse(e,t){var n=t.startAngle;return(t.endAngle-n)*e+n}function Jse(e,t){if("linear"===t.type){var n=Wz(t.startPos,2),r=n[0],o=n[1],i=Wz(t.endPos,2),a=Wz([i[0]-r,i[1]-o],2);return fle([a[0],a[1]])}var l=Aae(Qse(e,t));return[-Math.sin(l),Math.cos(l)]}function ece(e,t,n){return function(e,t){return t?[e[1],-e[0]]:[-e[1],e[0]]}(Jse(e,n),"positive"!==t)}function tce(e,t){return ece(e,t.labelDirection,t)}function nce(e,t){return"linear"===t.type?function(e,t){var n=Wz(t.startPos,2),r=n[0],o=n[1],i=Wz(t.endPos,2),a=Wz([i[0]-r,i[1]-o],2);return[r+a[0]*e,o+a[1]*e]}(e,t):function(e,t){var n=t.radius,r=Wz(t.center,2),o=r[0],i=r[1],a=Aae(Qse(e,t));return[o+n*Math.cos(a),i+n*Math.sin(a)]}(e,t)}function rce(e){return 0===Jse(0,e)[1]}function oce(e){return 0===Jse(0,e)[0]}function ice(e,t){return t-e===360}function ace(e,t,n,r,o){var i=t-e,a=Wz([o,o],2),l=a[0],s=a[1],c=Wz([Aae(e),Aae(t)],2),u=c[0],d=c[1],f=function(e){return[n+o*Math.cos(e),r+o*Math.sin(e)]},h=Wz(f(u),2),p=h[0],g=h[1],m=Wz(f(d),2),v=m[0],y=m[1];if(ice(e,t)){var b=Wz(f((d+u)/2),2);return[["M",p,g],["A",l,s,0,1,0,b[0],b[1]],["A",l,s,0,1,0,v,y]]}var x=i>180?1:0,w=e>t?0:1;return"M".concat(p,",").concat(g,",A").concat(l,",").concat(s,",0,").concat(x,",").concat(w,",").concat(v,",").concat(y)}function lce(e,t,n,r){var o=t.startAngle,i=t.endAngle,a=t.center,l=t.radius;return e.selectAll(Gse.line.class).data([{d:ace.apply(void 0,Gz(Gz([o,i],Wz(a),!1),[l],!1))}],function(e,t){return t}).join(function(e){return e.append("path").attr("className",Gse.line.name).styles(t).styles({d:function(e){return e.d}})},function(e){return e.transition(function(){var e=this,t=function(e,t,n,r){if(!r)return e.attr("__keyframe_data__",n),null;var o=r.duration,i=void 0===o?0:o,a=nle(t,n),l=Math.ceil(+i/16),s=new Array(l).fill(0).map(function(e,t,n){return{__keyframe_data__:a(t/(n.length-1))}});return e.animate(s,Dz({fill:"both"},r))}(this,function(e){var t=e.attributes,n=t.startAngle,r=t.endAngle,o=t.center,i=t.radius;return Gz(Gz([n,r],Wz(o),!1),[i],!1)}(this),Gz(Gz([o,i],Wz(a),!1),[l],!1),r.update);if(t){var n=function(){var t=Iz(e.attributes,"__keyframe_data__");e.style.d=ace.apply(void 0,Gz([],Wz(t),!1))};t.onframe=n,t.onfinish=n}return t}).styles(t)},function(e){return e.remove()}).styles(n).transitions()}function sce(e){var t=Wz(e,2),n=Wz(t[0],2),r=n[0],o=n[1],i=Wz(t[1],2);return{x1:r,y1:o,x2:i[0],y2:i[1]}}function cce(e,t,n,r){var o=t.showTrunc,i=t.startPos,a=t.endPos,l=t.truncRange,s=t.lineExtension,c=Wz([i,a],2),u=Wz(c[0],2),d=u[0],f=u[1],h=Wz(c[1],2),p=h[0],g=h[1],m=Wz(s?function(e,t,n){void 0===n&&(n=[0,0]);var r=Wz([e,t,n],3),o=Wz(r[0],2),i=o[0],a=o[1],l=Wz(r[1],2),s=l[0],c=l[1],u=Wz(r[2],2),d=u[0],f=u[1],h=Wz([s-i,c-a],2),p=h[0],g=h[1],m=Math.sqrt(Math.pow(p,2)+Math.pow(g,2)),v=Wz([-d/m,f/m],2),y=v[0],b=v[1];return[y*p,y*g,b*p,b*g]}(i,a,s):new Array(4).fill(0),4),v=m[0],y=m[1],b=m[2],x=m[3],w=function(t){return e.selectAll(Gse.line.class).data(t,function(e,t){return t}).join(function(e){return e.append("line").attr("className",function(e){return"".concat(Gse.line.name," ").concat(e.className)}).styles(n).transition(function(e){return Lse(this,sce(e.line),!1)})},function(e){return e.styles(n).transition(function(e){return Lse(this,sce(e.line),r.update)})},function(e){return e.remove()}).transitions()};if(!o||!l)return w([{line:[[d+v,f+y],[p+b,g+x]],className:Gse.line.name}]);var C=Wz(l,2),S=C[0],E=C[1],O=p-d,k=g-f,M=Wz([d+O*S,f+k*S],2),$=M[0],I=M[1],N=Wz([d+O*E,f+k*E],2),T=N[0],L=N[1],R=w([{line:[[d+v,f+y],[$,I]],className:Gse.lineFirst.name},{line:[[T,L],[p+b,g+x]],className:Gse.lineSecond.name}]);return function(e,t){t.truncRange,t.truncShape,t.lineExtension}(0,t),R}function uce(e,t,n){var r,o=t.type,i=$le(t,"line");return r="linear"===o?cce(e,t,ple(i,"arrow"),n):lce(e,t,ple(i,"arrow"),n),function(e,t,n,r){var o,i=n.showArrow,a=n.showTrunc,l=n.lineArrow,s=n.lineArrowOffset,c=n.lineArrowSize;if(o="arc"===t?e.select(Gse.line.class):a?e.select(Gse.lineSecond.class):e.select(Gse.line.class),!i||!l||"arc"===n.type&&ice(n.startAngle,n.endAngle)){var u=o.node();u&&(u.style.markerEnd=void 0)}else{var d=Jae(l);d.attr(r),ble(d,c),o.style("markerEnd",d).style("markerEndOffset",-s)}}(e,o,t,i),r}function dce(e){var t=e.type,n=e.gridCenter;return"linear"===t?n:n||e.center}function fce(e,t){var n=t.gridLength;return e.map(function(e,r){var o=e.value,i=Wz(nce(o,t),2),a=i[0],l=i[1],s=Wz(ale(function(e,t){return ece(e,t.gridDirection,t)}(o,t),n),2);return{id:r,points:[[a,l],[a+s[0],l+s[1]]]}})}function hce(e,t,n,r){var o=$le(n,"grid"),i=o.type,a=o.areaFill,l=dce(n),s=Zse(t,n.gridFilter),c="segment"===i?fce(s,n):function(e,t){var n=t.gridControlAngles,r=dce(t);if(!r)throw new Error("grid center is not provide");if(e.length<2)throw new Error("Invalid grid data");if(!n||0===n.length)throw new Error("Invalid gridControlAngles");var o=Wz(r,2),i=o[0],a=o[1];return e.map(function(e,r){var o=Wz(nce(e.value,t),2),l=o[0],s=o[1],c=Wz([l-i,s-a],2),u=c[0],d=c[1],f=[];return n.forEach(function(e){var t=Aae(e),n=Wz([Math.cos(t),Math.sin(t)],2),r=n[0],o=n[1],l=u*r-d*o+i,s=u*o+d*r+a;f.push([l,s])}),{points:f,id:r}})}(s,n),u=Dz(Dz({},o),{center:l,areaFill:UD(a)?s.map(function(e,t){return Bae(a,[e,t,s])}):a,animate:r,data:c});return e.selectAll(Gse.grid.class).data([1]).join(function(e){return e.append(function(){return new Yse({style:u})}).attr("className",Gse.grid.name)},function(e){return e.transition(function(){return this.update(u)})},function(e){return e.remove()}).transitions()}var pce=function(){function e(e,t,n,r){this.set(e,t,n,r)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),e.prototype.rotatedPoints=function(e,t,n){var r=this,o=r.x1,i=r.y1,a=r.x2,l=r.y2,s=Math.cos(e),c=Math.sin(e),u=t-t*s+n*c,d=n-t*c-n*s;return[[s*o-c*l+u,c*o+s*l+d],[s*a-c*l+u,c*a+s*l+d],[s*o-c*i+u,c*o+s*i+d],[s*a-c*i+u,c*a+s*i+d]]},e.prototype.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},e.prototype.defined=function(e){return this[e]!==Number.MAX_VALUE&&this[e]!==-Number.MAX_VALUE},e}();function gce(e,t){var n=e.getEulerAngles()||0;e.setEulerAngles(0);var r=e.getBounds(),o=Wz(r.min,2),i=o[0],a=o[1],l=Wz(r.max,2),s=l[0],c=l[1],u=e.getBBox(),d=u.width,f=u.height,h=0,p=0,g=i,m=a,v=Yae(e);if(v){f-=1.5;var y=v.style.textAlign,b=v.style.textBaseline;"center"===y?g=(i+s)/2:"right"!==y&&"end"!==y||(g=s),"middle"===b?m=(a+c)/2:"bottom"===b&&(m=c)}var x=Wz(Cle(t),4),w=x[0],C=void 0===w?0:w,S=x[1],E=void 0===S?0:S,O=x[2],k=void 0===O?C:O,M=x[3],$=new pce((h+=i)-(void 0===M?E:M),(p+=a)-C,h+d+E,p+f+k);return e.setEulerAngles(n),$.rotatedPoints(Aae(n),g,m)}function mce(e,t){return t[0]<=Math.max(e[0][0],e[1][0])&&t[0]<=Math.min(e[0][0],e[1][0])&&t[1]<=Math.max(e[0][1],e[1][1])&&t[1]<=Math.min(e[0][1],e[1][1])}function vce(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r<0?2:1}function yce(e,t){var n=vce(e[0],e[1],t[0]),r=vce(e[0],e[1],t[1]),o=vce(t[0],t[1],e[0]),i=vce(t[0],t[1],e[1]);return n!==r&&o!==i||(!(0!==n||!mce(e,t[0]))||(!(0!==r||!mce(e,t[1]))||(!(0!==o||!mce(t,e[0]))||!(0!==i||!mce(t,e[1])))))}function bce(e,t){return t.every(function(t){return function(e,t){var n=e.length;if(n<3)return!1;var r=[t,[9999,t[1]]],o=0,i=0;do{var a=[e[i],e[(i+1)%n]];if(yce(a,r)){if(0===vce(a[0],t,a[1]))return mce(a,t);o++}i=(i+1)%n}while(0!==i);return!!(1&o)}(e,t)})}function xce(e,t){return[[e[0],e[1],e[2],e[3]],[e[2],e[3],e[4],e[5]],[e[4],e[5],e[6],e[7]],[e[6],e[7],e[0],e[1]]].some(function(e){return function(e,t){var n=Wz(e,4),r=n[0],o=n[1],i=n[2],a=n[3],l=Wz(t,4),s=l[0],c=l[1],u=i-r,d=a-o,f=l[2]-s,h=l[3]-c,p=u*h-f*d;if(0===p)return!1;var g=p>0,m=r-s,v=o-c,y=u*v-d*m;if(y<0===g)return!1;var b=f*v-h*m;return b<0!==g&&y>p!==g&&b>p!==g}(t,e)})}function wce(e,t,n){var r,o,i=t.crossPadding,a=new Set,l=null,s=function(e,t){var n=e.type,r=e.labelDirection,o=e.crossSize;if(!o)return!1;if("arc"===n){var i=e.center,a=e.radius,l=Wz(i,2),s=l[0],c=l[1],u="negative"===r?0:o,d=-a-u,f=a+u,h=Wz(Cle(t),4),p=h[0],g=h[1],m=h[2],v=h[3];return new pce(s+d-v,c+d-p,s+f+g,c+f+m)}var y=Wz(e.startPos,2),b=y[0],x=y[1],w=Wz(e.endPos,2),C=w[0],S=w[1],E=Wz(oce(e)?[-t,0,t,0]:[0,t,0,-t],4),O=E[0],k=E[1],M=E[2],$=E[3],I=ale(tce(0,e),o),N=new pce(b,x,C,S);return N.x1+=$,N.y1+=O,N.x2+=k+I[0],N.y2+=M+I[1],N}(t,i),c=function(e){return!s||function(e,t,n){var r=e.x1,o=e.x2,i=e.y1,a=e.y2;return bce([[r,i],[o,i],[o,a],[r,a]],gce(t,n))}(s,e)},u=function(e,t){return!e||!e.firstChild||!function(e,t,n){var r,o,i=gce(e,n).flat(1),a=gce(t,n).flat(1),l=[[i[0],i[1],i[2],i[3]],[i[0],i[1],i[4],i[5]],[i[4],i[5],i[6],i[7]],[i[2],i[3],i[6],i[7]]];try{for(var s=Fz(l),c=s.next();!c.done;c=s.next())if(xce(a,c.value))return!0}catch(u){r={error:u}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return!1}(e.firstChild,t.firstChild,Cle(n))};try{for(var d=Fz(e),f=d.next();!f.done;f=d.next()){var h=f.value;c(h)?!l||u(l,h)?l=h:(a.add(l),a.add(h)):a.add(h)}}catch(p){r={error:p}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return Array.from(a)}function Cce(e,t){return void 0===t&&(t={}),YD(e)?0:"number"==typeof e?e:Math.floor(Xae(e,t))}var Sce=function(e,t){var n=t.seq,r=void 0===n?2:n;return e.filter(function(e,t){return!(t%r)||(Nae(e),!1)})},Ece=function(e){return e.filter(qae)};var Oce=new Map([["hide",function(e,t,n,r){var o=e.length,i=t.keepHeader,a=t.keepTail;if(!(o<=1||2===o&&i&&a)){var l,s,c=Sce,u=function(e){return e.forEach(r.show),e},d=2,f=e.slice(),h=e.slice(),p=Math.min.apply(Math,Gz([1],Wz(e.map(function(e){return e.getBBox().width})),!1));if("linear"===n.type&&(rce(n)||oce(n))){var g=Sle(e[0]).left,m=Sle(e[o-1]).right,v=Math.abs(m-g)||1;d=Math.max(Math.floor(o*p/v),d)}for(i&&(l=f.splice(0,1)[0]),a&&(s=f.splice(-1,1)[0],f.reverse()),u(f);d<e.length&&wce(Ece(s?Gz(Gz([s],Wz(h),!1),[l],!1):Gz([l],Wz(h),!1)),n,null==t?void 0:t.margin).length;){if(s&&!l&&d%2==0)f.splice(0,1).forEach(r.hide);else if(s&&l){f.splice(0,1).forEach(r.hide)}h=c(u(f),{seq:d}),d++}}}],["rotate",function(e,t,n,r){var o,i,a=t.optionalAngles,l=void 0===a?[0,45,90]:a,s=t.margin,c=t.recoverWhenFailed,u=void 0===c||c,d=e.map(function(e){return e.getLocalEulerAngles()}),f=function(){return wce(e,n,s).length<1},h=function(t){return e.forEach(function(e,n){var o=Array.isArray(t)?t[n]:t;r.rotate(e,+o)})};try{for(var p=Fz(l),g=p.next();!g.done;g=p.next()){if(h(g.value),f())return}}catch(m){o={error:m}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}u&&h(d)}],["ellipsis",function(e,t,n,r){if(!(e.length<=0)){var o=t.suffix,i=void 0===o?"...":o,a=t.minLength,l=t.maxLength,s=void 0===l?1/0:l,c=t.step,u=void 0===c?" ":c,d=t.margin,f=void 0===d?[0,0,0,0]:d,h=Uae(r.getTextShape(e[0])),p=Cce(u,h),g=a?Cce(a,h):p,m=Cce(s,h);(YD(m)||m===1/0)&&(m=Math.max.apply(null,e.map(function(e){return e.getBBox().width})));var v=e.slice(),y=Wz(f,4);y[0],y[1],y[2],y[3];for(var b=function(t){if(v.forEach(function(e){r.ellipsis(r.getTextShape(e),t,i)}),(v=wce(e,n,f)).length<1)return{value:void 0}},x=m;x>g+p;x-=p){var w=b(x);if("object"==typeof w)return w.value}}}],["wrap",function(e,t,n,r,o){var i,a=t.maxLines,l=void 0===a?3:a,s=t.recoverWhenFailed,c=void 0===s||s,u=t.margin,d=void 0===u?[0,0,0,0]:u,f=Bae(null!==(i=t.wordWrapWidth)&&void 0!==i?i:50,[o]),h=e.map(function(e){return e.attr("maxLines")||1}),p=Math.min.apply(Math,Gz([],Wz(h),!1)),g=function(){return wce(e,n,d).length<1},m=function(e){var t=e.type,n=e.labelDirection;return"linear"===t&&rce(e)?"negative"===n?"bottom":"top":"middle"}(n),v=function(t){return e.forEach(function(e,n){var o=Array.isArray(t)?t[n]:t;r.wrap(e,f,o,m)})};if(!(p>l)){if("linear"===n.type&&rce(n)){if(v(l),g())return}else for(var y=p;y<=l;y++)if(v(y),g())return;c&&v(h)}}]]);function kce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(function(e,t){return e*("positive"===t?-1:1)},1)}function Mce(e){for(var t=e;t<0;)t+=360;return Math.round(t%360)}function $ce(e,t){var n=Wz(e,2),r=n[0],o=n[1],i=Wz(t,2),a=i[0],l=i[1],s=Wz([r*a+o*l,r*l-o*a],2),c=s[0],u=s[1];return Math.atan2(u,c)}function Ice(e,t,n){var r,o=n.labelAlign;if(null===(r=t.style.transform)||void 0===r?void 0:r.includes("rotate"))return t.getLocalEulerAngles();var i=tce(e.value,n),a=Jse(e.value,n);return"horizontal"===o?0:function(e){var t=(e+360)%180;return tle(t,-90,90)||(t+=180),t}(Pae("perpendicular"===o?$ce([1,0],i):$ce([a[0]<0?-1:1,0],a)))}function Nce(e,t,n){var r=n.type,o=n.labelAlign,i=tce(e,n),a=Mce(t),l=Mce(Pae($ce([1,0],i))),s="center",c="middle";return"linear"===r?[90,270].includes(l)&&0===a?(s="center",c=1===i[1]?"top":"bottom"):l%180||![90,270].includes(a)?0===l?(tle(a,0,90,!1,!0)||tle(a,0,90)||tle(a,270,360))&&(s="start"):90===l?tle(a,0,90,!1,!0)?s="start":(tle(a,90,180)||tle(a,270,360))&&(s="end"):270===l?tle(a,0,90,!1,!0)?s="end":(tle(a,90,180)||tle(a,270,360))&&(s="start"):180===l&&(90===a?s="start":(tle(a,0,90)||tle(a,270,360))&&(s="end")):s="center":"parallel"===o?c=tle(l,0,180,!0)?"top":"bottom":"horizontal"===o?tle(l,90,270,!1)?s="end":(tle(l,270,360,!1)||tle(l,0,90))&&(s="start"):"perpendicular"===o&&(s=tle(l,90,270)?"end":"start"),{textAlign:s,textBaseline:c}}function Tce(e,t,n){var r=n.showTick,o=n.tickLength,i=n.tickDirection,a=n.labelDirection,l=n.labelSpacing,s=t.indexOf(e),c=Bae(l,[e,s,t]),u=Wz([tce(e.value,n),kce(a,i)],2),d=Wz(lle(ale(u[0],c+(1===u[1]?Bae(r?o:0,[e,s,t]):0)),nce(e.value,n)),2);return{x:d[0],y:d[1]}}function Lce(e,t,n,r){var o=r.labelRender,i=(Iz(r,"endPos.0",400)-Iz(r,"startPos.0",0))/n.length,a=UD(o)?Bae(o,[e,t,n,tce(e.value,r)]):e.label||"",l=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body.firstElementChild;if(!t)return 0;var n=t.getAttribute("style")||"",r=Object.fromEntries(n.split(";").map(function(e){return e.trim()}).filter(function(e){return e.includes(":")}).map(function(e){var t=Wz(e.split(":").map(function(e){return e.trim()}),2),n=t[0],r=t[1];return[n.toLowerCase(),r]})),o=function(e){if(!e)return 0;var t=e.match(/([\d.]+)px/);return t?parseFloat(t[1]):0};if(r.height)return o(r.height);var i,a=o(r["font-size"])||16,l=r["line-height"];i=l&&"normal"!==l?l.endsWith("px")?o(l):/^[\d.]+$/.test(l)?parseFloat(l)*a:a:1.2*a;var s=o(r["padding-top"]),c=o(r["padding-bottom"]);r.padding&&(1===(u=r.padding.split(/\s+/).map(o)).length||2===u.length?(s=u[0],c=u[0]):(3===u.length||4===u.length)&&(s=u[0],c=u[2]));var u,d=o(r["border-top-width"]),f=o(r["border-bottom-width"]);if(r.border){var h=r.border.match(/([\d.]+)px/);h&&(d=parseFloat(h[1]),f=parseFloat(h[1]))}return r["border-width"]&&(1===(u=r["border-width"].split(/\s+/).map(o)).length||2===u.length?(d=u[0],f=u[0]):(3===u.length||4===u.length)&&(d=u[0],f=u[2])),i+s+c+d+f}(a)||30;return function(){return t={width:i,height:l},"function"==typeof(e=a)?e():lz(e)||uz(e)?new GX({style:Dz(Dz({},t),{innerHTML:String(e)})}):e;var e,t}}function Rce(e,t){["text","html"].includes(e.nodeName)&&e.attr(t)}function _ce(e,t){!function(e,t,n,r){var o=t.labelOverlap,i=void 0===o?[]:o;i.length&&i.forEach(function(o){var i=o.type,a=Oce.get(i);(function(e,t,n){return!(t.labelOverlap.length<1)&&("hide"===n?!function(e){for(var t=e;t;){if("offscreen"===t.className)return!0;t=t.parent}return!1}(e[0]):"rotate"===n?!e.some(function(e){var t;return!!(null===(t=e.attr("transform"))||void 0===t?void 0:t.includes("rotate"))}):"ellipsis"!==n&&"wrap"!==n||e.filter(function(e){return e.querySelector("text")}).length>=1)})(e,t,i)&&(null==a||a(e,o,t,r,n))})}(this.node().childNodes,e,t,{hide:Nae,show:Iae,rotate:function(t,n){!function(e,t,n){t.setLocalEulerAngles(e);var r=Nce(t.__data__.value,e,n),o=t.querySelector(Gse.labelItem.class);o&&Rce(o,r)}(+n,t,e)},ellipsis:function(e,t,n){e&&Zae(e,t||1/0,n)},wrap:function(e,t,n){var r,o;e&&(void 0===(r=n)&&(r=2),void 0===o&&(o="top"),Kae(e,{wordWrap:!0,wordWrapWidth:t,maxLines:r,textBaseline:o}))},getTextShape:function(e){return e.querySelector("text")}})}function Ace(e,t,n,r,o){var i=n.indexOf(t),a=o.labelRender,l=wle(e).append(a?Lce(t,i,n,o):function(e,t,n,r){var o=r.labelFormatter;return UD(o)?function(){return Jae(Bae(o,[e,t,n,tce(e.value,r)]))}:function(){return Jae(e.label||"")}}(t,i,n,o)).attr("className",Gse.labelItem.name).node(),s=Wz(Nle(Kse(r,[t,i,n])),2),c=s[0],u=s[1],d=u.transform,f=zz(u,["transform"]);Tle(l,d);var h=Ice(t,l,o);return l.getLocalEulerAngles()||l.setLocalEulerAngles(h),Rce(l,Dz(Dz({},Nce(t.value,h,o)),c)),e.attr(f),l}function Pce(e,t,n,r,o){var i,a,l,s=Zse(t,n.labelFilter),c=$le(n,"label"),u=e.selectAll(Gse.label.class).data(s,function(e,t){return t}).join(function(e){return e.append("g").attr("className",Gse.label.name).transition(function(e){Ace(this,e,t,c,n);var r=Tce(e,t,n),o=r.x,i=r.y;return this.style.transform="translate(".concat(o,", ").concat(i,")"),null})},function(e){return e.transition(function(e){var o=function(e,t,n,r){if(void 0===r&&(r="destroy"),function(e,t){return"text"===e.nodeName&&"text"===t.nodeName&&e.attributes.text===t.attributes.text}(e,t))return e.remove(),[null];var o=function(){"destroy"===r?e.destroy():"hide"===r&&Nae(e),t.isVisible()&&Iae(t)};if(!n)return o(),[null];var i=n.duration,a=void 0===i?0:i,l=n.delay,s=void 0===l?0:l,c=Math.ceil(+a/2),u=+a/4,d=Wz(e.getGeometryBounds().center,2),f=d[0],h=d[1],p=Wz(t.getGeometryBounds().center,2),g=Wz([(f+p[0])/2-f,(h+p[1])/2-h],2),m=g[0],v=g[1],y=e.style.opacity,b=void 0===y?1:y,x=t.style.opacity,w=void 0===x?1:x,C=e.style.transform||"",S=t.style.transform||"",E=e.animate([{opacity:b,transform:"translate(0, 0) ".concat(C)},{opacity:0,transform:"translate(".concat(m,", ").concat(v,") ").concat(C)}],Dz(Dz({fill:"both"},n),{duration:s+c+u})),O=t.animate([{opacity:0,transform:"translate(".concat(-m,", ").concat(-v,") ").concat(S),offset:.01},{opacity:w,transform:"translate(0, 0) ".concat(S)}],Dz(Dz({fill:"both"},n),{duration:c+u,delay:s+c-u}));return Ise(O,o),[E,O]}(this.querySelector(Gse.labelItem.class),Ace(this,e,t,c,n),r.update),i=Tce(e,t,n),a=i.x,l=i.y,s=Lse(this,{transform:"translate(".concat(a,", ").concat(l,")")},r.update);return Gz(Gz([],Wz(o),!1),[s],!1)})},function(e){return i=e,e.transition(function(){var e=this,t=Rse(this.childNodes[0],r.exit);return Ise(t,function(){return wle(e).remove()}),t}),i}).transitions();return l=function(){_ce.call(e,n,o)},0===(a=u).length?l():Promise.all(a.map(function(e){return null==e?void 0:e.finished})).then(l),u}function jce(e,t){return ece(e,t.tickDirection,t)}function Bce(e,t,n,r,o){var i=Wz(function(e,t){var n=Wz(e,2);return[[0,0],[n[0]*t,n[1]*t]]}(r,Bae(o.tickLength,[e,t,n])),2),a=Wz(i[0],2),l=a[0],s=a[1],c=Wz(i[1],2);return{x1:l,x2:c[0],y1:s,y2:c[1]}}function Dce(e,t,n,r,o,i){var a=function(e,t,n,r,o){var i=o.tickFormatter,a=jce(t.value,o),l="line";return UD(i)&&(l=function(){return Bae(i,[t,n,r,a])}),e.append(l).attr("className",Gse.tickItem.name)}(wle(this),e,t,n,r);!function(e,t,n,r,o,i,a){var l=jce(e.value,i),s=Bce(e,t,n,l,i),c=s.x1,u=s.x2,d=s.y1,f=s.y2,h=Wz(Nle(Kse(a,[e,t,n,l])),2),p=h[0],g=h[1];"line"===r.node().nodeName&&r.styles(Dz({x1:c,x2:u,y1:d,y2:f},p)),o.attr(g),r.styles(p)}(e,t,n,a,this,r,o);var l=Wz(nce(e.value,r),2),s=l[0],c=l[1];return Lse(this,{transform:"translate(".concat(s,", ").concat(c,")")},i)}function zce(e,t,n,r,o){var i=Wz(Nle($le(r,"title")),2),a=i[0],l=i[1],s=l.transform,c=l.transformOrigin,u=zz(l,["transform","transformOrigin"]);t.styles(u);var d=s||function(e,t,n){var r=2*e.getGeometryBounds().halfExtents[1];if("vertical"===t){if("left"===n)return"rotate(-90) translate(0, ".concat(r/2,")");if("right"===n)return"rotate(-90) translate(0, -".concat(r/2,")")}return""}(e.node(),a.direction,a.position);e.styles(Dz(Dz({},a),{transformOrigin:c})),Tle(e.node(),d);var f=function(e,t,n){var r=n.titlePosition,o=void 0===r?"lb":r,i=n.titleSpacing,a=Rle(o),l=e.node().getLocalBounds(),s=Wz(l.min,2),c=s[0],u=s[1],d=Wz(l.halfExtents,2),f=d[0],h=d[1],p=Wz(t.node().getLocalBounds().halfExtents,2),g=p[0],m=p[1],v=Wz([c+f,u+h],2),y=v[0],b=v[1],x=Wz(Cle(i),4),w=x[0],C=x[1],S=x[2],E=x[3];if(["start","end"].includes(o)&&"linear"===n.type){var O=n.startPos,k=n.endPos,M=Wz("start"===o?[O,k]:[k,O],2),$=M[0],I=M[1],N=Wz(ale(fle([-I[0]+$[0],-I[1]+$[1]]),w),2),T=N[0],L=N[1];return{x:$[0]+T,y:$[1]+L}}return a.includes("t")&&(b-=h+m+w),a.includes("r")&&(y+=f+g+C),a.includes("l")&&(y-=f+g+E),a.includes("b")&&(b+=h+m+S),{x:y,y:b}}(wle(n._offscreen||n.querySelector(Gse.mainGroup.class)),t,r),h=f.x,p=f.y;return Lse(t.node(),{transform:"translate(".concat(h,", ").concat(p,")")},o)}function Hce(e,t,n,r){var o=e.showLine,i=e.showTick,a=e.showLabel,l=ele(o,t.maybeAppendByClassName(Gse.lineGroup,"g"),function(t){return uce(t,e,r)})||[],s=ele(i,t.maybeAppendByClassName(Gse.tickGroup,"g"),function(t){return function(e,t,n,r){var o=Zse(t,n.tickFilter),i=$le(n,"tick");return e.selectAll(Gse.tick.class).data(o,function(e){return e.id||e.label}).join(function(e){return e.append("g").attr("className",Gse.tick.name).transition(function(e,t){return Dce.call(this,e,t,o,n,i,!1)})},function(e){return e.transition(function(e,t){return this.removeChildren(),Dce.call(this,e,t,o,n,i,r.update)})},function(e){return e.transition(function(){var e=this,t=Rse(this.childNodes[0],r.exit);return Ise(t,function(){return e.remove()}),t})}).transitions()}(t,n,e,r)})||[],c=ele(a,t.maybeAppendByClassName(Gse.labelGroup,"g"),function(o){return Pce(o,n,e,r,t.node())})||[];return Gz(Gz(Gz([],Wz(l),!1),Wz(s),!1),Wz(c),!1).filter(function(e){return!!e})}var Fce=function(e){function t(t){return e.call(this,t,Wse)||this}return Bz(t,e),t.prototype.render=function(e,t,n){var r=this,o=e.titleText,i=e.data,a=e.animate,l=e.showTitle,s=e.showGrid,c=e.dataThreshold,u=e.truncRange,d=function(e,t){if(e.length<=t)return e;for(var n=Math.floor(e.length/t),r=[],o=0;o<e.length;o+=n)r.push(e[o]);return r}(i,c).filter(function(e){var t=e.value;return!(u&&t>u[0]&&t<u[1])}),f=$se(void 0===n?a:n),h=ele(s,wle(t).maybeAppendByClassName(Gse.gridGroup,"g"),function(t){return hce(t,d,e,f)})||[],p=wle(t).maybeAppendByClassName(Gse.mainGroup,"g");o&&(!this.initialized&&f.enter||this.initialized&&f.update)&&Hce(e,wle(this.offscreenGroup),d,$se(!1));var g=Hce(e,wle(p.node()),d,f),m=ele(l,wle(t).maybeAppendByClassName(Gse.titleGroup,"g"),function(t){return function(e,t,n,r){var o=n.titleText;return e.selectAll(Gse.title.class).data([{title:o}].filter(function(e){return!!e.title}),function(e,t){return e.title}).join(function(i){return i.append(function(){return Jae(o)}).attr("className",Gse.title.name).transition(function(){return zce(wle(this),e,t,n,r.enter)})},function(o){return o.transition(function(){return zce(wle(this),e,t,n,r.update)})},function(e){return e.remove()}).transitions()}(t,r,e,f)})||[];return Gz(Gz(Gz([],Wz(h),!1),Wz(g),!1),Wz(m),!1).flat().filter(function(e){return!!e})},t}(Ale),Wce=Wae({text:"text"},"title");function Gce(e,t){var n=Object.entries(t).reduce(function(t,n){var r=Wz(n,2),o=r[0],i=r[1];return e.node().attr(o)||(t[o]=i),t},{});e.styles(n)}var Vce=function(e){function t(t){return e.call(this,t,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return Bz(t,e),t.prototype.getAvailableSpace=function(){var e=this.attributes,t=e.width,n=e.height,r=e.position,o=e.spacing,i=e.inset,a=this.querySelector(Wce.text.class);if(!a)return new jae(0,0,+t,+n);var l=a.getBBox(),s=l.width,c=l.height,u=Wz(Cle(o),4),d=u[0],f=u[1],h=u[2],p=u[3],g=Wz([0,0,+t,+n],4),m=g[0],v=g[1],y=g[2],b=g[3],x=Rle(r);if(x.includes("i"))return new jae(m,v,y,b);x.forEach(function(e,r){var o,i,a,l;"t"===e&&(o=Wz(0===r?[c+h,+n-c-h]:[0,+n],2),v=o[0],b=o[1]),"r"===e&&(i=Wz([+t-s-p],1),y=i[0]),"b"===e&&(a=Wz([+n-c-d],1),b=a[0]),"l"===e&&(l=Wz(0===r?[s+f,+t-s-f]:[0,+t],2),m=l[0],y=l[1])});var w=Wz(Cle(i),4),C=w[0],S=w[1],E=w[2],O=w[3],k=Wz([O+S,C+E],2),M=k[0],$=k[1];return new jae(m+O,v+C,y-M,b-$)},t.prototype.getBBox=function(){return this.title?this.title.getBBox():new jae(0,0,0,0)},t.prototype.render=function(e,t){var n=this;e.width,e.height,e.position,e.spacing;var r=zz(e,["width","height","position","spacing"]),o=Wz(Nle(r),1)[0],i=function(e){var t,n,r,o,i=e,a=i.width,l=i.height,s=i.position,c=Wz([+a/2,+l/2],2),u=Wz([+c[0],+c[1],"center","middle"],4),d=u[0],f=u[1],h=u[2],p=u[3],g=Rle(s);return g.includes("l")&&(d=(t=Wz([0,"start"],2))[0],h=t[1]),g.includes("r")&&(d=(n=Wz([+a,"end"],2))[0],h=n[1]),g.includes("t")&&(f=(r=Wz([0,"top"],2))[0],p=r[1]),g.includes("b")&&(f=(o=Wz([+l,"bottom"],2))[0],p=o[1]),{x:d,y:f,textAlign:h,textBaseline:p}}(e),a=i.x,l=i.y,s=i.textAlign,c=i.textBaseline;ele(!!r.text,wle(t),function(e){n.title=e.maybeAppendByClassName(Wce.text,"text").styles(o).call(Gce,{x:a,y:l,textAlign:s,textBaseline:c}).node()})},t}(Ale),qce=Wae({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),Xce=function(e){function t(t){var n,r,o,i=e.call(this,t,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:(n=0,r=0,o=6,[["M",n-o,r-o],["L",n+o,r],["L",n-o,r+o],["Z"]]),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(e,t){return"".concat(e,"/").concat(t)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return i.playState="idle",i.contentGroup=i.appendChild(new FX({class:qce.contentGroup.name})),i.playWindow=i.contentGroup.appendChild(new FX({class:qce.playWindow.name})),i.innerCurrPage=i.defaultPage,i}return Bz(t,e),Object.defineProperty(t.prototype,"defaultPage",{get:function(){var e=this.attributes.defaultPage;return cz(e,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageShape",{get:function(){var e=Wz(function(e){var t;return(null===(t=e[0])||void 0===t?void 0:t.map(function(t,n){return e.map(function(e){return e[n]})}))||[]}(this.pageViews.map(function(e){var t=e.getBBox();return[t.width,t.height]})).map(function(e){return Math.max.apply(Math,Gz([],Wz(e),!1))}),2),t=e[0],n=e[1],r=this.attributes,o=r.pageWidth,i=void 0===o?t:o,a=r.pageHeight;return{pageWidth:i,pageHeight:void 0===a?n:a}},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(t.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var t=e.prototype.getBBox.call(this),n=t.x,r=t.y,o=this.controllerShape,i=this.pageShape,a=i.pageWidth,l=i.pageHeight;return new jae(n,r,a+o.width,l)},t.prototype.goTo=function(e){var t=this,n=this.attributes.animate,r=this,o=r.currPage,i=r.playState,a=r.playWindow,l=r.pageViews;if("idle"!==i||e<0||l.length<=0||e>=l.length)return null;l[o].setLocalPosition(0,0),this.prepareFollowingPage(e);var s=Wz(this.getFollowingPageDiff(e),2),c=s[0],u=s[1];this.playState="running";var d=Tse(a,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-c,", ").concat(-u,")")}],n);return Ise(d,function(){t.innerCurrPage=e,t.playState="idle",t.setVisiblePages([e]),t.updatePageInfo()}),d},t.prototype.prev=function(){var e=this.attributes.loop,t=this.pageViews.length,n=this.currPage;if(!e&&n<=0)return null;var r=e?(n-1+t)%t:cz(n-1,0,t);return this.goTo(r)},t.prototype.next=function(){var e=this.attributes.loop,t=this.pageViews.length,n=this.currPage;if(!e&&n>=t-1)return null;var r=e?(n+1)%t:cz(n+1,0,t);return this.goTo(r)},t.prototype.renderClipPath=function(e){var t=this.pageShape,n=t.pageWidth,r=t.pageHeight;n&&r?(this.clipPath=e.maybeAppendByClassName(qce.clipPath,"rect").styles({width:n,height:r}),this.contentGroup.attr("clipPath",this.clipPath.node())):this.contentGroup.style.clipPath=void 0},t.prototype.setVisiblePages=function(e){this.playWindow.children.forEach(function(t,n){e.includes(n)?Iae(t):Nae(t)})},t.prototype.adjustControllerLayout=function(){var e=this,t=e.prevBtnGroup,n=e.nextBtnGroup,r=e.pageInfoGroup,o=this.attributes,i=o.orientation,a=o.controllerPadding,l=r.getBBox(),s=l.width;l.height;var c=Wz("horizontal"===i?[-180,0]:[-90,90],2),u=c[0],d=c[1];t.setLocalEulerAngles(u),n.setLocalEulerAngles(d);var f=t.getBBox(),h=f.width,p=f.height,g=n.getBBox(),m=g.width,v=g.height,y=Math.max(h,s,m),b="horizontal"===i?{offset:[[0,0],[h/2+a,0],[h+s+2*a,0]],textAlign:"start"}:{offset:[[y/2,-p-a],[y/2,0],[y/2,v+a]],textAlign:"center"},x=Wz(b.offset,3),w=Wz(x[0],2),C=w[0],S=w[1],E=Wz(x[1],2),O=E[0],k=E[1],M=Wz(x[2],2),$=M[0],I=M[1],N=b.textAlign,T=r.querySelector("text");T&&(T.style.textAlign=N),t.setLocalPosition(C,S),r.setLocalPosition(O,k),n.setLocalPosition($,I)},t.prototype.updatePageInfo=function(){var e,t=this,n=t.currPage,r=t.pageViews,o=t.attributes.formatter;r.length<2||(null===(e=this.pageInfoGroup.querySelector(qce.pageInfo.class))||void 0===e||e.attr("text",o(n+1,r.length)),this.adjustControllerLayout())},t.prototype.getFollowingPageDiff=function(e){var t=this.currPage;if(t===e)return[0,0];var n=this.attributes.orientation,r=this.pageShape,o=r.pageWidth,i=r.pageHeight,a=e<t?-1:1;return"horizontal"===n?[a*o,0]:[0,a*i]},t.prototype.prepareFollowingPage=function(e){var t=this.currPage,n=this.pageViews;if(this.setVisiblePages([e,t]),e!==t){var r=Wz(this.getFollowingPageDiff(e),2),o=r[0],i=r[1];n[e].setLocalPosition(o,i)}},t.prototype.renderController=function(e){var t=this,n=this.attributes.controllerSpacing,r=this.pageShape,o=r.pageWidth,i=r.pageHeight,a=this.pageViews.length>=2,l=e.maybeAppendByClassName(qce.controller,"g");if(Tae(l.node(),a),a){var s=$le(this.attributes,"button"),c=$le(this.attributes,"pageNum"),u=Wz(Nle(s),2),d=u[0],f=u[1],h=d.size,p=zz(d,["size"]),g=!l.select(qce.prevBtnGroup.class).node(),m=l.maybeAppendByClassName(qce.prevBtnGroup,"g").styles(f);this.prevBtnGroup=m.node();var v=m.maybeAppendByClassName(qce.prevBtn,"path"),y=l.maybeAppendByClassName(qce.nextBtnGroup,"g").styles(f);this.nextBtnGroup=y.node(),[v,y.maybeAppendByClassName(qce.nextBtn,"path")].forEach(function(e){e.styles(Dz(Dz({},p),{transformOrigin:"center"})),ble(e.node(),h)});var b=l.maybeAppendByClassName(qce.pageInfoGroup,"g");this.pageInfoGroup=b.node(),b.maybeAppendByClassName(qce.pageInfo,"text").styles(c),this.updatePageInfo(),l.node().setLocalPosition(o+n,i/2),g&&(this.prevBtnGroup.addEventListener("click",function(){t.prev()}),this.nextBtnGroup.addEventListener("click",function(){t.next()}))}},t.prototype.render=function(e,t){var n=e.x,r=void 0===n?0:n,o=e.y,i=void 0===o?0:o;this.attr("transform","translate(".concat(r,", ").concat(i,")"));var a=wle(t);this.renderClipPath(a),this.renderController(a),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},t.prototype.bindEvents=function(){var e,t,n,r=this,o=(e=function(){return r.render(r.attributes,r)},t=50,function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout(function(){n=null,e.apply(r,o)},t)});this.playWindow.addEventListener(Xq.INSERTED,o),this.playWindow.addEventListener(Xq.REMOVED,o)},t}(Ale);var Uce;function Yce(e,t,n){return void 0===e&&(e="horizontal"),"horizontal"===e?t:n}Fle.registerSymbol("hiddenHandle",function(e,t,n){var r=1.4*n;return[["M",e-n,t-r],["L",e+n,t-r],["L",e+n,t+r],["L",e-n,t+r],["Z"]]}),Fle.registerSymbol("verticalHandle",function(e,t,n){var r=1.4*n,o=n/2,i=n/6,a=e+.4*r;return[["M",e,t],["L",a,t+o],["L",e+r,t+o],["L",e+r,t-o],["L",a,t-o],["Z"],["M",a,t+i],["L",e+r-2,t+i],["M",a,t-i],["L",e+r-2,t-i]]}),Fle.registerSymbol("horizontalHandle",function(e,t,n){var r=1.4*n,o=n/2,i=n/6,a=t+.4*r;return[["M",e,t],["L",e-o,a],["L",e-o,t+r],["L",e+o,t+r],["L",e+o,a],["Z"],["M",e-i,a],["L",e-i,t+r-2],["M",e+i,a],["L",e+i,t+r-2]]});var Kce="component-poptip",Zce="component-poptip-arrow",Qce="component-poptip-text",Jce=((Uce={})[".".concat(Kce)]={visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"},Uce[".".concat(Qce)]={"text-align":"center"},Uce[".".concat(Kce,"[data-position='top']")]={transform:"translate(-50%, -100%)"},Uce[".".concat(Kce,"[data-position='left']")]={transform:"translate(-100%, -50%)"},Uce[".".concat(Kce,"[data-position='right']")]={transform:"translate(0, -50%)"},Uce[".".concat(Kce,"[data-position='bottom']")]={transform:"translate(-50%, 0)"},Uce[".".concat(Kce,"[data-position='top-left']")]={transform:"translate(0,-100%)"},Uce[".".concat(Kce,"[data-position='top-right']")]={transform:"translate(-100%,-100%)"},Uce[".".concat(Kce,"[data-position='left-top']")]={transform:"translate(-100%, 0)"},Uce[".".concat(Kce,"[data-position='left-bottom']")]={transform:"translate(-100%, -100%)"},Uce[".".concat(Kce,"[data-position='right-top']")]={transform:"translate(0, 0)"},Uce[".".concat(Kce,"[data-position='right-bottom']")]={transform:"translate(0, -100%)"},Uce[".".concat(Kce,"[data-position='bottom-left']")]={transform:"translate(0, 0)"},Uce[".".concat(Kce,"[data-position='bottom-right']")]={transform:"translate(-100%, 0)"},Uce[".".concat(Zce)]={width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1},Uce[".".concat(Kce,"[data-position='top']")]={transform:"translate(-50%, calc(-100% - 5px))"},Uce["[data-position='top'] .".concat(Zce)]={bottom:"-2px"},Uce[".".concat(Kce,"[data-position='left']")]={transform:"translate(calc(-100% - 5px), -50%)"},Uce["[data-position='left'] .".concat(Zce)]={right:"-2px"},Uce[".".concat(Kce,"[data-position='right']")]={transform:"translate(5px, -50%)"},Uce["[data-position='right'] .".concat(Zce)]={left:"-2px"},Uce[".".concat(Kce,"[data-position='bottom']")]={transform:"translate(-50%, 5px)"},Uce["[data-position='bottom'] .".concat(Zce)]={top:"-2px"},Uce[".".concat(Kce,"[data-position='top-left']")]={transform:"translate(0, calc(-100% - 5px))"},Uce["[data-position='top-left'] .".concat(Zce)]={left:"10px",bottom:"-2px"},Uce[".".concat(Kce,"[data-position='top-right']")]={transform:"translate(-100%, calc(-100% - 5px))"},Uce["[data-position='top-right'] .".concat(Zce)]={right:"10px",bottom:"-2px"},Uce[".".concat(Kce,"[data-position='left-top']")]={transform:"translate(calc(-100% - 5px), 0)"},Uce["[data-position='left-top'] .".concat(Zce)]={right:"-2px",top:"8px"},Uce[".".concat(Kce,"[data-position='left-bottom']")]={transform:"translate(calc(-100% - 5px), -100%)"},Uce["[data-position='left-bottom'] .".concat(Zce)]={right:"-2px",bottom:"8px"},Uce[".".concat(Kce,"[data-position='right-top']")]={transform:"translate(5px, 0)"},Uce["[data-position='right-top'] .".concat(Zce)]={left:"-2px",top:"8px"},Uce[".".concat(Kce,"[data-position='right-bottom']")]={transform:"translate(5px, -100%)"},Uce["[data-position='right-bottom'] .".concat(Zce)]={left:"-2px",bottom:"8px"},Uce[".".concat(Kce,"[data-position='bottom-left']")]={transform:"translate(0, 5px)"},Uce["[data-position='bottom-left'] .".concat(Zce)]={top:"-2px",left:"8px"},Uce[".".concat(Kce,"[data-position='bottom-right']")]={transform:"translate(-100%, 5px)"},Uce["[data-position='bottom-right'] .".concat(Zce)]={top:"-2px",right:"8px"},Uce);function eue(e){var t=e&&document.getElementById(e);return t||((t=document.createElement("div")).setAttribute("id",e),document.body.appendChild(t)),t}var tue=function(e){function t(n){var r=e.call(this,kz({style:{id:"component-poptip"}},t.defaultOptions,n))||this;return r.visibility="visible",r.map=new Map,r.domStyles="",r.initShape(),r.render(r.attributes,r),r}return Bz(t,e),Object.defineProperty(t.prototype,"visible",{get:function(){return"visible"===this.visibility},enumerable:!1,configurable:!0}),t.prototype.render=function(e,t){this.visibility=this.style.visibility,this.updatePoptipElement()},t.prototype.update=function(e){this.attr(kz({},this.style,e)),this.render(this.attributes,this)},t.prototype.bind=function(e,t){var n=this;if(e){var r=this.style.text,o=function(o){var i,a,l,s=e,c=n.style,u=r;if(t){var d="function"==typeof t?t.call(null,o):t,f=d.html,h=d.target,p=zz(d,["html","target"]);i={},a=n.style,l=p,a&&wz(i,a),l&&wz(i,l),c=i,(h||!1===h)&&(s=h),"string"==typeof f&&(u=f)}var g=c.position,m=c.arrowPointAtCenter,v=c.follow,y=c.offset;if(s){var b=o,x=Wz(function(e,t,n,r,o,i){if(void 0===o&&(o=!1),void 0===i&&(i=!1),i)return[e,t];var a=n.getBoundingClientRect(),l=a.x,s=a.y,c=a.width,u=a.height;switch(r){case"top":return o?[l+c/2,s]:[e,s];case"left":return o?[l,s+u/2]:[l,t];case"bottom":return o?[l+c/2,s+u]:[e,s+u];case"right":return o?[l+c,s+u/2]:[l+c,t];case"top-right":case"right-top":return[l+c,s];case"left-bottom":case"bottom-left":return[l,s+u];case"right-bottom":case"bottom-right":return[l+c,s+u];default:return[l,s]}}(b.clientX,b.clientY,s,g,m,v),2),w=x[0],C=x[1];n.showTip(w,C,{text:u,position:g,offset:y})}else n.hideTip()},i=function(){n.hideTip()};e.addEventListener("mousemove",o),e.addEventListener("mouseleave",i),this.map.set(e,[o,i])}},t.prototype.unbind=function(e){if(this.map.has(e)){var t=Wz(this.map.get(e)||[],2),n=t[0],r=t[1];n&&e.removeEventListener("mousemove",n),r&&e.removeEventListener("mouseleave",r),this.map.delete(e)}},t.prototype.clear=function(){this.container.innerHTML=""},t.prototype.destroy=function(){var t,n=this;Gz([],Wz(this.map.keys()),!1).forEach(function(e){return n.unbind(e)}),null===(t=this.container)||void 0===t||t.remove(),e.prototype.destroy.call(this)},t.prototype.showTip=function(e,t,n){var r=Iz(n,"text");if((!r||"string"==typeof r)&&(this.applyStyles(),e&&t&&n)){var o=n.offset,i=n.position;if(i&&this.container.setAttribute("data-position",i),this.setOffsetPosition(e,t,o),"string"==typeof r){var a=this.container.querySelector(".".concat(Qce));a&&(a.innerHTML=r)}this.visibility="visible",this.container.style.visibility="visible"}},t.prototype.hideTip=function(){this.visibility="hidden",this.container.style.visibility="hidden"},t.prototype.getContainer=function(){return this.container},t.prototype.getClassName=function(){var e=this.style.containerClassName;return"".concat(Kce).concat(e?" ".concat(e):"")},t.prototype.initShape=function(){var e=this,t=this.style.id;this.container=function(e){var t=function(e){var t;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t||(t=e.apply(void 0,n)),t}}(eue)(e);return t}(t),this.container.className=this.getClassName(),this.container.addEventListener("mousemove",function(){return e.showTip()}),this.container.addEventListener("mouseleave",function(){return e.hideTip()})},t.prototype.updatePoptipElement=function(){var e=this.container;this.clear();var t=this.style,n=t.id,r=t.template,o=t.text;this.container.setAttribute("id",n),this.container.className=this.getClassName();var i,a='<span class="'.concat(Zce,'"></span>');e.innerHTML=a,lz(r)?e.innerHTML+=r:r&&((i=r)instanceof Element||i instanceof Document)&&e.appendChild(r),o&&(e.getElementsByClassName(Qce)[0].textContent=o),this.applyStyles(),this.container.style.visibility=this.visibility},t.prototype.applyStyles=function(){var e=Vae({},Jce,this.style.domStyles),t=Object.entries(e).reduce(function(e,t){var n=Wz(t,2),r=n[0],o=n[1],i=Object.entries(o).reduce(function(e,t){var n=Wz(t,2),r=n[0],o=n[1];return"".concat(e).concat(r,": ").concat(o,";")},"");return"".concat(e).concat(r,"{").concat(i,"}")},"");if(this.domStyles!==t){this.domStyles=t;var n=this.container.querySelector("style");n&&this.container.removeChild(n),(n=document.createElement("style")).innerHTML=t,this.container.appendChild(n)}},t.prototype.setOffsetPosition=function(e,t,n){void 0===n&&(n=this.style.offset);var r=Wz(n,2),o=r[0],i=void 0===o?0:o,a=r[1],l=void 0===a?0:a;this.container.style.left="".concat(e+i,"px"),this.container.style.top="".concat(t+l,"px")},t.tag="poptip",t.defaultOptions={style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:Jce,template:'<div class="'.concat(Qce,'"></div>')}},t}(Ale),nue=Wae({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",focusGroup:"focus-group",focus:"focus",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),rue={offset:[0,20],domStyles:{".component-poptip":{opacity:"1",padding:"8px 12px",background:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},".component-poptip-arrow":{display:"none"},".component-poptip-text":{color:"#000",lineHeight:"20px"}}};var oue=function(e){function t(t){return e.call(this,t,{span:[1,1],marker:function(){return new BX({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Bz(t,e),Object.defineProperty(t.prototype,"showValue",{get:function(){var e=this.attributes.valueText;return!!e&&("string"==typeof e||"number"==typeof e?""!==e:"function"==typeof e||""!==e.attr("text"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualSpace",{get:function(){var e=this.labelGroup,t=this.valueGroup,n=this.attributes,r=n.markerSize,o=n.focus,i=n.focusMarkerSize,a=e.node().getBBox(),l=a.width,s=a.height,c=t.node().getBBox(),u=c.width,d=c.height;return{markerWidth:r,labelWidth:l,valueWidth:u,focusWidth:o?null!=i?i:12:0,height:Math.max(r,s,d)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"span",{get:function(){var e=this.attributes.span;if(!e)return[1,1];var t=Wz(Cle(e),2),n=t[0],r=t[1],o=this.showValue?r:0,i=n+o;return[n/i,o/i]},enumerable:!1,configurable:!0}),t.prototype.setAttribute=function(t,n){e.prototype.setAttribute.call(this,t,n)},Object.defineProperty(t.prototype,"shape",{get:function(){var e,t=this.attributes,n=t.markerSize,r=t.width,o=this.actualSpace,i=o.markerWidth,a=o.focusWidth,l=o.height,s=this.actualSpace,c=s.labelWidth,u=s.valueWidth,d=Wz(this.spacing,3),f=d[0],h=d[1],p=d[2];if(r){var g=r-n-f-h-a-p,m=Wz(this.span,2);c=(e=Wz([m[0]*g,m[1]*g],2))[0],u=e[1]}return{width:i+c+u+f+h+a+p,height:l,markerWidth:i,labelWidth:c,valueWidth:u,focusWidth:a}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){var e=this.attributes,t=e.spacing,n=e.focus;if(!t)return[0,0,0];var r=Wz(Cle(t),3),o=r[0],i=r[1],a=r[2];return[o,this.showValue?i:0,n?a:0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){var e=this.shape,t=e.markerWidth,n=e.labelWidth,r=e.valueWidth,o=e.focusWidth,i=e.width,a=e.height,l=Wz(this.spacing,3),s=l[0],c=l[1];return{height:a,width:i,markerWidth:t,labelWidth:n,valueWidth:r,focusWidth:o,position:[t/2,t+s,t+n+s+c,t+n+r+s+c+l[2]+o/2]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleSize",{get:function(){var e,t,n=(e=this.markerGroup.node(),(t=e.querySelector(nue.marker.class))?t.style:{}),r=this.attributes,o=r.markerSize,i=r.markerStrokeWidth,a=void 0===i?n.strokeWidth:i,l=r.markerLineWidth,s=void 0===l?n.lineWidth:l,c=r.markerStroke,u=void 0===c?n.stroke:c,d=+(a||s||(u?1:0))*Math.sqrt(2),f=this.markerGroup.node().getBBox(),h=f.width,p=f.height;return(1-d/Math.max(h,p))*o},enumerable:!1,configurable:!0}),t.prototype.renderMarker=function(e){var t=this,n=this.attributes.marker,r=$le(this.attributes,"marker");this.markerGroup=e.maybeAppendByClassName(nue.markerGroup,"g").style("zIndex",0),ele(!!n,this.markerGroup,function(){var e,o=t.markerGroup.node(),i=null===(e=o.childNodes)||void 0===e?void 0:e[0],a="string"==typeof n?new Fle({style:{symbol:n},className:nue.marker.name}):n();i?a.nodeName===i.nodeName?i instanceof Fle?i.update(Dz(Dz({},r),{symbol:n})):(!function(e,t){var n,r,o=t.attributes;try{for(var i=Fz(Object.entries(o)),a=i.next();!a.done;a=i.next()){var l=Wz(a.value,2),s=l[0],c=l[1];"id"!==s&&"className"!==s&&e.attr(s,c)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(i,a),wle(i).styles(r)):(i.remove(),wle(a).attr("className",nue.marker.name).styles(r),o.appendChild(a)):(a instanceof Fle||wle(a).attr("className",nue.marker.name).styles(r),o.appendChild(a)),t.markerGroup.node().scale(1/t.markerGroup.node().getScale()[0]);var l=ble(t.markerGroup.node(),t.scaleSize);t.markerGroup.node().style._transform="scale(".concat(l,")")})},t.prototype.renderLabel=function(e){var t=$le(this.attributes,"label"),n=t.text,r=zz(t,["text"]);this.labelGroup=e.maybeAppendByClassName(nue.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(nue.label,function(){return Jae(n)}).styles(r)},t.prototype.renderValue=function(e){var t=this,n=$le(this.attributes,"value"),r=n.text,o=zz(n,["text"]);this.valueGroup=e.maybeAppendByClassName(nue.valueGroup,"g").style("zIndex",0),ele(this.showValue,this.valueGroup,function(){t.valueGroup.maybeAppendByClassName(nue.value,function(){return Jae(r)}).styles(o)})},t.prototype.createPoptip=function(){var e=this.attributes.poptip||{};e.render;var t=zz(e,["render"]),n=new tue({style:Vae(rue,t)});return this.poptipGroup=n,n},t.prototype.bindPoptip=function(e){var t=this,n=this.attributes.poptip;n&&(this.poptipGroup||this.createPoptip()).bind(e,function(){var e=t.attributes,r=e.labelText,o=e.valueText,i=e.markerFill,a="string"==typeof r?r:null==r?void 0:r.attr("text"),l="string"==typeof o?o:null==o?void 0:o.attr("text");if("function"==typeof n.render)return{html:n.render({label:a,value:l,color:i})};var s="";return"string"!=typeof a&&"number"!=typeof a||(s+='<div class="component-poptip-label">'.concat(a,"</div>")),"string"!=typeof l&&"number"!=typeof l||(s+='<div class="component-poptip-value">'.concat(l,"</div>")),{html:s}})},t.prototype.renderFocus=function(e){var t=this,n=this.attributes,r=n.focus,o={x:0,y:0,size:n.focusMarkerSize,opacity:.6,symbol:"focus",stroke:"#aaaaaa",lineWidth:1};xz(r)||(this.focusGroup=e.maybeAppendByClassName(nue.focusGroup,"g").style("zIndex",0),ele(r,this.focusGroup,function(){var n=new Fle({style:Dz(Dz({},o),{symbol:"focus"})}),r=new BX({style:{r:o.size/2,fill:"transparent"}}),i=t.focusGroup.node();i.appendChild(r),i.appendChild(n),n.update({opacity:0}),e.node().addEventListener("pointerenter",function(){n.update({opacity:1})}),e.node().addEventListener("pointerleave",function(){n.update({opacity:0})})}))},t.prototype.renderPoptip=function(e){var t=this;this.attributes.poptip&&[e.maybeAppendByClassName(nue.value,"g").node(),e.maybeAppendByClassName(nue.label,"g").node()].forEach(function(e){e&&t.bindPoptip(e)})},t.prototype.renderBackground=function(e){var t=this.shape,n=t.width,r=t.height,o=$le(this.attributes,"background");this.background=e.maybeAppendByClassName(nue.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(nue.background,"rect").styles(Dz({width:n,height:r},o))},t.prototype.adjustLayout=function(){var e=this.layout,t=e.labelWidth,n=e.valueWidth,r=e.height,o=Wz(e.position,4),i=o[0],a=o[1],l=o[2],s=o[3],c=r/2;this.markerGroup.styles({transform:"translate(".concat(i,", ").concat(c,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(a,", ").concat(c,")")}),this.focusGroup&&this.focusGroup.styles({transform:"translate(".concat(s,", ").concat(c,")")}),Zae(this.labelGroup.select(nue.label.class).node(),Math.ceil(t)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(l,", ").concat(c,")")}),Zae(this.valueGroup.select(nue.value.class).node(),Math.ceil(n)))},t.prototype.render=function(e,t){var n=wle(t),r=e.x,o=void 0===r?0:r,i=e.y,a=void 0===i?0:i;n.styles({transform:"translate(".concat(o,", ").concat(a,")")}),this.renderMarker(n),this.renderLabel(n),this.renderValue(n),this.renderBackground(n),this.renderPoptip(n),this.renderFocus(n),this.adjustLayout()},t}(Ale),iue=Wae({page:"item-page",navigator:"navigator",item:"item"},"items"),aue=function(e,t,n){return void 0===n&&(n=!0),e?t(e):n},lue=function(e){function t(t){var n=e.call(this,t,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:_z,mouseenter:_z,mouseleave:_z})||this;return n.navigatorShape=[0,0],n}return Bz(t,e),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var e=this.attributes,t=e.gridRow,n=e.gridCol,r=e.data;if(!t&&!n)throw new Error("gridRow and gridCol can not be set null at the same time");return t&&n?[t,n]:t?[t,r.length]:[r.length,n]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderData",{get:function(){var e=this.attributes,t=e.data,n=e.layout,r=e.poptip,o=e.focus,i=e.focusMarkerSize,a=$le(this.attributes,"item");return t.map(function(e,l){var s=e.id,c=void 0===s?l:s,u=e.label,d=e.value;return{id:"".concat(c),index:l,style:Dz({layout:n,labelText:u,valueText:d,poptip:r,focus:o,focusMarkerSize:i},Object.fromEntries(Object.entries(a).map(function(n){var r=Wz(n,2);return[r[0],Bae(r[1],[e,l,t])]})))}})},enumerable:!1,configurable:!0}),t.prototype.getGridLayout=function(){var e=this,t=this.attributes,n=t.orientation,r=t.width,o=t.rowPadding,i=t.colPadding,a=Wz(this.navigatorShape,1)[0],l=Wz(this.grid,2),s=l[0],c=l[1],u=c*s,d=0;return this.pageViews.children.map(function(t,l){var f,h,p=Math.floor(l/u),g=l%u,m=e.ifHorizontal(c,s),v=[Math.floor(g/m),g%m];"vertical"===n&&v.reverse();var y=Wz(v,2),b=y[0],x=y[1],w=(r-a-(c-1)*i)/c,C=t.getBBox().height,S=Wz([0,0],2),E=S[0],O=S[1];return"horizontal"===n?(E=(f=Wz([d,b*(C+o)],2))[0],O=f[1],d=x===c-1?0:d+w+i):(E=(h=Wz([x*(w+i),d],2))[0],O=h[1],d=b===s-1?0:d+C+o),{page:p,index:l,row:b,col:x,pageIndex:g,width:w,height:C,x:E,y:O}})},t.prototype.getFlexLayout=function(){var e=this.attributes,t=e.width,n=e.height,r=e.rowPadding,o=e.colPadding,i=Wz(this.navigatorShape,1)[0],a=Wz(this.grid,2),l=a[0],s=a[1],c=Wz([t-i,n],2),u=c[0],d=c[1],f=Wz([0,0,0,0,0,0,0,0],8),h=f[0],p=f[1],g=f[2],m=f[3],v=f[4],y=f[5],b=f[6],x=f[7];return this.pageViews.children.map(function(e,t){var n,i,a,c,f=e.getBBox(),w=f.width,C=f.height,S=0===b?0:o,E=b+S+w;return E<=u&&aue(v,function(e){return e<s})?(n=Wz([b+S,x,E],3),h=n[0],p=n[1],b=n[2],{width:w,height:C,x:h,y:p,page:g,index:t,pageIndex:m++,row:y,col:v++}):(i=Wz([y+1,0,0,x+C+r],4),y=i[0],v=i[1],b=i[2],(x=i[3])+C<=d&&aue(y,function(e){return e<l})?(a=Wz([b,x,w],3),h=a[0],p=a[1],b=a[2],{width:w,height:C,x:h,y:p,page:g,index:t,pageIndex:m++,row:y,col:v++}):(c=Wz([0,0,w,0,g+1,0,0,0],8),h=c[0],p=c[1],b=c[2],x=c[3],g=c[4],m=c[5],y=c[6],v=c[7],{width:w,height:C,x:h,y:p,page:g,index:t,pageIndex:m++,row:y,col:v++}))})},Object.defineProperty(t.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var e="grid"===this.attributes.layout?this.getGridLayout:this.getFlexLayout,t=e.call(this);return t.slice(-1)[0].page>0?(this.navigatorShape=[55,0],e.call(this)):t},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(e,t){return Yce(this.attributes.orientation,e,t)},t.prototype.flattenPage=function(e){e.querySelectorAll(iue.item.class).forEach(function(t){e.appendChild(t)}),e.querySelectorAll(iue.page.class).forEach(function(t){e.removeChild(t).destroy()})},t.prototype.renderItems=function(e){var t=this.attributes,n=t.click,r=t.mouseenter,o=t.mouseleave;this.flattenPage(e);var i=this.dispatchCustomEvent.bind(this);wle(e).selectAll(iue.item.class).data(this.renderData,function(e){return e.id}).join(function(e){return e.append(function(e){var t=e.style;return new oue({style:t})}).attr("className",iue.item.name).on("click",function(){null==n||n(this),i("itemClick",{item:this})}).on("pointerenter",function(){null==r||r(this),i("itemMouseenter",{item:this})}).on("pointerleave",function(){null==o||o(this),i("itemMouseleave",{item:this})})},function(e){return e.each(function(e){var t=e.style;this.update(t)})},function(e){return e.remove()})},t.prototype.relayoutNavigator=function(){var e,t=this.attributes,n=t.layout,r=t.width,o=(null===(e=this.pageViews.children[0])||void 0===e?void 0:e.getBBox().height)||0,i=Wz(this.navigatorShape,2),a=i[0],l=i[1];this.navigator.update("grid"===n?{pageWidth:r-a,pageHeight:o-l}:{})},t.prototype.adjustLayout=function(){var e,t,n=this,r=Object.entries((e=this.itemsLayout,t="page",e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{}))).map(function(e){var t=Wz(e,2);return{page:t[0],layouts:t[1]}}),o=Gz([],Wz(this.navigator.getContainer().children),!1);r.forEach(function(e){var t=e.layouts,r=n.pageViews.appendChild(new FX({className:iue.page.name}));t.forEach(function(e){var t=e.x,n=e.y,i=e.index,a=e.width,l=e.height,s=o[i];r.appendChild(s),Nz(s,"__layout__",e),s.update({x:t,y:n,width:a,height:l})})}),this.relayoutNavigator()},t.prototype.renderNavigator=function(e){var t=this.attributes.orientation,n=$le(this.attributes,"nav"),r=Vae({orientation:t},n),o=this;return e.selectAll(iue.navigator.class).data(["nav"]).join(function(e){return e.append(function(){return new Xce({style:r})}).attr("className",iue.navigator.name).each(function(){o.navigator=this})},function(e){return e.each(function(){this.update(r)})},function(e){return e.remove()}),this.navigator},t.prototype.getBBox=function(){return this.navigator.getBBox()},t.prototype.render=function(e,t){var n=this.attributes.data;if(n&&0!==n.length){var r=this.renderNavigator(wle(t));this.renderItems(r.getContainer()),this.adjustLayout()}},t.prototype.dispatchCustomEvent=function(e,t){var n=new Bq(e,{detail:t});this.dispatchEvent(n)},t}(Ale),sue=Wae({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),cue={showLabel:!0,formatter:function(e){return e.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},uue=function(e){function t(t){return e.call(this,t,cue)||this}return Bz(t,e),t.prototype.render=function(e,t){var n=wle(t).maybeAppendByClassName(sue.markerGroup,"g");this.renderMarker(n);var r=wle(t).maybeAppendByClassName(sue.labelGroup,"g");this.renderLabel(r)},t.prototype.renderMarker=function(e){var t=this,n=this.attributes,r=n.orientation,o=n.markerSymbol,i=void 0===o?Yce(r,"horizontalHandle","verticalHandle"):o;ele(!!i,e,function(e){var n=$le(t.attributes,"marker"),r=Dz({symbol:i},n);t.marker=e.maybeAppendByClassName(sue.marker,function(){return new Fle({style:r})}).update(r)})},t.prototype.renderLabel=function(e){var t=this,n=this.attributes,r=n.showLabel,o=n.orientation,i=n.spacing,a=void 0===i?0:i,l=n.formatter;ele(r,e,function(e){var n,r=$le(t.attributes,"label"),i=r.text,s=zz(r,["text"]),c=(null===(n=e.select(sue.marker.class))||void 0===n?void 0:n.node().getBBox())||{},u=c.width,d=void 0===u?0:u,f=c.height,h=Wz(Yce(o,[0,(void 0===f?0:f)+a,"center","top"],[d+a,0,"start","middle"]),4),p=h[0],g=h[1],m=h[2],v=h[3];e.maybeAppendByClassName(sue.label,"text").styles(Dz(Dz({},s),{x:p,y:g,text:l(i).toString(),textAlign:m,textBaseline:v}))})},t}(Ale),due={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},fue=Vae({},due,{}),hue=Vae({},due,Ile(cue,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),pue=Wae({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),gue=function(e){function t(t){return e.call(this,t,fue)||this}return Bz(t,e),t.prototype.renderTitle=function(e,t,n){var r=this.attributes,o=r.showTitle,i=r.titleText,a=Wz(Nle($le(this.attributes,"title")),2),l=a[0],s=a[1];this.titleGroup=e.maybeAppendByClassName(pue.titleGroup,"g").styles(s);var c=Dz(Dz({width:t,height:n},l),{text:o?i:""});this.title=this.titleGroup.maybeAppendByClassName(pue.title,function(){return new Vce({style:c})}).update(c)},t.prototype.renderItems=function(e,t){var n=t.x,r=t.y,o=t.width,i=t.height,a=Wz(Nle($le(this.attributes,"title",!0)),2),l=a[0],s=a[1],c=Dz(Dz({},l),{width:o,height:i,x:0,y:0});this.itemsGroup=e.maybeAppendByClassName(pue.itemsGroup,"g").styles(Dz(Dz({},s),{transform:"translate(".concat(n,", ").concat(r,")")}));var u=this;this.itemsGroup.selectAll(pue.items.class).data(["items"]).join(function(e){return e.append(function(){return new lue({style:c})}).attr("className",pue.items.name).each(function(){u.items=wle(this)})},function(e){return e.update(c)},function(e){return e.remove()})},t.prototype.adjustLayout=function(){if(this.attributes.showTitle){var e=this.title.node().getAvailableSpace(),t=e.x,n=e.y;this.itemsGroup.node().style.transform="translate(".concat(t,", ").concat(n,")")}},Object.defineProperty(t.prototype,"availableSpace",{get:function(){var e=this.attributes,t=e.showTitle,n=e.width,r=e.height;return t?this.title.node().getAvailableSpace():new jae(0,0,n,r)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var t,n,r=null===(t=this.title)||void 0===t?void 0:t.node(),o=null===(n=this.items)||void 0===n?void 0:n.node();return r&&o?function(e,t){var n=e.attributes,r=n.position,o=n.spacing,i=n.inset,a=n.text,l=e.getBBox(),s=t.getBBox(),c=Rle(r),u=Wz(Cle(a?o:0),4),d=u[0],f=u[1],h=u[2],p=u[3],g=Wz(Cle(i),4),m=g[0],v=g[1],y=g[2],b=g[3],x=Wz([p+f,d+h],2),w=x[0],C=x[1],S=Wz([b+v,m+y],2),E=S[0],O=S[1];if("l"===c[0])return new jae(l.x,l.y,s.width+l.width+w+E,Math.max(s.height+O,l.height));if("t"===c[0])return new jae(l.x,l.y,Math.max(s.width+E,l.width),s.height+l.height+C+O);var k=Wz([t.attributes.width||s.width,t.attributes.height||s.height],2),M=k[0],$=k[1];return new jae(s.x,s.y,M+l.width+w+E,$+l.height+C+O)}(r,o):e.prototype.getBBox.call(this)},t.prototype.render=function(e,t){var n=this.attributes,r=n.width,o=n.height,i=n.x,a=void 0===i?0:i,l=n.y,s=void 0===l?0:l,c=wle(t);t.style.transform="translate(".concat(a,", ").concat(s,")"),this.renderTitle(c,r,o),this.renderItems(c,this.availableSpace),this.adjustLayout()},t}(Ale),mue={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(e){return e.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},vue=Wae({background:"background",labelGroup:"label-group",label:"label"},"indicator"),yue=function(e){function t(t){var n=e.call(this,t,mue)||this;return n.point=[0,0],n.group=n.appendChild(new FX({})),n.isMutationObserved=!0,n}return Bz(t,e),t.prototype.renderBackground=function(){if(this.label){var e=this.attributes,t=e.position,n=Wz(Cle(e.padding),4),r=n[0],o=n[1],i=n[2],a=n[3],l=this.label.node().getLocalBounds(),s=l.min,c=l.max,u=new jae(s[0]-a,s[1]-r,c[0]+o-s[0]+a,c[1]+i-s[1]+r),d=this.getPath(t,u),f=$le(this.attributes,"background");this.background=wle(this.group).maybeAppendByClassName(vue.background,"path").styles(Dz(Dz({},f),{d:d})),this.group.appendChild(this.label.node())}},t.prototype.renderLabel=function(){var e=this.attributes,t=e.formatter,n=e.labelText,r=Wz(Nle($le(this.attributes,"label")),2),o=r[0],i=r[1];o.text;var a=zz(o,["text"]);(this.label=wle(this.group).maybeAppendByClassName(vue.labelGroup,"g").styles(i),n)&&this.label.maybeAppendByClassName(vue.label,function(){return Jae(t(n))}).style("text",t(n).toString()).selectAll("text").styles(a)},t.prototype.adjustLayout=function(){var e=Wz(this.point,2),t=e[0],n=e[1],r=this.attributes,o=r.x,i=r.y;this.group.attr("transform","translate(".concat(o-t,", ").concat(i-n,")"))},t.prototype.getPath=function(e,t){var n=this.attributes.radius,r=t.x,o=t.y,i=t.width,a=t.height,l=[["M",r+n,o],["L",r+i-n,o],["A",n,n,0,0,1,r+i,o+n],["L",r+i,o+a-n],["A",n,n,0,0,1,r+i-n,o+a],["L",r+n,o+a],["A",n,n,0,0,1,r,o+a-n],["L",r,o+n],["A",n,n,0,0,1,r+n,o],["Z"]],s={top:4,right:6,bottom:0,left:2}[e],c=this.createCorner([l[s].slice(-2),l[s+1].slice(-2)]);return l.splice.apply(l,Gz([s+1,1],Wz(c),!1)),l[0][0]="M",l},t.prototype.createCorner=function(e,t){void 0===t&&(t=10);var n=Ele.apply(void 0,Gz([],Wz(e),!1)),r=Wz(e,2),o=Wz(r[0],2),i=o[0],a=o[1],l=Wz(r[1],2),s=l[0],c=l[1],u=Wz(n?[s-i,[i,s]]:[c-a,[a,c]],2),d=u[0],f=Wz(u[1],2),h=f[0],p=f[1],g=d/2,m=t*(d/Math.abs(d)),v=m/2,y=m*Math.sqrt(3)/2*.8,b=Wz([h,h+g-v,h+g,h+g+v,p],5),x=b[0],w=b[1],C=b[2],S=b[3],E=b[4];return n?(this.point=[C,a-y],[["L",x,a],["L",w,a],["L",C,a-y],["L",S,a],["L",E,a]]):(this.point=[i+y,C],[["L",i,x],["L",i,w],["L",i+y,C],["L",i,S],["L",i,E]])},t.prototype.applyVisibility=function(){"hidden"===this.attributes.visibility?Nae(this):Iae(this)},t.prototype.bindEvents=function(){this.label.on(Xq.BOUNDS_CHANGED,this.renderBackground)},t.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},t}(Ale);function bue(e,t){var n=Wz(function(e,t){for(var n=1;n<e.length;n+=1){var r=e[n-1],o=e[n];if(t>=r&&t<=o)return[r,o]}return[t,t]}(e,t),2),r=n[0],o=n[1];return{tick:t>(r+o)/2?o:r,range:[r,o]}}var xue=Wae({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function wue(e){var t=e.orientation,n=e.size,r=e.length;return Yce(t,[r,n],[n,r])}function Cue(e){var t=e.type,n=Wz(wue(e),2),r=n[0],o=n[1];return"size"===t?[["M",0,o],["L",0+r,0],["L",0+r,o],["Z"]]:[["M",0,o],["L",0,0],["L",0+r,0],["L",0+r,o],["Z"]]}function Sue(e){return Cue(e)}function Eue(e){var t,n=e.orientation,r=e.color,o=e.block,i=e.partition;if(UD(r)){t=new Array(20).fill(0).map(function(e,t,n){return r(t/(n.length-1))})}else t=r;var a=t.length,l=t.map(function(e){return dG(e).toString()});return a?1===a?l[0]:o?function(e,t,n){var r=Array.from(t),o=e.length;return new Array(o).fill(0).reduce(function(t,n,i){var a=r[i%r.length];return t+" ".concat(e[i],":").concat(a).concat(i<o-1?" ".concat(e[i+1],":").concat(a):"")},"l(".concat("horizontal"===n?"0":"270",")"))}(i,l,n):l.reduce(function(e,t,n){return e+" ".concat(n/(a-1),":").concat(t)},"l(".concat(Yce(n,"0","270"),")")):""}function Oue(e){var t=e.orientation,n=e.range;if(!n)return[];var r=Wz(wue(e),2),o=r[0],i=r[1],a=Wz(n,2),l=a[0],s=a[1],c=Yce(t,l*o,0),u=Yce(t,0,l*i),d=Yce(t,s*o,o),f=Yce(t,i,s*i);return[["M",c,u],["L",c,f],["L",d,f],["L",d,u],["Z"]]}var kue=function(e){function t(t){return e.call(this,t,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return Bz(t,e),t.prototype.render=function(e,t){!function(e,t){var n=$le(t,"track");e.maybeAppendByClassName(xue.track,"path").styles(Dz({d:Cue(t)},n))}(wle(t).maybeAppendByClassName(xue.trackGroup,"g"),e),function(e,t){var n=$le(t,"selection"),r=Eue(t),o=e.maybeAppendByClassName(xue.selection,"path").styles(Dz({d:Sue(t),fill:r},n)),i=o.maybeAppendByClassName(xue.clipPath,"path").styles({d:Oue(t)}).node();o.style("clipPath",i)}(wle(t).maybeAppendByClassName(xue.selectionGroup,"g"),e)},t}(Ale);var Mue=function(e){function t(t){var n=e.call(this,t,hue)||this;return n.eventToOffsetScale=new bse({}),n.innerRibbonScale=new bse({}),n.cacheLabelBBox=null,n.cacheHandleBBox=null,n.onHovering=function(e){var t=n.attributes,r=t.data,o=t.block;e.stopPropagation();var i=n.getValueByCanvasPoint(e);if(o){var a=bue(r.map(function(e){return e.value}),i).range,l=n.getRealSelection(a);n.showIndicator((a[0]+a[1])/2,"".concat(l[0],"-").concat(l[1])),n.dispatchIndicated(i,a)}else{var s=n.getTickValue(i);n.showIndicator(s,"".concat(n.getRealValue(s))),n.dispatchIndicated(s)}},n.onDragStart=function(e){return function(t){t.stopPropagation(),n.attributes.slidable&&(n.target=e,n.prevValue=n.getTickValue(n.getValueByCanvasPoint(t)),document.addEventListener("mousemove",n.onDragging),document.addEventListener("touchmove",n.onDragging),document.addEventListener("mouseleave",n.onDragEnd),document.addEventListener("mouseup",n.onDragEnd),document.addEventListener("mouseup",n.onDragEnd),document.addEventListener("touchend",n.onDragEnd))}},n.onDragging=function(e){var t=n.target;n.updateMouse();var r=Wz(n.selection,2),o=r[0],i=r[1],a=n.getTickValue(n.getValueByCanvasPoint(e)),l=a-n.prevValue;"start"===t?o!==a&&n.updateSelection(a,i):"end"===t?i!==a&&n.updateSelection(o,a):"ribbon"===t&&0!==l&&(n.prevValue=a,n.updateSelection(l,l,!0))},n.onDragEnd=function(){n.style.cursor="pointer",document.removeEventListener("mousemove",n.onDragging),document.removeEventListener("touchmove",n.onDragging),document.removeEventListener("mouseup",n.onDragEnd),document.removeEventListener("touchend",n.onDragEnd)},n}return Bz(t,e),Object.defineProperty(t.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var e=this.attributes,t=e.width,n=e.height;return new jae(0,0,t,n)},t.prototype.render=function(e,t){var n=this,r=e.showLabel;this.renderTitle(wle(t));var o=this.availableSpace,i=o.x,a=o.y,l=wle(t).maybeAppendByClassName(pue.contentGroup,"g").styles({transform:"translate(".concat(i,", ").concat(a,")")});ele(!!r,l.maybeAppendByClassName(pue.labelGroup,"g").styles({zIndex:1}),function(e){n.renderLabel(e)});var s=l.maybeAppendByClassName(pue.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=l.maybeAppendByClassName(pue.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(s),this.renderIndicator(l),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(t.prototype,"range",{get:function(){var e=this.attributes,t=e.data,n=e.domain;return n?{min:n[0],max:n[1]}:function(e){return{min:Math.min.apply(Math,Gz([],Wz(e.map(function(e){return e.value})),!1)),max:Math.max.apply(Math,Gz([],Wz(e.map(function(e){return e.value})),!1))}}(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonScale",{get:function(){var e=this.range,t=e.min,n=e.max;return this.innerRibbonScale.update({domain:[t,n],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonRange",{get:function(){var e=Wz(this.selection,2),t=e[0],n=e[1],r=this.ribbonScale;return[r.map(t),r.map(n)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){var e=this.range,t=e.min,n=e.max,r=this.attributes.defaultValue,o=Wz(void 0===r?[t,n]:r,2);return[o[0],o[1]]},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(e,t){return Yce(this.attributes.orientation,"function"==typeof e?e():e,"function"==typeof t?t():t)},t.prototype.renderTitle=function(e){var t=this.attributes,n=t.showTitle,r=t.titleText,o=t.width,i=t.height,a=$le(this.attributes,"title"),l=Dz(Dz({},a),{width:o,height:i,text:r}),s=this;e.selectAll(pue.title.class).data(n?[r]:[]).join(function(e){return e.append(function(){return new Vce({style:l})}).attr("className",pue.title.name).each(function(){s.title=this})},function(e){return e.update(l)},function(e){return e.each(function(){s.title=void 0}).remove()})},Object.defineProperty(t.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var e=this.attributes,t=e.width,n=e.height;return new jae(0,0,t,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelFixedSpacing",{get:function(){return this.attributes.showTick?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelPosition",{get:function(){var e=this.attributes,t=e.orientation,n=e.labelDirection;return{vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}}[t][n]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelBBox",{get:function(){var e;if(!this.attributes.showLabel)return new jae(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var t=(null===(e=this.label.querySelector(Gse.labelGroup.class))||void 0===e?void 0:e.children.slice(-1)[0]).getBBox(),n=t.width,r=t.height;return this.cacheLabelBBox=new jae(0,0,n,r),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelShape",{get:function(){var e=this.attributes,t=e.showLabel,n=e.labelSpacing,r=void 0===n?0:n;if(!t)return{width:0,height:0,size:0,length:0};var o=this.labelBBox,i=o.width,a=o.height;return{width:i,height:a,size:this.ifHorizontal(a,i)+r+this.labelFixedSpacing,length:this.ifHorizontal(i,a)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonBBox",{get:function(){var e=this.attributes,t=e.showHandle,n=e.ribbonSize,r=this.availableSpace,o=r.width,i=r.height,a=this.labelShape,l=a.size,s=a.length,c=Wz(this.ifHorizontal([i,o],[o,i]),2),u=c[0],d=c[1],f=t?this.handleShape:{size:0,length:0},h=f.size,p=f.length,g=this.handleOffsetRatio,m=0,v=this.labelPosition;m=n||(["bottom","right"].includes(v)?Math.min(u-l,(u-h)/g):u*(1-g)>h?Math.max(u-l,0):Math.max((u-l-h)/g,0));var y=Math.max(p,s),b=d-y,x=Wz(this.ifHorizontal([b,m],[m,b]),2),w=x[0],C=x[1],S=["top","left"].includes(v)?l:0,E=Wz(this.ifHorizontal([y/2,S],[S,y/2]),2),O=E[0],k=E[1];return new jae(O,k,w,C)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonShape",{get:function(){var e=this.ribbonBBox,t=e.width,n=e.height;return this.ifHorizontal({size:n,length:t},{size:t,length:n})},enumerable:!1,configurable:!0}),t.prototype.renderRibbon=function(e){var t=this.attributes,n=t.data,r=t.type,o=t.orientation,i=t.color,a=t.block,l=$le(this.attributes,"ribbon"),s=this.range,c=s.min,u=s.max,d=this.ribbonBBox,f=d.x,h=d.y,p=this.ribbonShape,g=p.length,m=p.size,v=Vae({transform:"translate(".concat(f,", ").concat(h,")"),length:g,size:m,type:r,orientation:o,color:i,block:a,partition:n.map(function(e){return(e.value-c)/(u-c)}),range:this.ribbonRange},l);this.ribbon=e.maybeAppendByClassName(pue.ribbon,function(){return new kue({style:v})}).update(v)},t.prototype.getHandleClassName=function(e){return"".concat(pue.prefix("".concat(e,"-handle")))},t.prototype.renderHandles=function(){var e=this.attributes,t=e.showHandle,n=e.orientation,r=$le(this.attributes,"handle"),o=Wz(this.selection,2),i=o[0],a=o[1],l=Dz(Dz({},r),{orientation:n}),s=r.shape,c="basic"===(void 0===s?"slider":s)?uue:zse,u=this;this.handlesGroup.selectAll(pue.handle.class).data(t?[{value:i,type:"start"},{value:a,type:"end"}]:[],function(e){return e.type}).join(function(e){return e.append(function(){return new c({style:l})}).attr("className",function(e){var t=e.type;return"".concat(pue.handle," ").concat(u.getHandleClassName(t))}).each(function(e){var t=e.type,n=e.value;this.update({labelText:n});var r="".concat(t,"Handle");u[r]=this,this.addEventListener("pointerdown",u.onDragStart(t))})},function(e){return e.update(l).each(function(e){var t=e.value;this.update({labelText:t})})},function(e){return e.each(function(e){var t=e.type,n="".concat(t,"Handle");u[n]=void 0}).remove()})},t.prototype.adjustHandles=function(){var e=Wz(this.selection,2),t=e[0],n=e[1];this.setHandlePosition("start",t),this.setHandlePosition("end",n)},Object.defineProperty(t.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new jae(0,0,0,0);var e=this.startHandle.getBBox(),t=e.width,n=e.height,r=this.endHandle.getBBox(),o=r.width,i=r.height,a=Wz([Math.max(t,o),Math.max(n,i)],2),l=a[0],s=a[1];return this.cacheHandleBBox=new jae(0,0,l,s),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handleShape",{get:function(){var e=this.handleBBox,t=e.width,n=e.height,r=Wz(this.ifHorizontal([n,t],[t,n]),2);return{width:t,height:n,size:r[0],length:r[1]}},enumerable:!1,configurable:!0}),t.prototype.setHandlePosition=function(e,t){var n=this.attributes.handleFormatter,r=this.ribbonBBox,o=r.x,i=r.y,a=this.ribbonShape.size,l=this.getOffset(t),s=Wz(this.ifHorizontal([o+l,i+a*this.handleOffsetRatio],[o+a*this.handleOffsetRatio,i+l]),2),c=s[0],u=s[1],d=this.handlesGroup.select(".".concat(this.getHandleClassName(e))).node();null==d||d.update({transform:"translate(".concat(c,", ").concat(u,")"),formatter:n})},t.prototype.renderIndicator=function(e){var t=$le(this.attributes,"indicator");this.indicator=e.maybeAppendByClassName(pue.indicator,function(){return new yue({})}).update(t)},Object.defineProperty(t.prototype,"labelData",{get:function(){var e=this;return this.attributes.data.reduce(function(t,n,r,o){var i,a,l=null!==(i=null==n?void 0:n.id)&&void 0!==i?i:r.toString();if(t.push(Dz(Dz({},n),{id:l,index:r,type:"value",label:null!==(a=null==n?void 0:n.label)&&void 0!==a?a:n.value.toString(),value:e.ribbonScale.map(n.value)})),r<o.length-1){var s=o[r+1],c=Wz([n.value,s.value],2),u=c[0],d=c[1],f=(u+d)/2;t.push(Dz(Dz({},n),{id:l,index:r,type:"range",range:[u,d],label:[u,d].join("~"),value:e.ribbonScale.map(f)}))}return t},[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelStyle",{get:function(){var e=Wz(["center","middle"],2),t=e[0],n=e[1],r=this.labelPosition;return"top"===r?n="bottom":"bottom"===r?n="top":"left"===r?t="end":"right"===r&&(t="start"),{labelTextAlign:t,labelTextBaseline:n}},enumerable:!1,configurable:!0}),t.prototype.renderLabel=function(e){var t=this.attributes,n=t.showTick,r=void 0!==n&&n,o=t.labelFilter,i=t.labelFormatter,a=$le(this.attributes,"tick"),l=$le(this.attributes,"label"),s=l.align,c=Vae(Dz({showLine:!1,showGrid:!1,showTick:r,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),Ile(a,"tick"),Ile(l,"label"),{data:this.labelData}),u={tickFilter:function(e,t,n){return"value"===(null==e?void 0:e.type)&&(!o||o(e,e.index,n.filter(function(e){return"value"!==e.type})))},labelFilter:function(e,t,n){return(null==e?void 0:e.type)===s&&(!o||o(e,e.index,n.filter(function(e){return e.type===s})))},labelFormatter:i},d=Dz(Dz(Dz({},c),u),{labelOverlap:[{type:"hide"}]});this.label=e.maybeAppendByClassName(pue.label,function(){return new Fce({style:d})}).node(),this.label.update(d,!1)},Object.defineProperty(t.prototype,"labelAxisStyle",{get:function(){var e=this.attributes,t=e.showTick,n=e.labelDirection,r=e.labelSpacing,o=e.tickLength,i=this.ribbonShape.size,a=this.labelPosition,l=this.labelFixedSpacing,s=Wz([0,0,0],3),c=s[0],u=s[1],d=s[2],f=null!=o?o:i;return t?(d=f,u=l,"positive"===n?"right"===a?(c=f,d=f):"bottom"===a&&(c=d):"negative"===n&&("top"===a||"left"===a)&&(c=i)):"positive"===n?"right"===a?u=f:"bottom"===a&&(c=i+l,u=r):"negative"===n&&("left"===a||"top"===a)&&(u=r),{offset:c,spacing:u,tickLength:d}},enumerable:!1,configurable:!0}),t.prototype.adjustLabel=function(){if(this.attributes.showLabel){var e=this.ribbonBBox,t=e.x,n=e.y,r=e.width,o=e.height,i=this.labelAxisStyle,a=i.offset,l=i.spacing,s=i.tickLength,c=Wz(this.ifHorizontal([[t,n+a],[t+r,n+a]],[[t+a,n+o],[t+a,n]]),2),u=c[0],d=c[1];this.label.update({startPos:u,endPos:d,tickLength:s,labelSpacing:l},!1)}},t.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},t.prototype.showIndicator=function(e,t){if(void 0===t&&(t="".concat(e)),this.attributes.showIndicator&&"number"==typeof e){var n=this.range,r=n.min,o=n.max,i=this.ribbonBBox,a=i.x,l=i.y,s=cz(e,r,o),c=this.getOffset(s),u=this.ifHorizontal([c+a,l],[a,c+l]);this.indicator.update({x:u[0],y:u[1],position:this.ifHorizontal("top","left"),labelText:t}),Iae(this.indicator.node())}else this.hideIndicator()},t.prototype.hideIndicator=function(){Nae(this.indicator.node())},t.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},t.prototype.setSelection=function(e,t){this.updateSelection(e,t)},t.prototype.updateSelection=function(e,t,n){var r;void 0===n&&(n=!1);var o=Wz(this.selection,2),i=o[0],a=o[1],l=Wz([e,t],2),s=l[0],c=l[1];n&&(s+=i,c+=a);var u=this.range;r=Wz(function(e,t,n){var r,o=Wz(e,2),i=o[0],a=o[1],l=Wz(t,2),s=l[0],c=l[1],u=Wz(n,2),d=u[0],f=u[1],h=Wz([s,c],2),p=h[0],g=h[1],m=g-p;return p>g&&(p=(r=Wz([g,p],2))[0],g=r[1]),m>a-i?[i,a]:p<i?d===i&&f===g?[i,g]:[i,m+i]:g>a?f===a&&d===p?[p,a]:[a-m,a]:[p,g]}([u.min,u.max],[s,c],this.selection),2),s=r[0],c=r[1],this.update({defaultValue:[s,c]}),this.dispatchSelection()},Object.defineProperty(t.prototype,"step",{get:function(){var e=this.attributes.step,t=void 0===e?1:e,n=this.range,r=n.min,o=n.max;return xz(t)?hle(.01*(o-r),0):t},enumerable:!1,configurable:!0}),t.prototype.getTickValue=function(e){var t=this.attributes,n=t.data,r=t.block,o=this.range.min;return r?bue(n.map(function(e){return e.value}),e).tick:function(e,t,n){return n+Math.round((e-n)/t)*t}(e,this.step,o)},t.prototype.getValueByCanvasPoint=function(e){var t=this.range,n=t.min,r=t.max,o=Wz(this.ribbon.node().getPosition(),2),i=o[0],a=o[1],l=this.ifHorizontal(i,a),s=this.ifHorizontal.apply(this,Gz([],Wz(Qae(e)),!1))-l;return cz(this.getOffset(s,!0),n,r)},t.prototype.getOffset=function(e,t){void 0===t&&(t=!1);var n=this.range,r=n.min,o=n.max,i=this.ribbonShape.length,a=this.eventToOffsetScale;return a.update({domain:[r,o],range:[0,i]}),t?a.invert(e):a.map(e)},t.prototype.getRealSelection=function(e){var t=this.range.max,n=Wz(e,2),r=n[0],o=n[1];return this.ifHorizontal([r,o],[t-o,t-r])},t.prototype.getRealValue=function(e){var t=this.range.max;return this.ifHorizontal(e,t-e)},t.prototype.dispatchSelection=function(){var e=this.getRealSelection(this.selection),t=new Bq("valuechange",{detail:{value:e}});this.dispatchEvent(t)},t.prototype.dispatchIndicated=function(e,t){var n=this,r=this.range.max,o=this.ifHorizontal(function(){return{value:e,range:t}},function(){return{value:r-e,range:t?n.getRealSelection(t):void 0}}),i=new Bq("indicate",{detail:o});this.dispatchEvent(i)},t}(Ale);function $ue(e){return void 0===e&&(e=""),{CONTAINER:"".concat(e,"tooltip"),TITLE:"".concat(e,"tooltip-title"),LIST:"".concat(e,"tooltip-list"),LIST_ITEM:"".concat(e,"tooltip-list-item"),NAME:"".concat(e,"tooltip-list-item-name"),MARKER:"".concat(e,"tooltip-list-item-marker"),NAME_LABEL:"".concat(e,"tooltip-list-item-name-label"),VALUE:"".concat(e,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(e,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(e,"tooltip-crosshair-y")}}var Iue={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function Nue(e){var t;void 0===e&&(e="");var n=$ue(e);return(t={})[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},t[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},t[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},t[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},t[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},t[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},t[".".concat(n.NAME_LABEL)]=Dz({flex:1},Iue),t[".".concat(n.VALUE)]=Dz({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},Iue),t[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t}var Tue=function(e){function t(t){var n,r,o=this,i=null===(r=null===(n=t.style)||void 0===n?void 0:n.template)||void 0===r?void 0:r.prefixCls,a=$ue(i);return(o=e.call(this,t,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(a.CONTAINER,'"></div>'),title:'<div class="'.concat(a.TITLE,'"></div>'),item:'<li class="'.concat(a.LIST_ITEM,'" data-index={index}>\n        <span class="').concat(a.NAME,'">\n          <span class="').concat(a.MARKER,'" style="background:{color}"></span>\n          <span class="').concat(a.NAME_LABEL,'" title="{name}">{name}</span>\n        </span>\n        <span class="').concat(a.VALUE,'" title="{value}">{value}</span>\n      </li>')},style:Nue(i)})||this).timestamp=-1,o.prevCustomContentKey=o.attributes.contentKey,o.initShape(),o.render(o.attributes,o),o}return Bz(t,e),Object.defineProperty(t.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.element},Object.defineProperty(t.prototype,"elementSize",{get:function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HTMLTooltipItemsElements",{get:function(){var e=this.attributes,t=e.data,n=e.template;return t.map(function(e,t){var r,o,i=e.name,a=void 0===i?"":i,l=e.color,s=void 0===l?"black":l,c=e.index,u=zz(e,["name","color","index"]),d=Dz({name:a,color:s,index:null!=c?c:t},u);return NH((r=n.item,o=d,r&&o?r.replace(/\\?\{([^{}]+)\}/g,function(e,t){return"\\"===e.charAt(0)?e.slice(1):void 0===o[t]?"":o[t]}):r))})},enumerable:!1,configurable:!0}),t.prototype.render=function(e,t){this.renderHTMLTooltipElement(),this.updatePosition()},t.prototype.destroy=function(){var t;null===(t=this.element)||void 0===t||t.remove(),e.prototype.destroy.call(this)},t.prototype.show=function(e,t){var n=this;if(void 0!==e&&void 0!==t){var r=function(){n.attributes.x=null!=e?e:n.attributes.x,n.attributes.y=null!=t?t:n.attributes.y,n.updatePosition()};"hidden"===this.element.style.visibility?this.closeTransition(r):r()}this.element.style.visibility="visible"},t.prototype.hide=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.attributes.enterable&&this.isCursorEntered(e,t)||(this.element.style.visibility="hidden")},t.prototype.initShape=function(){var e=this.attributes.template;this.element=NH(e.container),this.id&&this.element.setAttribute("id",this.id)},t.prototype.renderCustomContent=function(){if(void 0===this.prevCustomContentKey||this.prevCustomContentKey!==this.attributes.contentKey){this.prevCustomContentKey=this.attributes.contentKey;var e=this.attributes.content;e&&("string"==typeof e?this.element.innerHTML=e:Lle(this.element,e))}},t.prototype.renderHTMLTooltipElement=function(){var e,t,n=this.attributes,r=n.template,o=n.title,i=n.enterable,a=n.style,l=n.content,s=$ue(r.prefixCls),c=this.element;if(this.element.style.pointerEvents=i?"auto":"none",l)this.renderCustomContent();else{o?(c.innerHTML=r.title,c.getElementsByClassName(s.TITLE)[0].innerHTML=o):null===(t=null===(e=c.getElementsByClassName(s.TITLE))||void 0===e?void 0:e[0])||void 0===t||t.remove();var u=this.HTMLTooltipItemsElements,d=document.createElement("ul");d.className=s.LIST,Lle(d,u);var f=this.element.querySelector(".".concat(s.LIST));f?f.replaceWith(d):c.appendChild(d)}!function(e,t){Object.entries(t).forEach(function(t){var n=Wz(t,2),r=n[0],o=n[1];Gz([e],Wz(e.querySelectorAll(r)),!1).filter(function(e){return e.matches(r)}).forEach(function(e){e&&(e.style.cssText+=Object.entries(o).reduce(function(e,t){return"".concat(e).concat(t.join(":"),";")},""))})})}(c,a)},t.prototype.getRelativeOffsetFromCursor=function(e){var t=this.attributes,n=t.position,r=t.offset,o=(e||n).split("-"),i={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},a=this.elementSize,l=a.width,s=a.height,c=[-l/2,-s/2];return o.forEach(function(e){var t=Wz(c,2),n=t[0],o=t[1],a=Wz(i[e],2),u=a[0],d=a[1];c=[n+(l/2+r[0])*u,o+(s/2+r[1])*d]}),c},t.prototype.setOffsetPosition=function(e){var t=Wz(e,2),n=t[0],r=t[1],o=this.attributes,i=o.x,a=void 0===i?0:i,l=o.y,s=void 0===l?0:l,c=o.container,u=c.x,d=c.y;this.element.style.left="".concat(+a+u+n,"px"),this.element.style.top="".concat(+s+d+r,"px")},t.prototype.updatePosition=function(){var e=this.attributes.showDelay,t=void 0===e?60:e,n=Date.now();this.timestamp>0&&n-this.timestamp<t||(this.timestamp=n,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},t.prototype.autoPosition=function(e){var t=Wz(e,2),n=t[0],r=t[1],o=this.attributes,i=o.x,a=o.y,l=o.bounding,s=o.position;if(!l)return[n,r];var c=this.element,u=c.offsetWidth,d=c.offsetHeight,f=Wz([+i+n,+a+r],2),h=f[0],p=f[1],g={left:"right",right:"left",top:"bottom",bottom:"top"},m=l.x,v=l.y,y={left:h<m,right:h+u>m+l.width,top:p<v,bottom:p+d>v+l.height},b=[];s.split("-").forEach(function(e){y[e]?b.push(g[e]):b.push(e)});var x=b.join("-");return this.getRelativeOffsetFromCursor(x)},t.prototype.isCursorEntered=function(e,t){if(this.element){var n=this.element.getBoundingClientRect(),r=n.x,o=n.y,i=n.width,a=n.height;return new jae(r,o,i,a).isPointIn(e,t)}return!1},t.prototype.closeTransition=function(e){var t=this,n=this.element.style.transition;this.element.style.transition="none",e(),setTimeout(function(){t.element.style.transition=n},10)},t.tag="tooltip",t}(Ale),Lue=function(e){function t(t){var n=e.call(this,t)||this;n.layoutEvents=[Xq.BOUNDS_CHANGED,Xq.INSERTED,Xq.REMOVED],n.$margin=Cle(0),n.$padding=Cle(0);var r=t.style||{},o=r.margin,i=void 0===o?0:o,a=r.padding,l=void 0===a?0:a;return n.margin=i,n.padding=l,n.isMutationObserved=!0,n.bindEvents(),n}return Bz(t,e),Object.defineProperty(t.prototype,"margin",{get:function(){return this.$margin},set:function(e){this.$margin=Cle(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this.$padding},set:function(e){this.$padding=Cle(e)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var e=this.attributes,t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.width,a=e.height,l=Wz(this.$margin,4),s=l[0],c=l[1],u=l[2],d=l[3];return new jae(n-d,o-s,i+d+c,a+s+u)},t.prototype.appendChild=function(t,n){return t.isMutationObserved=!0,e.prototype.appendChild.call(this,t,n),t},t.prototype.getAvailableSpace=function(){var e=this.attributes,t=e.width,n=e.height,r=Wz(this.$padding,4),o=r[0],i=r[1],a=r[2],l=r[3],s=Wz(this.$margin,4),c=s[0],u=s[3];return new jae(l+u,o+c,t-l-i,n-o-a)},t.prototype.layout=function(){if(this.attributes.display&&this.isConnected&&!this.children.some(function(e){return!e.isConnected}))try{var e=this.attributes,t=e.x,n=e.y;this.style.transform="translate(".concat(t,", ").concat(n,")");var r=function(e,t,n){if(0===t.length)return[];var r={flex:ole,grid:ile},o=n.display in r?r[n.display]:null;return(null==o?void 0:o.call(null,e,t,n))||[]}(this.getAvailableSpace(),this.children.map(function(e){return e.getBBox()}),this.attributes);this.children.forEach(function(e,t){var n=r[t],o=n.x,i=n.y;e.style.transform="translate(".concat(o,", ").concat(i,")")})}catch(rw){}},t.prototype.bindEvents=function(){var e=this;this.layoutEvents.forEach(function(t){e.addEventListener(t,function(t){t.target&&(t.target.isMutationObserved=!0,e.layout())})})},t.prototype.attributeChangedCallback=function(e,t,n){"margin"===e?this.margin=n:"padding"===e&&(this.padding=n),this.layout()},t}(FX),Rue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function _ue(e){const{min:[t,n],max:[r,o]}=e.getLocalBounds();let i=0,a=0;return t>0&&(i=t),r<0&&(i=r),n>0&&(a=n),o<0&&(a=o),[i,a]}const Aue=gie(e=>{const t=e.attributes,{className:n,class:r,transform:o,rotate:i,labelTransform:a,labelTransformOrigin:l,x:s,y:c,x0:u=s,y0:d=c,text:f,background:h,connector:p,startMarker:g,endMarker:m,coordCenter:v,innerHTML:y}=t,b=Rue(t,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if(e.style.transform=`translate(${s}, ${c})`,[s,c,u,d].some(e=>!uz(e)))return void e.children.forEach(e=>e.remove());const x=Fte(b,"background"),{padding:w}=x,C=Rue(x,["padding"]),S=Fte(b,"connector"),{points:E=[]}=S,O=Rue(S,["points"]);let k;k=y?Xoe(e).maybeAppend("html","html",n).style("zIndex",0).style("innerHTML",y).call(Zoe,Object.assign({transform:a,transformOrigin:l},b)).node():Xoe(e).maybeAppend("text","text").style("zIndex",0).style("text",f).call(Zoe,Object.assign({textBaseline:"middle",transform:a,transformOrigin:l},b)).node();const M=Xoe(e).maybeAppend("background","rect").style("zIndex",-1).call(Zoe,function(e,t=[]){const[n=0,r=0,o=n,i=r]=t,a=e.parentNode,l=a.getEulerAngles();a.setEulerAngles(0);const{min:s,halfExtents:c}=e.getLocalBounds(),[u,d]=s,[f,h]=c;return a.setEulerAngles(l),{x:u-i,y:d-n,width:2*f+i+r,height:2*h+n+o}}(k,w)).call(Zoe,h?C:{}).node(),$=function(e,t,n,r,o=!0,i=!0){const a=e=>coe()(e);if(!t[0]&&!t[1])return a([_ue(e),t]);if(!n.length)return a([[0,0],t]);const[l,s]=n,c=[...s],u=[...l];if(s[0]!==l[0]){const e=o?-4:4;c[1]=s[1],i&&!o&&(c[0]=Math.max(l[0],s[0]-e),s[1]<l[1]?u[1]=c[1]:(u[1]=l[1],u[0]=Math.max(u[0],c[0]-e))),i||o||(c[0]=Math.max(l[0],s[0]-e),s[1]>l[1]?u[1]=c[1]:(u[1]=l[1],u[0]=Math.max(u[0],c[0]-e))),!i&&o&&(c[0]=Math.min(l[0],s[0]-e),s[1]>l[1]?u[1]=c[1]:(u[1]=l[1],u[0]=Math.min(u[0],c[0]-e))),i&&o&&(c[0]=Math.min(l[0],s[0]-e),s[1]<l[1]?u[1]=c[1]:(u[1]=l[1],u[0]=Math.min(u[0],c[0]-e)))}return a([s,c,u,l,t])}(M,[+u-+s,+d-+c],E,0,+u<v[0],+d<v[1]),I=g&&new Fle({id:"startMarker",style:Object.assign({x:0,y:0},Fte(b,"startMarker"))}),N=m&&new Fle({id:"endMarker",style:Object.assign({x:0,y:0},Fte(b,"endMarker"))});Xoe(e).maybeAppend("connector","path").style("zIndex",0).style("d",$).style("markerStart",I).style("markerEnd",N).call(Zoe,p?O:{})}),Pue=(e,t)=>{const{coordinate:n}=t;return(t,r,o)=>{const{color:i,text:a="",fontSize:l,rotate:s=0,transform:c=""}=r,u={text:String(a),stroke:i,fill:i,fontSize:l},[[d,f]]=t;return Xoe(new Aue).style("x",d).style("y",f).call(Zoe,o).style("transform",`${c}rotate(${+s})`).style("coordCenter",n.getCenter()).call(Zoe,u).call(Zoe,e).node()}};Pue.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var jue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Bue=gie(e=>{const t=e.attributes,{class:n,x:r,y:o,transform:i}=t,a=jue(t,["class","x","y","transform"]),l=Fte(a,"marker"),{size:s=24}=l,c=()=>function(e){const t=e/Math.sqrt(2),n=e*Math.sqrt(2),[r,o]=[-t,t-n],[i,a]=[0,0],[l,s]=[t,t-n];return[["M",r,o],["A",e,e,0,1,1,l,s],["L",i,a],["Z"]]}(s/2),u=Xoe(e).maybeAppend("marker",()=>new Fle({})).call(e=>e.node().update(Object.assign({symbol:c},l))).node(),[d,f]=function(e){const{min:t,max:n}=e.getLocalBounds();return[.5*(t[0]+n[0]),.5*(t[1]+n[1])]}(u);Xoe(e).maybeAppend("text","text").style("x",d).style("y",f).call(Zoe,a)}),Due=(e,t)=>{const n=jue(e,[]);return(e,t,r)=>{const{color:o}=r,i=jue(r,["color"]),{color:a=o,text:l=""}=t,s={text:String(l),stroke:a,fill:a},[[c,u]]=e;return Xoe(new Bue).call(Zoe,i).style("transform",`translate(${c},${u})`).call(Zoe,s).call(Zoe,n).node()}};Due.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const zue=(e,t)=>{const{coordinate:n}=t;return(t,r,o)=>{const{color:i,text:a="",fontSize:l,rotate:s=0,transform:c=""}=r,u={text:String(a),stroke:i,fill:i,fontSize:l,textAlign:"center",textBaseline:"middle"},[[d,f]]=t;return Xoe(new nU).style("x",d).style("y",f).call(Zoe,o).style("transformOrigin","center center").style("transform",`${c}rotate(${s}deg)`).style("coordCenter",n.getCenter()).call(Zoe,u).call(Zoe,e).node()}};zue.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Hue=gie(e=>{const{areaPath:t,connectPath:n,areaStyle:r,connectStyle:o}=e.attributes,i=e.ownerDocument;Xoe(e).maybeAppend("connect-path",()=>i.createElement("path",{})).style("d",n).call(Zoe,o),Xoe(e).maybeAppend("area-path",()=>i.createElement("path",{})).style("d",t).call(Zoe,r)}),Fue=(e,t)=>{const{curve:n,gradient:r=!1,defined:o=e=>!Number.isNaN(e)&&null!=e,connect:i=!1}=e,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["curve","gradient","defined","connect"]),{coordinate:l,document:s}=t;return(e,t,c)=>{const{color:u}=c,{color:d=u,seriesColor:f,seriesX:h,seriesY:p}=t,g=Boe(l),m=rie(l,t),v=r&&f?Joe(f,h,p,r,void 0,g):d,y=Object.assign(Object.assign(Object.assign(Object.assign({},c),{stroke:v,fill:v}),m&&{transform:m}),a),[b,x]=function(e,t){const n=[],r=[],o=[];let i=!1,a=null;const l=e.length/2;for(let s=0;s<l;s++){const c=e[s],u=e[s+l];if([...c,...u].some(e=>!t(e)))i=!0;else{if(n.push(c),r.push(u),i&&a){i=!1;const[e,t]=a;o.push([e,c,t,u])}a=[c,u]}}return[n.concat(r),o]}(e,o),w=Fte(y,"connect"),C=!!x.length,S=e=>Xoe(s.createElement("path",{})).style("d",e||"").call(Zoe,y).node();if(Doe(l)){const t=e=>{const t=l.getCenter(),r=e.slice(0,e.length/2),i=e.slice(e.length/2);return(a=uoe().curve(doe),s=a.curve,c=a.lineX0,u=a.lineX1,d=a.lineY0,f=a.lineY1,a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return poe(c())},delete a.lineX0,a.lineEndAngle=function(){return poe(u())},delete a.lineX1,a.lineInnerRadius=function(){return poe(d())},delete a.lineY0,a.lineOuterRadius=function(){return poe(f())},delete a.lineY1,a.curve=function(e){return arguments.length?s(hoe(e)):s()._curve},a).angle((e,n)=>vre(hre(r[n],t))).outerRadius((e,n)=>gre(r[n],t)).innerRadius((e,n)=>gre(i[n],t)).defined((e,t)=>[...r[t],...i[t]].every(o)).curve(n)(i);var a,s,c,u,d,f};return!C||i&&!Object.keys(w).length?S(t(b)):C&&!i?S(t(e)):Xoe(new Hue).style("areaStyle",y).style("connectStyle",Object.assign(Object.assign({},w),a)).style("areaPath",t(e)).style("connectPath",x.map(t).join("")).node()}{const t=e=>{const t=e.slice(0,e.length/2),r=e.slice(e.length/2);return g?uoe().y((e,n)=>t[n][1]).x1((e,n)=>t[n][0]).x0((e,t)=>r[t][0]).defined((e,n)=>[...t[n],...r[n]].every(o)).curve(n)(t):uoe().x((e,n)=>t[n][0]).y1((e,n)=>t[n][1]).y0((e,t)=>r[t][1]).defined((e,n)=>[...t[n],...r[n]].every(o)).curve(n)(t)};return!C||i&&!Object.keys(w).length?S(t(b)):C&&!i?S(t(e)):Xoe(new Hue).style("areaStyle",y).style("connectStyle",Object.assign(Object.assign({},w),a)).style("areaPath",t(e)).style("connectPath",x.map(t).join("")).node()}}};Fue.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Wue=(e,t)=>{const{coordinate:n}=t;return(...r)=>{const o=Doe(n)?Eoe:aoe;return Fue(Object.assign({curve:o},e),t)(...r)}};Wue.props=Object.assign(Object.assign({},Fue.props),{defaultMarker:"square"});const Gue=(e,t)=>{const n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,[]),{coordinate:r}=t;return(...e)=>{const o=Doe(r)?Coe:Boe(r)?Roe:Loe;return Fue(Object.assign({curve:o},n),t)(...e)}};Gue.props=Object.assign(Object.assign({},Fue.props),{defaultMarker:"smooth"});const Vue=(e,t)=>(...n)=>Fue(Object.assign({curve:Aoe},e),t)(...n);Vue.props=Object.assign(Object.assign({},Fue.props),{defaultMarker:"hvh"});const que=(e,t)=>(...n)=>Fue(Object.assign({curve:Poe},e),t)(...n);que.props=Object.assign(Object.assign({},Fue.props),{defaultMarker:"vh"});const Xue=(e,t)=>(...n)=>Fue(Object.assign({curve:joe},e),t)(...n);Xue.props=Object.assign(Object.assign({},Fue.props),{defaultMarker:"hv"});const Uue=(e,t)=>{const{arrow:n=!1}=e;return(...r)=>Mae(Object.assign(Object.assign({},e),{arrow:n}),t)(...r)};Uue.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Yue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Kue=(e,t)=>{const n=Yue(e,[]),{document:r}=t;return(e,t,o)=>{const{color:i}=o,a=Yue(o,["color"]),{color:l=i,transform:s}=t,[c,u]=e,d=Yre();return d.moveTo(c[0],c[1]),d.bezierCurveTo(c[0]/2+u[0]/2,c[1],c[0]/2+u[0]/2,u[1],u[0],u[1]),Xoe(r.createElement("path",{})).call(Zoe,a).style("d",d.toString()).style("stroke",l).style("transform",s).call(Zoe,n).node()}};Kue.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Zue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Que=(e,t)=>{const{cornerRatio:n=1/3}=e,r=Zue(e,["cornerRatio"]),{coordinate:o,document:i}=t;return(e,t,a)=>{const{defaultColor:l}=a,s=Zue(a,["defaultColor"]),{color:c=l,transform:u}=t,[d,f]=e,h=function(e,t,n,r){const o=Yre();if(Doe(n)){const i=n.getCenter(),a=gre(e,i),l=(gre(t,i)-a)*r+a;return o.moveTo(e[0],e[1]),Qoe(o,e,t,i,l),o.lineTo(t[0],t[1]),o}return Boe(n)?(o.moveTo(e[0],e[1]),o.lineTo(e[0]+(t[0]-e[0])*r,e[1]),o.lineTo(e[0]+(t[0]-e[0])*r,t[1]),o.lineTo(t[0],t[1]),o):(o.moveTo(e[0],e[1]),o.lineTo(e[0],e[1]+(t[1]-e[1])*r),o.lineTo(t[0],e[1]+(t[1]-e[1])*r),o.lineTo(t[0],t[1]),o)}(d,f,o,n);return Xoe(i.createElement("path",{})).call(Zoe,s).style("d",h.toString()).style("stroke",c).style("transform",u).call(Zoe,r).node()}};Que.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Jue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const ede=(e,t)=>{const n=Jue(e,[]),{coordinate:r,document:o}=t;return(e,t,i)=>{const{color:a}=i,l=Jue(i,["color"]),{color:s=a,transform:c}=t,[u,d]=e,f=Yre();if(f.moveTo(u[0],u[1]),Doe(r)){const e=r.getCenter();f.quadraticCurveTo(e[0],e[1],d[0],d[1])}else{Qoe(f,u,d,xre(u,d),gre(u,d)/2)}return Xoe(o.createElement("path",{})).call(Zoe,l).style("d",f.toString()).style("stroke",s).style("transform",c).call(Zoe,n).node()}};function tde(e={}){const{shapes:t}=e;return[{name:"color"},{name:"opacity"},{name:"shape",range:t},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function nde(e={}){return[...tde(e),{name:"title",scale:"identity"}]}function rde(){return[{type:fne,channel:"color"},{type:Ene,channel:["x","y"]}]}function ode(){return[{type:fne,channel:"x"},{type:Ene,channel:["y"]}]}function ide(e={}){return tde(e)}function ade(){return[{type:mne}]}function lde(e,t){return e.getBandWidth(e.invert(t))}function sde(e,t,n={}){const{x:r,y:o,series:i}=t,{x:a,y:l,series:s}=e,{style:{bandOffset:c=(s?0:.5),bandOffsetX:u=c,bandOffsetY:d=c}={}}=n,f=!!(null==a?void 0:a.getBandWidth),h=!!(null==l?void 0:l.getBandWidth),p=!!(null==s?void 0:s.getBandWidth);return f||h?(e,t)=>{const n=f?lde(a,r[t]):0,c=h?lde(l,o[t]):0,g=p&&i?(lde(s,i[t])/2+ +i[t])*n:0,[m,v]=e;return[m+u*n+g,v+d*c]}:e=>e}function cde(e){return parseFloat(e)/100}function ude(e,t,n,r){const{x:o,y:i}=n,{innerWidth:a,innerHeight:l}=r.getOptions();return[e,Array.from(e,e=>{const t=o[e],n=i[e];return[["string"==typeof t?cde(t)*a:+t,"string"==typeof n?cde(n)*l:+n]]})]}function dde(e){return"function"==typeof e?e:t=>t[e]}function fde(e,t){return Array.from(e,dde(t))}function hde(e,t){const n=function(e){return Array.isArray(e)?{links:e}:e&&"object"==typeof e?{links:e.links||[],nodes:e.nodes}:{links:[]}}(e),{source:r=e=>e.source,target:o=e=>e.target,value:i=e=>e.value}=t,{links:a,nodes:l}=n;if(!a.length)return{links:[],nodes:l||[]};const s=fde(a,r),c=fde(a,o),u=fde(a,i);return{links:a.map((e,t)=>({target:c[t],source:s[t],value:u[t]})),nodes:l||Array.from(new Set([...s,...c]),e=>({key:e}))}}ede.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const pde=(e,t)=>{const{coordinate:n,document:r}=t;return(t,o,i)=>{const{color:a}=i,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(i,["color"]),{color:s=a,src:c="",size:u=32,transform:d=""}=o;let{width:f=u,height:h=u}=e;const[[p,g]]=t,[m,v]=n.getSize();f="string"==typeof f?cde(f)*m:f,h="string"==typeof h?cde(h)*v:h;const y=p-Number(f)/2,b=g-Number(h)/2;return Xoe(r.createElement("image",{})).call(Zoe,l).style("x",y).style("y",b).style("src",c).style("stroke",s).style("transform",d).call(Zoe,e).style("width",f).style("height",h).node()}};pde.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const gde=(e,t)=>{const{coordinate:n,document:r}=t;return(t,o,i)=>{const{color:a}=i,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(i,["color"]),{color:s=a,transform:c}=o,u=function(e,t){const n=Yre();if(Doe(t)){const r=t.getCenter(),o=[...e,e[0]],i=o.map(e=>gre(e,r));return o.forEach((t,o)=>{if(0===o)return void n.moveTo(t[0],t[1]);const a=i[o],l=e[o-1],s=i[o-1];void 0!==s&&Math.abs(a-s)<1e-10?Qoe(n,l,t,r,a):n.lineTo(t[0],t[1])}),n.closePath(),n}return function(e,t){return t.forEach((t,n)=>0===n?e.moveTo(t[0],t[1]):e.lineTo(t[0],t[1])),e.closePath(),e}(n,e)}(t,n);return Xoe(r.createElement("path",{})).call(Zoe,l).style("d",u.toString()).style("stroke",s).style("fill",s).style("transform",c).call(Zoe,e).node()}};gde.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var mde=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const vde=(e,t)=>{const n=mde(e,[]),{coordinate:r,document:o}=t;return(e,t,i)=>{const{color:a}=i,l=mde(i,["color"]),{color:s=a,transform:c}=t,u=function(e,t){const[n,r,o,i]=e,a=Yre();if(Doe(t)){const e=t.getCenter(),l=gre(e,n);return a.moveTo(n[0],n[1]),a.quadraticCurveTo(e[0],e[1],o[0],o[1]),Qoe(a,o,i,e,l),a.quadraticCurveTo(e[0],e[1],r[0],r[1]),Qoe(a,r,n,e,l),a.closePath(),a}return a.moveTo(n[0],n[1]),a.bezierCurveTo(n[0]/2+o[0]/2,n[1],n[0]/2+o[0]/2,o[1],o[0],o[1]),a.lineTo(i[0],i[1]),a.bezierCurveTo(i[0]/2+r[0]/2,i[1],i[0]/2+r[0]/2,r[1],r[0],r[1]),a.lineTo(n[0],n[1]),a.closePath(),a}(e,r);return Xoe(o.createElement("path",{})).call(Zoe,l).style("d",u.toString()).style("fill",s||a).style("stroke",s||a).style("transform",c).call(Zoe,n).node()}};vde.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const yde=(e,t)=>{const{coordinate:n,document:r}=t;return(t,o,i)=>{const{color:a,transform:l}=o,{color:s,fill:c=s,stroke:u=s}=i,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(i,["color","fill","stroke"]),f=function(e,t){const n=Yre();if(Doe(t)){const r=t.getCenter(),[o,i]=r,a=mre(hre(e[0],r)),l=mre(hre(e[1],r)),s=gre(r,e[2]),c=gre(r,e[3]),u=gre(r,e[8]),d=gre(r,e[10]),f=gre(r,e[11]);n.moveTo(...e[0]),n.arc(o,i,s,a,l),n.arc(o,i,s,l,a,!0),n.moveTo(...e[2]),n.lineTo(...e[3]),n.moveTo(...e[4]),n.arc(o,i,c,a,l),n.lineTo(...e[6]),n.arc(o,i,d,l,a,!0),n.closePath(),n.moveTo(...e[8]),n.arc(o,i,u,a,l),n.arc(o,i,u,l,a,!0),n.moveTo(...e[10]),n.lineTo(...e[11]),n.moveTo(...e[12]),n.arc(o,i,f,a,l),n.arc(o,i,f,l,a,!0)}else n.moveTo(...e[0]),n.lineTo(...e[1]),n.moveTo(...e[2]),n.lineTo(...e[3]),n.moveTo(...e[4]),n.lineTo(...e[5]),n.lineTo(...e[6]),n.lineTo(...e[7]),n.closePath(),n.moveTo(...e[8]),n.lineTo(...e[9]),n.moveTo(...e[10]),n.lineTo(...e[11]),n.moveTo(...e[12]),n.lineTo(...e[13]);return n}(t,n);return Xoe(r.createElement("path",{})).call(Zoe,d).style("d",f.toString()).style("stroke",u).style("fill",a||c).style("transform",l).call(Zoe,e).node()}};yde.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const bde=(e,t)=>{const{coordinate:n,document:r}=t;return(t,o,i)=>{const{color:a,transform:l}=o,{color:s,fill:c=s,stroke:u=s}=i,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(i,["color","fill","stroke"]),f=function(e,t,n=4){const r=Yre();if(!Doe(t))return r.moveTo(...e[2]),r.lineTo(...e[3]),r.lineTo(e[3][0]-n,e[3][1]),r.lineTo(e[10][0]-n,e[10][1]),r.lineTo(e[10][0]+n,e[10][1]),r.lineTo(e[3][0]+n,e[3][1]),r.lineTo(...e[3]),r.closePath(),r.moveTo(...e[10]),r.lineTo(...e[11]),r.moveTo(e[3][0]+n/2,e[8][1]),r.arc(e[3][0],e[8][1],n/2,0,2*Math.PI),r.closePath(),r;const o=t.getCenter(),[i,a]=o,l=gre(o,e[3]),s=gre(o,e[8]),c=gre(o,e[10]),u=mre(hre(e[2],o)),d=Math.asin(n/s),f=u-d,h=u+d;r.moveTo(...e[2]),r.lineTo(...e[3]),r.moveTo(Math.cos(f)*l+i,Math.sin(f)*l+a),r.arc(i,a,l,f,h),r.lineTo(Math.cos(h)*c+i,Math.sin(h)*c+a),r.arc(i,a,c,h,f,!0),r.lineTo(Math.cos(f)*l+i,Math.sin(f)*l+a),r.closePath(),r.moveTo(...e[10]),r.lineTo(...e[11]);const p=(f+h)/2;return r.moveTo(Math.cos(p)*(s+n/2)+i,Math.sin(p)*(s+n/2)+a),r.arc(Math.cos(p)*s+i,Math.sin(p)*s+a,n/2,p,2*Math.PI+p),r.closePath(),r}(t,n,4);return Xoe(r.createElement("path",{})).call(Zoe,d).style("d",f.toString()).style("stroke",u).style("fill",a||c).style("transform",l).call(Zoe,e).node()}};bde.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var xde=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const wde=(e,t)=>{const{arrow:n,arrowSize:r=4}=e,o=xde(e,["arrow","arrowSize"]),{coordinate:i,document:a}=t;return(e,t,l)=>{const{color:s,lineWidth:c}=l,u=xde(l,["color","lineWidth"]),{color:d=s,size:f=c}=t,h=n?function(e,t,n){return e.createElement("path",{style:Object.assign({d:`M ${t},${t} L -${t},0 L ${t},-${t} L 0,0 Z`,transformOrigin:"center"},n)})}(a,r,Object.assign({fill:o.stroke||d,stroke:o.stroke||d},Fte(o,"arrow"))):null,p=function(e,t){if(!Doe(t))return coe().x(e=>e[0]).y(e=>e[1])(e);const n=t.getCenter();return roe()({startAngle:0,endAngle:2*Math.PI,outerRadius:gre(e[0],n),innerRadius:gre(e[1],n)})}(e,i),g=function(e,t){if(!Doe(e))return t;const[n,r]=e.getCenter();return`translate(${n}, ${r}) ${t||""}`}(i,t.transform);return Xoe(a.createElement("path",{})).call(Zoe,u).style("d",p).style("stroke",d).style("lineWidth",f).style("transform",g).style("markerEnd",h).call(Zoe,o).node()}};wde.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Cde=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Sde(e,t,n){return[["M",e,t],["L",e+2*n,t-n],["L",e+2*n,t+n],["Z"]]}const Ede=(e,t)=>{const{offsetX:n=0,sourceOffsetX:r=n,targetOffsetX:o=n,offsetY:i=0,sourceOffsetY:a=i,targetOffsetY:l=i,connectLength1:s,endMarker:c=!0}=e,u=Cde(e,["offsetX","sourceOffsetX","targetOffsetX","offsetY","sourceOffsetY","targetOffsetY","connectLength1","endMarker"]),{coordinate:d}=t;return(e,t,n)=>{const{color:i,connectLength1:f}=n,h=Cde(n,["color","connectLength1"]),{color:p,transform:g}=t,m=function(e,t,n,r,o,i,a=0){const[[l,s],[c,u]]=t;if(Boe(e)){const e=l+n,t=e+a,d=s+o,f=u+i;return[[e,d],[t,d],[t,f],[c+r,f]]}const d=s-n,f=d-a,h=l-o,p=c-i;return[[h,d],[h,f],[p,f],[p,u-r]]}(d,e,a,l,r,o,null!=s?s:f),v=Fte(Object.assign(Object.assign({},u),n),"endMarker");return Xoe(new YX).call(Zoe,h).style("d",function(e){return coe().x(e=>e[0]).y(e=>e[1])(e)}(m)).style("stroke",p||i).style("transform",g).style("markerEnd",c?new Fle({className:"marker",style:Object.assign(Object.assign({},v),{symbol:Sde})}):null).call(Zoe,u).node()}};function Ode(e,t,n,r){const{bounds:o}=n,[[i,a],[l,s]]=o,c=l-i,u=s-a,d=e=>{const{x:t,y:r}=e,o=Vte(n.x,c),l=Vte(n.y,u);return Object.assign(Object.assign({},e),{x:(o||t)+i,y:(l||r)+a})};return d("left"===e?{x:0,y:u/2,textAlign:"start",textBaseline:"middle"}:"right"===e?{x:c,y:u/2,textAlign:"end",textBaseline:"middle"}:"top"===e?{x:c/2,y:0,textAlign:"center",textBaseline:"top"}:"bottom"===e?{x:c/2,y:u,textAlign:"center",textBaseline:"bottom"}:"top-left"===e?{x:0,y:0,textAlign:"start",textBaseline:"top"}:"top-right"===e?{x:c,y:0,textAlign:"end",textBaseline:"top"}:"bottom-left"===e?{x:0,y:u,textAlign:"start",textBaseline:"bottom"}:"bottom-right"===e?{x:c,y:u,textAlign:"end",textBaseline:"bottom"}:{x:c/2,y:u/2,textAlign:"center",textBaseline:"middle"})}function kde(e,t,n,r){const{y:o,y1:i,autoRotate:a,rotateToAlignArc:l}=n,s=r.getCenter(),c=tie(r,t,[o,i]),{innerRadius:u,outerRadius:d,startAngle:f,endAngle:h}=c,p="inside"===e?(f+h)/2:h,g=$de(p,a,l),m=(()=>{const[n,r]=t,o=u+.5*(d-u),[i,a]="inside"===e?Mde(s,p,o):xre(n,r);return{x:i,y:a}})();return Object.assign(Object.assign({},m),{textAlign:"inside"===e?"center":"start",textBaseline:"middle",rotate:g})}function Mde(e,t,n){return[e[0]+Math.sin(t)*n,e[1]-Math.cos(t)*n]}function $de(e,t,n){if(!t)return 0;const r=n?0:Math.sin(e)<0?90:-90;return e/Math.PI*180+r}function Ide(e,t,n,r){const{y:o,y1:i,autoRotate:a,rotateToAlignArc:l,radius:s=.5,offset:c=0}=n,u=tie(r,t,[o,i]),{startAngle:d,endAngle:f}=u,h=r.getCenter(),p=(d+f)/2,g={textAlign:"center",textBaseline:"middle",rotate:$de(p,a,l)},{innerRadius:m,outerRadius:v}=u,y=m+(v-m)*s+c,[b,x]=Mde(h,p,y);return Object.assign({x:b,y:x},g)}function Nde(e){return void 0===e?null:e}function Tde(e,t,n,r){const{bounds:o}=n,[i]=o;return{x:Nde(i[0]),y:Nde(i[1])}}function Lde(e,t,n,r){const{bounds:o}=n;if(1===o.length)return Tde(0,0,n);return(zoe(r)?kde:Goe(r)?Ide:Ode)(e,t,n,r)}function Rde(e,t,n){const r=tie(n,e,[t.y,t.y1]),{innerRadius:o,outerRadius:i}=r;return o+(i-o)}function _de(e,t,n){const r=tie(n,e,[t.y,t.y1]),{startAngle:o,endAngle:i}=r;return(o+i)/2}function Ade(e,t,n,r){const{autoRotate:o,rotateToAlignArc:i,offset:a=0,connector:l=!0,connectorLength:s=a,connectorLength2:c=0,connectorDistance:u=0}=n,d=r.getCenter(),f=_de(t,n,r),h=Math.sin(f)>0?1:-1,p=$de(f,o,i),g={textAlign:h>0||zoe(r)?"start":"end",textBaseline:"middle",rotate:p},m=Rde(t,n,r),v=m+(l?s:a),[[y,b],[x,w],[C,S]]=function(e,t,n,r,o){const[i,a]=Mde(e,t,n),[l,s]=Mde(e,t,r);return[[i,a],[l,s],[l+(Math.sin(t)>0?1:-1)*o,s]]}(d,f,m,v,l?c:0),E=l?+u*h:0,O=C+E,k={connector:l,connectorPoints:[[x-O,w-S],[C-O,S-S]]};return Object.assign(Object.assign({x0:y,y0:b,x:C+E,y:S},g),k)}function Pde(e,t={}){const{labelHeight:n=14,height:r}=t,o=q7(e,e=>e.y),i=o.length,a=new Array(i);for(let c=0;c<i;c++){const e=o[c],{y:t}=e;a[c]={y:t,y1:t+n,labels:[t]}}let l=!0;for(;l;){l=!1;for(let e=a.length-1;e>0;e--){const t=a[e],n=a[e-1];if(n.y1>t.y){l=!0,n.labels.push(...t.labels),a.splice(e,1),n.y1+=t.y1-t.y;const o=n.y1-n.y;n.y1=Math.max(Math.min(n.y1,r),o),n.y=n.y1-o}}}let s=0;for(const c of a){const{y:e,labels:t}=c;let r=e-n;for(const i of t){const e=o[s++],t=r+n-i;e.connectorPoints[0][1]-=t,e.y=r+n,r+=n}}}function jde(e,t){const n=q7(e,e=>e.y),{height:r,labelHeight:o=14}=t,i=Math.ceil(r/o);if(n.length<=i)return Pde(n,t);const a=[];for(let l=0;l<n.length;l++)l<n.length-i?(n[l].opacity=0,n[l].connector=!1):a.push(n[l]);Pde(a,t)}Ede.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Bde=new WeakMap;function Dde(e,t,n){const{connectorLength:r,connectorLength2:o,connectorDistance:i}=t,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(Ade(0,e,t,n),[]),l=n.getCenter(),s=Rde(e,t,n),c=_de(e,t,n),u=s+r+o,d=Math.sin(c)>0?1:-1,f=l[0]+(u+ +i)*d,{x:h}=a,p=f-h;return a.x+=p,a.connectorPoints[0][0]-=p,a}const zde=Object.freeze(Object.defineProperty({__proto__:null,area:function(e,t,n,r){const o=t.length/2,i=t.slice(0,o),a=t.slice(o);let l=i9(i,(e,t)=>Math.abs(e[1]-a[t][1]));l=Math.max(Math.min(l,o-2),1);const s=e=>[i[e][0],(i[e][1]+a[e][1])/2],c=s(l),u=s(l-1),d=mre(hre(s(l+1),u))/Math.PI*180;return{x:c[0],y:c[1],transform:`rotate(${d})`,textAlign:"center",textBaseline:"middle"}},bottom:Lde,bottomLeft:Lde,bottomRight:Lde,inside:Lde,left:Lde,outside:function(e,t,n,r){const{bounds:o}=n;return 1===o.length?Tde(0,0,n):(zoe(r)?kde:Goe(r)?Ade:Ode)(e,t,n,r)},right:Lde,spider:function(e,t,n,r,o,i){if(!Goe(r))return{};if(Bde.has(t))return Bde.get(t);const a=i.map(e=>Dde(e,n,r)),{width:l,height:s}=r.getOptions(),c=a.filter(e=>e.x<l/2),u=a.filter(e=>e.x>=l/2),d=Object.assign(Object.assign({},o),{height:s});return jde(c,d),jde(u,d),a.forEach((e,t)=>Bde.set(i[t],e)),Bde.get(t)},surround:function(e,t,n,r){if(!Goe(r))return{};const{connectorLength:o,connectorLength2:i,connectorDistance:a}=n,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(Ade(0,t,n,r),[]),{x0:s,y0:c}=l,u=r.getCenter(),d=function(e){if(Goe(e)){const[t,n]=e.getSize(),r=e.getOptions().transformations.find(e=>"polar"===e[0]);if(r)return Math.max(t,n)/2*r[4]}return 0}(r),f=d+o,h=vre([s-u[0],c-u[1]]),p=Math.sin(h)>0?1:-1,[g,m]=Mde(u,h,f);return l.x=g+(i+a)*p,l.y=m,l},top:Lde,topLeft:Lde,topRight:Lde},Symbol.toStringTag,{value:"Module"}));var Hde=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Fde(e,t,n,r,o,i){const{position:a}=t,{render:l}=o,s=function(e,t){return void 0!==e?e:Goe(t)?"inside":Boe(t)?"right":"top"}(a,n),c=r[l?"htmlLabel":"inside"===s?"innerLabel":"label"],u=Object.assign({},c,t),d=zde[tae(s)];if(!d)throw new Error(`Unknown position: ${s}`);return Object.assign(Object.assign({},c),d(s,e,u,n,o,i))}const Wde=(e,t)=>{const{coordinate:n,theme:r}=t,{render:o}=e;return(t,i,a,l)=>{const{text:s,x:c,y:u,transform:d="",transformOrigin:f,className:h=""}=i,p=Hde(i,["text","x","y","transform","transformOrigin","className"]),g=Fde(t,i,n,r,e,l),{rotate:m=0,transform:v=""}=g,y=Hde(g,["rotate","transform"]);return Xoe(new Aue).call(Zoe,y).style("text",`${s}`).style("className",`${h} g2-label`).style("innerHTML",o?o(s,i.datum,i.index):void 0).style("labelTransform",`${v} rotate(${+m}) ${d}`.trim()).style("labelTransformOrigin",f).style("coordCenter",n.getCenter()).call(Zoe,p).node()}};Wde.props={defaultMarker:"point"};var Gde=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Vde=(e,t)=>{const{arrow:n,colorAttribute:r}=e,o=Gde(e,["arrow","colorAttribute"]),{coordinate:i,document:a}=t;return(e,t,n)=>{const{color:l,stroke:s}=n,c=Gde(n,["color","stroke"]),{d:u,color:d=l}=t,[f,h]=i.getSize();return Xoe(a.createElement("path",{})).call(Zoe,c).style("d","function"==typeof u?u({width:f,height:h}):u).style(r,d).call(Zoe,o).node()}};Vde.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const qde=(e,t)=>Vde(Object.assign({colorAttribute:"fill"},e),t);qde.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Xde=(e,t)=>Vde(Object.assign({fill:"none",colorAttribute:"stroke"},e),t);Xde.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Ude=(e,t)=>{const{document:n}=t;return(t,r,o)=>{const{transform:i}=r,{color:a}=o,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(o,["color"]),{color:s=a}=r,[c,...u]=t,d=Yre();return d.moveTo(...c),u.forEach(([e,t])=>{d.lineTo(e,t)}),d.closePath(),Xoe(n.createElement("path",{})).call(Zoe,l).style("d",d.toString()).style("stroke",s||a).style("fill",s||a).style("fillOpacity",.4).style("transform",i).call(Zoe,e).node()}};function Yde(e,t,n){const r=e?e():document.createElement("canvas");return r.width=t,r.height=n,r}Ude.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"},u4(3);const Kde=function(e,t=(...e)=>`${e[0]}`,n=16){const r=u4(n);return(...n)=>{const o=t(...n);let i=r.get(o);return r.has(o)?r.get(o):(i=e(...n),r.set(o,i),i)}}((e,t,n)=>{const r=Yde(n,2*e,2*e),o=r.getContext("2d"),i=e,a=e;if(1===t)o.beginPath(),o.arc(i,a,e,0,2*Math.PI,!1),o.fillStyle="rgba(0,0,0,1)",o.fill();else{const n=o.createRadialGradient(i,a,e*t,i,a,e);n.addColorStop(0,"rgba(0,0,0,1)"),n.addColorStop(1,"rgba(0,0,0,0)"),o.fillStyle=n,o.fillRect(0,0,2*e,2*e)}return r},e=>`${e}`);function Zde(e,t,n,r,o,i,a){const l=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},i);l.minOpacity*=255,l.opacity*=255,l.maxOpacity*=255;const s=Yde(a,e,t).getContext("2d"),c=function(e,t){const n=Yde(t,256,1).getContext("2d"),r=n.createLinearGradient(0,0,256,1);return function(e){return"string"==typeof e?e.split(" ").map(e=>{const[t,n]=e.split(":");return[+t,n]}):e}(e).forEach(([e,t])=>{r.addColorStop(e,t)}),n.fillStyle=r,n.fillRect(0,0,256,1),n.getImageData(0,0,256,1).data}(l.gradient,a);s.clearRect(0,0,e,t),function(e,t,n,r,o,i){const{blur:a}=o;let l=r.length;for(;l--;){const{x:o,y:s,value:c,radius:u}=r[l],d=Math.min(c,n),f=o-u,h=s-u,p=Kde(u,1-a,i),g=(d-t)/(n-t);e.globalAlpha=Math.max(g,.001),e.drawImage(p,f,h)}}(s,n,r,o,l,a);const u=function(e,t,n,r,o){const{minOpacity:i,opacity:a,maxOpacity:l,useGradientOpacity:s}=o,c=t,u=n,d=e.getImageData(0,0,c,u),f=d.data,h=f.length;for(let p=3;p<h;p+=4){const e=f[p],t=4*e;if(!t)continue;const n=a||Math.max(0,Math.min(l,Math.max(i,e)));f[p-3]=r[t],f[p-2]=r[t+1],f[p-1]=r[t+2],f[p]=s?r[t+3]:n}return d}(s,e,t,c,l),d=Yde(a,e,t).getContext("2d");return d.putImageData(u,0,0),d}const Qde=(e,t)=>{const{gradient:n,opacity:r,maxOpacity:o,minOpacity:i,blur:a,useGradientOpacity:l}=e,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:c,createCanvas:u,document:d}=t;return(e,t,f)=>{const{transform:h}=t,[p,g]=c.getSize(),m=e.map(e=>({x:e[0],y:e[1],value:e[2],radius:e[3]})),v=a9(e,e=>e[2]),y=o9(e,e=>e[2]),b=p&&g?Zde(p,g,v,y,m,function(e,t){return Object.keys(e).reduce((n,r)=>{const o=e[r];return t(o,r)||(n[r]=o),n},{})}({gradient:n,opacity:r,minOpacity:i,maxOpacity:o,blur:a,useGradientOpacity:l},e=>void 0===e),u):{canvas:null};return Xoe(d.createElement("image",{})).call(Zoe,f).style("x",0).style("y",0).style("width",p).style("height",g).style("src",b.canvas.toDataURL()).style("transform",h).call(Zoe,s).node()}};Qde.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Jde=(e,t)=>{const{render:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["render"]);return e=>{const[[o,i]]=e;return n(Object.assign(Object.assign({},r),{x:o,y:i}),t)}};Jde.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function efe(e,t,n){return e+(t-e)*n}function tfe(e,t,n,r){return 0===t?[[e+.5*n/Math.PI/2,r/2],[e+.5*n/Math.PI,r],[e+n/4,r]]:1===t?[[e+.5*n/Math.PI/2*(Math.PI-2),r],[e+.5*n/Math.PI/2*(Math.PI-1),r/2],[e+n/4,0]]:2===t?[[e+.5*n/Math.PI/2,-r/2],[e+.5*n/Math.PI,-r],[e+n/4,-r]]:[[e+.5*n/Math.PI/2*(Math.PI-2),-r],[e+.5*n/Math.PI/2*(Math.PI-1),-r/2],[e+n/4,0]]}function nfe(e,t,n,r,o,i,a){const l=4*Math.ceil(2*e/n*4),s=[];let c=r;for(;c<2*-Math.PI;)c+=2*Math.PI;for(;c>0;)c-=2*Math.PI;c=c/Math.PI/2*n;const u=i-e+c-2*e;s.push(["M",u,t]);let d=0;for(let f=0;f<l;++f){const e=tfe(f*n/4,f%4,n,o);s.push(["C",e[0][0]+u,-e[0][1]+t,e[1][0]+u,-e[1][1]+t,e[2][0]+u,-e[2][1]+t]),f===l-1&&(d=e[2][0])}return s.push(["L",d+u,a+e]),s.push(["L",u,a+e]),s.push(["Z"]),s}const rfe={pin:function(e,t,n){const r=4*n/3,o=Math.max(r,2*n),i=r/2,a=e,l=i+t-o/2,s=Math.asin(i/(.85*(o-i))),c=Math.sin(s)*i,u=Math.cos(s)*i,d=a-u,f=l+c,h=e,p=l+i/Math.sin(s);return`\n      M ${d} ${f}\n      A ${i} ${i} 0 1 1 ${d+2*u} ${f}\n      Q ${h} ${p} ${e} ${t+o/2}\n      Q ${h} ${p} ${d} ${f}\n      Z \n    `},rect:function(e,t,n){const r=.618*n;return`\n      M ${e-r} ${t-n}\n      L ${e+r} ${t-n}\n      L ${e+r} ${t+n}\n      L ${e-r} ${t+n}\n      Z\n    `},circle:function(e,t,n){return`\n      M ${e} ${t-n} \n      a ${n} ${n} 0 1 0 0 ${2*n}\n      a ${n} ${n} 0 1 0 0 ${2*-n}\n      Z\n    `},diamond:function(e,t,n){return`\n      M ${e} ${t-n}\n      L ${e+n} ${t}\n      L ${e} ${t+n}\n      L ${e-n} ${t}\n      Z\n    `},triangle:function(e,t,n){return`\n      M ${e} ${t-n}\n      L ${e+n} ${t+n}\n      L ${e-n} ${t+n}\n      Z\n    `}};var ofe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const ife=(e,t)=>{if(!t)return;const{coordinate:n}=t,{liquidOptions:r,styleOptions:o}=e,{liquidShape:i,percent:a}=r,{background:l,outline:s={},wave:c={}}=o,u=ofe(o,["background","outline","wave"]),{border:d=2,distance:f=0}=s,h=ofe(s,["border","distance"]),{length:p=192,count:g=3}=c;return(e,r,o)=>{const{document:s}=t.canvas,{color:c,fillOpacity:m}=o,v=Object.assign(Object.assign({fill:c},o),u),y=s.createElement("g",{}),[b,x]=n.getCenter(),w=n.getSize(),C=Math.min(...w)/2,S=UD(i)?i:((e="circle")=>rfe[e]||rfe.circle)(i),E=S(b,x,C,...w),O=S(b,x,C+d/2,...w);if(Object.keys(l).length){const e=s.createElement("path",{style:Object.assign({d:E,fill:"#fff"},l)});y.appendChild(e)}if(a>0){const e=s.createElement("path",{style:{d:O}});y.appendChild(e),y.style.clipPath=e,function(e,t,n,r,o,i,a,l,s,c,u){const{fill:d,fillOpacity:f,opacity:h}=o;for(let p=0;p<r;p++){const o=r<=1?1:p/(r-1),c=nfe(l,a+l*n,s,0,l/40,e,t),g=u.createElement("path",{style:{d:c,fill:d,opacity:efe(.2,.9,o)*Number(h||f)}});i.appendChild(g);try{const e=[{transform:"translate(0, 0)"},{transform:`translate(${2*s}, 0)`}];g.animate(e,{duration:2*efe(2500,5e3,o),iterations:1/0})}catch(rw){}}}(b,x,1-a,g,v,y,e.getBBox().y,2*C,p,0,s)}const k=s.createElement("path",{style:{d:E,fill:"transparent",lineWidth:d+2*f,stroke:"#fff"}}),M=s.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:E,stroke:c,strokeOpacity:m,lineWidth:d},v),h),{fill:"transparent"})});return y.appendChild(k),y.appendChild(M),y}};ife.props={};const afe=(e,t)=>Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))/2,lfe=(e,t)=>{if(!t)return;const{coordinate:n}=t;if(!(null==n?void 0:n.getCenter))return;const r=n.getCenter();return(n,o,i)=>{const{document:a}=t.canvas,{color:l,index:s}=o,c=a.createElement("g",{}),u=afe(n[0],n[1]),d=2*afe(n[0],r),f=((e,t,n)=>{const r=Math.atan2(e[1]-n[1],e[0]-n[0]);let o=Math.atan2(t[1]-n[1],t[0]-n[0])-r;return o<0&&(o+=2*Math.PI),o})(n[3],n[0],r)>Math.PI,h=a.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:[["M",...n[0]],["A",u,u,0,1,0,...n[1]],["A",d+2*u,d+2*u,0,f?1:0,0,...n[2]],["A",u,u,0,1,0===s?0:1,...n[3]],["A",d,d,0,f?1:0,1,...n[0]],["Z"]]},i),Lz(e,["shape","last","first"])),{fill:l||i.color})});return c.appendChild(h),c}},sfe="main-layer",cfe="label-layer",ufe="element",dfe="view",ffe="plot",hfe="component",pfe="label",gfe="area",mfe="axis-breaks",vfe="axis-breaks-group";var yfe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const bfe=.03,xfe={fill:"#fff",stroke:"#aaa",lineDash:"4 3",lineWidth:.5,fillOpacity:1,strokeOpacity:1},wfe=(e,t,n,r,o,i)=>{const a=[],l=[],s=r-1;for(let c=1;c<s;c++){const r=c/s*t,u=e+(c%2==0?n:-n);a.push(`${r},${u}`),l.push(`${r},${o?u-i:u+i}`)}return a.push(`${t},${e}`),l.push(`${t+i},${e}`),[a,l]},Cfe=(e,t)=>{const{context:n,selection:r,view:o}=t,i=r.select(`.${ffe}`).node(),{document:a}=n.canvas,{scale:l}=o,s=new Map;return e=>{const{key:t,start:r,end:o,gap:c=bfe,vertices:u=50,lineWidth:d=.5,verticeOffset:f=3}=e,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["key","start","end","gap","vertices","lineWidth","verticeOffset"]),p=a.createElement("g",{id:`break-group-${t}`,className:vfe}),g=Iz(l,"x.sortedDomain",[]),m=l.y.getOptions(),{range:v,domain:y}=m,b=y.indexOf(r),x=y.indexOf(o),{width:w,height:C}=i.getBBox();if(-1===b||-1===x||!g.length)return p;const S=v[0]>v[1],E=v[b]*C,O=v[x]*C;let k="",M="";for(const[n,{y:i,isLower:a}]of[{y:O,isLower:!1},{y:E,isLower:!0}].entries()){const e=S?d:-d,[t,r]=wfe(i,w-0,f,u,a,e);0===n?(k=`M 0,${i} L ${t.join(" L ")} `,M=`M ${0-d},${i+e} L ${r.join(" L ")} `):(k+=`L ${w-0},${i} L ${[...t].reverse().join(" L ")} L 0,${i} Z`,M+=`L ${w-0+d+2},${i-e} L ${[...r].reverse().join(" L ")} L ${0-d},${i-e} Z`)}const $=Object.assign(Object.assign({},xfe),h);try{const e=new YX({style:Object.assign(Object.assign({},$),{d:k})}),a=new YX({style:Object.assign(Object.assign({},$),{d:M,lineWidth:0,cursor:"pointer"})});a.addEventListener("click",e=>yfe(void 0,void 0,void 0,function*(){e.stopPropagation(),2===e.detail&&(yield((e,t,r)=>yfe(void 0,void 0,void 0,function*(){const{update:o,setState:i}=n.externals;i("options",n=>{const{marks:o}=n;if(!o||!o.length)return n;const i=o.map(e=>{const n=Iz(e,"scale.y.breaks",[]),o=n.filter(e=>e.start!==t&&e.end!==r&&!e.collapsed);return n.forEach(e=>{e.start===t&&e.end===r&&(e.collapsed=!0)}),kz({},e,{scale:{y:{breaks:o}}})});return s.set(e,{start:t,end:r}),Object.assign(Object.assign({},n),{marks:i})}),yield o()}))(t,r,o))})),p.appendChild(e),p.appendChild(a),i.addEventListener("click",e=>yfe(void 0,void 0,void 0,function*(){2===e.detail&&(yield yfe(void 0,void 0,void 0,function*(){if(!s.size)return;const{update:e,setState:t}=n.externals;t("options",e=>{const{marks:t}=e,n=t.map(e=>{const t=Iz(e,"scale.y.breaks",[]);return Nz(e,"scale.y.breaks",t.map(e=>Object.assign(Object.assign({},e),{collapsed:!1}))),e});return s.clear(),Object.assign(Object.assign({},e),{marks:n})}),yield e()}))})),i.appendChild(p)}catch(rw){}return p}};function Sfe(e,t){return e.getBandWidth(e.invert(t))}Cfe.props={};const Efe={rect:sie,hollow:cie,funnel:fie,pyramid:pie},Ofe=()=>(e,t,n,r)=>{const{x:o,y1:i,series:a,size:l}=n;let{y:s}=n;s=s.map(e=>void 0!==e?e:1);const c=t.x,u=t.series,[d]=r.getSize(),f=l?l.map(e=>+e/d):null,h=l?(e,t,n)=>{const r=e+t/2,o=f[n];return[r-o/2,r+o/2]}:(e,t,n)=>[e,e+t];return[e,Array.from(e,e=>{const t=Sfe(c,o[e]),n=t*(u?Sfe(u,null==a?void 0:a[e]):1),l=(+(null==a?void 0:a[e])||0)*t,d=+o[e]+l,[f,p]=h(d,n,e),g=+s[e],m=+i[e];return[[f,g],[p,g],[p,m],[f,m]].map(e=>r.map(e))})]};Ofe.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:Efe,channels:[...nde({shapes:Object.keys(Efe)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...ade(),{type:S7},{type:hne}],postInference:[...ode()],interaction:{shareTooltip:!0}};const kfe={rect:sie,hollow:cie},Mfe=()=>(e,t,n,r)=>{const{x:o,x1:i,y:a,y1:l}=n;return[e,Array.from(e,e=>[[+o[e],+a[e]],[+i[e],+a[e]],[+i[e],+l[e]],[+o[e],+l[e]]].map(e=>r.map(e)))]};Mfe.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:kfe,channels:[...nde({shapes:Object.keys(kfe)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ade(),{type:S7}],postInference:[...ode()],interaction:{shareTooltip:!0}};const $fe={line:bie,smooth:xie,hv:wie,vh:Cie,hvh:Sie,trail:Oie},Ife=(e,t,n,r)=>{var o,i;const{series:a,x:l,y:s}=n,{x:c,y:u}=t;if(void 0===l||void 0===s)throw new Error("Missing encode for x or y channel.");const d=a?Array.from(H7(e,e=>a[e]).values()):[e],f=d.map(e=>e[0]).filter(e=>void 0!==e),h=((null===(o=null==c?void 0:c.getBandWidth)||void 0===o?void 0:o.call(c))||0)/2,p=((null===(i=null==u?void 0:u.getBandWidth)||void 0===i?void 0:i.call(u))||0)/2;return[f,Array.from(d,e=>e.map(e=>r.map([+l[e]+h,+s[e]+p]))),d]},Nfe=(e,t,n,r)=>{const o=Object.entries(n).filter(([e])=>e.startsWith("position")).map(([,e])=>e);if(0===o.length)throw new Error("Missing encode for position channel.");Doe(r)&&o.push(o[0]);return[e,Array.from(e,e=>{const t=o.map(t=>+t[e]),n=r.map(t),i=[];for(let r=0;r<n.length;r+=2)i.push([n[r],n[r+1]]);return i})]},Tfe=()=>(e,t,n,r)=>(Foe(r)?Nfe:Ife)(e,t,n,r);Tfe.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:$fe,channels:[...nde({shapes:Object.keys($fe)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...ade(),{type:Nne},{type:vne}],postInference:[...ode(),{type:fne,channel:"color"},{type:Ene,channel:["position"]}],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const Lfe={hollow:lae,hollowDiamond:iae,hollowHexagon:aae,hollowSquare:sae,hollowTriangleDown:uae,hollowTriangle:cae,hollowBowtie:oae,hollowCircle:hae,point:wae,plus:xae,diamond:mae,square:Cae,triangle:Eae,hexagon:vae,cross:gae,bowtie:pae,hyphen:yae,line:bae,tick:Sae,triangleDown:Oae,circle:fae},Rfe=e=>(t,n,r,o)=>{const{x:i,y:a,x1:l,y1:s,size:c,dx:u,dy:d}=r,[f,h]=o.getSize(),p=sde(n,r,e),g=e=>{const t=+((null==u?void 0:u[e])||0),n=+((null==d?void 0:d[e])||0);return[(l?(+i[e]+ +l[e])/2:+i[e])+t,(s?(+a[e]+ +s[e])/2:+a[e])+n]};return[t,c?Array.from(t,e=>{const[t,n]=g(e),r=+c[e],i=r/f,a=r/h,l=[t-i,n-a],s=[t+i,n+a];return[o.map(p(l,e)),o.map(p(s,e))]}):Array.from(t,e=>[o.map(p(g(e),e))])]};Rfe.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:Lfe,channels:[...nde({shapes:Object.keys(Lfe)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...ade(),{type:hne},{type:pne}],postInference:[{type:gne},...rde()]};const _fe={text:Pue,badge:Due,tag:zue},Afe=e=>{const{cartesian:t=!1}=e;return t?ude:(t,n,r,o)=>{const{x:i,y:a}=r,l=sde(n,r,e);return[t,Array.from(t,e=>{const t=[+i[e],+a[e]];return[o.map(l(t,e))]})]}};Afe.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:_fe,channels:[...nde({shapes:Object.keys(_fe)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize",scale:"identity"},{name:"rotate",scale:"identity"}],preInference:[...ade(),{type:Ine},{type:Mne}],postInference:[...rde()]};const Pfe={cell:sie,hollow:cie},jfe=()=>(e,t,n,r)=>{const{x:o,y:i}=n,a=t.x,l=t.y;return[e,Array.from(e,e=>{const t=a.getBandWidth(a.invert(+o[e])),n=l.getBandWidth(l.invert(+i[e])),s=+o[e],c=+i[e];return[[s,c],[s+t,c],[s+t,c+n],[s,c+n]].map(e=>r.map(e))})]};jfe.props={defaultShape:"cell",defaultLabelShape:"label",shape:Pfe,composite:!1,channels:[...nde({shapes:Object.keys(Pfe)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...ade(),{type:hne},{type:pne},{type:One}],postInference:[...rde()]};const Bfe={area:Wue,smooth:Gue,hvh:Vue,vh:que,hv:Xue},Dfe=()=>(e,t,n,r)=>{var o,i;const{x:a,y:l,y1:s,series:c}=n,{x:u,y:d}=t,f=c?Array.from(H7(e,e=>c[e]).values()):[e],h=f.map(e=>e[0]).filter(e=>void 0!==e),p=((null===(o=null==u?void 0:u.getBandWidth)||void 0===o?void 0:o.call(u))||0)/2,g=((null===(i=null==d?void 0:d.getBandWidth)||void 0===i?void 0:i.call(d))||0)/2;return[h,Array.from(f,e=>{const t=e.length,n=new Array(2*t);for(let o=0;o<e.length;o++){const i=e[o];n[o]=r.map([+a[i]+p,+l[i]+g]),n[t+o]=r.map([+a[i]+p,+s[i]+g])}return n}),f]};Dfe.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:Bfe,channels:[...nde({shapes:Object.keys(Bfe)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...ade(),{type:vne},{type:S7},{type:One}],postInference:[...ode()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const zfe={link:Uue,arc:ede,smooth:Kue,vhv:Que},Hfe=e=>(t,n,r,o)=>{const{x:i,y:a,x1:l=i,y1:s=a}=r,c=sde(n,r,e),u=t.map(e=>[o.map(c([+i[e],+a[e]],e)),o.map(c([+l[e],+s[e]],e))]);return[t,u]};Hfe.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:zfe,channels:[...nde({shapes:Object.keys(zfe)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ade(),{type:xne},{type:wne}],postInference:[...rde()]};const Ffe={image:pde},Wfe=e=>{const{cartesian:t}=e;return t?ude:(t,n,r,o)=>{const{x:i,y:a}=r,l=sde(n,r,e);return[t,Array.from(t,e=>{const t=[+i[e],+a[e]];return[o.map(l(t,e))]})]}};Wfe.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:Ffe,channels:[...nde({shapes:Object.keys(Ffe)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...ade(),{type:Ine},{type:Mne}],postInference:[...rde()]};const Gfe={polygon:gde,ribbon:vde},Vfe=()=>(e,t,n,r)=>{const o=Object.entries(n).filter(([e])=>e.startsWith("x")).map(([,e])=>e),i=Object.entries(n).filter(([e])=>e.startsWith("y")).map(([,e])=>e),a=e.map(e=>{const t=[];for(let n=0;n<o.length;n++){const a=o[n][e];if(void 0===a)break;const l=i[n][e];t.push(r.map([+a,+l]))}return t});return[e,a]};Vfe.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:Gfe,channels:[...nde({shapes:Object.keys(Gfe)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ade()],postInference:[...rde()]};const qfe={box:yde,violin:bde},Xfe=()=>(e,t,n,r)=>{const{x:o,y:i,y1:a,y2:l,y3:s,y4:c,series:u}=n,d=t.x,f=t.series;return[e,Array.from(e,e=>{const t=d.getBandWidth(d.invert(+o[e])),n=t*(f?f.getBandWidth(f.invert(+(null==u?void 0:u[e]))):1),h=(+(null==u?void 0:u[e])||0)*t,p=+o[e]+h+n/2,[g,m,v,y,b]=[+i[e],+a[e],+l[e],+s[e],+c[e]];return[[p-n/2,b],[p+n/2,b],[p,b],[p,y],[p-n/2,y],[p+n/2,y],[p+n/2,m],[p-n/2,m],[p-n/2,v],[p+n/2,v],[p,m],[p,g],[p-n/2,g],[p+n/2,g]].map(e=>r.map(e))})]};Xfe.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:qfe,channels:[...nde({shapes:Object.keys(qfe)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...ade(),{type:hne}],postInference:[...ode()],interaction:{shareTooltip:!0}};const Ufe={vector:Mae},Yfe=()=>(e,t,n,r)=>{const{x:o,y:i,size:a,rotate:l}=n,[s,c]=r.getSize(),u=e.map(e=>{const t=+l[e]/180*Math.PI,n=+a[e],u=n/c,d=n/s*Math.cos(t),f=-u*Math.sin(t);return[r.map([+o[e]-d/2,+i[e]-f/2]),r.map([+o[e]+d/2,+i[e]+f/2])]});return[e,u]};Yfe.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:Ufe,channels:[...nde({shapes:Object.keys(Ufe)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...ade()],postInference:[...rde()]};const Kfe={line:wde},Zfe=e=>(t,n,r,o)=>{const{y:i}=r,a=sde(n,r,kz({style:{bandOffset:0}},e));return[t,Array.from(t,e=>[[0,i[e]],[1,i[e]]].map(t=>o.map(a(t,e))))]};Zfe.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:Kfe,channels:[...ide({shapes:Object.keys(Kfe)}),{name:"y",required:!0}],preInference:[...ade(),{type:yne}],postInference:[]};const Qfe={line:wde},Jfe=e=>(t,n,r,o)=>{const{x:i}=r,a=sde(n,r,kz({style:{bandOffset:0}},e));return[t,Array.from(t,e=>[[i[e],1],[i[e],0]].map(t=>o.map(a(t,e))))]};Jfe.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:Qfe,channels:[...ide({shapes:Object.keys(Qfe)}),{name:"x",required:!0}],preInference:[...ade(),{type:bne}],postInference:[]};const ehe={connector:Ede},the=(...e)=>Hfe(...e);function nhe(e,t,n,r){if(t)return()=>[0,1];const{[e]:o,[`${e}1`]:i}=n;return e=>{var t;const n=(null===(t=r.getBandWidth)||void 0===t?void 0:t.call(r,r.invert(+i[e])))||0;return[o[e],i[e]+n]}}function rhe(e={}){const{extendX:t=!1,extendY:n=!1}=e;return(e,r,o,i)=>{const a=nhe("x",t,o,r.x),l=nhe("y",n,o,r.y);return[e,Array.from(e,e=>{const[t,n]=a(e),[r,o]=l(e);return[[t,r],[n,r],[n,o],[t,o]].map(e=>i.map(e))})]}}the.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:ehe,channels:[...ide({shapes:Object.keys(ehe)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ade()],postInference:[]};const ohe={range:sie},ihe=()=>rhe();ihe.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:ohe,channels:[...ide({shapes:Object.keys(ohe)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ade()],postInference:[]};const ahe={range:sie},lhe=()=>rhe({extendY:!0});lhe.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:ahe,channels:[...ide({shapes:Object.keys(ahe)}),{name:"x",required:!0}],preInference:[...ade(),{type:Cne}],postInference:[]};const she={range:sie},che=()=>rhe({extendX:!0});function uhe(e){return e.target.depth}function dhe(e,t){return e.sourceLinks.length?e.depth:t-1}function fhe(e){return function(){return e}}function hhe(e,t){return ghe(e.source,t.source)||e.index-t.index}function phe(e,t){return ghe(e.target,t.target)||e.index-t.index}function ghe(e,t){return e.y0-t.y0}function mhe(e){return e.value}function vhe(e){return e.index}function yhe(e){return e.nodes}function bhe(e){return e.links}function xhe(e,t){const n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function whe({nodes:e}){for(const t of e){let e=t.y0,n=e;for(const r of t.sourceLinks)r.y0=e+r.width/2,e+=r.width;for(const r of t.targetLinks)r.y1=n+r.width/2,n+=r.width}}function Che(){let e,t,n,r,o=0,i=0,a=1,l=1,s=24,c=8,u=vhe,d=dhe,f=yhe,h=bhe,p=6;function g(g){const y={nodes:f(g),links:h(g)};return function({nodes:e,links:t}){e.forEach((e,t)=>{e.index=t,e.sourceLinks=[],e.targetLinks=[]});const n=new Map(e.map(e=>[u(e),e]));if(t.forEach((e,t)=>{e.index=t;let{source:r,target:o}=e;"object"!=typeof r&&(r=e.source=xhe(n,r)),"object"!=typeof o&&(o=e.target=xhe(n,o)),r.sourceLinks.push(e),o.targetLinks.push(e)}),null!=r)for(const{sourceLinks:o,targetLinks:i}of e)o.sort(r),i.sort(r)}(y),function({nodes:e}){for(const t of e)t.value=void 0===t.fixedValue?Math.max(m9(t.sourceLinks,mhe),m9(t.targetLinks,mhe)):t.fixedValue}(y),function({nodes:e}){const n=e.length;let r=new Set(e),o=new Set,i=0;for(;r.size;){if(r.forEach(e=>{e.depth=i;for(const{target:t}of e.sourceLinks)o.add(t)}),++i>n)throw new Error("circular link");r=o,o=new Set}if(t){const n=Math.max(o9(e,e=>e.depth)+1,0);let r;for(let o=0;o<e.length;o++)r=e[o],r.depth=t.call(null,r,n)}}(y),function({nodes:e}){const t=e.length;let n=new Set(e),r=new Set,o=0;for(;n.size;){if(n.forEach(e=>{e.height=o;for(const{source:t}of e.targetLinks)r.add(t)}),++o>t)throw new Error("circular link");n=r,r=new Set}}(y),function(t){const r=function({nodes:e}){const t=Math.max(o9(e,e=>e.depth)+1,0),r=(a-o-s)/(t-1),i=new Array(t).fill(0).map(()=>[]);for(const n of e){const e=Math.max(0,Math.min(t-1,Math.floor(d.call(null,n,t))));n.layer=e,n.x0=o+e*r,n.x1=n.x0+s,i[e]?i[e].push(n):i[e]=[n]}if(n)for(const o of i)o.sort(n);return i}(t);e=Math.min(c,(l-i)/(o9(r,e=>e.length)-1)),function(t){const n=a9(t,t=>(l-i-(t.length-1)*e)/m9(t,mhe));for(const r of t){let t=i;for(const o of r){o.y0=t,o.y1=t+o.value*n,t=o.y1+e;for(const e of o.sourceLinks)e.width=e.value*n}t=(l-t+e)/(r.length+1);for(let e=0;e<r.length;++e){const n=r[e];n.y0+=t*(e+1),n.y1+=t*(e+1)}C(r)}}(r);for(let e=0;e<p;++e){const t=Math.pow(.99,e),n=Math.max(1-t,(e+1)/p);v(r,t,n),m(r,t,n)}}(y),whe(y),y}function m(e,t,r){for(let o=1,i=e.length;o<i;++o){const i=e[o];for(const e of i){let n=0,r=0;for(const{source:t,value:i}of e.targetLinks){const o=i*(e.layer-t.layer);n+=S(t,e)*o,r+=o}if(!(r>0))continue;const o=(n/r-e.y0)*t;e.y0+=o,e.y1+=o,w(e)}void 0===n&&i.sort(ghe),i.length&&y(i,r)}}function v(e,t,r){for(let o=e.length-2;o>=0;--o){const i=e[o];for(const e of i){let n=0,r=0;for(const{target:t,value:i}of e.sourceLinks){const o=i*(t.layer-e.layer);n+=E(e,t)*o,r+=o}if(!(r>0))continue;const o=(n/r-e.y0)*t;e.y0+=o,e.y1+=o,w(e)}void 0===n&&i.sort(ghe),i.length&&y(i,r)}}function y(t,n){const r=t.length>>1,o=t[r];x(t,o.y0-e,r-1,n),b(t,o.y1+e,r+1,n),x(t,l,t.length-1,n),b(t,i,0,n)}function b(t,n,r,o){for(;r<t.length;++r){const i=t[r],a=(n-i.y0)*o;a>1e-6&&(i.y0+=a,i.y1+=a),n=i.y1+e}}function x(t,n,r,o){for(;r>=0;--r){const i=t[r],a=(i.y1-n)*o;a>1e-6&&(i.y0-=a,i.y1-=a),n=i.y0-e}}function w({sourceLinks:e,targetLinks:t}){if(void 0===r){for(const{source:{sourceLinks:e}}of t)e.sort(phe);for(const{target:{targetLinks:t}}of e)t.sort(hhe)}}function C(e){if(void 0===r)for(const{sourceLinks:t,targetLinks:n}of e)t.sort(phe),n.sort(hhe)}function S(t,n){let r=t.y0-(t.sourceLinks.length-1)*e/2;for(const{target:o,width:i}of t.sourceLinks){if(o===n)break;r+=i+e}for(const{source:e,width:o}of n.targetLinks){if(e===t)break;r-=o}return r}function E(t,n){let r=n.y0-(n.targetLinks.length-1)*e/2;for(const{source:o,width:i}of n.targetLinks){if(o===t)break;r+=i+e}for(const{target:e,width:o}of t.sourceLinks){if(e===n)break;r-=o}return r}return g.update=function(e){return whe(e),e},g.nodeId=function(e){return arguments.length?(u="function"==typeof e?e:fhe(e),g):u},g.nodeAlign=function(e){return arguments.length?(d="function"==typeof e?e:fhe(e),g):d},g.nodeDepth=function(e){return arguments.length?(t=e,g):t},g.nodeSort=function(e){return arguments.length?(n=e,g):n},g.nodeWidth=function(e){return arguments.length?(s=+e,g):s},g.nodePadding=function(t){return arguments.length?(c=e=+t,g):c},g.nodes=function(e){return arguments.length?(f="function"==typeof e?e:fhe(e),g):f},g.links=function(e){return arguments.length?(h="function"==typeof e?e:fhe(e),g):h},g.linkSort=function(e){return arguments.length?(r=e,g):r},g.size=function(e){return arguments.length?(o=i=0,a=+e[0],l=+e[1],g):[a-o,l-i]},g.extent=function(e){return arguments.length?(o=+e[0][0],a=+e[1][0],i=+e[0][1],l=+e[1][1],g):[[o,i],[a,l]]},g.iterations=function(e){return arguments.length?(p=+e,g):p},g}che.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:she,channels:[...ide({shapes:Object.keys(she)}),{name:"y",required:!0}],preInference:[...ade(),{type:Sne}],postInference:[]};const She={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:e=>e.nodes,links:e=>e.links,nodeSort:void 0,linkSort:void 0,iterations:6},Ehe={left:function(e){return e.depth},right:function(e,t){return t-1-e.height},center:function(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?a9(e.sourceLinks,uhe)-1:0},justify:dhe};const Ohe=e=>t=>{const{nodeId:n,nodeSort:r,nodeAlign:o,nodeWidth:i,nodePadding:a,nodeDepth:l,nodes:s,links:c,linkSort:u,iterations:d}=Object.assign({},She,e),f=Che().nodeSort(r).linkSort(u).links(c).nodes(s).nodeWidth(i).nodePadding(a).nodeDepth(l).nodeAlign(function(e){const t=typeof e;return"string"===t?Ehe[e]||dhe:"function"===t?e:dhe}(o)).iterations(d).extent([[0,0],[1,1]]);"function"==typeof n&&f.nodeId(n);const h=f(t),{nodes:p,links:g}=h;return{nodes:p.map(e=>{const{x0:t,x1:n,y0:r,y1:o}=e;return Object.assign(Object.assign({},e),{x:[t,n,n,t],y:[r,r,o,o]})}),links:g.map(e=>{const{source:t,target:n}=e,r=t.x1,o=n.x0,i=e.width/2;return Object.assign(Object.assign({},e),{x:[r,r,o,o],y:[e.y0+i,e.y0-i,e.y1+i,e.y1-i]})})}};function khe(e,t,n={},r=!1){if(Xte(e))return e;if(Array.isArray(e)&&r)return e;const o=Fte(e,t);return kz(n,o)}function Mhe(e,t={}){return Xte(e)||Array.isArray(e)?e:$he(e)?kz(t,e):e}function $he(e){if(0===Object.keys(e).length)return!0;const{title:t,items:n}=e;return void 0!==t||void 0!==n}function Ihe(e,t){return"object"==typeof e?Fte(e,t):e}Ohe.props={};const Nhe={nodeId:e=>e.key,nodeWidth:.02,nodePadding:.02},The={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},Lhe={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},Rhe={textAlign:e=>e.x[0]<.5?"start":"end",position:e=>e.x[0]<.5?"right":"left",fontSize:10},_he=e=>{const{data:t,encode:n={},scale:r,style:o={},layout:i={},nodeLabels:a=[],linkLabels:l=[],animate:s={},tooltip:c={},interaction:u,state:d={},viewStyle:f={}}=e,{links:h,nodes:p}=hde(t,n);if(!h||0===h.length)return[kz({},The,{data:[],encode:{},scale:r,style:Fte(o,"node"),viewStyle:f,labels:[],tooltip:!1,animate:!1,axis:!1,interaction:u,state:{}}),kz({},Lhe,{data:[],encode:{},labels:[],style:Fte(o,"link"),tooltip:!1,animate:!1,interaction:u,state:{}})];const g=Fte(n,"node"),m=Fte(n,"link"),{key:v=e=>e.key,color:y=v}=g,{links:b,nodes:x}=Ohe(Object.assign(Object.assign(Object.assign({},Nhe),{nodeId:dde(v)}),i))({links:h,nodes:p}),w=Fte(o,"label"),{text:C=v,spacing:S=5}=w,E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(w,["text","spacing"]),O=dde(v),k=khe(c,"node",{title:O,items:[{field:"value"}]},!0),M=khe(c,"link",{title:"",items:[e=>({name:"source",value:O(e.source)}),e=>({name:"target",value:O(e.target)})]}),[$,I]=Object.entries(d).reduce((e,[t,n])=>{const r=Gte(n,"node","link"),o=Fte(n,"node");e[0][t]=Object.assign(Object.assign({},r),o);const i=Fte(n,"link");return e[1][t]=Object.assign(Object.assign({},r),i),e},[{},{}]);return[kz({},The,{data:x,encode:Object.assign(Object.assign({},g),{color:y}),scale:r,style:Fte(o,"node"),viewStyle:f,labels:[Object.assign(Object.assign(Object.assign({},Rhe),{text:C,dx:e=>e.x[0]<.5?S:-S}),E),...a],tooltip:k,animate:Ihe(s,"node"),axis:!1,interaction:u,state:$}),kz({},Lhe,{data:b,encode:m,labels:l,style:Object.assign({fill:m.color?void 0:"#aaa",lineWidth:0},Fte(o,"link")),tooltip:M,animate:Ihe(s,"link"),interaction:u,state:I})]};_he.props={};const Ahe=Object.freeze(Object.defineProperty({__proto__:null,frequency:function(e,t){return t.frequency-e.frequency},id:function(e,t){return`${e.id}`.localeCompare(`${t.id}`)},name:function(e,t){return`${e.name}`.localeCompare(`${t.name}`)},weight:function(e,t){return t.value-e.value}},Symbol.toStringTag,{value:"Module"})),Phe={y:0,thickness:.05,weight:!1,marginRatio:.1,id:e=>e.id,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null};function jhe(e){const{y:t,thickness:n,weight:r,marginRatio:o,id:i,source:a,target:l,sourceWeight:s,targetWeight:c,sortBy:u}=Object.assign(Object.assign({},Phe),e);return function(e){const d=e.nodes.map(e=>Object.assign({},e)),f=e.edges.map(e=>Object.assign({},e));return function(e,t){t.forEach(e=>{e.source=a(e),e.target=l(e),e.sourceWeight=s(e),e.targetWeight=c(e)});const n=H7(t,e=>e.source),r=H7(t,e=>e.target);e.forEach(e=>{e.id=i(e);const t=n.has(e.id)?n.get(e.id):[],o=r.has(e.id)?r.get(e.id):[];e.frequency=t.length+o.length,e.value=m9(t,e=>e.sourceWeight)+m9(o,e=>e.targetWeight)})}(d,f),function(e){const t="function"==typeof u?u:Ahe[u];t&&e.sort(t)}(d),function(e,i){const a=e.length;if(!a)throw Bte("Invalid nodes: it's empty!");if(!r){const n=1/a;return e.forEach((e,r)=>{e.x=(r+.5)*n,e.y=t}),{nodes:e,edges:i}}const l=o/(2*a),s=e.reduce((e,t)=>e+t.value,0);e.reduce((e,r)=>{r.weight=r.value/s,r.width=r.weight*(1-o),r.height=n;const i=l+e,a=i+r.width,c=t-n/2,u=c+n;return r.x=[i,a,a,i],r.y=[c,c,u,u],e+r.width+2*l},0)}(d,f),function(e,n){const o=new Map(e.map(e=>[e.id,e]));if(!r)return n.forEach(e=>{const t=a(e),n=l(e),r=o.get(t),i=o.get(n);r&&i&&(e.x=[r.x,i.x],e.y=[r.y,i.y])}),{nodes:e,edges:n};n.forEach(e=>{e.x=[0,0,0,0],e.y=[t,t,t,t]});const i=H7(n,e=>e.source),s=H7(n,e=>e.target);e.forEach(e=>{const{edges:t,width:n,x:r,y:o,value:a,id:l}=e,c=i.get(l)||[],u=s.get(l)||[];let d=0;c.map(e=>{const t=e.sourceWeight/a*n;e.x[0]=r[0]+d,e.x[1]=r[0]+d+t,d+=t}),u.forEach(e=>{const t=e.targetWeight/a*n;e.x[3]=r[0]+d,e.x[2]=r[0]+d+t,d+=t})})}(d,f),{nodes:d,edges:f}}}const Bhe=e=>t=>jhe(e)(t);Bhe.props={};var Dhe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const zhe={y:0,thickness:.05,marginRatio:.1,id:e=>e.key,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null},Hhe={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},Fhe={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1}},Whe={position:"outside",fontSize:10},Ghe=(e,t)=>{const{data:n,encode:r={},scale:o,style:i={},layout:a={},nodeLabels:l=[],linkLabels:s=[],animate:c={},tooltip:u={}}=e,{nodes:d,links:f}=hde(n,r),h=Fte(r,"node"),p=Fte(r,"link"),{key:g=e=>e.key,color:m=g}=h,{linkEncodeColor:v=e=>e.source}=p,{nodeWidthRatio:y=zhe.thickness,nodePaddingRatio:b=zhe.marginRatio}=a,x=Dhe(a,["nodeWidthRatio","nodePaddingRatio"]),{nodes:w,edges:C}=Bhe(Object.assign(Object.assign(Object.assign(Object.assign({},zhe),{id:dde(g),thickness:y,marginRatio:b}),x),{weight:!0}))({nodes:d,edges:f}),S=Fte(i,"label"),{text:E=g}=S,O=Dhe(S,["text"]),k=khe(u,"node",{title:"",items:[e=>({name:e.key,value:e.value})]},!0),M=khe(u,"link",{title:"",items:[e=>({name:`${e.source} -> ${e.target}`,value:e.value})]}),{height:$,width:I}=t,N=Math.min($,I);return[kz({},Fhe,{data:C,encode:Object.assign(Object.assign({},p),{color:v}),labels:s,style:Object.assign({fill:v?void 0:"#aaa"},Fte(i,"link")),tooltip:M,animate:Ihe(c,"link")}),kz({},Hhe,{data:w,encode:Object.assign(Object.assign({},h),{color:m}),scale:o,style:Fte(i,"node"),coordinate:{type:"polar",outerRadius:(N-20)/N,startAngle:2*-Math.PI,endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},Whe),{text:E}),O),...l],tooltip:k,animate:Ihe(c,"node"),axis:!1})]};Ghe.props={};const Vhe={path:qde,hollow:Xde},qhe=e=>(e,t,n,r)=>[e,e.map(()=>[[0,0]])];function Xhe(e,t){return e.parent===t.parent?1:2}function Uhe(e,t){return e+t.x}function Yhe(e,t){return Math.max(e,t.y)}function Khe(){var e=Xhe,t=1,n=1,r=!1;function o(o){var i,a=0;o.eachAfter(function(t){var n=t.children;n?(t.x=function(e){return e.reduce(Uhe,0)/e.length}(n),t.y=function(e){return 1+e.reduce(Yhe,0)}(n)):(t.x=i?a+=e(t,i):0,t.y=0,i=t)});var l=function(e){for(var t;t=e.children;)e=t[0];return e}(o),s=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(o),c=l.x-e(l,s)/2,u=s.x+e(s,l)/2;return o.eachAfter(r?function(e){e.x=(e.x-o.x)*t,e.y=(o.y-e.y)*n}:function(e){e.x=(e.x-c)/(u-c)*t,e.y=(1-(o.y?e.y/o.y:1))*n})}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],o):r?null:[t,n]},o.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],o):r?[t,n]:null},o}function Zhe(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function Qhe(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=epe)):void 0===t&&(t=Jhe);for(var n,r,o,i,a,l=new rpe(e),s=[l];n=s.pop();)if((o=t(n.data))&&(a=(o=Array.from(o)).length))for(n.children=o,i=a-1;i>=0;--i)s.push(r=o[i]=new rpe(o[i])),r.parent=n,r.depth=n.depth+1;return l.eachBefore(npe)}function Jhe(e){return e.children}function epe(e){return Array.isArray(e)?e[1]:null}function tpe(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function npe(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function rpe(e){this.data=e,this.depth=this.height=0,this.parent=null}function ope(e){return null==e?null:ipe(e)}function ipe(e){if("function"!=typeof e)throw new Error;return e}function ape(){return 0}function lpe(e){return function(){return e}}qhe.props={defaultShape:"path",defaultLabelShape:"label",shape:Vhe,composite:!1,channels:[...nde({shapes:Object.keys(Vhe)}),{name:"d",scale:"identity"}],preInference:[...ade()],postInference:[]},rpe.prototype=Qhe.prototype={constructor:rpe,count:function(){return this.eachAfter(Zhe)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,o,i=this,a=[i],l=[],s=-1;i=a.pop();)if(l.push(i),n=i.children)for(r=0,o=n.length;r<o;++r)a.push(n[r]);for(;i=l.pop();)e.call(t,i,++s,this);return this},eachBefore:function(e,t){for(var n,r,o=this,i=[o],a=-1;o=i.pop();)if(e.call(t,o,++a,this),n=o.children)for(r=n.length-1;r>=0;--r)i.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)n+=r[o].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;e=n.pop(),t=r.pop();for(;e===t;)o=e,e=n.pop(),t=r.pop();return o}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return Qhe(this).eachBefore(tpe)},[Symbol.iterator]:function*(){var e,t,n,r,o=this,i=[o];do{for(e=i.reverse(),i=[];o=e.pop();)if(yield o,t=o.children)for(n=0,r=t.length;n<r;++n)i.push(t[n])}while(i.length)}};const spe=4294967296;function cpe(e,t){var n,r;if(fpe(t,e))return[t];for(n=0;n<e.length;++n)if(upe(t,e[n])&&fpe(ppe(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(upe(ppe(e[n],e[r]),t)&&upe(ppe(e[n],t),e[r])&&upe(ppe(e[r],t),e[n])&&fpe(gpe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function upe(e,t){var n=e.r-t.r,r=t.x-e.x,o=t.y-e.y;return n<0||n*n<r*r+o*o}function dpe(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function fpe(e,t){for(var n=0;n<t.length;++n)if(!dpe(e,t[n]))return!1;return!0}function hpe(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return ppe(e[0],e[1]);case 3:return gpe(e[0],e[1],e[2])}var t}function ppe(e,t){var n=e.x,r=e.y,o=e.r,i=t.x,a=t.y,l=t.r,s=i-n,c=a-r,u=l-o,d=Math.sqrt(s*s+c*c);return{x:(n+i+s/d*u)/2,y:(r+a+c/d*u)/2,r:(d+o+l)/2}}function gpe(e,t,n){var r=e.x,o=e.y,i=e.r,a=t.x,l=t.y,s=t.r,c=n.x,u=n.y,d=n.r,f=r-a,h=r-c,p=o-l,g=o-u,m=s-i,v=d-i,y=r*r+o*o-i*i,b=y-a*a-l*l+s*s,x=y-c*c-u*u+d*d,w=h*p-f*g,C=(p*x-g*b)/(2*w)-r,S=(g*m-p*v)/w,E=(h*b-f*x)/(2*w)-o,O=(f*v-h*m)/w,k=S*S+O*O-1,M=2*(i+C*S+E*O),$=C*C+E*E-i*i,I=-(Math.abs(k)>1e-6?(M+Math.sqrt(M*M-4*k*$))/(2*k):$/M);return{x:r+C+S*I,y:o+E+O*I,r:I}}function mpe(e,t,n){var r,o,i,a,l=e.x-t.x,s=e.y-t.y,c=l*l+s*s;c?(o=t.r+n.r,o*=o,a=e.r+n.r,o>(a*=a)?(r=(c+a-o)/(2*c),i=Math.sqrt(Math.max(0,a/c-r*r)),n.x=e.x-r*l-i*s,n.y=e.y-r*s+i*l):(r=(c+o-a)/(2*c),i=Math.sqrt(Math.max(0,o/c-r*r)),n.x=t.x+r*l-i*s,n.y=t.y+r*s+i*l)):(n.x=t.x+n.r,n.y=t.y)}function vpe(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function ype(e){var t=e._,n=e.next._,r=t.r+n.r,o=(t.x*n.r+n.x*t.r)/r,i=(t.y*n.r+n.y*t.r)/r;return o*o+i*i}function bpe(e){this._=e,this.next=null,this.previous=null}function xpe(e,t){if(!(a=(n=e,e="object"==typeof n&&"length"in n?n:Array.from(n)).length))return 0;var n,r,o,i,a,l,s,c,u,d,f,h;if((r=e[0]).x=0,r.y=0,!(a>1))return r.r;if(o=e[1],r.x=-o.r,o.x=r.r,o.y=0,!(a>2))return r.r+o.r;mpe(o,r,i=e[2]),r=new bpe(r),o=new bpe(o),i=new bpe(i),r.next=i.previous=o,o.next=r.previous=i,i.next=o.previous=r;e:for(c=3;c<a;++c){mpe(r._,o._,i=e[c]),i=new bpe(i),u=o.next,d=r.previous,f=o._.r,h=r._.r;do{if(f<=h){if(vpe(u._,i._)){o=u,r.next=o,o.previous=r,--c;continue e}f+=u._.r,u=u.next}else{if(vpe(d._,i._)){(r=d).next=o,o.previous=r,--c;continue e}h+=d._.r,d=d.previous}}while(u!==d.next);for(i.previous=r,i.next=o,r.next=o.previous=o=i,l=ype(r);(i=i.next)!==o;)(s=ype(i))<l&&(r=i,l=s);o=r.next}for(r=[o._],i=o;(i=i.next)!==o;)r.push(i._);for(i=function(e,t){for(var n,r,o=0,i=(e=function(e,t){let n,r,o=e.length;for(;o;)r=t()*o--|0,n=e[o],e[o]=e[r],e[r]=n;return e}(Array.from(e),t)).length,a=[];o<i;)n=e[o],r&&dpe(r,n)?++o:(r=hpe(a=cpe(a,n)),o=0);return r}(r,t),c=0;c<a;++c)(r=e[c]).x-=i.x,r.y-=i.y;return i.r}function wpe(e){return Math.sqrt(e.value)}function Cpe(){var e=null,t=1,n=1,r=ape;function o(o){const i=function(){let e=1;return()=>(e=(1664525*e+1013904223)%spe)/spe}();return o.x=t/2,o.y=n/2,e?o.eachBefore(Spe(e)).eachAfter(Epe(r,.5,i)).eachBefore(Ope(1)):o.eachBefore(Spe(wpe)).eachAfter(Epe(ape,1,i)).eachAfter(Epe(r,o.r/Math.min(t,n),i)).eachBefore(Ope(Math.min(t,n)/(2*o.r))),o}return o.radius=function(t){return arguments.length?(e=ope(t),o):e},o.size=function(e){return arguments.length?(t=+e[0],n=+e[1],o):[t,n]},o.padding=function(e){return arguments.length?(r="function"==typeof e?e:lpe(+e),o):r},o}function Spe(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Epe(e,t,n){return function(r){if(o=r.children){var o,i,a,l=o.length,s=e(r)*t||0;if(s)for(i=0;i<l;++i)o[i].r+=s;if(a=xpe(o,n),s)for(i=0;i<l;++i)o[i].r-=s;r.r=a+s}}}function Ope(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function kpe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Mpe(e,t,n,r,o){for(var i,a=e.children,l=-1,s=a.length,c=e.value&&(r-t)/e.value;++l<s;)(i=a[l]).y0=n,i.y1=o,i.x0=t,i.x1=t+=i.value*c}var $pe={depth:-1},Ipe={},Npe={};function Tpe(e){return e.id}function Lpe(e){return e.parentId}function Rpe(){var e,t=Tpe,n=Lpe;function r(r){var o,i,a,l,s,c,u,d,f=Array.from(r),h=t,p=n,g=new Map;if(null!=e){const t=f.map((t,n)=>function(e){e=`${e}`;let t=e.length;Ape(e,t-1)&&!Ape(e,t-2)&&(e=e.slice(0,-1));return"/"===e[0]?e:`/${e}`}(e(t,n,r))),n=t.map(_pe),o=new Set(t).add("");for(const e of n)o.has(e)||(o.add(e),t.push(e),n.push(_pe(e)),f.push(Npe));h=(e,n)=>t[n],p=(e,t)=>n[t]}for(a=0,o=f.length;a<o;++a)i=f[a],c=f[a]=new rpe(i),null!=(u=h(i,a,r))&&(u+="")&&(d=c.id=u,g.set(d,g.has(d)?Ipe:c)),null!=(u=p(i,a,r))&&(u+="")&&(c.parent=u);for(a=0;a<o;++a)if(u=(c=f[a]).parent){if(!(s=g.get(u)))throw new Error("missing: "+u);if(s===Ipe)throw new Error("ambiguous: "+u);s.children?s.children.push(c):s.children=[c],c.parent=s}else{if(l)throw new Error("multiple roots");l=c}if(!l)throw new Error("no root");if(null!=e){for(;l.data===Npe&&1===l.children.length;)l=l.children[0],--o;for(let e=f.length-1;e>=0&&(c=f[e]).data===Npe;--e)c.data=null}if(l.parent=$pe,l.eachBefore(function(e){e.depth=e.parent.depth+1,--o}).eachBefore(npe),l.parent=null,o>0)throw new Error("cycle");return l}return r.id=function(e){return arguments.length?(t=ope(e),r):t},r.parentId=function(e){return arguments.length?(n=ope(e),r):n},r.path=function(t){return arguments.length?(e=ope(t),r):e},r}function _pe(e){let t=e.length;if(t<2)return"";for(;--t>1&&!Ape(e,t););return e.slice(0,t)}function Ape(e,t){if("/"===e[t]){let n=0;for(;t>0&&"\\"===e[--t];)++n;if(!(1&n))return!0}return!1}function Ppe(e,t){return e.parent===t.parent?1:2}function jpe(e){var t=e.children;return t?t[0]:e.t}function Bpe(e){var t=e.children;return t?t[t.length-1]:e.t}function Dpe(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function zpe(e,t,n){return e.a.parent===t.parent?e.a:n}function Hpe(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Fpe(){var e=Ppe,t=1,n=1,r=null;function o(o){var s=function(e){for(var t,n,r,o,i,a=new Hpe(e,0),l=[a];t=l.pop();)if(r=t._.children)for(t.children=new Array(i=r.length),o=i-1;o>=0;--o)l.push(n=t.children[o]=new Hpe(r[o],o)),n.parent=t;return(a.parent=new Hpe(null,0)).children=[a],a}(o);if(s.eachAfter(i),s.parent.m=-s.z,s.eachBefore(a),r)o.eachBefore(l);else{var c=o,u=o,d=o;o.eachBefore(function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)});var f=c===u?1:e(c,u)/2,h=f-c.x,p=t/(u.x+f+h),g=n/(d.depth||1);o.eachBefore(function(e){e.x=(e.x+h)*p,e.y=e.depth*g})}return o}function i(t){var n=t.children,r=t.parent.children,o=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,o=e.children,i=o.length;--i>=0;)(t=o[i]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var i=(n[0].z+n[n.length-1].z)/2;o?(t.z=o.z+e(t._,o._),t.m=t.z-i):t.z=i}else o&&(t.z=o.z+e(t._,o._));t.parent.A=function(t,n,r){if(n){for(var o,i=t,a=t,l=n,s=i.parent.children[0],c=i.m,u=a.m,d=l.m,f=s.m;l=Bpe(l),i=jpe(i),l&&i;)s=jpe(s),(a=Bpe(a)).a=t,(o=l.z+d-i.z-c+e(l._,i._))>0&&(Dpe(zpe(l,t,r),t,o),c+=o,u+=o),d+=l.m,c+=i.m,f+=s.m,u+=a.m;l&&!Bpe(a)&&(a.t=l,a.m+=d-u),i&&!jpe(s)&&(s.t=i,s.m+=c-f,r=t)}return r}(t,o,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=t,e.y=e.depth*n}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],o):r?null:[t,n]},o.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],o):r?[t,n]:null},o}function Wpe(e,t,n,r,o){for(var i,a=e.children,l=-1,s=a.length,c=e.value&&(o-n)/e.value;++l<s;)(i=a[l]).x0=t,i.x1=r,i.y0=n,i.y1=n+=i.value*c}Hpe.prototype=Object.create(rpe.prototype);var Gpe=(1+Math.sqrt(5))/2;function Vpe(e,t,n,r,o,i){for(var a,l,s,c,u,d,f,h,p,g,m,v=[],y=t.children,b=0,x=0,w=y.length,C=t.value;b<w;){s=o-n,c=i-r;do{u=y[x++].value}while(!u&&x<w);for(d=f=u,m=u*u*(g=Math.max(c/s,s/c)/(C*e)),p=Math.max(f/m,m/d);x<w;++x){if(u+=l=y[x].value,l<d&&(d=l),l>f&&(f=l),m=u*u*g,(h=Math.max(f/m,m/d))>p){u-=l;break}p=h}v.push(a={value:u,dice:s<c,children:y.slice(b,x)}),a.dice?Mpe(a,n,r,o,C?r+=c*u/C:i):Wpe(a,n,r,C?n+=s*u/C:o,i),C-=u,b=x}return v}const qpe=function e(t){function n(e,n,r,o,i){Vpe(t,e,n,r,o,i)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Gpe);function Xpe(e,t,n,r,o){var i,a,l=e.children,s=l.length,c=new Array(s+1);for(c[0]=a=i=0;i<s;++i)c[i+1]=a+=l[i].value;!function e(t,n,r,o,i,a,s){if(t>=n-1){var u=l[t];return u.x0=o,u.y0=i,u.x1=a,void(u.y1=s)}var d=c[t],f=r/2+d,h=t+1,p=n-1;for(;h<p;){var g=h+p>>>1;c[g]<f?h=g+1:p=g}f-c[h-1]<c[h]-f&&t+1<h&&--h;var m=c[h]-d,v=r-m;if(a-o>s-i){var y=r?(o*v+a*m)/r:a;e(t,h,m,o,i,y,s),e(h,n,v,y,i,a,s)}else{var b=r?(i*v+s*m)/r:s;e(t,h,m,o,i,a,b),e(h,n,v,o,b,a,s)}}(0,s,e.value,t,n,r,o)}function Upe(e,t,n,r,o){(1&e.depth?Wpe:Mpe)(e,t,n,r,o)}const Ype=function e(t){function n(e,n,r,o,i){if((a=e._squarify)&&a.ratio===t)for(var a,l,s,c,u,d=-1,f=a.length,h=e.value;++d<f;){for(s=(l=a[d]).children,c=l.value=0,u=s.length;c<u;++c)l.value+=s[c].value;l.dice?Mpe(l,n,r,o,h?r+=(i-r)*l.value/h:i):Wpe(l,n,r,h?n+=(o-n)*l.value/h:o,i),h-=l.value}else e._squarify=a=Vpe(t,e,n,r,o,i),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Gpe);function Kpe(e,t=[e.data.name]){e.id=e.id||e.data.name,e.path=t,e.children&&e.children.forEach(n=>{n.id=`${e.id}/${n.data.name}`,n.path=[...t,n.data.name],Kpe(n,n.path)})}function Zpe(e){const t=Iz(e,["data","name"]);t.replaceAll&&(e.path=t.replaceAll(".","/").split("/")),e.children&&e.children.forEach(e=>{Zpe(e)})}function Qpe(e,t,n){const{value:r}=n,o=function(e,t){const n={treemapBinary:Xpe,treemapDice:Mpe,treemapSlice:Wpe,treemapSliceDice:Upe,treemapSquarify:qpe,treemapResquarify:Ype},r="treemapSquarify"===e?n[e].ratio(t):n[e];if(!r)throw new TypeError("Invalid tile method!");return r}(t.tile,t.ratio),i=function(e,t){return Array.isArray(e)?"function"==typeof t?Rpe().path(t)(e):Rpe()(e):Qhe(e)}(e,t.path);KD(e)?Zpe(i):Kpe(i),r?i.sum(e=>t.ignoreParentValue&&e.children?0:dde(r)(e)).sort(t.sort):i.count(),function(){var e=qpe,t=!1,n=1,r=1,o=[0],i=ape,a=ape,l=ape,s=ape,c=ape;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),o=[0],t&&e.eachBefore(kpe),e}function d(t){var n=o[t.depth],r=t.x0+n,u=t.y0+n,d=t.x1-n,f=t.y1-n;d<r&&(r=d=(r+d)/2),f<u&&(u=f=(u+f)/2),t.x0=r,t.y0=u,t.x1=d,t.y1=f,t.children&&(n=o[t.depth+1]=i(t)/2,r+=c(t)-n,u+=a(t)-n,(d-=l(t)-n)<r&&(r=d=(r+d)/2),(f-=s(t)-n)<u&&(u=f=(u+f)/2),e(t,r,u,d,f))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],r=+e[1],u):[n,r]},u.tile=function(t){return arguments.length?(e=ipe(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(i="function"==typeof e?e:lpe(+e),u):i},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(a="function"==typeof e?e:lpe(+e),u):a},u.paddingRight=function(e){return arguments.length?(l="function"==typeof e?e:lpe(+e),u):l},u.paddingBottom=function(e){return arguments.length?(s="function"==typeof e?e:lpe(+e),u):s},u.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:lpe(+e),u):c},u}().tile(o).size(t.size).round(t.round).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft)(i);const a=i.descendants().map(e=>Object.assign(e,{id:e.id.replace(/^\//,""),x:[e.x0,e.x1],y:[e.y0,e.y1]}));return[a.filter("function"==typeof t.layer?t.layer:e=>e.height===t.layer),a]}const Jpe={fontSize:10,text:e=>sz(e.path),position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>e.x1-e.x0,isTreemapLabel:!0},ege={title:e=>{var t,n;return null===(n=null===(t=e.path)||void 0===t?void 0:t.join)||void 0===n?void 0:n.call(t,".")},items:[{field:"value"}]},tge={title:e=>sz(e.path),items:[{field:"value"}]},nge=(e,t)=>{const{width:n,height:r,options:o}=t,{data:i,encode:a={},scale:l,style:s={},layout:c={},labels:u=[],tooltip:d={}}=e,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["data","encode","scale","style","layout","labels","tooltip"]),h=Iz(o,["interaction","treemapDrillDown"])||Iz(o,["marks",0,"interaction","treemapDrillDown"]),p=kz({},((e,t)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[e,t],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(e,t)=>t.value-e.value,layer:0}))(n,r),c,{layer:h?e=>1===e.depth:c.layer}),[g,m]=Qpe(i,p,a),v=Fte(s,"label");return kz({},((e,t)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",key:"id",color:e=>e.path[1]},scale:{x:{domain:[0,e],range:[0,1]},y:{domain:[0,t],range:[0,1]}},style:{stroke:"#fff"},state:{active:{opacity:.6},inactive:{opacity:1}}}))(n,r),Object.assign(Object.assign({data:g,scale:l,style:s,labels:[Object.assign(Object.assign(Object.assign({},Jpe),v),h&&{cursor:"pointer"}),...u]},f),{encode:a,tooltip:Mhe(d,ege),axis:!1}),h?{interaction:Object.assign(Object.assign({},f.interaction),{treemapDrillDown:h?Object.assign(Object.assign({},h),{originData:m,layout:p}):void 0}),encode:Object.assign({color:e=>sz(e.path)},a),tooltip:Mhe(d,tge)}:{})};nge.props={};const rge={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>2*e.r},oge={title:e=>e.data.name,items:[{field:"value"}]},ige=(e,t)=>{const{width:n,height:r}=t,{data:o,encode:i={},scale:a={},style:l={},layout:s={},labels:c=[],tooltip:u={}}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["data","encode","scale","style","layout","labels","tooltip"]),f=((e,t,n)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,e]},y:{domain:[0,t]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:n.color?void 0:e=>0===e.height?"#ddd":"#fff",stroke:n.color?void 0:e=>0===e.height?"":"#000"}}))(n,r,i),h=((e,t,n)=>{const{value:r}=n,o=KD(e)?Rpe().path(t.path)(e):Qhe(e);return r?o.sum(e=>dde(r)(e)).sort(t.sort):o.count(),Cpe().size(t.size).padding(t.padding)(o),o.descendants()})(o,kz({},((e,t)=>({size:[e,t],padding:0,sort:(e,t)=>t.value-e.value}))(n,r),s),kz({},f.encode,i)),p=Fte(l,"label");return kz({},f,Object.assign(Object.assign({data:h,encode:i,scale:a,style:l,labels:[Object.assign(Object.assign({},rge),p),...c]},d),{tooltip:Mhe(u,oge),axis:!1}))};ige.props={};var age=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function lge(e,t){return a9(e,e=>t[e])}function sge(e,t){return o9(e,e=>t[e])}function cge(e,t){const n=2.5*uge(e,t)-1.5*fge(e,t);return a9(e,e=>t[e]>=n?t[e]:NaN)}function uge(e,t){return u9(e,.25,e=>t[e])}function dge(e,t){return u9(e,.5,e=>t[e])}function fge(e,t){return u9(e,.75,e=>t[e])}function hge(e,t){const n=2.5*fge(e,t)-1.5*uge(e,t);return o9(e,e=>t[e]<=n?t[e]:NaN)}function pge(){return(e,t)=>{const{encode:n}=t,{y:r,x:o}=n,{value:i}=r,{value:a}=o;return[Array.from(H7(e,e=>a[+e]).values()).flatMap(e=>{const t=cge(e,i),n=hge(e,i);return e.filter(e=>i[e]<t||i[e]>n)}),t]}}const gge=e=>{const{data:t,encode:n,style:r={},tooltip:o={},transform:i,animate:a}=e,l=age(e,["data","encode","style","tooltip","transform","animate"]),{point:s=!0}=r,c=age(r,["point"]),{y:u}=n,d={y:u,y1:u,y2:u,y3:u,y4:u},f={y1:uge,y2:dge,y3:fge},h=khe(o,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),p=khe(o,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!s)return Object.assign({type:"box",data:t,transform:[Object.assign(Object.assign({type:"groupX",y:lge},f),{y4:sge})],encode:Object.assign(Object.assign({},n),d),style:c,tooltip:h},l);const g=Fte(c,"box"),m=Fte(c,"point");return[Object.assign({type:"box",data:t,transform:[Object.assign(Object.assign({type:"groupX",y:cge},f),{y4:hge})],encode:Object.assign(Object.assign({},n),d),style:g,tooltip:h,animate:Ihe(a,"box")},l),{type:"point",data:t,transform:[{type:pge}],encode:n,style:Object.assign({},m),tooltip:p,animate:Ihe(a,"point")}]};gge.props={};const mge=e=>{const{cartesian:t}=e;return t?ude:(t,n,r,o)=>{const{x:i,y:a}=r,l=sde(n,r,e);return[t,Array.from(t,e=>{const t=[+i[e],+a[e]];return[o.map(l(t,e))]})]}};function vge(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,l,s,c,u,d,f,h=e._root,p={data:r},g=e._x0,m=e._y0,v=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(i=(g+v)/2))?g=i:v=i,(u=n>=(a=(m+y)/2))?m=a:y=a,o=h,!(h=h[d=u<<1|c]))return o[d]=p,e;if(l=+e._x.call(null,h.data),s=+e._y.call(null,h.data),t===l&&n===s)return p.next=h,o?o[d]=p:e._root=p,e;do{o=o?o[d]=new Array(4):e._root=new Array(4),(c=t>=(i=(g+v)/2))?g=i:v=i,(u=n>=(a=(m+y)/2))?m=a:y=a}while((d=u<<1|c)==(f=(s>=a)<<1|l>=i));return o[f]=h,o[d]=p,e}function yge(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function bge(e){return e[0]}function xge(e){return e[1]}function wge(e,t,n){var r=new Cge(null==t?bge:t,null==n?xge:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Cge(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function Sge(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}mge.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:{shape:Jde},channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ade(),{type:Ine},{type:Mne},{type:$ne}]};var Ege=wge.prototype=Cge.prototype;function Oge(e){return function(){return e}}function kge(e){return 1e-6*(e()-.5)}function Mge(e){return e.x+e.vx}function $ge(e){return e.y+e.vy}function Ige(e){return e.index}function Nge(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}Ege.copy=function(){var e,t,n=new Cge(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Sge(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=Sge(t));return n},Ege.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return vge(this.cover(t,n),t,n,e)},Ege.addAll=function(e){var t,n,r,o,i=e.length,a=new Array(i),l=new Array(i),s=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,l[n]=o,r<s&&(s=r),r>u&&(u=r),o<c&&(c=o),o>d&&(d=o));if(s>u||c>d)return this;for(this.cover(s,c).cover(u,d),n=0;n<i;++n)vge(this,a[n],l[n],e[n]);return this},Ege.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,l,s=o-n||1,c=this._root;n>e||e>=o||r>t||t>=i;)switch(l=(t<r)<<1|e<n,(a=new Array(4))[l]=c,c=a,s*=2,l){case 0:o=n+s,i=r+s;break;case 1:n=o-s,i=r+s;break;case 2:o=n+s,r=i-s;break;case 3:n=o-s,r=i-s}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},Ege.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},Ege.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ege.find=function(e,t,n){var r,o,i,a,l,s,c,u=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],g=this._root;for(g&&p.push(new yge(g,u,d,f,h)),null==n?n=1/0:(u=e-n,d=t-n,f=e+n,h=t+n,n*=n);s=p.pop();)if(!(!(g=s.node)||(o=s.x0)>f||(i=s.y0)>h||(a=s.x1)<u||(l=s.y1)<d))if(g.length){var m=(o+a)/2,v=(i+l)/2;p.push(new yge(g[3],m,v,a,l),new yge(g[2],o,v,m,l),new yge(g[1],m,i,a,v),new yge(g[0],o,i,m,v)),(c=(t>=v)<<1|e>=m)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var y=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);u=e-w,d=t-w,f=e+w,h=t+w,r=g.data}}return r},Ege.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,l,s,c,u,d,f,h=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!h)return this;if(h.length)for(;;){if((c=i>=(l=(p+m)/2))?p=l:m=l,(u=a>=(s=(g+v)/2))?g=s:v=s,t=h,!(h=h[d=u<<1|c]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,r?(o?r.next=o:delete r.next,this):t?(o?t[d]=o:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=o,this)},Ege.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Ege.root=function(){return this._root},Ege.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},Ege.visit=function(e){var t,n,r,o,i,a,l=[],s=this._root;for(s&&l.push(new yge(s,this._x0,this._y0,this._x1,this._y1));t=l.pop();)if(!e(s=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&s.length){var c=(r+i)/2,u=(o+a)/2;(n=s[3])&&l.push(new yge(n,c,u,i,a)),(n=s[2])&&l.push(new yge(n,r,u,c,a)),(n=s[1])&&l.push(new yge(n,c,o,i,u)),(n=s[0])&&l.push(new yge(n,r,o,c,u))}return this},Ege.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new yge(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,l=t.y0,s=t.x1,c=t.y1,u=(a+s)/2,d=(l+c)/2;(i=o[0])&&n.push(new yge(i,a,l,u,d)),(i=o[1])&&n.push(new yge(i,u,l,s,d)),(i=o[2])&&n.push(new yge(i,a,d,u,c)),(i=o[3])&&n.push(new yge(i,u,d,s,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Ege.x=function(e){return arguments.length?(this._x=e,this):this._x},Ege.y=function(e){return arguments.length?(this._y=e,this):this._y};var Tge={value:()=>{}};function Lge(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Rge(r)}function Rge(e){this._=e}function _ge(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function Age(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Tge,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Rge.prototype=Lge.prototype={constructor:Rge,on:function(e,t){var n,r,o=this._,i=(r=o,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,l=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<l;)if(n=(e=i[a]).type)o[n]=Age(o[n],e.name,t);else if(null==t)for(n in o)o[n]=Age(o[n],e.name,null);return this}for(;++a<l;)if((n=(e=i[a]).type)&&(n=_ge(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Rge(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const Pge=4294967296;function jge(e){return e.x}function Bge(e){return e.y}var Dge=Math.PI*(3-Math.sqrt(5));function zge(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,l=new Map,s=a4(d),c=Lge("tick","end"),u=function(){let e=1;return()=>(e=(1664525*e+1013904223)%Pge)/Pge}();function d(){f(),c.call("tick",t),n<r&&(s.stop(),c.call("end",t))}function f(r){var s,c,u=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(i-n)*o,l.forEach(function(e){e(n)}),s=0;s<u;++s)null==(c=e[s]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(.5+n),i=n*Dge;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),h(),t={tick:f,restart:function(){return s.restart(d),t},stop:function(){return s.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),l.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(u=e,l.forEach(p),t):u},force:function(e,n){return arguments.length>1?(null==n?l.delete(e):l.set(e,p(n)),t):l.get(e)},find:function(t,n,r){var o,i,a,l,s,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(o=t-(l=e[c]).x)*o+(i=n-l.y)*i)<r&&(s=l,r=a);return s},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function Hge(e){var t,n,r,o=Oge(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vx+=(r[i]-o.x)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=Oge(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:Oge(+e),a(),i):o},i.x=function(t){return arguments.length?(e="function"==typeof t?t:Oge(+t),a(),i):e},i}function Fge(e){var t,n,r,o=Oge(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vy+=(r[i]-o.y)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=Oge(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:Oge(+e),a(),i):o},i.y=function(t){return arguments.length?(e="function"==typeof t?t:Oge(+t),a(),i):e},i}const Wge={joint:!0},Gge={type:"link",axis:!1,legend:!1,encode:{x:[e=>e.source.x,e=>e.target.x],y:[e=>e.source.y,e=>e.target.y]},style:{stroke:"#999",strokeOpacity:.6}},Vge={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},qge={text:""};function Xge(e,t,n){const{nodes:r,links:o}=e,{joint:i,nodeStrength:a,linkStrength:l}=t,{nodeKey:s=e=>e.id,linkKey:c=e=>e.id}=n,u=function(){var e,t,n,r,o,i=Oge(-30),a=1,l=1/0,s=.81;function c(n){var o,i=e.length,a=wge(e,jge,Bge).visitAfter(d);for(r=n,o=0;o<i;++o)t=e[o],a.visit(f)}function u(){if(e){var t,n,r=e.length;for(o=new Array(r),t=0;t<r;++t)n=e[t],o[n.index]=+i(n,t,e)}}function d(e){var t,n,r,i,a,l=0,s=0;if(e.length){for(r=i=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(l+=t.value,s+=n,r+=n*t.x,i+=n*t.y);e.x=r/s,e.y=i/s}else{(t=e).x=t.data.x,t.y=t.data.y;do{l+=o[t.data.index]}while(t=t.next)}e.value=l}function f(e,i,c,u){if(!e.value)return!0;var d=e.x-t.x,f=e.y-t.y,h=u-i,p=d*d+f*f;if(h*h/s<p)return p<l&&(0===d&&(p+=(d=kge(n))*d),0===f&&(p+=(f=kge(n))*f),p<a&&(p=Math.sqrt(a*p)),t.vx+=d*e.value*r/p,t.vy+=f*e.value*r/p),!0;if(!(e.length||p>=l)){(e.data!==t||e.next)&&(0===d&&(p+=(d=kge(n))*d),0===f&&(p+=(f=kge(n))*f),p<a&&(p=Math.sqrt(a*p)));do{e.data!==t&&(h=o[e.data.index]*r/p,t.vx+=d*h,t.vy+=f*h)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,u()},c.strength=function(e){return arguments.length?(i="function"==typeof e?e:Oge(+e),u(),c):i},c.distanceMin=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.distanceMax=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c.theta=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c}(),d=function(e){var t,n,r,o,i,a,l=Ige,s=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},c=Oge(30),u=1;function d(r){for(var o=0,l=e.length;o<u;++o)for(var s,c,d,f,h,p,g,m=0;m<l;++m)c=(s=e[m]).source,f=(d=s.target).x+d.vx-c.x-c.vx||kge(a),h=d.y+d.vy-c.y-c.vy||kge(a),f*=p=((p=Math.sqrt(f*f+h*h))-n[m])/p*r*t[m],h*=p,d.vx-=f*(g=i[m]),d.vy-=h*g,c.vx+=f*(g=1-g),c.vy+=h*g}function f(){if(r){var a,s,c=r.length,u=e.length,d=new Map(r.map((e,t)=>[l(e,t,r),e]));for(a=0,o=new Array(c);a<u;++a)(s=e[a]).index=a,"object"!=typeof s.source&&(s.source=Nge(d,s.source)),"object"!=typeof s.target&&(s.target=Nge(d,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(a=0,i=new Array(u);a<u;++a)s=e[a],i[a]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);t=new Array(u),h(),n=new Array(u),p()}}function h(){if(r)for(var n=0,o=e.length;n<o;++n)t[n]=+s(e[n],n,e)}function p(){if(r)for(var t=0,o=e.length;t<o;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,a=t,f()},d.links=function(t){return arguments.length?(e=t,f(),d):e},d.id=function(e){return arguments.length?(l=e,d):l},d.iterations=function(e){return arguments.length?(u=+e,d):u},d.strength=function(e){return arguments.length?(s="function"==typeof e?e:Oge(+e),h(),d):s},d.distance=function(e){return arguments.length?(c="function"==typeof e?e:Oge(+e),p(),d):c},d}(o).id(dde(c));"function"==typeof a&&u.strength(a),"function"==typeof l&&d.strength(l);const f=zge(r).force("link",d).force("charge",u);i?f.force("center",function(e,t){var n,r=1;function o(){var o,i,a=n.length,l=0,s=0;for(o=0;o<a;++o)l+=(i=n[o]).x,s+=i.y;for(l=(l/a-e)*r,s=(s/a-t)*r,o=0;o<a;++o)(i=n[o]).x-=l,i.y-=s}return null==e&&(e=0),null==t&&(t=0),o.initialize=function(e){n=e},o.x=function(t){return arguments.length?(e=+t,o):e},o.y=function(e){return arguments.length?(t=+e,o):t},o.strength=function(e){return arguments.length?(r=+e,o):r},o}()):f.force("x",Hge()).force("y",Fge()),f.stop();const h=Math.ceil(Math.log(f.alphaMin())/Math.log(1-f.alphaDecay()));for(let p=0;p<h;p++)f.tick();return{nodesData:r,linksData:o}}const Uge=e=>{const{data:t,encode:n={},scale:r,style:o={},layout:i={},nodeLabels:a=[],linkLabels:l=[],animate:s={},tooltip:c={}}=e,{nodeKey:u=e=>e.id,linkKey:d=e=>e.id}=n,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["nodeKey","linkKey"]),h=Object.assign({nodeKey:u,linkKey:d},f),p=Fte(h,"node"),g=Fte(h,"link"),{links:m,nodes:v}=hde(t,h),{nodesData:y,linksData:b}=Xge({links:m,nodes:v},kz({},Wge,i),h),x=khe(c,"link",{items:[e=>({name:"source",value:dde(d)(e.source)}),e=>({name:"target",value:dde(d)(e.target)})]}),w=khe(c,"node",{items:[e=>({name:"key",value:dde(u)(e)})]},!0);return[kz({},Gge,{data:b,encode:g,labels:l,style:Fte(o,"link"),tooltip:x,animate:Ihe(s,"link")}),kz({},Vge,{data:y,encode:Object.assign({},p),scale:r,style:Fte(o,"node"),tooltip:w,labels:[Object.assign(Object.assign({},qge),Fte(o,"label")),...a],animate:Ihe(s,"link")})]};Uge.props={};const Yge=e=>t=>n=>{const{field:r="value",nodeSize:o,separation:i,sortBy:a,as:l=["x","y"]}=t,[s,c]=l,u=Qhe(n,e=>e.children).sum(e=>e[r]).sort(a),d=e();d.size([1,1]),o&&d.nodeSize(o),i&&d.separation(i),d(u);const f=[];u.each(e=>{e[s]=e.x,e[c]=e.y,e.name=e.data.name,f.push(e)});const h=u.links();return h.forEach(e=>{e[s]=[e.source[s],e.target[s]],e[c]=[e.source[c],e.target[c]]}),{nodes:f,edges:h}},Kge=e=>Yge(Khe)(e);Kge.props={};const Zge=e=>Yge(Fpe)(e);Zge.props={};const Qge={sortBy:(e,t)=>t.value-e.value},Jge={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},eme={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},tme={text:"",fontSize:10},nme=e=>{const{data:t,encode:n={},scale:r={},style:o={},layout:i={},nodeLabels:a=[],linkLabels:l=[],animate:s={},tooltip:c={}}=e,u=null==n?void 0:n.value,{nodes:d,edges:f}=Zge(Object.assign(Object.assign(Object.assign({},Qge),i),{field:u}))(t),h=khe(c,"node",{title:"name",items:["value"]},!0),p=khe(c,"link",{title:"",items:[e=>({name:"source",value:e.source.name}),e=>({name:"target",value:e.target.name})]});return[kz({},eme,{data:f,encode:Fte(n,"link"),scale:Fte(r,"link"),labels:l,style:Object.assign({stroke:"#999"},Fte(o,"link")),tooltip:p,animate:Ihe(s,"link")}),kz({},Jge,{data:d,scale:Fte(r,"node"),encode:Fte(n,"node"),labels:[Object.assign(Object.assign({},tme),Fte(o,"label")),...a],style:Object.assign({},Fte(o,"node")),tooltip:h,animate:Ihe(s,"node")})]};nme.props={};var rme=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const ome=(e,t)=>rme(void 0,void 0,void 0,function*(){const{width:n,height:r}=t,{data:o,encode:i={},scale:a,style:l={},layout:s={}}=e,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["data","encode","scale","style","layout"]),u=function(e,t){const{text:n="text",value:r="value"}=t;return e.map(e=>Object.assign(Object.assign({},e),{text:e[n],value:e[r]}))}(o,i);return kz({},{axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size",shape:"tag"},scale:{x:{range:[0,1]},y:{range:[0,1]}},style:{fontFamily:e=>e.fontFamily},tooltip:{items:[e=>({name:e.text,value:e.value})]}},Object.assign(Object.assign({data:{value:u,transform:[Object.assign({type:"wordCloud",size:[n,r]},s)]},encode:i,scale:a,style:l},c),{axis:!1}))});ome.props={};var ime=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const ame={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-1.1*Math.PI,endAngle:.1*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},lme={style:{shape:(e,t)=>{const{shape:n,radius:r}=e,o=ime(e,["shape","radius"]),i=Fte(o,"pointer"),a=Fte(o,"pin"),{shape:l}=i,s=ime(i,["shape"]),{shape:c}=a,u=ime(a,["shape"]),{coordinate:d,theme:f}=t;return(e,t)=>{const n=e.map(e=>d.invert(e)),[i,a,h]=function(e,t){const{transformations:n}=e.getOptions(),[,...r]=n.find(e=>e[0]===t);return r}(d,"polar"),p=d.clone(),{color:g}=t,m=l7({startAngle:i,endAngle:a,innerRadius:h,outerRadius:r});m.push(["cartesian"]),p.update({transformations:m});const v=n.map(e=>p.map(e)),[y,b]=oie(v),[x,w]=d.getCenter(),C=Object.assign(Object.assign({x1:y,y1:b,x2:x,y2:w,stroke:g},s),o),S=Object.assign(Object.assign({cx:x,cy:w,stroke:g},u),o),E=Xoe(new FX);return Xte(l)||("function"==typeof l?E.append(()=>l(v,t,p,f)):E.append("line").call(Zoe,C).node()),Xte(c)||("function"==typeof c?E.append(()=>c(v,t,p,f)):E.append("circle").call(Zoe,S).node()),E.node()}},lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},sme={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},tooltip:!1};function cme(e,t){const{name:n="score",target:r,total:o,percent:i,thresholds:a=[]}=function(e){if(uz(e)){const t=Math.max(0,Math.min(e,1));return{percent:t,target:t,total:1}}return e}(e),l=i||r,s=i?1:o,c=Object.assign({y:{domain:[0,s]}},t);return a.length?{targetData:[{x:n,y:l,color:"target"}],totalData:a.map((e,t)=>({x:n,y:t>=1?e-a[t-1]:e,color:t})),target:l,total:s,scale:c}:{targetData:[{x:n,y:l,color:"target"}],totalData:[{x:n,y:l,color:"target"},{x:n,y:s-l,color:"total"}],target:l,total:s,scale:c}}function ume(e,{target:t,total:n}){const{content:r}=e;return r?r(t,n):t.toString()}const dme=e=>{const{data:t={},scale:n={},style:r={},animate:o={},transform:i=[]}=e,a=ime(e,["data","scale","style","animate","transform"]),{targetData:l,totalData:s,target:c,total:u,scale:d}=cme(t,n),f=Fte(r,"text"),{tooltip:h}=f,p=ime(f,["tooltip"]),g=(m=r,v=["pointer","pin"],Object.fromEntries(Object.entries(m).filter(([e])=>v.find(t=>e.startsWith(t)))));var m,v;const y=Fte(r,"arc"),b=y.shape;return[kz({},ame,Object.assign({type:"interval",transform:[{type:"stackY"}],data:s,scale:d,style:"round"===b?Object.assign(Object.assign({},y),{shape:lfe}):y,animate:"object"==typeof o?Fte(o,"arc"):o},a)),kz({},ame,lme,Object.assign({type:"point",data:l,scale:d,style:g,animate:"object"==typeof o?Fte(o,"indicator"):o},a)),kz({},sme,{style:Object.assign({text:ume(p,{target:c,total:u})},p),tooltip:h,animate:"object"==typeof o?Fte(o,"text"):o})]};dme.props={};const fme={density:Ude},hme=()=>(e,t,n,r)=>{const{x:o,series:i}=n,a=Object.entries(n).filter(([e])=>e.startsWith("y")).map(([,e])=>e),l=Object.entries(n).filter(([e])=>e.startsWith("size")).map(([,e])=>e);if(void 0===o||void 0===a||void 0===l)throw new Error("Missing encode for x or y or size channel.");const s=t.x,c=t.series,u=Array.from(e,t=>{const n=s.getBandWidth(s.invert(+o[t])),u=n*(c?c.getBandWidth(c.invert(+(null==i?void 0:i[t]))):1),d=(+(null==i?void 0:i[t])||0)*n,f=+o[t]+d+u/2;return[...a.map((n,r)=>[f+ +l[r][t]/e.length,+a[r][t]]),...a.map((n,r)=>[f-+l[r][t]/e.length,+a[r][t]]).reverse()].map(e=>r.map(e))});return[e,u]};hme.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:fme,channels:[...nde({shapes:Object.keys(fme)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...ade(),{type:S7},{type:hne}],postInference:[...ode()],interaction:{shareTooltip:!0}};const pme={heatmap:Qde},gme=e=>(e,t,n,r)=>{const{x:o,y:i,size:a,color:l}=n;return[[0],[Array.from(e,e=>{const t=a?+a[e]:40;return[...r.map([+o[e],+i[e]]),l[e],t]})]]};gme.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:pme,channels:[...nde({shapes:Object.keys(pme)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...ade(),{type:hne},{type:pne}],postInference:[...rde()]};const mme={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:ife},animate:{enter:{type:"fadeIn"}}},vme={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},yme=e=>{const{data:t={},style:n={},animate:r}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["data","style","animate"]),i=Math.max(0,uz(t)?t:null==t?void 0:t.percent),a=[{percent:i,type:"liquid"}],l=Object.assign(Object.assign({},Fte(n,"text")),Fte(n,"content")),s=Fte(n,"outline"),c=Fte(n,"wave"),u=Fte(n,"background");return[kz({},mme,Object.assign({type:"interval",data:a,style:{liquidOptions:{percent:i,liquidShape:null==n?void 0:n.shape},styleOptions:Object.assign(Object.assign({},n),{outline:s,wave:c,background:u})},animate:r},o)),kz({},vme,{style:Object.assign({text:`${Koe(100*i)} %`},l),animate:r})]};yme.props={};const bme={hollow:lae,hollowDiamond:iae,hollowHexagon:aae,hollowSquare:sae,hollowTriangleDown:uae,hollowTriangle:cae,hollowBowtie:oae,hollowCircle:hae,point:wae,plus:xae,diamond:mae,square:Cae,triangle:Eae,hexagon:vae,cross:gae,bowtie:pae,hyphen:yae,line:bae,tick:Sae,triangleDown:Oae,circle:fae},xme=e=>(t,n,r,o)=>{const{x:i,y:a,size:l}=r;if(!i.length||!a.length)return[t,a.map(()=>[[]])];const[s,c]=o.getSize(),u=sde(n,r,e),d=Array.from(t,e=>({i:e,x:+i[e]*s,y:+a[e]*c,r:+l[e]||4})),f=zge(d).stop().force("collide",function(e){var t,n,r,o=1,i=1;function a(){for(var e,a,s,c,u,d,f,h=t.length,p=0;p<i;++p)for(a=wge(t,Mge,$ge).visitAfter(l),e=0;e<h;++e)s=t[e],d=n[s.index],f=d*d,c=s.x+s.vx,u=s.y+s.vy,a.visit(g);function g(e,t,n,i,a){var l=e.data,h=e.r,p=d+h;if(!l)return t>c+p||i<c-p||n>u+p||a<u-p;if(l.index>s.index){var g=c-l.x-l.vx,m=u-l.y-l.vy,v=g*g+m*m;v<p*p&&(0===g&&(v+=(g=kge(r))*g),0===m&&(v+=(m=kge(r))*m),v=(p-(v=Math.sqrt(v)))/v*o,s.vx+=(g*=v)*(p=(h*=h)/(f+h)),s.vy+=(m*=v)*p,l.vx-=g*(p=1-p),l.vy-=m*p)}}}function l(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,o,i=t.length;for(n=new Array(i),r=0;r<i;++r)o=t[r],n[o.index]=+e(o,r,t)}}return"function"!=typeof e&&(e=Oge(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,s()},a.iterations=function(e){return arguments.length?(i=+e,a):i},a.strength=function(e){return arguments.length?(o=+e,a):o},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Oge(+t),s(),a):e},a}().radius(e=>e.r+1).strength(1));f.force("x",Hge(e=>e.x).strength(.5)),f.force("y",Fge(e=>e.y).strength(5));for(let e=0;e<200;e++)f.tick();f.stop();const h=e=>{const t=d.find(t=>t.i===e);return[t.x/s,t.y/c]};return[t,l?Array.from(t,e=>{const[t,n]=h(e),r=+l[e],i=r/s,a=r/c,d=[t-i,n-a],f=[t+i,n+a];return[o.map(u(d,e)),o.map(u(f,e))]}):Array.from(t,e=>[o.map(u(h(e),e))])]};xme.props={defaultShape:"point",defaultLabelShape:"label",composite:!1,shape:bme,channels:[...nde({shapes:Object.keys(bme)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"}],preInference:[...ade(),{type:hne},{type:pne}],postInference:[{type:gne},...rde()]};const wme=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];wme.props={};const Cme=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];Cme.props={};const Sme=e=>new jee(e);Sme.props={};const Eme=e=>new nte(e);Eme.props={};const Ome=e=>new _ee(e);Ome.props={};const kme=e=>new Zee(e);kme.props={};const Mme=e=>new rte(e);Mme.props={};const $me=e=>new kte(e);$me.props={};const Ime=e=>new cte(e);Ime.props={};const Nme=e=>new ite(e);Nme.props={};const Tme=e=>new lte(e);Tme.props={};const Lme=e=>new fte(e);Lme.props={};const Rme=e=>new ute(e);Rme.props={};const _me=e=>new ate(e);_me.props={};const Ame=e=>new $te(e);Ame.props={};const Pme=e=>new Dee(e);function jme({colorDefault:e,colorBlack:t,colorWhite:n,colorStroke:r,colorBackground:o,padding1:i,padding2:a,padding3:l,alpha90:s,alpha65:c,alpha45:u,alpha25:d,alpha10:f,category10:h,category20:p,sizeDefault:g=1,padding:m="auto",margin:v=16}){return{padding:m,margin:v,size:g,color:e,category10:h,category20:p,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:o,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:t,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,lineWidth:0,connectorStroke:r,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:r,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,lineWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:r,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:r,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:r,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:r,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:r,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:t,gridStrokeOpacity:f,labelAlign:"horizontal",labelFill:t,labelOpacity:u,labelFontSize:12,labelFontWeight:"normal",labelSpacing:i,line:!1,lineLineWidth:.5,lineStroke:t,lineStrokeOpacity:u,tickLength:4,tickLineWidth:1,tickStroke:t,tickOpacity:u,titleFill:t,titleOpacity:s,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom",titleTransform:"translate(0, 8)"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransform:"rotate(-90) translate(0, -8)",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:t,itemLabelFillOpacity:s,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,focusMarkerSize:12,itemSpacing:[i,i,i/2],itemValueFill:t,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:t,navButtonFillOpacity:.65,navPageNumFill:t,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:t,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:t,tickStrokeOpacity:.25,rowPadding:i,colPadding:a,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:t,handleLabelFillOpacity:u,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:t,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:t,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:t,labelFillOpacity:u,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:s,tickStroke:t,tickStrokeOpacity:u},label:{fill:t,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:t,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:n,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:t,fontWeight:"normal"},slider:{trackSize:16,trackFill:r,trackFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:t,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:t,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:t,titleFillOpacity:s,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:t,subtitleFillOpacity:c,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"},tooltip:{css:{".g2-tooltip":{"font-family":"sans-serif"}}}}}Pme.props={};const Bme=jme({colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1}),Dme=e=>kz({},Bme,e);Dme.props={};const zme=e=>kz({},Dme(),{category10:"category10",category20:"category20"},e);zme.props={};const Hme=jme({colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25}),Fme=e=>kz({},Hme,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{".g2-tooltip":{background:"#1f1f1f",opacity:.95},".g2-tooltip-title":{color:"#A6A6A6"},".g2-tooltip-list-item-name-label":{color:"#A6A6A6"},".g2-tooltip-list-item-value":{color:"#A6A6A6"}}}},e),Wme=e=>Object.assign({},Fme(),{category10:"category10",category20:"category20"},e);Wme.props={};const Gme=jme({colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1}),Vme=e=>kz({},Gme,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(e,t)=>0!==t},axisRight:{gridFilter:(e,t)=>0!==t},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},e);function qme(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}Vme.props={};var Xme,Ume=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yme(e){if(!(t=Ume.exec(e)))throw new Error("invalid format: "+e);var t;return new Kme({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Kme(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Zme(e,t){var n=qme(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}Yme.prototype=Kme.prototype,Kme.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Qme={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zme(100*e,t),r:Zme,s:function(e,t){var n=qme(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(Xme=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+qme(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Jme(e){return e}var eve,tve,nve=Array.prototype.map,rve=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ove(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Jme:(t=nve.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,l=t[0],s=0;o>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(e.substring(o-=l,o+l)),!((s+=l+1)>r));)l=t[a=(a+1)%t.length];return i.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?Jme:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(nve.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Yme(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,g=e.comma,m=e.precision,v=e.trim,y=e.type;"n"===y?(g=!0,y="g"):Qme[y]||(void 0===m&&(m=12),v=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===f?o:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===f?i:/[%p]/.test(y)?s:"",w=Qme[y],C=/[defgprs%]/.test(y);function S(e){var o,i,s,f=b,S=x;if("c"===y)S=w(e)+S,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),f=(E?"("===d?d:c:"-"===d||"("===d?"":d)+f,S=("s"===y?rve[8+Xme/3]:"")+S+(E&&"("===d?")":""),C)for(o=-1,i=e.length;++o<i;)if(48>(s=e.charCodeAt(o))||s>57){S=(46===s?a+e.slice(o+1):e.slice(o))+S,e=e.slice(0,o);break}}g&&!h&&(e=r(e,1/0));var O=f.length+e.length+S.length,k=O<p?new Array(p-O+1).join(t):"";switch(g&&h&&(e=r(k+e,k.length?p-S.length:1/0),k=""),n){case"<":e=f+e+S+k;break;case"=":e=f+k+e+S;break;case"^":e=k.slice(0,O=k.length>>1)+f+e+S+k.slice(O);break;default:e=k+f+e+S}return l(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n,r=d(((e=Yme(e)).type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor((n=t,((n=qme(Math.abs(n)))?n[1]:NaN)/3)))),i=Math.pow(10,-o),a=rve[8+o/3];return function(e){return r(i*e)+a}}}}eve=ove({thousands:",",grouping:[3],currency:["$",""]}),tve=eve.format,eve.formatPrefix;function ive(e,t,n){return e.querySelector(t)?Xoe(e).select(t):Xoe(e).append(n)}function ave(e){return Array.isArray(e)?e.join(", "):`${e||""}`}function lve(e,t){let{flexDirection:n,justifyContent:r,alignItems:o}={flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};const i={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return e in i&&([n,r,o]=i[e]),Object.assign({display:"flex",flexDirection:n,justifyContent:r,alignItems:o},t)}class sve extends Lue{get child(){var e;return null===(e=this.children)||void 0===e?void 0:e[0]}update(e){var t;this.attr(e);const{subOptions:n}=e;null===(t=this.child)||void 0===t||t.update(n)}}class cve extends sve{update(e){var t;const{subOptions:n}=e;this.attr(e),null===(t=this.child)||void 0===t||t.update(n)}}function uve(e,t){var n;return null===(n=e.filter(e=>e.getOptions().name===t))||void 0===n?void 0:n[0]}function dve(e){return"vertical"===e||e===-Math.PI/2}function fve(e,t,n){const{bbox:r}=e,{position:o="top",size:i,length:a}=t,l=["top","bottom","center"].includes(o),[s,c]=l?[r.height,r.width]:[r.width,r.height],{defaultSize:u,defaultLength:d}=n.props,f=i||u||s,h=a||d||c,p=l?"horizontal":"vertical",[g,m]=l?[h,f]:[f,h];return{orientation:p,width:g,height:m,size:f,length:h}}function hve(e){const t=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["style"]),o={};return Object.entries(r).forEach(([e,n])=>{t.includes(e)?o[`show${vz(e)}`]=n:o[e]=n}),Object.assign(Object.assign({},o),n)}var pve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function gve(e,t){const{eulerAngles:n,origin:r}=t;r&&e.setOrigin(r),n&&e.rotate(n[0],n[1],n[2])}function mve(e){const{innerWidth:t,innerHeight:n,depth:r}=e.getOptions();return[t,n,r]}function vve(e,t,n,r,o,i,a,l){var s;void 0===n&&void 0===i||e.update(Object.assign(Object.assign({},n&&{tickCount:n}),i&&{tickMethod:i}));const c=function(e,t,n){if(e.getTicks)return e.getTicks();if(!n)return t;const[r,o]=A7(t,e=>+e),{tickCount:i}=e.getOptions();return n(r,o,i)}(e,t,i),u=o?c.filter(o):c,d=e=>e instanceof Date?String(e):"object"==typeof e&&e?e:String(e),f=r||(null===(s=e.getFormatter)||void 0===s?void 0:s.call(e))||d,h=function(e,t){if(Doe(t))return e=>e;const n=t.getOptions(),{innerWidth:r,innerHeight:o,insetTop:i,insetBottom:a,insetLeft:l,insetRight:s}=n,[c,u,d]="left"===e||"right"===e?[i,a,o]:[l,s,r],f=new nte({domain:[0,1],range:[c/d,1-u/d]});return e=>f.map(e)}(a,l),p=function(e,t){const{width:n,height:r}=t.getOptions();return o=>{if(!Woe(t))return o;const i="bottom"===e?[o,1]:[0,o],a=t.map(i);if("bottom"===e){const e=a[0];return new nte({domain:[0,n],range:[0,1]}).map(e)}if("left"===e){const e=a[1];return new nte({domain:[0,r],range:[0,1]}).map(e)}return o}}(a,l),g=e=>["left","right"].includes(e);return Doe(l)||Boe(l)?u.map((t,n,r)=>{var o,i;const s=(null===(o=e.getBandWidth)||void 0===o?void 0:o.call(e,t))/2||0,c=h(e.map(t)+s);return{value:zoe(l)&&"center"===a||Boe(l)&&(null===(i=e.getTicks)||void 0===i?void 0:i.call(e))&&["top","bottom","center","outer"].includes(a)||Boe(l)&&g(a)?1-c:c,label:d(f(Koe(t),n,r)),id:String(n)}}):u.map((t,n,r)=>{var o;const i=(null===(o=e.getBandWidth)||void 0===o?void 0:o.call(e,t))/2||0,l=p(h(e.map(t)+i));return{value:g(a)?1-l:l,label:d(f(Koe(t),n,r)),id:String(n)}})}function yve(e=[],t){if(e.length>0)return e;const{labelAutoRotate:n,labelAutoHide:r,labelAutoEllipsis:o,labelAutoWrap:i}=t,a=[],l=(e,t)=>{t&&a.push(Object.assign(Object.assign({},e),t))};return l({type:"rotate",optionalAngles:[0,15,30,45,60,90]},n),l({type:"ellipsis",minLength:20},o),l({type:"hide"},r),l({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},i),a}function bve(e,t,n){return!function(e){return Doe(e)&&Boe(e)}(t)&&!Foe(t)&&(void 0===e?!!n.getTicks:e)}function xve(e,t,n,r,o,i){const a=function(e,t,n,r,o){const i=n.axis,a=["top","right","bottom","left"].includes(o)?n[`axis${jte(o)}`]:n.axisLinear,l=e.getOptions().name,s=n[`axis${vz(l)}`]||{};return Object.assign({},i,a,s)}(e,0,n,0,o);return"center"===o?Object.assign(Object.assign(Object.assign(Object.assign({},a),{labelDirection:"right"===r?"negative":"positive"}),"center"===r?{labelTransform:"translate(50%,0)"}:null),{tickDirection:"right"===r?"negative":"positive",labelSpacing:"center"===r?0:4,titleSpacing:dve(i)?10:0,tick:"center"!==r&&void 0}):a}const wve=e=>t=>{const{labelFormatter:n,labelFilter:r=()=>!0}=t;return o=>{var i;const{scales:[a]}=o,l=(null===(i=a.getTicks)||void 0===i?void 0:i.call(a))||a.getOptions().domain,s="string"==typeof n?tve(n):n,c=Object.assign(Object.assign({},t),{labelFormatter:s,labelFilter:(e,t,n)=>r(l[t],t,l),scale:a});return e(c)(o)}},Cve=wve(e=>{const{direction:t="left",important:n={},labelFormatter:r,order:o,orientation:i,actualPosition:a,position:l,size:s,style:c={},title:u,tickCount:d,tickFilter:f,tickMethod:h,tickLength:p,transform:g,indexBBox:m}=e,v=pve(e,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","tickLength","transform","indexBBox"]);return({scales:o,value:y,coordinate:b,theme:x})=>{const{bbox:w}=y,[C]=o,{domain:S,xScale:E}=C.getOptions(),O=xve(C,0,x,t,l,i),k=Object.assign(Object.assign(Object.assign({},O),c),v),M=function(e,t,n="xy"){const[r,o,i]=mve(t);return"xy"===n?e.includes("bottom")||e.includes("top")?o:r:"xz"===n?e.includes("bottom")||e.includes("top")?i:r:e.includes("bottom")||e.includes("top")?o:i}(a||l,b,e.plane),$=function(e,t,n,r,o){const{x:i,y:a,width:l,height:s}=n;if("bottom"===e)return{startPos:[i,a],endPos:[i+l,a]};if("left"===e)return{startPos:[i+l,a+s],endPos:[i+l,a]};if("right"===e)return{startPos:[i,a+s],endPos:[i,a]};if("top"===e)return{startPos:[i,a+s],endPos:[i+l,a+s]};if("center"===e){if("vertical"===t)return{startPos:[i,a],endPos:[i,a+s]};if("horizontal"===t)return{startPos:[i,a],endPos:[i+l,a]};if("number"==typeof t){const[e,n]=r.getCenter(),[c,u]=Voe(r),[d,f]=qoe(r),h=Math.min(l,s)/2,{insetLeft:p,insetTop:g}=r.getOptions(),m=c*h,v=u*h,[y,b]=[e+i-p,n+a-g],[x,w]=[Math.cos(t),Math.sin(t)],C=[y+v*x,b+v*w],S=[y+m*x,b+m*w],E=()=>{const{domain:e}=o.getOptions();return e.length},O=Doe(r)&&o?E():3;return{startPos:C,endPos:S,gridClosed:Math.abs(f-d-360)<1e-6,gridCenter:[y,b],gridControlAngles:new Array(O).fill(0).map((e,t,n)=>(f-d)/O*t)}}}return{}}(l,i,w,b,E),I=function(e){const{depth:t}=e.getOptions();return t?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}(b),N=vve(C,S,d,r,f,h,l,b),T=m?N.map((e,t)=>{const n=m.get(t);return n?n[0]!==e.label?e:Object.assign(Object.assign({},e),{bbox:n[1]}):e}):N,L=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},k),{type:"linear",data:T,crossSize:s,titleText:ave(u),labelOverlap:yve(g,k),grid:bve(k.grid,b,C),gridLength:M,line:!0,indexBBox:m}),void 0!==p?{tickLength:p}:null),k.line?null:{lineOpacity:0}),$),I),n);return L.labelOverlap.find(e=>"hide"===e.type)&&(L.crossSize=!1),new Fce({className:"axis",style:hve(L)})}}),Sve=wve(e=>{const{order:t,size:n,position:r,orientation:o,labelFormatter:i,tickFilter:a,tickCount:l,tickMethod:s,tickLength:c,important:u={},style:d={},indexBBox:f,title:h,grid:p=!1}=e,g=pve(e,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","tickLength","important","style","indexBBox","title","grid"]);return({scales:[e],value:t,coordinate:n,theme:o})=>{const{bbox:d}=t,{domain:m}=e.getOptions(),v=vve(e,m,l,i,a,s,r,n),y=f?v.map((e,t)=>{const n=f.get(t);return n?n[0]!==e.label?e:Object.assign(Object.assign({},e),{bbox:n[1]}):e}):v,[b,x]=Voe(n),w=function(e,t,n,r,o){const{x:i,y:a,width:l,height:s}=t,c=[i+l/2,a+s/2],u=Math.min(l,s)/2,[d,f]=qoe(o),[h,p]=mve(o),g={center:c,radius:u,startAngle:d,endAngle:f,gridLength:(r-n)*(Math.min(h,p)/2)};if("inner"===e){const{insetLeft:e,insetTop:t}=o.getOptions();return Object.assign(Object.assign({},g),{center:[c[0]-e,c[1]-t],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},g),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}(r,d,b,x,n),{axis:C,axisArc:S={}}=o,E=hve(kz({},C,S,w,Object.assign(Object.assign(Object.assign({type:"arc",data:y,titleText:ave(h),grid:p},void 0!==c?{tickLength:c}:null),g),u)));return new Fce({style:Lz(E,["transform"])})}});Cve.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]},Sve.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const Eve=e=>(...t)=>{const n=Cve(Object.assign({},{crossPadding:50},e))(...t);return gve(n,e),n};Eve.props=Object.assign(Object.assign({},Cve.props),{defaultPosition:"bottom"});const Ove=e=>(...t)=>{const n=Cve(Object.assign({},{crossPadding:10},e))(...t);return gve(n,e),n};Ove.props=Object.assign(Object.assign({},Cve.props),{defaultPosition:"left"});function kve(e,t,n,r){const{radar:o}=e,[i]=r,a=i.getOptions().name,[l,s]=qoe(n),{axisRadar:c={}}=t;return Object.assign(Object.assign({},c),{grid:"position"===a,gridConnect:"line",gridControlAngles:new Array(o.count).fill(0).map((e,t)=>(s-l)/o.count*t)})}const Mve=e=>{const{important:t={}}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["important"]);return r=>{const{theme:o,coordinate:i,scales:a}=r;return Cve(Object.assign(Object.assign(Object.assign({},n),function(e){const t=e%(2*Math.PI);return t===Math.PI/2?{titleTransform:"translate(0, 50%)"}:t>-Math.PI/2&&t<Math.PI/2?{titleTransform:"translate(50%, 0)"}:t>Math.PI/2&&t<3*Math.PI/2?{titleTransform:"translate(-50%, 0)"}:{}}(e.orientation)),{important:Object.assign(Object.assign({},kve(e,o,i,a)),t)}))(r)}};Mve.props=Object.assign(Object.assign({},Cve.props),{defaultPosition:"center"});function $ve(e,t){const n=uve(e,"shape"),r=uve(e,"color"),o=n?n.clone():null,i=[];for(const[l,s]of t){const e=l.type,t=((null==r?void 0:r.getOptions().domain.length)>0?null==r?void 0:r.getOptions().domain:s.data).map((e,t)=>{var n;return o?o.map(e||"point"):(null===(n=null==l?void 0:l.style)||void 0===n?void 0:n.shape)||s.defaultShape||"point"});"string"==typeof e&&i.push([e,t])}if(0===i.length)return["point",["point"]];if(1===i.length)return i[0];if(!n)return i[0];const{range:a}=n.getOptions();return i.map(([e,t])=>{let n=0;for(let r=0;r<i.length;r++){const e=a[r%a.length];t[r]===e&&n++}return[n/t.length,[e,t]]}).sort((e,t)=>t[0]-e[0])[0][1]}function Ive(e,t){const{scales:n,library:r,markState:o}=t,[i,a]=$ve(n,o),{itemMarker:l,itemMarkerSize:s}=e,c=(e,t)=>{var n,o,a;const l=(null===(a=null===(o=null===(n=r[`mark.${i}`])||void 0===n?void 0:n.props)||void 0===o?void 0:o.shape[e])||void 0===a?void 0:a.props.defaultMarker)||sz(e.split(".")),c="function"==typeof s?s(t):s;return()=>eae(l,{color:t.color})(0,0,c)},u=e=>`${a[e]}`;return uve(n,"shape")&&!l?(e,t)=>c(u(t),e):"function"==typeof l?(e,t)=>{const n=l(e.id,t);return"string"==typeof n?c(n,e):n}:(e,t)=>c(l||u(t),e)}function Nve(e){const t=uve(e,"opacity");if(t){const{range:e}=t.getOptions();return(t,n)=>e[n]}}function Tve(e,t){const{scales:n,markState:r}=t,[o,i]=$ve(n,r),{itemMarker:a,itemMarkerLineWidth:l}=e;if(void 0!==l)return l;const s=["line","hyphen","dash","smooth","hv","hvh","vh","vhv"];if("string"==typeof a&&s.includes(a))return 4;if("function"==typeof a)return(e,t)=>{const n=a(e.id,t);if("string"==typeof n&&s.includes(n))return 4};return(Array.isArray(i)?i:[i]).some(e=>s.includes(e))?4:void 0}function Lve(e,t){const{labelFormatter:n=e=>`${e}`}=e,{scales:r,theme:o}=t,i=function(e,t){const n=uve(e,"size");return n instanceof Zee?2*n.map(NaN):t}(r,o.legendCategory.itemMarkerSize),a={itemMarker:Ive(Object.assign(Object.assign({},e),{itemMarkerSize:i}),t),itemMarkerSize:i,itemMarkerOpacity:Nve(r),itemMarkerLineWidth:Tve(e,t)},l="string"==typeof n?tve(n):n,s=uve(r,"color"),c=function(e){return e.find(e=>e.getOptions().domain.length>0).getOptions().domain}(r),u=s?e=>s.map(e):()=>t.theme.color;return Object.assign(Object.assign({},a),{data:c.map(e=>({id:e,label:l(e),color:u(e)}))})}const Rve=e=>{const{labelFormatter:t,layout:n,order:r,orientation:o,position:i,size:a,title:l,cols:s,itemMarker:c}=e,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:d}=u;return t=>{const{value:r,theme:o}=t,{bbox:a}=r,{width:c,height:f}=function(e,t,n){const{position:r}=t;if("center"===r){const{bbox:t}=e,{width:n,height:r}=t;return{width:n,height:r}}const{width:o,height:i}=fve(e,t,n);return{width:o,height:i}}(r,e,Rve),h=lve(i,n),p=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(i)?"vertical":"horizontal",width:c,height:f,layout:void 0!==s?"grid":"flex"},void 0!==s&&{gridCol:s}),void 0!==d&&{gridRow:d}),{titleText:ave(l)}),Lve(e,t)),{legendCategory:g={}}=o,m=hve(Object.assign({},g,function(e){return Object.assign(Object.assign({},e),{data:(null==e?void 0:e.data.filter(e=>""!==e.id))||[]})}(p),u)),v=new cve({style:Object.assign(Object.assign({x:a.x,y:a.y,width:a.width,height:a.height},h),{subOptions:m})});return v.appendChild(new gue({className:"legend-category",style:m})),v}};Rve.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};function _ve(e,t,n,r,o){const i=t.thresholds,a=function(e){return t=>({value:t/e,label:String(t)})}(r);return Object.assign(Object.assign({},e),{color:o,data:[n,...i,r].map(a)})}function Ave(e){const{domain:t}=e.getOptions(),[n,r]=[t[0],Zte(t)];return[n,r]}function Pve(e,t,n,r,o,i){const{length:a}=e,l=n||r,s=o.color?i.legendContinuous.ribbonFill||"black":i.color,c=t||function(e,t){const n=e.getOptions(),r=e.clone();return r.update(Object.assign(Object.assign({},n),{range:[dG(t).toString()]})),r}(l,s),[u,d]=Ave(c),[f,h]=Ave([t,n,r].filter(e=>void 0!==e).find(e=>!(e instanceof Dee)));return Object.assign(Object.assign({},e),{domain:[f,h],data:c.getTicks().map(e=>({value:e})),color:new Array(Math.floor(a)).fill(0).map((e,t)=>{const n=(d-u)/(a-1)*t+u,o=c.map(n)||s,i=r?r.map(n):1;return o.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(e,t,n,r)=>`rgba(${t}, ${n}, ${r}, ${i})`)})})}function jve(e,t,n,r,o,i){const a=uve(e,"color"),l=function(e,t,n){const{size:r}=t,o=fve(e,t,n);return function(e,t,n){return e.size=t,function(e){return"horizontal"===e||0===e}(n)?e.height=t:e.width=t,e}(o,r,o.orientation)}(n,r,o);if(a instanceof lte){const{range:e}=a.getOptions(),[t,n]=Ave(a);return a instanceof ute||a instanceof fte?_ve(l,a,t,n,e):function(e,t,n){const r=[-1/0,...t.thresholds,1/0].map((e,t)=>({value:t,label:e}));return Object.assign(Object.assign({},e),{data:r,color:n,labelFilter:(e,t)=>t>0&&t<r.length-1})}(l,a,e)}return Pve(l,a,uve(e,"size"),uve(e,"opacity"),t,i)}const Bve=e=>{const{labelFormatter:t,layout:n,order:r,orientation:o,position:i,size:a,title:l,style:s,crossPadding:c,padding:u}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:r,value:o,theme:a,scale:c})=>{const{bbox:u}=o,{x:f,y:h,width:p,height:g}=u,m=lve(i,n),{legendContinuous:v={}}=a,y=hve(Object.assign({},v,Object.assign(Object.assign({titleText:ave(l),labelAlign:"value",labelFormatter:"string"==typeof t?e=>tve(t)(e.label):t},jve(r,c,o,e,Bve,a)),s),d)),b=new sve({style:Object.assign(Object.assign({x:f,y:h,width:p,height:g},m),{subOptions:y})});return b.appendChild(new Mue({className:"legend-continuous",style:y})),b}};Bve.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const Dve=e=>(...t)=>Bve(Object.assign({},{block:!0},e))(...t);Dve.props=Object.assign(Object.assign({},Bve.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const zve=e=>t=>{const{scales:n}=t,r=uve(n,"size");return Bve(Object.assign({},{type:"size",data:r.getTicks().map((e,t)=>({value:e,label:String(e)}))},e))(t)};zve.props=Object.assign(Object.assign({},Bve.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const Hve=e=>zve(Object.assign({},{block:!0},e));Hve.props=Object.assign(Object.assign({},Bve.props),{defaultPosition:"top",defaultOrientation:"horizontal"});function Fve(e,t,n,r){switch(r){case"center":return{x:e+n/2,y:t,textAlign:"middle"};case"right":return{x:e+n,y:t,textAlign:"right"};default:return{x:e,y:t,textAlign:"left"}}}const Wve=(Gve={render(e,t){const{width:n,title:r,subtitle:o,spacing:i=2,align:a="left",x:l,y:s}=e,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["width","title","subtitle","spacing","align","x","y"]);t.style.transform=`translate(${l}, ${s})`;const u=Fte(c,"title"),d=Fte(c,"subtitle"),f=ive(t,".title","text").attr("className","title").call(Zoe,Object.assign(Object.assign(Object.assign({},Fve(0,0,n,a)),{fontSize:14,textBaseline:"top",text:r}),u)).node().getLocalBounds();ive(t,".sub-title","text").attr("className","sub-title").call(e=>{if(!o)return e.node().remove();e.node().attr(Object.assign(Object.assign(Object.assign({},Fve(0,f.max[1]+i,n,a)),{fontSize:12,textBaseline:"top",text:o}),d))})}},class extends zX{constructor(e){super(e),this.descriptor=Gve}connectedCallback(){var e,t;null===(t=(e=this.descriptor).render)||void 0===t||t.call(e,this.attributes,this)}update(e={}){var t,n;this.attr(kz({},this.attributes,e)),null===(n=(t=this.descriptor).render)||void 0===n||n.call(t,this.attributes,this)}});var Gve;const Vve=e=>({value:t,theme:n})=>{const{x:r,y:o,width:i,height:a}=t.bbox;return new Wve({style:kz({},n.title,Object.assign({x:r,y:o,width:i,height:a},e))})};function qve(e){return!!e.getBandWidth}function Xve(e,t,n){if(!qve(e))return e.invert(t);const{adjustedRange:r}=e;if(r.includes(t))return e.invert(t);const{domain:o}=e.getOptions(),i=n?-1:0,a=e.getStep(),l=n?r:r.map(e=>e+a),s=function(e,t,n){return Math.min(n,Math.max(t,e))}(T7(l,t)+i,0,o.length-1);return o[s]}function Uve(e,t,n){if(!t)return e.getOptions().domain;if(!qve(e)){const r=q7(t);if(!n)return r;const[o]=r,{range:i}=e.getOptions(),[a,l]=i,s=a>l?-1:1;return[o,e.invert(e.map(o)+s*n)]}const{domain:r}=e.getOptions(),o=t[0],i=r.indexOf(o);if(n){const e=i+Math.round(r.length*n);return r.slice(i,e)}const a=t[t.length-1],l=r.indexOf(a);return r.slice(i,l+1)}function Yve(e,t,n,r,o,i){const{x:a,y:l}=o,s=(e,t)=>{const[n,r]=i.invert(e);return[Xve(a,n,t),Xve(l,r,t)]},c=s([e,t],!0),u=s([n,r],!1);return[Uve(a,[c[0],u[0]]),Uve(l,[c[1],u[1]])]}function Kve(e,t){const[n,r]=e;return[t.map(n),t.map(r)+(o=t,o.getStep?o.getStep():0)];var o}Vve.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};const Zve=(e,t)=>{var n,r;const[o,i]=e,a=(null===(r=null===(n=t.getOptions)||void 0===n?void 0:n.call(t))||void 0===r?void 0:r.domain)||[],l=a.indexOf(o),s=a.indexOf(i);if(-1===l||-1===s)return[t.map(o),t.map(i)];const c=a.length;return c<=1?[0,1]:[l/(c-1),s/(c-1)]};const Qve=e=>{const{orientation:t,labelFormatter:n,size:r,style:o={},position:i}=e,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["orientation","labelFormatter","size","style","position"]);return r=>{var l;const{scales:[s],value:c,theme:u,coordinate:d}=r,{bbox:f}=c,{width:h,height:p}=f,{slider:g={}}=u,m=(null===(l=s.getFormatter)||void 0===l?void 0:l.call(s))||(e=>e+""),v="string"==typeof n?tve(n):n,y="horizontal"===t,b=Boe(d)&&y,{trackSize:x=g.trackSize}=o,[w,C]=function(e,t,n){const{x:r,y:o,width:i,height:a}=e;return"left"===t?[r+i-n,o]:"right"===t||"bottom"===t?[r,o]:"top"===t?[r,o+a-n]:void 0}(f,i,x);return new Hse({className:"slider",style:Object.assign({},g,Object.assign(Object.assign({x:w,y:C,trackLength:y?h:p,orientation:t,formatter:e=>(v||m)(Xve(s,b?1-e:e,!0)),sparklineData:Jve(e,r)},o),a))})}};function Jve(e,t){const{markState:n}=t;return KD(e.sparklineData)?e.sparklineData:function(e,t){const[n]=Array.from(e.entries()).filter(([e])=>"line"===e.type||"area"===e.type||"interval"===e.type).filter(([e])=>e.slider).map(([e])=>{const{encode:n,slider:r}=e;if(null==r?void 0:r.x){const e=e=>{const t=n[e];return[e,t?t.value:void 0]};return Object.fromEntries(t.map(e))}});if(!(null==n?void 0:n.series))return null==n?void 0:n.y;const r=n.series.reduce((e,t,r)=>(e[t]=e[t]||[],e[t].push(n.y[r]),e),{});return Object.values(r)}(n,["y","series"])}Qve.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const eye=e=>Qve(Object.assign(Object.assign({},e),{orientation:"horizontal"}));eye.props=Object.assign(Object.assign({},Qve.props),{defaultPosition:"bottom"});const tye=e=>Qve(Object.assign(Object.assign({},e),{orientation:"vertical"}));tye.props=Object.assign(Object.assign({},Qve.props),{defaultPosition:"left"});const nye=e=>{const{orientation:t,labelFormatter:n,style:r}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["orientation","labelFormatter","style"]);return({scales:[e],value:n,theme:i})=>{const{bbox:a}=n,{x:l,y:s,width:c,height:u}=a,{scrollbar:d={}}=i,{ratio:f,range:h}=e.getOptions(),p="horizontal"===t?c:u,g=p/f,[m,v]=h,y=v>m?0:1;return new Fse({className:"g2-scrollbar",style:Object.assign({},d,Object.assign(Object.assign(Object.assign(Object.assign({},r),{x:l,y:s,trackLength:p,value:y}),o),{orientation:t,contentLength:g,viewportLength:p}))})}};nye.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const rye=e=>nye(Object.assign(Object.assign({},e),{orientation:"horizontal"}));rye.props=Object.assign(Object.assign({},nye.props),{defaultPosition:"bottom"});const oye=e=>nye(Object.assign(Object.assign({},e),{orientation:"vertical"}));oye.props=Object.assign(Object.assign({},nye.props),{defaultPosition:"left"});const iye=e=>()=>new FX;iye.props={};const aye=(e,t)=>{const{coordinate:n}=t;return(t,r,o)=>{const[i]=t,{transform:a="",fillOpacity:l=1,strokeOpacity:s=1,opacity:c=1}=i.style,[u,d]=Boe(n)?["left bottom","scale(1, 0.0001)"]:["left top","scale(0.0001, 1)"],f=[{transform:`${a} ${d}`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${a} ${d}`.trimStart(),transformOrigin:u,fillOpacity:l,strokeOpacity:s,opacity:c,offset:.01},{transform:`${a} scale(1, 1)`.trimStart(),transformOrigin:u,fillOpacity:l,strokeOpacity:s,opacity:c}];return i.animate(f,Object.assign(Object.assign({},o),e))}},lye=(e,t)=>{const{coordinate:n}=t;return(t,r,o)=>{const[i]=t,{transform:a="",fillOpacity:l=1,strokeOpacity:s=1,opacity:c=1}=i.style,[u,d]=Boe(n)?["left bottom","scale(1, 0.0001)"]:["left top","scale(0.0001, 1)"],f=[{transform:`${a} scale(1, 1)`.trimStart(),transformOrigin:u},{transform:`${a} ${d}`.trimStart(),transformOrigin:u,fillOpacity:l,strokeOpacity:s,opacity:c,offset:.99},{transform:`${a} ${d}`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(f,Object.assign(Object.assign({},o),e))}},sye=(e,t)=>{const n=1e-4,{coordinate:r}=t;return oU({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:XF.NUMBER}),(t,o,i)=>{const[a]=t;return Doe(r)?(t=>{const{__data__:o,style:a}=t,{fillOpacity:l=1,strokeOpacity:s=1,opacity:c=1}=a,{points:u,y:d,y1:f}=o,h=tie(r,u,[d,f]),{innerRadius:p,outerRadius:g}=h,m=[{scaleInYRadius:p+n,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:p+n,fillOpacity:l,strokeOpacity:s,opacity:c,offset:.01},{scaleInYRadius:g,fillOpacity:l,strokeOpacity:s,opacity:c}];return t.animate(m,Object.assign(Object.assign({},i),e))})(a):(t=>{const{style:n}=t,{transform:o="",fillOpacity:a=1,strokeOpacity:l=1,opacity:s=1}=n,[c,u]=Boe(r)?["left top","scale(0.0001, 1)"]:["left bottom","scale(1, 0.0001)"],d=[{transform:`${o} ${u}`.trimStart(),transformOrigin:c,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${o} ${u}`.trimStart(),transformOrigin:c,fillOpacity:a,strokeOpacity:l,opacity:s,offset:.01},{transform:`${o} scale(1, 1)`.trimStart(),transformOrigin:c,fillOpacity:a,strokeOpacity:l,opacity:s}];return t.animate(d,Object.assign(Object.assign({},i),e))})(a)}},cye=(e,t)=>{const{coordinate:n}=t;return(t,r,o)=>{const[i]=t,{transform:a="",fillOpacity:l=1,strokeOpacity:s=1,opacity:c=1}=i.style,[u,d]=Boe(n)?["left top","scale(0.0001, 1)"]:["left bottom","scale(1, 0.0001)"],f=[{transform:`${a} scale(1, 1)`.trimStart(),transformOrigin:u},{transform:`${a} ${d}`.trimStart(),transformOrigin:u,fillOpacity:l,strokeOpacity:s,opacity:c,offset:.99},{transform:`${a} ${d}`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(f,Object.assign(Object.assign({},o),e))}},uye=e=>(t,n,r)=>{const[o]=t,{fillOpacity:i=1,strokeOpacity:a=1,opacity:l=1}=o.style,s=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:i,strokeOpacity:a,opacity:l}];return o.animate(s,Object.assign(Object.assign({},r),e))};uye.props={};const dye=e=>(t,n,r)=>{const[o]=t,{fillOpacity:i=1,strokeOpacity:a=1,opacity:l=1}=o.style,s=[{fillOpacity:i,strokeOpacity:a,opacity:l},{fillOpacity:0,strokeOpacity:0,opacity:0}];return o.animate(s,Object.assign(Object.assign({},r),e))};dye.props={};const fye={opacity:1,strokeOpacity:1,fillOpacity:1,lineWidth:0,x:0,y:0,cx:0,cy:0,r:0,rx:0,ry:0,width:0,height:0},hye={[JH.CIRCLE]:["cx","cy","r"],[JH.ELLIPSE]:["cx","cy","rx","ry"],[JH.RECT]:["x","y","width","height"],[JH.IMAGE]:["x","y","width","height"],[JH.LINE]:["x1","y1","x2","y2"],[JH.POLYLINE]:["points"],[JH.POLYGON]:["points"]};function pye(e,t,n=!1){const r={};for(const o of t){const t=e.style[o];t?r[o]=t:n&&(r[o]=fye[o])}return r}const gye=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function mye(e){const{min:t,max:n}=e.getLocalBounds(),[r,o]=t,[i,a]=n;return[r,o,i-r,a-o]}function vye(e){const[t,n,r,o]=e;return`\n    M ${t} ${n}\n    L ${t+r} ${n}\n    L ${t+r} ${n+o}\n    L ${t} ${n+o}\n    Z\n  `}function yye(e,t){const[n,r,o,i]=mye(e),a=i/o,l=Math.ceil(Math.sqrt(t/a)),s=[],c=i/Math.ceil(t/l);let u=0,d=t;for(;d>0;){const e=Math.min(d,l),t=o/e;for(let o=0;o<e;o++){const e=n+o*t,i=r+u*c;s.push(vye([e,i,t,c]))}d-=e,u+=1}return s}function bye(e,t){e.__data__=t.__data__,e.className=t.className,e.markType=t.markType,t.parentNode.replaceChild(e,t)}function xye(e,t){return e.indexOf(t)===e.lastIndexOf(t)}function wye(e){const t=WG(e);if(t&&!function(e){return!xye(e,"m")||!xye(e,"M")}(t))return t}function Cye(e){const{nodeName:t}=e;if("path"===t){const t=Iz(e,"attributes");return t.markerEnd||t.markerStart}return!1}function Sye(e,t,n,r){const{nodeName:o}=t,{nodeName:i}=n,a=wye(t),l=wye(n),{opacity:s=1,strokeOpacity:c=1,fillOpacity:u=1}=t.style,{opacity:d=1,strokeOpacity:f=1,fillOpacity:h=1}=n.style,p=o===i&&"path"!==o,g=void 0===a||void 0===l,m=Cye(t)||Cye(n);if(p||g||m)return function(e,t,n){let{transform:r}=e.style;const{transform:o}=t.style;bye(t,e);let i=gye;if(e.nodeName===JH.GROUP){const[n,o,i,a]=mye(e),[l,s,c,u]=mye(t);r=`translate(${n-l}, ${o-s}) scale(${i/c}, ${a/u})`}else i=i.concat(hye[e.nodeName]||[]);const a=[Object.assign({transform:null!=r?r:"none"},pye(e,i,!0)),Object.assign({transform:null!=o?o:"none"},pye(t,i,!0))];return t.animate(a,n)}(t,n,r);const v=function(e,t){const{nodeName:n}=e;if("path"===n)return e;const r=new YX({style:Object.assign(Object.assign({},pye(e,gye)),{d:t})});return bye(r,e),r}(e,a),y=Object.assign(Object.assign({},pye(t,gye)),{opacity:s,strokeOpacity:c,fillOpacity:u}),b=Object.assign(Object.assign({},pye(n,gye)),{opacity:d,strokeOpacity:f,fillOpacity:h}),x=[y,b];if(a!==l){x[0].d=a,x[1].d=l;const e=v.animate(x,r);return e.onfinish=()=>{Dte(v,n),v.style.d=l,v.style.transform="none"},v.style.transform="none",e}return $z(y,b)?null:v.animate(x,r)}const Eye=e=>(t,n,r)=>{const o=function(e="pack"){return"function"==typeof e?e:yye}(e.split),i=Object.assign(Object.assign({},r),e),{length:a}=t,{length:l}=n;if(1===a&&1===l||a>1&&l>1){const[e]=t,[r]=n;return Sye(e,e,r,i)}if(1===a&&l>1){const[e]=t;return function(e,t,n,r){e.style.visibility="hidden";const o=r(e,t.length);return t.map((t,r)=>Sye(t,new YX({style:Object.assign({d:o[r]},pye(e,gye))}),t,n))}(e,n,i,o)}if(a>1&&1===l){const[e]=n;return function(e,t,n,r){const o=r(t,e.length),{fillOpacity:i=1,strokeOpacity:a=1,opacity:l=1}=t.style,s=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:i,strokeOpacity:a,opacity:l}],c=t.animate(s,n);return[...e.map((e,r)=>Sye(e,e,new YX({style:{d:o[r],fill:t.style.fill}}),n)),c]}(t,e,i,o)}return null};Eye.props={};const Oye=(e,t)=>{const n=1e-4;oU({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:XF.NUMBER});const{coordinate:r}=t;return(o,i,a)=>{const[l]=o;if(!Doe(r))return aye(e,t)(o,i,a);const{__data__:s,style:c}=l,{radius:u=0,inset:d=0,fillOpacity:f=1,strokeOpacity:h=1,opacity:p=1}=c,{points:g,y:m,y1:v}=s,y=roe().cornerRadius(u).padAngle(d*Math.PI/180),b=tie(r,g,[m,v]),{startAngle:x,endAngle:w}=b,C=[{waveInArcAngle:x+n,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:x+n,fillOpacity:f,strokeOpacity:h,opacity:p,offset:.01},{waveInArcAngle:w,fillOpacity:f,strokeOpacity:h,opacity:p}],S=l.animate(C,Object.assign(Object.assign({},a),e));return S.onframe=function(){l.style.d=y(Object.assign(Object.assign({},b),{endAngle:Number(l.style.waveInArcAngle)}))},S.onfinish=function(){l.style.d=y(Object.assign(Object.assign({},b),{endAngle:w}))},S}};Oye.props={};const kye=e=>(t,n,r)=>{const[o]=t,{transform:i="",fillOpacity:a=1,strokeOpacity:l=1,opacity:s=1}=o.style,c="center center",u=[{transform:`${i} scale(0.0001)`.trimStart(),transformOrigin:c,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${i} scale(0.0001)`.trimStart(),transformOrigin:c,fillOpacity:a,strokeOpacity:l,opacity:s,offset:.01},{transform:`${i} scale(1)`.trimStart(),transformOrigin:c,fillOpacity:a,strokeOpacity:l,opacity:s}];return o.animate(u,Object.assign(Object.assign({},r),e))},Mye=e=>(t,n,r)=>{const[o]=t,{transform:i="",fillOpacity:a=1,strokeOpacity:l=1,opacity:s=1}=o.style,c="center center",u=[{transform:`${i} scale(1)`.trimStart(),transformOrigin:c},{transform:`${i} scale(0.0001)`.trimStart(),transformOrigin:c,fillOpacity:a,strokeOpacity:l,opacity:s,offset:.99},{transform:`${i} scale(0.0001)`.trimStart(),transformOrigin:c,fillOpacity:0,strokeOpacity:0,opacity:0}];return o.animate(u,Object.assign(Object.assign({},r),e))},$ye=e=>(t,n,r)=>{var o,i;const[a]=t,l=(null===(i=(o=a).getTotalLength)||void 0===i?void 0:i.call(o))||0,s=[{lineDash:[0,l]},{lineDash:[l,0]}];return a.animate(s,Object.assign(Object.assign({},r),e))};$ye.props={};const Iye=(e,t)=>(n,r,o)=>{const[i]=n,{min:[a,l],halfExtents:s}=i.getLocalBounds(),c=2*s[0],u=2*s[1],d=new YX({style:{d:`M${a},${l}L${a+c},${l}L${a+c},${l+u}L${a},${l+u}Z`}});i.appendChild(d),i.style.clipPath=d;return aye(e,t)([d],r,o)};Iye.props={};const Nye=(e,t)=>(n,r,o)=>{const[i]=n,{min:[a,l],halfExtents:s}=i.getLocalBounds(),c=2*s[0],u=2*s[1],d=new YX({style:{d:`M${a},${l}L${a+c},${l}L${a+c},${l+u}L${a},${l+u}Z`}});i.appendChild(d),i.style.clipPath=d;return sye(e,t)([d],r,o)};Nye.props={};
/*!
 * @antv/g-plugin-dragndrop
 * @description A G plugin for Drag n Drop implemented with PointerEvents
 * @version 2.0.38
 * @date 7/30/2025, 1:35:41 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */
var Tye=function(){function e(t){He(this,e),this.dragndropPluginOptions=t}return We(e,[{key:"apply",value:function(t){var n=this,r=t.renderingService,o=t.renderingContext.root.ownerDocument,i=o.defaultView,a=function(e){var t=e.target,r=t===o,a=r&&n.dragndropPluginOptions.isDocumentDraggable?o:t.closest&&t.closest("[draggable=true]");if(a){var l=!1,s=e.timeStamp,c=[e.clientX,e.clientY],u=null,d=[e.clientX,e.clientY],f=function(){var e=ms(ps().mark(function e(i){var f,h,p,g,m,v;return ps().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}if(f=i.timeStamp-s,h=vH([i.clientX,i.clientY],c),!(f<=n.dragndropPluginOptions.dragstartTimeThreshold||h<=n.dragndropPluginOptions.dragstartDistanceThreshold)){e.next=1;break}return e.abrupt("return");case 1:i.type="dragstart",a.dispatchEvent(i),l=!0;case 2:if(i.type="drag",i.dx=i.clientX-d[0],i.dy=i.clientY-d[1],a.dispatchEvent(i),d=[i.clientX,i.clientY],r){e.next=4;break}return p="pointer"===n.dragndropPluginOptions.overlap?[i.canvasX,i.canvasY]:t.getBounds().center,e.next=3,o.elementsFromPoint(p[0],p[1]);case 3:g=e.sent,m=g[g.indexOf(t)+1],v=(null==m?void 0:m.closest("[droppable=true]"))||(n.dragndropPluginOptions.isDocumentDroppable?o:null),u!==v&&(u&&(i.type="dragleave",i.target=u,u.dispatchEvent(i)),v&&(i.type="dragenter",i.target=v,v.dispatchEvent(i)),(u=v)&&(i.type="dragover",i.target=u,u.dispatchEvent(i)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();i.addEventListener("pointermove",f);var h=function(e){if(l){e.detail={preventClick:!0};var t=e.clone();u&&(t.type="drop",t.target=u,u.dispatchEvent(t)),t.type="dragend",a.dispatchEvent(t),l=!1}i.removeEventListener("pointermove",f)};t.addEventListener("pointerup",h,{once:!0}),t.addEventListener("pointerupoutside",h,{once:!0})}};r.hooks.init.tap(e.tag,function(){i.addEventListener("pointerdown",a)}),r.hooks.destroy.tap(e.tag,function(){i.removeEventListener("pointerdown",a)})}}])}();Tye.tag="Dragndrop";const Lye="beforerender",Rye="afterrender",_ye="beforepaint",Aye="afterpaint",Pye="pointertap",jye="pointerdown",Bye="pointerup",Dye="pointerover",zye="pointerout",Hye="pointermove",Fye="pointerenter",Wye="pointerleave",Gye="pointerupoutside",Vye="dragstart",qye="drag",Xye="dragend",Uye="dragenter",Yye="dragleave",Kye="dragover",Zye="DROP",Qye="click",Jye="dblclick",ebe=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]],tbe=["lineX","lineY","rangeX","rangeY","range","connector"];var nbe={}.toString,rbe=function(e,t){return nbe.call(e)==="[object "+t+"]"};const obe=function(e){return rbe(e,"Function")},ibe=function(e){return Array.isArray?Array.isArray(e):rbe(e,"Array")};var abe=function(e){if(!function(e){return"object"==typeof e&&null!==e}(e)||!rbe(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};var lbe=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return function(e,t){var n,r;if(e)if(ibe(e))for(var o=0,i=e.length;o<i&&!1!==t(e[o],o);o++);else if(r=typeof(n=e),null!==n&&"object"===r||"function"===r)for(var a in e)if(e.hasOwnProperty(a)&&!1===t(e[a],a))break}(e,function(n,r){obe(e)&&"prototype"===r||t.push(n)}),t};function sbe(e,t,n,r){for(var o in n=n||0,r=r||5,t)if(t.hasOwnProperty(o)){var i=t[o];null!==i&&abe(i)?(abe(e[o])||(e[o]={}),n<r?sbe(e[o],i,n+1,r):e[o]=t[o]):ibe(i)?(e[o]=[],e[o]=e[o].concat(i)):void 0!==i&&(e[o]=i)}}var cbe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)sbe(e,t[r]);return e};const ube=function(e){return e};var dbe;function fbe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e?t.reduce(function(e,t){return function(n){return t(e(n))}},e):ube}function hbe(e){return e instanceof Float32Array||e instanceof Array}!function(e,t){if(!obe(e))throw new TypeError("Expected a function");var n=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var l=e.apply(this,r);return a.set(i,l),l};n.cache=new Map}(function(e,t){void 0===t&&(t={});var n,r=t.fontSize,o=t.fontFamily,i=t.fontWeight,a=t.fontStyle,l=t.fontVariant;return dbe||(dbe=document.createElement("canvas").getContext("2d")),dbe.font=[a,l,i,r+"px",o].join(" "),dbe.measureText((n=e,rbe(n,"String")?e:"")).width},function(e,t){return void 0===t&&(t={}),function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)r[o]=i[a];return r}([e],lbe(t)).join("")});var pbe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},gbe=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function mbe(e,t,n){for(;e<t;)e+=2*Math.PI;for(;e>n;)e-=2*Math.PI;return e}var vbe=function(e,t,n,r,o){var i,a,l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,2),s=l[0],c=l[1],u=IB();return a=[s,c],(i=u)[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=a[0],i[7]=a[1],i[8]=1,i};function ybe(e,...t){return t.reduce((e,t)=>n=>e(t(n)),e)}function bbe(e,t){return t-e?n=>(n-e)/(t-e):e=>.5}const xbe=Math.sqrt(50),wbe=Math.sqrt(10),Cbe=Math.sqrt(2);function Sbe(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/l(10,o);return o>=0?(i>=xbe?10:i>=wbe?5:i>=Cbe?2:1)*l(10,o):-l(10,-o)/(i>=xbe?10:i>=wbe?5:i>=Cbe?2:1)}const Ebe=(e,t,n=5)=>{const r=[e,t];let o,i=0,a=r.length-1,l=r[i],s=r[a];return s<l&&([l,s]=[s,l],[i,a]=[a,i]),o=Sbe(l,s,n),o>0?(l=Math.floor(l/o)*o,s=Math.ceil(s/o)*o,o=Sbe(l,s,n)):o<0&&(l=Math.ceil(l*o)/o,s=Math.floor(s*o)/o,o=Sbe(l,s,n)),o>0?(r[i]=Math.floor(l/o)*o,r[a]=Math.ceil(s/o)*o):o<0&&(r[i]=Math.ceil(l*o)/o,r[a]=Math.floor(s*o)/o),r};function Obe(e){return Array.isArray(e)}var kbe={}.toString,Mbe=function(e){if(!function(e){return"object"==typeof e&&null!==e}(e)||!function(e,t){return kbe.call(e)==="[object "+t+"]"}(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function $be(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function Ibe(e,t,n,r){for(var o in n=n||0,r=r||5,t)if($be(t,o)){var i=t[o];null!==i&&Mbe(i)?(Mbe(e[o])||(e[o]={}),n<r?Ibe(e[o],i,n+1,r):e[o]=t[o]):Obe(i)?(e[o]=[],e[o]=e[o].concat(i)):void 0!==i&&(e[o]=i)}}var Nbe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)Ibe(e,t[r]);return e};const Tbe=function(e){return e};function Lbe(e){return!(t=e,void 0===t||function(e){return null===e}(e)||Number.isNaN(e));var t}function Rbe(e,t,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function _be(e){const t=xee.get(e);if(!t)return null;const{model:n,value:r}=t;return"rgb"===n?r:"hsl"===n?function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100,o=e[3];if(0===n)return[255*r,255*r,255*r,o];const i=r<.5?r*(1+n):r+n-r*n,a=2*r-i;return[255*Rbe(a,i,t+1/3),255*Rbe(a,i,t),255*Rbe(a,i,t-1/3),o]}(r):null}const Abe=(e,t)=>n=>e*(1-n)+t*n,Pbe=(e,t)=>"number"==typeof e&&"number"==typeof t?Abe(e,t):"string"==typeof e&&"string"==typeof t?((e,t)=>{const n=_be(e),r=_be(t);return null===n||null===r?n?()=>e:()=>t:e=>{const t=new Array(4);for(let s=0;s<4;s+=1){const o=n[s],i=r[s];t[s]=o*(1-e)+i*e}const[o,i,a,l]=t;return`rgba(${Math.round(o)}, ${Math.round(i)}, ${Math.round(a)}, ${l})`}})(e,t):()=>e,jbe=(e,t)=>{const n=Abe(e,t);return e=>Math.round(n(e))};function Bbe({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Dbe(e){return"object"==typeof e?e.valueOf():e}class zbe extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=Dbe,null!==e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(Bbe({map:this.map,initKey:this.initKey},e))}has(e){return super.has(Bbe({map:this.map,initKey:this.initKey},e))}set(e,t){return super.set(function({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}({map:this.map,initKey:this.initKey},e),t)}delete(e){return super.delete(function({map:e,initKey:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}({map:this.map,initKey:this.initKey},e))}}class Hbe{constructor(e){this.options=Nbe({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=Nbe({},this.options,e),this.rescale(e)}rescale(e){}}const Fbe=Symbol("defaultUnknown");function Wbe(e,t,n){for(let r=0;r<t.length;r+=1)e.has(t[r])||e.set(n(t[r]),r)}function Gbe(e){const{value:t,from:n,to:r,mapper:o,notFoundReturn:i}=e;let a=o.get(t);if(void 0===a){if(i!==Fbe)return i;a=n.push(t)-1,o.set(t,a)}return r[a%r.length]}function Vbe(e){return e instanceof Date?e=>`${e}`:"object"==typeof e?e=>JSON.stringify(e):e=>e}class qbe extends Hbe{getDefaultOptions(){return{domain:[],range:[],unknown:Fbe}}constructor(e){super(e)}map(e){return 0===this.domainIndexMap.size&&Wbe(this.domainIndexMap,this.getDomain(),this.domainKey),Gbe({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return 0===this.rangeIndexMap.size&&Wbe(this.rangeIndexMap,this.getRange(),this.rangeKey),Gbe({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[t]=this.options.domain,[n]=this.options.range;if(this.domainKey=Vbe(t),this.rangeKey=Vbe(n),!this.rangeIndexMap)return this.rangeIndexMap=new Map,void(this.domainIndexMap=new Map);e&&!e.range||this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new qbe(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:t}=this.options;return this.sortedDomain=t?[...e].sort(t):e,this.sortedDomain}}function Xbe(e){return Math.round(1e12*e)/1e12}function Ube(e){const{domain:t,range:n,paddingOuter:r,paddingInner:o,flex:i,round:a,align:l}=e,s=t.length,c=function(e,t){const n=t-e.length;return n>0?[...e,...new Array(n).fill(1)]:n<0?e.slice(0,t):e}(i,s),[u,d]=n,f=d-u,h=f/(2/s*r+1-1/s*o),p=h*o/s,g=h-s*p,m=function(e){const t=Math.min(...e);return e.map(e=>e/t)}(c),v=g/m.reduce((e,t)=>e+t),y=new zbe(t.map((e,t)=>{const n=m[t]*v;return[e,a?Math.floor(n):n]})),b=new zbe(t.map((e,t)=>{const n=m[t]*v+p;return[e,a?Math.floor(n):n]})),x=Array.from(b.values()).reduce((e,t)=>e+t),w=u+(f-(x-x/s*o))*l;let C=a?Math.round(w):w;const S=new Array(s);for(let E=0;E<s;E+=1){S[E]=Xbe(C);const e=t[E];C+=b.get(e)}return{valueBandWidth:y,valueStep:b,adjustedRange:S}}class Ybe extends qbe{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:Fbe,flex:[]}}constructor(e){super(e)}clone(){return new Ybe(this.options)}getStep(e){return void 0===this.valueStep?1:"number"==typeof this.valueStep?this.valueStep:void 0===e?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return void 0===this.valueBandWidth?1:"number"==typeof this.valueBandWidth?this.valueBandWidth:void 0===e?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:t}=this.options;return e>0?e:t}getPaddingOuter(){const{padding:e,paddingOuter:t}=this.options;return e>0?e:t}rescale(){super.rescale();const{align:e,domain:t,range:n,round:r,flex:o}=this.options,{adjustedRange:i,valueBandWidth:a,valueStep:l}=function(e){var t;const{domain:n}=e,r=n.length;if(0===r)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(null===(t=e.flex)||void 0===t?void 0:t.length)return Ube(e);const{range:o,paddingOuter:i,paddingInner:a,round:l,align:s}=e;let c,u,d=o[0];const f=o[1]-d,h=2*i,p=r-a;c=f/Math.max(1,h+p),l&&(c=Math.floor(c)),d+=(f-c*(r-a))*s,u=c*(1-a),l&&(d=Math.round(d),u=Math.round(u));const g=new Array(r).fill(0).map((e,t)=>d+t*c);return{valueStep:c,valueBandWidth:u,adjustedRange:g}}({align:e,range:n,round:r,flex:o,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:t});this.valueStep=l,this.valueBandWidth=a,this.adjustedRange=i}}const Kbe=(e,t,n)=>{let r,o,i=e,a=t;if(i===a&&n>0)return[i];let l=Sbe(i,a,n);if(0===l||!Number.isFinite(l))return[];if(l>0){i=Math.ceil(i/l),a=Math.floor(a/l),o=new Array(r=Math.ceil(a-i+1));for(let e=0;e<r;e+=1)o[e]=(i+e)*l}else{l=-l,i=Math.ceil(i*l),a=Math.floor(a*l),o=new Array(r=Math.ceil(a-i+1));for(let e=0;e<r;e+=1)o[e]=(i+e)/l}return o},Zbe=(e,t,n)=>{const[r,o]=e,[i,a]=t;let l,s;return r<o?(l=bbe(r,o),s=n(i,a)):(l=bbe(o,r),s=n(a,i)),ybe(s,l)},Qbe=(e,t,n)=>{const r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=e[0]>e[r],l=a?[...e].reverse():e,s=a?[...t].reverse():t;for(let c=0;c<r;c+=1)o[c]=bbe(l[c],l[c+1]),i[c]=n(s[c],s[c+1]);return t=>{const n=function(e,t,n,r){let o=n,i=r||e.length;const a=e=>e;for(;o<i;){const n=Math.floor((o+i)/2);a(e[n])>t?i=n:o=n+1}return o}(e,t,1,r)-1,a=o[n];return ybe(i[n],a)(t)}},Jbe=(e,t,n,r)=>(Math.min(e.length,t.length)>2?Qbe:Zbe)(e,t,r?jbe:n);class exe extends Hbe{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Abe,tickCount:5}}map(e){return Lbe(e)?this.output(e):this.options.unknown}invert(e){return Lbe(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,t,n,...r]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,t,n,...r)}getTicks(){const{tickMethod:e}=this.options,[t,n,r,...o]=this.getTickMethodOptions();return e(t,n,r,...o)}getTickMethodOptions(){const{domain:e,tickCount:t}=this.options;return[e[0],e[e.length-1],t]}chooseNice(){return Ebe}rescale(){this.nice();const[e,t]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,t,this.chooseClamp(t))}chooseClamp(e){const{clamp:t,range:n}=this.options,r=this.options.domain.map(e),o=Math.min(r.length,n.length);return t?function(e,t){const n=t<e?t:e,r=e>t?e:t;return e=>Math.min(Math.max(n,e),r)}(r[0],r[o-1]):Tbe}composeOutput(e,t){const{domain:n,range:r,round:o,interpolate:i}=this.options,a=Jbe(n.map(e),r,i,o);this.output=ybe(a,t,e)}composeInput(e,t,n){const{domain:r,range:o}=this.options,i=Jbe(o,r.map(e),Abe);this.input=ybe(t,n,i)}}class txe extends exe{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Pbe,tickMethod:Kbe,tickCount:5}}chooseTransforms(){return[Tbe,Tbe]}clone(){return new txe(this.options)}}class nxe extends Ybe{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:Fbe,paddingInner:1,paddingOuter:0}}constructor(e){super(e)}getPaddingInner(){return 1}clone(){return new nxe(this.options)}update(e){super.update(e)}getPaddingOuter(){return this.options.padding}}var rxe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},oxe=function(e,t,n,r,o){var i=new txe({range:[t,t+r]}),a=new txe({range:[n,n+o]});return{transform:function(e){var t=rxe(e,2),n=t[0],r=t[1];return[i.map(n),a.map(r)]},untransform:function(e){var t=rxe(e,2),n=t[0],r=t[1];return[i.invert(n),a.invert(r)]}}},ixe=function(e,t,n,r,o){var i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,1);return(0,i[0])(t,n,r,o)},axe=function(e,t,n,r,o){var i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,1);return i[0]},lxe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},sxe=function(e,t,n,r,o){var i=lxe(e,4),a=i[0],l=i[1],s=i[2],c=i[3],u=new txe({range:[s,c]}),d=new txe({range:[a,l]}),f=o/r,h=f>1?1:f,p=f>1?1/f:1;return{transform:function(e){var t=lxe(e,2),n=t[0],r=t[1],o=d.map(n),i=u.map(r);return[.5*(i*Math.cos(o)*h)+.5,.5*(i*Math.sin(o)*p)+.5]},untransform:function(e){var t=lxe(e,2),n=t[0],r=t[1],o=2*(n-.5)/h,i=2*(r-.5)/p,s=Math.sqrt(Math.pow(o,2)+Math.pow(i,2)),c=mbe(Math.atan2(i,o),a,l);return[d.invert(c),u.invert(s)]}}},cxe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},uxe=function(e,t,n,r,o){return{transform:function(e){var t=cxe(e,2),n=t[0];return[t[1],n]},untransform:function(e){var t=cxe(e,2),n=t[0];return[t[1],n]}}},dxe=function(e,t,n,r,o){var i,a,l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,2),s=l[0],c=l[1],u=IB();return a=[s,c],(i=u)[0]=a[0],i[1]=0,i[2]=0,i[3]=0,i[4]=a[1],i[5]=0,i[6]=0,i[7]=0,i[8]=1,i},fxe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},hxe=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},pxe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return dxe.apply(void 0,hxe([[-1,-1]],fxe(t),!1))},gxe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return dxe.apply(void 0,hxe([[-1,1]],fxe(t),!1))},mxe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return dxe.apply(void 0,hxe([[1,-1]],fxe(t),!1))},vxe=function(e,t,n,r,o){var i,a,l,s,c=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,1),u=c[0],d=IB();return i=d,a=u,l=Math.sin(a),s=Math.cos(a),i[0]=s,i[1]=l,i[2]=0,i[3]=-l,i[4]=s,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i},yxe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},bxe=function(e,t,n,r,o){var i=yxe(e,4),a=i[0],l=i[1],s=i[2],c=(i[3]-s)/((l-0)/(2*Math.PI)+1),u=c/(2*Math.PI),d=new txe({range:[s,s+.99*c]}),f=new txe({range:[a,l]}),h=o/r,p=h>1?1:h,g=h>1?1/h:1;return{transform:function(e){var t=yxe(e,2),n=t[0],r=t[1],o=f.map(n),i=d.map(r);return[.5*(Math.cos(o)*(u*o+i)*p)+.5,.5*(Math.sin(o)*(u*o+i)*g)+.5]},untransform:function(e){var t=yxe(e,2),n=t[0],r=t[1],o=2*(n-.5)/p,i=2*(r-.5)/g,s=Math.sqrt(Math.pow(o,2)+Math.pow(i,2)),h=mbe(Math.atan2(i,o)+Math.floor(s/c)*Math.PI*2,a,l),m=s-u*h;return[f.invert(h),d.invert(m)]}}},xxe=function(e,t,n,r,o){var i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,4),a=i[0],l=i[1],s=i[2],c=i[3],u=new txe({range:[s,c]});return{transform:function(e){for(var t=[],n=e.length,r=new nxe({domain:new Array(n).fill(0).map(function(e,t){return t}),range:[a,l]}),o=0;o<n;o++){var i=e[o],s=r.map(o),c=u.map(i);t.push(s,c)}return t},untransform:function(e){for(var t=[],n=0;n<e.length;n+=2){var r=e[n+1];t.push(u.invert(r))}return t}}},wxe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Cxe(e){return 1/Math.tan(e)}var Sxe=function(e,t,n,r,o){var i=Cxe(wxe(e,1)[0]);return{transform:function(e){var t=wxe(e,2),n=t[0],r=t[1];return[n+r*i,r]},untransform:function(e){var t=wxe(e,2),n=t[0],r=t[1];return[n-r*i,r]}}},Exe=function(e,t,n,r,o){var i=Cxe(wxe(e,1)[0]);return{transform:function(e){var t=wxe(e,2),n=t[0];return[n,t[1]+n*i]},untransform:function(e){var t=wxe(e,2),n=t[0];return[n,t[1]-n*i]}}},Oxe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function kxe(e,t,n,r,o){var i=e<t,a=(i?t-r:o-t)||o-r,l=i?-1:1;return l*a*(n+1)/(n+a/((e-t)*l))+t}function Mxe(e,t,n,r,o){var i=e<t,a=(i?t-r:o-t)||o-r;return a/(a*(n+1)/(e-t)-n*(i?-1:1))+t}function $xe(e,t,n){return n?new txe({range:[0,1],domain:[0,t]}).map(e):e}var Ixe=function(e,t,n,r,o){var i=Oxe(e,3),a=i[0],l=i[1],s=i[2],c=$xe(a,r,void 0!==s&&s);return{transform:function(e){var t=Oxe(e,2),n=t[0],r=t[1];return[kxe(n,c,l,0,1),r]},untransform:function(e){var t=Oxe(e,2),n=t[0],r=t[1];return[Mxe(n,c,l,0,1),r]}}},Nxe=function(e,t,n,r,o){var i=Oxe(e,3),a=i[0],l=i[1],s=i[2],c=$xe(a,o,void 0!==s&&s);return{transform:function(e){var t=Oxe(e,2);return[t[0],kxe(t[1],c,l,0,1)]},untransform:function(e){var t=Oxe(e,2);return[t[0],Mxe(t[1],c,l,0,1)]}}},Txe=function(e,t,n,r,o){var i=Oxe(e,5),a=i[0],l=i[1],s=i[2],c=i[3],u=i[4],d=void 0!==u&&u,f=$xe(a,r,d),h=$xe(l,o,d);return{transform:function(e){var t=Oxe(e,2),n=t[0],r=t[1];return[kxe(n,f,s,0,1),kxe(r,h,c,0,1)]},untransform:function(e){var t=Oxe(e,2),n=t[0],r=t[1];return[Mxe(n,f,s,0,1),Mxe(r,h,c,0,1)]}}},Lxe=function(e,t,n,r,o){var i=Oxe(e,5),a=i[0],l=i[1],s=i[2],c=i[3],u=i[4],d=void 0!==u&&u,f=new txe({range:[0,r]}),h=new txe({range:[0,o]}),p=d?a:f.map(a),g=d?l:h.map(l);return{transform:function(e){var t=Oxe(e,2),n=t[0],r=t[1],o=f.map(n)-p,i=h.map(r)-g,a=Math.sqrt(o*o+i*i);if(a>s)return[n,r];var l=kxe(a,0,c,0,s),u=Math.atan2(i,o),d=p+l*Math.cos(u),m=g+l*Math.sin(u);return[f.invert(d),h.invert(m)]},untransform:function(e){var t=Oxe(e,2),n=t[0],r=t[1],o=f.map(n)-p,i=h.map(r)-g,a=Math.sqrt(o*o+i*i);if(a>s)return[n,r];var l=Mxe(a,0,c,0,s),u=Math.atan2(i,o),d=p+l*Math.cos(u),m=g+l*Math.sin(u);return[f.invert(d),h.invert(m)]}}},Rxe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},_xe=function(e,t,n,r,o,i,a){var l=new txe({range:[t,t+o]}),s=new txe({range:[n,n+i]}),c=new txe({range:[r,r+a]});return{transform:function(e){var t=Rxe(e,3),n=t[0],r=t[1],o=t[2];return[l.map(n),s.map(r),c.map(o)]},untransform:function(e){var t=Rxe(e,3),n=t[0],r=t[1],o=t[2];return[l.invert(n),s.invert(r),c.invert(o)]}}},Axe=function(e,t,n,r,o,i,a){var l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,3),s=l[0],c=l[1],u=l[2];return VB(TB(),[s,c,u])},Pxe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},jxe=function(e,t,n,r,o,i,a){return{transform:function(e){var t=Pxe(e,3),n=t[0];return[t[1],n,t[2]]},untransform:function(e){var t=Pxe(e,3),n=t[0];return[t[1],n,t[2]]}}},Bxe=function(e,t,n,r,o,i,a){var l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,3),s=l[0],c=l[1],u=l[2];return qB(TB(),[s,c,u])},Dxe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},zxe=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Hxe=function(){function e(e){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:oxe,translate:vbe,custom:ixe,matrix:axe,polar:sxe,transpose:uxe,scale:dxe,"shear.x":Sxe,"shear.y":Exe,reflect:pxe,"reflect.x":gxe,"reflect.y":mxe,rotate:vxe,helix:bxe,parallel:xxe,fisheye:Txe,"fisheye.x":Ixe,"fisheye.y":Nxe,"fisheye.circular":Lxe},this.update(e)}return e.prototype.update=function(e){this.options=cbe({},this.options,e),this.recoordinate()},e.prototype.clone=function(){return new e(this.options)},e.prototype.getOptions=function(){return this.options},e.prototype.clear=function(){this.update({transformations:[]})},e.prototype.getSize=function(){var e=this.options;return[e.width,e.height]},e.prototype.getCenter=function(){var e=this.options,t=e.x,n=e.y;return[(2*t+e.width)/2,(2*n+e.height)/2]},e.prototype.transform=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.options.transformations;return this.update({transformations:zxe(zxe([],Dxe(n),!1),[zxe([],Dxe(e),!1)],!1)}),this},e.prototype.map=function(e){return this.output(e)},e.prototype.invert=function(e){return this.input(e)},e.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},e.prototype.compose=function(e){var t,n;void 0===e&&(e=!1);var r=e?zxe([],Dxe(this.options.transformations),!1).reverse():this.options.transformations,o=e?function(e){return e.untransform}:function(e){return e.transform},i=[],a=[],l=function(e,t){return void 0===t&&(t=!0),a.push(t?function(e){return function(t){for(var n=[],r=0;r<t.length-1;r+=2){var o=[t[r],t[r+1]],i=e(o);n.push.apply(n,gbe([],pbe(i),!1))}return n}}(e):e)};try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),c=s.next();!c.done;c=s.next()){var u=Dxe(c.value),d=u[0],f=u.slice(1),h=this.transformers[d];if(h){var p=this.options,g=p.x,m=p.y,v=p.width,y=p.height,b=h(zxe([],Dxe(f),!1),g,m,v,y);if(hbe(b))i.push(b);else{if(i.length)l(this.createMatrixTransform(i,e)),i.splice(0,i.length);l(o(b)||ube,"parallel"!==d)}}}}catch(x){t={error:x}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}i.length&&l(this.createMatrixTransform(i,e));return fbe.apply(void 0,zxe([],Dxe(a),!1))},e.prototype.createMatrixTransform=function(e,t){var n,r,o=IB();return t&&e.reverse(),e.forEach(function(e){return NB(o,o,e)}),t&&function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],l=t[5],s=t[6],c=t[7],u=t[8],d=u*a-l*c,f=-u*i+l*s,h=c*i-a*s,p=n*d+r*f+o*h;p&&(p=1/p,e[0]=d*p,e[1]=(-u*r+o*c)*p,e[2]=(l*r-o*a)*p,e[3]=f*p,e[4]=(u*n-o*s)*p,e[5]=(-l*n+o*i)*p,e[6]=h*p,e[7]=(-c*n+r*s)*p,e[8]=(a*n-r*i)*p)}(o,(n=o,(r=new $B(9))[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r)),function(e){var t=[e[0],e[1],1];return $D(t,t,o),[t[0],t[1]]}},e}(),Fxe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Wxe=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Gxe=function(){function e(e){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:_xe,translate3D:Axe,scale3D:Bxe,transpose3D:jxe},this.update(e)}return e.prototype.update=function(e){this.options=cbe({},this.options,e),this.recoordinate()},e.prototype.clone=function(){return new e(this.options)},e.prototype.getOptions=function(){return this.options},e.prototype.clear=function(){this.update({transformations:[]})},e.prototype.getSize=function(){var e=this.options;return[e.width,e.height,e.depth]},e.prototype.getCenter=function(){var e=this.options,t=e.x,n=e.y,r=e.z;return[(2*t+e.width)/2,(2*n+e.height)/2,(2*r+e.depth)/2]},e.prototype.transform=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.options.transformations;return this.update({transformations:Wxe(Wxe([],Fxe(n),!1),[Wxe([],Fxe(e),!1)],!1)}),this},e.prototype.map=function(e){return this.output(e)},e.prototype.invert=function(e){return this.input(e)},e.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},e.prototype.compose=function(e){var t,n;void 0===e&&(e=!1);var r=e?Wxe([],Fxe(this.options.transformations),!1).reverse():this.options.transformations,o=e?function(e){return e.untransform}:function(e){return e.transform},i=[],a=[],l=function(e,t){return void 0===t&&(t=!0),a.push(t?function(e){return function(t){for(var n=[],r=0;r<t.length-1;r+=3){var o=[t[r],t[r+1],t[r+2]],i=e(o);n.push.apply(n,gbe([],pbe(i),!1))}return n}}(e):e)};try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),c=s.next();!c.done;c=s.next()){var u=Fxe(c.value),d=u[0],f=u.slice(1),h=this.transformers[d];if(h){var p=this.options,g=p.x,m=p.y,v=p.z,y=p.width,b=p.height,x=p.depth,w=h(Wxe([],Fxe(f),!1),g,m,v,y,b,x);if(hbe(w))i.push(w);else{if(i.length)l(this.createMatrixTransform(i,e)),i.splice(0,i.length);l(o(w)||ube,!0)}}}}catch(C){t={error:C}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}i.length&&l(this.createMatrixTransform(i,e));return fbe.apply(void 0,Wxe([],Fxe(a),!1))},e.prototype.createMatrixTransform=function(e,t){var n=TB();return t&&e.reverse(),e.forEach(function(e){return dD(n,n,e)}),t&&BB(n,LB(n)),function(e){var t=[e[0],e[1],e[2],1];return AD(t,t,n),[t[0],t[1],t[2]]}},e}();function Vxe(e){return(t,...n)=>kz({},e(t,...n),t)}function qxe(e){return(t,...n)=>kz({},t,e(t,...n))}function Xxe(e,t){if(!e)return t;if(Array.isArray(e))return e;if(!((n=e)instanceof Date)&&"object"==typeof n){const{value:n=t}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["value"]);return Object.assign(Object.assign({},r),{value:n})}var n;return e}const Uxe=()=>e=>{const{children:t}=e;if(!Array.isArray(t))return[];const{x:n=0,y:r=0,width:o,height:i,data:a}=e;return t.map(e=>{var{data:t,x:l,y:s,width:c,height:u}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["data","x","y","width","height"]);return Object.assign(Object.assign({},d),{data:Xxe(t,a),x:null!=l?l:n,y:null!=s?s:r,width:null!=c?c:o,height:null!=u?u:i})})};Uxe.props={};var Yxe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Kxe=()=>e=>{const{children:t}=e;if(!Array.isArray(t))return[];const{direction:n="row",ratio:r=t.map(()=>1),padding:o=0,data:i}=e,[a,l,s,c]="col"===n?["y","height","width","x"]:["x","width","height","y"],u=r.reduce((e,t)=>e+t),d=e[l]-o*(t.length-1),f=r.map(e=>d*(e/u)),h=[];let p=e[a]||0;for(let g=0;g<f.length;g+=1){const n=t[g],{data:r}=n,u=Yxe(n,["data"]),d=Xxe(r,i);h.push(Object.assign({[a]:p,[l]:f[g],[c]:e[c]||0,[s]:e[s],data:d},u)),p+=f[g]+o}return h};Kxe.props={};var Zxe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Qxe=()=>e=>{const{children:t}=e,n=Zxe(e,["children"]);if(!Array.isArray(t))return[];const{data:r,scale:o={},axis:i={},legend:a={},encode:l={},transform:s=[],slider:c={}}=n,u=Zxe(n,["data","scale","axis","legend","encode","transform","slider"]),d=t.map(e=>{var{data:t,scale:n={},axis:u={},legend:d={},encode:f={},transform:h=[],slider:p={}}=e,g=Zxe(e,["data","scale","axis","legend","encode","transform","slider"]);return Object.assign({data:Xxe(t,r),scale:kz({},o,n),encode:kz({},l,f),transform:[...s,...h],axis:!(!u||!i)&&kz({},i,u),legend:!(!d||!a)&&kz({},a,d),slider:kz({},c,p)},g)});return[Object.assign(Object.assign({},u),{marks:d,type:"standardView",slider:c})]};Qxe.props={};const Jxe=({static:e=!1}={})=>t=>{const{width:n,height:r,depth:o,paddingLeft:i,paddingRight:a,paddingTop:l,paddingBottom:s,padding:c,inset:u,insetLeft:d,insetTop:f,insetRight:h,insetBottom:p,margin:g,marginLeft:m,marginBottom:v,marginTop:y,marginRight:b,data:x,coordinate:w,theme:C,component:S,interaction:E,x:O,y:k,z:M,key:$,frame:I,labelTransform:N,parentKey:T,clip:L,viewStyle:R,title:_}=t,A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:O,y:k,z:M,key:$,width:n,height:r,depth:o,padding:c,paddingLeft:i,paddingRight:a,paddingTop:l,inset:u,insetLeft:d,insetTop:f,insetRight:h,insetBottom:p,paddingBottom:s,theme:C,coordinate:w,component:S,interaction:E,frame:I,labelTransform:N,margin:g,marginLeft:m,marginBottom:v,marginTop:y,marginRight:b,parentKey:T,clip:L,style:R},!e&&{title:_}),{marks:[Object.assign(Object.assign(Object.assign({},A),{key:`${$}-0`,data:x}),e&&{title:_})]})]};Jxe.props={};class ewe{constructor(e){this.$value=e}static of(e){return new ewe(e)}call(e,...t){return this.$value=e(this.$value,...t),this}value(){return this.$value}}const twe=Vxe(e=>{const{encode:t,data:n,scale:r,shareSize:o=!1}=e,{x:i,y:a}=t,l=(e,t)=>{var i;if(void 0===e||!o)return{};const a=H7(n,t=>t[e]),l=(null===(i=null==r?void 0:r[t])||void 0===i?void 0:i.domain)||Array.from(a.keys()),s=l.map(e=>a.has(e)?a.get(e).length:1);return{domain:l,flex:s}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:void 0===i?null:{position:"top"}},void 0===i&&{paddingInner:0}),l(i,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:void 0===a?null:{position:"right"}},void 0===a&&{paddingInner:0}),l(a,"y"))}}}),nwe=qxe(e=>{const{data:t,scale:n,legend:r}=e,o=[e];let i,a,l;for(;o.length;){const e=o.shift(),{children:t,encode:n={},scale:r={},legend:s={}}=e,{color:c}=n,{color:u}=r,{color:d}=s;void 0!==c&&(i=c),void 0!==u&&(a=u),void 0!==d&&(l=d),Array.isArray(t)&&o.push(...t)}const s="string"==typeof i?i:"",[c,u]=(()=>{var e;const r=null===(e=null==n?void 0:n.color)||void 0===e?void 0:e.domain;if(void 0!==r)return[r];if(void 0===i)return[void 0];const o="function"==typeof i?i:e=>e[i],a=t.map(o);return a.some(e=>"number"==typeof e)?[A7(a)]:[Array.from(new Set(a)),"ordinal"]})();return Object.assign({encode:{color:{type:"column",value:null!=c?c:[]}},scale:{color:kz({},a,{domain:c,type:u})}},void 0===r&&{legend:{color:kz({title:s},l)}})}),rwe=Vxe(()=>({animate:{enterType:"fadeIn"}})),owe=qxe(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),iwe=qxe(()=>({type:"cell"})),awe=qxe(e=>{const{data:t}=e;return{data:{type:"inline",value:t,transform:[{type:"custom",callback:()=>{const{data:t,encode:n}=e,{x:r,y:o}=n,i=r?Array.from(new Set(t.map(e=>e[r]))):[],a=o?Array.from(new Set(t.map(e=>e[o]))):[];return(()=>{if(i.length&&a.length){const e=[];for(const t of i)for(const n of a)e.push({[r]:t,[o]:n});return e}return i.length?i.map(e=>({[r]:e})):a.length?a.map(e=>({[o]:e})):void 0})()}}]}}}),lwe=qxe((e,t=swe,n=uwe,r=dwe,o={})=>{const{data:i,encode:a,children:l,scale:s,x:c=0,y:u=0,shareData:d=!1,key:f}=e,{value:h}=i,{x:p,y:g}=a,{color:m}=s,{domain:v}=m;return{children:(e,i,a)=>{const{x:s,y:m}=i,{paddingLeft:y,paddingTop:b,marginLeft:x,marginTop:w}=a,{domain:C}=s.getOptions(),{domain:S}=m.getOptions(),E=Yte(e),O=e.map(t),k=e.map(({x:e,y:t})=>[s.invert(e),m.invert(t)]),M=k.map(([e,t])=>n=>{const{[p]:r,[g]:o}=n;return(void 0===p||r===e)&&(void 0===g||o===t)}).map(e=>h.filter(e)),$=d?o9(M,e=>e.length):void 0,I=k.map(([e,t])=>({columnField:p,columnIndex:C.indexOf(e),columnValue:e,columnValuesLength:C.length,rowField:g,rowIndex:S.indexOf(t),rowValue:t,rowValuesLength:S.length})),N=I.map(e=>Array.isArray(l)?l:[l(e)].flat(1));return E.flatMap(e=>{const[t,i,a,l]=O[e],s=I[e],d=M[e];return N[e].map(m=>{var C,S,{scale:E,key:O,facet:k=!0,axis:M={},legend:I={}}=m,N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(m,["scale","key","facet","axis","legend"]);const T=(null===(C=null==E?void 0:E.y)||void 0===C?void 0:C.guide)||M.y,L=(null===(S=null==E?void 0:E.x)||void 0===S?void 0:S.guide)||M.x,R={x:{tickCount:p?5:void 0},y:{tickCount:g?5:void 0}},_=k?d:0===d.length?[]:h,A={color:{domain:v}},P={x:fwe(L,n)(s,_),y:fwe(T,r)(s,_)};return Object.assign(Object.assign({key:`${O}-${e}`,data:_,margin:0,x:t+y+c+x,y:i+b+u+w,parentKey:f,width:a,height:l,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!_.length,dataDomain:$,scale:kz(R,E,A),axis:kz({},M,P),legend:!1},N),o)})})}}});function swe(e){const{points:t}=e;return bre(t)}function cwe(e,t){return t.length?kz({title:!1,tick:null,label:null},e):kz({title:!1,tick:null,label:null,grid:null},e)}function uwe(e){return(t,n)=>{const{rowIndex:r,rowValuesLength:o,columnIndex:i,columnValuesLength:a}=t;if(r!==o-1)return cwe(e,n);const l=i===a-1&&void 0,s=n.length?void 0:null;return kz({title:l,grid:s},e)}}function dwe(e){return(t,n)=>{const{rowIndex:r,columnIndex:o}=t;if(0!==o)return cwe(e,n);const i=0===r&&void 0,a=n.length?void 0:null;return kz({title:i,grid:a},e)}}function fwe(e,t){return"function"==typeof e?e:null===e||!1===e?()=>null:t(e)}const hwe=()=>e=>[ewe.of(e).call(iwe).call(nwe).call(rwe).call(twe).call(owe).call(awe).call(lwe).value()];hwe.props={};var pwe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const gwe=Vxe(e=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),mwe=qxe(e=>{const{data:t,children:n,x:r=0,y:o=0,key:i}=e;return{children:(e,a,l)=>{const{x:s,y:c}=a,{paddingLeft:u,paddingTop:d,marginLeft:f,marginTop:h}=l,{domain:p}=s.getOptions(),{domain:g}=c.getOptions(),m=Yte(e),v=e.map(({points:e})=>bre(e)),y=e.map(({x:e,y:t})=>[s.invert(e),c.invert(t)]),b=y.map(([e,t])=>({columnField:e,columnIndex:p.indexOf(e),columnValue:e,columnValuesLength:p.length,rowField:t,rowIndex:g.indexOf(t),rowValue:t,rowValuesLength:g.length})),x=b.map(e=>Array.isArray(n)?n:[n(e)].flat(1));return m.flatMap(e=>{const[n,a,l,s]=v[e],[c,p]=y[e],g=b[e];return x[e].map(m=>{var v,y;const{scale:b,key:x,encode:w,axis:C,interaction:S}=m,E=pwe(m,["scale","key","encode","axis","interaction"]),O=null===(v=null==b?void 0:b.y)||void 0===v?void 0:v.guide,k={x:ywe(null===(y=null==b?void 0:b.x)||void 0===y?void 0:y.guide)(g,t),y:bwe(O)(g,t)};return Object.assign({data:t,parentKey:i,key:`${x}-${e}`,x:n+u+r+f,y:a+d+o+h,width:l,height:s,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:kz({x:{facet:!1},y:{facet:!1}},b),axis:kz({x:{tickCount:5},y:{tickCount:5}},C,k),legend:!1,encode:kz({},w,{x:c,y:p}),interaction:kz({},S,{legendFilter:!1})},E)})})}}}),vwe=qxe(e=>{const{encode:t}=e,n=pwe(e,["encode"]),{position:r=[],x:o=r,y:i=[...r].reverse()}=t,a=pwe(t,["position","x","y"]),l=[];for(const s of[o].flat(1))for(const e of[i].flat(1))l.push({$x:s,$y:e});return Object.assign(Object.assign({},n),{data:l,encode:Object.assign(Object.assign({},a),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},1===[o].flat(1).length&&{x:{paddingInner:0}}),1===[i].flat(1).length&&{y:{paddingInner:0}})})});function ywe(e){return"function"==typeof e?e:null===e?()=>null:(t,n)=>{const{rowIndex:r,rowValuesLength:o}=t;if(r!==o-1)return cwe(e,n)}}function bwe(e){return"function"==typeof e?e:null===e?()=>null:(t,n)=>{const{columnIndex:r}=t;if(0!==r)return cwe(e,n)}}const xwe=()=>e=>[ewe.of(e).call(iwe).call(nwe).call(mwe).call(vwe).call(rwe).call(owe).call(gwe).value()];const wwe=Vxe(e=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),Cwe=Vxe(e=>({coordinate:{type:"polar"}})),Swe=e=>{const{encode:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["encode"]),{position:r}=t;return Object.assign(Object.assign({},n),{encode:{x:r}})};function Ewe(e){return e=>null}function Owe(e){const{points:t}=e,[n,r,o,i]=t,a=gre(n,i),l=hre(n,i),s=yre(l,hre(r,o)),c=1/Math.sin(s/2),u=a/(1+c),d=u*Math.sqrt(2),[f,h]=o,p=vre(l)+s/2,g=u*c;return[f+g*Math.sin(p)-d/2,h-g*Math.cos(p)-d/2,d,d]}const kwe=()=>e=>[ewe.of(e).call(iwe).call(Swe).call(nwe).call(Cwe).call(awe).call(lwe,Owe,Ewe,Ewe,{frame:!1}).call(rwe).call(owe).call(wwe).value()];function Mwe(e,t,n){const r=[0,n],o=[1-n,1];return"normal"===e?r:"reverse"===e?o:"alternate"===e?t%2==0?r:o:"reverse-alternate"===e?t%2==0?o:r:void 0}const $we=()=>e=>{const{children:t=[],duration:n=1e3,iterationCount:r=1,direction:o="normal",easing:i="ease-in-out-sine"}=e,a=t.length;if(!Array.isArray(t)||0===a)return[];const{key:l}=t[0],s=t.map(e=>Object.assign(Object.assign({},e),{key:l})).map(e=>function(e,t,n){const r=[e];for(;r.length;){const e=r.pop();e.animate=kz({enter:{duration:t},update:{duration:t,easing:n,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:t}},e.animate||{});const{children:o}=e;Array.isArray(o)&&r.push(...o)}return e}(e,n,i));return function*(){let e,t=0;for(;"infinite"===r||t<r;){const[n,r]=Mwe(o,t,a);for(let t=n;t<r;t+=1){const n=Math.abs(t);e!==n&&(yield s[n]),e=n}t++}}};$we.props={};const Iwe=()=>e=>{const{type:t,data:n,scale:r,encode:o,style:i,animate:a,key:l,state:s,tooltip:c}=e,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["type","data","scale","encode","style","animate","key","state","tooltip"]);return[Object.assign(Object.assign({type:"geoView"},u),{children:[{type:"geoPath",key:`${l}-0`,data:{value:n},scale:r,encode:o,style:i,animate:a,state:s,tooltip:c}]})]};Iwe.props={};var Nwe=1e-6,Twe=Math.PI,Lwe=Twe/2,Rwe=Twe/4,_we=2*Twe,Awe=180/Twe,Pwe=Twe/180,jwe=Math.abs,Bwe=Math.atan,Dwe=Math.atan2,zwe=Math.cos,Hwe=Math.ceil,Fwe=Math.exp,Wwe=Math.log,Gwe=Math.pow,Vwe=Math.sin,qwe=Math.sign||function(e){return e>0?1:e<0?-1:0},Xwe=Math.sqrt,Uwe=Math.tan;function Ywe(e){return e>1?0:e<-1?Twe:Math.acos(e)}function Kwe(e){return e>1?Lwe:e<-1?-Lwe:Math.asin(e)}function Zwe(){}function Qwe(e,t){e&&eCe.hasOwnProperty(e.type)&&eCe[e.type](e,t)}var Jwe={Feature:function(e,t){Qwe(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)Qwe(n[r].geometry,t)}},eCe={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){tCe(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)tCe(n[r],t,0)},Polygon:function(e,t){nCe(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)nCe(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)Qwe(n[r],t)}};function tCe(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function nCe(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)tCe(e[n],t,1);t.polygonEnd()}function rCe(e,t){e&&Jwe.hasOwnProperty(e.type)?Jwe[e.type](e,t):Qwe(e,t)}function oCe(e){return[Dwe(e[1],e[0]),Kwe(e[2])]}function iCe(e){var t=e[0],n=e[1],r=zwe(n);return[r*zwe(t),r*Vwe(t),Vwe(n)]}function aCe(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function lCe(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function sCe(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function cCe(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function uCe(e){var t=Xwe(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function dCe(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function fCe(e,t){return jwe(e)>Twe&&(e-=Math.round(e/_we)*_we),[e,t]}function hCe(e,t,n){return(e%=_we)?t||n?dCe(gCe(e),mCe(t,n)):gCe(e):t||n?mCe(t,n):fCe}function pCe(e){return function(t,n){return jwe(t+=e)>Twe&&(t-=Math.round(t/_we)*_we),[t,n]}}function gCe(e){var t=pCe(e);return t.invert=pCe(-e),t}function mCe(e,t){var n=zwe(e),r=Vwe(e),o=zwe(t),i=Vwe(t);function a(e,t){var a=zwe(t),l=zwe(e)*a,s=Vwe(e)*a,c=Vwe(t),u=c*n+l*r;return[Dwe(s*o-u*i,l*n-c*r),Kwe(u*o+s*i)]}return a.invert=function(e,t){var a=zwe(t),l=zwe(e)*a,s=Vwe(e)*a,c=Vwe(t),u=c*o-s*i;return[Dwe(s*o+c*i,l*n+u*r),Kwe(u*n-l*r)]},a}function vCe(e,t){(t=iCe(t))[0]-=e,uCe(t);var n=Ywe(-t[1]);return((-t[2]<0?-n:n)+_we-Nwe)%_we}function yCe(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:Zwe,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function bCe(e,t){return jwe(e[0]-t[0])<Nwe&&jwe(e[1]-t[1])<Nwe}function xCe(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function wCe(e,t,n,r,o){var i,a,l=[],s=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(bCe(r,a)){if(!r[2]&&!a[2]){for(o.lineStart(),i=0;i<t;++i)o.point((r=e[i])[0],r[1]);return void o.lineEnd()}a[0]+=2e-6}l.push(n=new xCe(r,e,null,!0)),s.push(n.o=new xCe(r,null,n,!1)),l.push(n=new xCe(a,e,null,!1)),s.push(n.o=new xCe(a,null,n,!0))}}),l.length){for(s.sort(t),CCe(l),CCe(s),i=0,a=s.length;i<a;++i)s[i].e=n=!n;for(var c,u,d=l[0];;){for(var f=d,h=!0;f.v;)if((f=f.n)===d)return;c=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(i=0,a=c.length;i<a;++i)o.point((u=c[i])[0],u[1]);else r(f.x,f.n.x,1,o);f=f.n}else{if(h)for(c=f.p.z,i=c.length-1;i>=0;--i)o.point((u=c[i])[0],u[1]);else r(f.x,f.p.x,-1,o);f=f.p}c=(f=f.o).z,h=!h}while(!f.v);o.lineEnd()}}}function CCe(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}function SCe(e){return jwe(e[0])<=Twe?e[0]:qwe(e[0])*((jwe(e[0])+Twe)%_we-Twe)}function ECe(e,t,n,r){return function(o){var i,a,l,s=t(o),c=yCe(),u=t(c),d=!1,f={point:h,lineStart:g,lineEnd:m,polygonStart:function(){f.point=v,f.lineStart=y,f.lineEnd=b,a=[],i=[]},polygonEnd:function(){f.point=h,f.lineStart=g,f.lineEnd=m,a=p9(a);var e=function(e,t){var n=SCe(t),r=t[1],o=Vwe(r),i=[Vwe(n),-zwe(n),0],a=0,l=0,s=new P7;1===o?r=Lwe+Nwe:-1===o&&(r=-Lwe-Nwe);for(var c=0,u=e.length;c<u;++c)if(f=(d=e[c]).length)for(var d,f,h=d[f-1],p=SCe(h),g=h[1]/2+Rwe,m=Vwe(g),v=zwe(g),y=0;y<f;++y,p=x,m=C,v=S,h=b){var b=d[y],x=SCe(b),w=b[1]/2+Rwe,C=Vwe(w),S=zwe(w),E=x-p,O=E>=0?1:-1,k=O*E,M=k>Twe,$=m*C;if(s.add(Dwe($*O*Vwe(k),v*S+$*zwe(k))),a+=M?E+O*_we:E,M^p>=n^x>=n){var I=lCe(iCe(h),iCe(b));uCe(I);var N=lCe(i,I);uCe(N);var T=(M^E>=0?-1:1)*Kwe(N[2]);(r>T||r===T&&(I[0]||I[1]))&&(l+=M^E>=0?1:-1)}}return(a<-Nwe||a<Nwe&&s<-1e-12)^1&l}(i,r);a.length?(d||(o.polygonStart(),d=!0),wCe(a,kCe,e,n,o)):e&&(d||(o.polygonStart(),d=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),a=i=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(t,n){e(t,n)&&o.point(t,n)}function p(e,t){s.point(e,t)}function g(){f.point=p,s.lineStart()}function m(){f.point=h,s.lineEnd()}function v(e,t){l.push([e,t]),u.point(e,t)}function y(){u.lineStart(),l=[]}function b(){v(l[0][0],l[0][1]),u.lineEnd();var e,t,n,r,s=u.clean(),f=c.result(),h=f.length;if(l.pop(),i.push(l),l=null,h)if(1&s){if((t=(n=f[0]).length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),e=0;e<t;++e)o.point((r=n[e])[0],r[1]);o.lineEnd()}}else h>1&&2&s&&f.push(f.pop().concat(f.shift())),a.push(f.filter(OCe))}return f}}function OCe(e){return e.length>1}function kCe(e,t){return((e=e.x)[0]<0?e[1]-Lwe-Nwe:Lwe-e[1])-((t=t.x)[0]<0?t[1]-Lwe-Nwe:Lwe-t[1])}fCe.invert=fCe;const MCe=ECe(function(){return!0},function(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,a){var l=i>0?Twe:-Twe,s=jwe(i-n);jwe(s-Twe)<Nwe?(e.point(n,r=(r+a)/2>0?Lwe:-Lwe),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(i,r),t=0):o!==l&&s>=Twe&&(jwe(n-o)<Nwe&&(n-=o*Nwe),jwe(i-l)<Nwe&&(i-=l*Nwe),r=function(e,t,n,r){var o,i,a=Vwe(e-n);return jwe(a)>Nwe?Bwe((Vwe(t)*(i=zwe(r))*Vwe(n)-Vwe(r)*(o=zwe(t))*Vwe(e))/(o*i*a)):(t+r)/2}(n,r,i,a),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(l,r),t=0),e.point(n=i,r=a),o=l},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var o;if(null==e)o=n*Lwe,r.point(-Twe,o),r.point(0,o),r.point(Twe,o),r.point(Twe,0),r.point(Twe,-o),r.point(0,-o),r.point(-Twe,-o),r.point(-Twe,0),r.point(-Twe,o);else if(jwe(e[0]-t[0])>Nwe){var i=e[0]<t[0]?Twe:-Twe;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])},[-Twe,-Lwe]);function $Ce(e){var t=zwe(e),n=2*Pwe,r=t>0,o=jwe(t)>Nwe;function i(e,n){return zwe(e)*zwe(n)>t}function a(e,n,r){var o=[1,0,0],i=lCe(iCe(e),iCe(n)),a=aCe(i,i),l=i[0],s=a-l*l;if(!s)return!r&&e;var c=t*a/s,u=-t*l/s,d=lCe(o,i),f=cCe(o,c);sCe(f,cCe(i,u));var h=d,p=aCe(f,h),g=aCe(h,h),m=p*p-g*(aCe(f,f)-1);if(!(m<0)){var v=Xwe(m),y=cCe(h,(-p-v)/g);if(sCe(y,f),y=oCe(y),!r)return y;var b,x=e[0],w=n[0],C=e[1],S=n[1];w<x&&(b=x,x=w,w=b);var E=w-x,O=jwe(E-Twe)<Nwe;if(!O&&S<C&&(b=C,C=S,S=b),O||E<Nwe?O?C+S>0^y[1]<(jwe(y[0]-x)<Nwe?C:S):C<=y[1]&&y[1]<=S:E>Twe^(x<=y[0]&&y[0]<=w)){var k=cCe(h,(-p+v)/g);return sCe(k,f),[y,oCe(k)]}}}function l(t,n){var o=r?e:Twe-e,i=0;return t<-o?i|=1:t>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return ECe(i,function(e){var t,n,s,c,u;return{lineStart:function(){c=s=!1,u=1},point:function(d,f){var h,p=[d,f],g=i(d,f),m=r?g?0:l(d,f):g?l(d+(d<0?Twe:-Twe),f):0;if(!t&&(c=s=g)&&e.lineStart(),g!==s&&(!(h=a(t,p))||bCe(t,h)||bCe(p,h))&&(p[2]=1),g!==s)u=0,g?(e.lineStart(),h=a(p,t),e.point(h[0],h[1])):(h=a(t,p),e.point(h[0],h[1],2),e.lineEnd()),t=h;else if(o&&t&&r^g){var v;m&n||!(v=a(p,t,!0))||(u=0,r?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1],3)))}!g||t&&bCe(t,p)||e.point(p[0],p[1]),t=p,s=g,n=m},lineEnd:function(){s&&e.lineEnd(),t=null},clean:function(){return u|(c&&s)<<1}}},function(t,r,o,i){!function(e,t,n,r,o,i){if(n){var a=zwe(t),l=Vwe(t),s=r*n;null==o?(o=t+r*_we,i=t-s/2):(o=vCe(a,o),i=vCe(a,i),(r>0?o<i:o>i)&&(o+=r*_we));for(var c,u=o;r>0?u>i:u<i;u-=s)c=oCe([a,-l*zwe(u),-l*Vwe(u)]),e.point(c[0],c[1])}}(i,e,n,o,t,r)},r?[0,-e]:[-Twe,e-Twe])}var ICe=1e9,NCe=-ICe;function TCe(e,t,n,r){function o(o,i){return e<=o&&o<=n&&t<=i&&i<=r}function i(o,i,l,c){var u=0,d=0;if(null==o||(u=a(o,l))!==(d=a(i,l))||s(o,i)<0^l>0)do{c.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+l+4)%4)!==d);else c.point(i[0],i[1])}function a(r,o){return jwe(r[0]-e)<Nwe?o>0?0:3:jwe(r[0]-n)<Nwe?o>0?2:1:jwe(r[1]-t)<Nwe?o>0?1:0:o>0?3:2}function l(e,t){return s(e.x,t.x)}function s(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var s,c,u,d,f,h,p,g,m,v,y,b=a,x=yCe(),w={point:C,lineStart:function(){w.point=S,c&&c.push(u=[]);v=!0,m=!1,p=g=NaN},lineEnd:function(){s&&(S(d,f),h&&m&&x.rejoin(),s.push(x.result()));w.point=C,m&&b.lineEnd()},polygonStart:function(){b=x,s=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,o=c.length;n<o;++n)for(var i,a,l=c[n],s=1,u=l.length,d=l[0],f=d[0],h=d[1];s<u;++s)i=f,a=h,f=(d=l[s])[0],h=d[1],a<=r?h>r&&(f-i)*(r-a)>(h-a)*(e-i)&&++t:h<=r&&(f-i)*(r-a)<(h-a)*(e-i)&&--t;return t}(),n=y&&t,o=(s=p9(s)).length;(n||o)&&(a.polygonStart(),n&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&wCe(s,l,t,i,a),a.polygonEnd());b=a,s=c=u=null}};function C(e,t){o(e,t)&&b.point(e,t)}function S(i,a){var l=o(i,a);if(c&&u.push([i,a]),v)d=i,f=a,h=l,v=!1,l&&(b.lineStart(),b.point(i,a));else if(l&&m)b.point(i,a);else{var s=[p=Math.max(NCe,Math.min(ICe,p)),g=Math.max(NCe,Math.min(ICe,g))],x=[i=Math.max(NCe,Math.min(ICe,i)),a=Math.max(NCe,Math.min(ICe,a))];!function(e,t,n,r,o,i){var a,l=e[0],s=e[1],c=0,u=1,d=t[0]-l,f=t[1]-s;if(a=n-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<u&&(u=a)}if(a=r-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>c&&(c=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<u&&(u=a)}return c>0&&(e[0]=l+c*d,e[1]=s+c*f),u<1&&(t[0]=l+u*d,t[1]=s+u*f),!0}}}}}(s,x,e,t,n,r)?l&&(b.lineStart(),b.point(i,a),y=!1):(m||(b.lineStart(),b.point(s[0],s[1])),b.point(x[0],x[1]),l||b.lineEnd(),y=!1)}p=i,g=a,m=l}return w}}function LCe(e,t,n){var r=g9(e,t-Nwe,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function RCe(e,t,n){var r=g9(e,t-Nwe,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function _Ce(){return function(){var e,t,n,r,o,i,a,l,s,c,u,d,f=10,h=f,p=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return g9(Hwe(r/p)*p,n,p).map(u).concat(g9(Hwe(l/g)*g,a,g).map(d)).concat(g9(Hwe(t/f)*f,e,f).filter(function(e){return jwe(e%p)>Nwe}).map(s)).concat(g9(Hwe(i/h)*h,o,h).filter(function(e){return jwe(e%g)>Nwe}).map(c))}return v.lines=function(){return y().map(function(e){return{type:"LineString",coordinates:e}})},v.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(d(a).slice(1),u(n).reverse().slice(1),d(l).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),l>a&&(e=l,l=a,a=e),v.precision(m)):[[r,l],[n,a]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],i=+n[0][1],o=+n[1][1],t>e&&(n=t,t=e,e=n),i>o&&(n=i,i=o,o=n),v.precision(m)):[[t,i],[e,o]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(p=+e[0],g=+e[1],v):[p,g]},v.stepMinor=function(e){return arguments.length?(f=+e[0],h=+e[1],v):[f,h]},v.precision=function(f){return arguments.length?(m=+f,s=LCe(i,o,90),c=RCe(t,e,m),u=LCe(l,a,90),d=RCe(r,n,m),v):m},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}()()}const ACe=e=>e;var PCe,jCe,BCe,DCe,zCe=new P7,HCe=new P7,FCe={point:Zwe,lineStart:Zwe,lineEnd:Zwe,polygonStart:function(){FCe.lineStart=WCe,FCe.lineEnd=qCe},polygonEnd:function(){FCe.lineStart=FCe.lineEnd=FCe.point=Zwe,zCe.add(jwe(HCe)),HCe=new P7},result:function(){var e=zCe/2;return zCe=new P7,e}};function WCe(){FCe.point=GCe}function GCe(e,t){FCe.point=VCe,PCe=BCe=e,jCe=DCe=t}function VCe(e,t){HCe.add(DCe*e-BCe*t),BCe=e,DCe=t}function qCe(){VCe(PCe,jCe)}var XCe=1/0,UCe=XCe,YCe=-XCe,KCe=YCe,ZCe={point:function(e,t){e<XCe&&(XCe=e);e>YCe&&(YCe=e);t<UCe&&(UCe=t);t>KCe&&(KCe=t)},lineStart:Zwe,lineEnd:Zwe,polygonStart:Zwe,polygonEnd:Zwe,result:function(){var e=[[XCe,UCe],[YCe,KCe]];return YCe=KCe=-(UCe=XCe=1/0),e}};var QCe,JCe,eSe,tSe,nSe=0,rSe=0,oSe=0,iSe=0,aSe=0,lSe=0,sSe=0,cSe=0,uSe=0,dSe={point:fSe,lineStart:hSe,lineEnd:mSe,polygonStart:function(){dSe.lineStart=vSe,dSe.lineEnd=ySe},polygonEnd:function(){dSe.point=fSe,dSe.lineStart=hSe,dSe.lineEnd=mSe},result:function(){var e=uSe?[sSe/uSe,cSe/uSe]:lSe?[iSe/lSe,aSe/lSe]:oSe?[nSe/oSe,rSe/oSe]:[NaN,NaN];return nSe=rSe=oSe=iSe=aSe=lSe=sSe=cSe=uSe=0,e}};function fSe(e,t){nSe+=e,rSe+=t,++oSe}function hSe(){dSe.point=pSe}function pSe(e,t){dSe.point=gSe,fSe(eSe=e,tSe=t)}function gSe(e,t){var n=e-eSe,r=t-tSe,o=Xwe(n*n+r*r);iSe+=o*(eSe+e)/2,aSe+=o*(tSe+t)/2,lSe+=o,fSe(eSe=e,tSe=t)}function mSe(){dSe.point=fSe}function vSe(){dSe.point=bSe}function ySe(){xSe(QCe,JCe)}function bSe(e,t){dSe.point=xSe,fSe(QCe=eSe=e,JCe=tSe=t)}function xSe(e,t){var n=e-eSe,r=t-tSe,o=Xwe(n*n+r*r);iSe+=o*(eSe+e)/2,aSe+=o*(tSe+t)/2,lSe+=o,sSe+=(o=tSe*e-eSe*t)*(eSe+e),cSe+=o*(tSe+t),uSe+=3*o,fSe(eSe=e,tSe=t)}function wSe(e){this._context=e}wSe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,_we)}},result:Zwe};var CSe,SSe,ESe,OSe,kSe,MSe=new P7,$Se={point:Zwe,lineStart:function(){$Se.point=ISe},lineEnd:function(){CSe&&NSe(SSe,ESe),$Se.point=Zwe},polygonStart:function(){CSe=!0},polygonEnd:function(){CSe=null},result:function(){var e=+MSe;return MSe=new P7,e}};function ISe(e,t){$Se.point=NSe,SSe=OSe=e,ESe=kSe=t}function NSe(e,t){OSe-=e,kSe-=t,MSe.add(Xwe(OSe*OSe+kSe*kSe)),OSe=e,kSe=t}let TSe,LSe,RSe,_Se;class ASe{constructor(e){this._append=null==e?PSe:function(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return PSe;if(t!==TSe){const e=l(10,t);TSe=t,LSe=function(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}return LSe}(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:this._append`M${e},${t}`,this._point=1;break;case 1:this._append`L${e},${t}`;break;default:if(this._append`M${e},${t}`,this._radius!==RSe||this._append!==LSe){const e=this._radius,t=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,RSe=e,LSe=this._append,_Se=this._,this._=t}this._+=_Se}}result(){const e=this._;return this._="",e.length?e:null}}function PSe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function jSe(e,t){let n,r,o=3,i=4.5;function a(e){return e&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),rCe(e,n(r))),r.result()}return a.area=function(e){return rCe(e,n(FCe)),FCe.result()},a.measure=function(e){return rCe(e,n($Se)),$Se.result()},a.bounds=function(e){return rCe(e,n(ZCe)),ZCe.result()},a.centroid=function(e){return rCe(e,n(dSe)),dSe.result()},a.projection=function(t){return arguments.length?(n=null==t?(e=null,ACe):(e=t).stream,a):e},a.context=function(e){return arguments.length?(r=null==e?(t=null,new ASe(o)):new wSe(t=e),"function"!=typeof i&&r.pointRadius(i),a):t},a.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(r.pointRadius(+e),+e),a):i},a.digits=function(e){if(!arguments.length)return o;if(null==e)o=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);o=t}return null===t&&(r=new ASe(o)),a},a.projection(e).digits(o).context(t)}function BSe(e){return function(t){var n=new DSe;for(var r in e)n[r]=e[r];return n.stream=t,n}}function DSe(){}function zSe(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),rCe(n,e.stream(ZCe)),t(ZCe.result()),null!=r&&e.clipExtent(r),e}function HSe(e,t,n){return zSe(e,function(n){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+t[0][0]+(r-i*(n[1][0]+n[0][0]))/2,l=+t[0][1]+(o-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,l])},n)}function FSe(e,t,n){return HSe(e,[[0,0],t],n)}function WSe(e,t,n){return zSe(e,function(n){var r=+t,o=r/(n[1][0]-n[0][0]),i=(r-o*(n[1][0]+n[0][0]))/2,a=-o*n[0][1];e.scale(150*o).translate([i,a])},n)}function GSe(e,t,n){return zSe(e,function(n){var r=+t,o=r/(n[1][1]-n[0][1]),i=-o*n[0][0],a=(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([i,a])},n)}DSe.prototype={constructor:DSe,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var VSe=zwe(30*Pwe);function qSe(e,t){return+t?function(e,t){function n(r,o,i,a,l,s,c,u,d,f,h,p,g,m){var v=c-r,y=u-o,b=v*v+y*y;if(b>4*t&&g--){var x=a+f,w=l+h,C=s+p,S=Xwe(x*x+w*w+C*C),E=Kwe(C/=S),O=jwe(jwe(C)-1)<Nwe||jwe(i-d)<Nwe?(i+d)/2:Dwe(w,x),k=e(O,E),M=k[0],$=k[1],I=M-r,N=$-o,T=y*I-v*N;(T*T/b>t||jwe((v*I+y*N)/b-.5)>.3||a*f+l*h+s*p<VSe)&&(n(r,o,i,a,l,s,M,$,O,x/=S,w/=S,C,g,m),m.point(M,$),n(M,$,O,x,w,C,c,u,d,f,h,p,g,m))}}return function(t){var r,o,i,a,l,s,c,u,d,f,h,p,g={point:m,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),g.lineStart=x},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){u=NaN,g.point=y,t.lineStart()}function y(r,o){var i=iCe([r,o]),a=e(r,o);n(u,d,c,f,h,p,u=a[0],d=a[1],c=r,f=i[0],h=i[1],p=i[2],16,t),t.point(u,d)}function b(){g.point=m,t.lineEnd()}function x(){v(),g.point=w,g.lineEnd=C}function w(e,t){y(r=e,t),o=u,i=d,a=f,l=h,s=p,g.point=y}function C(){n(u,d,c,f,h,p,o,i,r,a,l,s,16,t),g.lineEnd=b,b()}return g}}(e,t):function(e){return BSe({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var XSe=BSe({point:function(e,t){this.stream.point(e*Pwe,t*Pwe)}});function USe(e,t,n,r,o,i){if(!i)return function(e,t,n,r,o){function i(i,a){return[t+e*(i*=r),n-e*(a*=o)]}return i.invert=function(i,a){return[(i-t)/e*r,(n-a)/e*o]},i}(e,t,n,r,o);var a=zwe(i),l=Vwe(i),s=a*e,c=l*e,u=a/e,d=l/e,f=(l*n-a*t)/e,h=(l*t+a*n)/e;function p(e,i){return[s*(e*=r)-c*(i*=o)+t,n-c*e-s*i]}return p.invert=function(e,t){return[r*(u*e-d*t+f),o*(h-d*e-u*t)]},p}function YSe(e){return KSe(function(){return e})()}function KSe(e){var t,n,r,o,i,a,l,s,c,u,d=150,f=480,h=250,p=0,g=0,m=0,v=0,y=0,b=0,x=1,w=1,C=null,S=MCe,E=null,O=ACe,k=.5;function M(e){return s(e[0]*Pwe,e[1]*Pwe)}function $(e){return(e=s.invert(e[0],e[1]))&&[e[0]*Awe,e[1]*Awe]}function I(){var e=USe(d,0,0,x,w,b).apply(null,t(p,g)),r=USe(d,f-e[0],h-e[1],x,w,b);return n=hCe(m,v,y),l=dCe(t,r),s=dCe(n,l),a=qSe(l,k),N()}function N(){return c=u=null,M}return M.stream=function(e){return c&&u===e?c:c=XSe(function(e){return BSe({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(S(a(O(u=e)))))},M.preclip=function(e){return arguments.length?(S=e,C=void 0,N()):S},M.postclip=function(e){return arguments.length?(O=e,E=r=o=i=null,N()):O},M.clipAngle=function(e){return arguments.length?(S=+e?$Ce(C=e*Pwe):(C=null,MCe),N()):C*Awe},M.clipExtent=function(e){return arguments.length?(O=null==e?(E=r=o=i=null,ACe):TCe(E=+e[0][0],r=+e[0][1],o=+e[1][0],i=+e[1][1]),N()):null==E?null:[[E,r],[o,i]]},M.scale=function(e){return arguments.length?(d=+e,I()):d},M.translate=function(e){return arguments.length?(f=+e[0],h=+e[1],I()):[f,h]},M.center=function(e){return arguments.length?(p=e[0]%360*Pwe,g=e[1]%360*Pwe,I()):[p*Awe,g*Awe]},M.rotate=function(e){return arguments.length?(m=e[0]%360*Pwe,v=e[1]%360*Pwe,y=e.length>2?e[2]%360*Pwe:0,I()):[m*Awe,v*Awe,y*Awe]},M.angle=function(e){return arguments.length?(b=e%360*Pwe,I()):b*Awe},M.reflectX=function(e){return arguments.length?(x=e?-1:1,I()):x<0},M.reflectY=function(e){return arguments.length?(w=e?-1:1,I()):w<0},M.precision=function(e){return arguments.length?(a=qSe(l,k=e*e),N()):Xwe(k)},M.fitExtent=function(e,t){return HSe(M,e,t)},M.fitSize=function(e,t){return FSe(M,e,t)},M.fitWidth=function(e,t){return WSe(M,e,t)},M.fitHeight=function(e,t){return GSe(M,e,t)},function(){return t=e.apply(this,arguments),M.invert=t.invert&&$,I()}}function ZSe(e){var t=0,n=Twe/3,r=KSe(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*Pwe,n=e[1]*Pwe):[t*Awe,n*Awe]},o}function QSe(e,t){var n=Vwe(e),r=(n+Vwe(t))/2;if(jwe(r)<Nwe)return function(e){var t=zwe(e);function n(e,n){return[e*t,Vwe(n)/t]}return n.invert=function(e,n){return[e/t,Kwe(n*t)]},n}(e);var o=1+n*(2*r-n),i=Xwe(o)/r;function a(e,t){var n=Xwe(o-2*r*Vwe(t))/r;return[n*Vwe(e*=r),i-n*zwe(e)]}return a.invert=function(e,t){var n=i-t,a=Dwe(e,jwe(n))*qwe(n);return n*r<0&&(a-=Twe*qwe(e)*qwe(n)),[a/r,Kwe((o-(e*e+n*n)*r*r)/(2*r))]},a}function JSe(){return ZSe(QSe).scale(155.424).center([0,33.6442])}function eEe(){return JSe().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function tEe(e){return function(t,n){var r=zwe(t),o=zwe(n),i=e(r*o);return i===1/0?[2,0]:[i*o*Vwe(t),i*Vwe(n)]}}function nEe(e){return function(t,n){var r=Xwe(t*t+n*n),o=e(r),i=Vwe(o),a=zwe(o);return[Dwe(t*i,r*a),Kwe(r&&n*i/r)]}}var rEe=tEe(function(e){return Xwe(2/(1+e))});rEe.invert=nEe(function(e){return 2*Kwe(e/2)});var oEe=tEe(function(e){return(e=Ywe(e))&&e/Vwe(e)});function iEe(e,t){return[e,Wwe(Uwe((Lwe+t)/2))]}function aEe(e){var t,n,r,o=YSe(e),i=o.center,a=o.scale,l=o.translate,s=o.clipExtent,c=null;function u(){var i=Twe*a(),l=o(function(e){function t(t){return(t=e(t[0]*Pwe,t[1]*Pwe))[0]*=Awe,t[1]*=Awe,t}return e=hCe(e[0]*Pwe,e[1]*Pwe,e.length>2?e[2]*Pwe:0),t.invert=function(t){return(t=e.invert(t[0]*Pwe,t[1]*Pwe))[0]*=Awe,t[1]*=Awe,t},t}(o.rotate()).invert([0,0]));return s(null==c?[[l[0]-i,l[1]-i],[l[0]+i,l[1]+i]]:e===iEe?[[Math.max(l[0]-i,c),t],[Math.min(l[0]+i,n),r]]:[[c,Math.max(l[1]-i,t)],[n,Math.min(l[1]+i,r)]])}return o.scale=function(e){return arguments.length?(a(e),u()):a()},o.translate=function(e){return arguments.length?(l(e),u()):l()},o.center=function(e){return arguments.length?(i(e),u()):i()},o.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),u()):null==c?null:[[c,t],[n,r]]},u()}function lEe(e){return Uwe((Lwe+e)/2)}function sEe(e,t){var n=zwe(e),r=e===t?Vwe(e):Wwe(n/zwe(t))/Wwe(lEe(t)/lEe(e)),o=n*Gwe(lEe(e),r)/r;if(!r)return iEe;function i(e,t){o>0?t<-Lwe+Nwe&&(t=-Lwe+Nwe):t>Lwe-Nwe&&(t=Lwe-Nwe);var n=o/Gwe(lEe(t),r);return[n*Vwe(r*e),o-n*zwe(r*e)]}return i.invert=function(e,t){var n=o-t,i=qwe(r)*Xwe(e*e+n*n),a=Dwe(e,jwe(n))*qwe(n);return n*r<0&&(a-=Twe*qwe(e)*qwe(n)),[a/r,2*Bwe(Gwe(o/i,1/r))-Lwe]},i}function cEe(e,t){return[e,t]}function uEe(e,t){var n=zwe(e),r=e===t?Vwe(e):(n-zwe(t))/(t-e),o=n/r+e;if(jwe(r)<Nwe)return cEe;function i(e,t){var n=o-t,i=r*e;return[n*Vwe(i),o-n*zwe(i)]}return i.invert=function(e,t){var n=o-t,i=Dwe(e,jwe(n))*qwe(n);return n*r<0&&(i-=Twe*qwe(e)*qwe(n)),[i/r,o-qwe(r)*Xwe(e*e+n*n)]},i}oEe.invert=nEe(function(e){return e}),iEe.invert=function(e,t){return[e,2*Bwe(Fwe(t))-Lwe]},cEe.invert=cEe;var dEe=1.340264,fEe=-.081106,hEe=893e-6,pEe=.003796,gEe=Xwe(3)/2;function mEe(e,t){var n=Kwe(gEe*Vwe(t)),r=n*n,o=r*r*r;return[e*zwe(n)/(gEe*(dEe+3*fEe*r+o*(7*hEe+9*pEe*r))),n*(dEe+fEe*r+o*(hEe+pEe*r))]}function vEe(e,t){var n=zwe(t),r=zwe(e)*n;return[n*Vwe(e)/r,Vwe(t)/r]}function yEe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function bEe(e,t){return[zwe(t)*Vwe(e),Vwe(t)]}function xEe(e,t){var n=zwe(t),r=1+zwe(e)*n;return[n*Vwe(e)/r,Vwe(t)/r]}function wEe(e,t){return[Wwe(Uwe((Lwe+t)/2)),-e]}mEe.invert=function(e,t){for(var n,r=t,o=r*r,i=o*o*o,a=0;a<12&&(i=(o=(r-=n=(r*(dEe+fEe*o+i*(hEe+pEe*o))-t)/(dEe+3*fEe*o+i*(7*hEe+9*pEe*o)))*r)*o*o,!(jwe(n)<1e-12));++a);return[gEe*e*(dEe+3*fEe*o+i*(7*hEe+9*pEe*o))/zwe(r),Kwe(Vwe(r)/gEe)]},vEe.invert=nEe(Bwe),yEe.invert=function(e,t){var n,r=t,o=25;do{var i=r*r,a=i*i;r-=n=(r*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))-t)/(1.007226+i*(.045255+a*(.259866*i-.311325-.005916*11*a)))}while(jwe(n)>Nwe&&--o>0);return[e/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),r]},bEe.invert=nEe(Kwe),xEe.invert=nEe(function(e){return 2*Bwe(e)}),wEe.invert=function(e,t){return[-t,2*Bwe(Fwe(e))-Lwe]};const CEe=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:eEe,geoAlbersUsa:function(){var e,t,n,r,o,i,a=eEe(),l=JSe().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=JSe().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){i=[e,t]}};function u(e){var t=e[0],a=e[1];return i=null,n.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function d(){return e=t=null,u}return u.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?l:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:a).invert(e)},u.stream=function(n){return e&&t===n?e:(r=[a.stream(t=n),l.stream(n),s.stream(n)],o=r.length,e={point:function(e,t){for(var n=-1;++n<o;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<o;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<o;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<o;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<o;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<o;)r[e].polygonEnd()}});var r,o},u.precision=function(e){return arguments.length?(a.precision(e),l.precision(e),s.precision(e),d()):a.precision()},u.scale=function(e){return arguments.length?(a.scale(e),l.scale(.35*e),s.scale(e),u.translate(a.translate())):a.scale()},u.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),i=+e[0],u=+e[1];return n=a.translate(e).clipExtent([[i-.455*t,u-.238*t],[i+.455*t,u+.238*t]]).stream(c),r=l.translate([i-.307*t,u+.201*t]).clipExtent([[i-.425*t+Nwe,u+.12*t+Nwe],[i-.214*t-Nwe,u+.234*t-Nwe]]).stream(c),o=s.translate([i-.205*t,u+.212*t]).clipExtent([[i-.214*t+Nwe,u+.166*t+Nwe],[i-.115*t-Nwe,u+.234*t-Nwe]]).stream(c),d()},u.fitExtent=function(e,t){return HSe(u,e,t)},u.fitSize=function(e,t){return FSe(u,e,t)},u.fitWidth=function(e,t){return WSe(u,e,t)},u.fitHeight=function(e,t){return GSe(u,e,t)},u.scale(1070)},geoAzimuthalEqualArea:function(){return YSe(rEe).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:rEe,geoAzimuthalEquidistant:function(){return YSe(oEe).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:oEe,geoConicConformal:function(){return ZSe(sEe).scale(109.5).parallels([30,30])},geoConicConformalRaw:sEe,geoConicEqualArea:JSe,geoConicEqualAreaRaw:QSe,geoConicEquidistant:function(){return ZSe(uEe).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:uEe,geoEqualEarth:function(){return YSe(mEe).scale(177.158)},geoEqualEarthRaw:mEe,geoEquirectangular:function(){return YSe(cEe).scale(152.63)},geoEquirectangularRaw:cEe,geoGnomonic:function(){return YSe(vEe).scale(144.049).clipAngle(60)},geoGnomonicRaw:vEe,geoIdentity:function(){var e,t,n,r,o,i,a,l=1,s=0,c=0,u=1,d=1,f=0,h=null,p=1,g=1,m=BSe({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),v=ACe;function y(){return p=l*u,g=l*d,i=a=null,b}function b(n){var r=n[0]*p,o=n[1]*g;if(f){var i=o*e-r*t;r=r*e+o*t,o=i}return[r+s,o+c]}return b.invert=function(n){var r=n[0]-s,o=n[1]-c;if(f){var i=o*e+r*t;r=r*e-o*t,o=i}return[r/p,o/g]},b.stream=function(e){return i&&a===e?i:i=m(v(a=e))},b.postclip=function(e){return arguments.length?(v=e,h=n=r=o=null,y()):v},b.clipExtent=function(e){return arguments.length?(v=null==e?(h=n=r=o=null,ACe):TCe(h=+e[0][0],n=+e[0][1],r=+e[1][0],o=+e[1][1]),y()):null==h?null:[[h,n],[r,o]]},b.scale=function(e){return arguments.length?(l=+e,y()):l},b.translate=function(e){return arguments.length?(s=+e[0],c=+e[1],y()):[s,c]},b.angle=function(n){return arguments.length?(t=Vwe(f=n%360*Pwe),e=zwe(f),y()):f*Awe},b.reflectX=function(e){return arguments.length?(u=e?-1:1,y()):u<0},b.reflectY=function(e){return arguments.length?(d=e?-1:1,y()):d<0},b.fitExtent=function(e,t){return HSe(b,e,t)},b.fitSize=function(e,t){return FSe(b,e,t)},b.fitWidth=function(e,t){return WSe(b,e,t)},b.fitHeight=function(e,t){return GSe(b,e,t)},b},geoMercator:function(){return aEe(iEe).scale(961/_we)},geoMercatorRaw:iEe,geoNaturalEarth1:function(){return YSe(yEe).scale(175.295)},geoNaturalEarth1Raw:yEe,geoOrthographic:function(){return YSe(bEe).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:bEe,geoProjection:YSe,geoProjectionMutator:KSe,geoStereographic:function(){return YSe(xEe).scale(250).clipAngle(142)},geoStereographicRaw:xEe,geoTransverseMercator:function(){var e=aEe(wEe),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:wEe},Symbol.toStringTag,{value:"Module"}));function SEe(e,t,n,r){const o=()=>{const e=t.filter(OEe);return e.find(e=>e.sphere)?{type:"Sphere"}:{type:"FeatureCollection",features:e.filter(e=>!e.sphere).flatMap(e=>e.data.value).flatMap(e=>function(e){const t={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!e||!e.type)return null;const n=t[e.type];return n?"geometry"===n?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]}:"feature"===n?{type:"FeatureCollection",features:[e]}:"featureCollection"===n?e:void 0:null}(e).features)}},{outline:i=o()}=r,{size:a="fitExtent"}=r;return"fitExtent"===a?function(e,t,n){const{x:r,y:o,width:i,height:a}=n;e.fitExtent([[r,o],[i,a]],t)}(e,i,n):"fitWidth"===a?function(e,t,n){const{width:r,height:o}=n,[[i,a],[l,s]]=jSe(e.fitWidth(r,t)).bounds(t),c=Math.ceil(s-a),u=Math.min(Math.ceil(l-i),c),d=e.scale()*(u-1)/u,[f,h]=e.translate(),p=h+(o-c)/2;e.scale(d).translate([f,p]).precision(.2)}(e,i,n):void 0}function EEe(e){const{data:t}=e;if(Array.isArray(t))return Object.assign(Object.assign({},e),{data:{value:t}});const{type:n}=t;return"graticule10"===n?Object.assign(Object.assign({},e),{data:{value:[_Ce()]}}):"sphere"===n?Object.assign(Object.assign({},e),{sphere:!0,data:{value:[{type:"Sphere"}]}}):e}function OEe(e){return"geoPath"===e.type}const kEe=()=>e=>{const{children:t,coordinate:n={}}=e;if(!Array.isArray(t))return[];const{type:r="equalEarth"}=n,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["type"]),i=function(e){if("function"==typeof e)return e;const t=`geo${vz(e)}`,n=CEe[t];if(!n)throw new Error(`Unknown coordinate: ${e}`);return n}(r),a=t.map(t=>Object.assign(Object.assign({},t),{data:Xxe(t.data,e.data)})).map(EEe);let l;return[Object.assign(Object.assign({},e),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:function(){return[["custom",(e,t,n,r)=>{const s=i();SEe(s,a,{x:e,y:t,width:n,height:r},o),function(e,t){var n;for(const[r,o]of Object.entries(t))null===(n=e[r])||void 0===n||n.call(e,o)}(s,o),l=jSe(s);const c=new nte({domain:[e,e+n]}),u=new nte({domain:[t,t+r]});return{transform:e=>(e=>{const t=s(e);if(!t)return[null,null];const[n,r]=t;return[c.map(n),u.map(r)]})(e),untransform:e=>(e=>{if(!e)return null;const[t,n]=e,r=[c.invert(t),u.invert(n)];return s.invert(r)})(e)}}]]}},children:a.flatMap(e=>OEe(e)?function(e){const{style:t,tooltip:n={}}=e;return Object.assign(Object.assign({},e),{type:"path",tooltip:Mhe(n,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},t),{d:e=>l(e)||[]})})}(e):e)})]};function MEe(e,t,n,r=e=>!0){return o=>{if(!r(o))return;n.emit(`plot:${e}`,o);const{target:i}=o;if(!i)return;const{className:a}=i;if("plot"===a)return;const l=A$e(i,e=>"element"===e.className);const s=function(e){return A$e(e,e=>"component"===e.className)}(i),c=function(e){return A$e(e,e=>"label"===e.className)}(i),u=l||s||c;if(!u)return;const{className:d,markType:f}=u,h=Object.assign(Object.assign({},o),{nativeEvent:!0});"element"===d?(h.data={data:Rte(u,t)},n.emit(`element:${e}`,h),n.emit(`${f}:${e}`,h)):"label"===d?(h.data={data:u.attributes.datum},n.emit(`label:${e}`,h),n.emit(`${a}:${e}`,h)):(n.emit(`component:${e}`,h),n.emit(`${a}:${e}`,h))}}function $Ee(){return(e,t,n)=>{const{container:r,view:o}=e,i=MEe(Qye,o,n,e=>1===e.detail),a=MEe(Jye,o,n,e=>2===e.detail),l=MEe(Pye,o,n),s=MEe(jye,o,n),c=MEe(Bye,o,n),u=MEe(Dye,o,n),d=MEe(zye,o,n),f=MEe(Hye,o,n),h=MEe(Fye,o,n),p=MEe(Wye,o,n),g=MEe(Gye,o,n),m=MEe(Vye,o,n),v=MEe(qye,o,n),y=MEe(Xye,o,n),b=MEe(Uye,o,n),x=MEe(Yye,o,n),w=MEe(Kye,o,n),C=MEe(Zye,o,n);return r.addEventListener("click",i),r.addEventListener("click",a),r.addEventListener("pointertap",l),r.addEventListener("pointerdown",s),r.addEventListener("pointerup",c),r.addEventListener("pointerover",u),r.addEventListener("pointerout",d),r.addEventListener("pointermove",f),r.addEventListener("pointerenter",h),r.addEventListener("pointerleave",p),r.addEventListener("pointerupoutside",g),r.addEventListener("dragstart",m),r.addEventListener("drag",v),r.addEventListener("dragend",y),r.addEventListener("dragenter",b),r.addEventListener("dragleave",x),r.addEventListener("dragover",w),r.addEventListener("drop",C),()=>{r.removeEventListener("click",i),r.removeEventListener("click",a),r.removeEventListener("pointertap",l),r.removeEventListener("pointerdown",s),r.removeEventListener("pointerup",c),r.removeEventListener("pointerover",u),r.removeEventListener("pointerout",d),r.removeEventListener("pointermove",f),r.removeEventListener("pointerenter",h),r.removeEventListener("pointerleave",p),r.removeEventListener("pointerupoutside",g),r.removeEventListener("dragstart",m),r.removeEventListener("drag",v),r.removeEventListener("dragend",y),r.removeEventListener("dragenter",b),r.removeEventListener("dragleave",x),r.removeEventListener("dragover",w),r.removeEventListener("drop",C)}}}kEe.props={},$Ee.props={reapplyWhenUpdate:!0};function IEe(e,t){const n=Object.assign(Object.assign({},{"component.axisRadar":Mve,"component.axisLinear":Cve,"component.axisArc":Sve,"component.legendContinuousBlock":Dve,"component.legendContinuousBlockSize":Hve,"component.legendContinuousSize":zve,"interaction.event":$Ee,"composition.mark":Jxe,"composition.view":Qxe,"shape.label.label":Wde,"shape.break":Cfe}),t),r=t=>{if("string"!=typeof t)return t;const r=`${e}.${t}`;return n[r]||Bte(`Unknown Component: ${r}`)};return[(e,t)=>{const{type:n}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["type"]);n||Bte("Plot type is required!");const i=r(n);return null==i?void 0:i(o,t)},r]}function NEe(e){const{canvas:t,group:n}=e;return(null==t?void 0:t.document)||(null==n?void 0:n.ownerDocument)||Bte("Cannot find library document")}var TEe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function LEe(e,t){const{coordinate:n={},coordinates:r}=e,o=TEe(e,["coordinate","coordinates"]);if(r)return e;const{type:i,transform:a=[]}=n,l=TEe(n,["type","transform"]);if(!i)return Object.assign(Object.assign({},o),{coordinates:a});const[,s]=IEe("coordinate",t),{transform:c=!1}=s(i).props||{};if(c)throw new Error(`Unknown coordinate: ${i}.`);return Object.assign(Object.assign({},o),{coordinates:[Object.assign({type:i},l),...a]})}function REe(e,t){return e.filter(e=>e.type===t)}function _Ee(e){return REe(e,"polar").length>0}function AEe(e){return REe(e,"transpose").length%2==1}function PEe(e){return REe(e,"theta").length>0}function jEe(e){return REe(e,"radial").length>0}function BEe(e){return REe(e,"radar").length>0}function DEe(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}const zEe=DEe("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),HEe=DEe("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),FEe=DEe("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),WEe=DEe("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),GEe=DEe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),VEe=DEe("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),qEe=DEe("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),XEe=DEe("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),UEe=DEe("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),YEe=DEe("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),KEe=DEe("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ZEe=e=>_3(e[e.length-1]);var QEe=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(DEe);const JEe=ZEe(QEe);var eOe=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(DEe);const tOe=ZEe(eOe);var nOe=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(DEe);const rOe=ZEe(nOe);var oOe=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(DEe);const iOe=ZEe(oOe);var aOe=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(DEe);const lOe=ZEe(aOe);var sOe=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(DEe);const cOe=ZEe(sOe);var uOe=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(DEe);const dOe=ZEe(uOe);var fOe=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(DEe);const hOe=ZEe(fOe);var pOe=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(DEe);const gOe=ZEe(pOe);var mOe=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(DEe);const vOe=ZEe(mOe);var yOe=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(DEe);const bOe=ZEe(yOe);var xOe=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(DEe);const wOe=ZEe(xOe);var COe=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(DEe);const SOe=ZEe(COe);var EOe=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(DEe);const OOe=ZEe(EOe);var kOe=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(DEe);const MOe=ZEe(kOe);var $Oe=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(DEe);const IOe=ZEe($Oe);var NOe=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(DEe);const TOe=ZEe(NOe);var LOe=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(DEe);const ROe=ZEe(LOe);var _Oe=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(DEe);const AOe=ZEe(_Oe);var POe=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(DEe);const jOe=ZEe(POe);var BOe=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(DEe);const DOe=ZEe(BOe);var zOe=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(DEe);const HOe=ZEe(zOe);var FOe=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(DEe);const WOe=ZEe(FOe);var GOe=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(DEe);const VOe=ZEe(GOe);var qOe=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(DEe);const XOe=ZEe(qOe);var UOe=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(DEe);const YOe=ZEe(UOe);var KOe=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(DEe);const ZOe=ZEe(KOe);const QOe=U3(k3(300,.5,0),k3(-240,.5,1));var JOe=U3(k3(-100,.75,.35),k3(80,1.5,.8)),eke=U3(k3(260,.75,.35),k3(80,1.5,.8)),tke=k3();var nke=r3(),rke=Math.PI/3,oke=2*Math.PI/3;function ike(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const ake=ike(DEe("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var lke=ike(DEe("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ske=ike(DEe("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),cke=ike(DEe("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const uke=Object.freeze(Object.defineProperty({__proto__:null,interpolateBlues:HOe,interpolateBrBG:JEe,interpolateBuGn:vOe,interpolateBuPu:bOe,interpolateCividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},interpolateCool:eke,interpolateCubehelixDefault:QOe,interpolateGnBu:wOe,interpolateGreens:WOe,interpolateGreys:VOe,interpolateInferno:ske,interpolateMagma:lke,interpolateOrRd:SOe,interpolateOranges:ZOe,interpolatePRGn:tOe,interpolatePiYG:rOe,interpolatePlasma:cke,interpolatePuBu:MOe,interpolatePuBuGn:OOe,interpolatePuOr:iOe,interpolatePuRd:IOe,interpolatePurples:XOe,interpolateRainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return tke.h=360*e-100,tke.s=1.5-1.5*t,tke.l=.8-.9*t,tke+""},interpolateRdBu:lOe,interpolateRdGy:cOe,interpolateRdPu:TOe,interpolateRdYlBu:dOe,interpolateRdYlGn:hOe,interpolateReds:YOe,interpolateSinebow:function(e){var t;return e=(.5-e)*Math.PI,nke.r=255*(t=Math.sin(e))*t,nke.g=255*(t=Math.sin(e+rke))*t,nke.b=255*(t=Math.sin(e+oke))*t,nke+""},interpolateSpectral:gOe,interpolateTurbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},interpolateViridis:ake,interpolateWarm:JOe,interpolateYlGn:AOe,interpolateYlGnBu:ROe,interpolateYlOrBr:jOe,interpolateYlOrRd:DOe,schemeAccent:HEe,schemeBlues:zOe,schemeBrBG:QEe,schemeBuGn:mOe,schemeBuPu:yOe,schemeCategory10:zEe,schemeDark2:FEe,schemeGnBu:xOe,schemeGreens:FOe,schemeGreys:GOe,schemeObservable10:WEe,schemeOrRd:COe,schemeOranges:KOe,schemePRGn:eOe,schemePaired:GEe,schemePastel1:VEe,schemePastel2:qEe,schemePiYG:nOe,schemePuBu:kOe,schemePuBuGn:EOe,schemePuOr:oOe,schemePuRd:$Oe,schemePurples:qOe,schemeRdBu:aOe,schemeRdGy:sOe,schemeRdPu:NOe,schemeRdYlBu:uOe,schemeRdYlGn:fOe,schemeReds:UOe,schemeSet1:XEe,schemeSet2:UEe,schemeSet3:YEe,schemeSpectral:pOe,schemeTableau10:KEe,schemeYlGn:_Oe,schemeYlGnBu:LOe,schemeYlOrBr:POe,schemeYlOrRd:BOe},Symbol.toStringTag,{value:"Module"}));function dke(e,t,n,r,o,i){const{guide:a={}}=n,l=function(e,t,n){const{type:r,domain:o,range:i,quantitative:a,ordinal:l}=n;if(void 0!==r)return r;if(function(e){return Mke(e,qte)}(t))return"identity";if("string"==typeof i)return"linear";if((o||i||[]).length>2)return Cke(e,l);if(void 0!==o)return Oke([o])?Cke(e,l):kke(t)?"time":Ske(e,i,a);return Oke(t)?Cke(e,l):kke(t)?"time":Ske(e,i,a)}(e,t,n);if("string"!=typeof l)return n;const s=function(e,t,n,r){const{domain:o}=r;if(void 0!==o)return o;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return Eke(function(e,t){const{zero:n=!1}=t;let r=1/0,o=-1/0;for(const i of e)for(const e of i)zte(e)&&(r=Math.min(r,+e),o=Math.max(o,+e));return r===1/0?[]:n?[Math.min(0,r),o]:[r,o]}(n,r),r);case"band":case"ordinal":case"point":return function(e){return Array.from(new Set(e.flat()))}(n);case"quantile":return function(e){return e.flat().sort()}(n);case"sequential":return Eke(function(e){let t=1/0,n=-1/0;for(const r of e)for(const e of r)zte(e)&&(t=Math.min(t,+e),n=Math.max(n,+e));return t===1/0?[]:[t<0?-n:t,n]}(n),r);default:return[]}}(l,0,t,n),c=function(e,t,n){const{ratio:r}=n;if(null==r)return t;if(yke({type:e}))return function(e,t,n){const r=e.map(Number),o=new nte({domain:r,range:[r[0],r[0]+(r[r.length-1]-r[0])*t]});return"time"===n?e.map(e=>new Date(o.map(e))):e.map(e=>o.map(e))}(t,r,e);return bke({type:e})?function(e,t){const n=Math.round(e.length*t);return e.slice(0,n)}(t,r):t}(l,s,n);return Object.assign(Object.assign(Object.assign({},n),function(e,t,n,r,o){switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":return function(e,t){const{interpolate:n=Eee,nice:r=!1,tickCount:o=5}=t;return Object.assign(Object.assign({},t),{interpolate:n,nice:r,tickCount:o})}(0,r);case"band":case"point":return function(e,t,n,r){if(void 0!==r.padding||void 0!==r.paddingInner||void 0!==r.paddingOuter)return Object.assign(Object.assign({},r),{unknown:NaN});const o=function(e,t,n){return"enterDelay"===t||"enterDuration"===t||"size"===t?0:"band"===e?PEe(n)?0:.1:"point"===e?.5:0}(e,t,n),{paddingInner:i=o,paddingOuter:a=o}=r;return Object.assign(Object.assign({},r),{paddingInner:i,paddingOuter:a,padding:o,unknown:NaN})}(e,t,o,r);case"sequential":return function(e){const{palette:t="ylGnBu",offset:n}=e,r=vz(t),o=uke[`interpolate${r}`];if(!o)throw new Error(`Unknown palette: ${r}`);return{interpolator:n?e=>o(n(e)):o}}(r);default:return r}}(l,e,0,n,r)),{domain:c,range:xke(l,e,t,n,c,o,i),expectedDomain:s,guide:a,name:e,type:l})}function fke(e,t){const n={};for(const r of e){const{values:e,name:o}=r,i=t[o];for(const t of e){const{name:e,value:r}=t;n[e]=r.map(e=>i.map(e))}}return n}function hke(e,t){const n=Object.keys(e);for(const r of Object.values(t)){const{name:t}=r.getOptions();if(t in e){const o=o9(n.filter(e=>e.startsWith(t)).map(e=>+(e.replace(t,"")||0)))+1,i=`${t}${o}`;e[i]=r,r.getOptions().key=i}else e[t]=r}return e}function pke(e,t){const[n]=IEe("scale",t),{relations:r}=e,[o]=function(e){if(!e||!Array.isArray(e))return[Ate,Ate];let t,n;return[r=>{var o;t=r.map.bind(r),n=null===(o=r.invert)||void 0===o?void 0:o.bind(r);const i=e.filter(([e])=>"function"==typeof e),a=e.filter(([e])=>"function"!=typeof e),l=new Map(a);if(r.map=e=>{for(const[t,n]of i)if(t(e))return n;return l.has(e)?l.get(e):t(e)},!n)return r;const s=new Map(a.map(([e,t])=>[t,e])),c=new Map(i.map(([e,t])=>[t,e]));return r.invert=e=>c.has(e)?e:s.has(e)?s.get(e):n(e),r},e=>(null!==t&&(e.map=t),null!==n&&(e.invert=n),e)]}(r);return o(n(e))}function gke(e){const t=e.flatMap(e=>Array.from(e.values())).flatMap(e=>e.channels.map(e=>e.scale));vke(t,"x"),vke(t,"y")}function mke(e){const{channels:t=[],type:n,scale:r={}}=e,o=["shape","color","opacity","size"];return 0!==t.length?t:"axisX"===n?["x"]:"axisY"===n?["y"]:"legends"===n?Object.keys(r).filter(e=>o.includes(e)):[]}function vke(e,t){const n=e.filter(({name:e,facet:n=!0})=>n&&e===t),r=n.flatMap(e=>e.domain),o=n.every(yke)?A7(r):n.every(bke)?Array.from(new Set(r)):null;if(null!==o)for(const i of n)i.domain=o}function yke(e){const{type:t}=e;if("string"!=typeof t)return!1;return["linear","log","pow","time"].includes(t)}function bke(e){const{type:t}=e;if("string"!=typeof t)return!1;return["band","point","ordinal"].includes(t)}function xke(e,t,n,r,o,i,a){const{range:l}=r;if("string"==typeof l)return function(e){return e.split("-")}(l);if(void 0!==l)return l;const{rangeMin:s,rangeMax:c}=r;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":{const e=wke(n,r,o,i,a),[l,u]=function(e,t){return"enterDelay"===e?[0,1e3]:"enterDuration"==e?[300,1e3]:e.startsWith("y")||e.startsWith("position")?[1,0]:"color"===e?[Kte(t),Zte(t)]:"opacity"===e?[0,1]:"size"===e?[1,10]:[0,1]}(t,e);return[null!=s?s:l,null!=c?c:u]}case"band":case"point":return[null!=s?s:"size"===t?5:0,null!=c?c:"size"===t?10:1];case"ordinal":return wke(n,r,o,i,a);case"sequential":return;case"constant":return[n[0][0]];default:return[]}}function wke(e,t,n,r,o){const[i]=IEe("palette",o),{category10:a,category20:l}=r,s=(c=n,Array.from(new Set(c))).length<=a.length?a:l;var c;const{palette:u=s,offset:d}=t;if(Array.isArray(u))return u;try{return i({type:u})}catch(rw){const t=function(e,t,n=e=>e){if(!e)return null;const r=vz(e),o=uke[`scheme${r}`],i=uke[`interpolate${r}`];if(!o&&!i)return null;if(o){if(!o.some(Array.isArray))return o;const e=o[t.length];if(e)return e}return t.map((e,r)=>i(n(r/t.length)))}(u,n,d);if(t)return t;throw new Error(`Unknown Component: ${u} `)}}function Cke(e,t){return t||(function(e){return e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||e.startsWith("size")}(e)?"point":"ordinal")}function Ske(e,t,n){return n||("color"!==e||t?"linear":"sequential")}function Eke(e,t){if(0===e.length)return e;const{domainMin:n,domainMax:r}=t,[o,i]=e;return[null!=n?n:o,null!=r?r:i]}function Oke(e){return Mke(e,e=>{const t=typeof e;return"string"===t||"boolean"===t})}function kke(e){return Mke(e,e=>e instanceof Date)}function Mke(e,t){for(const n of e)if(n.some(t))return!0;return!1}const $ke={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},Ike={threshold:"threshold",quantize:"quantize",quantile:"quantile"},Nke={ordinal:"ordinal",band:"band",point:"point"},Tke={constant:"constant"};var Lke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Rke(e,t,n){const{coordinates:r=[],title:o}=t,[,i]=IEe("component",n),a=e.filter(({guide:e})=>null!==e),l=[],s=function(e,t,n){const[,r]=IEe("component",n),{coordinates:o}=e;function i(e,t,n,i){const a=function(e,t,n=[]){return"x"===e?AEe(n)?`${t}Y`:`${t}X`:"y"===e?AEe(n)?`${t}X`:`${t}Y`:null}(t,e,o);if(!i||!a)return;const{props:l}=r(a),{defaultPosition:s,defaultSize:c,defaultOrder:u,defaultCrossPadding:[d]}=l;return Object.assign(Object.assign({position:s,defaultSize:c,order:u,type:a,crossPadding:d},i),{scales:[n]})}return t.filter(e=>e.slider||e.scrollbar).flatMap(e=>{const{slider:t,scrollbar:n,name:r}=e;return[i("slider",r,e,t),i("scrollbar",r,e,n)]}).filter(e=>!!e)}(t,e,n);if(l.push(...s),o){const{props:e}=i("title"),{defaultPosition:t,defaultOrientation:n,defaultOrder:r,defaultSize:a,defaultCrossPadding:s}=e,c="string"==typeof o?{title:o}:o;l.push(Object.assign({type:"title",position:t,orientation:n,order:r,crossPadding:s[0],defaultSize:a},c))}const c=function(e,t){const n=e.filter(e=>function(e){if(!e||!e.type)return!1;if("function"==typeof e.type)return!0;const{type:t,domain:n,range:r,interpolator:o}=e,i=n&&n.length>0,a=r&&r.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(t)&&i&&a)||!(!["sequential"].includes(t)||!i||!a&&!o)||!(!["constant","identity"].includes(t)||!a)}(e));return[...Pke(n),...Bke(n,t)]}(a,r);return c.forEach(([e,t])=>{const{props:n}=i(e),{defaultPosition:o,defaultPlane:s="xy",defaultOrientation:c,defaultSize:u,defaultOrder:d,defaultLength:f,defaultPadding:h=[0,0],defaultCrossPadding:p=[0,0]}=n,g=kz({},...t),{guide:m,field:v}=g,y=Array.isArray(m)?m:[m];for(const i of y){const[n,g]=Hke(e,o,c,i,t,a,r);if(!n&&!g)continue;const m="left"===n||"right"===n,y=m?h[1]:h[0],b=m?p[1]:p[0],{size:x,order:w=d,length:C=f,padding:S=y,crossPadding:E=b}=i;l.push(Object.assign(Object.assign({title:v},i),{defaultSize:u,length:C,position:n,plane:s,orientation:g,padding:S,order:w,crossPadding:E,size:x,type:e,scales:t}))}}),l}function _ke(e,t,n,r,o){const[i]=IEe("component",r),{scaleInstances:a,scale:l,bbox:s}=e,c={bbox:s,library:r};return i(Lke(e,["scaleInstances","scale","bbox"]))({coordinate:t,library:r,markState:o,scales:a,theme:n,value:c,scale:l})}function Ake(e,t){const n=["left","right","bottom","top"];return F7(e,({type:e,position:t,group:r})=>n.includes(t)?void 0===r?e.startsWith("legend")?`legend-${t}`:Symbol("independent"):"independent"===r?Symbol("independent"):r:Symbol("independent")).flatMap(([,e])=>{if(1===e.length)return e[0];if(void 0!==t){const n=e.filter(e=>void 0!==e.length).map(e=>e.length),r=m9(n);if(r>t)return e.forEach(e=>e.group=Symbol("independent")),e;const o=(t-r)/(e.length-n.length);e.forEach(e=>{void 0===e.length&&(e.length=o)})}const n=o9(e,e=>e.size),r=o9(e,e=>e.order),o=o9(e,e=>e.crossPadding);return{type:"group",size:n,order:r,position:e[0].position,children:e,crossPadding:o}})}function Pke(e,t){const n=["shape","size","color","opacity"],r=e.filter(({type:e,name:t})=>"string"==typeof e&&n.includes(t)&&!((e,t)=>"constant"===e&&"size"===t)(e,t)),o=r.filter(({type:e})=>"constant"===e),i=F7(r.filter(({type:e})=>"constant"!==e),e=>e.field?e.field:Symbol("independent")).map(([e,t])=>[e,[...t,...o]]).filter(([,e])=>e.some(e=>"constant"!==e.type)),a=new Map(i);if(0===a.size)return[];const l=e=>e.sort(([e],[t])=>e.localeCompare(t));return Array.from(a).map(([,e])=>{const t=function(e){if(1===e.length)return[e];const t=[];for(let n=1;n<=e.length;n++)t.push(...Jte(e,n));return t}(e).sort((e,t)=>t.length-e.length).map(e=>({combination:e,option:e.map(e=>[e.name,jke(e)])}));for(const{option:n,combination:r}of t)if(!n.every(e=>"constant"===e[1])&&n.every(e=>"discrete"===e[1]||"constant"===e[1]))return["legendCategory",r];for(const[n,r]of ebe)for(const{option:e,combination:o}of t)if(r.some(t=>$z(l(t),l(e))))return[n,o];return null}).filter(zte)}function jke(e){const{type:t}=e;return"string"!=typeof t?null:t in $ke?"continuous":t in Nke?"discrete":t in Ike?"distribution":t in Tke?"constant":null}function Bke(e,t){return e.map(e=>{const{name:n}=e;if(function(e){return REe(e,"helix").length>0}(t)||PEe(t))return null;if(AEe(t)&&(_Ee(t)||jEe(t)))return null;if(n.startsWith("x"))return _Ee(t)?["axisArc",[e]]:jEe(t)?["axisLinear",[e]]:[AEe(t)?"axisY":"axisX",[e]];if(n.startsWith("y"))return _Ee(t)?["axisLinear",[e]]:jEe(t)?["axisArc",[e]]:[AEe(t)?"axisX":"axisY",[e]];if(n.startsWith("z"))return["axisZ",[e]];if(n.startsWith("position")){if(BEe(t))return["axisRadar",[e]];if(!_Ee(t))return["axisY",[e]]}return null}).filter(zte)}function Dke(e){const t=REe(e,"polar");if(t.length){const e=t[t.length-1],{startAngle:n,endAngle:r}=t7(e);return[n,r]}const n=REe(e,"radial");if(n.length){const e=n[n.length-1],{startAngle:t,endAngle:r}=a7(e);return[t,r]}return[-Math.PI/2,Math.PI/2*3]}function zke(e,t,n,r,o){const{name:i}=n[0];if("axisRadar"===e){const e=r.filter(e=>e.name.startsWith("position")),t=function(e){const t=/position(\d*)/g.exec(e);return t?+t[1]:null}(i);if(null===t)return[null,null];const[n,a]=Dke(o);return["center",(a-n)/(BEe(o)?e.length:e.length-1)*t+n]}if("axisY"===e&&function(e){return REe(e,"parallel").length>0}(o))return AEe(o)?["center","horizontal"]:["center","vertical"];if("axisLinear"===e){const[e]=Dke(o);return["center",e]}return"axisArc"===e?"inner"===t[0]?["inner",null]:["outer",null]:_Ee(o)||jEe(o)?["center",null]:"axisX"===e&&function(e){return REe(e,"reflect").length>0}(o)||"axisX"===e&&function(e){return REe(e,"reflectY").length>0}(o)?["top",null]:t}function Hke(e,t,n,r,o,i,a){const[l]=Dke(a),s=[r.position||t,null!=l?l:n];return"string"==typeof e&&e.startsWith("axis")?zke(e,s,o,i,a):"string"==typeof e&&e.startsWith("legend")&&_Ee(a)&&"center"===r.position?["center","vertical"]:s}function Fke(e,t,n,r,o,i){const{type:a}=e;if(!["left","right","bottom","top"].includes(r))return;if("string"!=typeof a)return;const l=a;return(l.startsWith("axis")?Xke:l.startsWith("group")?Wke:l.startsWith("legendContinuous")?Uke:"legendCategory"===l?Yke:l.startsWith("slider")?qke:"title"===l?Vke:l.startsWith("scrollbar")?Gke:()=>{})(e,t,n,r,o,i)}function Wke(e,t,n,r,o,i){const{children:a}=e,l=o9(a,e=>e.crossPadding);a.forEach(e=>e.crossPadding=l),a.forEach(e=>Fke(e,t,n,r,o,i));const s=o9(a,e=>e.size);e.size=s,a.forEach(e=>e.size=s)}function Gke(e,t,n,r,o,i){const{trackSize:a=6}=kz({},o.scrollbar,e);e.size=a}function Vke(e,t,n,r,o,i){const a=kz({},o.title,e),{title:l,subtitle:s,spacing:c=0}=a,u=Lke(a,["title","subtitle","spacing"]);if(l){const t=tMe(l,Fte(u,"title"));e.size=t.height}if(s){const t=tMe(s,Fte(u,"subtitle"));e.size+=c+t.height}}function qke(e,t,n,r,o,i){const{trackSize:a,handleIconSize:l}=(()=>{const{slider:t}=o;return kz({},t,e)})(),s=Math.max(a,2.4*l);e.size=s}function Xke(e,t,n,r,o,i){var a,l;e.transform=e.transform||[{type:"hide"}];const s="left"===r||"right"===r,c=Jke(e,r,o),{tickLength:u=0,labelSpacing:d=0,titleSpacing:f=0,labelAutoRotate:h}=c,p=Lke(c,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),g=Kke(e,i),m=Zke(p,g);let v=u;if("function"==typeof e.tickLength){const t=((null===(a=g.getTicks)||void 0===a?void 0:a.call(g))||g.getOptions().domain).map((t,n,r)=>e.tickLength(t,n,r));v=Math.max(...t,0)}const y=v+d;if(m&&m.length){const r=o9(m,e=>e.width),o=o9(m,e=>e.height);if(s)e.size=r+y;else{const{tickFilter:i,labelTransform:a}=e;!function(e,t,n,r,o){const i=m9(t,e=>e.width);if(i>n)return!0;const a=e.clone();a.update({range:[0,n]});const l=eMe(e,o),s=l.map(e=>a.map(e)+function(e,t){if(!e.getBandWidth)return 0;const n=e.getBandWidth(t)/2;return n}(a,e)),c=l.map((e,t)=>t),u=-r[0],d=n+r[1],f=(e,t)=>{const{width:n}=t;return[e-n/2,e+n/2]};for(let h=0;h<c.length;h++){const e=s[h],[n,r]=f(e,t[h]);if(n<u||r>d)return!0;const o=s[h+1];if(o){const[e]=f(o,t[h+1]);if(r>e)return!0}}return!1}(g,m,t,n,i)||a||!1===h||null===h?(e.labelTransform=null!==(l=e.labelTransform)&&void 0!==l?l:"rotate(0)",e.size=o+y):(e.labelTransform="rotate(90)",e.size=r+y)}}else e.size=v;const b=Qke(p);b&&(e.size+=s?f+b.width:f+b.height)}function Uke(e,t,n,r,o,i){const a=(()=>{const{legendContinuous:t}=o;return kz({},t,e)})(),{labelSpacing:l=0,titleSpacing:s=0}=a,c=Lke(a,["labelSpacing","titleSpacing"]),u="left"===r||"right"===r,d=Fte(c,"ribbon"),{size:f}=d,h=Fte(c,"handleIcon"),{size:p}=h,g=Math.max(f,2.4*p);e.size=g;const m=Zke(c,Kke(e,i));if(m){const t=u?"width":"height",n=o9(m,e=>e[t]);e.size+=n+l}const v=Qke(c);v&&(u?e.size=Math.max(e.size,v.width):e.size+=s+v.height)}function Yke(e,t,n,r,o,i){const a=(()=>{const{legendCategory:t}=o,{title:n}=e,[r,i]=Array.isArray(n)?[n,void 0]:[void 0,n];return kz({title:r},t,Object.assign(Object.assign({},e),{title:i}))})(),{focus:l,itemSpacing:s,focusMarkerSize:c,itemMarkerSize:u,titleSpacing:d,rowPadding:f,colPadding:h,maxCols:p=1/0,maxRows:g=1/0}=a,m=Lke(a,["focus","itemSpacing","focusMarkerSize","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:v,length:y}=e,b=e=>Math.min(e,g),x=e=>Math.min(e,p),w="left"===r||"right"===r,C=void 0===y?t+(w?0:n[0]+n[1]):y,S=Qke(m),E=Zke(m,Kke(e,i),"itemLabel"),O=Math.max(E[0].height,u)+f,k=(e,t=0)=>u+e+s[0]+t+(l?c+s[2]:0);w?(()=>{let t=-1/0,n=0,r=1,o=0,i=-1/0,a=-1/0;const l=S?S.height:0,s=C-l;for(const{width:e}of E){const l=k(e,h);t=Math.max(t,l),n+O>s?(r++,i=Math.max(i,o),a=Math.max(a,n),o=1,n=O):(n+=O,o++)}r<=1&&(i=o,a=n),e.size=t*x(r),e.length=a+l,kz(e,{cols:x(r),gridRow:i})})():"number"==typeof v?(()=>{const t=Math.ceil(E.length/v),n=o9(E,e=>k(e.width))*v;e.size=O*b(t)-f,e.length=Math.min(n,C)})():(()=>{let t=1,n=0,r=-1/0;for(const{width:e}of E){const o=k(e,h);n+o>C?(r=Math.max(r,n),n=o,t++):n+=o}1===t&&(r=n),e.size=O*b(t)-f,e.length=r})(),S&&(w?e.size=Math.max(e.size,S.width):e.size+=d+S.height)}function Kke(e,t){const[n]=IEe("scale",t),{scales:r,tickCount:o,tickMethod:i}=e,a=r.find(e=>"constant"!==e.type&&"identity"!==e.type);return void 0!==o&&(a.tickCount=o),void 0!==i&&(a.tickMethod=i),n(a)}function Zke(e,t,n="label"){const{labelFormatter:r,tickFilter:o,label:i=!0}=e,a=Lke(e,["labelFormatter","tickFilter","label"]);if(!i)return null;const l=function(e,t,n){const r=eMe(e,n),o=r.map(e=>"number"==typeof e?Koe(e):e),i=t?"string"==typeof t?tve(t):t:e.getFormatter?e.getFormatter():e=>`${e}`;return o.map(i)}(t,r,o),s=Fte(a,n),c=l.map((e,t)=>Object.fromEntries(Object.entries(s).map(([n,r])=>[n,"function"==typeof r?r(e,t):r]))),u=l.map((e,t)=>tMe(e,c[t]));if(!c.some(e=>e.transform)){const t=l.map((e,t)=>t);e.indexBBox=new Map(t.map(e=>[e,[l[e],u[e]]]))}return u}function Qke(e){const{title:t}=e,n=Lke(e,["title"]);if(!1===(r=t)||null===r||void 0===t)return null;var r;const o=Fte(n,"title"),{direction:i,transform:a}=o,l=Array.isArray(t)?t.join(","):t;if("string"!=typeof l)return null;return tMe(l,Object.assign(Object.assign({},o),{transform:a||("vertical"===i?"rotate(-90)":"")}))}function Jke(e,t,n){const{title:r}=e,[o,i]=Array.isArray(r)?[r,void 0]:[void 0,r],{axis:a,[`axis${jte(t)}`]:l}=n;return kz({title:o},a,l,Object.assign(Object.assign({},e),{title:i}))}function eMe(e,t){const n=e.getTicks?e.getTicks():e.getOptions().domain;return t?n.filter(t):n}function tMe(e,t){const n=function(e){return e instanceof jX?e:new nU({style:{text:`${e}`}})}(e),{filter:r}=t,o=Lke(t,["filter"]);n.attr(Object.assign(Object.assign({},o),{visibility:"none"}));return n.getBBox()}function nMe(e,t,n,r){var o,i,a,l;const{width:s,height:c,depth:u,x:d=0,y:f=0,z:h=0,inset:p=(null!==(o=n.inset)&&void 0!==o?o:0),insetLeft:g=p,insetTop:m=p,insetBottom:v=p,insetRight:y=p,margin:b=(null!==(i=n.margin)&&void 0!==i?i:0),marginLeft:x=b,marginBottom:w=b,marginTop:C=b,marginRight:S=b,padding:E=n.padding,paddingBottom:O=E,paddingLeft:k=E,paddingRight:M=E,paddingTop:$=E}=function(e,t,n,r){const{coordinates:o}=t;if(!_Ee(o)&&!jEe(o))return t;const i=e.filter(e=>"string"==typeof e.type&&e.type.startsWith("axis"));if(0===i.length)return t;const a=i.map(e=>Jke(e,"axisArc"===e.type?"arc":"linear",n)),l=o9(a,e=>{var t;return null!==(t=e.labelSpacing)&&void 0!==t?t:0}),s=i.flatMap((e,t)=>Zke(a[t],Kke(e,r))).filter(zte),c=o9(s,e=>e.height)+l,u=i.flatMap((e,t)=>Qke(a[t])).filter(e=>null!==e),d=0===u.length?0:o9(u,e=>e.height),{inset:f=c,insetLeft:h=f,insetBottom:p=f,insetTop:g=f+d,insetRight:m=f}=t;return Object.assign(Object.assign({},t),{insetLeft:h,insetBottom:p,insetTop:g,insetRight:m})}(e,t,n,r),I=16===x&&"auto"===k,N=16===S&&"auto"===M,T=Iz(t,"coordinates",[]).some(e=>"transpose"===e.type),L=e.find(({type:e})=>"axisX"===e),{size:R,labelTransform:_}=L||{},A=(e,n,r,o,i)=>{const{marks:a}=t;if(0===a.length)return[o,i];if(e-o-i-.25*e>0)return[o,i];const l=.75*e;return["auto"===n?l*o/(o+i):o,"auto"===r?l*i/(o+i):i]},P=e=>"auto"===e?20:null!=e?e:20,j=P($),B=P(O),D=rMe(e,c-j-B,[j+C,B+w],["left","right"],t,n,r),{paddingLeft:z,paddingRight:H}=D,F=s-x-S;let[W,G]=A(F,k,M,z,H),V=F-W-G;const q=rMe(e,V,[W+x,G+S],["bottom","top"],t,n,r),{paddingTop:X,paddingBottom:U}=q,Y=c-w-C,[K,Z]=A(Y,O,$,U,X),Q=Y-K-Z;if(R&&!T&&!_){const{fontSize:e=12,fontFamily:t="sans-serif",scales:n=[]}=L,r=null!==(l=null===(a=null==n?void 0:n[0])||void 0===a?void 0:a.domain)&&void 0!==l?l:[];if(!r.length)return;const o=(n,r,o,i)=>{const a=Xae(r,{fontSize:e,fontFamily:t}),l=a/2-o-i;l>0&&(V-=l,"left"===n?W+=a/2-o:G+=a/2-o)};I&&o("left",function(e){if(XD(e))return e[0]}(r),x,W),N&&o("right",sz(r),S,G)}return{width:s,height:c,depth:u,insetLeft:g,insetTop:m,insetBottom:v,insetRight:y,innerWidth:V,innerHeight:Q,paddingLeft:W,paddingRight:G,paddingTop:Z,paddingBottom:K,marginLeft:x,marginBottom:w,marginTop:C,marginRight:S,x:d,y:f,z:h}}function rMe(e,t,n,r,o,i,a){const l=H7(e,e=>e.position),{padding:s=i.padding,paddingLeft:c=s,paddingRight:u=s,paddingBottom:d=s,paddingTop:f=s}=o,h={paddingBottom:d,paddingLeft:c,paddingTop:f,paddingRight:u};for(const p of r){const e=`padding${jte(tae(p))}`,r=l.get(p)||[],o=h[e],s=e=>{void 0===e.size&&(e.size=e.defaultSize)},c=e=>{"group"===e.type?(e.children.forEach(s),e.size=o9(e.children,e=>e.size)):e.size=e.defaultSize},u=e=>{e.size||("auto"!==o?c(e):(Fke(e,t,n,p,i,a),s(e)))},d=e=>{e.type.startsWith("axis")&&void 0===e.labelAutoHide&&(e.labelAutoHide=!0)},f="bottom"===p||"top"===p,g=a9(r,e=>e.order),m=r.filter(e=>e.type.startsWith("axis")&&e.order==g);if(m.length&&(m[0].crossPadding=0),"number"==typeof o)r.forEach(s),r.forEach(d);else if(0===r.length)h[e]=0;else{const o=Ake(r,f?t+n[0]+n[1]:t);o.forEach(u);const i=o.reduce((e,{size:t,crossPadding:n=12})=>e+t+n,0);h[e]=i}}return h}function oMe({width:e,height:t,paddingLeft:n,paddingRight:r,paddingTop:o,paddingBottom:i,marginLeft:a,marginTop:l,marginBottom:s,marginRight:c,innerHeight:u,innerWidth:d,insetBottom:f,insetLeft:h,insetRight:p,insetTop:g}){const m=n+a,v=o+l,y=r+c,b=i+s,x=e-a-c,w=[m+h,v+g,d-h-p,u-g-f,"center",null,null];return{top:[m,0,d,v,"vertical",!0,E7,a,x],right:[e-y,v,y,u,"horizontal",!1,E7],bottom:[m,t-b,d,b,"vertical",!1,E7,a,x],left:[0,v,m,u,"horizontal",!0,E7],"top-left":[m,0,d,v,"vertical",!0,E7],"top-right":[m,0,d,v,"vertical",!0,E7],"bottom-left":[m,t-b,d,b,"vertical",!1,E7],"bottom-right":[m,t-b,d,b,"vertical",!1,E7],center:w,inner:w,outer:w}}function iMe(e,t,n,r){const[o,i]=Qte(e,e=>!("string"!=typeof e.type||!e.type.startsWith("axis")));!function(e,t,n,r){"center"===r?function(e){return Foe(e)&&Doe(e)}(t)?function(e,t,n){const[r,o,i,a]=n;for(const l of e)l.bbox={x:r,y:o,width:i,height:a},l.radar={index:e.indexOf(l),count:e.length}}(e,0,n):Doe(t)?function(e,t,n){const[r,o,i,a]=n;for(const l of e)l.bbox={x:r,y:o,width:i,height:a}}(e,0,n):Foe(t)&&function(e,t,n,r){"horizontal"===r?function(e,t,n){const[r,o,i]=n,a=new Array(e.length).fill(0),l=t.map(a),s=l.filter((e,t)=>t%2==1).map(e=>e+o);for(let c=0;c<e.length;c++){const t=e[c],n=s[c],o=s[c+1]-n;t.bbox={x:r,y:n,width:i,height:o}}}(e,t,n):"vertical"===r&&function(e,t,n){const[r,o,,i]=n,a=new Array(e.length).fill(0),l=t.map(a),s=l.filter((e,t)=>t%2==0).map(e=>e+r);for(let c=0;c<e.length;c++){const t=e[c],n=s[c],r=s[c+1]-n;t.bbox={x:n,y:o,width:r,height:i}}}(e,t,n)}(e,t,n,e[0].orientation):"inner"===r?function(e,t,n){const[r,o,,i]=n,[a,l]=t.getCenter(),[s]=Voe(t),c=s*(i/2),u=a-c,d=l-c;for(let f=0;f<e.length;f++){e[f].bbox={x:r+u,y:o+d,width:2*c,height:2*c}}}(e,t,n):"outer"===r&&function(e,t,n){const[r,o,i,a]=n;for(const l of e)l.bbox={x:r,y:o,width:i,height:a}}(e,0,n)}(o,t,n,r),function(e,t,n){if(0===e.length)return;const[r,o,i,a]=n,[l]=Voe(t),s=a/2*l/Math.sqrt(2),c=r+i/2,u=o+a/2;for(let d=0;d<e.length;d++){e[d].bbox={x:c-s,y:u-s,width:2*s,height:2*s}}}(i,t,n)}function aMe(e,t,n){const[r,o,i,a,l,s,c,u,d]=n,[f,h,p,g,m,v,y,b]="vertical"===l?["y",o,"x",r,"height",a,"width",i]:["x",r,"y",o,"width",i,"height",a];e.sort((e,t)=>null==c?void 0:c(e.order,t.order));const x=e=>"title"===e||"group"===e||e.startsWith("legend"),w=(e,t,n)=>void 0===n?t:x(e)?n:t,C=(e,t,n)=>void 0===n?t:x(e)?n:t;for(let E=0,O=s?h+v:h;E<e.length;E++){const t=e[E],{crossPadding:n=0,type:r}=t,{size:o}=t;t.bbox={[f]:s?O-o-n:O+n,[p]:C(r,g,u),[m]:o,[y]:w(r,b,d)},O+=(o+n)*(s?-1:1)}const S=e.filter(e=>"group"===e.type);for(const E of S){const{bbox:e,children:t}=E,n=e[y],r=n/t.length,o=t.reduce((e,t)=>{var n;const r=null===(n=t.layout)||void 0===n?void 0:n.justifyContent;return r||e},"flex-start"),i=t.map((e,n)=>{const{length:o=r,padding:i=0}=e;return o+(n===t.length-1?0:i)}),a=n-m9(i),l="flex-start"===o?0:"center"===o?a/2:a;for(let s=0,c=e[p]+l;s<t.length;s++){const n=t[s],{padding:r=0}=n,a=s===t.length-1?0:r;n.bbox={[m]:e[m],[f]:e[f],[p]:c,[y]:i[s]-a},kz(n,{layout:{justifyContent:o}}),c+=i[s]}}}var lMe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})},sMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const cMe=Symbol("CALLBACK_ITEM");function uMe(e,t,n){const{encode:r={},scale:o={},transform:i=[]}=t,a=sMe(t,["encode","scale","transform"]);return[e,Object.assign(Object.assign({},a),{encode:r,scale:o,transform:i})]}function dMe(e,t,n){return lMe(this,void 0,void 0,function*(){const{library:e}=n,{data:r}=t,[o]=IEe("data",e),i=function(e){if(uz(e))return{type:"inline",value:e};if(!e)return{type:"inline",value:null};if(Array.isArray(e))return{type:"inline",value:e};const{type:t="inline"}=e,n=sMe(e,["type"]);return Object.assign(Object.assign({},n),{type:t})}(r),{transform:a=[]}=i,l=[sMe(i,["transform"]),...a].map(e=>o(e,n)),s=yield function(e){return e.reduce((e,t)=>n=>Tte(this,void 0,void 0,function*(){const r=yield e(n);return t(r)}),Ate)}(l)(r),c=!r||Array.isArray(r)||Array.isArray(s)?s:{value:s};return[Array.isArray(s)?Yte(s):[],Object.assign(Object.assign({},t),{data:c})]})}function fMe(e,t,n){const{encode:r}=t;if(!r)return[e,t];const o={};for(const[i,a]of Object.entries(r))if(Array.isArray(a))for(let e=0;e<a.length;e++){o[`${i}${0===e?"":e}`]=a[e]}else o[i]=a;return[e,Object.assign(Object.assign({},t),{encode:o})]}function hMe(e,t,n){const{encode:r,data:o}=t;if(!r)return[e,t];const i=Ute(r,e=>{if(function(e){if("object"!=typeof e||e instanceof Date||null===e)return!1;const{type:t}=e;return zte(t)}(e))return e;const t=function(e,t){return"function"==typeof t?"transform":"string"==typeof t&&function(e,t){return!!Array.isArray(e)&&e.some(e=>void 0!==e[t])}(e,t)?"field":"constant"}(o,e);return{type:t,value:e}});return[e,Object.assign(Object.assign({},t),{encode:i})]}function pMe(e,t,n){const{encode:r}=t;if(!r)return[e,t];const o=Ute(r,(e,t)=>{const{type:n}=e;return"constant"!==n||function(e){return e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||"enterDelay"===e||"enterDuration"===e||"updateDelay"===e||"updateDuration"===e||"exitDelay"===e||"exitDuration"===e}(t)?e:Object.assign(Object.assign({},e),{constant:!0})});return[e,Object.assign(Object.assign({},t),{encode:o})]}function gMe(e,t,n){const{encode:r,data:o}=t;if(!r)return[e,t];const{library:i}=n,a=function(e){const[t]=IEe("encode",e);return(e,n)=>void 0===n||void 0===e?null:Object.assign(Object.assign({},n),{type:"column",value:t(n)(e),field:EMe(n)})}(i),l=Ute(r,e=>a(o,e));return[e,Object.assign(Object.assign({},t),{encode:l})]}function mMe(e,t,n){const{tooltip:r={}}=t;return Xte(r)?[e,t]:Array.isArray(r)?[e,Object.assign(Object.assign({},t),{tooltip:{items:r}})]:qte(r)&&$he(r)?[e,Object.assign(Object.assign({},t),{tooltip:r})]:[e,Object.assign(Object.assign({},t),{tooltip:{items:[r]}})]}function vMe(e,t,n){const{data:r,encode:o,tooltip:i={}}=t;if(Xte(i))return[e,t];const a=t=>{if(!t)return t;if("string"==typeof t)return e.map(e=>({name:t,value:r[e][t]}));if(qte(t)){const{field:n,channel:i,color:a,name:l=n,valueFormatter:s=e=>e}=t,c="string"==typeof s?tve(s):s,u=i&&o[i],d=u&&o[i].field,f=l||d||i,h=[];for(const t of e){const e=n?r[t][n]:u?o[i].value[t]:null;h[t]={name:f,color:a,value:c(e)}}return h}if("function"==typeof t){const n=[];for(const i of e){const e=t(r[i],i,r,o);qte(e)?n[i]=Object.assign(Object.assign({},e),{[cMe]:!0}):n[i]={value:e}}return n}return t},{title:l,items:s=[]}=i,c=sMe(i,["title","items"]),u=Object.assign({title:a(l),items:Array.isArray(s)?s.map(a):[]},c);return[e,Object.assign(Object.assign({},t),{tooltip:u})]}function yMe(e,t,n){const{encode:r}=t,o=sMe(t,["encode"]);if(!r)return[e,t];const i=Object.entries(r),a=i.filter(([,e])=>{const{value:t}=e;return Array.isArray(t[0])}).flatMap(([t,n])=>{const r=[[t,new Array(e.length).fill(void 0)]],{value:o}=n,i=sMe(n,["value"]);for(let a=0;a<o.length;a++){const n=o[a];if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=r[o]||[`${t}${o}`,new Array(e).fill(void 0)];i[1][a]=n[o],r[o]=i}}return r.map(([e,t])=>[e,Object.assign({type:"column",value:t},i)])}),l=Object.fromEntries([...i,...a]);return[e,Object.assign(Object.assign({},o),{encode:l})]}function bMe(e,t,n){const{axis:r={},legend:o={},slider:i={},scrollbar:a={}}=t,l=(e,t)=>{if("boolean"==typeof e)return e?{}:null;const n=e[t];return void 0===n||n?n:null},s="object"==typeof r?Array.from(new Set(["x","y","z",...Object.keys(r)])):["x","y","z"];return kz(t,{scale:Object.assign(Object.assign({},Object.fromEntries(s.map(e=>{const t=l(a,e);return[e,Object.assign({guide:l(r,e),slider:l(i,e),scrollbar:t},t&&{ratio:void 0===t.ratio?.5:t.ratio})]}))),{color:{guide:l(o,"color")},size:{guide:l(o,"size")},shape:{guide:l(o,"shape")},opacity:{guide:l(o,"opacity")}})}),[e,t]}function xMe(e,t,n){const{animate:r}=t;return r||void 0===r||kz(t,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[e,t]}function wMe(e,t,n){var r,o;return kz(t,{scale:{series:Object.assign({key:`DEFAULT_${t.type}_SERIES_KEY`},null!==(o=null===(r=null==t?void 0:t.scale)||void 0===r?void 0:r.series)&&void 0!==o?o:{})}}),[e,t]}var CMe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};function SMe(e,t,n){return CMe(this,void 0,void 0,function*(){const[r,o]=yield function(e,t,n){return CMe(this,void 0,void 0,function*(){const{library:r}=n,[o]=IEe("transform",r),{preInference:i=[],postInference:a=[]}=t,{transform:l=[]}=e,s=[uMe,dMe,fMe,hMe,pMe,gMe,yMe,xMe,bMe,mMe,wMe,...i.map(o),...l.map(o),...a.map(o),vMe];let c=[],u=e;for(const e of s)[c,u]=yield e(c,u,n);return[c,u]})}(e,t,n),{encode:i,scale:a,data:l,tooltip:s,key:c}=o;if(!1===Array.isArray(l))return null;const{channels:u}=t,d=G7(Object.entries(i).filter(([,e])=>zte(e)),e=>e.map(([e,t])=>Object.assign({name:e},t)),([e])=>{var t;const n=null===(t=/([^\d]+)\d*$/.exec(e))||void 0===t?void 0:t[1],r=u.find(e=>e.name===n);return(null==r?void 0:r.independent)?e:n}),f=u.filter(e=>{const{name:t,required:n}=e;if(d.find(([e])=>e===t))return!0;if(n)throw new Error(`Missing encoding for channel: ${t}.`);return!1}).flatMap(e=>{const{name:t,scale:n,scaleKey:r,range:o,quantitative:i,ordinal:l}=e;return d.filter(([e])=>e.startsWith(t)).map(([e,t],s)=>{const u=t.some(e=>e.visual),d=t.some(e=>e.constant),f=a[e]||{},{independent:h=!1,key:p=r||e,type:g=(d?"constant":u?"identity":n)}=f,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(f,["independent","key","type"]),v="constant"===g,y=v?void 0:o;return{name:e,values:t,scaleKey:h||v?Symbol("independent"):p,scale:Object.assign(Object.assign({type:g,markerKey:c,range:y},m),{quantitative:i,ordinal:l})}})});return[o,Object.assign(Object.assign({},t),{index:r,channels:f,tooltip:s})]})}function EMe(e){const{type:t,value:n}=e;return"field"===t&&"string"==typeof n?n:null}var OMe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})},kMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function MMe(e,t,n){var r;return OMe(this,void 0,void 0,function*(){const{library:o}=n,[i]=IEe("composition",o),[a]=IEe("interaction",o),l=new Set(Object.keys(o).map(e=>{var t;return null===(t=/mark\.(.*)/.exec(e))||void 0===t?void 0:t[1]}).filter(zte)),s=new Set(Object.keys(o).map(e=>{var t;return null===(t=/component\.(.*)/.exec(e))||void 0===t?void 0:t[1]}).filter(zte)),c=e=>{const{type:t}=e;if("function"==typeof t){const{props:e={}}=t,{composite:n=!0}=e;if(n)return"mark"}return"string"!=typeof t?t:l.has(t)||s.has(t)?"mark":t},u=e=>"mark"===c(e),d=e=>"standardView"===c(e),f=e=>{const{type:t}=e;return"string"==typeof t&&!!s.has(t)},h=e=>{if(d(e))return[e];const t=c(e);return i({type:t,static:f(e)})(e)},p=[],g=new Map,m=new Map,v=[e],y=[];for(;v.length;){const e=v.shift();if(d(e)){const t=m.get(e),[r,i]=t?RMe(t,e,o):yield NMe(e,n);g.set(r,e),p.push(r);const a=i.flatMap(h).map(e=>LEe(e,o));if(v.push(...a),a.every(d)){const e=yield Promise.all(a.map(e=>TMe(e,n)));gke(e);for(let t=0;t<a.length;t++){const n=a[t],r=e[t];m.set(n,r)}}}else{const t=h(u(e)?e:yield UMe(e,n));Array.isArray(t)?v.push(...t):"function"==typeof t&&y.push(t())}}n.emitter.emit(_ye);const b=new Map,x=new Map,w=[];t.selectAll(QMe(dfe)).data(p,e=>e.key).join(e=>e.append("g").attr("className",dfe).attr("id",e=>e.key).call($Me).each(function(e,t,r){_Me(e,Xoe(r),w,n),b.set(e,r)}),e=>e.call($Me).each(function(e,t,r){_Me(e,Xoe(r),w,n),x.set(e,r)}),e=>e.each(function(e,t,n){const r=n.nameInteraction.values();for(const o of r)o.destroy()}).remove());const C=(e,t,o)=>Array.from(e.entries()).map(([i,a])=>{const l=o||new Map,s=(e,t=e=>e)=>l.set(e,t),c=g.get(i),u=function(e,t,n){const{library:o}=n,i=function(e){const[,t]=IEe("interaction",e);return e=>{const[n,o]=e;try{return[n,t(n)]}catch(r){return[n,o.type]}}}(o),a=e=>e[1]&&e[1].props&&e[1].props.reapplyWhenUpdate,l=XMe(t),s=l.map(i).filter(a).map(e=>e[0]);return(t,r,o)=>OMe(this,void 0,void 0,function*(){const i=[],[a,l]=yield NMe(t,n);_Me(a,e,i,n);for(const o of s.filter(e=>e!==r))IMe(o,e,t,a,n);for(const t of l)MMe(t,e,n);return o(),{options:t,view:a}})}(Xoe(a),c,n),d={view:i,container:a,options:c,setState:s,update:(n,r)=>OMe(this,void 0,void 0,function*(){const o=Pte(Array.from(l.values()))(c);return yield u(o,n,()=>{KD(r)&&t(e,r,l)})})};return n.externals.update=d.update,n.externals.setState=s,d}),S=(e=x,t,r)=>{var o;const i=C(e,S,r);for(const l of i){const{options:e,container:r}=l,s=r.nameInteraction;let c=XMe(e);t&&(c=c.filter(e=>t.includes(e[0])));for(const t of c){const[e,r]=t,c=s.get(e);if(c&&(null===(o=c.destroy)||void 0===o||o.call(c)),r){const t=LMe(l.view,e,r,a)(l,i,n.emitter);s.set(e,{destroy:t})}}}},E=C(b,S);for(const e of E){const{options:t}=e,r=new Map;e.container.nameInteraction=r;for(const o of XMe(t)){const[t,i]=o;if(i){const o=LMe(e.view,t,i,a)(e,E,n.emitter);r.set(t,{destroy:o})}}}S();const{width:O,height:k}=e,M=[];for(const e of y){const r=new Promise(r=>OMe(this,void 0,void 0,function*(){for(const r of e){const e=Object.assign({width:O,height:k},r);yield MMe(e,t,n)}r()}));M.push(r)}n.views=p,null===(r=n.animations)||void 0===r||r.forEach(e=>null==e?void 0:e.cancel()),n.animations=w,n.emitter.emit(Aye);const $=w.filter(zte).map(WMe).map(e=>e.finished);return Promise.all([...$,...M])})}function $Me(e){e.style("transform",e=>`translate(${e.layout.x}, ${e.layout.y})`)}function IMe(e,t,n,r,o){var i;const{library:a}=o,[l]=IEe("interaction",a),s=t.node().nameInteraction,c=XMe(n).find(([t])=>t===e),u=s.get(e);if(!u)return;if(null===(i=u.destroy)||void 0===i||i.call(u),!c[1])return;const d=LMe(r,e,c[1],l)({options:n,view:r,container:t.node(),update:e=>Promise.resolve(e)},[],o.emitter);s.set(e,{destroy:d})}function NMe(e,t){return OMe(this,void 0,void 0,function*(){const{library:n}=t,r=yield function(e,t){return OMe(this,void 0,void 0,function*(){const{library:n}=t,[r,o]=IEe("mark",n),i=new Set(Object.keys(n).map(e=>{var t;return null===(t=/component\.(.*)/.exec(e))||void 0===t?void 0:t[1]}).filter(zte)),{marks:a}=e,l=[],s=[],c=[...a],{width:u,height:d}=function(e){const{height:t,width:n,padding:r=0,paddingLeft:o=r,paddingRight:i=r,paddingTop:a=r,paddingBottom:l=r,margin:s=16,marginLeft:c=s,marginRight:u=s,marginTop:d=s,marginBottom:f=s,inset:h=0,insetLeft:p=h,insetRight:g=h,insetTop:m=h,insetBottom:v=h}=e,y=e=>"auto"===e?20:e;return{width:n-y(o)-y(i)-c-u-p-g,height:t-y(a)-y(l)-d-f-m-v}}(e),f={options:e,width:u,height:d};for(;c.length;){const[e]=c.splice(0,1),n=yield UMe(e,t),{type:a=Bte("G2Mark type is required."),key:u}=n;if(i.has(a))s.push(n);else{const{props:e={}}=o(a),{composite:t=!0}=e;if(t){const{data:e}=n,t=Object.assign(Object.assign({},n),{data:e?Array.isArray(e)?e:e.value:e}),o=yield r(t,f),i=Array.isArray(o)?o:[o];c.unshift(...i.map((e,t)=>Object.assign(Object.assign({},e),{key:`${u}-${t}`})))}else l.push(n)}}return Object.assign(Object.assign({},e),{marks:l,components:s})})}(e,t),o=function(e){const{coordinate:t={},interaction:n={},style:r={},marks:o}=e,i=kMe(e,["coordinate","interaction","style","marks"]),a=o.map(e=>e.coordinate||{}),l=o.map(e=>e.interaction||{}),s=o.map(e=>e.viewStyle||{}),c=[...a,t].reduceRight((e,t)=>kz(e,t),{}),u=[n,...l].reduce((e,t)=>kz(e,t),{}),d=[...s,r].reduce((e,t)=>kz(e,t),{});return Object.assign(Object.assign({},i),{marks:o,coordinate:c,interaction:u,style:d})}(r);e.interaction=o.interaction,e.coordinate=o.coordinate,e.marks=[...o.marks,...o.components];const i=LEe(o,n);return RMe(yield TMe(i,t),i,n)})}function TMe(e,t){return OMe(this,void 0,void 0,function*(){const{library:n}=t,[r]=IEe("theme",n),[,o]=IEe("mark",n),{theme:i,marks:a,coordinates:l=[]}=e,s=r(qMe(i)),c=new Map;for(const e of a){const{type:n}=e,{props:r={}}=o(n),i=yield SMe(e,r,t);if(i){const[e,t]=i;c.set(e,t)}}const u=H7(Array.from(c.values()).flatMap(e=>e.channels),({scaleKey:e})=>e);for(const e of u.values()){const t=e.reduce((e,{scale:t})=>kz(e,t),{}),{scaleKey:r}=e[0],{values:o}=e[0],i=Array.from(new Set(o.map(e=>e.field).filter(zte))),a=kz({guide:{title:0===i.length?void 0:i},field:i[0]},t),{name:c}=e[0],u=e.flatMap(({values:e})=>e.map(e=>e.value)),d=Object.assign(Object.assign({},dke(c,u,a,l,s,n)),{uid:Symbol("scale"),key:r});e.forEach(e=>e.scale=d)}return c})}function LMe(e,t,n,r){const o=e.theme,i="string"==typeof t&&o[t]||{};return r(kz(i,Object.assign({type:t},n)))}function RMe(e,t,n){var r;const[o]=IEe("mark",n),[i]=IEe("theme",n),[a]=IEe("labelTransform",n),{key:l,frame:s=!1,theme:c,clip:u,style:d={},labelTransform:f=[]}=t,h=i(qMe(c)),p=Array.from(e.values()),g=function(e,t){var n;const{components:r=[]}=t,o=["scale","encode","axis","legend","data","transform"],i=Array.from(new Set(e.flatMap(e=>e.channels.map(e=>e.scale)))),a=new Map(i.map(e=>[e.name,e]));for(const l of r){const e=mke(l);for(const t of e){const e=a.get(t),r=(null===(n=l.scale)||void 0===n?void 0:n[t])||{},{independent:s=!1}=r;if(e&&!s){const{guide:t}=e,n="boolean"==typeof t?{}:t;e.guide=kz({},n,l),Object.assign(e,r)}else{const e=Object.assign(Object.assign({},r),{expectedDomain:r.domain,name:t,guide:Lz(l,o)});i.push(e)}}}return i}(p,t),m=function(e){return e.map(e=>{const t=kz(e,e.style);return delete t.style,t})}(Rke(function(e,t,n){var r;for(const[s]of n.entries())if("cell"===s.type)return e.filter(e=>"shape"!==e.name);if(1!==t.length||e.some(e=>"shape"===e.name))return e;const{defaultShape:o}=t[0];if(!["point","line","rect","hollow"].includes(o))return e;const i={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},a=(null===(r=e.find(e=>"color"===e.name))||void 0===r?void 0:r.field)||null,l={field:a,name:"shape",type:"constant",domain:[],range:[i[o]]};return[...e,l]}(Array.from(g),p,e),t,n)),v=nMe(m,t,h,n),y=function(e,t,n){const[r]=IEe("coordinate",n),{innerHeight:o,innerWidth:i,insetLeft:a,insetTop:l,insetRight:s,insetBottom:c}=e,{coordinates:u=[]}=t,d=(f=u).find(e=>"cartesian"===e.type||"cartesian3D"===e.type)?f:[...f,{type:"cartesian"}];var f;const h="cartesian3D"===d[0].type,p=Object.assign(Object.assign({},e),{x:a,y:l,width:i-a-s,height:o-c-l,transformations:d.flatMap(r)});return h?new Gxe(p):new Hxe(p)}(v,t,n),b=s?kz({mainLineWidth:1,mainStroke:"#000"},d):d;!function(e,t,n){const r=H7(e,e=>`${e.plane||"xy"}-${e.position}`),{paddingLeft:o,paddingRight:i,paddingTop:a,paddingBottom:l,marginLeft:s,marginTop:c,marginBottom:u,marginRight:d,innerHeight:f,innerWidth:h,insetBottom:p,insetLeft:g,insetRight:m,insetTop:v,height:y,width:b,depth:x}=n,w={xy:oMe({width:b,height:y,paddingLeft:o,paddingRight:i,paddingTop:a,paddingBottom:l,marginLeft:s,marginTop:c,marginBottom:u,marginRight:d,innerHeight:f,innerWidth:h,insetBottom:p,insetLeft:g,insetRight:m,insetTop:v}),yz:oMe({width:x,height:y,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:x,innerHeight:y,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:oMe({width:b,height:x,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:b,innerHeight:x,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[C,S]of r.entries()){const[e,n]=C.split("-"),r=w[e][n],[o,i]=Qte(S,e=>"string"==typeof e.type&&("center"===n||!(!e.type.startsWith("axis")||!["inner","outer"].includes(n))));o.length&&iMe(o,t,r,n),i.length&&aMe(S,0,r)}}(Ake(m),y,v),function(e){const t=e.find(({type:e})=>"axisX"===e),n=e.find(({type:e})=>"axisY"===e),r=e.find(({type:e})=>"axisZ"===e);t&&n&&r&&(t.plane="xy",n.plane="xy",r.plane="yz",r.origin=[t.bbox.x,t.bbox.y,0],r.eulerAngles=[0,-90,0],r.bbox.x=t.bbox.x,r.bbox.y=t.bbox.y,e.push(Object.assign(Object.assign({},t),{plane:"xz",showLabel:!1,showTitle:!1,origin:[t.bbox.x,t.bbox.y,0],eulerAngles:[-90,0,0]})),e.push(Object.assign(Object.assign({},n),{plane:"yz",showLabel:!1,showTitle:!1,origin:[n.bbox.x+n.bbox.width,n.bbox.y,0],eulerAngles:[0,-90,0]})),e.push(Object.assign(Object.assign({},r),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]})))}(m);const x=new Map(Array.from(e.values()).flatMap(e=>{const{channels:t}=e;return t.map(({scale:e})=>[e.uid,pke(e,n)])}));!function(e,t){G7(Array.from(e.values()).flatMap(e=>e.channels),e=>e.map(e=>t.get(e.scale.uid)),e=>e.name).filter(([,e])=>e.some(e=>"function"==typeof e.getOptions().groupTransform)&&e.every(e=>e.getTicks)).map(e=>e[1]).forEach(e=>{(0,e.map(e=>e.getOptions().groupTransform)[0])(e)})}(e,x);const w={};for(const E of m){const{scales:e=[]}=E,t=[];for(const o of e){const{name:e,uid:i}=o,a=null!==(r=x.get(i))&&void 0!==r?r:pke(o,n);t.push(a),"y"===e&&a.update(Object.assign(Object.assign({},a.getOptions()),{xScale:w.x})),hke(w,{[e]:a})}E.scaleInstances=t}const C=[],S=new Map;for(const[E,O]of e.entries()){const{children:e,dataDomain:t,modifier:n,key:r,data:i}=E;S.set(r,i);const{index:a,channels:s,tooltip:c}=O,u=Ute(Object.fromEntries(s.map(({name:e,scale:t})=>[e,t])),({uid:e})=>x.get(e));hke(w,u);const d=fke(s,u),f=o(E),[h,p,g]=AMe(f(a,u,d,y)),m=t||h.length,b=n?n(p,m,v):[],k=e=>{var t,n;return null===(n=null===(t=c.title)||void 0===t?void 0:t[e])||void 0===n?void 0:n.value},M=e=>c.items.map(t=>t[e]),$=h.map((e,t)=>{const n=Object.assign({points:p[t],transform:b[t],index:e,markKey:r,viewKey:l,data:i[e]},c&&{title:k(e),items:M(e)});for(const[r,o]of Object.entries(d))n[r]=o[e],g&&(n[`series${vz(r)}`]=g[t].map(e=>o[e]));return g&&(n.seriesIndex=g[t]),g&&c&&(n.seriesItems=g[t].map(e=>M(e)),n.seriesTitle=g[t].map(e=>k(e))),n});O.data=$,O.index=h;const I=null==e?void 0:e($,u,v);C.push(...I||[])}return[{layout:v,theme:h,coordinate:y,markState:e,key:l,clip:u,scale:w,style:b,components:m,data:S,options:t,labelTransform:Pte(f.map(a))},C]}function _Me(e,t,n,r){return OMe(this,void 0,void 0,function*(){const{library:o}=r,{components:i,theme:a,layout:l,markState:s,coordinate:c,key:u,style:d,clip:f,scale:h}=e,{x:p,y:g,width:m,height:v}=l,y=kMe(l,["x","y","width","height"]),b=["view","plot","main","content"],x=b.map((e,t)=>t),w=b.map(e=>Wte(Object.assign({},a.view,d),e)),C=["a","margin","padding","inset"].map(e=>Fte(y,e)),S=e=>e.style("x",e=>$[e].x).style("y",e=>$[e].y).style("width",e=>$[e].width).style("height",e=>$[e].height).each(function(e,t,n){!function(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}(Xoe(n),w[e])});let E=0,O=0,k=m,M=v;const $=x.map(e=>{const t=C[e],{left:n=0,top:r=0,bottom:o=0,right:i=0}=t;return E+=n,O+=r,k-=n+i,M-=r+o,{x:E,y:O,width:k,height:M}});t.selectAll(QMe(gfe)).data(x.filter(e=>zte(w[e])),e=>b[e]).join(e=>e.append("rect").attr("className",gfe).style("zIndex",-2).call(S),e=>e.call(S),e=>e.remove());const I=function(e){let t=-1/0,n=1/0;for(const[r,o]of e){const{animate:e={}}=r,{data:i}=o,{enter:a={},update:l={},exit:s={}}=e,{type:c,duration:u=300,delay:d=0}=l,{type:f,duration:h=300,delay:p=0}=a,{type:g,duration:m=300,delay:v=0}=s;for(const r of i){const{updateType:e=c,updateDuration:o=u,updateDelay:i=d,enterType:a=f,enterDuration:l=h,enterDelay:s=p,exitDuration:y=m,exitDelay:b=v,exitType:x=g}=r;(void 0===e||e)&&(t=Math.max(t,o+i),n=Math.min(n,i)),(void 0===x||x)&&(t=Math.max(t,y+b),n=Math.min(n,b)),(void 0===a||a)&&(t=Math.max(t,l+s),n=Math.min(n,s))}}return t===-1/0?null:[n,t-n]}(s),N=!!I&&{duration:I[1]};for(const[,e]of F7(i,e=>`${e.type}-${e.position}`))e.forEach((e,t)=>e.index=t);const T=t.selectAll(QMe(hfe)).data(i,e=>`${e.type}-${e.position}-${e.index}`).join(e=>e.append("g").style("zIndex",({zIndex:e})=>e||-1).attr("className",hfe).append(e=>_ke(kz({animate:N,scale:h},e),c,a,o,s)),e=>e.transition(function(e,t,n){const{preserve:r=!1}=e;if(r)return;const i=_ke(kz({animate:N,scale:h},e),c,a,o,s),{attributes:l}=i,[u]=n.childNodes;return u.update(l,!1)})).transitions();n.push(...T.flat().filter(zte));const L=t.selectAll(QMe(ffe)).data([l],()=>u).join(e=>e.append("rect").style("zIndex",0).style("fill","transparent").attr("className",ffe).call(YMe).call(ZMe,Array.from(s.keys())).call(JMe,f),e=>e.call(ZMe,Array.from(s.keys())).call(YMe).call(JMe,f)).transitions();n.push(...L.flat());for(const[R,_]of s.entries()){const{data:i}=_,{key:a,class:l,type:s}=R,c=t.select(`#${a}`),u=DMe(R,_,e,r),d=FMe(R,_,e,o),f=GMe(R,_,e,o),h=VMe(R,_,e,o),p=jMe(t,c,l,"element"),g=c.selectAll(QMe(ufe)).selectFacetAll(p).data(i,e=>e.key,e=>e.groupKey).join(e=>e.append(u).attr("className",ufe).attr("markType",s).transition(function(e,t,n){return d(e,[n])}),e=>e.call(e=>{const t=e.parent(),n=Hte(e=>{const[t,n]=e.getBounds().min;return[t,n]});e.transition(function(e,r,o){BMe(o,t,n);const i=u(e,r),a=f(e,[o],[i]);return(null==a?void 0:a.length)||(o.nodeName===i.nodeName&&"g"!==i.nodeName?Dte(o,i):(o.parentNode.replaceChild(i,o),i.className=ufe,i.markType=s,i.__data__=o.__data__)),a}).each(function(e,t,n){n.__removed__&&(n.__removed__=!1)}).attr("markType",s).attr("className",ufe)}),e=>e.each(function(e,t,n){n.__removed__=!0}).transition(function(e,t,n){return h(e,[n])}).remove(),e=>e.append(u).attr("className",ufe).attr("markType",s).transition(function(e,t,n){const{__fromElements__:r}=n,o=f(e,r,[n]);return new Uoe(r,null,n.parentNode).transition(o).remove(),o}),e=>e.transition(function(e,t,n){const r=new Uoe([],n.__toData__,n.parentNode).append(u).attr("className",ufe).attr("markType",s).nodes();return f(e,[n],r)}).remove()).transitions();n.push(...g.flat())}!function(e,t,n,r,o){const[i]=IEe("labelTransform",r),{markState:a,labelTransform:l}=e,s=t.select(QMe(cfe)).node(),c=new Map,u=new Map,d=Array.from(a.entries()).flatMap(([n,i])=>{const{labels:a=[],key:l}=n,s=function(e,t,n,r,o){const[i]=IEe("shape",r),{data:a,encode:l}=e,{data:s,defaultLabelShape:c}=t,u=s.map(e=>e.points),d=Ute(l,e=>e.value),{theme:f,coordinate:h}=n,p=Object.assign(Object.assign({},o),{document:NEe(o),theme:f,coordinate:h});return e=>{const{index:t,points:n}=e,r=a[t],{formatter:o=e=>`${e}`,transform:l,style:s,render:h,selector:g,element:m}=e,v=kMe(e,["formatter","transform","style","render","selector","element"]),y=Ute(Object.assign(Object.assign({},v),s),e=>PMe(e,r,t,a,{channel:d,element:m})),{shape:b=c,text:x}=y,w=kMe(y,["shape","text"]),C="string"==typeof o?tve(o):o,S=Object.assign(Object.assign({},w),{text:C(x,r,t,a),datum:r}),E=Object.assign({type:`label.${b}`,render:h},w);return i(E,p)(n,S,zMe(f,"label",b,"label"),u)}}(n,i,e,r,o),d=t.select(`#${l}`).selectAll(QMe(ufe)).nodes().filter(e=>!e.__removed__);return a.flatMap((e,t)=>{const{transform:n=[]}=e,r=kMe(e,["transform"]);return d.flatMap(n=>{const o=function(e,t,n){const{seriesIndex:r,seriesKey:o,points:i,key:a,index:l}=n.__data__,s=function(e){const t=e.cloneNode(!0),n=e.getAnimations();t.style.visibility="hidden",n.forEach(e=>{const n=e.effect.getKeyframes();t.attr(n[n.length-1])}),e.parentNode.appendChild(t);const r=t.getLocalBounds();t.destroy();const{min:o,max:i}=r;return[o,i]}(n);if(!r)return[Object.assign(Object.assign({},e),{key:`${a}-${t}`,bounds:s,index:l,points:i,dependentElement:n})];const c=function(e){const{selector:t}=e;if(!t)return null;if("function"==typeof t)return t;if("first"===t)return e=>[e[0]];if("last"===t)return e=>[e[e.length-1]];throw new Error(`Unknown selector: ${t}`)}(e),u=r.map((r,a)=>Object.assign(Object.assign({},e),{key:`${o[a]}-${t}`,bounds:[i[a]],index:r,points:i,dependentElement:n}));return c?c(u):u}(r,t,n);return o.forEach(t=>{c.set(t,e=>s(Object.assign(Object.assign({},e),{element:n}))),u.set(t,e)}),o})})}),f=Xoe(s).selectAll(QMe(pfe)).data(d,e=>e.key).join(e=>e.append(e=>c.get(e)(e)).attr("className",pfe),e=>e.each(function(e,t,n){Dte(n,c.get(e)(e))}),e=>e.remove()).nodes(),h=H7(f,e=>u.get(e.__data__)),{coordinate:p,layout:g}=e,m={canvas:o.canvas,coordinate:p,layout:g};for(const[v,y]of h){const{transform:e=[]}=v;Pte(e.map(i))(y,m)}l&&l(f,m)}(e,t,0,o,r),function(e,t,n,r){const o=e.scale,i=Iz(o,"y.options.breaks",[]),{document:a}=r.canvas;if([mfe,vfe].forEach(e=>{a.getElementsByClassName(e).forEach(e=>{e.remove()})}),!i.length)return;const l=t.select(QMe(ffe)).node(),[s]=IEe("shape",n),c=new Map;i.forEach((n,o)=>{c.set(n,s({type:"break"},{view:e,selection:t,context:r}))}),Xoe(l).selectAll(QMe(mfe)).data(i,e=>e.key).join(e=>e.append((e,t)=>c.get(e)(e,t)).attr("className",mfe),e=>e.each(function(e,t,n){Dte(n,c.get(e)(e,t))}),e=>e.remove()).nodes()}(e,t,o,r)})}function AMe([e,t,n]){if(n)return[e,t,n];const r=[],o=[];for(let i=0;i<e.length;i++){const n=e[i],a=t[i];a.every(([e,t])=>zte(e)&&zte(t))&&(r.push(n),o.push(a))}return[r,o]}function PMe(e,t,n,r,o){return"function"==typeof e?e(t,n,r,o):"string"!=typeof e?e:qte(t)&&void 0!==t[e]?t[e]:e}function jMe(e,t,n,r){const o=e.node().parentElement;return o&&"function"==typeof o.findAll?o.findAll(e=>void 0!==e.style.facet&&e.style.facet===n&&e!==t.node()).flatMap(e=>e.getElementsByClassName(r)):[]}function BMe(e,t,n){if(!e.__facet__)return;const r=e.parentNode.parentNode,o=t.parentNode,[i,a]=n(r),[l,s]=n(o);!function(e,t){const{transform:n}=e.style,r="none"===(o=n)||void 0===o?"":n;var o;e.style.transform=`${r} ${t}`.trimStart()}(e,`translate(${i-l}, ${a-s})`),t.append(e)}function DMe(e,t,n,r){const{library:o}=r,[i]=IEe("shape",o),{data:a,encode:l}=e,{defaultShape:s,data:c,shape:u}=t,d=Ute(l,e=>e.value),f=c.map(e=>e.points),{theme:h,coordinate:p}=n,{type:g,style:m={}}=e,v=Object.assign(Object.assign({},r),{document:NEe(r),coordinate:p,theme:h});return t=>{const{shape:n=s}=m,{shape:r=n,points:o,seriesIndex:l,index:c}=t,p=kMe(t,["shape","points","seriesIndex","index"]),y=Object.assign(Object.assign({},p),{index:c}),b=l?l.map(e=>a[e]):a[c],x=l||c,w=Ute(m,e=>PMe(e,b,x,a,{channel:d}));return(u[r]?u[r](w,v):i(Object.assign(Object.assign({},w),{type:KMe(e,r)}),v))(o,y,zMe(h,g,r,s),f)}}function zMe(e,t,n,r){if("string"!=typeof t)return;const{color:o}=e,i=e[t]||{},a=i[n]||i[r];return Object.assign({color:o},a)}function HMe(e,t,n,r,o){var i,a;const[,l]=IEe("shape",o),[s]=IEe("animation",o),{defaultShape:c,shape:u}=n,{theme:d,coordinate:f}=r,h=`default${vz(e)}Animation`,{[h]:p}=(null===(i=u[c])||void 0===i?void 0:i.props)||l(KMe(t,c)).props,{[e]:g={}}=d,m=(null===(a=t.animate)||void 0===a?void 0:a[e])||{},v={coordinate:f};return(t,n,r)=>{const{[`${e}Type`]:o,[`${e}Delay`]:i,[`${e}Duration`]:a,[`${e}Easing`]:l}=t,c=Object.assign({type:o||p},m);if(!c.type)return null;const u=s(c,v)(n,r,kz(g,{delay:i,duration:a,easing:l}));let d=[];return d=Array.isArray(u)?u:[u],d.filter(Boolean)}}function FMe(e,t,n,r){return HMe("enter",e,t,n,r)}function WMe(e){return e.finished.then(()=>{e.cancel()}),e}function GMe(e,t,n,r){return HMe("update",e,t,n,r)}function VMe(e,t,n,r){return HMe("exit",e,t,n,r)}function qMe(e={}){if("string"==typeof e)return{type:e};const{type:t="light"}=e,n=kMe(e,["type"]);return Object.assign(Object.assign({},n),{type:t})}function XMe(e){const{interaction:t={}}=e;return Object.entries(kz({event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},t)).reverse()}function UMe(e,t){return OMe(this,void 0,void 0,function*(){const{data:n}=e,r=kMe(e,["data"]);if(null==n)return e;const[,{data:o}]=yield dMe(0,{data:n},t);return Object.assign({data:o},r)})}function YMe(e){e.style("transform",e=>`translate(${e.paddingLeft+e.marginLeft}, ${e.paddingTop+e.marginTop})`).style("width",e=>e.innerWidth).style("height",e=>e.innerHeight)}function KMe(e,t){const{type:n}=e;return"string"==typeof t?`${n}.${t}`:t}function ZMe(e,t){const n=e=>void 0!==e.class?`${e.class}`:"";if(0===e.nodes().length)return;e.selectAll(QMe(sfe)).data(t,e=>e.key).join(e=>e.append("g").attr("className",sfe).attr("id",e=>e.key).style("facet",n).style("fill","transparent").style("zIndex",e=>{var t;return null!==(t=e.zIndex)&&void 0!==t?t:0}),e=>e.style("facet",n).style("fill","transparent").style("zIndex",e=>{var t;return null!==(t=e.zIndex)&&void 0!==t?t:0}),e=>e.remove());e.select(QMe(cfe)).node()||e.append("g").attr("className",cfe).style("zIndex",0)}function QMe(...e){return e.map(e=>`.${e}`).join("")}function JMe(e,t){e.node()&&e.style("clipPath",e=>{if(!t)return null;const{paddingTop:n,paddingLeft:r,marginLeft:o,marginTop:i,innerWidth:a,innerHeight:l}=e;return new eU({style:{x:r+o,y:n+i,width:a,height:l}})})}function e$e(e,t={},n=()=>{},r=e=>{throw e}){var o;const{width:i=640,height:a=480}=e,l=function(e){const t=kz({},e),n=new Map([[t,null]]),r=new Map([[null,-1]]),o=[t];for(;o.length;){const e=o.shift();if(void 0===e.key){const t=n.get(e),o=r.get(e),i=null===t?"0":`${t.key}-${o}`;e.key=i}const{children:t=[]}=e;if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=kz({},t[i]);t[i]=a,n.set(a,e),r.set(a,i),o.push(a)}}return t}(e),{group:s=new FX,emitter:c=new W4,library:u}=t;(null==s?void 0:s.parentElement)||Bte("renderToMountedElement can't render chart to unmounted group.");const d=Xoe(s);return t.group=s,t.emitter=c,t.externals={},t.canvas=t.canvas||(null===(o=null==s?void 0:s.ownerDocument)||void 0===o?void 0:o.defaultView),c.emit(Lye),MMe(Object.assign(Object.assign({},l),{width:i,height:a}),d,t).then(()=>{var e;null===(e=t.canvas)||void 0===e||e.requestAnimationFrame(()=>{c.emit(Rye),null==n||n()})}).catch(e=>{null==r||r(e)}),s}function t$e(e,t){if(t(e))return!0;if("g"===e.tagName){const{childNodes:n=[]}=e;for(const e of n)if(t$e(e,t))return!0}return!1}const n$e={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function r$e(e,t){let n;return t$e(e,e=>{var r;return"g"!==e.tagName&&void 0!==(null===(r=e.style)||void 0===r?void 0:r[t])&&(n=e.style[t],!0)}),null!=n?n:n$e[t]}function o$e(e,t,n,r){e.style[t]=n,e.children.forEach(e=>o$e(e,t,n))}function i$e(e){o$e(e,"visibility","hidden")}function a$e(e){o$e(e,"visibility","visible")}var l$e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function s$e(e){return Xoe(e).selectAll(`.${ufe}`).nodes().filter(e=>!e.__removed__)}function c$e(e,t){return u$e(e,t).flatMap(({container:e})=>s$e(e))}function u$e(e,t){return t.filter(t=>t!==e&&t.options.parentKey===e.options.key)}function d$e(e){return Xoe(e).select(`.${ffe}`).node()}function f$e(e){if("g"===e.tagName)return e.getRenderBounds();const t=e.getGeometryBounds(),n=new cF;return n.setFromTransformedAABB(t,e.getWorldTransform()),n}function h$e(e,t){const{offsetX:n,offsetY:r}=t,o=f$e(e),{min:[i,a],max:[l,s]}=o;return n<i||n>l||(r<a||r>s)?null:[n-i,r-a]}function p$e(e,t){const{offsetX:n,offsetY:r}=t,[o,i,a,l]=function(e){const t=e.getRenderBounds(),{min:[n,r],max:[o,i]}=t;return[n,r,o,i]}(e);return[Math.min(a,Math.max(o,n))-o,Math.min(l,Math.max(i,r))-i]}function g$e(e){return e=>e.__data__.color}function m$e(e){return e=>e.__data__.x}function v$e(e){const t=Array.isArray(e)?e:[e],n=new Map(t.flatMap(e=>Array.from(e.markState.keys()).map(t=>[S$e(e.key,t.key),t.data])));return e=>{const{index:t,markKey:r,viewKey:o}=e.__data__;return n.get(S$e(o,r))[t]}}const y$e={selected:3,unselected:3,active:2,inactive:2,default:1},b$e={selection:["selected","unselected"],highlight:["active","inactive"]},x$e=(e,t,n)=>{t$e(e,e=>{"setAttribute"in e&&"function"==typeof e.setAttribute&&e.setAttribute(t,n)})};function w$e(e,t){return t.forEach(t=>{const n=t.__interactionStyle__;t.__interactionStyle__=n?Object.assign(Object.assign({},n),e):e}),(e=(e,t)=>e,t=x$e)=>C$e(void 0,e,t)}function C$e(e,t=(e,t)=>e,n=x$e){const r="__states__",o="__ordinal__",i=e=>y$e[e]||y$e.default,a=e=>{var t;return null===(t=Object.entries(b$e).find(([t,n])=>n.includes(e)))||void 0===t?void 0:t[0]},l=a=>{var l;const{[r]:s=[],[o]:c={}}=a,u=[...s].sort((e,t)=>i(t)-i(e)),d=new Map;for(const t of u){const n=(null===(l=null!=e?e:a.__interactionStyle__)||void 0===l?void 0:l[t])||{};for(const[e,t]of Object.entries(n))d.has(e)||d.set(e,t)}const f=Object.assign({},c);for(const[e,t]of d.entries())f[e]=t;if(0!==Object.keys(f).length){for(const[e,r]of Object.entries(f)){const o=r$e(a,e),i=t(r,a);n(a,e,i),e in c||(c[e]=o)}a[o]=c}},s=e=>{e[r]||(e[r]=[])};return{setState:(e,...t)=>{s(e),e[r]=[...t],l(e)},updateState:(e,...t)=>{s(e);const n=e[r],o=new Set(t.map(e=>a(e)).filter(e=>void 0!==e)),i=n.filter(e=>!o.has(a(e)));e[r]=[...i,...t],l(e)},removeState:(e,...t)=>{s(e);for(const n of t){const t=e[r].indexOf(n);-1!==t&&e[r].splice(t,1)}l(e)},hasState:(e,t)=>(s(e),-1!==e[r].indexOf(t))}}function S$e(e,t){return`${e},${t}`}function E$e(e,t){const n=(Array.isArray(e)?e:[e]).flatMap(e=>e.marks.map(t=>[S$e(e.key,t.key),t.state])),r={};for(const o of t){const[e,t]=Array.isArray(o)?o:[o,{}];r[e]=n.reduce((n,r)=>{const[o,i={}]=r,a=void 0===(l=i[e])||"object"==typeof l&&0===Object.keys(l).length?t:i[e];var l;for(const[e,t]of Object.entries(a)){const r=n[e],i=(e,n,i,a)=>{const l=S$e(a.__data__.viewKey,a.__data__.markKey);return o!==l?null==r?void 0:r(e,n,i,a):"function"!=typeof t?t:t(e,n,i,a)};n[e]=i}return n},{})}return r}function O$e(e,t){const n=new Map(e.map((e,t)=>[e,t])),r=t?e.map(t):e;return(e,o)=>{if("function"!=typeof e)return e;const i=n.get(o);return e(t?t(o):o,i,r,o)}}function k$e(e){var{link:t=!1,valueof:n=(e,t)=>e,coordinate:r}=e,o=l$e(e,["link","valueof","coordinate"]);if(!t)return[()=>{},()=>{}];const i=e=>e.__data__.points,a=(e,t)=>{const[,n,r]=e,[o,,,i]=t;return[n,o,i,r]};return[e=>{var t;if(e.length<=1)return;const r=q7(e,(e,t)=>{const{x:n}=e.__data__,{x:r}=t.__data__;return n-r});for(let l=1;l<r.length;l++){const e=Yre(),s=r[l-1],c=r[l],[u,d,f,h]=a(i(s),i(c));e.moveTo(...u),e.lineTo(...d),e.lineTo(...f),e.lineTo(...h),e.closePath();const p=Ute(o,e=>n(e,s)),{fill:g=s.getAttribute("fill")}=p,m=l$e(p,["fill"]),v=new YX({className:"element-link",style:Object.assign({d:e.toString(),fill:g,zIndex:-2},m)});null===(t=s.link)||void 0===t||t.remove(),s.parentNode.appendChild(v),s.link=v}},e=>{var t;null===(t=e.link)||void 0===t||t.remove(),e.link=null}]}function M$e(e,t,n){const r=t=>{const{transform:n}=e.style;return n?`${n} ${t}`:t};if(Doe(n)){const{points:o}=e.__data__,[i,a]=Boe(n)?eie(o):o,l=n.getCenter(),s=hre(i,l),c=hre(a,l),u=mre(s)+yre(s,c)/2;return r(`translate(${t*Math.cos(u)}, ${t*Math.sin(u)})`)}return Boe(n)?r(`translate(${t}, 0)`):r(`translate(0, ${-t})`)}function $$e(e){var{document:t,background:n,scale:r,coordinate:o,valueof:i}=e,a=l$e(e,["document","background","scale","coordinate","valueof"]);const l="element-background";if(!n)return[()=>{},()=>{}];const s=(e,t,n)=>{const r=e.invert(t),o=t+e.getBandWidth(r)/2,i=e.getStep(r)/2,a=i*n;return[o-i+a,o+i-a]},c=(e,n)=>{const{padding:i}=n,[a,l]=((e,t)=>{const{x:n}=r;if(!qve(n))return[0,1];const{__data__:o}=e,{x:i}=o,[a,l]=s(n,i,t);return[a,l]})(e,i),[c,u]=((e,t)=>{const{y:n}=r;if(!qve(n))return[0,1];const{__data__:o}=e,{y:i}=o,[a,l]=s(n,i,t);return[a,l]})(e,i),d=[[a,c],[l,c],[l,u],[a,u]].map(e=>o.map(e)),{__data__:f}=e,{y:h,y1:p}=f;return aie(t,d,{y:h,y1:p},o,n)},u=(e,t)=>{const{transform:n="scale(1.2, 1.2)",transformOrigin:r="center center",stroke:o=""}=t,i=l$e(t,["transform","transformOrigin","stroke"]),a=Object.assign({transform:n,transformOrigin:r,stroke:o},i),l=e.cloneNode(!0);for(const[s,c]of Object.entries(a))l.style[s]=c;return l};return[e=>{e.background&&e.background.remove();const t=Ute(a,t=>i(t,e)),{fill:n="#CCD6EC",fillOpacity:o=.3,zIndex:s=-2,padding:d=.001,lineWidth:f=0}=t,h=l$e(t,["fill","fillOpacity","zIndex","padding","lineWidth"]),p=Object.assign(Object.assign({},h),{fill:n,fillOpacity:o,zIndex:s,padding:d,lineWidth:f}),g=((()=>{const{x:e,y:t}=r;return[e,t].some(qve)})()?c:u)(e,p);g.className=l,e.parentNode.parentNode.appendChild(g),e.background=g},e=>{var t;null===(t=e.background)||void 0===t||t.remove(),e.background=null},e=>e.className===l]}function I$e(e,t){const n=e.getRootNode().defaultView.getContextService().getDomElement();(null==n?void 0:n.style)&&(e.cursor=n.style.cursor,n.style.cursor=t)}function N$e(e){I$e(e,e.cursor)}function T$e(e,t,n){return e.find(e=>Object.entries(t).every(([t,r])=>n(e)[t]===r))}function L$e(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function R$e(e,t=!1){const n=function(e,t){if(!XD(e))return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];t(o,r)&&n.push(o)}return n}(e,e=>!!e).map((e,t)=>[0===t?"M":"L",...e]);return t&&n.push(["Z"]),n}function _$e(e){return e.querySelectorAll(".element")}function A$e(e,t){if(t(e))return e;let n=e.parent;for(;n&&!t(n);)n=n.parent;return n}const P$e=["interval","point","density"];function j$e({elementsof:e,root:t,coordinate:n,scale:r,validFindByXMarks:o=P$e}){var i,a;let l=e(t);const s=e=>o.includes(e.markType);if(l.find(s)){l=l.filter(s);const e=r.x,o=r.series,c=null!==(a=null===(i=null==e?void 0:e.getBandWidth)||void 0===i?void 0:i.call(e))&&void 0!==a?a:0,u=o?e=>{var t,n;const r=Math.round(1/(null!==(t=o.valueBandWidth)&&void 0!==t?t:1));return e.__data__.x+(null!==(n=e.__data__.series)&&void 0!==n?n:0)*c+c/(2*r)}:e=>e.__data__.x+c/2;return l.sort((e,t)=>u(e)-u(t)),e=>{const r=h$e(t,e);if(!r)return;const[o]=n.invert(r),i=(0,k7(u).center)(l,o);return l[i]}}return e=>{const{target:t}=e;return A$e(t,e=>!!e.classList&&e.classList.includes("element"))}}function B$e(e){const t=.01/Math.max(e,1e-4);return Math.max(.1,Math.min(100,t))}function D$e(e){return!1===e||null==e}function z$e(e,t){return t.some(t=>{const{scale:n}=t,r=null==n?void 0:n[e];return!!(null==r?void 0:r.independent)})}function H$e(e){var t,n,r,o;const i=Array.from(e.markState.keys()),a=z$e("x",i),l=z$e("y",i),s=[],c=[],u=[],d=[],f=new Map,h=new Map;let p=1,g=1;for(const[m]of e.markState.entries()){const e=m.key;(null===(n=null===(t=null==m?void 0:m.scale)||void 0===t?void 0:t.x)||void 0===n?void 0:n.independent)?(c.push(e),f.set(e,"x"+p++)):(s.push(e),f.set(e,"x")),(null===(o=null===(r=null==m?void 0:m.scale)||void 0===r?void 0:r.y)||void 0===o?void 0:o.independent)?(d.push(e),h.set(e,"y"+g++)):(u.push(e),h.set(e,"y"))}return{hasIndependentX:a,hasIndependentY:l,marksWithSharedX:s,marksWithIndependentX:c,marksWithSharedY:u,marksWithIndependentY:d,markToXScaleMap:f,markToYScaleMap:h}}function F$e(e){var{delay:t,createGroup:n,createRegionGroup:r,background:o=!1,link:i=!1}=e,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["delay","createGroup","createRegionGroup","background","link"]);return(e,l,s)=>{const{container:c,view:u,options:d}=e,{scale:f,coordinate:h}=u;return function(e,{elements:t,datum:n,groupKey:r=e=>e,regionGroupKey:o=e=>e,link:i=!1,background:a=!1,delay:l=60,scale:s,coordinate:c,emitter:u,state:d={},region:f=!1,regionEleFilter:h=e=>P$e.includes(e.markType)}){var p,g;const m=null!==(p=t(e))&&void 0!==p?p:[],v=f?m.filter(h):m,y=new Set(v),b=f?o:r,x=H7(v,b),w=j$e({elementsof:t,root:e,coordinate:c,scale:s}),C=O$e(v,n),[S,E]=k$e(Object.assign({elements:v,valueof:C,link:i,coordinate:c},Fte(d.active,"link"))),[O,k,M]=$$e(Object.assign({document:e.ownerDocument,scale:s,coordinate:c,background:a,valueof:C},Fte(d.active,"background"))),$=w$e(kz(d,{active:Object.assign({},(null===(g=d.active)||void 0===g?void 0:g.offset)&&{transform:(...e)=>{const t=d.active.offset(...e),[,n]=e;return M$e(v[n],t,c)}})}),v),{updateState:I,removeState:N,hasState:T}=$(C);let L;const R=e=>{const{nativeEvent:t=!0}=e;let r=e.target;if(f&&(r=w(e)),!y.has(r))return;L&&clearTimeout(L);const o=b(r),i=x.get(o),a=new Set(i);for(const n of v)a.has(n)?T(n,"active")||I(n,"active"):(I(n,"inactive"),E(n)),n!==r&&k(n);O(r),S(i),t&&u.emit("element:highlight",{nativeEvent:t,data:{data:n(r),group:i.map(n)}})},_=()=>{L&&clearTimeout(L),L=setTimeout(()=>{A(),L=null},l)},A=(e=!0)=>{for(const t of v)N(t,"active","inactive"),k(t),E(t);e&&u.emit("element:unhighlight",{nativeEvent:e})},P=e=>{let t=e.target;f&&(t=w(e)),t?a&&!M(t)||(a||y.has(t))&&(l>0?_():A()):l>0?_():A()},j=()=>{A()};e.addEventListener("pointerover",R),e.addEventListener("pointermove",R),e.addEventListener("pointerout",P),e.addEventListener("pointerleave",j);const B=e=>{const{nativeEvent:t}=e;t||A(!1)},D=e=>{const{nativeEvent:t}=e;if(t)return;const{data:r}=e.data,o=T$e(v,r,n);o&&R({target:o,nativeEvent:!1})};return u.on("element:highlight",D),u.on("element:unhighlight",B),()=>{e.removeEventListener("pointerover",R),e.removeEventListener("pointermove",R),e.removeEventListener("pointerout",P),e.removeEventListener("pointerleave",j),u.off("element:highlight",D),u.off("element:unhighlight",B);for(const e of v)k(e),E(e)}}(d$e(c),Object.assign({elements:s$e,datum:v$e(u),groupKey:n?n(u):void 0,regionGroupKey:r?r(u):e=>e.__data__.x,coordinate:h,scale:f,state:E$e(d,[["active",o?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:o,link:i,delay:t,emitter:s},a))}}function W$e(e){return F$e(Object.assign(Object.assign({},e),{createGroup:m$e}))}function G$e(e){return F$e(Object.assign(Object.assign({},e),{createGroup:g$e}))}F$e.props={reapplyWhenUpdate:!0},W$e.props={reapplyWhenUpdate:!0},G$e.props={reapplyWhenUpdate:!0};function V$e(e,{elements:t,datum:n,groupKey:r=e=>e,regionGroupKey:o=e=>e,link:i=!1,single:a=!1,multipleSelectHotkey:l,coordinate:s,background:c=!1,scale:u,emitter:d,state:f={},region:h=!1,regionEleFilter:p=e=>P$e.includes(e.markType)}){var g;const m=t(e),v=new Set(m),y=j$e({elementsof:t,root:e,coordinate:s,scale:u}),b=H7(m,r),x=H7(m,o),w=O$e(m,n),[C,S]=k$e(Object.assign({link:i,elements:m,valueof:w,coordinate:s},Fte(f.selected,"link"))),[E,O]=$$e(Object.assign({document:e.ownerDocument,background:c,coordinate:s,scale:u,valueof:w},Fte(f.selected,"background"))),k=w$e(kz(f,{selected:Object.assign({},(null===(g=f.selected)||void 0===g?void 0:g.offset)&&{transform:(...e)=>{const t=f.selected.offset(...e),[,n]=e;return M$e(m[n],t,s)}})}),m),{updateState:M,removeState:$,hasState:I}=k(w);let N=!a,T=null;const L=(e=!0)=>{for(const t of m)$(t,"selected","unselected"),S(t),O(t);e&&d.emit("element:unselect",{nativeEvent:!0})},R=({event:e,element:t,nativeEvent:o=!0,filter:i=e=>!0,groupBy:a=r,groupMap:l=b})=>{const s=m.filter(i);if(I(t,"selected"))L();else{const r=a(t),i=l.get(r),c=new Set(i);for(const e of s)c.has(e)?M(e,"selected"):(M(e,"unselected"),S(e)),e!==t&&O(e);if(C(i),E(t),!o)return;d.emit("element:select",Object.assign(Object.assign({},e),{nativeEvent:o,data:{data:[n(t),...i.map(n)]}}))}},_=({event:e,element:t,nativeEvent:o=!0,filter:a=e=>!0,groupBy:l=r,groupMap:s=b})=>{const c=l(t),u=s.get(c),f=new Set(u),h=m.filter(a);if(I(t,"selected")){const e=m.some(e=>!f.has(e)&&I(e,"selected"));if(!e)return L();for(const t of u)M(t,"unselected"),S(t),O(t)}else{const e=u.some(e=>I(e,"selected"));for(const t of h)f.has(t)?M(t,"selected"):I(t,"selected")||M(t,"unselected");!e&&i&&C(u),E(t)}o&&d.emit("element:select",Object.assign(Object.assign({},e),{nativeEvent:o,data:{data:m.filter(e=>I(e,"selected")).map(n)}}))},A=e=>{if(v.has(e))return e;for(const t of v){let n=null;if(t$e(t,r=>{r===e&&(n=t)}),n)return n}return e},P=e=>{const{target:t,nativeEvent:n=!0}=e,i=N?_:R;let a=t;const l=(e=>{if(v.has(e))return!0;for(const t of v)if(t$e(t,t=>t===e))return!0;return!1})(t);return!h||l?l?i({event:e,element:A(a),nativeEvent:n,groupBy:r}):L():(a=y(e),v.has(a)?i({event:e,element:a,nativeEvent:n,filter:p,groupBy:o,groupMap:x}):L())},j=Array.isArray(l)?l:[l],B=e=>{j.includes(e.code)&&!T&&(T=e.code,N=!0)},D=e=>{e.code===T&&(T=null,N=!1)};e.addEventListener("click",P),l&&(N=!1,document.addEventListener("keydown",B),document.addEventListener("keyup",D));const z=e=>{const{nativeEvent:t,data:r}=e;if(t)return;const o=N?r.data:r.data.slice(0,1);for(const i of o){const e=T$e(m,i,n);P({target:e,nativeEvent:!1})}},H=()=>{L(!1)};return d.on("element:select",z),d.on("element:unselect",H),()=>{for(const e of m)S(e);e.removeEventListener("click",P),l&&(document.removeEventListener("keydown",B),document.removeEventListener("keyup",D)),d.off("element:select",z),d.off("element:unselect",H)}}function q$e(e){var{createGroup:t,createRegionGroup:n,background:r=!1,link:o=!1}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["createGroup","createRegionGroup","background","link"]);return(e,a,l)=>{const{container:s,view:c,options:u}=e,{coordinate:d,scale:f}=c;return V$e(d$e(s),Object.assign({elements:s$e,datum:v$e(c),groupKey:t?t(c):void 0,regionGroupKey:n?n(c):e=>e.__data__.x,coordinate:d,scale:f,state:E$e(u,[["selected",r?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:r,link:o,emitter:l},i))}}function X$e(e){return q$e(Object.assign(Object.assign({},e),{createGroup:m$e}))}function U$e(e){return q$e(Object.assign(Object.assign({},e),{createGroup:g$e}))}q$e.props={reapplyWhenUpdate:!0},X$e.props={reapplyWhenUpdate:!0},U$e.props={reapplyWhenUpdate:!0};var Y$e=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};function K$e(e){var{wait:t=20,leading:n,trailing:r=!1,labelFormatter:o=e=>`${e}`}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["wait","leading","trailing","labelFormatter"]);return e=>{const{view:a,container:l,update:s,setState:c}=e,{markState:u,scale:d,coordinate:f}=a,h=function(e,t,n){const[r]=Array.from(e.entries()).filter(([e])=>e.type===t).map(([e])=>{const{encode:t}=e;return Object.fromEntries(n.map(e=>{const n=t[e];return[e,n?n.value:void 0]}))});return r}(u,"line",["x","y","series"]);if(!h)return;const{y:p,x:g,series:m=[]}=h,v=p.map((e,t)=>t),y=q7(v.map(e=>g[e])),b=d$e(l),x=l.getElementsByClassName(ufe),w=H7(l.getElementsByClassName(pfe),e=>e.__data__.key.split("-")[0]),C=new XX({style:Object.assign({x1:0,y1:0,x2:0,y2:b.getAttribute("height"),stroke:"black",lineWidth:1},Fte(i,"rule"))}),S=new nU({style:Object.assign({x:0,y:b.getAttribute("height"),text:"",fontSize:10},Fte(i,"label"))});C.append(S),b.appendChild(C);const E=(e,t,n)=>{const[r]=e.invert(n),o=t.invert(r);return y[L7(y,o)]},O=(e,t)=>{C.setAttribute("x1",e[0]),C.setAttribute("x2",e[0]),S.setAttribute("text",o(t))};let k;const M=Rz(e=>{const t=h$e(b,e);t&&(e=>{const{scale:t,coordinate:n}=k,{x:r,y:o}=t,i=E(n,r,e);O(e,i);for(const a of x){const{seriesIndex:e,key:t}=a.__data__,r=e[k7(e=>g[+e]).center(e,i)],l=[0,o.map(1)],s=[0,o.map(p[r]/p[e[0]])],[,c]=n.map(l),[,u]=n.map(s),d=c-u;a.setAttribute("transform",`translate(0, ${d})`);const f=w.get(t)||[];for(const n of f)n.setAttribute("dy",d)}})(t)},t,{leading:n,trailing:r});return(e=>{Y$e(this,void 0,void 0,function*(){const{x:t}=d,n=E(f,t,e);O(e,n),c("chartIndex",e=>{const t=kz({},e),r=t.marks.find(e=>"line"===e.type),o=o9(W7(v,e=>o9(e,e=>+p[e])/a9(e,e=>+p[e]),e=>m[e]).values());kz(r,{scale:{y:{domain:[1/o,o]}}});const i=function(e){const{transform:t=[]}=e,n=t.find(e=>"normalizeY"===e.type);if(n)return n;const r={type:"normalizeY"};return t.push(r),e.transform=t,r}(r);i.groupBy="color",i.basis=(e,t)=>t[e[k7(e=>g[+e]).center(e,n)]];for(const n of t.marks)n.animate=!1;return t});const r=yield s("chartIndex");k=r.view})})([0,0]),b.addEventListener("pointerenter",M),b.addEventListener("pointermove",M),b.addEventListener("pointerleave",M),()=>{C.remove(),b.removeEventListener("pointerenter",M),b.removeEventListener("pointermove",M),b.removeEventListener("pointerleave",M)}}}function Z$e({wait:e=30,leading:t,trailing:n=!1}){return r=>{const{options:o,update:i,setState:a,container:l}=r,s=d$e(l),c=Rz(e=>{const t=h$e(s,e);if(!t)return a("fisheye"),void i();a("fisheye",e=>{const n=kz({},e,{interaction:{tooltip:{preserve:!0}}});for(const t of n.marks)t.animate=!1;const[r,o]=t,i=function(e){const{coordinate:t={}}=e,{transform:n=[]}=t,r=n.find(e=>"fisheye"===e.type);if(r)return r;const o={type:"fisheye"};return n.push(o),t.transform=n,e.coordinate=t,o}(n);return i.focusX=r,i.focusY=o,i.visual=!0,n}),i()},e,{leading:t,trailing:n});return s.addEventListener("pointerenter",c),s.addEventListener("pointermove",c),s.addEventListener("pointerleave",c),()=>{s.removeEventListener("pointerenter",c),s.removeEventListener("pointermove",c),s.removeEventListener("pointerleave",c)}}}K$e.props={reapplyWhenUpdate:!0};var Q$e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const J$e="tooltipLocked";function eIe(e,t){var n;if(t)return"string"==typeof t?document.querySelector(t):t;const r=null===(n=e.ownerDocument)||void 0===n?void 0:n.defaultView;if(!r)return;return r.getContextService().getDomElement().parentElement}function tIe(e,t,n,r,o,i,a,l={},s=[10,10]){const c=new Tue({className:"tooltip",style:{x:t,y:n,container:a,data:[],bounding:i,position:r,enterable:o,title:"",offset:s,template:{prefixCls:"g2-"},style:kz({".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},l)}});return e.appendChild(c.HTMLTooltipElement),c}function nIe({root:e,data:t,x:n,y:r,render:o,event:i,single:a,position:l="right-bottom",enterable:s=!1,css:c,mount:u,bounding:d,offset:f}){const h=eIe(e,u),p=eIe(e),g=a?p:e,m=d||function(e){const t=e.getRenderBounds(),{min:[n,r],max:[o,i]}=t;return{x:n,y:r,width:o-n,height:i-r}}(e),v=function(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:n.x-r.x,y:n.y-r.y}}(p,h),{tooltipElement:y=tIe(h,n,r,l,s,m,v,c,f)}=g,{items:b,title:x=""}=t;y.update(Object.assign({x:n,y:r,data:b.map(e=>Object.assign(Object.assign({},e),{value:e.value||0===e.value?e.value:""})),title:x,position:l,enterable:s,container:v},void 0!==o&&{content:o(i,{items:b,title:x})})),g.tooltipElement=y}function rIe({root:e,single:t,emitter:n,nativeEvent:r=!0,event:o=null}){r&&n.emit("tooltip:hide",{nativeEvent:r});const i=eIe(e),a=t?i:e,{tooltipElement:l}=a;l&&l.hide(null==o?void 0:o.clientX,null==o?void 0:o.clientY),fIe(e),hIe(e),pIe(e)}function oIe({root:e,single:t}){const n=eIe(e),r=t?n:e;if(!r)return;const{tooltipElement:o}=r;o&&(o.destroy(),r.tooltipElement=void 0),fIe(e),hIe(e),pIe(e)}function iIe(e){const{value:t}=e;return Object.assign(Object.assign({},e),{value:void 0===t?"undefined":t})}function aIe(e){const{__data__:t}=e;if(Lte(e))return function(e){var t,n,r,o,i,a,l;const{__data__:s}=e,{title:c,items:u=[]}=s;if(u.some(e=>cMe in e)){const t=u.filter(zte).map(t=>{var{color:n=lIe(e)}=t,r=Q$e(t,["color"]);return Object.assign(Object.assign({},r),{color:n})}).map(iIe);return Object.assign(Object.assign({},c&&{title:c}),{items:t})}const d=null!==(n=null===(t=null==s?void 0:s.normalized)||void 0===t?void 0:t.x)&&void 0!==n?n:0,f=null===(r=e.parentNode)||void 0===r?void 0:r.__data__,h=null!==(o=null==f?void 0:f.encode)&&void 0!==o?o:{},{x:p={},y:g={},color:m={}}=h,{value:v=[]}=p,{value:y=[]}=g,{value:b=[]}=m,x=Math.min(Math.round(v.length*d),v.length-1);return{title:`${v[x]}, ${y[x]}`,items:[{name:null!==(i=m.field)&&void 0!==i?i:"value",value:b[x],color:(null===(a=e.style)||void 0===a?void 0:a.fill)||(null===(l=e.getAttribute)||void 0===l?void 0:l.call(e,"color"))||"#000"}]}}(e);const{title:n,items:r=[]}=t,o=r.filter(zte).map(t=>{var{color:n=lIe(e)}=t,r=Q$e(t,["color"]);return Object.assign(Object.assign({},r),{color:n})}).map(iIe);return Object.assign(Object.assign({},n&&{title:n}),{items:o})}function lIe(e){const t=e.getAttribute("fill"),n=e.getAttribute("stroke"),{__data__:r}=e,{color:o=(t&&"transparent"!==t?t:n)}=r;return o}function sIe(e,t=e=>e){const n=new Map(e.map(e=>[t(e),e]));return Array.from(n.values())}function cIe(e,t,n,r=e.map(e=>e.__data__),o={}){const i=e=>e instanceof Date?+e:e,a=sIe(r.map(e=>e.title),i).filter(zte),l=r.flatMap((r,i)=>{const a=r.element||e[i],{items:l=[],title:s}=r,c=l.filter(zte),u=void 0!==n?n:l.length<=1;return c.map(e=>{var{color:n=lIe(a)||o.color,name:i}=e,l=Q$e(e,["color","name"]);const c=_te(t,r),d=u&&!(cMe in l)?c||i:i||c;return Object.assign(Object.assign({},l),{color:n,name:d||s})})}).map(iIe);return Object.assign(Object.assign({},a.length>0&&{title:a.join(",")}),{items:sIe(l,e=>`(${i(e.name)}, ${i(e.value)}, ${i(e.color)})`)})}function uIe(e,t,n,r){var{plotWidth:o,plotHeight:i,mainWidth:a,mainHeight:l,startX:s,startY:c,transposed:u,polar:d,insetLeft:f,insetTop:h}=r,p=Q$e(r,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const g=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},p),m=((e,t)=>{if(1===t.length)return t[0];const n=t.map(t=>gre(t,e));return t[l9(n,e=>e)]})(n,t);if(d){const[t,n,r]=(()=>{const e=s+f+a/2,t=c+h+l/2;return[e,t,gre([e,t],m)]})(),o=e.ruleX||((t,n,r)=>{const o=new BX({style:Object.assign({cx:t,cy:n,r:r},g)});return e.appendChild(o),o})(t,n,r);o.style.cx=t,o.style.cy=n,o.style.r=r,e.ruleX=o}else{const[t,n,r,a]=u?[s+m[0],s+m[0],c,c+i]:[s,s+o,m[1]+c,m[1]+c],l=e.ruleX||((t,n,r,o)=>{const i=new XX({style:Object.assign({x1:t,x2:n,y1:r,y2:o},g)});return e.appendChild(i),i})(t,n,r,a);l.style.x1=t,l.style.x2=n,l.style.y1=r,l.style.y2=a,e.ruleX=l}}function dIe(e,t,n){var{plotWidth:r,plotHeight:o,mainWidth:i,mainHeight:a,startX:l,startY:s,transposed:c,polar:u,insetLeft:d,insetTop:f}=n,h=Q$e(n,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const p=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},h),g=t.map(e=>e[1]),m=t.map(e=>e[0]),v=f9(g),y=f9(m),[b,x,w,C]=(()=>{if(u){const e=Math.min(i,a)/2,t=l+d+i/2,n=s+f+a/2,r=mre(hre([y,v],[t,n]));return[t,t+e*Math.cos(r),n,n+e*Math.sin(r)]}return c?[l,l+r,v+s,v+s]:[y+l,y+l,s,s+o]})();if(m.length>0){const t=e.ruleY||(()=>{const t=new XX({style:Object.assign({x1:b,x2:x,y1:w,y2:C},p)});return e.appendChild(t),t})();t.style.x1=b,t.style.x2=x,t.style.y1=w,t.style.y2=C,e.ruleY=t}}function fIe(e){e.ruleY&&(e.ruleY.remove(),e.ruleY=void 0)}function hIe(e){e.ruleX&&(e.ruleX.remove(),e.ruleX=void 0)}function pIe(e){e.markers&&(e.markers.forEach(e=>e.remove()),e.markers=[])}function gIe(e,t){return Array.from(e.values()).some(e=>{var n;return null===(n=e.interaction)||void 0===n?void 0:n[t]})}function mIe(e,t){return void 0===e?t:e}function vIe(e){const{title:t,items:n}=e;return 0===n.length&&void 0===t}function yIe({root:e,event:t,elements:n=[],coordinate:r,scale:o,shared:i}){var a,l;const s=n.every(e=>"interval"===e.markType)&&!Doe(r),c=o.x,u=function(e){const{x:t}=e;if(!t||!t.valueBandWidth)return!0;const{valueBandWidth:n}=t;return!!uz(n)||1===new Set(n.values()).size}(o),d=o.series,f=null!==(l=null===(a=null==c?void 0:c.getBandWidth)||void 0===a?void 0:a.call(c))&&void 0!==l?l:0,h=d&&d.valueBandWidth?e=>{const t=Math.round(1/d.valueBandWidth);return e.__data__.x+e.__data__.series*f+f/(2*t)}:e=>e.__data__.x+f/2;s&&n.sort((e,t)=>h(e)-h(t));const p=e=>{const{target:t=sz(n)}=e;return A$e(t,t=>!!t.classList&&(Lte(t)&&Nz(t,"__data__.normalized",function(e,t){const{innerWidth:n,innerHeight:r,marginLeft:o,paddingLeft:i,insetLeft:a,marginTop:l,paddingTop:s,insetTop:c}=e.getOptions();return{x:(t.x-o-i-a)/n,y:(t.y-l-s-c)/r}}(r,{x:e.offsetX,y:e.offsetY})),t.classList.includes("element")))},g=s?t=>{const o=h$e(e,t);if(!o)return;const[a]=r.invert(o),l=k7(h).center,s=u?l(n,a):function(e,t){const{adjustedRange:n,valueBandWidth:r,valueStep:o}=e,i=Array.from(r.values()),a=Array.from(o.values()),l=n.map((e,t)=>{const n=(a[t]-i[t])/2;return[e-n,e+i[t]+n]}).findIndex(([e,n])=>e<=t&&t<=n);return-1!==l?l:t>.5?n.length-1:0}(c,a),d=n[s];if(!i){const e=n.find(e=>e!==d&&h(e)===h(d));if(e)return p(t)||e}return d}:p;return g(t)}function bIe(e,t){var{elements:n,sort:r,filter:o,scale:i,coordinate:a,crosshairs:l,crosshairsX:s,crosshairsY:c,render:u,groupName:d,emitter:f,wait:h=50,leading:p=!0,trailing:g=!1,startX:m=0,startY:v=0,body:y=!0,single:b=!0,position:x,enterable:w,mount:C,bounding:S,theme:E,offset:O,disableNative:k=!1,marker:M=!0,preserve:$=!1,style:I={},css:N={},clickLock:T=!1}=t,L=Q$e(t,["elements","sort","filter","scale","coordinate","crosshairs","crosshairsX","crosshairsY","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","offset","disableNative","marker","preserve","style","css","clickLock"]);const R=n(e),_=kz(I,L),A=Doe(a),P=Boe(a),{innerWidth:j,innerHeight:B,width:D,height:z,insetLeft:H,insetTop:F}=a.getOptions(),W=Rz(t=>{var n;if(T&&e.getAttribute(J$e))return;const h=h$e(e,t);if(!h)return;const p=f$e(e),g=p.min[0],k=p.min[1],{selectedElements:$,selectedData:I,filteredSeriesData:L,abstractX:W}=function({root:e,event:t,elements:n,coordinate:r,scale:o,startX:i,startY:a}){const l=Boe(r),s=[],c=[];for(const N of n){const{__data__:e}=N,{seriesX:t,title:n,items:r}=e;t?s.push(N):(n||r)&&c.push(N)}const u=c.length&&c.every(e=>"interval"===e.markType)&&!Doe(r),d=e=>e.__data__.x,f=!!o.x.getBandWidth&&c.length>0;s.sort((e,t)=>{const n=l?0:1,r=e=>e.getBounds().min[n];return l?r(t)-r(e):r(e)-r(t)});const h=e=>{const t=l?1:0,{min:n,max:r}=e.getLocalBounds();return q7([n[t],r[t]])};u?n.sort((e,t)=>d(e)-d(t)):c.sort((e,t)=>{const[n,r]=h(e),[o,i]=h(t),a=(n+r)/2,s=(o+i)/2;return l?s-a:a-s});const p=new Map(s.map(e=>{const{__data__:t}=e,{seriesX:n}=t;return[e,[q7(n.map((e,t)=>t),e=>n[+e]),n]]})),{x:g}=o,m=(null==g?void 0:g.getBandWidth)?g.getBandWidth()/2:0,v=e=>{const[t]=r.invert(e);return t-m},y=(e,t,n,r)=>{const{_x:o}=e,i=void 0!==o?g.map(o):v(t),a=r.filter(zte),[l,s]=q7([a[0],a[a.length-1]]);return!f&&(i<l||i>s)&&l!==s?null:n[(0,k7(e=>r[+e]).center)(n,i)]},b=u?(e,t)=>{const n=t[(0,k7(d).center)(t,v(e))];return H7(t,d).get(d(n))}:(e,t)=>{const n=e[l?1:0],r=t.filter(e=>{const[t,r]=h(e);return n>=t&&n<=r});return!f||r.length>0?r:[t[(0,k7(e=>{const[t,n]=h(e);return(t+n)/2}).center)(t,n)]].filter(zte)},x=(e,t)=>{const{__data__:n}=e;return Object.fromEntries(Object.entries(n).filter(([e])=>e.startsWith("series")&&"series"!==e).map(([e,n])=>{const r=n[t];return[mz(e.replace("series","")),r]}))},w=h$e(e,t);if(!w)return;const C=[w[0]-i,w[1]-a];if(!C)return;const S=b(C,c),E=[],O=[];for(const N of s){const[e,n]=p.get(N),o=y(t,C,e,n);if(null!==o){E.push(N);const e=x(N,o),{x:t,y:n}=e,i=r.map([(t||0)+m,n||0]);O.push([Object.assign(Object.assign({},e),{element:N}),i])}}const k=Array.from(new Set(O.map(e=>e[0].x))),M=k[l9(k,e=>Math.abs(e-v(C)))],$=O.filter(e=>e[0].x===M),I=[...$.map(e=>e[0]),...S.map(e=>e.__data__)];return{selectedElements:[...E,...S],selectedData:I,filteredSeriesData:$,abstractX:v}}({root:e,event:t,elements:R,coordinate:a,scale:i,startX:m,startY:v}),V=cIe($,i,d,I,E);if(r&&V.items.sort((e,t)=>r(e)-r(t)),o&&(V.items=V.items.filter(o)),0===$.length||vIe(V))return void G(t);if(y&&nIe({root:e,data:V,x:h[0]+g,y:h[1]+k,render:u,event:t,single:b,position:x,enterable:w,mount:C,bounding:S,css:N,offset:O}),l||s||c){const t=Fte(_,"crosshairs"),n=Object.assign(Object.assign({},t),Fte(_,"crosshairsX")),r=Object.assign(Object.assign({},t),Fte(_,"crosshairsY")),o=L.map(e=>e[1]);s&&uIe(e,o,h,Object.assign(Object.assign({},n),{plotWidth:j,plotHeight:B,mainWidth:D,mainHeight:z,insetLeft:H,insetTop:F,startX:m,startY:v,transposed:P,polar:A})),c&&dIe(e,o,Object.assign(Object.assign({},r),{plotWidth:j,plotHeight:B,mainWidth:D,mainHeight:z,insetLeft:H,insetTop:F,startX:m,startY:v,transposed:P,polar:A}))}if(M){const t=Fte(_,"marker");!function(e,{data:t,style:n,theme:r}){e.markers&&e.markers.forEach(e=>e.remove());const{type:o=""}=n,i=t.filter(e=>{const[{x:t,y:n}]=e;return zte(t)&&zte(n)}).map(e=>{const[{color:t,element:i},a]=e,l=t||i.style.fill||i.style.stroke||r.color,s="hollow"===o?"transparent":l,c="hollow"===o?l:"#fff";return new BX({className:"g2-tooltip-marker",style:Object.assign({cx:a[0],cy:a[1],fill:s,r:4,stroke:c,lineWidth:2,pointerEvents:"none"},n)})});for(const a of i)e.appendChild(a);e.markers=i}(e,{data:L,style:t,theme:E})}const q=null===(n=L[0])||void 0===n?void 0:n[0].x,X=null!=q?q:W(focus);f.emit("tooltip:show",Object.assign(Object.assign({},t),{nativeEvent:!0,data:Object.assign(Object.assign({},V),{data:{x:Xve(i.x,X,!0)}})}))},h,{leading:p,trailing:g}),G=t=>{T&&e.getAttribute(J$e)||rIe({root:e,single:b,emitter:f,event:t})},V=()=>{oIe({root:e,single:b})},q=t=>{var n,{nativeEvent:r,data:o,offsetX:l,offsetY:s}=t,c=Q$e(t,["nativeEvent","data","offsetX","offsetY"]);if(r)return;const u=null===(n=null==o?void 0:o.data)||void 0===n?void 0:n.x,d=i.x.map(u),[f,h]=a.map([d,.5]),p=e.getRenderBounds(),g=p.min[0],m=p.min[1];W(Object.assign(Object.assign({},c),{offsetX:void 0!==l?l:g+f,offsetY:void 0!==s?s:m+h,_x:u}))},X=()=>{rIe({root:e,single:b,emitter:f,nativeEvent:!1})},U=()=>{J(),V()},Y=t=>{h$e(e,t)||G(t)},K=()=>{Q()},Z=t=>{T&&e.setAttribute(J$e,!e.getAttribute(J$e)),W(t)},Q=()=>{k||(e.addEventListener("pointerdown",Z),e.addEventListener("pointerenter",W),e.addEventListener("pointermove",W),e.addEventListener("pointerleave",Y),e.addEventListener("pointerup",G))},J=()=>{k||(e.removeEventListener("pointerdown",Z),e.removeEventListener("pointerenter",W),e.removeEventListener("pointermove",W),e.removeEventListener("pointerleave",Y),e.removeEventListener("pointerup",G))};return Q(),f.on("tooltip:show",q),f.on("tooltip:hide",X),f.on("tooltip:disable",U),f.on("tooltip:enable",K),()=>{J(),f.off("tooltip:show",q),f.off("tooltip:hide",X),f.off("tooltip:disable",U),f.off("tooltip:enable",K),$?rIe({root:e,single:b,emitter:f,nativeEvent:!1}):V()}}function xIe(e){const{shared:t,crosshairs:n,crosshairsX:r,crosshairsY:o,series:i,name:a,item:l=()=>({}),facet:s=!1}=e,c=Q$e(e,["shared","crosshairs","crosshairsX","crosshairsY","series","name","item","facet"]);return(e,a,u)=>{const{container:d,view:f}=e,{scale:h,markState:p,coordinate:g,theme:m}=f,v=gIe(p,"seriesTooltip"),y=gIe(p,"crosshairs"),b=d$e(d),x=mIe(i,v),w=mIe(n,y);if(c.clickLock&&!s&&b.setAttribute(J$e,!1),x&&function(e){return Array.from(e.values()).some(e=>{var t;return(null===(t=e.interaction)||void 0===t?void 0:t.seriesTooltip)&&e.tooltip})}(p)&&!s)return bIe(b,Object.assign(Object.assign({},c),{theme:m,elements:s$e,scale:h,coordinate:g,crosshairs:w,crosshairsX:mIe(mIe(r,n),!1),crosshairsY:mIe(o,w),item:l,emitter:u}));if(x&&s){const t=a.filter(t=>t!==e&&t.options.parentKey===e.options.key),i=c$e(e,a),s=t[0].view.scale,d=b.getBounds(),f=d.min[0],h=d.min[1];Object.assign(s,{facet:!0});const p=b.parentNode.parentNode;return c.clickLock&&p.setAttribute(J$e,!1),bIe(p,Object.assign(Object.assign({},c),{theme:m,elements:()=>i,scale:s,coordinate:g,crosshairs:mIe(n,y),crosshairsX:mIe(mIe(r,n),!1),crosshairsY:mIe(o,w),item:l,startX:f,startY:h,emitter:u}))}return function(e,{elements:t,coordinate:n,scale:r,render:o,groupName:i,sort:a,filter:l,emitter:s,wait:c=50,leading:u=!0,trailing:d=!1,groupKey:f=e=>e,single:h=!0,position:p,enterable:g,datum:m,view:v,mount:y,bounding:b,theme:x,offset:w,shared:C=!1,body:S=!0,disableNative:E=!1,preserve:O=!1,css:k={},clickLock:M=!1}){const $=t(e),I=H7($,f),N=Rz(t=>{if(M&&e.getAttribute(J$e))return;const c=yIe({root:e,event:t,elements:$,coordinate:n,scale:r,shared:C});if(!c)return void rIe({root:e,single:h,emitter:s,event:t});const u=f(c),d=I.get(u);if(!d)return;const m=1!==d.length||C?cIe(d,r,i,void 0,x):aIe(d[0]);if(a&&m.items.sort((e,t)=>a(e)-a(t)),l&&(m.items=m.items.filter(l)),vIe(m))return void rIe({root:e,single:h,emitter:s,event:t});const{offsetX:E,offsetY:O}=t;S&&nIe({root:e,data:m,x:E,y:O,render:o,event:t,single:h,position:p,enterable:g,mount:y,bounding:b,css:k,offset:w}),s.emit("tooltip:show",Object.assign(Object.assign({},t),{nativeEvent:!0,data:Object.assign(Object.assign({},m),{data:Rte(c,v)})}))},c,{leading:u,trailing:d}),T=t=>{rIe({root:e,single:h,emitter:s,event:t})},L=t=>{M&&e.setAttribute(J$e,!e.getAttribute(J$e)),N(t)},R=()=>{E||(e.addEventListener("pointerdown",L),e.addEventListener("pointermove",N),e.addEventListener("pointerleave",T),e.addEventListener("pointerup",T))},_=()=>{E||(e.removeEventListener("pointerdown",L),e.removeEventListener("pointermove",N),e.removeEventListener("pointerleave",T),e.removeEventListener("pointerup",T))},A=({nativeEvent:t,offsetX:n,offsetY:r,data:o})=>{if(t)return;const{data:i}=o,a=T$e($,i,m);if(!a)return;const l=a.getBBox(),{x:s,y:c,width:u,height:d}=l,f=e.getBBox();N({target:a,offsetX:void 0!==n?n+f.x:s+u/2,offsetY:void 0!==r?r+f.y:c+d/2})},P=({nativeEvent:t}={})=>{t||rIe({root:e,single:h,emitter:s,nativeEvent:!1})},j=()=>{_(),oIe({root:e,single:h})},B=()=>{R()};return s.on("tooltip:show",A),s.on("tooltip:hide",P),s.on("tooltip:enable",B),s.on("tooltip:disable",j),R(),()=>{_(),s.off("tooltip:show",A),s.off("tooltip:hide",P),s.off("tooltip:enable",B),s.off("tooltip:disable",j),O?rIe({root:e,single:h,emitter:s,nativeEvent:!1}):oIe({root:e,single:h})}}(b,Object.assign(Object.assign({},c),{datum:v$e(f),elements:s$e,scale:h,coordinate:g,groupKey:t?e=>e.__data__.x:void 0,item:l,emitter:u,view:f,theme:m,shared:t}))}}xIe.props={reapplyWhenUpdate:!0};var wIe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const CIe="legend-category";function SIe(e){return e.getElementsByClassName("legend-category-item-marker")[0]}function EIe(e){return e.getElementsByClassName("legend-category-item-label")[0]}function OIe(e){return e.getElementsByClassName("legend-category-item-focus-group")[0]}function kIe(e){return e.getElementsByClassName("items-item")}function MIe(e){return e.getElementsByClassName(CIe)}function $Ie(e){return e.getElementsByClassName("legend-continuous")}function IIe(e){let t=e.parentNode;for(;t&&!t.__data__;)t=t.parentNode;return t.__data__}function NIe(e,{legend:t,channel:n,value:r,ordinal:o,channels:i,allChannels:a,facet:l=!1}){return wIe(this,void 0,void 0,function*(){const{view:s,update:c,setState:u}=e;u(t,e=>{const{marks:t}=e,c=t.map(e=>{if("legends"===e.type)return e;if(tbe.includes(e.type))return e;const{transform:t=[],data:c=[]}=e,u=t.findIndex(({type:e})=>e.startsWith("group")||e.startsWith("bin")),d=[...t];c.length&&d.splice(u+1,0,{type:"filter",[n]:{value:r,ordinal:o}});const f=Object.fromEntries(i.map(e=>[e,{domain:s.scale[e].getOptions().domain}]));return kz({},e,Object.assign(Object.assign({transform:d,scale:f},!o&&{animate:!1}),{legend:!l&&Object.fromEntries(a.map(e=>[e,{preserve:!0}]))}))});return Object.assign(Object.assign({},e),{marks:c})}),yield c()})}function TIe(e,t){for(const n of e)NIe(n,Object.assign(Object.assign({},t),{facet:!0}))}function LIe(){return(e,t,n)=>{const{container:r}=e,o=t.filter(t=>t!==e),i=o.length>0,a=e=>IIe(e).scales.map(e=>e.name),l=[...MIe(r),...$Ie(r)],s=l.flatMap(a),c=Rz(i?TIe:NIe,50,{trailing:!0}),u=l.map(t=>{const{name:l,domain:u}=IIe(t).scales[0],d={legend:t,channel:l,channels:a(t),allChannels:s};return t.className===CIe?function(e,{legends:t,marker:n,label:r,datum:o,filter:i,defaultSelect:a,emitter:l,channel:s,state:c={}}){const u=new Map,d=new Map,f=new Map,h=new Map,{unselected:p={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=c,g={unselected:Fte(p,"marker")},m={unselected:Fte(p,"label")},{setState:v,removeState:y}=C$e(g,void 0),{setState:b,removeState:x}=C$e(m,void 0),w=Array.from(t(e));let C=w.map(o);const S=()=>{for(const e of w){const t=o(e),i=n(e),a=r(e);C.includes(t)?(y(i,"unselected"),x(a,"unselected")):(v(i,"unselected"),b(a,"unselected"))}};for(const M of w){const t=()=>{I$e(e,"pointer")},n=()=>{N$e(e)},r=e=>wIe(this,void 0,void 0,function*(){const t=o(M),n=C.indexOf(t);-1===n?C.push(t):C.splice(n,1),yield i(C),S();const{nativeEvent:r=!0}=e;r&&(C.length===w.length?l.emit("legend:reset",{nativeEvent:r}):l.emit("legend:filter",Object.assign(Object.assign({},e),{nativeEvent:r,data:{channel:s,values:C}})))});M.addEventListener("click",r),M.addEventListener("pointerenter",t),M.addEventListener("pointerout",n),u.set(M,r),d.set(M,t),f.set(M,n);const a=OIe(M);if(a){const e=e=>wIe(this,void 0,void 0,function*(){e.stopPropagation();const t=o(M),n=C.indexOf(t),{nativeEvent:r=!0}=e;if(-1!==n&&1===C.length){if(!r)return;C=w.map(o),yield i(C),S(),l.emit("legend:reset",{nativeEvent:r})}else{if(C=[t],yield i(C),S(),!r)return;l.emit("legend:focus",Object.assign(Object.assign({},e),{nativeEvent:r,data:{channel:s,value:t}}))}});a.addEventListener("click",e),h.set(M,e)}}const E=e=>wIe(this,void 0,void 0,function*(){const{nativeEvent:t}=e;if(t)return;const{data:n}=e,{channel:r,value:o}=n;r===s&&(C=[o],yield i(C),S())}),O=e=>wIe(this,void 0,void 0,function*(){const{nativeEvent:t}=e;if(t)return;const{data:n}=e,{channel:r,values:o}=n;r===s&&(C=o,yield i(C),S())}),k=e=>wIe(this,void 0,void 0,function*(){const{nativeEvent:t}=e;t||(C=w.map(o),yield i(C),S())});return l.on("legend:filter",O),l.on("legend:focus",E),l.on("legend:reset",k),a&&l.emit("legend:filter",{data:{channel:s,values:a}}),()=>{for(const e of w){e.removeEventListener("click",u.get(e)),e.removeEventListener("pointerenter",d.get(e)),e.removeEventListener("pointerout",f.get(e));const t=OIe(e);t&&t.removeEventListener("click",h.get(e)),l.on("legend:focus",E),l.off("legend:filter",O),l.off("legend:reset",k)}}}(r,{legends:kIe,marker:SIe,label:EIe,datum:e=>{const{__data__:t}=e,{index:n}=t;return u[n]},filter:t=>{const n=Object.assign(Object.assign({},d),{value:t,ordinal:!0});c(i?o:e,n)},state:t.attributes.state,defaultSelect:t.attributes.defaultSelect,channel:l,emitter:n}):function(e,{legend:t,filter:n,emitter:r,channel:o}){const i=({detail:{value:e}})=>{n(e),r.emit({nativeEvent:!0,data:{channel:o,values:e}})};return t.addEventListener("valuechange",i),()=>{t.removeEventListener("valuechange",i)}}(0,{legend:t,filter:t=>{const n=Object.assign(Object.assign({},d),{value:t,ordinal:!1});c(i?o:e,n)},emitter:n,channel:l})});return()=>{u.forEach(e=>e())}}}function RIe(){return(e,t,n)=>{const{container:r,view:o,options:i}=e,a=MIe(r),l=s$e(r),s=e=>IIe(e).scales[0].name,c=e=>{const{scale:{[e]:t}}=o;return t},u=E$e(i,["active","inactive"]),d=O$e(l,v$e(o)),f=[];for(const h of a){const e=e=>{const{data:t}=h.attributes,{__data__:n}=e,{index:r}=n;return t[r].label},t=s(h),r=kIe(h),o=c(t),i=H7(l,e=>o.invert(e.__data__[t])),{state:a={}}=h.attributes,{inactive:p={}}=a,{setState:g,removeState:m}=C$e(u,d),v={inactive:Fte(p,"marker")},y={inactive:Fte(p,"label")},{setState:b,removeState:x}=C$e(v),{setState:w,removeState:C}=C$e(y),S=e=>{for(const t of r){const n=SIe(t),r=EIe(t);t===e||null===e?(x(n,"inactive"),C(r,"inactive")):(b(n,"inactive"),w(r,"inactive"))}},E=(r,o)=>{const a=e(o),s=new Set(i.get(a));for(const e of l)s.has(e)?g(e,"active"):g(e,"inactive");S(o);const{nativeEvent:c=!0}=r;c&&n.emit("legend:highlight",Object.assign(Object.assign({},r),{nativeEvent:c,data:{channel:t,value:a}}))},O=new Map;for(const n of r){const e=e=>{E(e,n)};n.addEventListener("pointerover",e),O.set(n,e)}const k=e=>{for(const n of l)m(n,"inactive","active");S(null);const{nativeEvent:t=!0}=e;t&&n.emit("legend:unhighlight",{nativeEvent:t})},M=n=>{const{nativeEvent:o,data:i}=n;if(o)return;const{channel:a,value:l}=i;if(a!==t)return;const s=r.find(t=>e(t)===l);s&&E({nativeEvent:!1},s)},$=e=>{const{nativeEvent:t}=e;t||k({nativeEvent:!1})};h.addEventListener("pointerleave",k),n.on("legend:highlight",M),n.on("legend:unhighlight",$);const I=()=>{h.removeEventListener(k),n.off("legend:highlight",M),n.off("legend:unhighlight",$);for(const[e,t]of O)e.removeEventListener(t)};f.push(I)}return()=>f.forEach(e=>e())}}var _Ie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function AIe(e,t){const[n,r,o,i]=e,[a,l,s,c]=t;return!(a>o||s<n||l>i||c<r)}function PIe(e){const{width:t,height:n}=e.getBBox();return[0,0,t,n]}function jIe(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}const BIe=gie(e=>{const t=e.attributes,{x:n,y:r,width:o,height:i,class:a,renders:l={},handleSize:s=10,document:c}=t,u=_Ie(t,["x","y","width","height","class","renders","handleSize","document"]);if(!c||void 0===o||void 0===i||void 0===n||void 0===r)return;const d=s/2,f=(e,t,n)=>{e.handle||(e.handle=n.createElement("rect"),e.append(e.handle));const{handle:r}=e;return r.attr(t),r},h=Fte(Gte(u,"handleNW","handleNE"),"handleN"),{render:p=f}=h,g=_Ie(h,["render"]),m=Fte(u,"handleE"),{render:v=f}=m,y=_Ie(m,["render"]),b=Fte(Gte(u,"handleSE","handleSW"),"handleS"),{render:x=f}=b,w=_Ie(b,["render"]),C=Fte(u,"handleW"),{render:S=f}=C,E=_Ie(C,["render"]),O=Fte(u,"handleNW"),{render:k=f}=O,M=_Ie(O,["render"]),$=Fte(u,"handleNE"),{render:I=f}=$,N=_Ie($,["render"]),T=Fte(u,"handleSE"),{render:L=f}=T,R=_Ie(T,["render"]),_=Fte(u,"handleSW"),{render:A=f}=_,P=_Ie(_,["render"]),j=e=>()=>new(gie(t=>((e,t)=>{const{id:n}=e,r=t(e,e.attributes,c);r.id=n,r.style.draggable=!0})(t,e)))({}),B=Xoe(e).attr("className",a).style("transform",`translate(${n}, ${r})`).style("draggable",!0);B.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(jIe,Object.assign(Object.assign({width:o,height:i},Gte(u,"handle")),{transform:void 0})),B.maybeAppend("handle-n",j(p)).style("x",d).style("y",-d).style("width",o-s).style("height",s).style("fill","transparent").call(jIe,g),B.maybeAppend("handle-e",j(v)).style("x",o-d).style("y",d).style("width",s).style("height",i-s).style("fill","transparent").call(jIe,y),B.maybeAppend("handle-s",j(x)).style("x",d).style("y",i-d).style("width",o-s).style("height",s).style("fill","transparent").call(jIe,w),B.maybeAppend("handle-w",j(S)).style("x",-d).style("y",d).style("width",s).style("height",i-s).style("fill","transparent").call(jIe,E),B.maybeAppend("handle-nw",j(k)).style("x",-d).style("y",-d).style("width",s).style("height",s).style("fill","transparent").call(jIe,M),B.maybeAppend("handle-ne",j(I)).style("x",o-d).style("y",-d).style("width",s).style("height",s).style("fill","transparent").call(jIe,N),B.maybeAppend("handle-se",j(L)).style("x",o-d).style("y",i-d).style("width",s).style("height",s).style("fill","transparent").call(jIe,R),B.maybeAppend("handle-sw",j(A)).style("x",-d).style("y",i-d).style("width",s).style("height",s).style("fill","transparent").call(jIe,P)});function DIe(e,t){var{brushed:n=()=>{},brushended:r=()=>{},brushcreated:o=()=>{},brushstarted:i=()=>{},brushupdated:a=()=>{},extent:l=PIe(e),brushRegion:s=(e,t,n,r,o)=>[e,t,n,r],reverse:c=!1,fill:u="#777",fillOpacity:d="0.3",stroke:f="#fff",selectedHandles:h=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=t,p=_Ie(t,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let g=null,m=null,v=null,y=null,b=null,x=!1;const[w,C,S,E]=l;I$e(e,"crosshair"),e.style.draggable=!0;const O=(e,t,n)=>{if(i(n),y&&y.remove(),b&&b.remove(),g=[e,t],c)return k();M()},k=()=>{b=new YX({style:Object.assign(Object.assign({},p),{fill:u,fillOpacity:d,stroke:f,pointerEvents:"none"})}),y=new BIe({style:{x:0,y:0,width:0,height:0,draggable:!0,document:e.ownerDocument},className:"mask"}),e.appendChild(b),e.appendChild(y)},M=()=>{y=new BIe({style:Object.assign(Object.assign({document:e.ownerDocument,x:0,y:0},p),{fill:u,fillOpacity:d,stroke:f,draggable:!0}),className:"mask"}),e.appendChild(y)},$=(e=!0)=>{y&&y.remove(),b&&b.remove(),g=null,m=null,v=null,x=!1,y=null,b=null,r(e)},I=(e,t,r=!0)=>{const[o,i,a,u]=function(e,t,n,r,o){const[i,a,l,s]=o;return[Math.max(i,Math.min(e,n)),Math.max(a,Math.min(t,r)),Math.min(l,Math.max(e,n)),Math.min(s,Math.max(t,r))]}(e[0],e[1],t[0],t[1],l),[d,f,h,p]=s(o,i,a,u,l);return c?T(d,f,h,p):N(d,f,h,p),n(d,f,h,p,r),[d,f,h,p]},N=(e,t,n,r)=>{y.style.x=e,y.style.y=t,y.style.width=n-e,y.style.height=r-t},T=(e,t,n,r)=>{b.style.d=`\n      M${w},${C}L${S},${C}L${S},${E}L${w},${E}Z\n      M${e},${t}L${e},${r}L${n},${r}L${n},${t}Z\n    `,y.style.x=e,y.style.y=t,y.style.width=n-e,y.style.height=r-t},L={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},R=e=>A(e)||_(e),_=e=>{const{id:t}=e;return-1!==h.indexOf(t)&&new Set(Object.keys(L)).has(t)},A=e=>e===y.getElementById("selection"),P=t=>{const{target:n}=t,[r,o]=p$e(e,t);if(!y||!R(n))return O(r,o,t),void(x=!0);R(n)&&(v=[r,o])},j=t=>{const{target:n}=t,r=p$e(e,t);if(!g)return;if(!v)return I(g,r);if(A(n))return(e=>{const t=(e,t,n,r,o)=>e+t<r?r-t:e+n>o?o-n:e,n=e[0]-v[0],r=e[1]-v[1],o=t(n,g[0],m[0],w,S),i=t(r,g[1],m[1],C,E),a=[g[0]+o,g[1]+i],l=[m[0]+o,m[1]+i];I(a,l)})(r);const[o,i]=[r[0]-v[0],r[1]-v[1]],{id:a}=n;if(L[a]){const[e,t,n,r]=L[a].vector;return I([g[0]+o*e,g[1]+i*t],[m[0]+o*n,m[1]+i*r])}},B=t=>{if(v){v=null;const{x:e,y:n,width:r,height:o}=y.style;return g=[e,n],m=[e+r,n+o],void a(e,n,e+r,n+o,t)}m=p$e(e,t);const[n,r,i,l]=I(g,m);x=!1,o(n,r,i,l,t)},D=e=>{const{target:t}=e;y&&!R(t)&&$()},z=t=>{const{target:n}=t;y&&R(n)&&!x?A(n)?I$e(e,"move"):_(n)&&I$e(e,L[n.id].cursor):I$e(e,"crosshair")},H=()=>{I$e(e,"default")};return e.addEventListener("dragstart",P),e.addEventListener("drag",j),e.addEventListener("dragend",B),e.addEventListener("click",D),e.addEventListener("pointermove",z),e.addEventListener("pointerleave",H),{mask:y,move(e,t,n,r,o=!0){y||O(e,t,{}),g=[e,t],m=[n,r],I([e,t],[n,r],o)},remove(e=!0){y&&$(e)},destroy(){y&&$(!1),I$e(e,"default"),e.removeEventListener("dragstart",P),e.removeEventListener("drag",j),e.removeEventListener("dragend",B),e.removeEventListener("click",D),e.removeEventListener("pointermove",z),e.removeEventListener("pointerleave",H)}}}function zIe(e,t,n){return t.filter(t=>{if(t===e)return!1;const{interaction:r={}}=t.options;return Object.values(r).find(e=>e.brushKey===n)})}function HIe(e,t,n){return zIe(e,t,n).map(e=>e.options)}function FIe(e,t){var{elements:n,selectedHandles:r,siblings:o=e=>[],datum:i,brushRegion:a,extent:l,reverse:s,scale:c,coordinate:u,series:d=!1,key:f=e=>e,bboxOf:h=e=>{const{x:t,y:n,width:r,height:o}=e.style;return{x:t,y:n,width:r,height:o}},state:p={},emitter:g}=t,m=_Ie(t,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const v=n(e),y=o(e),b=y.flatMap(n),x=O$e(v,i),w=Fte(m,"mask"),{setState:C,removeState:S}=C$e(p,x),E=new Map,{width:O,height:k,x:M=0,y:$=0}=h(e),I=l||[0,0,O,k],N=()=>{for(const e of[...v,...b])S(e,"active","inactive")},T=(e,t,n,r)=>{var o;for(const a of y)null===(o=a.brush)||void 0===o||o.remove();const i=new Set;for(const a of v){const{min:o,max:l}=a.getLocalBounds(),[s,c]=o,[u,d]=l;AIe([s,c,u,d],[e,t,n,r])?(C(a,"active"),i.add(f(a))):C(a,"inactive")}for(const a of b)i.has(f(a))?C(a,"active"):C(a,"inactive")},L=()=>{for(const e of v)S(e,"inactive");for(const e of E.values())e.remove();E.clear()},R=(t,n,r,o)=>{const i=e=>{const t=e.cloneNode();return t.__data__=e.__data__,e.parentNode.appendChild(t),E.set(e,t),t},a=new eU({style:{x:t+M,y:n+$,width:r-t,height:o-n}});e.appendChild(a);for(const e of v){const t=E.get(e)||i(e);t.style.clipPath=a,C(e,"inactive"),C(t,"active")}},_=DIe(e,Object.assign(Object.assign({},w),{extent:I,brushRegion:a,reverse:s,selectedHandles:r,brushended:e=>{const t=d?L:N;e&&g.emit("brush:remove",{nativeEvent:!0}),t()},brushed:(e,t,n,r,o)=>{const i=Yve(e,t,n,r,c,u);o&&g.emit("brush:highlight",{nativeEvent:!0,data:{selection:i}});(d?R:T)(e,t,n,r)},brushcreated:(e,t,n,r,o)=>{const i=Yve(e,t,n,r,c,u);g.emit("brush:end",Object.assign(Object.assign({},o),{nativeEvent:!0,data:{selection:i}}))},brushupdated:(e,t,n,r,o)=>{const i=Yve(e,t,n,r,c,u);g.emit("brush:end",Object.assign(Object.assign({},o),{nativeEvent:!0,data:{selection:i}}))},brushstarted:e=>{g.emit("brush:start",e)}})),A=({nativeEvent:e,data:t})=>{if(e)return;const{selection:n}=t,[r,o,i,a]=function(e,t,n){const{x:r,y:o}=t,[i,a]=e,l=Kve(i,r),s=Kve(a,o),c=[l[0],s[0]],u=[l[1],s[1]],[d,f]=n.map(c),[h,p]=n.map(u);return[d,f,h,p]}(n,c,u);_.move(r,o,i,a,!1)};g.on("brush:highlight",A);const P=({nativeEvent:e}={})=>{e||_.remove(!1)};g.on("brush:remove",P);const j=_.destroy.bind(_);return _.destroy=()=>{g.off("brush:highlight",A),g.off("brush:remove",P),j()},_}function WIe(e){var{facet:t,brushKey:n}=e,r=_Ie(e,["facet","brushKey"]);return(e,o,i)=>{const{container:a,view:l,options:s}=e,c=d$e(a),u={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},d=["active",["inactive",{opacity:.5}]],{scale:f,coordinate:h}=l;if(t){const t=c.getBounds(),n=t.min[0],a=t.min[1],l=t.max[0],s=t.max[1];return FIe(c.parentNode.parentNode,Object.assign(Object.assign({elements:()=>c$e(e,o),datum:v$e(u$e(e,o).map(e=>e.view)),brushRegion:(e,t,n,r)=>[e,t,n,r],extent:[n,a,l,s],state:E$e(u$e(e,o).map(e=>e.options),d),emitter:i,scale:f,coordinate:h,selectedHandles:void 0},u),r))}const p=FIe(c,Object.assign(Object.assign({elements:s$e,key:e=>e.__data__.key,siblings:()=>function(e,t,n){return zIe(e,t,n).map(e=>d$e(e.container))}(e,o,n),datum:v$e([l,...zIe(e,o,n).map(e=>e.view)]),brushRegion:(e,t,n,r)=>[e,t,n,r],extent:void 0,state:E$e([s,...HIe(e,o,n)],d),emitter:i,scale:f,coordinate:h,selectedHandles:void 0},u),r));return c.brush=p,()=>p.destroy()}}function GIe(e,t,n,r,o){const[,i,,a]=o;return[e,i,n,a]}function VIe(e){return WIe(Object.assign(Object.assign({},e),{brushRegion:GIe,selectedHandles:["handle-e","handle-w"]}))}function qIe(e,t,n,r,o){const[i,,a]=o;return[i,t,a,r]}function XIe(e){return WIe(Object.assign(Object.assign({},e),{brushRegion:qIe,selectedHandles:["handle-n","handle-s"]}))}WIe.props={reapplyWhenUpdate:!0};var UIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const YIe="axis-hot-area";function KIe(e){return e.getElementsByClassName("axis")}function ZIe(e){return e.getElementsByClassName("axis-line")[0]}function QIe(e){return function(e){return e.getElementsByClassName("axis-main-group")[0]}(e).getLocalBounds()}function JIe(e,t){var{cross:n,offsetX:r,offsetY:o}=t,i=UIe(t,["cross","offsetX","offsetY"]);const a=QIe(e),l=ZIe(e),[s]=l.getLocalBounds().min,[c,u]=a.min,[d,f]=a.max,h=2*(d-c);return{brushRegion:qIe,hotZone:new eU({className:YIe,style:Object.assign({width:n?h/2:h,transform:`translate(${(n?c:s-h/2).toFixed(2)}, ${u})`,height:f-u},i)}),extent:n?(e,t,n,r)=>[-1/0,t,1/0,r]:(e,t,n,o)=>[Math.floor(c-r),t,Math.ceil(d-r),o]}}function eNe(e,t){var{offsetY:n,offsetX:r,cross:o=!1}=t,i=UIe(t,["offsetY","offsetX","cross"]);const a=QIe(e),l=ZIe(e),[,s]=l.getLocalBounds().min,[c,u]=a.min,[d,f]=a.max,h=f-u;return{brushRegion:GIe,hotZone:new eU({className:YIe,style:Object.assign({width:d-c,height:o?h:2*h,transform:`translate(${c}, ${o?u:s-h})`},i)}),extent:o?(e,t,n,r)=>[e,-1/0,n,1/0]:(e,t,r,o)=>[e,Math.floor(u-n),r,Math.ceil(f-n)]}}function tNe(e){return(t,n,r)=>{const{container:o,view:i,options:a}=t,l=d$e(o),{x:s,y:c}=l.getBBox(),{coordinate:u}=i;return function(e,t){var{axes:n,elements:r,points:o,horizontal:i,datum:a,offsetY:l,offsetX:s,reverse:c=!1,state:u={},emitter:d,coordinate:f}=t,h=UIe(t,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const p=r(e),g=n(e),m=O$e(p,a),{setState:v,removeState:y}=C$e(u,m),b=new Map,x=Fte(h,"mask"),w=e=>Array.from(b.values()).every(([t,n,r,o])=>e.some(([e,i])=>e>=t&&e<=r&&i>=n&&i<=o)),C=g.map(e=>e.attributes.scale),S=e=>e.length>2?[e[0],e[e.length-1]]:e,E=new Map,O=()=>{E.clear();for(let e=0;e<g.length;e++){const t=C[e],{domain:n}=t.getOptions();E.set(e,S(n))}};O();const k=(e,t)=>{const n=[];for(const r of p){const e=o(r);w(e)?(v(r,"active"),n.push(r)):v(r,"inactive")}E.set(e,$(n,e)),t&&d.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:(()=>{if(!I)return Array.from(E.values());const e=[];for(const[t,n]of E){const r=C[t],{name:o}=r.getOptions();"x"===o?e[0]=n:e[1]=n}return e})()}})},M=e=>{for(const t of p)y(t,"active","inactive");O(),e&&d.emit("brushAxis:remove",{nativeEvent:!0})},$=(e,t)=>{const n=C[t],{name:r}=n.getOptions(),o=e.map(e=>{const t=e.__data__;return n.invert(t[r])});return S(Uve(n,o))},I=g.some(i)&&g.some(e=>!i(e)),N=[];for(let A=0;A<g.length;A++){const e=g[A],t=i(e)?eNe:JIe,{hotZone:n,brushRegion:r,extent:o}=t(e,{offsetY:l,offsetX:s,cross:I,zIndex:999,fill:"transparent"});e.parentNode.appendChild(n);const a=DIe(n,Object.assign(Object.assign({},x),{reverse:c,brushRegion:r,brushended(t){b.delete(e),0===Array.from(b.entries()).length?M(t):k(A,t)},brushed(t,n,r,i,a){b.set(e,o(t,n,r,i)),k(A,a)}}));N.push(a)}const T=(e={})=>{const{nativeEvent:t}=e;t||N.forEach(e=>e.remove(!1))},L=(e,t,n)=>{const[r,o]=e,a=R(r,t,n),l=R(o,t,n)+((s=t).getStep?s.getStep():0);var s;return i(n)?[a,-1/0,l,1/0]:[-1/0,a,1/0,l]},R=(e,t,n)=>{const{height:r,width:o}=f.getOptions(),a=t.clone();return i(n)?a.update({range:[0,o]}):a.update({range:[r,0]}),a.map(e)},_=e=>{const{nativeEvent:t}=e;if(t)return;const{selection:n}=e.data;for(let r=0;r<N.length;r++){const e=n[r],t=N[r],o=g[r];if(e){const n=C[r];t.move(...L(e,n,o),!1)}else t.remove(!1)}};return d.on("brushAxis:remove",T),d.on("brushAxis:highlight",_),()=>{N.forEach(e=>e.destroy()),d.off("brushAxis:remove",T),d.off("brushAxis:highlight",_)}}(o,Object.assign({elements:s$e,axes:KIe,offsetY:c,offsetX:s,points:e=>e.__data__.points,horizontal:e=>{const{startPos:[t,n],endPos:[r,o]}=e.attributes;return t!==r&&n===o},datum:v$e(i),state:E$e(a,["active",["inactive",{opacity:.5}]]),coordinate:u,emitter:r},e))}}var nNe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})},rNe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function oNe(e){var{hideX:t=!0,hideY:n=!0}=e,r=rNe(e,["hideX","hideY"]);return(e,o,i)=>{const{container:a,view:l,options:s,update:c,setState:u}=e,d=d$e(a);let f=!1,h=!1,p=l;const{scale:g,coordinate:m}=l;return function(e,t){var{filter:n,reset:r,brushRegion:o,extent:i,reverse:a,emitter:l,scale:s,coordinate:c,selection:u,series:d=!1}=t;const f=Fte(rNe(t,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]),"mask"),{width:h,height:p}=e.getBBox(),g=i||[0,0,h,p],m=function(e=300){let t=null;return n=>{const{timeStamp:r}=n;return null!==t&&r-t<e?(t=r,!0):(t=r,!1)}}(),v=DIe(e,Object.assign(Object.assign({},f),{extent:g,brushRegion:o,reverse:a,brushcreated:function(e,t,r,o,i){e===r&&t===o||(i.nativeEvent=!0,n(u(e,t,r,o),i),v.remove())}}));function y(e){m(e)&&(e.nativeEvent=!0,r(e))}e.addEventListener("click",y);const b=({nativeEvent:e,data:t})=>{if(e)return;const{selection:r}=t;n(r,{nativeEvent:!1})};return l.on("brush:filter",b),()=>{v.destroy(),l.off("brush:filter",b),e.removeEventListener("click",y)}}(d,Object.assign(Object.assign({brushRegion:(e,t,n,r)=>[e,t,n,r],selection:(e,t,n,r)=>{const{scale:o,coordinate:i}=p;return Yve(e,t,n,r,o,i)},filter:(e,r)=>nNe(this,void 0,void 0,function*(){if(h)return;h=!0;const[o,a]=e;u("brushFilter",e=>{const{marks:r}=e,i=r.map(e=>kz({axis:Object.assign(Object.assign({},t&&{x:{transform:[{type:"hide"}]}}),n&&{y:{transform:[{type:"hide"}]}})},e,{scale:{x:{domain:o,nice:!1},y:{domain:a,nice:!1}}}));return Object.assign(Object.assign({},s),{marks:i,clip:!0})}),i.emit("brush:filter",Object.assign(Object.assign({},r),{data:{selection:[o,a]}}));const l=yield c();p=l.view,h=!1,f=!0}),reset:e=>{if(h||!f)return;const{scale:t}=l,{x:n,y:r}=t,o=n.getOptions().domain,a=r.getOptions().domain;i.emit("brush:filter",Object.assign(Object.assign({},e),{data:{selection:[o,a]}})),f=!1,p=l,u("brushFilter"),c()},extent:void 0,emitter:i,scale:g,coordinate:m},{maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1}),r))}}function iNe(e){return oNe(Object.assign(Object.assign({hideX:!0},e),{brushRegion:GIe}))}function aNe(e){return oNe(Object.assign(Object.assign({hideY:!0},e),{brushRegion:qIe}))}function lNe(e,t,n){const r=e?n:t,o=e?t:n,i=qve(r),a=qve(o),l=o.getOptions().domain;return{currentScale:r,targetScale:o,isSourceDiscrete:i,isTargetDiscrete:a,shouldPreserveZeroBaseline:!a&&l&&l.length>=2&&0===l[0]}}function sNe({isTargetDiscrete:e,filteredValues:t,shouldPreserveZeroBaseline:n}){if(e)return r=t,Array.from(new Set(r)).sort((e,t)=>e-t);{const e=Math.min(...t),r=Math.max(...t);return n?[0,r]:[e,r]}var r}function cNe(e){return e instanceof Date?e.getTime():"string"==typeof e?parseFloat(e):Number(e)}function uNe(e,t,n,r,o,i="filter",a=!1){if(D$e(i))return[];const l=a?"y":"x",s=a?"x":"y",c=[];for(const u of e){const{channelData:e}=u,r=e[l]||[],o=e[s]||[],a=Array.isArray(r[0])?r[0]:r,d=Array.isArray(o[0]);if(0===a.length)continue;const f=a.length;for(let l=0;l<f;l++){const e=a[l];let r=!1;if(n)r=t.includes(e);else if(t.length>=2){const n=cNe(e),o=cNe(t[0]),i=cNe(t[t.length-1]);isNaN(n)||isNaN(o)||isNaN(i)||(r=n>=o&&n<=i)}if("filter"===i&&r)if(d){const e=o.length;for(let t=0;t<e;t++){const e=o[t];if(Array.isArray(e)&&l<e.length){const t=cNe(e[l]);isNaN(t)||c.push(t)}}}else if(l<o.length){const e=cNe(o[l]);isNaN(e)||c.push(e)}}}return c.length>0?sNe({isTargetDiscrete:r,filteredValues:c,shouldPreserveZeroBaseline:o}):[]}function dNe(e,t,n,r){r&&t instanceof Map?t.forEach((t,n)=>{t&&Array.isArray(t)&&t.length>0&&(e[n]=t)}):!r&&Array.isArray(t)&&t.length>0&&(e[n?"x":"y"]=t)}var fNe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const hNe="slider";function pNe(e){var t,n,r,o;if(!(null==e?void 0:e.markState))return 0;let i=0;for(const[a,l]of e.markState.entries()){if("point"!==a.type||!(null==l?void 0:l.channels))continue;const e=null===(t=l.channels)||void 0===t?void 0:t.find(e=>"size"===e.name);if(e){if((null===(r=null===(n=e.scale)||void 0===n?void 0:n.range)||void 0===r?void 0:r.length)>0){const t=Math.max(...e.scale.range.filter(e=>"number"==typeof e));i=Math.max(i,t);continue}if((null===(o=e.values)||void 0===o?void 0:o.length)>0){const t=e.values.filter(e=>void 0!==e.value).flatMap(e=>Array.isArray(e.value)?e.value:[e.value]).filter(e=>"number"==typeof e&&!isNaN(e));t.length>0&&(i=Math.max(i,...t))}}}return i}function gNe(e,t,n,r,o,i,a){if(a){const l=i?r:o.x,s=i?o.y:r;e.emit(t,Object.assign(Object.assign({},n),{nativeEvent:a,data:{selection:[yNe(l),yNe(s)]}}))}}function mNe(e,t,n,r){const{domain0:o,filteredDomain:i,channel0:a,channel1:l,prefix:s,hasState:c,isMultiAxis:u,markToScaleMap:d,enableAdaptiveFiltering:f}=r;u&&i instanceof Map?e(t,e=>Object.assign({},function(e,t,n,r,o=!1,i="x",a="y",l=new Map,s=new Map){const{marks:c}=e,u=pNe(t),d=c.map(e=>{var t,c;const u="string"==typeof(null==e?void 0:e.key)?e.key:String((null==e?void 0:e.key)||""),d=l.get(u),f=s.get(d),h=f&&{y:Object.assign({domain:f,nice:!0},"y"!==d?{independent:!0}:void 0)};return kz({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},e,{scale:Object.assign(Object.assign({},n),h),[r]:Object.assign(Object.assign({},(null===(t=e[r])||void 0===t?void 0:t[i])&&{[i]:Object.assign({preserve:!0},o&&{ratio:null})}),(null===(c=e[r])||void 0===c?void 0:c[a])&&{[a]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},e),{marks:d,insetLeft:u,insetRight:u,insetTop:u,insetBottom:u,clip:!0,animate:!1})}(e,n,{[a]:{domain:o,nice:!1}},s,c,a,l,d||new Map,i))):e(t,e=>Object.assign({},function(e,t,n,r,o=!1,i="x",a="y"){const{marks:l}=e,s=pNe(t),c=l.map(e=>{var t,l;return kz({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},e,{scale:n,[r]:Object.assign(Object.assign({},(null===(t=e[r])||void 0===t?void 0:t[i])&&{[i]:Object.assign({preserve:!0},o&&{ratio:null})}),(null===(l=e[r])||void 0===l?void 0:l[a])&&{[a]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},e),{marks:c,insetLeft:s,insetRight:s,insetTop:s,insetBottom:s,clip:!0,animate:!1})}(e,n,Object.assign({[a]:{domain:o,nice:!1}},f&&Array.isArray(i)?{[l]:{domain:i,nice:!0}}:{}),s,c,a,l)))}function vNe(e,t,n){const[r,o]=e,i=n?e=>1-e:e=>e;return Uve(t,[Xve(t,i(r),!0),Xve(t,i(o),!1)])}function yNe(e){return[e[0],e[e.length-1]]}function bNe({initDomain:e={},className:t=hNe,prefix:n="slider",setValue:r=(e,t)=>e.setValues(t),hasState:o=!1,wait:i=50,leading:a=!0,trailing:l=!1,adaptiveMode:s="filter",getInitValues:c=e=>{var t;const n=null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.values;if(0!==n[0]||1!==n[1])return n}}){return(u,d,f)=>{const{container:h,view:p,update:g,setState:m}=u,v=h.getElementsByClassName(t);if(!v.length)return()=>{};const{scale:y,coordinate:b}=p,{x:x,y:w}=y,C=Boe(b),S=e=>{const t="vertical"===e?"y":"x",n="vertical"===e?"x":"y";return C?[n,t]:[t,n]},E=new Map,O=new Set,k=H$e(p),M=function(e,t,n,r,o){var i,a,l,s;const c={x:t.x||n.getOptions().domain||[],y:t.y||r.getOptions().domain||[]},u=o||H$e(e),{hasIndependentX:d,hasIndependentY:f}=u;if(d||f){let t=1,n=1;for(const[r,o]of e.markState.entries())if(null==o?void 0:o.channels){if(d){const e=o.channels.find(e=>"x"===e.name);(null===(a=null===(i=null==r?void 0:r.scale)||void 0===i?void 0:i.x)||void 0===a?void 0:a.independent)&&(c[`x${t}`]=e.scale.domain,t++)}if(f){const e=o.channels.find(e=>"y"===e.name);(null===(s=null===(l=null==r?void 0:r.scale)||void 0===l?void 0:l.y)||void 0===s?void 0:s.independent)&&(c[`y${n}`]=e.scale.domain,n++)}}}return c}(p,e,x,w,k),$=Array.from(v),I=e=>$.some(t=>{const{orientation:n}=t.attributes,[r]=S(n);return r===e}),N=I("x")&&!I("y"),T=I("y")&&!I("x"),L=!D$e(s)&&(N||T);for(const e of v){const{orientation:t}=e.attributes,[u,d]=S(t),h=`${n}${vz(u)}:filter`,v="x"===u,{ratio:b}=x.getOptions(),{ratio:$}=w.getOptions();let I=!1;const R=CNe({getFiltering:()=>I,setFiltering:e=>{I=e},domainsOf:e=>{if(e.data){const{selection:t}=e.data,[n=yNe(M.x),r=yNe(M.y)]=t;return v?[Uve(x,n,b),Uve(w,r,$)]:[Uve(w,r,$),Uve(x,n,b)]}const{value:n}=e.detail;return[vNe(n,y[u],C&&"horizontal"===t),M[d]]},view:p,independentScaleInfo:k,enableAdaptiveFiltering:L,hasOnlyXSlider:N,hasOnlyYSlider:T,adaptiveMode:s,scaleX:x,scaleY:w,scale:y,channelDomain:M,channel0:u,channel1:d,isX:v,emitter:f,eventName:h,setState:m,slider:e,prefix:n,hasState:o,update:g,wait:i,leading:a,trailing:l}),_=t=>{const{nativeEvent:n}=t;if(n)return;const{data:o}=t,{selection:i}=o,[a,l]=i;e.dispatchEvent(new Bq("valuechange",{data:o,nativeEvent:!1}));const s=v?Zve(a,x):Zve(l,w);r(e,s)};f.on(h,_),e.addEventListener("valuechange",R),E.set(e,R),O.add([h,_]);const A=c(e);A&&e.dispatchEvent(new Bq("valuechange",{detail:{value:A},nativeEvent:!1,initValue:!0}))}return()=>{for(const[e,t]of E)e.removeEventListener("valuechange",t);for(const[e,t]of O)f.off(e,t)}}}function xNe({view:e,domain0:t,shouldFilterXAxis:n,enableAdaptiveFiltering:r,markDataPairs:o,adaptiveMode:i,scaleX:a,scaleY:l,scale:s,channelDomain:c,independentScaleInfo:u,channel0:d}){const f=new Map,h=new Map;if(!r||0===o.length||!(null==t?void 0:t.length))return{filteredDomain:f,markToScaleMap:h};const p=Iz(e,"options.slider");if(Object.keys(p).length>0&&Object.prototype.hasOwnProperty.call(p,d)){const e=function(e,t,n,r,o){const i=e?r:n,a=e=>{const t={};return Object.keys(o).forEach(n=>{(n===e||n.match(new RegExp(`^${e}\\d+$`)))&&(t[n]=o[n])}),t},l=a(e?"x":"y"),s=Object.keys(l),c=s.map(e=>t[e]),u=qve(i),d=c.map(e=>qve(e)),f=c.map((e,t)=>{const n=e.getOptions().domain;return!d[t]&&n&&n.length>=2&&0===n[0]});return{currentScale:i,targetScales:c,isSourceDiscrete:u,isTargetDiscrete:d,shouldPreserveZeroBaseline:f,targetScaleKeys:s}}(n,s,a,l,c);(n?u.markToXScaleMap:u.markToYScaleMap).forEach((e,t)=>{h.set(t,e)});const r=function({markDataPairs:e,domain:t,scaleInfo:n,markToScaleMap:r,adaptiveMode:o,shouldFilterXAxis:i=!1}){const a=new Map,{isSourceDiscrete:l,isTargetDiscrete:s,shouldPreserveZeroBaseline:c,targetScaleKeys:u}=n;return e.forEach(e=>{const n=r.get(e.markKey);if(!n)return;const d=u.indexOf(n);if(-1===d)return;const f=s[d],h=c[d],p=uNe([e],t,l,f,h,o,i);a.set(n,p)}),a}({markDataPairs:o,domain:t,scaleInfo:e,markToScaleMap:h,adaptiveMode:i,shouldFilterXAxis:n});return dNe(c,r,n,!0),{filteredDomain:r,markToScaleMap:h}}{const r=function(e,t){for(const[n]of e.markState.entries()){const e=Iz(n,"slider");if(Object.keys(e||{}).length>0&&Object.prototype.hasOwnProperty.call(e,t))return String(n.key||"")}return null}(e,d);if(r){const e=lNe(n,a,l),s=n?u.markToXScaleMap:u.markToYScaleMap,c=s.get(r)||"";if(c){h.set(r,c);const a=function(e,t,n,r,o,i,a=!1,l){const s=new Map;if(0===e.length||0===t.length)return s;const{isSourceDiscrete:c,isTargetDiscrete:u,shouldPreserveZeroBaseline:d}=n,f=l?e.filter(e=>l.get(e.markKey)===o):e.filter(e=>e.markKey===r);if(0===f.length)return s;const h=uNe(f,t,c,u,d,i,a);return s.set(o,h),s}(o,t,e,r,c,i,n,s);return{filteredDomain:a,markToScaleMap:h}}}}return{filteredDomain:f,markToScaleMap:h}}function wNe({domain0:e,domain1:t,shouldFilterXAxis:n,enableAdaptiveFiltering:r,markDataPairs:o,adaptiveMode:i,scaleX:a,scaleY:l,channelDomain:s,hasOnlyXSlider:c,hasOnlyYSlider:u,isX:d}){let f=t;if(r&&o.length>0&&(c&&d||u&&!d)&&(null==e?void 0:e.length)>0){f=function({markDataPairs:e,domain:t,scaleInfo:n,adaptiveMode:r,shouldFilterXAxis:o=!1}){const{isSourceDiscrete:i,isTargetDiscrete:a,shouldPreserveZeroBaseline:l}=n;return uNe(e,t,i,a,l,r,o)}({markDataPairs:o,domain:e,scaleInfo:lNe(n,a,l),adaptiveMode:i,shouldFilterXAxis:n}),dNe(s,f,n,!1)}return f}function CNe({getFiltering:e,setFiltering:t,domainsOf:n,view:r,independentScaleInfo:o,enableAdaptiveFiltering:i,hasOnlyXSlider:a,hasOnlyYSlider:l,adaptiveMode:s,scaleX:c,scaleY:u,scale:d,channelDomain:f,channel0:h,channel1:p,isX:g,emitter:m,eventName:v,setState:y,slider:b,prefix:x,hasState:w,update:C,wait:S,leading:E,trailing:O}){return Rz(S=>fNe(this,void 0,void 0,function*(){const{initValue:E=!1}=S;if(e()&&!E)return;t(!0);const{nativeEvent:O=!0}=S,{markDataPairs:k}=function(e){var t,n;const r=[],o=[],i=[],a=e.markState;if(a)for(const[l,s]of a.entries())if(null==s?void 0:s.channels){const e={};for(const i of s.channels)if("x"===(null==i?void 0:i.name)&&(null===(t=i.values)||void 0===t?void 0:t.length)>0){let t=[];for(const e of i.values)(null==e?void 0:e.value)&&(t=t.concat(e.value),r.push(e.value));e.x=t}else if(i&&("y"===i.name||i.name.startsWith("y"))&&(null===(n=i.values)||void 0===n?void 0:n.length)>0){const t=i.name,n=[];for(const e of i.values)if(null==e?void 0:e.value){const r=e.value;n.push(r),"y"!==t&&"y1"!==t||(Array.isArray(r)?o.push(r.flat()):o.push([r]))}e[t]=n}const a=e.x||[],c=e.y||[];a.length>0&&c.length>0&&i.push({markKey:l.key||`mark_${i.length}`,channelData:e})}return{xChannelValues:r.flat(),yChannelValues:o.flat(),markDataPairs:i}}(r);if(o[`hasIndependent${p.toUpperCase()}`]){const[e]=n(S),t=l&&!g,{filteredDomain:C,markToScaleMap:E}=xNe({view:r,domain0:e,shouldFilterXAxis:t,enableAdaptiveFiltering:i&&(a&&g||l&&!g),markDataPairs:k,adaptiveMode:s,scaleX:c,scaleY:u,scale:d,channelDomain:f,independentScaleInfo:o,channel0:h});f[h]=e,gNe(m,v,S,e,f,g,O),mNe(y,b,r,{domain0:e,filteredDomain:C,channel0:h,channel1:p,prefix:x,hasState:w,isMultiAxis:!0,markToScaleMap:E,enableAdaptiveFiltering:i})}else{const[e,t]=n(S),o=wNe({domain0:e,domain1:t,shouldFilterXAxis:l&&!g,enableAdaptiveFiltering:i,markDataPairs:k,adaptiveMode:s,scaleX:c,scaleY:u,channelDomain:f,hasOnlyXSlider:a,hasOnlyYSlider:l,isX:g});f[h]=e,gNe(m,v,S,e,f,g,O),mNe(y,b,r,{domain0:e,filteredDomain:o,channel0:h,channel1:p,prefix:x,hasState:w,isMultiAxis:!1,markToScaleMap:void 0,enableAdaptiveFiltering:i})}yield C(),t(!1)}),S,{leading:E,trailing:O})}function SNe({className:e=hNe,setValue:t=(e,t)=>e.setValues(t),minRange:n=.01,wheelSensitivity:r=.05,x:o=!0,y:i=!0}={}){return a=>{const{container:l,view:s}=a,{coordinate:c}=s,u=Boe(c),d=function(e){var t;try{const n=null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView;if(!n||"function"!=typeof n.getContextService)return null;const r=n.getContextService().getDomElement();return r instanceof HTMLElement?r:null}catch(n){return null}}(l),f=Math.max(1e-6,Math.min(1,n)),h=l.getElementsByClassName(e);if(!h.length)return()=>{};const p=(e,t)=>!0===e||!1!==e&&("shift"===e?t.shiftKey&&!t.ctrlKey&&!t.altKey:"ctrl"===e?t.ctrlKey&&!t.shiftKey&&!t.altKey:"alt"===e&&(t.altKey&&!t.shiftKey&&!t.ctrlKey)),g=(e,n)=>{t(e,n),e.dispatchEvent(new Bq("valuechange",{detail:{value:n},nativeEvent:!0}))},m=(e,t,n,r,o)=>{const i=(e-t)/n,a=Math.max(0,Math.min(1,i));return Math.max(r,Math.min(o,a))},v=e=>{if(!d)return;const t=e.target;if(!d.contains(t))return;const n=d.getBoundingClientRect(),a=e.clientX-n.left,l=e.clientY-n.top,s=[];for(const r of h){const{values:t,orientation:n}=r.attributes;if(!t)continue;const a="horizontal"===n;p("x"===(u?a?"y":"x":a?"x":"y")?o:i,e)&&s.push(r)}if(0!==s.length){e.preventDefault(),e.stopPropagation();for(const t of s){const{values:n,orientation:o,x:i,y:s,trackLength:c}=t.attributes,[u,d]=n,h=d-u,p="horizontal"===o?m(a,i,c,u,d):m(l,s,c,u,d),v=r*B$e(h),y=1+e.deltaY*v,b=Math.max(f,Math.min(1,h*y));let x=p-b*((p-u)/h),w=p+b*((d-p)/h);x<0?(x=0,w=Math.min(1,b)):w>1&&(w=1,x=Math.max(0,1-b)),g(t,[x,w])}}};return d&&d.addEventListener("wheel",v,{passive:!1,capture:!0}),()=>{d&&d.removeEventListener("wheel",v,{capture:!0})}}}SNe.props={reapplyWhenUpdate:!0};const ENe="g2-scrollbar";function ONe(e={}){return(t,n,r)=>{const{view:o,container:i}=t;if(!i.getElementsByClassName(ENe).length)return()=>{};const{scale:a}=o,{x:l,y:s}=a,c={x:[...l.getOptions().domain],y:[...s.getOptions().domain]};l.update({domain:l.getOptions().expectedDomain}),s.update({domain:s.getOptions().expectedDomain});return bNe(Object.assign({initDomain:c,className:ENe,prefix:"scrollbar",hasState:!0,setValue:(e,t)=>e.setValue(t[0]),getInitValues:e=>{const t=e.slider.attributes.values;if(0!==t[0]||1!==t[1])return t}},e))(t,n,r)}}function kNe(e,t,n){return`<${e} style="${Object.entries(n).map(([e,t])=>{return`${n=e,n.replace(/([A-Z])/g,"-$1").toLowerCase()}:${t}`;var n}).join(";")}">${t}</${e}>`}const MNe={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function $Ne(e){return"text"===e.nodeName&&!!e.isOverflowing()}function INe(e){var{offsetX:t=8,offsetY:n=8}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["offsetX","offsetY"]);return e=>{const{container:o}=e,[i,a]=o.getBounds().min,l=Fte(r,"tip"),s=new Set,c=e=>{const{target:r}=e;if(!$Ne(r))return void e.stopPropagation();const{offsetX:c,offsetY:u}=e,d=c+t-i,f=u+n-a;if(r.tip)return r.tip.style.x=d,void(r.tip.style.y=f);const{text:h}=r.style,p=new GX({className:"poptip",style:{innerHTML:kNe("div",h,Object.assign(Object.assign({},MNe),l)),x:d,y:f}});o.appendChild(p),r.tip=p,s.add(p)},u=e=>{const{target:t}=e;$Ne(t)?t.tip&&(t.tip.remove(),t.tip=null,s.delete(t.tip)):e.stopPropagation()};return o.addEventListener("pointerover",c),o.addEventListener("pointerout",u),()=>{o.removeEventListener("pointerover",c),o.removeEventListener("pointerout",u),s.forEach(e=>e.remove())}}}INe.props={reapplyWhenUpdate:!0};var NNe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const TNe={breadCrumbFill:"rgba(0, 0, 0, 0.85)",breadCrumbFontSize:12,breadCrumbY:12,activeFill:"rgba(0, 0, 0, 0.5)"};function LNe(e={}){const{originData:t=[],layout:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["originData","layout"]),o=kz({},TNe,r),i=Fte(o,"breadCrumb"),a=Fte(o,"active");return e=>{const{update:r,setState:o,container:l,options:s}=e,c=Xoe(l).select(`.${ffe}`).node();const u=s.marks[0],{state:d}=u,f=new FX;c.appendChild(f);const h=(e,s)=>NNe(this,void 0,void 0,function*(){if(f.removeChildren(),s){let t="",n=i.y,r=0;const o=[],l=c.getBBox().width,s=e.map((a,s)=>{t=`${t}${a}/`,o.push(a);const c=new nU({name:t.replace(/\/$/,""),style:Object.assign(Object.assign({text:a,x:r,path:[...o],depth:s},i),{y:n})});f.appendChild(c),r+=c.getBBox().width;const u=new nU({style:Object.assign(Object.assign({x:r,text:" / "},i),{y:n})});return f.appendChild(u),r+=u.getBBox().width,r>l&&(n=f.getBBox().height+i.y,r=0,c.attr({x:r,y:n}),r+=c.getBBox().width,u.attr({x:r,y:n}),r+=u.getBBox().width),s===Pz(e)-1&&u.remove(),c});s.forEach((e,t)=>{if(t===Pz(s)-1)return;const n=Object.assign({},e.attributes);e.attr("cursor","pointer"),e.addEventListener("mouseenter",()=>{e.attr(a)}),e.addEventListener("mouseleave",()=>{e.attr(n)}),e.addEventListener("click",()=>{h(Iz(e,["style","path"]),Iz(e,["style","depth"]))})})}!function(e,t){[...MIe(e),...$Ie(e)].forEach(e=>{t(e,e=>e)})}(l,o),o("treemapDrillDown",r=>{const{marks:o}=r,i=e.join("/"),a=o.map(e=>{if("rect"!==e.type)return e;let r=t;if(s){const e=t.filter(e=>{const t=Iz(e,["id"]);return t&&(t.match(`${i}/`)||i.match(t))}).map(e=>({value:0===e.height?Iz(e,["value"]):void 0,name:Iz(e,["id"])})),{paddingLeft:o,paddingBottom:a,paddingRight:l}=n;r=Qpe(e,Object.assign(Object.assign({},n),{paddingTop:(n.paddingTop||f.getBBox().height+10)/(s+1),paddingLeft:o/(s+1),paddingBottom:a/(s+1),paddingRight:l/(s+1),path:e=>e.name,layer:e=>e.depth===s+1}),{value:"value"})[0]}else r=t.filter(e=>1===e.depth);const o=[];return r.forEach(({path:e})=>{o.push(sz(e))}),kz({},e,{data:r,scale:{color:{domain:o}}})});return Object.assign(Object.assign({},r),{marks:a})}),yield r(void 0,["legendFilter"])}),p=e=>{const n=e.target,{markType:r,nodeName:o,attributes:i}=n||{};if("rect"!==r&&o!==JH.TEXT)return;const a=o===JH.TEXT&&!0===Iz(i,"isTreemapLabel")?n.attributes.key.split("-")[0]:(e=>Iz(e,["__data__","key"]))(n);const l=oz(t,e=>e.id===a);Iz(l,"height")&&h(Iz(l,"path"),Iz(l,"depth"))};c.addEventListener("click",p);const g=JD(Object.assign(Object.assign({},d.active),d.inactive)),m=()=>{_$e(c).forEach(e=>{const n=Iz(e,["style","cursor"]),r=oz(t,t=>t.id===Iz(e,["__data__","key"]));if("pointer"!==n&&(null==r?void 0:r.height)){e.style.cursor="pointer";const t=function(e,t){if(null===e||!rz(e))return{};var n={};return QD(t,function(t){Tz.call(e,t)&&(n[t]=e[t])}),n}(e.attributes,g);e.addEventListener("mouseenter",()=>{e.attr(d.active)}),e.addEventListener("mouseleave",()=>{e.attr(kz(t,d.inactive))})}})};return m(),c.addEventListener("mousemove",m),()=>{f.remove(),c.removeEventListener("click",p),c.removeEventListener("mousemove",m)}}}var RNe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const _Ne={pointR:6,pointStrokeWidth:1,pointStroke:"#888",pointActiveStroke:"#f5f5f5",pathStroke:"#888",pathLineDash:[3,4],labelFontSize:12,labelFill:"#888",labelStroke:"#fff",labelLineWidth:1,labelY:-6,labelX:2},ANe="movePoint",PNe=e=>{const t=e.target,{markType:n}=t;"line"===n&&(t.attr("_lineWidth",t.attr("lineWidth")||1),t.attr("lineWidth",t.attr("_lineWidth")+3)),"interval"===n&&(t.attr("_opacity",t.attr("opacity")||1),t.attr("opacity",.7*t.attr("_opacity")))},jNe=e=>{const t=e.target,{markType:n}=t;"line"===n&&t.attr("lineWidth",t.attr("_lineWidth")),"interval"===n&&t.attr("opacity",t.attr("_opacity"))},BNe=(e,t,n)=>{e.forEach((e,r)=>{e.attr("stroke",t[1]===r?n.activeStroke:n.stroke)})},DNe=(e,t,n,r)=>{const o=new YX({style:n}),i=new nU({style:r});return t.appendChild(i),e.appendChild(o),[o,i]},zNe=(e,t)=>{if(!Iz(e,["options","range","indexOf"]))return;const n=e.options.range.indexOf(t);return e.sortedDomain[n]},HNe=(e,t,n)=>{const r=L$e(e,t),o=L$e(e,n)/r;return[e[0]+(t[0]-e[0])*o,e[1]+(t[1]-e[1])*o]};function FNe(e={}){const{selection:t=[],precision:n=2}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["selection","precision"]),o=Object.assign(Object.assign({},_Ne),r||{}),i=Fte(o,"path"),a=Fte(o,"label"),l=Fte(o,"point");return(e,r,o)=>{const{update:s,setState:c,container:u,view:d,options:{marks:f,coordinate:h}}=e,p=d$e(u);let g,m=_$e(p),v=t;const{transform:y=[],type:b}=h,x=!!oz(y,({type:e})=>"transpose"===e),w="polar"===b,C="theta"===b,S=!!oz(m,({markType:e})=>"area"===e);S&&(m=m.filter(({markType:e})=>"area"===e));const E=new FX({style:{zIndex:2}});p.appendChild(E);const O=()=>{o.emit("element-point:select",{nativeEvent:!0,data:{selection:v}})},k=e=>{const t=e.target;v=[t.parentNode.childNodes.indexOf(t)],O(),$(t)},M=e=>{const{data:{selection:t},nativeEvent:n}=e;if(n)return;v=t;const r=Iz(m,[null==v?void 0:v[0]]);r&&$(r)},$=e=>{const{attributes:t,markType:r,__data__:h}=e,{stroke:p}=t,{points:m,seriesTitle:y,color:b,title:k,seriesX:M,y1:I}=h;if(x&&"interval"!==r)return;const{scale:N,coordinate:T}=(null==g?void 0:g.view)||d,{color:L,y:R,x:_}=N,A=T.getCenter();let P;E.removeChildren();const j=(e,t,n,r)=>RNe(this,void 0,void 0,function*(){return c("elementPointMove",i=>{var a;const l=((null===(a=null==g?void 0:g.options)||void 0===a?void 0:a.marks)||f).map(i=>{if(!r.includes(i.type))return i;const{data:a,encode:l}=i,s=Object.keys(l).reduce((r,o)=>{const i=l[o];return"x"===o&&(r[i]=e),"y"===o&&(r[i]=t),"color"===o&&(r[i]=n),r},{}),c=((e,t,n)=>t.map(t=>["x","color"].reduce((r,o)=>{const i=n[o];return i?t[i]===e[i]&&r:r},!0)?Object.assign(Object.assign({},t),e):t))(s,a,l);return((e,t)=>{o.emit("element-point:moved",{nativeEvent:!0,data:{changeData:e,data:t}})})(s,c),kz({},i,{data:c,animate:!1})});return Object.assign(Object.assign({},i),{marks:l})}),yield s("elementPointMove")});if(["line","area"].includes(r))m.forEach((t,r)=>{const o=_.invert(M[r]);if(!o)return;const s=new BX({name:ANe,style:Object.assign({cx:t[0],cy:t[1],fill:p},l)}),c=((e,t)=>{const n=Iz(e,["__data__","seriesItems",t,"0","value"]),r=Iz(e,["__data__","seriesIndex",t]),{__data__:{data:o,encode:i,transform:a}}=e.parentNode,l=oz(a,({type:e})=>"normalizeY"===e),s=Iz(i,["y","field"]),c=o[r][s];return e=>l?1===n?e:e/(1-e)/(n/(1-n))*c:e})(e,r);s.addEventListener("mousedown",d=>{const f=T.output([M[r],0]),h=null==y?void 0:y.length;u.attr("cursor","move"),v[1]!==r&&(v[1]=r,O()),BNe(E.childNodes,v,l);const[p,x]=DNe(E,s,i,a),C=e=>{const o=t[1]+e.clientY-P[1];if(S)if(w){const i=t[0]+e.clientX-P[0],[a,l]=HNe(A,f,[i,o]),[,u]=T.output([1,R.output(0)]),[,d]=T.invert([a,u-(m[r+h][1]-l)]),g=(r+1)%h,v=R$e([m[(r-1+h)%h],[a,l],y[g]&&m[g]]);x.attr("text",c(R.invert(d)).toFixed(n)),p.attr("d",v),s.attr("cx",a),s.attr("cy",l)}else{const[,e]=T.output([1,R.output(0)]),[,i]=T.invert([t[0],e-(m[r+h][1]-o)]),a=R$e([m[r-1],[t[0],o],y[r+1]&&m[r+1]]);x.attr("text",c(R.invert(i)).toFixed(n)),p.attr("d",a),s.attr("cy",o)}else{const[,e]=T.invert([t[0],o]),i=R$e([m[r-1],[t[0],o],m[r+1]]);x.attr("text",R.invert(e).toFixed(n)),p.attr("d",i),s.attr("cy",o)}};P=[d.clientX,d.clientY],window.addEventListener("mousemove",C);const k=()=>RNe(this,void 0,void 0,function*(){if(u.attr("cursor","default"),window.removeEventListener("mousemove",C),u.removeEventListener("mouseup",k),xz(x.attr("text")))return;const t=Number(x.attr("text")),n=zNe(L,b);g=yield j(o,t,n,["line","area"]),x.remove(),p.remove(),$(e)});u.addEventListener("mouseup",k)}),E.appendChild(s)}),BNe(E.childNodes,v,l);else if("interval"===r){let t=[(m[0][0]+m[1][0])/2,m[0][1]];x?t=[m[0][0],(m[0][1]+m[1][1])/2]:C&&(t=m[0]);const o=(e=>{const t=Iz(e,["__data__","y"]),n=Iz(e,["__data__","y1"])-t,{__data__:{data:r,encode:o,transform:i},childNodes:a}=e.parentNode,l=oz(i,({type:e})=>"normalizeY"===e),s=Iz(o,["y","field"]),c=r[a.indexOf(e)][s];return(e,t=!1)=>l||t?e/(1-e)/(n/(1-n))*c:e})(e),s=new BX({name:ANe,style:Object.assign(Object.assign({cx:t[0],cy:t[1],fill:p},l),{stroke:l.activeStroke})});s.addEventListener("mousedown",l=>{u.attr("cursor","move");const c=zNe(L,b),[d,f]=DNe(E,s,i,a),h=e=>{if(x){const r=t[0]+e.clientX-P[0],[i]=T.output([R.output(0),R.output(0)]),[,a]=T.invert([i+(r-m[2][0]),t[1]]),l=R$e([[r,m[0][1]],[r,m[1][1]],m[2],m[3]],!0);f.attr("text",o(R.invert(a)).toFixed(n)),d.attr("d",l),s.attr("cx",r)}else if(C){const r=t[1]+e.clientY-P[1],i=t[0]+e.clientX-P[0],[a,l]=HNe(A,[i,r],t),[c,u]=HNe(A,[i,r],m[1]),h=T.invert([a,l])[1],p=I-h;if(p<0)return;const g=function(e,t,n=0){const r=[["M",...t[1]]],o=L$e(e,t[1]),i=L$e(e,t[0]);return 0===o?r.push(["L",...t[3]],["A",i,i,0,n,1,...t[0]],["Z"]):r.push(["A",o,o,0,n,0,...t[2]],["L",...t[3]],["A",i,i,0,n,1,...t[0]],["Z"]),r}(A,[[a,l],[c,u],m[2],m[3]],p>.5?1:0);f.attr("text",o(p,!0).toFixed(n)),d.attr("d",g),s.attr("cx",a),s.attr("cy",l)}else{const r=t[1]+e.clientY-P[1],[,i]=T.output([1,R.output(0)]),[,a]=T.invert([t[0],i-(m[2][1]-r)]),l=R$e([[m[0][0],r],[m[1][0],r],m[2],m[3]],!0);f.attr("text",o(R.invert(a)).toFixed(n)),d.attr("d",l),s.attr("cy",r)}};P=[l.clientX,l.clientY],window.addEventListener("mousemove",h);const p=()=>RNe(this,void 0,void 0,function*(){if(u.attr("cursor","default"),u.removeEventListener("mouseup",p),window.removeEventListener("mousemove",h),xz(f.attr("text")))return;const t=Number(f.attr("text"));g=yield j(k,t,c,[r]),f.remove(),d.remove(),$(e)});u.addEventListener("mouseup",p)}),E.appendChild(s)}};m.forEach((e,t)=>{v[0]===t&&$(e),e.addEventListener("click",k),e.addEventListener("mouseenter",PNe),e.addEventListener("mouseleave",jNe)});const I=e=>{const t=null==e?void 0:e.target;t&&(t.name===ANe||m.includes(t))||(v=[],O(),E.removeChildren())};return o.on("element-point:select",M),o.on("element-point:unselect",I),u.addEventListener("mousedown",I),()=>{E.remove(),o.off("element-point:select",M),o.off("element-point:unselect",I),u.removeEventListener("mousedown",I),m.forEach(e=>{e.removeEventListener("click",k),e.removeEventListener("mouseenter",PNe),e.removeEventListener("mouseleave",jNe)})}}}var WNe={},GNe={};function VNe(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function qNe(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function XNe(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function UNe(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+XNe(-t,6):t>9999?"+"+XNe(t,6):XNe(t,4))+"-"+XNe(e.getUTCMonth()+1,2)+"-"+XNe(e.getUTCDate(),2)+(i?"T"+XNe(n,2)+":"+XNe(r,2)+":"+XNe(o,2)+"."+XNe(i,3)+"Z":o?"T"+XNe(n,2)+":"+XNe(r,2)+":"+XNe(o,2)+"Z":r||n?"T"+XNe(n,2)+":"+XNe(r,2)+"Z":"")}function YNe(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,o=[],i=e.length,a=0,l=0,s=i<=0,c=!1;function u(){if(s)return GNe;if(c)return c=!1,WNe;var t,r,o=a;if(34===e.charCodeAt(o)){for(;a++<i&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=i?s=!0:10===(r=e.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(a)&&++a),e.slice(o+1,t-1).replace(/""/g,'"')}for(;a<i;){if(10===(r=e.charCodeAt(t=a++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(o,t)}return s=!0,e.slice(o,i)}for(10===e.charCodeAt(i-1)&&--i,13===e.charCodeAt(i-1)&&--i;(r=u())!==GNe;){for(var d=[];r!==WNe&&r!==GNe;)d.push(r),r=u();t&&null==(d=t(d,l++))||o.push(d)}return o}function o(t,n){return t.map(function(t){return n.map(function(e){return a(t[e])}).join(e)})}function i(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?UNe(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,o,i=r(e,function(e,r){if(n)return n(e,r-1);o=e,n=t?function(e,t){var n=VNe(e);return function(r,o){return t(n(r),o,e)}}(e,t):VNe(e)});return i.columns=o||[],i},parseRows:r,format:function(t,n){return null==n&&(n=qNe(t)),[n.map(a).join(e)].concat(o(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=qNe(e)),o(e,t).join("\n")},formatRows:function(e){return e.map(i).join("\n")},formatRow:i,formatValue:a}}function KNe(e){for(var t in e){var n,r,o=e[t].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(n=+o)){if(!(r=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;ZNe&&r[4]&&!r[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=n;else o=null;e[t]=o}return e}const ZNe=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var QNe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const JNe=e=>{const{value:t,format:n=t.split(".").pop(),delimiter:r=",",autoType:o=!0}=e;return()=>QNe(void 0,void 0,void 0,function*(){const e=yield fetch(t);if("csv"===n){const t=yield e.text();return YNe(r).parse(t,o?KNe:Ate)}if("json"===n)return yield e.json();throw new Error(`Unknown format: ${n}.`)})};JNe.props={};const eTe=e=>{const{fields:t,key:n="key",value:r="value"}=e;return e=>{return(o=t)&&0!==Object.keys(o).length?e.flatMap(e=>t.map(t=>Object.assign(Object.assign({},e),{[n]:t,[r]:e[t]}))):e;var o}};function tTe(e){return null!=e&&!Number.isNaN(e)}eTe.props={};const nTe=e=>{const{callback:t=tTe}=e;return e=>e.filter(t)};nTe.props={};const rTe=e=>{const{callback:t}=e;return e=>Array.isArray(e)?[...e].sort(t):e};rTe.props={};const oTe=e=>{const{fields:t}=e;return e=>e.map(e=>function(e,t=[]){return t.reduce((t,n)=>(n in e&&(t[n]=e[n]),t),{})}(e,t))};oTe.props={};const iTe=e=>t=>{if(!e||(n=e,0===Object.keys(n).length))return t;var n;return t.map(t=>Object.entries(t).reduce((t,[n,r])=>(t[e[n]||n]=r,t),{}))};iTe.props={};const aTe=e=>{const{fields:t=[]}=e,n=(r=!0,t.map(e=>{if(Array.isArray(e)){const[t,n=r]=e;return[t,n]}return[e,r]}));var r;return e=>[...e].sort((e,t)=>n.reduce((n,[r,o=!0])=>0!==n?n:o?e[r]<t[r]?-1:+(e[r]!==t[r]):e[r]>t[r]?-1:+(e[r]!==t[r]),0))};aTe.props={};const lTe=e=>{const{value:t}=e;return()=>t};lTe.props={};const sTe=e=>{const{callback:t=Ate}=e;return e=>t(e)};sTe.props={};const cTe=e=>{const{callback:t=Ate}=e;return e=>Array.isArray(e)?e.map(t):e};cTe.props={};var uTe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const dTe=Math.PI/180,fTe=2048;function hTe(e){return e.text}function pTe(){return"serif"}function gTe(){return"normal"}function mTe(e){return e.value}function vTe(){return 90*~~(2*Math.random())}function yTe(){return 1}function bTe(){}function xTe(e,t,n,r){if(t.sprite)return;const o=e.context,i=e.ratio;o.clearRect(0,0,2048/i,fTe/i);let a=0,l=0,s=0;const c=n.length;for(--r;++r<c;){t=n[r],o.save(),o.font=t.style+" "+t.weight+" "+~~((t.size+1)/i)+"px "+t.font;let e=o.measureText(t.text+"m").width*i,c=t.size<<1;if(t.rotate){const n=Math.sin(t.rotate*dTe),r=Math.cos(t.rotate*dTe),o=e*r,i=e*n,a=c*r,l=c*n;e=Math.max(Math.abs(o+l),Math.abs(o-l))+31>>5<<5,c=~~Math.max(Math.abs(i+a),Math.abs(i-a))}else e=e+31>>5<<5;if(c>s&&(s=c),a+e>=2048&&(a=0,l+=s,s=0),l+c>=fTe)break;o.translate((a+(e>>1))/i,(l+(c>>1))/i),t.rotate&&o.rotate(t.rotate*dTe),o.fillText(t.text,0,0),t.padding&&(o.lineWidth=2*t.padding,o.strokeText(t.text,0,0)),o.restore(),t.width=e,t.height=c,t.xoff=a,t.yoff=l,t.x1=e>>1,t.y1=c>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,a+=e}const u=o.getImageData(0,0,2048/i,fTe/i).data,d=[];for(;--r>=0;){if(!(t=n[r]).hasText)continue;const e=t.width,o=e>>5;let i=t.y1-t.y0;for(let t=0;t<i*o;t++)d[t]=0;if(a=t.xoff,null==a)return;l=t.yoff;let s=0,c=-1;for(let n=0;n<i;n++){for(let t=0;t<e;t++){const e=o*n+(t>>5),r=u[2048*(l+n)+(a+t)<<2]?1<<31-t%32:0;d[e]|=r,s|=r}s?c=n:(t.y0++,i--,n--,l++)}t.y1=t.y0+c,t.sprite=d.slice(0,(t.y1-t.y0)*o)}}function wTe(e,t,n){n>>=5;const r=e.sprite,o=e.width>>5,i=e.x-(o<<4),a=127&i,l=32-a,s=e.y1-e.y0;let c,u=(e.y+e.y0)*n+(i>>5);for(let d=0;d<s;d++){c=0;for(let e=0;e<=o;e++)if((c<<l|(e<o?(c=r[d*o+e])>>>a:0))&t[u+e])return!0;u+=n}return!1}function CTe(e,t){const n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function STe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function ETe(e){const t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function OTe(e){const t=[];let n=-1;for(;++n<e;)t[n]=0;return t}function kTe(){return document.createElement("canvas")}function MTe(e){return"function"==typeof e?e:function(){return e}}const $Te={archimedean:ETe,rectangular:function(e){const t=4*e[0]/e[1];let n=0,r=0;return function(e){const o=e<0?-1:1;switch(Math.sqrt(1+4*o*e)-o&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}};function ITe(){let e=[256,256],t=hTe,n=pTe,r=mTe,o=gTe,i=vTe,a=yTe,l=ETe,s=Math.random,c=bTe,u=[],d=null,f=1/0,h=kTe;const p=gTe,g={};function m(t,n,r){const o=n.x,i=n.y,a=Math.sqrt(e[0]*e[0]+e[1]*e[1]),c=l(e),u=s()<.5?1:-1;let d,f,h,p=-u;for(;(d=c(p+=u))&&(f=~~d[0],h=~~d[1],!(Math.min(Math.abs(f),Math.abs(h))>=a));)if(n.x=o+f,n.y=i+h,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>e[0]||n.y+n.y1>e[1])&&(!r||!wTe(n,t,e[0]))&&(!r||STe(n,r))){const r=n.sprite,o=n.width>>5,i=e[0]>>5,a=n.x-(o<<4),l=127&a,s=32-l,c=n.y1-n.y0;let u,d=(n.y+n.y0)*i+(a>>5);for(let e=0;e<c;e++){u=0;for(let n=0;n<=o;n++)t[d+n]|=u<<s|(n<o?(u=r[e*o+n])>>>l:0);d+=i}return delete n.sprite,!0}return!1}return g.start=function(){const[l,v]=e,y=function(e){e.width=e.height=1;const t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=fTe/t;const n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",n.textBaseline="middle",{context:n,ratio:t}}(h()),b=g.board?g.board:OTe((e[0]>>5)*e[1]),x=u.length,w=[],C=u.map(function(e,l,s){return e.text=t.call(this,e,l,s),e.font=n.call(this,e,l,s),e.style=p.call(this,e,l,s),e.weight=o.call(this,e,l,s),e.rotate=i.call(this,e,l,s),e.size=~~r.call(this,e,l,s),e.padding=a.call(this,e,l,s),e}).sort(function(e,t){return t.size-e.size});let S=-1,E=g.board?[{x:0,y:0},{x:l,y:v}]:void 0;function O(){const t=Date.now();for(;Date.now()-t<f&&++S<x;){const t=C[S];t.x=l*(s()+.5)>>1,t.y=v*(s()+.5)>>1,xTe(y,t,C,S),t.hasText&&m(b,t,E)&&(c.call(null,"word",{cloud:g,word:t}),w.push(t),E?g.hasImage||CTe(E,t):E=[{x:t.x+t.x0,y:t.y+t.y0},{x:t.x+t.x1,y:t.y+t.y1}],t.x-=e[0]>>1,t.y-=e[1]>>1)}g._tags=w,g._bounds=E,S>=x&&(g.stop(),c.call(null,"end",{cloud:g,words:w,bounds:E}))}return d&&clearInterval(d),d=setInterval(O,0),O(),g},g.stop=function(){return d&&(clearInterval(d),d=null),g},g.createMask=t=>{const n=document.createElement("canvas"),[r,o]=e;if(!r||!o)return;const i=r>>5,a=OTe((r>>5)*o);n.width=r,n.height=o;const l=n.getContext("2d");l.drawImage(t,0,0,t.width,t.height,0,0,r,o);const s=l.getImageData(0,0,r,o).data;for(let e=0;e<o;e++)for(let t=0;t<r;t++){const n=i*e+(t>>5),o=e*r+t<<2,l=s[o]>=250&&s[o+1]>=250&&s[o+2]>=250?1<<31-t%32:0;a[n]|=l}g.board=a,g.hasImage=!0},g.timeInterval=function(e){f=null==e?1/0:e},g.words=function(e){u=e},g.size=function(t=[]){e=[+t[0],+t[1]]},g.text=function(e){t=MTe(e)},g.font=function(e){n=MTe(e)},g.fontWeight=function(e){o=MTe(e)},g.rotate=function(e){i=MTe(e)},g.canvas=function(e){h=MTe(e)},g.spiral=function(e){l=$Te[e]||e},g.fontSize=function(e){r=MTe(e)},g.padding=function(e){a=MTe(e)},g.random=function(e){s=MTe(e)},g.on=function(e){c=MTe(e)},g}var NTe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(rw){i(rw)}}function l(e){try{s(r.throw(e))}catch(rw){i(rw)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const TTe={fontSize:[20,60],font:"Impact",padding:2,rotate:function(){return 30*(~~(6*Math.random())-3)}};function LTe(e){return new Promise((t,n)=>{if(e instanceof HTMLImageElement)t(e);else{if("string"==typeof e){const r=new Image;return r.crossOrigin="anonymous",r.src=e,r.onload=()=>t(r),void(r.onerror=()=>{n()})}n()}})}const RTe=(e,t)=>n=>NTe(void 0,void 0,void 0,function*(){const r=Object.assign({},TTe,e,{canvas:t.createCanvas}),o=ITe();var i,a;yield(i=o,a=r,{set(e,t,n){if(void 0===a[e])return this;const r=t?t.call(null,a[e]):a[e];return n?n.call(null,r):"function"==typeof i[e]?i[e](r):i[e]=r,this},setAsync(e,t,n){return uTe(this,void 0,void 0,function*(){if(void 0===a[e])return this;const r=t?yield t.call(null,a[e]):a[e];return n?n.call(null,r):"function"==typeof i[e]?i[e](r):i[e]=r,this})}}).set("fontSize",e=>{const t=n.map(e=>e.value);return function(e,t){if("function"==typeof e)return e;if(Array.isArray(e)){const[n,r]=e;if(!t)return()=>(r+n)/2;const[o,i]=t;return i===o?()=>(r+n)/2:({value:e})=>(r-n)/(i-o)*(e-o)+n}return()=>e}(e,[a9(t),o9(t)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").set("canvas").setAsync("imageMask",LTe,o.createMask),o.words([...n]);const l=o.start(),[s,c]=r.size,u=[{x:0,y:0},{x:s,y:c}],{_bounds:d=u,_tags:f,hasImage:h}=l,p=f.map(e=>{var{x:t,y:n,font:r}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["x","y","font"]);return Object.assign(Object.assign({},o),{x:t+s/2,y:n+c/2,fontFamily:r})}),[{x:g,y:m},{x:v,y:y}]=d,b={text:"",value:0,opacity:0,fontSize:0};return p.push(Object.assign(Object.assign({},b),{x:h?0:g,y:h?0:m}),Object.assign(Object.assign({},b),{x:h?s:v,y:h?c:y})),p});function _Te(e){return"string"==typeof e?t=>t[e]:e}RTe.props={};const ATe=e=>{const{join:t,on:n,select:r=[],as:o=r,unknown:i=NaN}=e,[a,l]=n,s=_Te(l),c=_Te(a),u=W7(t,([e])=>e,e=>s(e));return e=>e.map(e=>{const t=u.get(c(e));return Object.assign(Object.assign({},e),r.reduce((e,n,r)=>(e[o[r]]=t?t[n]:i,e),{}))})};ATe.props={};const PTe=e=>{const{start:t,end:n}=e;return e=>e.slice(t,n)};PTe.props={};var jTe={exports:{}},BTe={exports:{}};!function(e){var t=e.exports;e.exports.isNumber=function(e){return"number"==typeof e},e.exports.findMin=function(e){if(0===e.length)return 1/0;for(var t=e[0],n=1;n<e.length;n++)t=Math.min(t,e[n]);return t},e.exports.findMax=function(e){if(0===e.length)return-1/0;for(var t=e[0],n=1;n<e.length;n++)t=Math.max(t,e[n]);return t},e.exports.findMinMulti=function(e){for(var n=t.findMin(e[0]),r=1;r<e.length;r++)n=Math.min(n,t.findMin(e[r]));return n},e.exports.findMaxMulti=function(e){for(var n=t.findMax(e[0]),r=1;r<e.length;r++)n=Math.max(n,t.findMax(e[r]));return n},e.exports.inside=function(e,t,n){return e<=n&&n<=t}}(BTe);var DTe=BTe.exports;!function(e){var t=Math.log(2),n=e.exports,r=DTe;function o(e){return 1-Math.abs(e)}e.exports.getUnifiedMinMax=function(e,t){return n.getUnifiedMinMaxMulti([e],t)},e.exports.getUnifiedMinMaxMulti=function(e,t){t=t||{};var n=!1,o=!1,i=r.isNumber(t.width)?t.width:2,a=r.isNumber(t.size)?t.size:50,l=r.isNumber(t.min)?t.min:(n=!0,r.findMinMulti(e)),s=r.isNumber(t.max)?t.max:(o=!0,r.findMaxMulti(e)),c=(s-l)/(a-1);return n&&(l-=2*i*c),o&&(s+=2*i*c),{min:l,max:s}},e.exports.create=function(e,t){if(t=t||{},!e||0===e.length)return[];var i=r.isNumber(t.size)?t.size:50,a=r.isNumber(t.width)?t.width:2,l=n.getUnifiedMinMax(e,{size:i,width:a,min:t.min,max:t.max}),s=l.min,c=l.max-s,u=c/(i-1);if(0===c)return[{x:s,y:1}];for(var d=[],f=0;f<i;f++)d.push({x:s+f*u,y:0});var h=function(e,t){for(var n={},r=0,o=-t;o<=t;o++)r+=e(o/t),n[o]=r;return n}(o,a),p=h[a],g=h[a-1]-h[a-2],m=0;e.forEach(function(e){var t=function(e){return Math.floor((e-s)/u)}(e);if(!(t+a<0||t-a>=d.length)){var n=Math.max(t-a,0),o=t,i=Math.min(t+a,d.length-1),l=n-(t-a),c=t+a-i,f=h[-a-1+l]||0,v=h[-a-1+c]||0,y=p/(p-f-v);l>0&&(m+=y*(l-1)*g);var b=Math.max(0,t-a+1);r.inside(0,d.length-1,b)&&(d[b].y+=1*y*g),r.inside(0,d.length-1,o+1)&&(d[o+1].y-=2*y*g),r.inside(0,d.length-1,i+1)&&(d[i+1].y+=1*y*g)}});var v=m,y=0,b=0;return d.forEach(function(e){y+=e.y,v+=y,e.y=v,b+=v}),b>0&&d.forEach(function(e){e.y/=b}),d},e.exports.getExpectedValueFromPdf=function(e){if(e&&0!==e.length){var t=0;return e.forEach(function(e){t+=e.x*e.y}),t}},e.exports.getXWithLeftTailArea=function(e,t){if(e&&0!==e.length){for(var n=0,r=0,o=0;o<e.length&&(r=o,!((n+=e[o].y)>=t));o++);return e[r].x}},e.exports.getPerplexity=function(e){if(e&&0!==e.length){var n=0;return e.forEach(function(e){var t=Math.log(e.y);isFinite(t)&&(n+=e.y*t)}),n=-n/t,Math.pow(2,n)}}}(jTe);const zTe=h(jTe.exports),HTe=e=>{const{field:t,groupBy:n,as:r=["y","size"],min:o,max:i,size:a=10,width:l}=e,[s,c]=r;return e=>Array.from(H7(e,e=>n.map(t=>e[t]).join("-")).values()).map(e=>{const n=zTe.create(e.map(e=>e[t]),{min:o,max:i,size:a,width:l}),r=n.map(e=>e.x),u=n.map(e=>e.y);return Object.assign(Object.assign({},e[0]),{[s]:r,[c]:u})})};function FTe(e){const t=new Array(e);for(let n=0;n<e;++n)t[n]=0;return t}function WTe(e,t){return FTe(e).map(()=>FTe(t))}function GTe(e,t){let n=0;for(let r=0;r<e.length;++r)n+=e[r]*t[r];return n}function VTe(e){return Math.sqrt(GTe(e,e))}function qTe(e,t,n){for(let r=0;r<t.length;++r)e[r]=t[r]*n}function XTe(e,t,n,r,o){for(let i=0;i<e.length;++i)e[i]=t*n[i]+r*o[i]}function UTe(e,t,n,r,o,i,a){const l=n.fx,s=GTe(n.fxprime,t);let c=l,u=l,d=s,f=0;function h(u,f,h){for(let p=0;p<16;++p)if(o=(u+f)/2,XTe(r.x,1,n.x,o,t),c=r.fx=e(r.x,r.fxprime),d=GTe(r.fxprime,t),c>l+i*o*s||c>=h)f=o;else{if(Math.abs(d)<=-a*s)return o;d*(f-u)>=0&&(f=u),u=o,h=c}return 0}o=o||1,i=i||1e-6,a=a||.1;for(let p=0;p<10;++p){if(XTe(r.x,1,n.x,o,t),c=r.fx=e(r.x,r.fxprime),d=GTe(r.fxprime,t),c>l+i*o*s||p&&c>=u)return h(f,o,u);if(Math.abs(d)<=-a*s)return o;if(d>=0)return h(o,f,c);u=c,f=o,o*=2}return o}function YTe(e,t,n){let r={x:t.slice(),fx:0,fxprime:t.slice()},o={x:t.slice(),fx:0,fxprime:t.slice()};const i=t.slice();let a,l=1;const s=(n=n||{}).maxIterations||20*t.length;r.fx=e(r.x,r.fxprime);const c=r.fxprime.slice();qTe(c,r.fxprime,-1);for(let u=0;u<s;++u){if(l=UTe(e,c,r,o,l),n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:l}),l){XTe(i,1,o.fxprime,-1,r.fxprime);const e=GTe(r.fxprime,r.fxprime);XTe(c,Math.max(0,GTe(i,o.fxprime)/e),c,-1,o.fxprime),a=r,r=o,o=a}else qTe(c,r.fxprime,-1);if(VTe(r.fxprime)<=1e-5)break}return n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:l}),r}HTe.props={};const KTe=1e-10;function ZTe(e,t){const n=function(e){const t=[];for(let n=0;n<e.length;++n)for(let r=n+1;r<e.length;++r){const o=tLe(e[n],e[r]);for(let e=0;e<o.length;++e){const i=o[e];i.parentIndex=[n,r],t.push(i)}}return t}(e),r=n.filter(function(t){return function(e,t){for(let n=0;n<t.length;++n)if(JTe(e,t[n])>t[n].radius+KTe)return!1;return!0}(t,e)});let o,i=0,a=0;const l=[];if(r.length>1){const t=function(e){const t={x:0,y:0};for(let n=0;n<e.length;++n)t.x+=e[n].x,t.y+=e[n].y;return t.x/=e.length,t.y/=e.length,t}(r);for(o=0;o<r.length;++o){const e=r[o];e.angle=Math.atan2(e.x-t.x,e.y-t.y)}r.sort(function(e,t){return t.angle-e.angle});let n=r[r.length-1];for(o=0;o<r.length;++o){const t=r[o];a+=(n.x+t.x)*(t.y-n.y);const s={x:(t.x+n.x)/2,y:(t.y+n.y)/2};let c=null;for(let r=0;r<t.parentIndex.length;++r)if(n.parentIndex.indexOf(t.parentIndex[r])>-1){const o=e[t.parentIndex[r]],i=Math.atan2(t.x-o.x,t.y-o.y),a=Math.atan2(n.x-o.x,n.y-o.y);let l=a-i;l<0&&(l+=2*Math.PI);const u=a-l/2;let d=JTe(s,{x:o.x+o.radius*Math.sin(u),y:o.y+o.radius*Math.cos(u)});d>2*o.radius&&(d=2*o.radius),(null===c||c.width>d)&&(c={circle:o,width:d,p1:t,p2:n})}null!==c&&(l.push(c),i+=QTe(c.circle.radius,c.width),n=t)}}else{let t=e[0];for(o=1;o<e.length;++o)e[o].radius<t.radius&&(t=e[o]);let n=!1;for(o=0;o<e.length;++o)if(JTe(e[o],t)>Math.abs(t.radius-e[o].radius)){n=!0;break}n?i=a=0:(i=t.radius*t.radius*Math.PI,l.push({circle:t,p1:{x:t.x,y:t.y+t.radius},p2:{x:t.x-KTe,y:t.y+t.radius},width:2*t.radius}))}return a/=2,t&&(t.area=i+a,t.arcArea=i,t.polygonArea=a,t.arcs=l,t.innerPoints=r,t.intersectionPoints=n),i+a}function QTe(e,t){return e*e*Math.acos(1-t/e)-(e-t)*Math.sqrt(t*(2*e-t))}function JTe(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function eLe(e,t,n){if(n>=e+t)return 0;if(n<=Math.abs(e-t))return Math.PI*Math.min(e,t)*Math.min(e,t);const r=t-(n*n-e*e+t*t)/(2*n);return QTe(e,e-(n*n-t*t+e*e)/(2*n))+QTe(t,r)}function tLe(e,t){const n=JTe(e,t),r=e.radius,o=t.radius;if(n>=r+o||n<=Math.abs(r-o))return[];const i=(r*r-o*o+n*n)/(2*n),a=Math.sqrt(r*r-i*i),l=e.x+i*(t.x-e.x)/n,s=e.y+i*(t.y-e.y)/n,c=-(t.y-e.y)*(a/n),u=-(t.x-e.x)*(a/n);return[{x:l+c,y:s-u},{x:l-c,y:s+u}]}function nLe(e,t){(t=t||{}).maxIterations=t.maxIterations||500;const n=t.initialLayout||iLe,r=t.lossFunction||aLe,o=n(e=function(e){e=e.slice();const t=[],n={};let r,o,i,a;for(r=0;r<e.length;++r){const o=e[r];1==o.sets.length?t.push(o.sets[0]):2==o.sets.length&&(i=o.sets[0],a=o.sets[1],n[[i,a]]=!0,n[[a,i]]=!0)}for(t.sort((e,t)=>e>t?1:-1),r=0;r<t.length;++r)for(i=t[r],o=r+1;o<t.length;++o)a=t[o],[i,a]in n||e.push({sets:[i,a],size:0});return e}(e),t),i=[],a=[];let l;for(l in o)o.hasOwnProperty(l)&&(i.push(o[l].x),i.push(o[l].y),a.push(l));const s=function(e,t,n){const r=(n=n||{}).maxIterations||200*t.length,o=n.nonZeroDelta||1.05,i=n.zeroDelta||.001,a=n.minErrorDelta||1e-6,l=n.minErrorDelta||1e-5,s=void 0!==n.rho?n.rho:1,c=void 0!==n.chi?n.chi:2,u=void 0!==n.psi?n.psi:-.5,d=void 0!==n.sigma?n.sigma:.5;let f;const h=t.length,p=new Array(h+1);p[0]=t,p[0].fx=e(t),p[0].id=0;for(let w=0;w<h;++w){const n=t.slice();n[w]=n[w]?n[w]*o:i,p[w+1]=n,p[w+1].fx=e(n),p[w+1].id=w+1}function g(e){for(let t=0;t<e.length;t++)p[h][t]=e[t];p[h].fx=e.fx}const m=(e,t)=>e.fx-t.fx,v=t.slice(),y=t.slice(),b=t.slice(),x=t.slice();for(let w=0;w<r;++w){if(p.sort(m),n.history){const e=p.map(e=>{const t=e.slice();return t.fx=e.fx,t.id=e.id,t});e.sort((e,t)=>e.id-t.id),n.history.push({x:p[0].slice(),fx:p[0].fx,simplex:e})}f=0;for(let e=0;e<h;++e)f=Math.max(f,Math.abs(p[0][e]-p[1][e]));if(Math.abs(p[0].fx-p[h].fx)<a&&f<l)break;for(let e=0;e<h;++e){v[e]=0;for(let t=0;t<h;++t)v[e]+=p[t][e];v[e]/=h}const t=p[h];if(XTe(y,1+s,v,-s,t),y.fx=e(y),y.fx<p[0].fx)XTe(x,1+c,v,-c,t),x.fx=e(x),x.fx<y.fx?g(x):g(y);else if(y.fx>=p[h-1].fx){let n=!1;if(y.fx>t.fx?(XTe(b,1+u,v,-u,t),b.fx=e(b),b.fx<t.fx?g(b):n=!0):(XTe(b,1-u*s,v,u*s,t),b.fx=e(b),b.fx<y.fx?g(b):n=!0),n){if(d>=1)break;for(let t=1;t<p.length;++t)XTe(p[t],1-d,p[0],d,p[t]),p[t].fx=e(p[t])}}else g(y)}return p.sort(m),{fx:p[0].fx,x:p[0]}}(function(t){const n={};for(let e=0;e<a.length;++e){const r=a[e];n[r]={x:t[2*e],y:t[2*e+1],radius:o[r].radius}}return r(n,e)},i,t),c=s.x;for(let u=0;u<a.length;++u)l=a[u],o[l].x=c[2*u],o[l].y=c[2*u+1];return o}const rLe=1e-10;function oLe(e,t,n){return Math.min(e,t)*Math.min(e,t)*Math.PI<=n+rLe?Math.abs(e-t):function(e,t,n,r){const o=(r=r||{}).maxIterations||100,i=r.tolerance||1e-10,a=e(t),l=e(n);let s=n-t;if(a*l>0)throw"Initial bisect points must have opposite signs";if(0===a)return t;if(0===l)return n;for(let c=0;c<o;++c){s/=2;const n=t+s,r=e(n);if(r*a>=0&&(t=n),Math.abs(s)<i||0===r)return n}return t+s}(function(r){return eLe(e,t,r)-n},0,e+t)}function iLe(e,t){let n=function(e,t){const n=t&&t.lossFunction?t.lossFunction:aLe,r={},o={};let i;for(let d=0;d<e.length;++d){const t=e[d];1==t.sets.length&&(i=t.sets[0],r[i]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:t.size,radius:Math.sqrt(t.size/Math.PI)},o[i]=[])}e=e.filter(function(e){return 2==e.sets.length});for(let d=0;d<e.length;++d){const t=e[d];let n=t.hasOwnProperty("weight")?t.weight:1;const i=t.sets[0],a=t.sets[1];t.size+rLe>=Math.min(r[i].size,r[a].size)&&(n=0),o[i].push({set:a,size:t.size,weight:n}),o[a].push({set:i,size:t.size,weight:n})}const a=[];for(i in o)if(o.hasOwnProperty(i)){let e=0;for(let t=0;t<o[i].length;++t)e+=o[i][t].size*o[i][t].weight;a.push({set:i,size:e})}function l(e,t){return t.size-e.size}a.sort(l);const s={};function c(e){return e.set in s}function u(e,t){r[t].x=e.x,r[t].y=e.y,s[t]=!0}u({x:0,y:0},a[0].set);for(let d=1;d<a.length;++d){const t=a[d].set,s=o[t].filter(c);if(i=r[t],s.sort(l),0===s.length)throw"ERROR: missing pairwise overlap information";const f=[];for(let e=0;e<s.length;++e){const t=r[s[e].set],n=oLe(i.radius,t.radius,s[e].size);f.push({x:t.x+n,y:t.y}),f.push({x:t.x-n,y:t.y}),f.push({y:t.y+n,x:t.x}),f.push({y:t.y-n,x:t.x});for(let o=e+1;o<s.length;++o){const e=r[s[o].set],a=oLe(i.radius,e.radius,s[o].size),l=tLe({x:t.x,y:t.y,radius:n},{x:e.x,y:e.y,radius:a});for(let t=0;t<l.length;++t)f.push(l[t])}}let h=1e50,p=f[0];for(let o=0;o<f.length;++o){r[t].x=f[o].x,r[t].y=f[o].y;const i=n(r,e);i<h&&(h=i,p=f[o])}u(p,t)}return r}(e,t);const r=t.lossFunction||aLe;if(e.length>=8){const o=function(e,t){t=t||{};const n=t.restarts||10,r=[],o={};let i;for(i=0;i<e.length;++i){const t=e[i];1==t.sets.length&&(o[t.sets[0]]=r.length,r.push(t))}const a=function(e,t,n){const r=WTe(t.length,t.length),o=WTe(t.length,t.length);return e.filter(function(e){return 2==e.sets.length}).map(function(e){const i=n[e.sets[0]],a=n[e.sets[1]],l=oLe(Math.sqrt(t[i].size/Math.PI),Math.sqrt(t[a].size/Math.PI),e.size);r[i][a]=r[a][i]=l;let s=0;e.size+1e-10>=Math.min(t[i].size,t[a].size)?s=1:e.size<=1e-10&&(s=-1),o[i][a]=o[a][i]=s}),{distances:r,constraints:o}}(e,r,o);let l=a.distances;const s=a.constraints,c=VTe(l.map(VTe))/l.length;l=l.map(function(e){return e.map(function(e){return e/c})});const u=function(e,t){return function(e,t,n,r){let o,i=0;for(o=0;o<t.length;++o)t[o]=0;for(o=0;o<n.length;++o){const a=e[2*o],l=e[2*o+1];for(let s=o+1;s<n.length;++s){const c=e[2*s],u=e[2*s+1],d=n[o][s],f=r[o][s],h=(c-a)*(c-a)+(u-l)*(u-l),p=Math.sqrt(h),g=h-d*d;f>0&&p<=d||f<0&&p>=d||(i+=2*g*g,t[2*o]+=4*g*(a-c),t[2*o+1]+=4*g*(l-u),t[2*s]+=4*g*(c-a),t[2*s+1]+=4*g*(u-l))}}return i}(e,t,l,s)};let d,f;for(i=0;i<n;++i){f=YTe(u,FTe(2*l.length).map(Math.random),t),(!d||f.fx<d.fx)&&(d=f)}const h=d.x,p={};for(i=0;i<r.length;++i){const e=r[i];p[e.sets[0]]={x:h[2*i]*c,y:h[2*i+1]*c,radius:Math.sqrt(e.size/Math.PI)}}if(t.history)for(i=0;i<t.history.length;++i)qTe(t.history[i].x,c);return p}(e,t);r(o,e)+1e-8<r(n,e)&&(n=o)}return n}function aLe(e,t){let n=0;function r(t){return t.map(function(t){return e[t]})}for(let o=0;o<t.length;++o){const i=t[o];let a;if(1==i.sets.length)continue;if(2==i.sets.length){const t=e[i.sets[0]],n=e[i.sets[1]];a=eLe(t.radius,n.radius,JTe(t,n))}else a=ZTe(r(i.sets));n+=(i.hasOwnProperty("weight")?i.weight:1)*(a-i.size)*(a-i.size)}return n}function lLe(e,t,n,r){const o=[],i=[];for(const g in e)e.hasOwnProperty(g)&&(i.push(g),o.push(e[g]));t-=2*r,n-=2*r;const a=function(e){const t=function(t){return{max:Math.max.apply(null,e.map(function(e){return e[t]+e.radius})),min:Math.min.apply(null,e.map(function(e){return e[t]-e.radius}))}};return{xRange:t("x"),yRange:t("y")}}(o),l=a.xRange,s=a.yRange;if(l.max==l.min||s.max==s.min)return e;const c=t/(l.max-l.min),u=n/(s.max-s.min),d=Math.min(u,c),f=(t-(l.max-l.min)*d)/2,h=(n-(s.max-s.min)*d)/2,p={};for(let g=0;g<o.length;++g){const e=o[g];p[i[g]]={radius:d*e.radius,x:r+f+(e.x-l.min)*d,y:r+h+(e.y-s.min)*d}}return p}const sLe=e=>{const{sets:t="sets",size:n="size",as:r=["key","path"],padding:o=0}=e,[i,a]=r;return e=>{const r=e.map(e=>Object.assign(Object.assign({},e),{sets:e[t],size:e[n],[i]:e.sets.join("&")}));r.sort((e,t)=>e.sets.length-t.sets.length);const l=nLe(r);let s;return r.map(e=>{const n=e[t];return Object.assign(Object.assign({},e),{[a]:({width:e,height:t})=>{s=s||lLe(l,e,t,o);let r=function(e){const t={};ZTe(e,t);const n=t.arcs;if(0===n.length)return"M 0 0";if(1==n.length){const e=n[0].circle;return function(e,t,n){const r=[],o=e-n,i=t;return r.push("M",o,i),r.push("A",n,n,0,1,0,o+2*n,i),r.push("A",n,n,0,1,0,o,i),r.join(" ")}(e.x,e.y,e.radius)}{const e=["\nM",n[0].p2.x,n[0].p2.y];for(let t=0;t<n.length;++t){const r=n[t],o=r.circle.radius,i=r.width>o;e.push("\nA",o,o,0,i?1:0,1,r.p1.x,r.p1.y)}return e.join(" ")}}(n.map(e=>s[e]));return/[zZ]$/.test(r)||(r+=" Z"),r}})})}};sLe.props={};const cLe=()=>e=>e;cLe.props={};const uLe=e=>{const{field:t="y",alpha:n=.6,as:r=t}=e;return e=>{const o=function(e,t){if(t<0||t>1)throw new Error("alpha must be between 0 and 1.");if(0===e.length)return[];let n=e[0];const r=[];for(const o of e){if(null==o){r.push(o);continue}null==n&&(n=o);const e=n*t+(1-t)*o;r.push(e),n=e}return r}(e.map(e=>e[t]),n);return e.map((e,t)=>Object.assign(Object.assign({},e),{[r]:o[t]}))}};uLe.props={};function dLe(e){const{min:t,max:n}=e;return[[t[0],t[1]],[n[0],n[1]]]}function fLe(e,t,n=.01){const[r,o]=e,[i,a]=t;return r>=i[0]-n&&r<=a[0]+n&&o>=i[1]-n&&o<=a[1]+n}function hLe(e,t,n=.01){const[r,o]=e;return!(fLe(r,t,n)&&fLe(o,t,n))}const pLe=e=>{const{priority:t}=e;return e=>{const n=[];return t&&e.sort(t),e.forEach(e=>{a$e(e);const t=e.getLocalBounds(),r=n.some(e=>function(e,t){const[n,r]=e,[o,i]=t;return n[0]<i[0]&&r[0]>o[0]&&n[1]<i[1]&&r[1]>o[1]}(dLe(t),dLe(e.getLocalBounds())));r?i$e(e):n.push(e)}),e}};function gLe([e,t],[n,r]){return r>e&&t>n}function mLe(){const e=new Map;return[t=>e.get(t),(t,n)=>e.set(t,n)]}function vLe(e){const t=e.cloneNode(!0),n=t.getElementById("connector");n&&t.removeChild(n);const{min:r,max:o}=t.getRenderBounds();return t.destroy(),{min:r,max:o}}const yLe=e=>{const{maxIterations:t=10,maxError:n=.1,padding:r=1}=e;return e=>{const o=e.length;if(o<=1)return e;const[i,a]=mLe(),[l,s]=mLe(),[c,u]=mLe(),[d,f]=mLe();for(const t of e){const{min:e,max:n}=vLe(t),[r,o]=e,[i,l]=n;a(t,o),s(t,o),u(t,l-o),f(t,[r,i])}for(let h=0;h<t;h++){e.sort((e,t)=>E7(l(e),l(t)));let t=0;for(let n=0;n<o-1;n++){const o=e[n];let i,a=n+1;for(;(i=e[a])&&!gLe(d(o),d(i));)a+=1;if(i){const e=l(o),n=c(o),a=l(i),u=a-(e+n);if(u<r){const n=(r-u)/2;t=Math.max(t,n),s(o,e-n),s(i,a+n)}}}if(t<n)break}for(const t of e)t.style.y+=l(t)-i(t);return e}};function bLe(e){return"object"==typeof e?e:dG(e)}function xLe(e){let t=e/255;return t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),t}function wLe(e,t,n){return.2126*xLe(e)+.7152*xLe(t)+.0722*xLe(n)}function CLe(e,t){if(!e||!t||e===t)return 1;const{r:n,g:r,b:o}=e,{r:i,g:a,b:l}=t,s=wLe(n,r,o),c=wLe(i,a,l);return(Math.max(s,c)+.05)/(Math.min(s,c)+.05)}function SLe(e,t){return t[i9(t,t=>CLe(e,bLe(t)))]}const ELe=e=>{const{threshold:t=4.5,palette:n=["#000","#fff"]}=e;return e=>(e.forEach(e=>{const r=e.attr("dependentElement").parsedStyle.fill;CLe(e.parsedStyle.fill,r)<t&&e.attr("fill",SLe(r,n))}),e)},OLe=()=>e=>(e.forEach(e=>{a$e(e);const t=e.attr("bounds");hLe(dLe(e.getLocalBounds()),t)&&i$e(e)}),e),kLe=(e={})=>(t,{canvas:n,layout:r})=>{const{bounds:o="view",offsetX:i=0,offsetY:a=0}=e,l=(()=>{if("main"===o){const{x:e=0,y:t=0,width:n=0,height:o=0,marginLeft:l=0,marginRight:s=0,marginTop:c=0,marginBottom:u=0,paddingLeft:d=0,paddingRight:f=0,paddingTop:h=0,paddingBottom:p=0}=r;return[[e+l+d+i,t+c+h+a],[e+n-s-f-i,t+o-u-p-a]]}{const{x:e=0,y:t=0,width:n=0,height:o=0}=r;return[[e+i,t+a],[e+n-i,t+o-a]]}})();return t.forEach(e=>{a$e(e);const{max:t,min:n}=(r=e.getRenderBounds(),o=e.getBounds(),{min:[Math.min(r.min[0],o.min[0]),Math.min(r.min[1],o.min[1])],max:[Math.max(r.max[0],o.max[0]),Math.max(r.max[1],o.max[1])]});var r,o;const[i,a]=t,[s,c]=n,u=((e,t)=>{const[[n,r],[o,i]]=t,[[a,l],[s,c]]=e;let u=0,d=0;return a<n?u=n-a:s>o&&(u=o-s),l<r?d=r-l:c>i&&(d=i-c),[u,d]})([[s,c],[i,a]],l);e.style.connector&&e.style.connectorPoints&&(e.style.connectorPoints[0][0]-=u[0],e.style.connectorPoints[0][1]-=u[1]),e.style.x+=u[0],e.style.y+=u[1]}),t};function MLe(e){var t;const n=e.getAnimations();if(!n||0===n.length)return f$e(e);const r=e.cloneNode(!0);r.style.visibility="hidden",n.forEach(e=>{const t=e.effect.getKeyframes();t&&t.length>0&&r.attr(t[t.length-1])}),null===(t=e.parentNode)||void 0===t||t.appendChild(r);const o=f$e(r);return r.destroy(),o}const $Le=e=>{const{palette:t=["#000","#fff"],threshold:n=2}=e;return e=>(e.forEach(e=>{var r,o;const i=e.attr("dependentElement"),a=null!==(o=null!==(r=e.attributes.fill)&&void 0!==r?r:e.parsedStyle.fill)&&void 0!==o?o:"#fff";if(hLe(dLe(MLe(e)),dLe(MLe(i)),n)){const n=SLe(bLe(a),t);e.attr("stroke",n)}else e.removeAttribute("stroke")}),e)};function ILe(){return{"data.fetch":JNe,"data.inline":lTe,"data.sortBy":aTe,"data.sort":rTe,"data.filter":nTe,"data.pick":oTe,"data.rename":iTe,"data.fold":eTe,"data.slice":PTe,"data.custom":sTe,"data.map":cTe,"data.join":ATe,"data.kde":HTe,"data.log":cLe,"data.wordCloud":RTe,"data.ema":uLe,"transform.stackY":cne,"transform.binX":kre,"transform.bin":Ore,"transform.dodgeX":Tne,"transform.jitter":Pne,"transform.jitterX":jne,"transform.jitterY":Bne,"transform.symmetryY":Dne,"transform.diffY":zne,"transform.stackEnter":Lne,"transform.normalizeY":Rne,"transform.select":Vne,"transform.selectX":qne,"transform.selectY":Xne,"transform.groupX":ire,"transform.groupY":are,"transform.groupColor":lre,"transform.group":ore,"transform.sortX":cre,"transform.sortY":dre,"transform.sortColor":ure,"transform.flexX":fre,"transform.pack":Cre,"transform.sample":$re,"transform.filter":Ire,"coordinate.cartesian":e7,"coordinate.polar":n7,"coordinate.transpose":o7,"coordinate.theta":i7,"coordinate.parallel":s7,"coordinate.fisheye":c7,"coordinate.radial":l7,"coordinate.radar":u7,"coordinate.helix":r7,"encode.constant":d7,"encode.field":h7,"encode.transform":f7,"encode.column":p7,"mark.interval":Ofe,"mark.rect":Mfe,"mark.line":Tfe,"mark.point":Rfe,"mark.text":Afe,"mark.cell":jfe,"mark.area":Dfe,"mark.link":Hfe,"mark.image":Wfe,"mark.polygon":Vfe,"mark.box":Xfe,"mark.vector":Yfe,"mark.lineX":Jfe,"mark.lineY":Zfe,"mark.connector":the,"mark.range":ihe,"mark.rangeX":lhe,"mark.rangeY":che,"mark.path":qhe,"mark.shape":mge,"mark.density":hme,"mark.heatmap":gme,"mark.wordCloud":ome,"mark.beeswarm":xme,"palette.category10":wme,"palette.category20":Cme,"scale.linear":Eme,"scale.ordinal":Ome,"scale.band":Sme,"scale.identity":kme,"scale.point":Mme,"scale.time":$me,"scale.log":Ime,"scale.pow":Nme,"scale.sqrt":_me,"scale.threshold":Tme,"scale.quantile":Lme,"scale.quantize":Rme,"scale.sequential":Ame,"scale.constant":Pme,"theme.classic":zme,"theme.classicDark":Wme,"theme.academy":Vme,"theme.light":Dme,"theme.dark":Fme,"component.axisX":Eve,"component.axisY":Ove,"component.legendCategory":Rve,"component.legendContinuous":Bve,"component.legends":iye,"component.title":Vve,"component.sliderX":eye,"component.sliderY":tye,"component.scrollbarX":rye,"component.scrollbarY":oye,"animation.scaleInX":aye,"animation.scaleOutX":lye,"animation.scaleInY":sye,"animation.scaleOutY":cye,"animation.waveIn":Oye,"animation.fadeIn":uye,"animation.fadeOut":dye,"animation.zoomIn":kye,"animation.zoomOut":Mye,"animation.pathIn":$ye,"animation.morphing":Eye,"animation.growInX":Iye,"animation.growInY":Nye,"interaction.elementHighlight":F$e,"interaction.elementHighlightByX":W$e,"interaction.elementHighlightByColor":G$e,"interaction.elementSelect":q$e,"interaction.elementSelectByX":X$e,"interaction.elementSelectByColor":U$e,"interaction.fisheye":Z$e,"interaction.chartIndex":K$e,"interaction.tooltip":xIe,"interaction.legendFilter":LIe,"interaction.legendHighlight":RIe,"interaction.brushHighlight":WIe,"interaction.brushXHighlight":VIe,"interaction.brushYHighlight":XIe,"interaction.brushAxisHighlight":tNe,"interaction.brushFilter":oNe,"interaction.brushXFilter":iNe,"interaction.brushYFilter":aNe,"interaction.sliderFilter":bNe,"interaction.sliderWheel":SNe,"interaction.scrollbarFilter":ONe,"interaction.poptip":INe,"interaction.treemapDrillDown":LNe,"interaction.elementPointMove":FNe,"composition.spaceLayer":Uxe,"composition.spaceFlex":Kxe,"composition.facetRect":hwe,"composition.repeatMatrix":xwe,"composition.facetCircle":kwe,"composition.timingKeyframe":$we,"labelTransform.overlapHide":pLe,"labelTransform.overlapDodgeY":yLe,"labelTransform.overflowHide":OLe,"labelTransform.contrastReverse":ELe,"labelTransform.overflowStroke":$Le,"labelTransform.exceedAdjust":kLe}}function NLe(e,t){const n=[e];for(;n.length;){const e=n.shift();t&&t(e);const r=e.children||[];for(const t of r)n.push(t)}}let TLe=class{constructor(e={},t){this.parentNode=null,this.children=[],this.index=0,this.type=t,this.value=e}map(e=e=>e){const t=e(this.value);return this.value=t,this}attr(e,t){return 1===arguments.length?this.value[e]:this.map(n=>(n[e]=t,n))}append(e){const t=new e({});return t.children=[],this.push(t),t}push(e){return e.parentNode=this,e.index=this.children.length,this.children.push(e),this}remove(){const e=this.parentNode;if(e){const{children:t}=e,n=t.findIndex(e=>e===this);t.splice(n,1)}return this}getNodeByKey(e){let t=null;return NLe(this,n=>{e===n.attr("key")&&(t=n)}),t}getNodesByType(e){const t=[];return NLe(this,n=>{e===n.type&&t.push(n)}),t}getNodeByType(e){let t=null;return NLe(this,n=>{t||e===n.type&&(t=n)}),t}call(e,...t){return e(this.map(),...t),this}getRoot(){let e=this;for(;e&&e.parentNode;)e=e.parentNode;return e}};function LLe(e,t,{key:n=t}){e.prototype[t]=function(e){return 0===arguments.length?this.attr(n):this.attr(n,e)}}function RLe(e,t,{key:n=t}){e.prototype[t]=function(e){if(0===arguments.length)return this.attr(n);if(Array.isArray(e))return this.attr(n,e);const t=[...this.attr(n)||[],e];return this.attr(n,t)}}function _Le(e,t,{key:n=t}){e.prototype[t]=function(e,t){if(0===arguments.length)return this.attr(n);if(1===arguments.length&&"string"!=typeof e)return this.attr(n,e);const r=this.attr(n)||{};return r[e]=1===arguments.length||t,this.attr(n,r)}}function ALe(e,t,n){e.prototype[t]=function(e){if(0===arguments.length)return this.attr(t);if(Array.isArray(e))return this.attr(t,{items:e});if(qte(e)&&(void 0!==e.title||void 0!==e.items))return this.attr(t,e);if(null===e||!1===e)return this.attr(t,e);const n=this.attr(t)||{},{items:r=[]}=n;return r.push(e),n.items=r,this.attr(t,n)}}function PLe(e,t,{ctor:n}){e.prototype[t]=function(e){const r=this.append(n);return"mark"===t&&(r.type=e),r}}function jLe(e,t,{ctor:n}){e.prototype[t]=function(){return this.type=null,this.append(n)}}const BLe={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}};Object.assign(Object.assign({},BLe),{tooltip:{type:"mix"},viewStyle:{type:"object"}});const DLe=Object.assign(Object.assign({},BLe),{labelTransform:{type:"array"}});let zLe=class extends TLe{changeData(e){var t;const n=this.getRoot();if(n)return this.attr("data",e),(null===(t=this.children)||void 0===t?void 0:t.length)&&this.children.forEach(t=>{t.attr("data",e)}),null==n?void 0:n.render()}getView(){const e=this.getRoot(),{views:t}=e.getContext();if(null==t?void 0:t.length)return t.find(e=>e.key===this._key)}getScale(){var e;return null===(e=this.getView())||void 0===e?void 0:e.scale}getScaleByChannel(e){const t=this.getScale();if(t)return t[e]}getCoordinate(){var e;return null===(e=this.getView())||void 0===e?void 0:e.coordinate}getTheme(){var e;return null===(e=this.getView())||void 0===e?void 0:e.theme}getGroup(){const e=this._key;if(!e)return;return this.getRoot().getContext().canvas.getRoot().getElementById(e)}show(){const e=this.getGroup();e&&!e.isVisible()&&a$e(e)}hide(){const e=this.getGroup();e&&e.isVisible()&&i$e(e)}};var HLe,FLe,WLe;function GLe(e,t,n){!function(e,t,n){const{rowId:r}=t,{facet:o,interaction:i}=n,{rowHeader:a}=e===aK.HOVER?i.getHoverHighlight():i.getSelectedCellHighlight();a&&r&&o5(r,o.getAxisRowCells(),e)}(e,t,n),function(e,t,n){const{colId:r}=t,{facet:o,interaction:i}=n,{colHeader:a}=e===aK.HOVER?i.getHoverHighlight():i.getSelectedCellHighlight();a&&r&&o5(r,o.getAxisColCells(),e)}(e,t,n)}zLe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([(HLe=DLe,e=>{for(const[t,n]of Object.entries(HLe)){const{type:r}=n;"value"===r?LLe(e,t,n):"array"===r?RLe(e,t,n):"object"===r?_Le(e,t,n):"node"===r?PLe(e,t,n):"container"===r?jLe(e,t,n):"mix"===r&&ALe(e,t)}return e})],zLe),Object.assign({},Object.assign(Object.assign(Object.assign(Object.assign({},{"composition.geoView":kEe,"composition.geoPath":Iwe}),{"data.arc":Bhe,"data.cluster":Kge,"mark.forceGraph":Uge,"mark.tree":nme,"mark.pack":ige,"mark.sankey":_he,"mark.chord":Ghe,"mark.treemap":nge}),{"data.venn":sLe,"mark.boxplot":gge,"mark.gauge":dme,"mark.wordCloud":ome,"mark.liquid":yme}),ILe())),(WLe=FLe||(FLe={})).AXIS_ROW_CELL="axisRowCell",WLe.AXIS_COL_CELL="axisColCell",WLe.AXIS_CORNER_CELL="axisCornerCell";const VLe={autoFit:!0,animate:!1,margin:1},qLe=Object.assign(Object.assign({},VLe),{type:"interval",axis:!1,legend:!1}),XLe={hierarchyType:"grid",interaction:{selectedCellsSpotlight:!1,copy:{enable:!1}},style:{colCell:{hideValue:!1}}},ULe={chart:{coordinate:"cartesian"},interaction:{customInteractions:[{key:"axisHover",interaction:class extends p6{shouldSkipDataCellHoverEvent(e){const t=this.spreadsheet.getCell(e.target);if(vY.isEmpty(t))return!0}bindDataCellHover(){this.spreadsheet.on(BY.DATA_CELL_HOVER_TRIGGERED_PRIVATE,e=>{const{options:t}=this.spreadsheet,{interaction:n}=t,r=null==e?void 0:e.getMeta();(null==n?void 0:n.hoverHighlight)&&GLe(aK.HOVER,r,this.spreadsheet)})}bindHeaderCellHover(){this.spreadsheet.on(BY.GLOBAL_HOVER,e=>{const t=this.spreadsheet.getCell(e.target);t&&(t.cellType!==FLe.AXIS_ROW_CELL&&t.cellType!==FLe.AXIS_COL_CELL||this.handleHeaderHover(e))})}}},{key:"axisClick",interaction:class extends h6{bindEvents(){this.bindKeyboardDown(),this.bindKeyboardUp(),this.bindAxisCellClick(),this.bindDataCellClick(),this.bindMouseMove()}bindAxisCellClick(){this.spreadsheet.on(BY.GLOBAL_CLICK,e=>{const t=this.spreadsheet.getCell(e.target);t&&t.cellType===FLe.AXIS_ROW_CELL&&this.handleRowColClick(e)})}bindDataCellClick(){this.spreadsheet.on(BY.DATA_CELL_CLICK_TRIGGERED_PRIVATE,e=>{var t;const n=e.getMeta();(null===(t=this.spreadsheet.options.interaction)||void 0===t?void 0:t.selectedCellHighlight)&&GLe(aK.SELECTED,n,this.spreadsheet)})}}}]}},YLe={fields:{customValueOrder:null}},KLe=200,ZLe="rowAxisHeaderFrozenGroup",QLe="rowAxisHeaderResizeArea",JLe="colAxisFrozenGroup",eRe="colAxisHeaderResizeArea",tRe="$$placeholder$$",nRe="$$should_formatter$$";function rRe(e){var t;const n=e.getThemeName();return{theme:{type:null!==(t=BZ[n])&&void 0!==t?t:"light"}}}function oRe(e){return{titleSpacing:0,titleFontSize:e.bolderText.fontSize,titleFontFamily:e.bolderText.fontFamily,titleFontWeight:e.bolderText.fontWeight,titleFill:e.bolderText.fill,titleFillOpacity:e.bolderText.opacity,labelAlign:"horizontal",labelAutoRotate:!1,labelFontSize:e.text.fontSize,labelFontFamily:e.text.fontFamily,labelFontWeight:e.text.fontWeight,labelFill:e.text.fill,labelFillOpacity:e.text.opacity,labelStroke:e.text.fill,labelStrokeOpacity:e.text.fill,tick:!0,tickStroke:e.text.fill,tickStrokeOpacity:e.text.opacity,line:!1,lineStroke:e.text.fill,lineStrokeOpacity:e.text.opacity,grid:!1}}function iRe(e){var t,n;return(null===(n=(t=e).isPolarCoordinate)||void 0===n?void 0:n.call(t))?{}:{coordinate:{transform:e.isValueInCols()?[{type:"transpose"}]:void 0}}}function aRe(e,t){return{type:"axisX",scale:{x:{type:"band",domain:vY.map(e.children,e=>{const n=t.dataSet.getFieldFormatter(e.field);return!e.isTotalRoot&&n?n(e.value,void 0,e):e.value}),range:[0,1]}}}}function lRe(e,t){var n,r;if(null===(r=(n=t).isPolarCoordinate)||void 0===r?void 0:r.call(n))return{};const o=t.dataSet.getValueRangeByField(e);return{scale:{y:{type:"linear",domain:[o.minValue,o.maxValue],range:[1,0]}}}}function sRe(e,t){var n;const{field:r,value:o}=e,i=t.dataSet.getFieldFormatter(o);return Object.assign(Object.assign({type:"axisY"},lRe(o,t)),{labelFormatter:vY.unary(i),title:null===(n=t.dataSet.getFieldFormatter(r))||void 0===n?void 0:n(o)})}class cRe extends u2{get cellType(){return FLe.AXIS_COL_CELL}getBorderPositions(){return[iQ.TOP,iQ.BOTTOM,iQ.RIGHT]}isBolderText(){return!1}getInteractedCells(){var e;return null===(e=this.spreadsheet.interaction)||void 0===e?void 0:e.getCells([sK.COL_CELL,FLe.AXIS_COL_CELL])}initCell(){this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawBorders(),this.drawResizeArea(),this.update()}getColResizeArea(){return VJ(this.spreadsheet,eRe)}isCrossColumnLeafNode(){return!1}drawTextShape(){this.spreadsheet.isPolarCoordinate()?super.drawTextShape():this.drawAxisShape()}getChartOptions(){var e;const t=this.getStyle();let n=null===(e=this.spreadsheet.options.chart)||void 0===e?void 0:e.axisColCellSpec;return vY.isFunction(n)&&(n=n(this)),y5(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},VLe),this.getBBoxByType(lQ.CONTENT_BOX)),iRe(this.spreadsheet)),this.spreadsheet.isValueInCols()?sRe(this.meta,this.spreadsheet):aRe(this.meta,this.spreadsheet)),oRe(t)),rRe(this.spreadsheet)),n)}drawAxisShape(){const e=this.getChartOptions();this.axisShape=this.appendChild(new FX({})),w5(()=>{this.destroyed||e$e(e,{group:this.axisShape,library:ILe()})})}}class uRe extends d2{get cellType(){return FLe.AXIS_CORNER_CELL}getBorderPositions(){return[iQ.TOP,iQ.BOTTOM,iQ.LEFT]}isBolderText(){return!1}getMaxTextWidth(){const{width:e}=this.getBBoxByType(lQ.CONTENT_BOX);return e}getTreeIconWidth(){return 0}getInteractedCells(){var e;return null===(e=this.spreadsheet.interaction)||void 0===e?void 0:e.getCells([FLe.AXIS_CORNER_CELL])}initCell(){this.drawBackgroundShape(),this.drawTextShape(),this.drawBorders(),this.update()}}class dRe extends m2{get cellType(){return FLe.AXIS_ROW_CELL}getBorderPositions(){return[iQ.BOTTOM,iQ.LEFT]}isBolderText(){return!1}getInteractedCells(){var e;return null===(e=this.spreadsheet.interaction)||void 0===e?void 0:e.getCells([sK.ROW_CELL,FLe.AXIS_ROW_CELL])}initCell(){this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawBorders(),this.drawResizeAreaInLeaf(),this.update()}getResizesArea(){return VJ(this.spreadsheet,QLe)}drawTextShape(){this.spreadsheet.isPolarCoordinate()?super.drawTextShape():this.drawAxisShape()}getChartOptions(){var e;const t=this.getStyle();let n=null===(e=this.spreadsheet.options.chart)||void 0===e?void 0:e.axisRowCellSpec;return vY.isFunction(n)&&(n=n(this)),y5(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},VLe),this.getBBoxByType(lQ.CONTENT_BOX)),iRe(this.spreadsheet)),this.spreadsheet.isValueInCols()?aRe(this.meta,this.spreadsheet):sRe(this.meta,this.spreadsheet)),oRe(t)),rRe(this.spreadsheet)),n)}drawAxisShape(){const e=this.getChartOptions();this.axisShape=this.appendChild(new FX({})),w5(()=>{this.destroyed||e$e(e,{group:this.axisShape,library:ILe()})})}}class fRe extends f2{drawTextShape(){if(!this.isChartData())return void super.drawTextShape();this.chartShape=this.appendChild(new FX({style:{zIndex:1}}));const e=this.getChartOptions();w5(()=>{this.destroyed||e$e(e,{group:this.chartShape,library:ILe()})})}isChartData(){const e=this.getFieldValue();return vY.isPlainObject(null==e?void 0:e.values)}getChartData(){const{fieldValue:e}=this.meta;return null==e?void 0:e.values}getChartOptions(){const e=this.getChartData(),t=this.getBBoxByType(lQ.CONTENT_BOX);return Object.assign(Object.assign(Object.assign({autoFit:!0},rRe(this.spreadsheet)),t),e)}}class hRe extends fRe{isChartData(){return!0}getChartData(){const{data:e,xField:t,yField:n}=this.meta;return{data:e,encode:{x:this.spreadsheet.isPolarCoordinate()?null:t,y:n,color:t}}}getChartOptions(){var e;const{yField:t}=this.meta;let n=null===(e=this.spreadsheet.options.chart)||void 0===e?void 0:e.dataCellSpec;return vY.isFunction(n)&&(n=n(this)),y5(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qLe),this.getBBoxByType(lQ.CONTENT_BOX)),iRe(this.spreadsheet)),this.getChartData()),lRe(t,this.spreadsheet)),function(e,t){const{xField:n,yField:r}=e,o=t.dataSet;return{tooltip:{title:e=>{var t;return e[nRe]?null===(t=o.getFieldFormatter(n))||void 0===t?void 0:t(e[n]):e[n]},items:[e=>{var t,n;return{name:null===(t=o.getFieldFormatter(WY))||void 0===t?void 0:t(r),value:null===(n=o.getFieldFormatter(r))||void 0===n?void 0:n(e[r])}}]}}}(this.meta,this.spreadsheet)),rRe(this.spreadsheet)),n)}drawTextShape(){const e=this.getChartOptions();this.chartShape=this.appendChild(new FX({style:{zIndex:1}})),w5(()=>{this.destroyed||e$e(e,{group:this.chartShape,library:ILe()})})}handleSelect(e){var t;super.handleSelect(e);switch(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.type){case FLe.AXIS_COL_CELL:this.changeRowColSelectState("colIndex");break;case FLe.AXIS_ROW_CELL:this.changeRowColSelectState("rowIndex")}}}function pRe(e,t,n,r){return e.filter(e=>e[t]>=n&&e[t]<=r)}class gRe extends D4{initGroups(){this.scrollGroup=this.appendChild(new FX({name:"colAxisScrollGroup",style:{zIndex:3}})),this.frozenGroup=this.appendChild(new FX({name:JLe,style:{zIndex:4}})),this.frozenTrailingGroup=this.appendChild(new FX({name:JLe,style:{zIndex:4}}));const{spreadsheet:e,nodes:t}=this.getHeaderConfig();this.extraFrozenNodes=function(e,t){const n=[],{colCount:r,trailingColCount:o}=e.getFrozenOptions();r&&pRe(t,"colIndex",0,r-1).forEach(e=>{const t=e.clone();t.isFrozenHead=!0,n.push(t)});if(o){const e=t.length;pRe(t,"colIndex",e-o,e-1).forEach(e=>{const t=e.clone();t.isFrozenTrailing=!0,n.push(t)})}return n}(e.facet,t)}getCellInstance(e){const t=this.getHeaderConfig(),{spreadsheet:n}=t,{axisColCell:r}=n.options;return(null==r?void 0:r(e,n,t))||new cRe(e,n,t)}}class mRe extends z4{static getCornerHeader(e){var t;const{panelBBox:n,cornerBBox:r,seriesNumberWidth:o,layoutResult:i,spreadsheet:a}=e,{y:l,viewportWidth:s,viewportHeight:c}=n,{originalWidth:u,width:d}=r,{axisColsHierarchy:f}=i,h={x:r.x,y:l+c},p=null!==(t=null==f?void 0:f.height)&&void 0!==t?t:0,g=this.getCornerNodes({position:h,width:u,height:p,layoutResult:i,seriesNumberWidth:o,spreadsheet:a});return new mRe({nodes:g,position:h,width:d,height:p,originalWidth:u,originalHeight:p,viewportWidth:s,viewportHeight:c,seriesNumberWidth:o,spreadsheet:a})}static getCornerNodes(e){const t=[],{layoutResult:n,spreadsheet:r}=e,{axisColsHierarchy:o}=n,i=null==o?void 0:o.sampleNodeForLastLevel;if(i){const e=new mQ({id:i.id,field:i.field,value:r.dataSet.getFieldName(i.field),x:0,y:0,width:r.facet.cornerBBox.originalWidth,height:i.height,isPivotMode:!0,cornerType:hQ.Col,spreadsheet:r});t.push(e)}return t}getCellInstance(e){const t=this.getHeaderConfig(),{spreadsheet:n}=t,{axisCornerCell:r}=n.options;return(null==r?void 0:r(e,n,t))||new uRe(e,n,t)}}class vRe extends H4{initGroups(){this.scrollGroup=this.appendChild(new FX({name:"rowAxisScrollGroup",style:{zIndex:3}})),this.frozenGroup=this.appendChild(new FX({name:ZLe,style:{zIndex:4}})),this.frozenTrailingGroup=this.appendChild(new FX({name:ZLe,style:{zIndex:4}}));const{spreadsheet:e,nodes:t}=this.getHeaderConfig();this.extraFrozenNodes=function(e,t){const n=[],{start:r,end:o}=e.getCellRange(),{rowCount:i,trailingRowCount:a}=e.getFrozenOptions();i&&pRe(t,"rowIndex",r,r+i-1).forEach(e=>{const t=e.clone();t.isFrozenHead=!0,n.push(t)});a&&pRe(t,"rowIndex",o-a+1,o).forEach(e=>{const t=e.clone();t.isFrozenTrailing=!0,n.push(t)});return n}(e.facet,t)}getCellInstance(e){const t=this.getHeaderConfig(),{spreadsheet:n}=t,{axisRowCell:r}=n.options;return(null==r?void 0:r(e,n,t))||new dRe(e,n,t)}}class yRe extends z4{static getCornerNodes(e){var t,n,r,o,i;const a=super.getCornerNodes(e),{seriesNumberWidth:l,layoutResult:s,spreadsheet:c}=e,{rowsHierarchy:u,axisRowsHierarchy:d,colsHierarchy:f}=s,h=null==d?void 0:d.sampleNodeForLastLevel;if(h){const e=null==f?void 0:f.sampleNodeForLastLevel,s=new mQ({id:h.id,field:h.field,value:c.dataSet.getFieldName(h.field),x:l+u.width+h.x,y:null!==(t=null==e?void 0:e.y)&&void 0!==t?t:0,width:h.width,height:null!==(i=null!==(n=null==e?void 0:e.height)&&void 0!==n?n:c.facet.getCellCustomSize(null,null===(o=null===(r=c.options.style)||void 0===r?void 0:r.colCell)||void 0===o?void 0:o.height))&&void 0!==i?i:0,isPivotMode:!0,cornerType:hQ.Row,spreadsheet:c});a.push(s)}return a}}function bRe(){const e=new IQ;return e.maxLevel=0,e}function xRe(e,t,n){t.isLeaf=!0,e.pushNode(t),e.pushIndexNode(t),t[n]=e.getIndexNodes().length-1,!t.isTotals&&vY.isEmpty(e.sampleNodesForAllLevels)&&(e.sampleNodesForAllLevels.push(t),e.sampleNodeForLastLevel=t)}function wRe(e,t,n){t.isLeaf=!0,t.children=[],e.pushIndexNode(t),t[n]=e.getIndexNodes().length-1}function CRe(e){var t;e.maxLevel--,e.sampleNodesForAllLevels=vY.initial(e.sampleNodesForAllLevels),e.sampleNodeForLastLevel=null!==(t=vY.last(e.sampleNodesForAllLevels))&&void 0!==t?t:null}function SRe(e,t,n){const r=bRe();return vY.forEach(e.getLeaves(),e=>{const o=e.clone();e.relatedNode=o,e.hideColCellHorizontalResize=!0,e.hideRowCellVerticalResize=!0,o.field!==WY&&(o.field=WY,o.value=function(e={},t){var n,r;return null!==(n=e[WY])&&void 0!==n?n:null===(r=t.dataSet.fields.values)||void 0===r?void 0:r[0]}(o.query,n)),o.children=[o],xRe(r,o,t)}),0===e.maxLevel?function(e,t){const n=new mQ({id:wQ($K,tRe),field:tRe,value:t.dataSet.getFieldName(e.sampleNodeForLastLevel.field),level:0,isLeaf:!1,parent:e.rootNode,children:e.rootNode.children});e.rootNode.children.forEach(e=>{e.parent=n,e.level++}),e.rootNode.children=[n],e.pushNode(n),e.sampleNodesForAllLevels=[n],e.sampleNodeForLastLevel=n}(e,n):CRe(e),{axisHierarchy:r,hierarchy:e}}function ERe(e,t,n){const r=bRe(),o=e.sampleNodeForLastLevel;if(0===e.maxLevel){const i=e.rootNode.clone();i.id=wQ($K,tRe),i.field=o.field,xRe(r,i,t);const a=n.dataSet.getFieldName(o.field);return{hierarchy:e=function(e){const t=bRe();t.isPlaceholder=!0;const n=new mQ(Object.assign({id:wQ($K,tRe),field:tRe,level:0,isLeaf:!0,rowIndex:0,colIndex:0,parent:t.rootNode},e));return t.rootNode.children=[n],t.pushNode(n),t.pushIndexNode(n),t.sampleNodesForAllLevels=[n],t.sampleNodeForLastLevel=n,t}(vY.merge({value:a,relatedNode:i},"rowIndex"===t&&{field:o.field})),axisHierarchy:r}}const i=vY.reduce(e.getLeaves(),(e,t)=>{const n=t.parent;if(!n)return e;e.get(n)||e.set(n,[]);return e.get(n).push(t),e},new Map);return e.indexNode=[],i.forEach((n,o)=>{let i;o.children.length!==n.length?n.forEach(n=>{i=n.clone(),i.children=[i],n.relatedNode=i,wRe(e,n,t)}):(i=o.clone(),o.relatedNode=i,wRe(e,o,t),i.field=vY.head(n).field,e.allNodesWithoutRoot=e.allNodesWithoutRoot.filter(e=>!vY.includes(n,e))),i&&xRe(r,i,t)}),CRe(e),{axisHierarchy:r,hierarchy:e}}function ORe(e,t){var n;if(-1===e.maxLevel)return null;const r=null===(n=t.isValueInCols)||void 0===n?void 0:n.call(t),{rowsHierarchy:o,axisRowsHierarchy:i}=r?function(e,t){const{axisHierarchy:n,hierarchy:r}=ERe(e,"rowIndex",t);return{axisRowsHierarchy:n,rowsHierarchy:r}}(e,t):function(e,t){const{axisHierarchy:n,hierarchy:r}=SRe(e,"rowIndex",t);return{rowsHierarchy:r,axisRowsHierarchy:n}}(e,t);return{rowsHierarchy:o,rowLeafNodes:o.getLeaves(),axisRowsHierarchy:i}}function kRe(e,t){var n;if(-1===e.maxLevel)return null;const r=null===(n=t.isValueInCols)||void 0===n?void 0:n.call(t),{colsHierarchy:o,axisColsHierarchy:i}=r?function(e,t){const{axisHierarchy:n,hierarchy:r}=SRe(e,"colIndex",t);return{colsHierarchy:r,axisColsHierarchy:n}}(e,t):function(e,t){const{axisHierarchy:n,hierarchy:r}=ERe(e,"colIndex",t);return{axisColsHierarchy:n,colsHierarchy:r}}(e,t);return{colsHierarchy:o,colLeafNodes:o.getLeaves(),axisColsHierarchy:i}}class MRe extends $4{calculateOriginWidth(){var e;const{rowsHierarchy:t,axisRowsHierarchy:n}=this.layoutResult,r=null!==(e=null==n?void 0:n.width)&&void 0!==e?e:0;this.originalWidth=OJ(this.facet.getSeriesNumberWidth()+t.width+r)}}class $Re extends RJ{getCornerRightBorderSizeForPivotMode(){var e,t;const{cornerHeight:n,viewportHeight:r,position:o,spreadsheet:i}=this.cfg,{horizontalBorderWidth:a}=null===(e=i.theme)||void 0===e?void 0:e.splitLine,l=o.y,s=i.facet.getLayoutResult().axisColsHierarchy;return{y:l,height:n+a+r+(null!==(t=null==s?void 0:s.height)&&void 0!==t?t:0)}}addCornerRightBottomHeaderBorder(){var e;const t=this.cfg.spreadsheet.facet.getLayoutResult().axisColsHierarchy;if(!(null==t?void 0:t.height))return;const{cornerWidth:n,cornerHeight:r,viewportHeight:o,position:i,spreadsheet:a}=this.cfg,{verticalBorderColor:l,verticalBorderColorOpacity:s}=null===(e=a.theme)||void 0===e?void 0:e.splitLine,c=$Re.getVerticalBorderWidth(a),u=$Re.getVerticalBorderWidth(a),d=i.x+n+c/2,{verticalBorderColor:f,verticalBorderColorOpacity:h,backgroundColor:p,backgroundColorOpacity:g}=a.theme.cornerCell.cell,m=i.y+r+u+o;[{stroke:p,strokeOpacity:g},{stroke:l||f,strokeOpacity:s||h}].forEach(({stroke:e,strokeOpacity:n})=>{nJ(this,{x1:d,y1:m,x2:d,y2:m+t.height,lineWidth:c,stroke:e,strokeOpacity:n})})}addCornerRightBorder(){super.addCornerRightBorder(),this.addCornerRightBottomHeaderBorder()}}class IRe extends I4{getPanelHeight(){var e;const t=this.spreadsheet.theme.scrollBar.size,{height:n}=this.spreadsheet.options,{axisColsHierarchy:r}=this.layoutResult,o=null!==(e=null==r?void 0:r.height)&&void 0!==e?e:0;return Math.max(0,n-this.y-t-o)}}class NRe extends n6{constructor(){super(...arguments),this.getCellChildrenNodes=e=>{var t;const n=null===(t=null==e?void 0:e.getMeta)||void 0===t?void 0:t.call(e);return mQ.getAllChildrenNodes(n,e=>e.relatedNode?[e,e.relatedNode]:[e])}}doLayout(){let e=this.buildAllHeaderHierarchy();e=function(e,t){const{rowsHierarchy:n,colsHierarchy:r}=e;return Object.assign(Object.assign(Object.assign({},e),ORe(n,t)),kRe(r,t))}(e,this.spreadsheet),this.calculateHeaderNodesCoordinate(e),this.calculateAxisHierarchyCoordinate(e);const{rowsHierarchy:t,colsHierarchy:n,axisRowsHierarchy:r,axisColsHierarchy:o}=e;return{axisRowsHierarchy:r,axisColsHierarchy:o,rowsHierarchy:t,rowNodes:t.getNodes(),rowLeafNodes:t.getLeaves(),colsHierarchy:n,colNodes:n.getNodes(),colLeafNodes:n.getLeaves()}}getColLeafNodeRelatedCount(e){const t=this.spreadsheet.isValueInCols(),n=this.spreadsheet.isPolarCoordinate();return t||n?1:vY.get(e.relatedNode,"children",[]).length}getRowLeafNodeRelatedCount(e){const t=this.spreadsheet.isValueInCols(),n=this.spreadsheet.isPolarCoordinate();return t&&!n?vY.get(e.relatedNode,"children",[]).length:1}getRowAxisWidth(){var e,t;const{rowCell:n}=this.spreadsheet.options.style,{rows:r=[]}=this.spreadsheet.dataSet.fields,o=vY.last(r);return kJ(null!==(t=null===(e=null==n?void 0:n.widthByField)||void 0===e?void 0:e[o])&&void 0!==t?t:0)}getColAxisHeight(){var e,t;const{colCell:n}=this.spreadsheet.options.style,{columns:r=[]}=this.spreadsheet.dataSet.fields,o=vY.last(r);return kJ(null!==(t=null===(e=null==n?void 0:n.heightByField)||void 0===e?void 0:e[o])&&void 0!==t?t:0)}getCompactGridColNodeWidth(e){const{dataCell:t}=this.spreadsheet.options.style;return kJ(SJ(t,this.getColLeafNodeRelatedCount(e)))}getAdaptGridColWidth(e,t,n){const{rows:r=[]}=this.spreadsheet.dataSet.fields,{dataCell:o}=this.spreadsheet.options.style,i=Math.max(0,r.length-1),a=vY.sum(e.map(e=>this.getColLeafNodeRelatedCount(e))),{width:l}=this.getCanvasSize(),s=l-this.getSeriesNumberWidth()-this.getRowAxisWidth()-$Re.getVerticalBorderWidth(this.spreadsheet),c=Math.max(1,i+a),u=t?this.getColLeafNodeRelatedCount(t):1;return kJ(n?u*Math.max(SJ(o),vY.floor((s-n)/a)):u*Math.max(SJ(o),vY.floor(s/c)))}getRowLeafNodeHeight(e){var t;const n=this.getCustomRowCellHeight(e);if(vY.isNumber(n))return kJ(n);const{dataCell:r}=this.spreadsheet.options.style,o=kJ(null!==(t=null==r?void 0:r.height)&&void 0!==t?t:0);return this.getRowLeafNodeRelatedCount(e)*o}calculateAxisHierarchyCoordinate(e){this.adjustTotalNodesCoordinateAfterSeparateAxisHierarchy(e),this.calculateAxisRowsHierarchyCoordinate(e),this.calculateAxisColsHierarchyCoordinate(e)}adjustTotalNodesCoordinateAfterSeparateAxisHierarchy(e){var t,n;const{rowsHierarchy:r,colsHierarchy:o}=e;if(!vY.isEmpty(null===(t=this.spreadsheet.options.totals)||void 0===t?void 0:t.row)&&this.spreadsheet.isValueInCols()){const e=r.sampleNodeForLastLevel,t=e.x+e.width;r.getLeaves().forEach(e=>{const n=e.x+e.width;t>n&&(e.width+=t-n)})}if(!vY.isEmpty(null===(n=this.spreadsheet.options.totals)||void 0===n?void 0:n.col)&&!this.spreadsheet.isValueInCols()){const e=o.sampleNodeForLastLevel,t=e.y+e.height;o.getLeaves().forEach(e=>{const n=e.y+e.height;t>n&&(e.height+=t-n)})}}calculateAxisRowsHierarchyCoordinate(e){const{rowsHierarchy:t,axisRowsHierarchy:n}=e;if(!n)return;const r=this.spreadsheet.isValueInCols(),o=this.spreadsheet.isPolarCoordinate();t.width=t.isPlaceholder&&r&&!o?0:t.width;const i=this.getRowAxisWidth();t.getLeaves().forEach(e=>{const t=e.relatedNode;t&&(t.y=e.y,t.width=i,t.height=e.height)}),r&&o?(n.width=0,n.getNodes().forEach(e=>{e.width=0})):n.width=i,n.height=t.height}calculateAxisColsHierarchyCoordinate(e){const{colsHierarchy:t,axisColsHierarchy:n}=e;if(!n)return;const r=this.spreadsheet.isValueInCols(),o=this.spreadsheet.isPolarCoordinate(),i=this.getColAxisHeight();t.getLeaves().forEach(e=>{const t=e.relatedNode;t&&(t.x=e.x,t.width=e.width,t.height=i)}),n.width=t.width,!r&&o?(n.height=0,n.getNodes().forEach(e=>{e.height=0})):n.height=i}calculateCornerBBox(){this.cornerBBox=new MRe(this,!0)}calculatePanelBBox(){this.panelBBox=new IRe(this,!0)}getCenterFrame(){var e;if(!this.centerFrame){const{viewportWidth:t,viewportHeight:n}=this.panelBBox,r=this.cornerBBox.width,o=this.cornerBBox.height,i=null===(e=this.spreadsheet.options)||void 0===e?void 0:e.frame,a={position:{x:this.cornerBBox.x,y:this.cornerBBox.y},cornerWidth:r,cornerHeight:o,viewportWidth:t,viewportHeight:n,showViewportLeftShadow:!1,showViewportRightShadow:!1,spreadsheet:this.spreadsheet};return i?i(a):new $Re(a)}return this.centerFrame}renderHeaders(){super.renderHeaders(),this.axisRowHeader=this.getAxisRowHeader(),this.axisRowHeader&&this.foregroundGroup.appendChild(this.axisRowHeader),this.axisColumnHeader=this.getAxisColHeader(),this.axisColumnHeader&&this.foregroundGroup.appendChild(this.axisColumnHeader),this.axisCornerHeader=this.getAxisCornerHeader(),this.axisCornerHeader&&this.foregroundGroup.appendChild(this.axisCornerHeader)}getCornerHeader(){return this.cornerHeader||yRe.getCornerHeader({panelBBox:this.panelBBox,cornerBBox:this.cornerBBox,seriesNumberWidth:this.getSeriesNumberWidth(),layoutResult:this.layoutResult,spreadsheet:this.spreadsheet})}getAxisRowHeader(){var e;if(this.axisRowHeader)return this.axisRowHeader;const{y:t,viewportHeight:n,viewportWidth:r,height:o}=this.panelBBox,{rowsHierarchy:i,axisRowsHierarchy:a}=this.layoutResult,l=this.getSeriesNumberWidth();return new vRe({width:this.cornerBBox.width,height:o,viewportWidth:r,viewportHeight:n,position:{x:l+i.width,y:t},nodes:null!==(e=null==a?void 0:a.getNodes())&&void 0!==e?e:[],spreadsheet:this.spreadsheet})}getAxisColHeader(){var e,t;if(this.axisColumnHeader)return this.axisColumnHeader;const{x:n,width:r,viewportWidth:o,y:i,viewportHeight:a}=this.panelBBox,{axisColsHierarchy:l}=this.layoutResult;return new gRe({width:r,cornerWidth:this.cornerBBox.width,height:null!==(e=null==l?void 0:l.height)&&void 0!==e?e:0,viewportWidth:o,viewportHeight:a,position:{x:n,y:i+a},nodes:null!==(t=null==l?void 0:l.getNodes())&&void 0!==t?t:[],spreadsheet:this.spreadsheet})}getAxisCornerHeader(){return this.axisCornerHeader||mRe.getCornerHeader({panelBBox:this.panelBBox,cornerBBox:this.cornerBBox,seriesNumberWidth:this.getSeriesNumberWidth(),layoutResult:this.layoutResult,spreadsheet:this.spreadsheet})}translateRelatedGroups(e,t,n){var r,o,i;super.translateRelatedGroups(e,t,n),null===(r=this.axisRowHeader)||void 0===r||r.onScrollXY(this.getRealScrollX(e,n),t,QLe),null===(o=this.axisColumnHeader)||void 0===o||o.onColScroll(e,eRe),null===(i=this.axisCornerHeader)||void 0===i||i.onCorScroll(this.getRealScrollX(e,n))}renderRowScrollBar(e){if(super.renderRowScrollBar(e),this.hRowScrollBar){const e=this.cornerBBox.originalWidth-this.cornerBBox.width;this.hRowScrollBar.addEventListener(b4.ScrollChange,({offset:t})=>{var n,r;const o=this.getValidScrollBarOffset(t,e),i=vY.floor(o);this.setScrollOffset({rowHeaderScrollX:i}),null===(n=this.axisRowHeader)||void 0===n||n.onRowScrollX(i,QLe),null===(r=this.axisCornerHeader)||void 0===r||r.onRowScrollX(i)})}}getCellMeta(e=0,t=0){var n,r,o,i;const{options:a,dataSet:l}=this.spreadsheet,{axisRowsHierarchy:s,axisColsHierarchy:c}=this.getLayoutResult(),u=null!==(n=null==s?void 0:s.getLeaves())&&void 0!==n?n:[],d=null!==(r=null==c?void 0:c.getLeaves())&&void 0!==r?r:[],f=u[e],h=d[t];if(!f||!h)return null;const p=[],g=f.field===WY?h.field:f.field,m=f.field===WY?f.value:h.value;for(const y of f.children)for(const e of h.children){const t=y.query,n=e.query,r=y.isTotals||y.isTotalMeasure||e.isTotals||e.isTotalMeasure,o=l0(y,e),i=vY.merge({},t,n),a=l.getCellData({query:i,isTotals:r,totalStatus:o});let s,c=!0;y.field===WY?(s=e.value,c=!e.isTotalRoot):(s=y.value,c=!y.isTotalRoot);const u=Object.assign({[g]:s,[nRe]:c},null==a?void 0:a[GY]);p.push(u)}const v={spreadsheet:this.spreadsheet,x:h.x,y:f.y,width:h.width,height:f.height,data:p,rowIndex:e,colIndex:t,rowId:f.id,colId:h.id,fieldValue:p,valueField:m,xField:g,yField:m,id:UJ(f.id,h.id)};return null!==(i=null===(o=a.layoutCellMeta)||void 0===o?void 0:o.call(a,v))&&void 0!==i?i:v}getFrozenColSplitLineSize(){var e;const{viewportHeight:t,y:n}=this.panelBBox,{axisColsHierarchy:r}=this.layoutResult;return{y:0,height:t+n+(null!==(e=null==r?void 0:r.height)&&void 0!==e?e:0)}}getAxisCornerCells(){var e;const t=(null===(e=this.getAxisCornerHeader())||void 0===e?void 0:e.children)||[];return t5(t,uRe).filter(e=>e.cellType===FLe.AXIS_CORNER_CELL)}getAxisRowCells(){var e;const t=(null===(e=this.getAxisRowHeader())||void 0===e?void 0:e.children)||[];return t5(t,dRe).filter(e=>e.cellType===FLe.AXIS_ROW_CELL)}getAxisColCells(){var e;const t=(null===(e=this.getAxisColHeader())||void 0===e?void 0:e.children)||[];return t5(t,cRe).filter(e=>e.cellType===FLe.AXIS_COL_CELL)}getHeaderCells(e){const t=vY.concat(this.getCornerCells(),this.getSeriesNumberCells(),this.getRowCells(),this.getColCells(),this.getAxisCornerCells(),this.getAxisRowCells(),this.getAxisColCells());return this.filterCells(t,e)}getAxisCornerNodes(){var e;return(null===(e=this.axisCornerHeader)||void 0===e?void 0:e.getNodes())||[]}getAxisRowNodes(){var e;return(null===(e=this.axisRowHeader)||void 0===e?void 0:e.getNodes())||[]}getAxisColNodes(){var e;return(null===(e=this.axisColumnHeader)||void 0===e?void 0:e.getNodes())||[]}getHeaderNodes(e){const t=vY.concat(this.getCornerNodes(),this.getSeriesNumberNodes(),this.getRowNodes(),this.getColNodes(),this.getAxisCornerNodes(),this.getAxisRowNodes(),this.getAxisColNodes());return e?t.filter(t=>e.includes(t.id)):t}}const TRe=[vY.sortBy([sK.ROW_CELL,FLe.AXIS_ROW_CELL]),vY.sortBy([sK.COL_CELL,FLe.AXIS_COL_CELL])];class LRe extends O6{constructor(){super(...arguments),this.shouldForbidHeaderCellSelected=e=>{const t=vY.sortBy(vY.uniq(vY.map(e,"type")));return!(t.length<=1)&&!TRe.some(e=>vY.isEqual(e,t))}}}const RRe=(e,t)=>({[FLe.AXIS_CORNER_CELL]:p4(e),[FLe.AXIS_ROW_CELL]:g4(e,t),[FLe.AXIS_COL_CELL]:vY.merge(m4(e),{measureText:{textAlign:"center"}})});let _Re=class extends Z8{initInteraction(){var e,t;null===(t=null===(e=this.interaction)||void 0===e?void 0:e.destroy)||void 0===t||t.call(e),this.interaction=new LRe(this)}setupDataConfig(e){this.dataCfg=b5(e,YLe)}setupOptions(e){this.options=x5(ULe,this.getRuntimeDefaultOptions(e),e,this.getRuntimeFixedOptions(),XLe)}setThemeCfg(e={},t=RRe){super.setThemeCfg(e,t)}buildFacet(){var e,t,n,r,o,i;if(this.isCustomRowFields()||this.isCustomColumnFields())return void super.buildFacet();null!==(e=(i=this.options).dataCell)&&void 0!==e||(i.dataCell=e=>new hRe(e,this)),null===(t=this.facet)||void 0===t||t.destroy(),this.facet=null!==(o=null===(r=(n=this.options).facet)||void 0===r?void 0:r.call(n,this))&&void 0!==o?o:new NRe(this),this.facet.render()}getRuntimeDefaultOptions(e){var t;const{rows:n=[],columns:r=[],valueInCols:o=!0}=null!==(t=this.dataCfg.fields)&&void 0!==t?t:{},i=this.isPolarCoordinate(e);if(o){const e=vY.last(n);return{style:{rowCell:{widthByField:{[e]:100}},colCell:{heightByField:{[WY]:50}},dataCell:{width:KLe,height:i?KLe:50}}}}const a=vY.last(r);return{style:{rowCell:{widthByField:{[WY]:100}},colCell:{heightByField:{[a]:50}},dataCell:{width:i?KLe:50,height:KLe}}}}getRuntimeFixedOptions(){var e;const{valueInCols:t=!0}=null!==(e=this.dataCfg.fields)&&void 0!==e?e:{};return t?{interaction:{resize:{rowResizeType:PK.CURRENT,colResizeType:PK.ALL}}}:{interaction:{resize:{rowResizeType:PK.ALL,colResizeType:PK.CURRENT}}}}isPolarCoordinate(e=this.options){var t;return"polar"===(null===(t=null==e?void 0:e.chart)||void 0===t?void 0:t.coordinate)}enableAsyncExport(){return new Error("pivot chart doesn't support export all data")}};const ARe=(PRe=m.useEffect,function(e,t){var n=m.useRef(!1);PRe(function(){return function(){n.current=!1}},[]),PRe(function(){if(n.current)return e();n.current=!0},t)});var PRe;const jRe="__s2_react_root__",BRe=Object.assign({},b),{render:DRe,unmountComponentAtNode:zRe}=BRe;let HRe;try{Number((m.version||"").split(".")[0])>=18&&(HRe=BRe.createRoot)}catch(rw){}const FRe=()=>!HRe;function WRe(e){const{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:t}=BRe;t&&"object"==typeof t&&(t.usingClientEntryPoint=e)}function GRe(e,t){WRe(!0);const n=t[jRe]||HRe(t);return WRe(!1),n.render(e),t[jRe]=n,n}function VRe(e,t){FRe()?function(e,t){DRe(e,t)}(e,t):GRe(e,t)}function qRe(e){e&&zRe(e)}function XRe(e){return FRe()?qRe(e):function(e){return Promise.resolve().then(()=>{var t;null===(t=null==e?void 0:e[jRe])||void 0===t||t.unmount(),null==e||delete e[jRe]})}(e)}const URe=p.memo(({description:e})=>p.createElement(p.Fragment,null,e&&p.createElement("div",{className:`${DZ}-description`},bY(""),e)));URe.displayName="TooltipDescription";const YRe=e=>{const{style:t={},width:n,height:r,className:o,name:i}=e,a=Object.assign({},t);return n&&(a.width=`${n}px`),r&&(a.height=`${r}px`),p.createElement("span",{style:a,className:S(`${NY}-html-icon`,o),dangerouslySetInnerHTML:{__html:QZ(i)}})},KRe=e=>{const{style:t={},className:n,content:r}=e,o={style:t,className:S(`${NY}-react-element`,n)};if(p.isValidElement(r))return p.createElement("span",Object.assign({},o),p.createElement(p.Fragment,null,r));const i="string"!=typeof r?null==r?void 0:r.innerHTML:r;return p.createElement("span",Object.assign({},o,{dangerouslySetInnerHTML:{__html:i}}))},ZRe=p.memo(e=>{const{icon:t}=e,n=zz(e,["icon"]);if(!t)return null;if(QZ(t)){const e=t;return p.createElement(YRe,Object.assign({name:e},n))}return p.createElement(KRe,Object.assign({content:t},n))});ZRe.displayName="TooltipIcon";const QRe=p.memo(e=>{const{list:t=[]}=e;return p.createElement("div",{className:`${DZ}-detail-list`},null==t?void 0:t.map((e,t)=>{const{name:n,value:r,icon:o}=e;return p.createElement("div",{key:`${r}-${t}`,className:`${DZ}-detail-item`},p.createElement("span",{className:`${DZ}-detail-item-key`},n),p.createElement("span",{className:`${DZ}-detail-item-val ${DZ}-highlight`},o&&p.createElement(ZRe,{icon:o,width:8,height:7}),r))}))});QRe.displayName="TooltipDetail";const JRe=p.memo(e=>{var t,n;const{rows:r=[],cols:o=[]}=e;return p.createElement("div",{className:`${DZ}-head-info-list`},null===(t=o.map(e=>e.value))||void 0===t?void 0:t.join("/"),o.length>0&&r.length>0&&bY(""),null===(n=r.map(e=>e.value))||void 0===n?void 0:n.join("/"))});JRe.displayName="TooltipHead";const e_e=p.memo(e=>{const{infos:t=""}=e;return p.createElement("div",{className:`${DZ}-infos`},t)});e_e.displayName="TooltipInfos";const t_e=p.memo(e=>{const{name:t,icon:n,text:r,content:o}=e;return p.createElement("div",{className:`${DZ}-interpretation`},p.createElement("div",{className:`${DZ}-interpretation-head`},p.createElement(ZRe,{icon:n,className:`${DZ}-interpretation-icon`}),t&&p.createElement("span",{className:`${DZ}-interpretation-name`},t)),r&&p.createElement("div",null,r),p.createElement(KRe,{content:o}))});t_e.displayName="TooltipInterpretation";const n_e=e=>{const{onlyShowOperator:t,cell:n}=e,r=e.menu,{items:o=[],onClick:i,selectedKeys:a=[],render:l}=r,s=zz(r,["items","onClick","selectedKeys","render"]);if(vY.isEmpty(o))return null;const c=e=>{var t;const r=o.find(t=>t.key===e.key);null==i||i(e,n),null===(t=null==r?void 0:r.onClick)||void 0===t||t.call(r,e,n)},u=e=>{const{key:t,label:r,children:o,onClick:a}=e,l=vY.map(o,u);return{key:t,label:r,icon:p.createElement(ZRe,{icon:e.icon,className:`${DZ}-operator-icon`}),popupClassName:`${DZ}-operator-submenu-popup`,onTitleClick:e=>{null==a||a(e,n),null==i||i(e,n)},children:vY.isEmpty(l)?void 0:l}};return p.createElement("div",{className:`${DZ}-operator`},(()=>{const e=vY.map(o,u);return null==l?void 0:l(Object.assign({mode:t?"vertical":"horizontal",selectable:t,onClick:c,items:e,selectedKeys:a},s))})())};n_e.displayName="TooltipOperator";const r_e=p.memo(e=>{const{tips:t="",name:n=""}=e;return p.createElement(p.Fragment,null,n&&p.createElement("div",{className:`${DZ}-name`},n),t&&p.createElement("div",{className:`${DZ}-tips`},t))});r_e.displayName="TooltipSimpleTips";const o_e=p.createContext(null);function i_e(){return p.useContext(o_e)}const a_e=p.memo(e=>{var t;const{summaries:n=[]}=e,r=i_e(),o=sJ(null===(t=null==r?void 0:r.options)||void 0===t?void 0:t.device);return p.createElement("div",{className:`${DZ}-summary`},(()=>{const e=vY.sumBy(n,e=>vY.size(null==e?void 0:e.selectedData));return p.createElement("div",{className:`${DZ}-summary-item`,style:o?{marginBottom:"6px"}:{}},p.createElement("span",{className:`${DZ}-selected`},e," ",bY("")),bY(""))})(),null==n?void 0:n.map(e=>{const{name:t="",value:n}=e||{};if(t||n)return p.createElement("div",{key:`${t}-${n}`,className:`${DZ}-summary-item`},t?p.createElement("span",{className:`${DZ}-summary-key`},t,bY("")):p.createElement("span",{className:`${DZ}-summary-key`},""),p.createElement("span",{className:S(`${DZ}-summary-val`,`${DZ}-bold`)},null!=n?n:"-"))}))});a_e.displayName="TooltipSummary";const l_e=p.memo(e=>{const{data:t,options:n,content:r,cell:o,onMounted:i}=e,a=(e,t)=>e?p.createElement(n_e,Object.assign({},e,{menu:e.menu,onlyShowOperator:t,cell:o})):null;return(()=>{const{operator:e,onlyShowOperator:o}=(e=>Object.assign({operator:{menu:{onClick:vY.noop,items:[],selectedKeys:[]}},enableFormat:!0},e))(n),{summaries:l,headInfo:s,details:c,interpretation:u,infos:d,tips:f,name:h,description:g}=t||{},m={name:h,tips:f};if(o)return a(e,!0);const v=p.createElement(p.Fragment,null,(e=>{const{name:t,tips:n}=e||{};return p.createElement(r_e,{name:t,tips:n})})(m),(e=>!vY.isEmpty(e)&&p.createElement(a_e,{summaries:e}))(l),(e=>e&&p.createElement(t_e,Object.assign({},e)))(u),(e=>{const{cols:t=[],rows:n=[]}=e||{};return(!vY.isEmpty(t)||!vY.isEmpty(n))&&p.createElement(JRe,{cols:t,rows:n})})(s),(e=>!vY.isEmpty(e)&&p.createElement(QRe,{list:e}))(c),(e=>e&&p.createElement(e_e,{infos:e}))(d),(e=>p.createElement(URe,{description:e}))(g));return p.createElement("span",{ref:i},a(e),null!=r?r:v)})()});l_e.displayName="TooltipComponent";class s_e extends Y8{constructor(e){super(e)}isMobileDevice(){var e;return sJ(null===(e=this.spreadsheet.options)||void 0===e?void 0:e.device)}renderContent(){var e,t,n;const{content:r,operation:o}=this.spreadsheet.options.tooltip,i=this.options,a=this.spreadsheet.getCell(null===(e=null==i?void 0:i.event)||void 0===e?void 0:e.target),l=null!==(t=null==i?void 0:i.content)&&void 0!==t?t:r,s=y5({options:{operator:{menu:vY.omit(null==o?void 0:o.menu,"items")}}},Object.assign(Object.assign({},i),{cell:a,content:l}));(null===(n=null==i?void 0:i.options)||void 0===n?void 0:n.forceRender)&&this.forceClearContent();VRe(p.createElement(l_e,Object.assign({},s,{content:l})),this.container)}hide(){super.hide(),this.container&&this.isMobileDevice()&&this.renderContent()}destroy(){this.unmount(),super.destroy()}forceClearContent(){var e;e=this.container,FRe()?qRe(e):GRe(null,e)}unmount(){XRe(this.container)}}const c_e={tooltip:{render:e=>new s_e(e)}},u_e=(...e)=>((...e)=>y5(VK,$6,...e))(c_e,...e),d_e=(e,t,n)=>{p.useLayoutEffect(()=>{const r=e=>{null==t||t(((e,t)=>{var n,r,o;const i=null==e?void 0:e.target,a=null===(n=n5(i))||void 0===n?void 0:n.meta,l=(null===(r=null==t?void 0:t.getCell)||void 0===r?void 0:r.call(t,i))||(null==i?void 0:i.parentNode);return{target:l,viewMeta:(null===(o=null==l?void 0:l.getMeta)||void 0===o?void 0:o.call(l))||a,event:e}})(e,n))};return null==n||n.on(e,r),()=>{null==n||n.off(e,r)}},[n,t,e])},f_e=(e,t,n,r=!1)=>{p.useLayoutEffect(()=>{const o=(...e)=>{null==t||t(...e)};return null==n||n.on(e,o),()=>{r&&(null==n||n.emit(e)),null==n||n.off(e,o)}},[n,t,e])};function h_e(e){const t=(n=Wz(m.useState({}),2)[1],m.useCallback(function(){return n({})},[]));var n;const r=p.useRef(null),o=p.useRef(null),i=p.useRef(null),a=p.useRef(!0),l=p.useMemo(()=>{try{return!1}catch(e){return!1}},[]),{spreadsheet:s,dataCfg:c,options:u,themeCfg:d,sheetType:f,onUpdate:h=vY.identity,onUpdateAfterRender:g,onLoading:v}=e,y=p.useRef([c,u,d]),{loading:b,setLoading:x}=((e,t)=>{const[n,r]=p.useState(null!=t&&t);return p.useEffect(()=>{null==e||e.on(BY.LAYOUT_BEFORE_RENDER,()=>{r(!0)}),null==e||e.on(BY.LAYOUT_AFTER_RENDER,()=>{r(!1)})},[e]),{loading:null!=t?t:n,setLoading:r}})(r.current,e.loading),w=((e,t)=>{var n;const r=null==t?void 0:t.pagination,[o,i]=p.useState({total:(null===(n=null==e?void 0:e.facet)||void 0===n?void 0:n.viewCellHeights.getTotalLength())||0,current:(null==r?void 0:r.current)||1,pageSize:(null==r?void 0:r.pageSize)||10});return ARe(()=>{Hz(void 0,void 0,void 0,function*(){e&&!vY.isEmpty(r)&&(e.updatePagination({current:o.current,pageSize:o.pageSize}),yield e.render(!1))})},[o.current,o.pageSize,e]),ARe(()=>{var t;i({total:(null===(t=null==e?void 0:e.facet)||void 0===t?void 0:t.viewCellHeights.getTotalLength())||0,current:(null==r?void 0:r.current)||1,pageSize:(null==r?void 0:r.pageSize)||10})},[r,e]),ARe(()=>{if(!e||vY.isEmpty(r))return;const t=e=>{i(t=>Object.assign(Object.assign({},t),{total:e.total}))};return e.on(BY.LAYOUT_PAGINATION,t),()=>{e.off(BY.LAYOUT_PAGINATION,t)}},[r,e]),Object.assign(Object.assign(Object.assign({},r),o),{onShowSizeChange:(e,t)=>{i(Object.assign(Object.assign({},o),{current:e,pageSize:t}))},onChange:(e,t)=>{i(Object.assign(Object.assign({},o),{current:e,pageSize:t}))}})})(r.current,e.options);!function(e,t){d_e(BY.ROW_CELL_HOVER,e.onRowCellHover,t),d_e(BY.ROW_CELL_CLICK,e.onRowCellClick,t),d_e(BY.ROW_CELL_DOUBLE_CLICK,e.onRowCellDoubleClick,t),d_e(BY.ROW_CELL_CONTEXT_MENU,e.onRowCellContextMenu,t),d_e(BY.ROW_CELL_MOUSE_DOWN,e.onRowCellMouseDown,t),d_e(BY.ROW_CELL_MOUSE_UP,e.onRowCellMouseUp,t),d_e(BY.ROW_CELL_MOUSE_MOVE,e.onRowCellMouseMove,t),f_e(BY.ROW_CELL_SCROLL,e.onRowCellScroll,t),f_e(BY.ROW_CELL_COLLAPSED,e.onRowCellCollapsed,t),f_e(BY.ROW_CELL_ALL_COLLAPSED,e.onRowCellAllCollapsed,t),f_e(BY.ROW_CELL_RENDER,e.onRowCellRender,t),f_e(BY.ROW_CELL_SELECTED,e.onRowCellSelected,t),d_e(BY.COL_CELL_HOVER,e.onColCellHover,t),d_e(BY.COL_CELL_CLICK,e.onColCellClick,t),d_e(BY.COL_CELL_DOUBLE_CLICK,e.onColCellDoubleClick,t),d_e(BY.COL_CELL_CONTEXT_MENU,e.onColCellContextMenu,t),d_e(BY.COL_CELL_MOUSE_DOWN,e.onColCellMouseDown,t),d_e(BY.COL_CELL_MOUSE_UP,e.onColCellMouseUp,t),d_e(BY.COL_CELL_MOUSE_MOVE,e.onColCellMouseMove,t),f_e(BY.COL_CELL_EXPANDED,e.onColCellExpanded,t),f_e(BY.COL_CELL_EXPAND_ICON_HOVER,e.onColCellExpandIconHover,t),f_e(BY.COL_CELL_HIDDEN,e.onColCellHidden,t),f_e(BY.COL_CELL_RENDER,e.onColCellRender,t),f_e(BY.COL_CELL_SELECTED,e.onColCellSelected,t),d_e(BY.DATA_CELL_HOVER,e.onDataCellHover,t),d_e(BY.DATA_CELL_CLICK,e.onDataCellClick,t),d_e(BY.DATA_CELL_DOUBLE_CLICK,e.onDataCellDoubleClick,t),d_e(BY.DATA_CELL_CONTEXT_MENU,e.onDataCellContextMenu,t),d_e(BY.DATA_CELL_MOUSE_DOWN,e.onDataCellMouseDown,t),d_e(BY.DATA_CELL_MOUSE_UP,e.onDataCellMouseUp,t),d_e(BY.DATA_CELL_MOUSE_MOVE,e.onDataCellMouseMove,t),f_e(BY.DATA_CELL_BRUSH_SELECTION,e.onDataCellBrushSelection,t),f_e(BY.DATA_CELL_SELECT_MOVE,e.onDataCellSelectMove,t),f_e(BY.DATA_CELL_RENDER,e.onDataCellRender,t),f_e(BY.DATA_CELL_SELECTED,e.onDataCellSelected,t),d_e(BY.CORNER_CELL_HOVER,e.onCornerCellHover,t),d_e(BY.CORNER_CELL_CLICK,e.onCornerCellClick,t),d_e(BY.CORNER_CELL_DOUBLE_CLICK,e.onCornerCellDoubleClick,t),d_e(BY.CORNER_CELL_CONTEXT_MENU,e.onCornerCellContextMenu,t),d_e(BY.CORNER_CELL_MOUSE_DOWN,e.onCornerCellMouseDown,t),d_e(BY.CORNER_CELL_MOUSE_UP,e.onCornerCellMouseUp,t),d_e(BY.CORNER_CELL_MOUSE_MOVE,e.onCornerCellMouseMove,t),f_e(BY.CORNER_CELL_RENDER,e.onCornerCellRender,t),f_e(BY.CORNER_CELL_SELECTED,e.onCornerCellSelected,t),d_e(BY.MERGED_CELLS_HOVER,e.onMergedCellsHover,t),d_e(BY.MERGED_CELLS_CLICK,e.onMergedCellsClick,t),d_e(BY.MERGED_CELLS_DOUBLE_CLICK,e.onMergedCellsDoubleClick,t),d_e(BY.MERGED_CELLS_CONTEXT_MENU,e.onMergedCellsContextMenu,t),d_e(BY.MERGED_CELLS_MOUSE_DOWN,e.onMergedCellsMouseDown,t),d_e(BY.MERGED_CELLS_MOUSE_UP,e.onMergedCellsMouseUp,t),d_e(BY.MERGED_CELLS_MOUSE_MOVE,e.onMergedCellsMouseMove,t),f_e(BY.MERGED_CELLS_RENDER,e.onMergedCellsRender,t),f_e(BY.SERIES_NUMBER_CELL_RENDER,e.onSeriesNumberCellRender,t),f_e(BY.RANGE_SORT,e.onRangeSort,t),f_e(BY.RANGE_SORTED,e.onRangeSorted,t),f_e(BY.RANGE_FILTER,e.onRangeFilter,t),f_e(BY.RANGE_FILTERED,e.onRangeFiltered,t),f_e(BY.LAYOUT_AFTER_HEADER_LAYOUT,e.onLayoutAfterHeaderLayout,t),f_e(BY.LAYOUT_PAGINATION,e.onLayoutPagination,t),f_e(BY.LAYOUT_CELL_RENDER,e.onLayoutCellRender,t),f_e(BY.LAYOUT_BEFORE_RENDER,e.onBeforeRender,t),f_e(BY.LAYOUT_AFTER_RENDER,e.onAfterRender,t),f_e(BY.LAYOUT_DESTROY,e.onDestroy,t,!0),f_e(BY.LAYOUT_RESIZE,e.onLayoutResize,t),f_e(BY.LAYOUT_RESIZE_SERIES_WIDTH,e.onLayoutResizeSeriesWidth,t),f_e(BY.LAYOUT_RESIZE_ROW_WIDTH,e.onLayoutResizeRowWidth,t),f_e(BY.LAYOUT_RESIZE_ROW_HEIGHT,e.onLayoutResizeRowHeight,t),f_e(BY.LAYOUT_RESIZE_COL_WIDTH,e.onLayoutResizeColWidth,t),f_e(BY.LAYOUT_RESIZE_COL_HEIGHT,e.onLayoutResizeColHeight,t),f_e(BY.LAYOUT_RESIZE_TREE_WIDTH,e.onLayoutResizeTreeWidth,t),f_e(BY.LAYOUT_RESIZE_MOUSE_DOWN,e.onLayoutResizeMouseDown,t),f_e(BY.LAYOUT_RESIZE_MOUSE_UP,e.onLayoutResizeMouseUp,t),f_e(BY.LAYOUT_RESIZE_MOUSE_MOVE,e.onLayoutResizeMouseMove,t),f_e(BY.GLOBAL_KEYBOARD_DOWN,e.onKeyBoardDown,t),f_e(BY.GLOBAL_KEYBOARD_UP,e.onKeyBoardUp,t),f_e(BY.GLOBAL_COPIED,e.onCopied,t),f_e(BY.GLOBAL_ACTION_ICON_HOVER,e.onActionIconHover,t),f_e(BY.GLOBAL_ACTION_ICON_CLICK,e.onActionIconClick,t),f_e(BY.GLOBAL_CONTEXT_MENU,e.onContextMenu,t),f_e(BY.GLOBAL_HOVER,e.onMouseHover,t),f_e(BY.GLOBAL_CLICK,e.onClick,t),f_e(BY.GLOBAL_DOUBLE_CLICK,e.onDoubleClick,t),f_e(BY.GLOBAL_SELECTED,e.onSelected,t),f_e(BY.GLOBAL_MOUSE_UP,e.onMouseUp,t),f_e(BY.GLOBAL_RESET,e.onReset,t),f_e(BY.GLOBAL_LINK_FIELD_JUMP,e.onLinkFieldJump,t),f_e(BY.GLOBAL_SCROLL,e.onScroll,t),f_e(BY.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,e.onLayoutAfterRealDataCellRender,t),f_e(BY.ROW_CELL_BRUSH_SELECTION,e.onRowCellBrushSelection,t),f_e(BY.COL_CELL_BRUSH_SELECTION,e.onColCellBrushSelection,t)}(e,r.current);const C=p.useCallback(e=>{const t=u_e(u);return s?s(e,c,t):"table"===f?new Q8(e,c,t):"pivotChart"===f?new _Re(e,c,t):new Z8(e,c,t)},[f,u,c,s]),S=p.useCallback(()=>Hz(this,void 0,void 0,function*(){var n;x(!0);const i=C(o.current);i.setThemeCfg(e.themeCfg),yield i.render(),x(!1),r.current=i,t(),null===(n=e.onMounted)||void 0===n||n.call(e,r.current)}),[e,C,x,t]);return p.useEffect(()=>{null==v||v(b)},[b]),p.useEffect(()=>{if(!l||a.current)return S(),a.current=!1,()=>{var e,t;x(!1),null===(t=null===(e=r.current)||void 0===e?void 0:e.destroy)||void 0===t||t.call(e)}},[l]),ARe(()=>{(()=>{Hz(this,void 0,void 0,function*(){var e,t,n,o,i,a,l,s,f,p,m,v;x(!0);const[b,w,C]=y.current;y.current=[c,u,d];let S=!1,E=!1,O=!1;if(Object.is(b,c)||((null===(t=null===(e=null==b?void 0:b.fields)||void 0===e?void 0:e.columns)||void 0===t?void 0:t.length)!==(null===(o=null===(n=null==c?void 0:c.fields)||void 0===n?void 0:n.columns)||void 0===o?void 0:o.length)&&(null===(a=null===(i=r.current)||void 0===i?void 0:i.facet)||void 0===a||a.clearInitColLeafNodes()),E=!0,S=!0,null===(l=r.current)||void 0===l||l.setDataCfg(c)),vY.isEqual(w,u)||((null==w?void 0:w.hierarchyType)!==(null==u?void 0:u.hierarchyType)&&(O=!0,E=!0,null===(s=r.current)||void 0===s||s.setDataCfg(c)),S=!0,null===(f=r.current)||void 0===f||f.setOptions(u),null===(p=r.current)||void 0===p||p.changeSheetSize(u.width,u.height)),vY.isEqual(C,d)||(S=!0,null===(m=r.current)||void 0===m||m.setThemeCfg(d)),!S)return void x(!1);const k={reloadData:E,rebuildDataSet:O},M=(null==h?void 0:h(k))||k;yield null===(v=r.current)||void 0===v?void 0:v.render(M),x(!1),null==g||g(M)})})()},[c,u,d,h]),(e=>{const{s2:t,adaptive:n,container:r,wrapper:o}=e;p.useLayoutEffect(()=>R6({s2:t,adaptive:n,wrapper:o,container:r}),[t,o,r,n])})({s2:r.current,container:o.current,wrapper:i.current,adaptive:e.adaptive}),{s2Ref:r,containerRef:o,wrapperRef:i,loading:b,setLoading:x,pagination:w}}const p_e=p.memo(e=>{const{containerRef:t,wrapperRef:n,pagination:r}=h_e(e),o=vY.isFunction(e.children)?e.children({pagination:r}):e.children;return p.createElement("div",{ref:n,className:`${NY}-wrapper`},p.createElement("div",{ref:t,className:`${NY}-container`}),o)});p_e.displayName="BaseSheet";const g_e=p.memo(e=>{const{options:t,themeCfg:n}=e,r=zz(e,["options","themeCfg"]),o=p.useMemo(()=>y5({style:{rowCell:{width:100},dataCell:{width:400,height:400}},tooltip:{enable:!0}},t,{dataCell:(e,t)=>new fRe(e,t),showDefaultHeaderActionIcon:!1,interaction:{hoverFocus:!1,brushSelection:{dataCell:!1}}}),[t]),i=p.useMemo(()=>y5({dataCell:{cell:{interactionState:{hoverFocus:{borderOpacity:0},selected:{borderOpacity:0}}}}},n),[n]);return p.createElement(p_e,Object.assign({},r,{options:o,themeCfg:i}))});g_e.displayName="ChartSheet";const m_e=["drillConfig","displayCondition","drillItemsNum"];function v_e(e){const{id:t,s2:n,params:r,onCleanup:o,component:i}=e;if(t){const e=document.querySelector(`#${t}`);if(e){if(XRe(e)&&e.parentNode)return void e.parentNode.removeChild(e)}}const a=document.createElement("div");let l,s;function c(){XRe(a),a.parentNode&&(a.parentNode.removeChild(a),o&&o()),s()}t&&(a.id=t),document.body.appendChild(a);const u=new Promise((e,t)=>{l=e,s=t}).then(e=>(c(),e));return setTimeout(()=>{VRe(p.createElement(o_e.Provider,{value:n},p.createElement(i,{onCancel:c,resolver:l,params:r})),a)}),u}function y_e(e){const{params:t,resolver:n}=e,r=i_e(),{cell:o,onDataCellEditStart:i,onDataCellEditEnd:a,CustomComponent:l}=t,{left:s,top:c,width:u,height:d}=p.useMemo(()=>{var e;const t=null===(e=r.getCanvasElement())||void 0===e?void 0:e.getBoundingClientRect();return{left:window.scrollX+t.left,top:window.scrollY+t.top,width:t.width,height:t.height}},[r]),{x:f,y:h,width:g,height:m}=p.useMemo(()=>{const e=r.facet.getScrollOffset(),t=vY.pick(null==o?void 0:o.getMeta(),["x","y","width","height"]);if(vY.isNil(t.x)||vY.isNil(t.y))return{x:0,y:0,width:0,height:0};const n=r.facet.getColNodes()[0],i=(null==n?void 0:n.height)||0;return t.x-=e.scrollX||0,t.y-=(e.scrollY||0)-i,t},[o,r]),[v,y]=p.useState(()=>o.getFieldValue()),b=p.useRef(null),x=p.useRef(null),w=()=>Hz(this,void 0,void 0,function*(){var e;const{rowIndex:t,valueField:i,id:l}=o.getMeta();r.dataSet.getDisplayDataSet()[t][i]=v,null===(e=r.dataSet.displayFormattedValueMap)||void 0===e||e.set(l,v),yield r.render();const s=y5(o.getMeta(),{fieldValue:v,data:{[i]:v}});null==a||a(s,o),n(!0)}),C=p.useMemo(()=>({left:f,top:h,width:g,height:m,zIndex:1e3}),[]),S=p.useCallback(e=>{y(e)},[]),E=p.useCallback(e=>{S(e.target.value)},[S]);return p.useEffect(()=>{null==i||i(o.getMeta(),o),setTimeout(()=>{var e,t;null===(e=x.current)||void 0===e||e.click(),null===(t=b.current)||void 0===t||t.focus({preventScroll:!0})})},[]),p.createElement("div",{ref:x,style:{zIndex:500,position:"absolute",overflow:"hidden",left:s,top:c,width:u,height:d}},l?p.createElement(l,{cell:o,spreadsheet:r,value:v,style:C,onChange:S,onSave:w}):p.createElement("textarea",{required:!0,style:C,className:`${NY}-edit-cell`,value:v,ref:b,onChange:E,onBlur:w,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),w())},onFocus:e=>{e.target.selectionStart=e.target.value.length,e.target.selectionEnd=e.target.value.length}}))}const b_e=p.memo(e=>{const{CustomComponent:t}=e,n=i_e(),r=p.useCallback(r=>{v_e({component:y_e,params:{cell:n.getCell(r.target),CustomComponent:t,onDataCellEditStart:e.onDataCellEditStart,onDataCellEditEnd:e.onDataCellEditEnd},s2:n})},[t,n]);return f_e(BY.DATA_CELL_DOUBLE_CLICK,r,n),null});b_e.displayName="EditCell";const x_e=m.memo(({onCopyFinished:e})=>{const t=i_e(),[n,r]=m.useState(),[o,i]=m.useState({right:0,bottom:0}),[a,l]=m.useState(),s=(e,n)=>{const r=vY.pick(n.getMeta(),["x","y","width","height","fieldValue"]),o=t.facet.getScrollOffset(),i=t.facet.getColNodes()[0],a=(null==i?void 0:i.height)||0,l=e.x,s=e.y,c=(null==o?void 0:o.scrollY)-a,u=r.x-o.scrollX+r.width+4,d=r.x-o.scrollX,f=r.y-c+r.height+4,h=r.y-c;return u>=l&&d<l&&f>=s&&h<s},c=e=>{const n=t.getCanvasElement().getBoundingClientRect();return t.facet.getDataCells().find(t=>s({y:e.y-n.y,x:e.x-n.x},t))},u=(e,n)=>{const r=e.getMeta(),o=null==n?void 0:n.getMeta(),i=Math.min(r.colIndex,o.colIndex),a=Math.max(r.colIndex,o.colIndex),l=Math.max(r.rowIndex,o.rowIndex),s=Math.min(r.rowIndex,o.rowIndex);return t.facet.getDataCells().filter(e=>{const t=e.getMeta();return t.rowIndex<=l&&t.rowIndex>=s&&t.colIndex<=a&&t.colIndex>=i})},d={x:0,y:0},f=vY.throttle(e=>{if(!n)return;let r=c(e),o=e.x-a.x,l=e.y-a.y;(e=>{const n=t.getCanvasElement().getBoundingClientRect(),r=t.facet.frozenGroupAreas,o=n.x,i=n.x+n.width,a=n.y+r[JY.Row].height,l=n.y+n.height;return e.x<=i&&e.x>=o&&e.y<=l&&e.y>=a})(e)?(d.x=e.x,d.y=e.y):(r=c(d),o=d.x-a.x,l=d.y-a.y),i({right:o,bottom:l});const s=u(n,r);t.interaction.changeState({cells:s.map(e=>e.getMeta()),stateName:aK.PREPARE_SELECT,force:!0})},10),h=o=>Hz(void 0,void 0,void 0,function*(){if(!n)return;const a=c(o)||c(d),l=t.dataSet.getDisplayDataSet(),s=u(n,a),{fieldValue:p}=n.getMeta(),g=s.map(e=>{const{rowIndex:t,valueField:n}=e.getMeta();return l[t]&&void 0!==l[t][n]&&(l[t][n]=p),e});t.interaction.changeState({cells:g.map(e=>e.getMeta()),stateName:aK.PREPARE_SELECT,force:!0}),yield t.render(!0),i({right:0,bottom:0}),t.off(BY.GLOBAL_MOUSE_MOVE,f),t.off(BY.GLOBAL_MOUSE_UP,h),r(void 0),null==e||e()});m.useEffect(()=>{n&&(t.on(BY.GLOBAL_MOUSE_MOVE,f),t.on(BY.GLOBAL_MOUSE_UP,h))},[n]);const g=e=>{if("spreadsheet-drag-copy-point"!==vY.get(e,"target.id"))return;const n=e.target.getBoundingClientRect(),{top:o,left:i}=vY.get(e,"target.style",{}),a=t.facet.getDataCells().find(e=>s({y:parseFloat(o),x:parseFloat(i)},e));l({x:n.x,y:n.y}),r(a)};return m.useEffect(()=>{const e=document.getElementById("spreadsheet-drag-copy-point");return e&&t&&e.addEventListener("mousedown",g),()=>{null==e||e.removeEventListener("mousedown",g)}},[t]),p.createElement("div",{className:`${NY}-drag-copy-mask`,style:{right:o.right>0?o.right:0,bottom:o.bottom>0?o.bottom:0,left:o.right<=0?o.right:0,top:o.bottom<=0?o.bottom:0,width:Math.abs(o.right),height:Math.abs(o.bottom)}})}),w_e=p.memo(()=>{const e=i_e(),[t,n]=p.useState({scrollX:-999,scrollY:-999,width:8,overflow:!0}),[r,o]=p.useState({left:-999,top:-999}),[i,a]=p.useState(),l=()=>{if(e){const r=e.facet.getScrollOffset(),o=e.facet.frozenGroupAreas,a=e.getCanvasElement().getBoundingClientRect(),l=null==i?void 0:i.getMeta();if(!vY.isEqual(r,t))if(l){const{verticalBorderWidth:e=0,horizontalBorderWidth:t=0}=i.getStyle().cell,s=l.width+l.x,c=l.height+l.y,u=s-r.scrollX-a.width+2*(e+t);let d=!0;d=o[JY.Col].width>=s-r.scrollX-2*t||o[JY.Row].height>=c-r.scrollY-2*e||a.width<=s-r.scrollX-2*t||a.height<=c-r.scrollY+o[JY.Row].height,n(Object.assign(Object.assign({},r),{overflow:d,width:8-(u>0?u:0)}))}else n({scrollX:-999,scrollY:-999,overflow:!0})}};p.useEffect(()=>(l(),e&&(e.off(BY.GLOBAL_SCROLL,l),e.on(BY.GLOBAL_SCROLL,l)),()=>{null==e||e.off(BY.GLOBAL_SCROLL,l)}),[i]),p.useEffect(()=>{i&&a(void 0)},[null==e?void 0:e.dataSet.sortParams,null==e?void 0:e.dataSet.filterParams]),p.useEffect(()=>{if((null==e?void 0:e.getCanvasElement())&&e&&i){const n=e.facet.getColNodes()[0],r=(null==n?void 0:n.height)||0,a=vY.pick(i.getMeta(),["x","y","width","height","fieldValue"]);a.x-=null==t?void 0:t.scrollX,a.y-=(null==t?void 0:t.scrollY)-r,o({left:a.x+a.width-4,top:a.y+a.height-4})}},[t,i]);const s=p.useCallback(()=>{a(void 0)},[]);return f_e(BY.COL_CELL_CLICK,s,e),f_e(BY.ROW_CELL_CLICK,s,e),f_e(BY.CORNER_CELL_CLICK,s,e),f_e(BY.DATA_CELL_BRUSH_SELECTION,s,e),f_e(BY.DATA_CELL_CLICK,t=>{const n=e.getCell(t.target),r=e.interaction.isSelectedCell(n);a(r?n:void 0)},e),p.createElement("div",{id:"spreadsheet-drag-copy-point",className:`${NY}-drag-copy-point`,style:{display:t.overflow?"none":"block",left:r.left,top:r.top,width:t.width}},p.createElement(x_e,{onCopyFinished:s}))});w_e.displayName="DragCopyPoint";const C_e=p.memo(e=>p.createElement(p_e,Object.assign({},e,{sheetType:"table"}),p.createElement(b_e,{onDataCellEditStart:e.onDataCellEditStart,onDataCellEditEnd:e.onDataCellEditEnd}),p.createElement(w_e,null)));C_e.displayName="EditableSheet";class S_e extends f2{drawTextShape(){if(this.isMultiData())return CJ(this);super.drawTextShape()}}const E_e={dataCell:{text:{fontSize:12,fontFamily:PZ,fill:"rgba(0, 0, 0, 0.85)",fontWeight:"normal",textBaseline:"middle",textAlign:"left"},minorText:{fontSize:11,fontFamily:PZ,fill:"rgba(0, 0, 0, 0.45)",fontWeight:"normal",textBaseline:"middle",textAlign:"left"},derivedMeasureText:{mainUp:"#F46649",mainDown:"#2AA491",minorUp:"#f9ae9e",minorDown:"#a9dad2"},bolderText:{fontSize:12,fontFamily:PZ,fill:"rgba(0, 0, 0, 1)",fontWeight:cJ()?"bold":520,textBaseline:"middle",textAlign:"left"}}},O_e=p.memo(e=>{const{options:t,themeCfg:n}=e,r=zz(e,["options","themeCfg"]),o=p.useMemo(()=>y5(t,{dataCell:(e,t)=>new S_e(e,t),showDefaultHeaderActionIcon:!1,style:{colCell:{hideValue:!0}}}),[t]),i=p.useMemo(()=>y5(n,{theme:E_e}),[n]);return p.createElement(p_e,Object.assign({options:o,themeCfg:i},r))});O_e.displayName="GridAnalysisSheet";class k_e extends u2{constructor(e,t,n){super(e,t,n)}drawTextShape(){const e=this.getMeta(),t=O2(null==e?void 0:e.value);if(!vY.isArray(t))return super.drawTextShape();const{formattedValue:n}=this.getFormattedFieldValue(),r=n!==(null==e?void 0:e.value)?[[n]]:[t];CJ(this,{values:r},!1)}}class M_e extends f2{drawTextShape(){if(this.isMultiData())return CJ(this);super.drawTextShape()}}class $_e extends R5{getExistValuesByDataItem(e){const t=vY.keys(e).filter(t=>vY.isObject(e[t]));return vY.isEmpty(t)&&t.push(KY),t}processDataCfg(e){const t=super.processDataCfg(e),n=this.processMeta(e.meta,bY(""));return Object.assign(Object.assign({},t),{meta:n,fields:Object.assign(Object.assign({},t.fields),{rows:[...e.fields.rows||[],WY]})})}}const I_e=({cell:e,label:t})=>{const n=e.getMeta();if(n.isLeaf&&0!==n.level)return null;const r=n.spreadsheet.dataSet.getFieldName(n.field),o=vY.isFunction(t)?t(e,r):t,i=null!=o?o:r;return p.createElement("div",{className:S(I6(),I6("col"))},p.createElement("span",{className:I6("name")},i),p.createElement("span",{className:I6("value")},n.value))},N_e=p.memo(e=>{var t,n;const{cell:r,label:o,showOriginalValue:i=!1,renderDerivedValue:a}=e,l=r.getMeta(),{spreadsheet:s}=l,c=null==l?void 0:l.fieldValue,u=s.dataSet.getCustomFieldDescription(r),d=s.dataSet.getCustomRowFieldName(r),f=vY.isFunction(o)?o(r,d):o,h=null!=f?f:d,g=s.facet.getColLeafNodeByIndex(l.colIndex),[,...m]=p.useMemo(()=>{try{return JSON.parse(null==g?void 0:g.value)}catch(e){return[]}},[null==g?void 0:g.value]),{placeholder:v,style:y}=s.options,b=null===(t=null==y?void 0:y.dataCell)||void 0===t?void 0:t.valuesCfg,[x,...w]=vY.first(null==c?void 0:c.values)||[c],[C,...E]=vY.first(vY.get(c,null==b?void 0:b.originalValueField))||[x],O=wJ(l,v),k=(null==b?void 0:b.showOriginalValue)||i;return p.createElement("div",{className:S(I6(),I6("data"))},p.createElement("div",{className:I6("header")},p.createElement("span",{className:"header-label"},h),p.createElement("span",null,null!==(n=x)&&void 0!==n?n:O)),k&&p.createElement("div",{className:I6("original-value")},vY.isNil(C)?O:C),!vY.isEmpty(w)&&p.createElement(p.Fragment,null,p.createElement("div",{className:I6("divider")}),p.createElement("ul",{className:I6("derived-values")},w.map((e,t)=>{var n;const o=yJ(e,x),i=!o&&(e=>vY.isNumber(e)?e>=0:!!e&&!vY.trim(e).startsWith("-"))(e),l=!o&&!i,s=E[t];return p.createElement("li",{className:"derived-value-item",key:t},p.createElement("span",{className:"derived-value-label"},m[t]),p.createElement("span",{className:S("derived-value-group",{"derived-value-trend-up":i,"derived-value-trend-down":l})},!o&&p.createElement("span",{className:"derived-value-trend-icon"}),null!==(n=null==a?void 0:a(e,s,r))&&void 0!==n?n:p.createElement("span",{className:"derived-value-content"},null!=e?e:O)))}))),u&&p.createElement("div",{className:I6("description")},p.createElement("span",{className:I6("description-label")},bY("")),p.createElement("span",{className:I6("description-text")},u)))});N_e.displayName="StrategySheetDataCellTooltip";const T_e=({cell:e,label:t})=>{const{field:n,spreadsheet:r,value:o,extra:i}=e.getMeta(),a=vY.isFunction(t)?t(e,o):t,l=null!=a?a:o,s=r.dataSet.getFieldDescription(n)||(null==i?void 0:i.description);return p.createElement("div",{className:S(I6(),I6("row"))},p.createElement("div",{className:I6("value")},l),s&&p.createElement("div",{className:I6("description")},p.createElement("span",{className:I6("description-label")},bY("")),p.createElement("span",{className:I6("description-text")},s)))},L_e=p.memo(e=>{const{options:t,themeCfg:n,dataCfg:r}=e,o=zz(e,["options","themeCfg","dataCfg"]),i=p.useMemo(()=>{var e;if(vY.isEmpty(r))return null;return{hierarchyType:"tree",dataCell:(e,t)=>new M_e(e,t),colCell:(e,t,n)=>new k_e(e,t,n),dataSet:e=>new $_e(e),showDefaultHeaderActionIcon:!1,style:{colCell:{hideValue:1===vY.size(null===(e=null==r?void 0:r.fields)||void 0===e?void 0:e.values)}},interaction:{autoResetSheetStyle:!0,brushSelection:!1,selectedCellMove:!1,multiSelection:!1,rangeSelection:!1},tooltip:{operation:{hiddenColumns:!0},rowCell:{content:e=>p.createElement(T_e,{cell:e})},colCell:{content:e=>p.createElement(I_e,{cell:e})},dataCell:{content:e=>p.createElement(N_e,{cell:e})}}}},[r]),a=p.useMemo(()=>y5(i,t),[t,i]);return p.createElement(p_e,Object.assign({options:a,themeCfg:n,dataCfg:r},o))});L_e.displayName="StrategySheet";const R_e=p.memo(e=>p.createElement(p_e,Object.assign({},e)));R_e.displayName="TableSheet";const __e=p.memo(e=>p.createElement(p_e,Object.assign({},e)));__e.displayName="PivotChartSheet";const A_e=p.memo(e=>{const{options:t}=e,n=zz(e,["options"]),{dataCfg:r,partDrillDown:o}=n,i=i_e(),[a,l]=p.useState([]),s=(c=({sheetInstance:e,cacheDrillFields:t,disabledFields:n,event:r})=>{var i;const a=Object.assign(Object.assign({},null==o?void 0:o.drillConfig),{setDrillFields:l,drillFields:t,disabledFields:n}),s=null===(i=null==o?void 0:o.render)||void 0===i?void 0:i.call(o,a);if(r&&s){const{enable:t}=T5(e,r);if(!t)return;e.showTooltip({position:{x:r.clientX,y:r.clientY},content:s})}},(u=m.useRef(c)).current=c,u);var c,u;const d=p.useMemo(()=>L6(t,o,e=>s.current(e)),[t,o,s]),f=e=>{null==i||i.clearDrillDownData(e)};p.useEffect(()=>{var e;null==i||i.hideTooltip(),vY.isEmpty(a)?f(null===(e=null==i?void 0:i.store.get("drillDownNode"))||void 0===e?void 0:e.id):(e=>{const{fetchData:t,spreadsheet:n,drillFields:r,drillItemsNum:o=-1}=e;n.store.set("drillItemsNum",o);const i=n.store.get("drillDownNode"),{drillDownDataCache:a,drillDownCurrentCache:l}=N6(n,i);let s=vY.clone(a);l&&(s=vY.filter(a,e=>e.rowId!==i.id)),t&&t(i,r).then(e=>Hz(void 0,void 0,void 0,function*(){const{drillData:t,drillField:r}=e;if(n.dataSet.transformDrillDownData(r,t,i),!vY.isEmpty(t)){const e=i.level+1,o={rowId:i.id,drillLevel:e,drillData:t,drillField:r};s.push(o),n.store.set("drillDownDataCache",s)}n.interaction.reset(),yield n.render(!1)}))})({rows:r.fields.rows,drillFields:a,fetchData:null==o?void 0:o.fetchData,drillItemsNum:null==o?void 0:o.drillItemsNum,spreadsheet:i})},[a]),p.useEffect(()=>{var e;vY.isObject(null==o?void 0:o.clearDrillDown)&&f(null===(e=null==o?void 0:o.clearDrillDown)||void 0===e?void 0:e.rowId)},[null==o?void 0:o.clearDrillDown]);const h=(e=>{const t=p.useRef(e),n=m_e.map(t=>vY.get(e,t));return p.useCallback(n=>{const r=t.current,o=!!m_e.find(t=>!Object.is(vY.get(e,t),vY.get(r,t)));return t.current=e,{reloadData:o||n.reloadData,rebuildDataSet:n.rebuildDataSet}},n)})(o);return p.createElement(p_e,Object.assign({},n,{options:d,onUpdate:h}))});A_e.displayName="PivotSheet";const P_e=p.forwardRef((e,t)=>{const{sheetType:n}=e,[r,o]=p.useState(null),i=p.useMemo(()=>Object.assign(Object.assign({},e),{onMounted:n=>{var r;t&&(t.current=n),o(n),null===(r=e.onMounted)||void 0===r||r.call(e,n)}}),[e,t]),a=p.useMemo(()=>{switch(n){case"table":return p.createElement(R_e,Object.assign({},i));case"chart":return p.createElement(g_e,Object.assign({},i));case"pivotChart":return p.createElement(__e,Object.assign({},i));case"gridAnalysis":return p.createElement(O_e,Object.assign({},i));case"strategy":return p.createElement(L_e,Object.assign({},i));case"editable":return p.createElement(C_e,Object.assign({},i));default:return p.createElement(A_e,Object.assign({},i))}},[n,i]);return p.createElement(o_e.Provider,{value:r},a)}),j_e=p.memo(P_e);j_e.displayName="SheetComponent";export{UT as $,sy as A,Ey as B,EO as C,nk as D,Em as E,B$ as F,XM as G,d_ as H,Ha as I,mM as J,Bk as K,xI as L,MN as M,H$ as N,dA as O,TN as P,Qx as Q,ZO as R,hT as S,xj as T,hB as U,My as V,Oc as W,PS as X,tv as Y,ej as Z,E as _,cd as a,hM as a0,IP as a1,oB as a2,Wa as a3,ov as a4,iN as a5,pN as a6,Ax as a7,Ma as a8,dO as b,YO as c,rP as d,uT as e,xl as f,hv as g,dI as h,kE as i,UA as j,BT as k,n$ as l,RP as m,aP as n,SB as o,Qv as p,lv as q,q_ as r,EN as s,Kx as t,l$ as u,p_ as v,o$ as w,ku as x,VO as y,j_e as z};

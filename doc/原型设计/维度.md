这部分是整个平台的数据治理基石之一，一个清晰、强大的维度管理界面至关重要。

---

### **原型一：维度库管理列表界面**

**场景**：管理员进入【后台管理中心】->【维度库管理】，首先看到的是这个列表页面。

**设计理念**：
*   **信息概览**：清晰地展示已定义维度的核心信息，方便管理员快速查找和管理。
*   **快速操作**：提供常用的“编辑”、“禁用/启用”、“删除”操作入口。
*   **层级展示（可选）**：如果维度存在层级关系，可以用树状表格（Tree Table）来展示，更加直观。

#### **原型 (Plaintext)**

```
+--------------------------------------------------------------------------------------------------+
|  维度库管理                                                                                      |
|--------------------------------------------------------------------------------------------------|
|  [ + 新增维度 ]                                            [ 搜索维度名称或编码... ] [搜索]      |
|--------------------------------------------------------------------------------------------------|
| | 维度编码      | 维度名称    | 关联的维度表           | 状态    | 创建时间           | 操作      |
|==================================================================================================|
| | DIM_PRODUCT   | 产品        | dim_products           | [启用]  | 2025-08-05 10:00   | [编辑][禁用] |
| |  └ DIM_BRAND  |   品牌      | dim_brands             | [启用]  | 2025-08-05 10:05   | [编辑][禁用] |
| | DIM_SUPPLIER  | 供应商      | dim_suppliers          | [启用]  | 2025-08-05 10:10   | [编辑][禁用] |
| | DIM_ORG       | 采购组织    | dim_orgs               | [禁用]  | 2025-08-04 11:00   | [编辑][启用] |
| | DIM_TIME      | 时间        | dim_time               | [启用]  | 2025-08-04 09:00   | [编辑][禁用] |
|--------------------------------------------------------------------------------------------------|
|                                                                    << < 1 2 3 > >>  共 30 条     |
+--------------------------------------------------------------------------------------------------+
```

---

### **原型二：新增/编辑维度界面**

**场景**：管理员在列表页点击“新增维度”或“编辑”后，系统以**全屏页面**或**抽屉（Drawer）**形式呈现此配置界面。

**设计理念**：
*   **引导式定义**：将配置分为“维度基础信息”和“字段角色定义”两大步，引导管理员完成从宏观到微观的定义。
*   **上下文感知**：当管理员关联物理维度表后，系统自动加载其字段，并提供清晰的角色指认选项。
*   **结构化配置**：通过表格和下拉框，让复杂的字段角色定义工作变得简单、规范。

#### **原型 (Plaintext) - 完整版**

```
+--------------------------------------------------------------------------------------------------+
|  新增/编辑维度: 产品                                                                       [ X ]    |
|==================================================================================================|
|                                                                                                  |
|  第一部分：维度基础信息                                                                          |
|  ----------------------------------------------------------------------------------------------  |
|                                                                                                  |
|  * 维度名称: [ 产品                               ]                                             |
|  * 维度编码: [ DIM_PRODUCT                        ]  <-- (新建时需唯一，编辑时只读)               |
|  * 关联维度表: [ dim_products | v ]  <-- (Select，从数据仓库的物理表中选择)                        |
|    (说明：选择后，下方将自动加载此表的字段信息)                                                  |
|  * 上级维度: [ (无) | v ]  <-- (Select，用于构建层级关系，如“城市”的上级是“省份”)              |
|                                                                                                  |
|==================================================================================================|
|                                                                                                  |
|  第二部分：字段角色定义 (为关联表中的每个字段指认其在分析中的身份)                               |
|  ----------------------------------------------------------------------------------------------  |
|                                                                                                  |
| | 物理字段名       | 业务显示名         | 字段角色                      | 备注                  |
| |------------------|--------------------|-------------------------------|-----------------------|
| | product_code     | [产品编码]         | [主键 (Primary Key)    | v]  | * 必须指定一个主键    |
| | product_name     | [产品名称]         | [主显示名 (Display Name) | v]  | * 用于报表默认显示    |
| | category_name    | [产品分类]         | [可分组属性 (Groupable)  | v]  | * 可拖拽到行列头      |
| | brand_name       | [品牌]             | [可分组属性 (Groupable)  | v]  |                       |
| | manufacturer     | [生产企业]         | [描述性属性 (Descriptive)| v]  | * 仅用于展示        |
| | registration_no  | [注册证号]         | [描述性属性 (Descriptive)| v]  |                       |
| | create_date      | [创建日期]         | [(不使用)                | v]  | * 此字段不参与分析    |
|--------------------------------------------------------------------------------------------------|
|                                                                                                  |
|==================================================================================================|
|                                                                                                  |
|                                                                    [ 取消 ] [ 验证 ] [ 保存维度 ]  |
+--------------------------------------------------------------------------------------------------+
```
**组件与交互说明**：
1.  **关联维度表**：这是一个核心的`Select`下拉框。当管理员选择或更改一个表后，下方的“字段角色定义”表格会**自动重新加载**并清空配置，以反映新表的结构。
2.  **字段角色定义表格**：
    *   **物理字段名**：从关联表中自动读取，只读。
    *   **业务显示名**：`Input`文本框，允许管理员为技术字段名起一个用户友好的别名。
    *   **字段角色**：最关键的`Select`下拉框。提供预设的选项，如：
        *   `主键 (Primary Key)`：每个维度定义中必须有且只有一个。
        *   `主显示名 (Display Name)`：建议指定一个，作为在UI中展示此维度的默认名称。
        *   `可分组属性 (Groupable Attribute)`：这些字段将作为“分析维度”出现在模型配置中，可用于聚合。
        *   `描述性属性 (Descriptive Attribute)`：这些字段只用于信息展示。
        *   `(不使用)`：将此字段从分析平台中排除。

---

### **配套的、完整的界面结构JSON数据示例**

这份JSON代表了一个**完整的、已保存的“维度”定义**的数据库实体结构。

```json
{
  "dimensionId": "dim_12345",
  "dimensionCode": "DIM_PRODUCT",
  "dimensionName": "产品",
  "parentDimensionId": null, // 如果有上级维度，这里是其ID

  // -- 对应第一部分 --
  "sourceInfo": {
    "type": "TABLE",
    "tableName": "dim_products" // 关联的物理维度表
  },

  // -- 对应第二部分 --
  "fields": [
    {
      "physicalName": "product_code",
      "businessName": "产品编码",
      "role": "PRIMARY_KEY" // 角色：主键
    },
    {
      "physicalName": "product_name",
      "businessName": "产品名称",
      "role": "DISPLAY_NAME" // 角色：主显示名
    },
    {
      "physicalName": "category_name",
      "businessName": "产品分类",
      "role": "GROUPABLE" // 角色：可分组属性
    },
    {
      "physicalName": "brand_name",
      "businessName": "品牌",
      "role": "GROUPABLE" // 角色：可分组属性
    },
    {
      "physicalName": "manufacturer",
      "businessName": "生产企业",
      "role": "DESCRIPTIVE" // 角色：描述性属性
    },
    {
      "physicalName": "registration_no",
      "businessName": "注册证号",
      "role": "DESCRIPTIVE"
    },
    {
      "physicalName": "create_date",
      "businessName": "创建日期",
      "role": "UNUSED" // 角色：不使用
    }
  ],

  "status": "ACTIVE",
  "creatorId": "admin_01",
  "createdAt": "2025-08-05 10:00:00",
  "updatedAt": "2025-08-05 10:00:00"
}
```